(self.webpackChunkmaptable_frontend=self.webpackChunkmaptable_frontend||[]).push([[130],{55892:(t,e,n)=>{"use strict";var r=n(55611);function i(t){var e=[1/0,1/0,-1/0,-1/0];return r.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}i.default=i,e.Z=i},24052:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!g(t[0])||!g(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var u=0;u<s[s.length-1].length;u++)if(s[s.length-1][u]!==s[0][u])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function u(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function h(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function c(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return l(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return a(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=u,e.multiPoint=l,e.multiPolygon=a,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=h,e.lengthToRadians=c,e.lengthToDegrees=function(t,e){return f(c(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return h(c(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=g,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!g(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},55611:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24052);function i(t,e,n){if(null!==t)for(var r,o,s,u,l,a,h,c,f=0,g=0,p=t.type,d="FeatureCollection"===p,y="Feature"===p,m=d?t.features.length:1,v=0;v<m;v++){l=(c=!!(h=d?t.features[v].geometry:y?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var b=0;b<l;b++){var x=0,w=0;if(null!==(u=c?h.geometries[b]:h)){a=u.coordinates;var E=u.type;switch(f=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===e(a,g,v,x,w))return!1;g++,x++;break;case"LineString":case"MultiPoint":for(r=0;r<a.length;r++){if(!1===e(a[r],g,v,x,w))return!1;g++,"MultiPoint"===E&&x++}"LineString"===E&&x++;break;case"Polygon":case"MultiLineString":for(r=0;r<a.length;r++){for(o=0;o<a[r].length-f;o++){if(!1===e(a[r][o],g,v,x,w))return!1;g++}"MultiLineString"===E&&x++,"Polygon"===E&&w++}"Polygon"===E&&x++;break;case"MultiPolygon":for(r=0;r<a.length;r++){for(w=0,o=0;o<a[r].length;o++){for(s=0;s<a[r][o].length-f;s++){if(!1===e(a[r][o][s],g,v,x,w))return!1;g++}w++}x++}break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(!1===i(u.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function u(t,e){var n,r,i,o,s,u,l,a,h,c,f=0,g="FeatureCollection"===t.type,p="Feature"===t.type,d=g?t.features.length:1;for(n=0;n<d;n++){for(u=g?t.features[n].geometry:p?t.geometry:t,a=g?t.features[n].properties:p?t.properties:{},h=g?t.features[n].bbox:p?t.bbox:void 0,c=g?t.features[n].id:p?t.id:void 0,s=(l=!!u&&"GeometryCollection"===u.type)?u.geometries.length:1,i=0;i<s;i++)if(null!==(o=l?u.geometries[i]:u))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,a,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,a,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,a,h,c))return!1;f++}}function l(t,e){u(t,(function(t,n,i,o,s){var u,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(l){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}for(var a=0;a<t.coordinates.length;a++){var h={type:u,coordinates:t.coordinates[a]};if(!1===e(r.feature(h,i),n,a))return!1}}))}function a(t,e){l(t,(function(t,n,o){var s=0;if(t.geometry){var u=t.geometry.type;if("Point"!==u&&"MultiPoint"!==u){var l,a=0,h=0,c=0;return!1!==i(t,(function(i,u,f,g,p){if(void 0===l||n>a||g>h||p>c)return l=i,a=n,h=g,c=p,void(s=0);var d=r.lineString([l,i],t.properties);if(!1===e(d,n,o,p,s))return!1;s++,l=i}))&&void 0}}}))}function h(t,e){if(!t)throw new Error("geojson is required");l(t,(function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var u=0;u<s.length;u++)if(!1===e(r.lineString(s[u],t.properties),n,i,u))return!1}}}))}e.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,(function(t,r,i,s,u){o=0===r&&void 0===n?t:e(o,t,r,i,s,u)}),r),o},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,u=e.coordIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),l=l||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var a=n.coordinates;switch(n.type){case"Point":return r.point(a,l,e);case"MultiPoint":return o<0&&(o=a.length+o),r.point(a[o],l,e);case"LineString":return u<0&&(u=a.length+u),r.point(a[u],l,e);case"Polygon":return s<0&&(s=a.length+s),u<0&&(u=a[s].length+u),r.point(a[s][u],l,e);case"MultiLineString":return o<0&&(o=a.length+o),u<0&&(u=a[o].length+u),r.point(a[o][u],l,e);case"MultiPolygon":return o<0&&(o=a.length+o),s<0&&(s=a[o].length+s),u<0&&(u=a[o][s].length-u),r.point(a[o][s][u],l,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,u=e.segmentIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),l=l||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":l=l||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var a=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return u<0&&(u=a.length+u-1),r.lineString([a[u],a[u+1]],l,e);case"Polygon":return s<0&&(s=a.length+s),u<0&&(u=a[s].length+u-1),r.lineString([a[s][u],a[s][u+1]],l,e);case"MultiLineString":return o<0&&(o=a.length+o),u<0&&(u=a[o].length+u-1),r.lineString([a[o][u],a[o][u+1]],l,e);case"MultiPolygon":return o<0&&(o=a.length+o),s<0&&(s=a[o].length+s),u<0&&(u=a[o][s].length-u-1),r.lineString([a[o][s][u],a[o][s][u+1]],l,e)}throw new Error("geojson is invalid")},e.flattenEach=l,e.flattenReduce=function(t,e,n){var r=n;return l(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},e.geomEach=u,e.geomReduce=function(t,e,n){var r=n;return u(t,(function(t,i,o,s,u){r=0===i&&void 0===n?t:e(r,t,i,o,s,u)})),r},e.lineEach=h,e.lineReduce=function(t,e,n){var r=n;return h(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},e.propEach=o,e.propReduce=function(t,e,n){var r=n;return o(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.segmentEach=a,e.segmentReduce=function(t,e,n){var r=n,i=!1;return a(t,(function(t,o,s,u,l){r=!1===i&&void 0===n?t:e(r,t,o,s,u,l),i=!0})),r}},37018:(t,e,n)=>{"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{TS:()=>s});var i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(r);i.right,i.left;var o=Array.prototype;o.slice,o.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function s(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}},55794:(t,e,n)=>{"use strict";function r(){return new i}function i(){this.reset()}n.d(e,{Z:()=>r}),i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){s(o,t,this.t),s(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function s(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}},72519:(t,e,n)=>{"use strict";n.d(e,{L9:()=>c,gL:()=>g});var r,i,o,s,u,l=n(55794),a=n(41245),h=n(95187),c=(n(37626),(0,l.Z)()),f=(0,l.Z)(),g={point:h.Z,lineStart:h.Z,lineEnd:h.Z,polygonStart:function(){c.reset(),g.lineStart=p,g.lineEnd=d},polygonEnd:function(){var t=+c;f.add(t<0?a.BZ+t:t),this.lineStart=this.lineEnd=this.point=h.Z},sphere:function(){f.add(a.BZ)}};function p(){g.point=y}function d(){m(r,i)}function y(t,e){g.point=m,r=t,i=e,t*=a.uR,e*=a.uR,o=t,s=(0,a.mC)(e=e/2+a.pu),u=(0,a.O$)(e)}function m(t,e){t*=a.uR,e=(e*=a.uR)/2+a.pu;var n=t-o,r=n>=0?1:-1,i=r*n,l=(0,a.mC)(e),h=(0,a.O$)(e),f=u*h,g=s*l+f*(0,a.mC)(i),p=f*r*(0,a.O$)(i);c.add((0,a.fv)(p,g)),o=t,s=l,u=h}},32966:(t,e,n)=>{"use strict";var r=n(55794);n(72519),n(92217),n(41245),n(37626),(0,r.Z)()},85192:(t,e,n)=>{"use strict";var r,i,o,s,u,l,a,h,c,f=n(41245),g=n(95187),p=(n(37626),{sphere:g.Z,point:d,lineStart:m,lineEnd:x,polygonStart:function(){p.lineStart=w,p.lineEnd=E},polygonEnd:function(){p.lineStart=m,p.lineEnd=x}});function d(t,e){t*=f.uR,e*=f.uR;var n=(0,f.mC)(e);y(n*(0,f.mC)(t),n*(0,f.O$)(t),(0,f.O$)(e))}function y(t,e,n){++r,i+=(t-i)/r,o+=(e-o)/r,s+=(n-s)/r}function m(){p.point=v}function v(t,e){t*=f.uR,e*=f.uR;var n=(0,f.mC)(e);a=n*(0,f.mC)(t),h=n*(0,f.O$)(t),c=(0,f.O$)(e),p.point=b,y(a,h,c)}function b(t,e){t*=f.uR,e*=f.uR;var n=(0,f.mC)(e),r=n*(0,f.mC)(t),i=n*(0,f.O$)(t),o=(0,f.O$)(e),s=(0,f.fv)((0,f._b)((s=h*o-c*i)*s+(s=c*r-a*o)*s+(s=a*i-h*r)*s),a*r+h*i+c*o);s,s*(a+(a=r)),s*(h+(h=i)),s*(c+(c=o)),y(a,h,c)}function x(){p.point=d}function w(){p.point=S}function E(){R(u,l),p.point=d}function S(t,e){u=t,l=e,t*=f.uR,e*=f.uR,p.point=R;var n=(0,f.mC)(e);a=n*(0,f.mC)(t),h=n*(0,f.O$)(t),c=(0,f.O$)(e),y(a,h,c)}function R(t,e){t*=f.uR,e*=f.uR;var n=(0,f.mC)(e),r=n*(0,f.mC)(t),i=n*(0,f.O$)(t),o=(0,f.O$)(e),s=h*o-c*i,u=c*r-a*o,l=a*i-h*r,g=(0,f._b)(s*s+u*u+l*l),p=(0,f.ZR)(g),d=g&&-p/g;d*s,d*u,d*l,p,p*(a+(a=r)),p*(h+(h=i)),p*(c+(c=o)),y(a,h,c)}},82626:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(95187);function i(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:r.Z,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},21190:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(84040);function i(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function o(t,e,n,o,u){var l,a,h=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],s=t[e];if((0,r.Z)(o,s)){for(u.lineStart(),l=0;l<e;++l)u.point((o=t[l])[0],o[1]);u.lineEnd()}else h.push(n=new i(o,t,null,!0)),c.push(n.o=new i(o,null,n,!1)),h.push(n=new i(s,t,null,!1)),c.push(n.o=new i(s,null,n,!0))}})),h.length){for(c.sort(e),s(h),s(c),l=0,a=c.length;l<a;++l)c[l].e=n=!n;for(var f,g,p=h[0];;){for(var d=p,y=!0;d.v;)if((d=d.n)===p)return;f=d.z,u.lineStart();do{if(d.v=d.o.v=!0,d.e){if(y)for(l=0,a=f.length;l<a;++l)u.point((g=f[l])[0],g[1]);else o(d.x,d.n.x,1,u);d=d.n}else{if(y)for(f=d.p.z,l=f.length-1;l>=0;--l)u.point((g=f[l])[0],g[1]);else o(d.x,d.p.x,-1,u);d=d.p}f=(d=d.o).z,y=!y}while(!d.v);u.lineEnd()}}}function s(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}},94125:(t,e,n)=>{"use strict";n(70785),n(68942),n(41245)},68942:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(68102),i=[null,null],o={type:"LineString",coordinates:i};function s(t,e){return i[0]=t,i[1]=e,(0,r.Z)(o)}},9863:(t,e,n)=>{"use strict";n(37018),n(41245)},54587:(t,e,n)=>{"use strict";n(41245)},68102:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r,i,o,s=n(55794),u=n(41245),l=n(95187),a=n(37626),h=(0,s.Z)(),c={sphere:l.Z,point:l.Z,lineStart:function(){c.point=g,c.lineEnd=f},lineEnd:l.Z,polygonStart:l.Z,polygonEnd:l.Z};function f(){c.point=c.lineEnd=l.Z}function g(t,e){t*=u.uR,e*=u.uR,r=t,i=(0,u.O$)(e),o=(0,u.mC)(e),c.point=p}function p(t,e){t*=u.uR,e*=u.uR;var n=(0,u.O$)(e),s=(0,u.mC)(e),l=(0,u.Wn)(t-r),a=(0,u.mC)(l),c=s*(0,u.O$)(l),f=o*n-i*s*a,g=i*n+o*s*a;h.add((0,u.fv)((0,u._b)(c*c+f*f),g)),r=t,i=n,o=s}function d(t){return h.reset(),(0,a.Z)(t,c),+h}},41245:(t,e,n)=>{"use strict";n.d(e,{BZ:()=>u,Ho:()=>r,Kh:()=>b,O$:()=>y,OR:()=>v,Qq:()=>p,RW:()=>l,Wn:()=>h,ZR:()=>x,_b:()=>m,cM:()=>d,fv:()=>f,mC:()=>g,ou:()=>o,pi:()=>i,pu:()=>s,uR:()=>a,z4:()=>c});var r=1e-6,i=Math.PI,o=i/2,s=i/4,u=2*i,l=180/i,a=i/180,h=Math.abs,c=Math.atan,f=Math.atan2,g=Math.cos,p=(Math.ceil,Math.exp),d=(Math.floor,Math.log),y=(Math.pow,Math.sin),m=(Math.sign,Math.sqrt),v=Math.tan;function b(t){return t>1?0:t<-1?i:Math.acos(t)}function x(t){return t>1?o:t<-1?-o:Math.asin(t)}},95187:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},11374:(t,e,n)=>{"use strict";n(37626);var r,i,o,s,u=n(55794),l=n(41245),a=n(95187),h=(0,u.Z)(),c=(0,u.Z)(),f={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){f.lineStart=g,f.lineEnd=y},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=a.Z,h.add((0,l.Wn)(c)),c.reset()},result:function(){var t=h/2;return h.reset(),t}};function g(){f.point=p}function p(t,e){f.point=d,r=o=t,i=s=e}function d(t,e){c.add(s*t-o*e),o=t,s=e}function y(){d(r,i)}n(24664);a.Z;var m,v,b,x,w,E=(0,u.Z)(),S={point:a.Z,lineStart:function(){S.point=R},lineEnd:function(){m&&O(v,b),S.point=a.Z},polygonStart:function(){m=!0},polygonEnd:function(){m=null},result:function(){var t=+E;return E.reset(),t}};function R(t,e){S.point=O,v=x=t,b=w=e}function O(t,e){x-=t,w-=e,E.add((0,l._b)(x*x+w*w)),x=t,w=e}function P(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}P(4.5)},84040:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(41245);function i(t,e){return(0,r.Wn)(t[0]-e[0])<r.Ho&&(0,r.Wn)(t[1]-e[1])<r.Ho}},70785:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(55794),i=n(92217),o=n(41245),s=(0,r.Z)();function u(t,e){var n=e[0],r=e[1],u=[(0,o.O$)(n),-(0,o.mC)(n),0],l=0,a=0;s.reset();for(var h=0,c=t.length;h<c;++h)if(g=(f=t[h]).length)for(var f,g,p=f[g-1],d=p[0],y=p[1]/2+o.pu,m=(0,o.O$)(y),v=(0,o.mC)(y),b=0;b<g;++b,d=w,m=S,v=R,p=x){var x=f[b],w=x[0],E=x[1]/2+o.pu,S=(0,o.O$)(E),R=(0,o.mC)(E),O=w-d,P=O>=0?1:-1,M=P*O,T=M>o.pi,L=m*S;if(s.add((0,o.fv)(L*P*(0,o.O$)(M),v*R+L*(0,o.mC)(M))),l+=T?O+P*o.BZ:O,T^d>=n^w>=n){var C=(0,i.T5)((0,i.Og)(p),(0,i.Og)(x));(0,i.iJ)(C);var _=(0,i.T5)(u,C);(0,i.iJ)(_);var N=(T^O>=0?-1:1)*(0,o.ZR)(_[2]);(r>N||r===N&&(C[0]||C[1]))&&(a+=T^O>=0?1:-1)}}return(l<-o.Ho||l<o.Ho&&s<-o.Ho)^1&a}},60065:(t,e,n)=>{"use strict";n(18080)},54845:(t,e,n)=>{"use strict";n(41245),n(60065),n(18080),n(2131)},65121:(t,e,n)=>{"use strict";n.d(e,{O:()=>o,W:()=>i});var r=n(41245);function i(t){return function(e,n){var i=(0,r.mC)(e),o=(0,r.mC)(n),s=t(i*o);return[s*o*(0,r.O$)(e),s*(0,r.O$)(n)]}}function o(t){return function(e,n){var i=(0,r._b)(e*e+n*n),o=t(i),s=(0,r.O$)(o),u=(0,r.mC)(o);return[(0,r.fv)(e*s,i*u),(0,r.ZR)(i&&n*s/i)]}}},79538:(t,e,n)=>{"use strict";var r=n(41245),i=n(65121),o=(n(97614),(0,i.W)((function(t){return(0,r._b)(2/(1+t))})));o.invert=(0,i.O)((function(t){return 2*(0,r.ZR)(t/2)}))},49416:(t,e,n)=>{"use strict";n(41245),n(97614)},98328:(t,e,n)=>{"use strict";n(41245),n(49416),n(75285)},18080:(t,e,n)=>{"use strict";n(41245),n(49416)},23319:(t,e,n)=>{"use strict";n(41245),n(49416),n(79096)},79096:(t,e,n)=>{"use strict";n(97614);function r(t,e){return[t,e]}r.invert=r},53479:(t,e,n)=>{"use strict";var r=n(41245),i=n(65121);n(97614);function o(t,e){var n=(0,r.mC)(e),i=(0,r.mC)(t)*n;return[n*(0,r.O$)(t)/i,(0,r.O$)(e)/i]}o.invert=(0,i.O)(r.z4)},49217:(t,e,n)=>{"use strict";n(6211),n(56920),n(2131)},75285:(t,e,n)=>{"use strict";var r=n(41245);n(81089),n(97614);function i(t,e){return[t,(0,r.cM)((0,r.OR)((r.ou+e)/2))]}i.invert=function(t,e){return[t,2*(0,r.z4)((0,r.Qq)(e))-r.ou]}},35702:(t,e,n)=>{"use strict";n(97614);var r=n(41245);function i(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}i.invert=function(t,e){var n,i=e,o=25;do{var s=i*i,u=s*s;i-=n=(i*(1.007226+s*(.015085+u*(.028874*s-.044475-.005916*u)))-e)/(1.007226+s*(.045255+u*(.259866*s-.311325-.005916*11*u)))}while((0,r.Wn)(n)>r.Ho&&--o>0);return[t/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]}},7354:(t,e,n)=>{"use strict";var r=n(41245),i=n(65121);n(97614);function o(t,e){return[(0,r.mC)(e)*(0,r.O$)(t),(0,r.O$)(e)]}o.invert=(0,i.O)(r.ZR)},39471:(t,e,n)=>{"use strict";var r=n(41245),i=n(65121);n(97614);function o(t,e){var n=(0,r.mC)(e),i=1+(0,r.mC)(t)*n;return[n*(0,r.O$)(t)/i,(0,r.O$)(e)/i]}o.invert=(0,i.O)((function(t){return 2*(0,r.z4)(t)}))},67680:(t,e,n)=>{"use strict";var r=n(41245);n(75285);function i(t,e){return[(0,r.cM)((0,r.OR)((r.ou+e)/2)),-t]}i.invert=function(t,e){return[-e,2*(0,r.z4)((0,r.Qq)(t))-r.ou]}},37626:(t,e,n)=>{"use strict";function r(t,e){t&&o.hasOwnProperty(t.type)&&o[t.type](t,e)}n.d(e,{Z:()=>l});var i={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},o={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){s(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)s(n[r],e,0)},Polygon:function(t,e){u(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)u(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};function s(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function u(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)s(t[n],e,1);e.polygonEnd()}function l(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):r(t,e)}},56920:(t,e,n)=>{"use strict";function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}n.d(e,{l:()=>r}),i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},6824:(t,e,n)=>{var r=n(96320),i=n(79501);t.exports=function(t){return i(t)&&"[object RegExp]"==r(t)}},11231:(t,e,n)=>{var r=n(51104),i=n(65469),o=n(54940),s=n(75091),u=n(79813);t.exports=function(t,e,n,l){if(!s(t))return t;for(var a=-1,h=(e=i(e,t)).length,c=h-1,f=t;null!=f&&++a<h;){var g=u(e[a]),p=n;if("__proto__"===g||"constructor"===g||"prototype"===g)return t;if(a!=c){var d=f[g];void 0===(p=l?l(d,g,f):void 0)&&(p=s(d)?d:o(e[a+1])?[]:{})}r(f,g,p),f=f[g]}return t}},787:(t,e,n)=>{var r=n(41848),i=n(99290),o=n(54940),s=n(75091);t.exports=function(t,e,n){if(!s(n))return!1;var u=typeof e;return!!("number"==u?i(n)&&o(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},88716:(t,e,n)=>{var r=n(591),i=n(14055),o=n(73171),s=n(78587),u=n(99290),l=n(3970),a=n(24385),h=n(78031),c=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||h(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(a(t))return!r(t).length;for(var n in t)if(c.call(t,n))return!1;return!0}},85942:(t,e,n)=>{var r=n(6824),i=n(86113),o=n(26426),s=o&&o.isRegExp,u=s?i(s):r;t.exports=u},56439:(t,e,n)=>{var r=n(18315),i=n(10977),o=n(86794),s=n(787),u=n(85942),l=n(57820),a=n(38981);t.exports=function(t,e,n){return n&&"number"!=typeof n&&s(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=a(t))&&("string"==typeof e||null!=e&&!u(e))&&!(e=r(e))&&o(t)?i(l(t),0,n):t.split(e,n):[]}},99540:(t,e,n)=>{var r=n(91504),i=n(75091),o=n(84193),s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,a=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||l.test(t)?a(t.slice(2),n?2:8):s.test(t)?NaN:+t}},79129:(t,e,n)=>{"use strict";n.d(e,{Em:()=>o,vU:()=>i});var r=n(94007);function i(t){return t}function o(t){return t}(0,r.e8)("formatDate"),(0,r.e8)("formatTime"),(0,r.e8)("formatNumber"),(0,r.e8)("formatList"),(0,r.e8)("formatDisplayName"),(0,r.Rj)("formatDate"),(0,r.Rj)("formatTime")},82086:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(48024);function i(t){var e=[1/0,1/0,-1/0,-1/0];return(0,r.pZ)(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}i.default=i;const o=i},82505:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(95769),i=n(48024);function o(t,e){var n=!1;return(0,i.nG)(t,(function(t){(0,i.nG)(e,(function(e){if(!0===n)return!0;n=!(0,r.Z)(t.geometry,e.geometry)}))})),n}},90977:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(40517),i=n(81011);function o(t,e,n,o){void 0===o&&(o={});var s=(0,i.c9)(t),u=(0,r.Ht)(s[0]),l=(0,r.Ht)(s[1]),a=(0,r.Ht)(n),h=(0,r.lF)(e,o.units),c=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(a)),f=u+Math.atan2(Math.sin(a)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(c)),g=(0,r.vi)(f),p=(0,r.vi)(c);return(0,r.xm)([g,p],o.properties)}},64505:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(81011),i=n(40517);const o=function(t,e,n){void 0===n&&(n={});var o=(0,r.c9)(t),s=(0,r.c9)(e),u=(0,i.Ht)(s[1]-o[1]),l=(0,i.Ht)(s[0]-o[0]),a=(0,i.Ht)(o[1]),h=(0,i.Ht)(s[1]),c=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(a)*Math.cos(h);return(0,i.DL)(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),n.units)}},27222:(t,e,n)=>{"use strict";const r=t=>()=>t,i=t=>{const e=t?(e,n)=>n.minus(e).abs().isLessThanOrEqualTo(t):r(!1);return(t,n)=>e(t,n)?0:t.comparedTo(n)};function o(t){const e=t?(e,n,r,i,o)=>e.exponentiatedBy(2).isLessThanOrEqualTo(i.minus(n).exponentiatedBy(2).plus(o.minus(r).exponentiatedBy(2)).times(t)):r(!1);return(t,n,r)=>{const i=t.x,o=t.y,s=r.x,u=r.y,l=o.minus(u).times(n.x.minus(s)).minus(i.minus(s).times(n.y.minus(u)));return e(l,i,o,s,u)?0:l.comparedTo(0)}}var s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,u=Math.ceil,l=Math.floor,a="[BigNumber Error] ",h=a+"Number primitive has more than 15 significant digits: ",c=1e14,f=14,g=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,y=1e9;function m(t){var e=0|t;return t>0||t===e?e:e-1}function v(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=f-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var n,r,i=t.c,o=e.c,s=t.s,u=e.s,l=t.e,a=e.e;if(!s||!u)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-u:s;if(s!=u)return s;if(n=s<0,r=l==a,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>a^n?1:-1;for(u=(l=i.length)<(a=o.length)?l:a,s=0;s<u;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return l==a?0:l>a^n?1:-1}function x(t,e,n,r){if(t<e||t>n||t!==l(t))throw Error(a+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function w(t){var e=t.c.length-1;return m(t.e/f)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function S(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var R=function t(e){var n,r,i,o=G.prototype={constructor:G,toString:null,valueOf:null},R=new G(1),O=20,P=4,M=-7,T=21,L=-1e7,C=1e7,_=!1,N=1,k=0,I={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},A="0123456789abcdefghijklmnopqrstuvwxyz",Z=!0;function G(t,e){var n,o,u,a,c,p,d,y,m=this;if(!(m instanceof G))return new G(t,e);if(null==e){if(t&&!0===t._isBigNumber)return m.s=t.s,void(!t.c||t.e>C?m.c=m.e=null:t.e<L?m.c=[m.e=0]:(m.e=t.e,m.c=t.c.slice()));if((p="number"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,c=t;c>=10;c/=10,a++);return void(a>C?m.c=m.e=null:(m.e=a,m.c=[t]))}y=String(t)}else{if(!s.test(y=String(t)))return i(m,y,p);m.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(a=y.indexOf("."))>-1&&(y=y.replace(".","")),(c=y.search(/e/i))>0?(a<0&&(a=c),a+=+y.slice(c+1),y=y.substring(0,c)):a<0&&(a=y.length)}else{if(x(e,2,A.length,"Base"),10==e&&Z)return $(m=new G(t),O+m.e+1,P);if(y=String(t),p="number"==typeof t){if(0*t!=0)return i(m,y,p,e);if(m.s=1/t<0?(y=y.slice(1),-1):1,G.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(h+t)}else m.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(n=A.slice(0,e),a=c=0,d=y.length;c<d;c++)if(n.indexOf(o=y.charAt(c))<0){if("."==o){if(c>a){a=d;continue}}else if(!u&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){u=!0,c=-1,a=0;continue}return i(m,String(t),p,e)}p=!1,(a=(y=r(y,e,10,m.s)).indexOf("."))>-1?y=y.replace(".",""):a=y.length}for(c=0;48===y.charCodeAt(c);c++);for(d=y.length;48===y.charCodeAt(--d););if(y=y.slice(c,++d)){if(d-=c,p&&G.DEBUG&&d>15&&(t>g||t!==l(t)))throw Error(h+m.s*t);if((a=a-c-1)>C)m.c=m.e=null;else if(a<L)m.c=[m.e=0];else{if(m.e=a,m.c=[],c=(a+1)%f,a<0&&(c+=f),c<d){for(c&&m.c.push(+y.slice(0,c)),d-=f;c<d;)m.c.push(+y.slice(c,c+=f));c=f-(y=y.slice(c)).length}else c-=d;for(;c--;y+="0");m.c.push(+y)}}else m.c=[m.e=0]}function B(t,e,n,r){var i,o,s,u,l;if(null==n?n=P:x(n,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)l=v(t.c),l=1==r||2==r&&(s<=M||s>=T)?E(l,s):S(l,s,"0");else if(o=(t=$(new G(t),e,n)).e,u=(l=v(t.c)).length,1==r||2==r&&(e<=o||o<=M)){for(;u<e;l+="0",u++);l=E(l,o)}else if(e-=s,l=S(l,o,"0"),o+1>u){if(--e>0)for(l+=".";e--;l+="0");}else if((e+=o-u)>0)for(o+1==u&&(l+=".");e--;l+="0");return t.s<0&&i?"-"+l:l}function q(t,e){for(var n,r,i=1,o=new G(t[0]);i<t.length;i++)(!(r=new G(t[i])).s||(n=b(o,r))===e||0===n&&o.s===e)&&(o=r);return o}function F(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*f-1)>C?t.c=t.e=null:n<L?t.c=[t.e=0]:(t.e=n,t.c=e),t}function $(t,e,n,r){var i,o,s,a,h,g,d,y=t.c,m=p;if(y){t:{for(i=1,a=y[0];a>=10;a/=10,i++);if((o=e-i)<0)o+=f,s=e,h=y[g=0],d=l(h/m[i-s-1]%10);else if((g=u((o+1)/f))>=y.length){if(!r)break t;for(;y.length<=g;y.push(0));h=d=0,i=1,s=(o%=f)-f+1}else{for(h=a=y[g],i=1;a>=10;a/=10,i++);d=(s=(o%=f)-f+i)<0?0:l(h/m[i-s-1]%10)}if(r=r||e<0||null!=y[g+1]||(s<0?h:h%m[i-s-1]),r=n<4?(d||r)&&(0==n||n==(t.s<0?3:2)):d>5||5==d&&(4==n||r||6==n&&(o>0?s>0?h/m[i-s]:0:y[g-1])%10&1||n==(t.s<0?8:7)),e<1||!y[0])return y.length=0,r?(e-=t.e+1,y[0]=m[(f-e%f)%f],t.e=-e||0):y[0]=t.e=0,t;if(0==o?(y.length=g,a=1,g--):(y.length=g+1,a=m[f-o],y[g]=s>0?l(h/m[i-s]%m[s])*a:0),r)for(;;){if(0==g){for(o=1,s=y[0];s>=10;s/=10,o++);for(s=y[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(t.e++,y[0]==c&&(y[0]=1));break}if(y[g]+=a,y[g]!=c)break;y[g--]=0,a=1}for(o=y.length;0===y[--o];y.pop());}t.e>C?t.c=t.e=null:t.e<L&&(t.c=[t.e=0])}return t}function z(t){var e,n=t.e;return null===n?t.toString():(e=v(t.c),e=n<=M||n>=T?E(e,n):S(e,n,"0"),t.s<0?"-"+e:e)}return G.clone=t,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(x(n=t[e],0,y,e),O=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(x(n=t[e],0,8,e),P=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(x(n[0],-y,0,e),x(n[1],0,y,e),M=n[0],T=n[1]):(x(n,-y,y,e),M=-(T=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)x(n[0],-y,-1,e),x(n[1],1,y,e),L=n[0],C=n[1];else{if(x(n,-y,y,e),!n)throw Error(a+e+" cannot be zero: "+n);L=-(C=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(a+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw _=!n,Error(a+"crypto unavailable");_=n}else _=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(x(n=t[e],0,9,e),N=n),t.hasOwnProperty(e="POW_PRECISION")&&(x(n=t[e],0,y,e),k=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(a+e+" not an object: "+n);I=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+e+" invalid: "+n);Z="0123456789"==n.slice(0,10),A=n}}return{DECIMAL_PLACES:O,ROUNDING_MODE:P,EXPONENTIAL_AT:[M,T],RANGE:[L,C],CRYPTO:_,MODULO_MODE:N,POW_PRECISION:k,FORMAT:I,ALPHABET:A}},G.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!G.DEBUG)return!0;var e,n,r=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-y&&i<=y&&i===l(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%f)<1&&(e+=f),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=c||n!==l(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+t)},G.maximum=G.max=function(){return q(arguments,-1)},G.minimum=G.min=function(){return q(arguments,1)},G.random=function(){var t=9007199254740992,e=Math.random()*t&2097151?function(){return l(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var n,r,i,o,s,h=0,c=[],g=new G(R);if(null==t?t=O:x(t,0,y),o=u(t/f),_)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(o*=2));h<o;)(s=131072*n[h]+(n[h+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[h]=r[0],n[h+1]=r[1]):(c.push(s%1e14),h+=2);h=o/2}else{if(!crypto.randomBytes)throw _=!1,Error(a+"crypto unavailable");for(n=crypto.randomBytes(o*=7);h<o;)(s=281474976710656*(31&n[h])+1099511627776*n[h+1]+4294967296*n[h+2]+16777216*n[h+3]+(n[h+4]<<16)+(n[h+5]<<8)+n[h+6])>=9e15?crypto.randomBytes(7).copy(n,h):(c.push(s%1e14),h+=7);h=o/7}if(!_)for(;h<o;)(s=e())<9e15&&(c[h++]=s%1e14);for(o=c[--h],t%=f,o&&t&&(s=p[f-t],c[h]=l(o/s)*s);0===c[h];c.pop(),h--);if(h<0)c=[i=0];else{for(i=-1;0===c[0];c.splice(0,1),i-=f);for(h=1,s=c[0];s>=10;s/=10,h++);h<f&&(i-=f-h)}return g.e=i,g.c=c,g}}(),G.sum=function(){for(var t=1,e=arguments,n=new G(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,o,s=[0],u=0,l=t.length;u<l;){for(o=s.length;o--;s[o]*=e);for(s[0]+=r.indexOf(t.charAt(u++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,u){var l,a,h,c,f,g,p,d,y=r.indexOf("."),m=O,b=P;for(y>=0&&(c=k,k=0,r=r.replace(".",""),g=(d=new G(i)).pow(r.length-y),k=c,d.c=e(S(v(g.c),g.e,"0"),10,o,t),d.e=d.c.length),h=c=(p=e(r,i,o,u?(l=A,t):(l=t,A))).length;0==p[--c];p.pop());if(!p[0])return l.charAt(0);if(y<0?--h:(g.c=p,g.e=h,g.s=s,p=(g=n(g,d,m,b,o)).c,f=g.r,h=g.e),y=p[a=h+m+1],c=o/2,f=f||a<0||null!=p[a+1],f=b<4?(null!=y||f)&&(0==b||b==(g.s<0?3:2)):y>c||y==c&&(4==b||f||6==b&&1&p[a-1]||b==(g.s<0?8:7)),a<1||!p[0])r=f?S(l.charAt(1),-m,l.charAt(0)):l.charAt(0);else{if(p.length=a,f)for(--o;++p[--a]>o;)p[a]=0,a||(++h,p=[1].concat(p));for(c=p.length;!p[--c];);for(y=0,r="";y<=c;r+=l.charAt(p[y++]));r=S(r,h,l.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,o,s,u=0,l=t.length,a=e%d,h=e/d|0;for(t=t.slice();l--;)u=((i=a*(o=t[l]%d)+(r=h*o+(s=t[l]/d|0)*a)%d*d+u)/n|0)+(r/d|0)+h*s,t[l]=i%n;return u&&(t=[u].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,s,u){var a,h,g,p,d,y,v,b,x,w,E,S,R,O,P,M,T,L=r.s==i.s?1:-1,C=r.c,_=i.c;if(!C||!C[0]||!_||!_[0])return new G(r.s&&i.s&&(C?!_||C[0]!=_[0]:_)?C&&0==C[0]||!_?0*L:L/0:NaN);for(x=(b=new G(L)).c=[],L=o+(h=r.e-i.e)+1,u||(u=c,h=m(r.e/f)-m(i.e/f),L=L/f|0),g=0;_[g]==(C[g]||0);g++);if(_[g]>(C[g]||0)&&h--,L<0)x.push(1),p=!0;else{for(O=C.length,M=_.length,g=0,L+=2,(d=l(u/(_[0]+1)))>1&&(_=t(_,d,u),C=t(C,d,u),M=_.length,O=C.length),R=M,E=(w=C.slice(0,M)).length;E<M;w[E++]=0);T=_.slice(),T=[0].concat(T),P=_[0],_[1]>=u/2&&P++;do{if(d=0,(a=e(_,w,M,E))<0){if(S=w[0],M!=E&&(S=S*u+(w[1]||0)),(d=l(S/P))>1)for(d>=u&&(d=u-1),v=(y=t(_,d,u)).length,E=w.length;1==e(y,w,v,E);)d--,n(y,M<v?T:_,v,u),v=y.length,a=1;else 0==d&&(a=d=1),v=(y=_.slice()).length;if(v<E&&(y=[0].concat(y)),n(w,y,E,u),E=w.length,-1==a)for(;e(_,w,M,E)<1;)d++,n(w,M<E?T:_,E,u),E=w.length}else 0===a&&(d++,w=[0]);x[g++]=d,w[0]?w[E++]=C[R]||0:(w=[C[R]],E=1)}while((R++<O||null!=w[0])&&L--);p=null!=w[0],x[0]||x.splice(0,1)}if(u==c){for(g=1,L=x[0];L>=10;L/=10,g++);$(b,o+(b.e=g+h*f-1)+1,s,p)}else b.e=h,b.r=+p;return b}}(),i=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,u,l){var h,c=u?s:s.replace(i,"");if(r.test(c))o.s=isNaN(c)?null:c<0?-1:1;else{if(!u&&(c=c.replace(t,(function(t,e,n){return h="x"==(n=n.toLowerCase())?16:"b"==n?2:8,l&&l!=h?t:e})),l&&(h=l,c=c.replace(e,"$1").replace(n,"0.$1")),s!=c))return new G(c,h);if(G.DEBUG)throw Error(a+"Not a"+(l?" base "+l:"")+" number: "+s);o.s=null}o.c=o.e=null}}(),o.absoluteValue=o.abs=function(){var t=new G(this);return t.s<0&&(t.s=1),t},o.comparedTo=function(t,e){return b(this,new G(t,e))},o.decimalPlaces=o.dp=function(t,e){var n,r,i,o=this;if(null!=t)return x(t,0,y),null==e?e=P:x(e,0,8),$(new G(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-m(this.e/f))*f,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},o.dividedBy=o.div=function(t,e){return n(this,new G(t,e),O,P)},o.dividedToIntegerBy=o.idiv=function(t,e){return n(this,new G(t,e),0,1)},o.exponentiatedBy=o.pow=function(t,e){var n,r,i,o,s,h,c,g,p=this;if((t=new G(t)).c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+z(t));if(null!=e&&(e=new G(e)),s=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return g=new G(Math.pow(+z(p),s?t.s*(2-w(t)):+z(t))),e?g.mod(e):g;if(h=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new G(NaN);(r=!h&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||s&&p.c[1]>=24e7:p.c[0]<8e13||s&&p.c[0]<=9999975e7)))return o=p.s<0&&w(t)?-0:0,p.e>-1&&(o=1/o),new G(h?1/o:o);k&&(o=u(k/f+2))}for(s?(n=new G(.5),h&&(t.s=1),c=w(t)):c=(i=Math.abs(+z(t)))%2,g=new G(R);;){if(c){if(!(g=g.times(p)).c)break;o?g.c.length>o&&(g.c.length=o):r&&(g=g.mod(e))}if(i){if(0===(i=l(i/2)))break;c=i%2}else if($(t=t.times(n),t.e+1,1),t.e>14)c=w(t);else{if(0===(i=+z(t)))break;c=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):r&&(p=p.mod(e))}return r?g:(h&&(g=R.div(g)),e?g.mod(e):o?$(g,k,P,undefined):g)},o.integerValue=function(t){var e=new G(this);return null==t?t=P:x(t,0,8),$(e,e.e+1,t)},o.isEqualTo=o.eq=function(t,e){return 0===b(this,new G(t,e))},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(t,e){return b(this,new G(t,e))>0},o.isGreaterThanOrEqualTo=o.gte=function(t,e){return 1===(e=b(this,new G(t,e)))||0===e},o.isInteger=function(){return!!this.c&&m(this.e/f)>this.c.length-2},o.isLessThan=o.lt=function(t,e){return b(this,new G(t,e))<0},o.isLessThanOrEqualTo=o.lte=function(t,e){return-1===(e=b(this,new G(t,e)))||0===e},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.minus=function(t,e){var n,r,i,o,s=this,u=s.s;if(e=(t=new G(t,e)).s,!u||!e)return new G(NaN);if(u!=e)return t.s=-e,s.plus(t);var l=s.e/f,a=t.e/f,h=s.c,g=t.c;if(!l||!a){if(!h||!g)return h?(t.s=-e,t):new G(g?s:NaN);if(!h[0]||!g[0])return g[0]?(t.s=-e,t):new G(h[0]?s:3==P?-0:0)}if(l=m(l),a=m(a),h=h.slice(),u=l-a){for((o=u<0)?(u=-u,i=h):(a=l,i=g),i.reverse(),e=u;e--;i.push(0));i.reverse()}else for(r=(o=(u=h.length)<(e=g.length))?u:e,u=e=0;e<r;e++)if(h[e]!=g[e]){o=h[e]<g[e];break}if(o&&(i=h,h=g,g=i,t.s=-t.s),(e=(r=g.length)-(n=h.length))>0)for(;e--;h[n++]=0);for(e=c-1;r>u;){if(h[--r]<g[r]){for(n=r;n&&!h[--n];h[n]=e);--h[n],h[r]+=c}h[r]-=g[r]}for(;0==h[0];h.splice(0,1),--a);return h[0]?F(t,h,a):(t.s=3==P?-1:1,t.c=[t.e=0],t)},o.modulo=o.mod=function(t,e){var r,i,o=this;return t=new G(t,e),!o.c||!t.s||t.c&&!t.c[0]?new G(NaN):!t.c||o.c&&!o.c[0]?new G(o):(9==N?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,N),(t=o.minus(r.times(t))).c[0]||1!=N||(t.s=o.s),t)},o.multipliedBy=o.times=function(t,e){var n,r,i,o,s,u,l,a,h,g,p,y,v,b,x,w=this,E=w.c,S=(t=new G(t,e)).c;if(!E||!S||!E[0]||!S[0])return!w.s||!t.s||E&&!E[0]&&!S||S&&!S[0]&&!E?t.c=t.e=t.s=null:(t.s*=w.s,E&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=m(w.e/f)+m(t.e/f),t.s*=w.s,(l=E.length)<(g=S.length)&&(v=E,E=S,S=v,i=l,l=g,g=i),i=l+g,v=[];i--;v.push(0));for(b=c,x=d,i=g;--i>=0;){for(n=0,p=S[i]%x,y=S[i]/x|0,o=i+(s=l);o>i;)n=((a=p*(a=E[--s]%x)+(u=y*a+(h=E[s]/x|0)*p)%x*x+v[o]+n)/b|0)+(u/x|0)+y*h,v[o--]=a%b;v[o]=n}return n?++r:v.splice(0,1),F(t,v,r)},o.negated=function(){var t=new G(this);return t.s=-t.s||null,t},o.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new G(t,e)).s,!i||!e)return new G(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/f,s=t.e/f,u=r.c,l=t.c;if(!o||!s){if(!u||!l)return new G(i/0);if(!u[0]||!l[0])return l[0]?t:new G(u[0]?r:0*i)}if(o=m(o),s=m(s),u=u.slice(),i=o-s){for(i>0?(s=o,n=l):(i=-i,n=u),n.reverse();i--;n.push(0));n.reverse()}for((i=u.length)-(e=l.length)<0&&(n=l,l=u,u=n,e=i),i=0;e;)i=(u[--e]=u[e]+l[e]+i)/c|0,u[e]=c===u[e]?0:u[e]%c;return i&&(u=[i].concat(u),++s),F(t,u,s)},o.precision=o.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return x(t,1,y),null==e?e=P:x(e,0,8),$(new G(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*f+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},o.shiftedBy=function(t){return x(t,-9007199254740991,g),this.times("1e"+t)},o.squareRoot=o.sqrt=function(){var t,e,r,i,o,s=this,u=s.c,l=s.s,a=s.e,h=O+4,c=new G("0.5");if(1!==l||!u||!u[0])return new G(!l||l<0&&(!u||u[0])?NaN:u?s:1/0);if(0==(l=Math.sqrt(+z(s)))||l==1/0?(((e=v(u)).length+a)%2==0&&(e+="0"),l=Math.sqrt(+e),a=m((a+1)/2)-(a<0||a%2),r=new G(e=l==1/0?"5e"+a:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+a)):r=new G(l+""),r.c[0])for((l=(a=r.e)+h)<3&&(l=0);;)if(o=r,r=c.times(o.plus(n(s,o,h,1))),v(o.c).slice(0,l)===(e=v(r.c)).slice(0,l)){if(r.e<a&&--l,"9999"!=(e=e.slice(l-3,l+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||($(r,r.e+O+2,1),t=!r.times(r).eq(s));break}if(!i&&($(o,o.e+O+2,0),o.times(o).eq(s))){r=o;break}h+=4,l+=4,i=1}return $(r,r.e+O+1,P,t)},o.toExponential=function(t,e){return null!=t&&(x(t,0,y),t++),B(this,t,e,1)},o.toFixed=function(t,e){return null!=t&&(x(t,0,y),t=t+this.e+1),B(this,t,e)},o.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=I;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var o,s=r.split("."),u=+n.groupSize,l=+n.secondaryGroupSize,h=n.groupSeparator||"",c=s[0],f=s[1],g=i.s<0,p=g?c.slice(1):c,d=p.length;if(l&&(o=u,u=l,l=o,d-=o),u>0&&d>0){for(o=d%u||u,c=p.substr(0,o);o<d;o+=u)c+=h+p.substr(o,u);l>0&&(c+=h+p.slice(o)),g&&(c="-"+c)}r=f?c+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):c}return(n.prefix||"")+r+(n.suffix||"")},o.toFraction=function(t){var e,r,i,o,s,u,l,h,c,g,d,y,m=this,b=m.c;if(null!=t&&(!(l=new G(t)).isInteger()&&(l.c||1!==l.s)||l.lt(R)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+z(l));if(!b)return new G(m);for(e=new G(R),c=r=new G(R),i=h=new G(R),y=v(b),s=e.e=y.length-m.e-1,e.c[0]=p[(u=s%f)<0?f+u:u],t=!t||l.comparedTo(e)>0?s>0?e:c:l,u=C,C=1/0,l=new G(y),h.c[0]=0;g=n(l,e,0,1),1!=(o=r.plus(g.times(i))).comparedTo(t);)r=i,i=o,c=h.plus(g.times(o=c)),h=o,e=l.minus(g.times(o=e)),l=o;return o=n(t.minus(r),i,0,1),h=h.plus(o.times(c)),r=r.plus(o.times(i)),h.s=c.s=m.s,d=n(c,i,s*=2,P).minus(m).abs().comparedTo(n(h,r,s,P).minus(m).abs())<1?[c,i]:[h,r],C=u,d},o.toNumber=function(){return+z(this)},o.toPrecision=function(t,e){return null!=t&&x(t,1,y),B(this,t,e,2)},o.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=M||o>=T?E(v(n.c),o):S(v(n.c),o,"0"):10===t&&Z?e=S(v((n=$(new G(n),O+o+1,P)).c),n.e,"0"):(x(t,2,A.length,"Base"),e=r(S(v(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},o.valueOf=o.toJSON=function(){return z(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,null!=e&&G.set(e),G}();const O=R;var P=n(57323);let M,T,L,C,_;class N{constructor(t){P(this,"key",void 0),P(this,"left",null),P(this,"right",null),this.key=t}}class k extends N{constructor(t){super(t)}}class I{constructor(){P(this,"size",0),P(this,"modificationCount",0),P(this,"splayCount",0)}splay(t){const e=this.root;if(null==e)return this.compare(t,t),-1;let n=null,r=null,i=null,o=null,s=e;const u=this.compare;let l;for(;;)if(l=u(s.key,t),l>0){let e=s.left;if(null==e)break;if(l=u(e.key,t),l>0&&(s.left=e.right,e.right=s,s=e,e=s.left,null==e))break;null==n?r=s:n.left=s,n=s,s=e}else{if(!(l<0))break;{let e=s.right;if(null==e)break;if(l=u(e.key,t),l<0&&(s.right=e.left,e.left=s,s=e,e=s.right,null==e))break;null==i?o=s:i.right=s,i=s,s=e}}return null!=i&&(i.right=s.left,s.left=o),null!=n&&(n.left=s.right,s.right=r),this.root!==s&&(this.root=s,this.splayCount++),l}splayMin(t){let e=t,n=e.left;for(;null!=n;){const t=n;e.left=t.right,t.right=e,e=t,n=e.left}return e}splayMax(t){let e=t,n=e.right;for(;null!=n;){const t=n;e.right=t.left,t.left=e,e=t,n=e.right}return e}_delete(t){if(null==this.root)return null;if(0!=this.splay(t))return null;let e=this.root;const n=e,r=e.left;if(this.size--,null==r)this.root=e.right;else{const t=e.right;e=this.splayMax(r),e.right=t,this.root=e}return this.modificationCount++,n}addNewRoot(t,e){this.size++,this.modificationCount++;const n=this.root;null!=n?(e<0?(t.left=n,t.right=n.right,n.right=null):(t.right=n,t.left=n.left,n.left=null),this.root=t):this.root=t}_first(){const t=this.root;return null==t?null:(this.root=this.splayMin(t),this.root)}_last(){const t=this.root;return null==t?null:(this.root=this.splayMax(t),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(t){return this.validKey(t)&&0==this.splay(t)}defaultCompare(){return(t,e)=>t<e?-1:t>e?1:0}wrap(){return{getRoot:()=>this.root,setRoot:t=>{this.root=t},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:t=>{this.splayCount=t},splay:t=>this.splay(t),has:t=>this.has(t)}}}M=Symbol.iterator,T=Symbol.toStringTag;L=Symbol.iterator,C=Symbol.toStringTag;class A extends I{constructor(t,e){super(),P(this,"root",null),P(this,"compare",void 0),P(this,"validKey",void 0),P(this,C,"[object Set]"),this.compare=null!==t&&void 0!==t?t:this.defaultCompare(),this.validKey=null!==e&&void 0!==e?e:t=>null!=t&&void 0!=t}delete(t){return!!this.validKey(t)&&null!=this._delete(t)}deleteAll(t){for(const e of t)this.delete(e)}forEach(t){const e=this[Symbol.iterator]();let n;for(;n=e.next(),!n.done;)t(n.value,n.value,this)}add(t){const e=this.splay(t);return 0!=e&&this.addNewRoot(new k(t),e),this}addAndReturn(t){const e=this.splay(t);return 0!=e&&this.addNewRoot(new k(t),e),this.root.key}addAll(t){for(const e of t)this.add(e)}isEmpty(){return null==this.root}isNotEmpty(){return null!=this.root}single(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(0==this.size)throw"Bad state: No element";return this._first().key}last(){if(0==this.size)throw"Bad state: No element";return this._last().key}lastBefore(t){if(null==t)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(t)<0)return this.root.key;let e=this.root.left;if(null==e)return null;let n=e.right;for(;null!=n;)e=n,n=e.right;return e.key}firstAfter(t){if(null==t)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(t)>0)return this.root.key;let e=this.root.right;if(null==e)return null;let n=e.left;for(;null!=n;)e=n,n=e.left;return e.key}retainAll(t){const e=new A(this.compare,this.validKey),n=this.modificationCount;for(const r of t){if(n!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(r)&&0==this.splay(r)&&e.add(this.root.key)}e.size!=this.size&&(this.root=e.root,this.size=e.size,this.modificationCount++)}lookup(t){if(!this.validKey(t))return null;return 0!=this.splay(t)?null:this.root.key}intersection(t){const e=new A(this.compare,this.validKey);for(const n of this)t.has(n)&&e.add(n);return e}difference(t){const e=new A(this.compare,this.validKey);for(const n of this)t.has(n)||e.add(n);return e}union(t){const e=this.clone();return e.addAll(t),e}clone(){const t=new A(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(t){if(null==t)return null;const e=new k(t.key);return function t(e,n){let r,i;do{if(r=e.left,i=e.right,null!=r){const e=new k(r.key);n.left=e,t(r,e)}if(null!=i){const t=new k(i.key);n.right=t,e=i,n=t}}while(null!=i)}(t,e),e}toSet(){return this.clone()}entries(){return new B(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[L](){return new G(this.wrap())}}_=Symbol.iterator;class Z{constructor(t){P(this,"tree",void 0),P(this,"path",new Array),P(this,"modificationCount",null),P(this,"splayCount",void 0),this.tree=t,this.splayCount=t.getSplayCount()}[_](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const t=this.path[this.path.length-1];return this.getValue(t)}rebuildPath(t){this.path.splice(0,this.path.length),this.tree.splay(t),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(t){for(;null!=t;)this.path.push(t),t=t.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();let t=this.tree.getRoot();for(;null!=t;)this.path.push(t),t=t.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let t=this.path[this.path.length-1],e=t.right;if(null!=e){for(;null!=e;)this.path.push(e),e=e.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===t;)t=this.path.pop();return this.path.length>0}}class G extends Z{getValue(t){return t.key}}class B extends Z{getValue(t){return[t.key,t.key]}}const q=t=>t,F=t=>{if(t){const e=new A(i(t)),n=new A(i(t)),r=(t,e)=>e.addAndReturn(t),o=t=>({x:r(t.x,e),y:r(t.y,n)});return o({x:new O(0),y:new O(0)}),o}return q},$=t=>({set:t=>{z=$(t)},reset:()=>$(t),compare:i(t),snap:F(t),orient:o(t)});let z=$();const j=(t,e)=>t.ll.x.isLessThanOrEqualTo(e.x)&&e.x.isLessThanOrEqualTo(t.ur.x)&&t.ll.y.isLessThanOrEqualTo(e.y)&&e.y.isLessThanOrEqualTo(t.ur.y),D=(t,e)=>{if(e.ur.x.isLessThan(t.ll.x)||t.ur.x.isLessThan(e.ll.x)||e.ur.y.isLessThan(t.ll.y)||t.ur.y.isLessThan(e.ll.y))return null;const n=t.ll.x.isLessThan(e.ll.x)?e.ll.x:t.ll.x,r=t.ur.x.isLessThan(e.ur.x)?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y.isLessThan(e.ll.y)?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y.isLessThan(e.ur.y)?t.ur.y:e.ur.y}}},U=(t,e)=>t.x.times(e.y).minus(t.y.times(e.x)),H=(t,e)=>t.x.times(e.x).plus(t.y.times(e.y)),V=t=>H(t,t).sqrt(),W=(t,e,n)=>{const r={x:e.x.minus(t.x),y:e.y.minus(t.y)},i={x:n.x.minus(t.x),y:n.y.minus(t.y)};return U(i,r).div(V(i)).div(V(r))},K=(t,e,n)=>{const r={x:e.x.minus(t.x),y:e.y.minus(t.y)},i={x:n.x.minus(t.x),y:n.y.minus(t.y)};return H(i,r).div(V(i)).div(V(r))},Y=(t,e,n)=>e.y.isZero()?null:{x:t.x.plus(e.x.div(e.y).times(n.minus(t.y))),y:n},J=(t,e,n)=>e.x.isZero()?null:{x:n,y:t.y.plus(e.y.div(e.x).times(n.minus(t.x)))};class Q{static compare(t,e){const n=Q.comparePoints(t.point,e.point);return 0!==n?n:(t.point!==e.point&&t.link(e),t.isLeft!==e.isLeft?t.isLeft?1:-1:tt.compare(t.segment,e.segment))}static comparePoints(t,e){return t.x.isLessThan(e.x)?-1:t.x.isGreaterThan(e.x)?1:t.y.isLessThan(e.y)?-1:t.y.isGreaterThan(e.y)?1:0}constructor(t,e){P(this,"point",void 0),P(this,"isLeft",void 0),P(this,"segment",void 0),P(this,"otherSE",void 0),P(this,"consumedBy",void 0),void 0===t.events?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=e}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const e=t.point.events;for(let n=0,r=e.length;n<r;n++){const t=e[n];this.point.events.push(t),t.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let e=0;e<t;e++){const n=this.point.events[e];if(void 0===n.segment.consumedBy)for(let r=e+1;r<t;r++){const t=this.point.events[r];void 0===t.consumedBy&&(n.otherSE.point.events===t.otherSE.point.events&&n.segment.consume(t.segment))}}}getAvailableLinkedEvents(){const t=[];for(let e=0,n=this.point.events.length;e<n;e++){const n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}getLeftmostComparator(t){const e=new Map,n=n=>{const r=n.otherSE;e.set(n,{sine:W(this.point,t.point,r.point),cosine:K(this.point,t.point,r.point)})};return(t,r)=>{e.has(t)||n(t),e.has(r)||n(r);const{sine:i,cosine:o}=e.get(t),{sine:s,cosine:u}=e.get(r);return i.isGreaterThanOrEqualTo(0)&&s.isGreaterThanOrEqualTo(0)?o.isLessThan(u)?1:o.isGreaterThan(u)?-1:0:i.isLessThan(0)&&s.isLessThan(0)?o.isLessThan(u)?-1:o.isGreaterThan(u)?1:0:s.isLessThan(i)?-1:s.isGreaterThan(i)?1:0}}}let X=0;class tt{static compare(t,e){const n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o.isLessThan(n))return 1;if(i.isLessThan(r))return-1;const s=t.leftSE.point.y,u=e.leftSE.point.y,l=t.rightSE.point.y,a=e.rightSE.point.y;if(n.isLessThan(r)){if(u.isLessThan(s)&&u.isLessThan(l))return 1;if(u.isGreaterThan(s)&&u.isGreaterThan(l))return-1;const n=t.comparePoint(e.leftSE.point);if(n<0)return 1;if(n>0)return-1;const r=e.comparePoint(t.rightSE.point);return 0!==r?r:-1}if(n.isGreaterThan(r)){if(s.isLessThan(u)&&s.isLessThan(a))return-1;if(s.isGreaterThan(u)&&s.isGreaterThan(a))return 1;const n=e.comparePoint(t.leftSE.point);if(0!==n)return n;const r=t.comparePoint(e.rightSE.point);return r<0?1:r>0?-1:1}if(s.isLessThan(u))return-1;if(s.isGreaterThan(u))return 1;if(i.isLessThan(o)){const n=e.comparePoint(t.rightSE.point);if(0!==n)return n}if(i.isGreaterThan(o)){const n=t.comparePoint(e.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(!i.eq(o)){const t=l.minus(s),e=i.minus(n),h=a.minus(u),c=o.minus(r);if(t.isGreaterThan(e)&&h.isLessThan(c))return 1;if(t.isLessThan(e)&&h.isGreaterThan(c))return-1}return i.isGreaterThan(o)?1:i.isLessThan(o)||l.isLessThan(a)?-1:l.isGreaterThan(a)?1:t.id<e.id?-1:t.id>e.id?1:0}constructor(t,e,n,r){P(this,"id",void 0),P(this,"leftSE",void 0),P(this,"rightSE",void 0),P(this,"rings",void 0),P(this,"windings",void 0),P(this,"ringOut",void 0),P(this,"consumedBy",void 0),P(this,"prev",void 0),P(this,"_prevInResult",void 0),P(this,"_beforeState",void 0),P(this,"_afterState",void 0),P(this,"_isInResult",void 0),this.id=++X,this.leftSE=t,t.segment=this,t.otherSE=e,this.rightSE=e,e.segment=this,e.otherSE=t,this.rings=n,this.windings=r}static fromRing(t,e,n){let r,i,o;const s=Q.comparePoints(t,e);if(s<0)r=t,i=e,o=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));r=e,i=t,o=-1}const u=new Q(r,!0),l=new Q(i,!1);return new tt(u,l,[n],[o])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(e)?t:e},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(e)?t:e}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}comparePoint(t){return z.orient(this.leftSE.point,t,this.rightSE.point)}getIntersection(t){const e=this.bbox(),n=t.bbox(),r=D(e,n);if(null===r)return null;const i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,u=t.rightSE.point,l=j(e,s)&&0===this.comparePoint(s),a=j(n,i)&&0===t.comparePoint(i),h=j(e,u)&&0===this.comparePoint(u),c=j(n,o)&&0===t.comparePoint(o);if(a&&l)return c&&!h?o:!c&&h?u:null;if(a)return h&&i.x.eq(u.x)&&i.y.eq(u.y)?null:i;if(l)return c&&o.x.eq(s.x)&&o.y.eq(s.y)?null:s;if(c&&h)return null;if(c)return o;if(h)return u;const f=((t,e,n,r)=>{if(e.x.isZero())return J(n,r,t.x);if(r.x.isZero())return J(t,e,n.x);if(e.y.isZero())return Y(n,r,t.y);if(r.y.isZero())return Y(t,e,n.y);const i=U(e,r);if(i.isZero())return null;const o={x:n.x.minus(t.x),y:n.y.minus(t.y)},s=U(o,e).div(i),u=U(o,r).div(i),l=t.x.plus(u.times(e.x)),a=n.x.plus(s.times(r.x)),h=t.y.plus(u.times(e.y)),c=n.y.plus(s.times(r.y));return{x:l.plus(a).div(2),y:h.plus(c).div(2)}})(i,this.vector(),s,t.vector());return null===f?null:j(r,f)?z.snap(f):null}split(t){const e=[],n=void 0!==t.events,r=new Q(t,!0),i=new Q(t,!1),o=this.rightSE;this.replaceRightSE(i),e.push(i),e.push(r);const s=new tt(r,o,this.rings.slice(),this.windings.slice());return Q.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),Q.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),i.checkForConsuming()),e}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}consume(t){let e=this,n=t;for(;e.consumedBy;)e=e.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const r=tt.compare(e,n);if(0!==r){if(r>0){const t=e;e=n,n=t}if(e.prev===n){const t=e;e=n,n=t}for(let t=0,r=n.rings.length;t<r;t++){const r=n.rings[t],i=n.windings[t],o=e.rings.indexOf(r);-1===o?(e.rings.push(r),e.windings.push(i)):e.windings[o]+=i}n.rings=null,n.windings=null,n.consumedBy=e,n.leftSE.consumedBy=e.leftSE,n.rightSE.consumedBy=e.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let s=0,u=this.rings.length;s<u;s++){const t=this.rings[s],r=this.windings[s],i=e.indexOf(t);-1===i?(e.push(t),n.push(r)):n[i]+=r}const i=[],o=[];for(let s=0,u=e.length;s<u;s++){if(0===n[s])continue;const t=e[s],r=t.poly;if(-1===o.indexOf(r))if(t.isExterior)i.push(r);else{-1===o.indexOf(r)&&o.push(r);const e=i.indexOf(t.poly);-1!==e&&i.splice(e,1)}}for(let s=0,u=i.length;s<u;s++){const t=i[s].multiPoly;-1===r.indexOf(t)&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(at.type){case"union":{const n=0===t.length,r=0===e.length;this._isInResult=n!==r;break}case"intersection":{let n,r;t.length<e.length?(n=t.length,r=e.length):(n=e.length,r=t.length),this._isInResult=r===at.numMultiPolys&&n<r;break}case"xor":{const n=Math.abs(t.length-e.length);this._isInResult=n%2===1;break}case"difference":{const n=t=>1===t.length&&t[0].isSubject;this._isInResult=n(t)!==n(e);break}}return this._isInResult}}class et{constructor(t,e,n){if(P(this,"poly",void 0),P(this,"isExterior",void 0),P(this,"segments",void 0),P(this,"bbox",void 0),!Array.isArray(t)||0===t.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=n,this.segments=[],"number"!==typeof t[0][0]||"number"!==typeof t[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=z.snap({x:new O(t[0][0]),y:new O(t[0][1])});this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let i=r;for(let o=1,s=t.length;o<s;o++){if("number"!==typeof t[o][0]||"number"!==typeof t[o][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const e=z.snap({x:new O(t[o][0]),y:new O(t[o][1])});e.x.eq(i.x)&&e.y.eq(i.y)||(this.segments.push(tt.fromRing(i,e,this)),e.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=e.x),e.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=e.y),e.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=e.x),e.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=e.y),i=e)}r.x.eq(i.x)&&r.y.eq(i.y)||this.segments.push(tt.fromRing(i,r,this))}getSweepEvents(){const t=[];for(let e=0,n=this.segments.length;e<n;e++){const n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}class nt{constructor(t,e){if(P(this,"multiPoly",void 0),P(this,"exteriorRing",void 0),P(this,"interiorRings",void 0),P(this,"bbox",void 0),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new et(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,r=t.length;n<r;n++){const e=new et(t[n],this,!1);e.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=e.bbox.ur.y),this.interiorRings.push(e)}this.multiPoly=e}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let e=0,n=this.interiorRings.length;e<n;e++){const n=this.interiorRings[e].getSweepEvents();for(let e=0,r=n.length;e<r;e++)t.push(n[e])}return t}}class rt{constructor(t,e){if(P(this,"isSubject",void 0),P(this,"polys",void 0),P(this,"bbox",void 0),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof t[0][0][0]&&(t=[t])}catch(n){}this.polys=[],this.bbox={ll:{x:new O(Number.POSITIVE_INFINITY),y:new O(Number.POSITIVE_INFINITY)},ur:{x:new O(Number.NEGATIVE_INFINITY),y:new O(Number.NEGATIVE_INFINITY)}};for(let r=0,i=t.length;r<i;r++){const e=new nt(t[r],this);e.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=e.bbox.ur.y),this.polys.push(e)}this.isSubject=e}getSweepEvents(){const t=[];for(let e=0,n=this.polys.length;e<n;e++){const n=this.polys[e].getSweepEvents();for(let e=0,r=n.length;e<r;e++)t.push(n[e])}return t}}class it{static factory(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!r.isInResult()||r.ringOut)continue;let i=null,o=r.leftSE,s=r.rightSE;const u=[o],l=o.point,a=[];for(;i=o,o=s,u.push(o),o.point!==l;)for(;;){const t=o.getAvailableLinkedEvents();if(0===t.length){const t=u[0].point,e=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(t.x,",")+" ".concat(t.y,"]. Last matching segment found ends at")+" [".concat(e.x,", ").concat(e.y,"]."))}if(1===t.length){s=t[0].otherSE;break}let n=null;for(let e=0,i=a.length;e<i;e++)if(a[e].point===o.point){n=e;break}if(null!==n){const t=a.splice(n)[0],r=u.splice(t.index);r.unshift(r[0].otherSE),e.push(new it(r.reverse()));continue}a.push({index:u.length,point:o.point});const r=o.getLeftmostComparator(i);s=t.sort(r)[0].otherSE;break}e.push(new it(u))}return e}constructor(t){P(this,"events",void 0),P(this,"poly",void 0),P(this,"_isExteriorRing",void 0),P(this,"_enclosingRing",void 0),this.events=t;for(let e=0,n=t.length;e<n;e++)t[e].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const e=[t];for(let l=1,a=this.events.length-1;l<a;l++){const n=this.events[l].point,r=this.events[l+1].point;0!==z.orient(n,t,r)&&(e.push(n),t=n)}if(1===e.length)return null;const n=e[0],r=e[1];0===z.orient(n,t,r)&&e.shift(),e.push(e[0]);const i=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:e.length-1,s=this.isExteriorRing()?e.length:-1,u=[];for(let l=o;l!=s;l+=i)u.push([e[l].x.toNumber(),e[l].y.toNumber()]);return u}isExteriorRing(){if(void 0===this._isExteriorRing){const t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let o=1,s=this.events.length;o<s;o++){const e=this.events[o];Q.compare(t,e)>0&&(t=e)}let e=t.segment.prevInResult(),n=e?e.prevInResult():null;for(;;){if(!e)return null;if(!n)return e.ringOut;var r,i;if(n.ringOut!==e.ringOut)return(null===(r=n.ringOut)||void 0===r?void 0:r.enclosingRing())!==e.ringOut?e.ringOut:null===(i=e.ringOut)||void 0===i?void 0:i.enclosingRing();e=n.prevInResult(),n=e?e.prevInResult():null}}}class ot{constructor(t){P(this,"exteriorRing",void 0),P(this,"interiorRings",void 0),this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=this.exteriorRing.getGeom();if(null===t)return null;const e=[t];for(let n=0,r=this.interiorRings.length;n<r;n++){const t=this.interiorRings[n].getGeom();null!==t&&e.push(t)}return e}}class st{constructor(t){P(this,"rings",void 0),P(this,"polys",void 0),this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let e=0,n=this.polys.length;e<n;e++){const n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}_composePolys(t){const e=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];if(!i.poly)if(i.isExteriorRing())e.push(new ot(i));else{var n;const t=i.enclosingRing();null!==t&&void 0!==t&&t.poly||e.push(new ot(t)),null===t||void 0===t||null===(n=t.poly)||void 0===n||n.addInterior(i)}}return e}}class ut{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt.compare;P(this,"queue",void 0),P(this,"tree",void 0),P(this,"segments",void 0),this.queue=t,this.tree=new A(e),this.segments=[]}process(t){const e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.delete(t.otherSE):this.tree.delete(e),n;t.isLeft&&this.tree.add(e);let r=e,i=e;do{r=this.tree.lastBefore(r)}while(null!=r&&void 0!=r.consumedBy);do{i=this.tree.firstAfter(i)}while(null!=i&&void 0!=i.consumedBy);if(t.isLeft){let o=null;if(r){const t=r.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(o=t),!r.isAnEndpoint(t))){const e=this._splitSafely(r,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}}let s=null;if(i){const t=i.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(s=t),!i.isAnEndpoint(t))){const e=this._splitSafely(i,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}}if(null!==o||null!==s){let t=null;if(null===o)t=s;else if(null===s)t=o;else{t=Q.comparePoints(o,s)<=0?o:s}this.queue.delete(e.rightSE),n.push(e.rightSE);const r=e.split(t);for(let e=0,i=r.length;e<i;e++)n.push(r[e])}n.length>0?(this.tree.delete(e),n.push(t)):(this.segments.push(e),e.prev=r)}else{if(r&&i){const t=r.getIntersection(i);if(null!==t){if(!r.isAnEndpoint(t)){const e=this._splitSafely(r,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}if(!i.isAnEndpoint(t)){const e=this._splitSafely(i,t);for(let t=0,r=e.length;t<r;t++)n.push(e[t])}}}this.tree.delete(e)}return n}_splitSafely(t,e){this.tree.delete(t);const n=t.rightSE;this.queue.delete(n);const r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.add(t),r}}const lt=new class{constructor(){P(this,"type",void 0),P(this,"numMultiPolys",void 0)}run(t,e,n){lt.type=t;const r=[new rt(e,!0)];for(let l=0,a=n.length;l<a;l++)r.push(new rt(n[l],!1));if(lt.numMultiPolys=r.length,"difference"===lt.type){const t=r[0];let e=1;for(;e<r.length;)null!==D(r[e].bbox,t.bbox)?e++:r.splice(e,1)}if("intersection"===lt.type)for(let l=0,a=r.length;l<a;l++){const t=r[l];for(let e=l+1,n=r.length;e<n;e++)if(null===D(t.bbox,r[e].bbox))return[]}const i=new A(Q.compare);for(let l=0,a=r.length;l<a;l++){const t=r[l].getSweepEvents();for(let e=0,n=t.length;e<n;e++)i.add(t[e])}const o=new ut(i);let s=null;for(0!=i.size&&(s=i.first(),i.delete(s));s;){const t=o.process(s);for(let e=0,n=t.length;e<n;e++){const n=t[e];void 0===n.consumedBy&&i.add(n)}0!=i.size?(s=i.first(),i.delete(s)):s=null}z.reset();const u=it.factory(o.segments);return new st(u).getGeom()}},at=lt;z.set}}]);