(()=>{var e={89420:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{g:()=>I});var o=i(57435),a=i(27371),l=i(88505),r=i(30289),s=i(74720),d=i.n(s),c=i(44459),u=i(30997),p=i(55881),h=i(30423),v=i(68955),g=i(74797),f=i(15328),m=i(11846),y=i(93707),w=i(65886),b=i(87078),C=(i(50155),i(49015),i(94553)),x=e([b]);b=(x.then?(await x)():x)[0],a.ZP.config({prefixCls:g.Z.antdPrefix+"-message",maxCount:3}),l.ZP.config({prefixCls:g.Z.antdPrefix});const I=()=>{const[e,t]=(0,o.useState)(null),[i,n]=(0,o.useState)(null),s=(0,h.I)();return(0,o.useEffect)((()=>{(async()=>{const e=await p.bitable.bridge.getLocale(),i="zh-CN"===e?"zh-CN":"ja-JP"===e?"ja-JP":"en-US";s(y.Nw.setLocale(i)),(0,f.Kd)(i).then((e=>{let{intl:o,antdLocale:a}=e;t(o),n(a),document.documentElement.lang=i}))})()}),[s]),e&&i&&(0,C.jsx)(l.ZP,{prefixCls:g.Z.antdPrefix,button:{autoInsertSpace:!1},locale:i,theme:w.u,children:(0,C.jsx)(v.w,{locale:i,children:(0,C.jsx)(m.z.Provider,{value:m.F,children:(0,C.jsx)(u.zt,{value:e,children:(0,C.jsx)(r.J$,{value:{revalidateOnFocus:!1,onError:e=>{const t=d()(e,"response.data.message",null),i=d()(e,"response.data.params",void 0);t&&a.ZP.error((0,f.wv)({id:t,defaultMessage:[]},i))}},children:(0,C.jsx)(c.UT,{children:(0,C.jsx)(b.Z,{})})})})})})})};n()}catch(I){n(I)}}))},41002:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(57435),o=i(33718),a=i(50239),l=i(59303),r=i(76625),s=i(27756),d=i(68429),c=i(3834),u=i(94553);const p=e=>{let{message:t,warning:i=!1,closable:p=!1,onClose:h,isView:v=!1,isFullScreen:g=!1,button:f}=e;const{width:m}=(0,s.Z)(),y=(0,n.useMemo)((()=>!v||m>330),[v,m]);return(0,u.jsx)("div",{className:(0,o.default)(c.Z.wrapper,c.Z.show),children:(0,u.jsx)("div",{className:c.Z.banner,children:(0,u.jsx)(a.Z,{justify:"center",className:v||g?c.Z.view:c.Z.config,children:(0,u.jsx)(l.Z,{className:(0,o.default)(c.Z.alert,i&&c.Z.warning),message:(0,u.jsxs)(r.Z,{children:[!i&&y&&(0,u.jsx)(d.Z,{type:"info"}),y&&(0,u.jsx)("span",{children:t}),f]}),type:"info",closable:p,onClose:h})})})})}},63040:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Oo});var n=i(57435),o=i(11347),a=i(95620),l=i(68906),r=i(75805),s=i(34362),d=i.n(s),c=i(30768),u=i(8942),p=i.n(u),h=i(27685),v=i(89614),g=i(50239),f=i(17778),m=i(94553);function y(e){let{context:t,children:i,className:n}=e;return(0,m.jsx)(h.eX,{value:t,children:(0,m.jsx)("div",{className:n,children:i})})}y.Form=function(e){let{children:t,initialValues:i,...o}=e;const{isLoading:a}=(0,h.Yg)(),[l,r]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{i&&!a&&r(!0)}),[i,a]),l?(0,m.jsx)(v.Z,{...o,initialValues:i,children:t}):(0,m.jsx)(g.Z,{justify:"center",align:"center",style:{paddingTop:60},children:(0,m.jsx)(f.Z,{spin:!0})})};var w=i(30423),b=i(55349),C=i.n(b),x=i(15972),I=i.n(x),j=i(49623),M=i.n(j),k=i(10276),T=i(74720),E=i.n(T),P=i(97102),O=i.n(P),_=i(5512),S=i.n(_),N=i(88716),L=i.n(N),D=i(56043),R=i(13307),Z=i.n(R),A=i(30289),F=i(87522),z=i(77528),B=i.n(z),V=i(1714);function H(e,t){return null!==e&&void 0!==e&&e.length?t?B()(e,(e=>e.id===t))?t:void 0:null:null!==t&&void 0!==t?t:null}var W=i(17481),U=i(66168),q=i(2496),G=i(69151);function $(e){var t,i,o;let{mapSettingForm:a,layers:s}=e;const u=(0,w.I)(),[p,h]=(0,n.useState)(!1),{currentProjectId:v,defaultRegion:g,drillDown:f}=(0,l.Z)((e=>e.project)),{aggregateBy:m}=g||{},y="feishu"===(0,l.Z)((e=>e.user)).platform?"feishuDashboard":"larkDashboard",{data:b,mutate:x}=(0,A.ZP)(y?["workspace/get",y]:null,(async e=>{let[t,i]=e;return q.Z.getDetail(i)})),j=(0,l.Z)((e=>C()(v)?void 0:c.Hx.selectById(e,v))),T=null===j||void 0===j?void 0:j.mapConfig,P=(0,l.Z)((e=>v?(0,r.M)(e,v):void 0)),_=null===P||void 0===P?void 0:P[0],N=null===s||void 0===s?void 0:s.find((e=>e.id===(null===_||void 0===_?void 0:_.id))),R=(null===_||void 0===_||null===(t=_.mapInfo)||void 0===t?void 0:t.vectorTile)||!1,z=function(e,t){const i=(0,w.v)((t=>e?V.TW.selectById(t,null===e||void 0===e?void 0:e.tableNodeID):void 0)),o=(0,n.useMemo)((()=>null!==e&&void 0!==e&&e.vectorTile?null===t||void 0===t?void 0:t.columns:null===i||void 0===i?void 0:i.columns),[null===e||void 0===e?void 0:e.vectorTile,null===t||void 0===t?void 0:t.columns,i]);return(0,n.useMemo)((()=>e?{...e,labelFieldID:H(o,e.labelFieldID),fillFieldID:H(o,e.fillFieldID),bivariateFillFieldID:H(o,e.bivariateFillFieldID),radiusFieldID:H(o,e.radiusFieldID),outlineFieldID:H(o,e.outlineFieldID),outlineWidthFieldID:H(o,e.outlineWidthFieldID),weightFieldID:H(o,e.weightFieldID),heightFieldID:H(o,e.heightFieldID),timestampFieldID:H(o,e.timestampFieldID),groupByFieldID:H(o,e.groupByFieldID),sortByFieldID:H(o,e.sortByFieldID)}:void 0),[o,e])}(null===_||void 0===_?void 0:_.mapInfo,null===_||void 0===_?void 0:_.vtInfo),B=(0,l.Z)((e=>null!==_&&void 0!==_&&_.id?e.project.previewMapInfos[_.id]:void 0)),{isLoading:$,columns:J,tableNodes:K,tableNode:Y,coordinateOptions:Q,labelOptions:X,textOptions:ee,numberOptions:te,dimensionOptions:ie}=(0,k.iG)({tableNodeId:null!==(i=null===B||void 0===B?void 0:B.tableNodeID)&&void 0!==i?i:null===z||void 0===z?void 0:z.tableNodeID,viewId:null!==(o=null===B||void 0===B?void 0:B.viewID)&&void 0!==o?o:null===z||void 0===z?void 0:z.viewID}),{initialValues:ne,form:oe}=(0,F.cI)(_),ae=null===_||void 0===_?void 0:_.readonly,{formChangeInterceptor:le}=function(e,t,i,o){const a=(0,w.I)(),l=(0,n.useCallback)((n=>{var l;if(n){if(n.tableNodeID&&e.setFieldsValue({viewID:void 0,coordinateFieldID:void 0,latitudeFieldID:void 0,labelFieldID:void 0,fillFieldID:void 0,radiusFieldID:void 0,weightFieldID:void 0,regionDimensionFieldID:void 0,regionIndexStatsFieldID:void 0,specifyByFieldID:void 0,coordinateType:"coord"}),n.coordinateType&&"lng-lat"===n.coordinateType&&e.setFieldsValue({coordinateFieldID:void 0,latitudeFieldID:void 0}),n.layerType){const i=n.layerType,o=E()(t,"radiusConfig.radius");"icon"===i&&e.setFieldsValue({radiusConfig:{radius:2*o}}),"pointLinePolygon"===i&&e.setFieldsValue({radiusConfig:{radius:o/2}})}if(null!==(l=n.regionConfig)&&void 0!==l&&l.regionId){a(c.Nw.setDrillDownState(void 0));const t=E()(n,"regionConfig.regionId"),o=["world/cas","world/wb"].includes(t),l=null===t||void 0===t?void 0:t.split("-")[0];l&&!o&&e.setFieldsValue({regionConfig:{country:l}}),o?(e.setFieldsValue({regionConfig:{level:"admin0",aggregateBy:"admin0"}}),null===i||void 0===i||i.setFieldsValue({showBaseMap:!1})):d()(t,"ADM1")?e.setFieldsValue({regionConfig:{level:"admin2",aggregateBy:"admin2"}}):d()(t,"ADM2")?e.setFieldsValue({regionConfig:{level:"admin3",aggregateBy:"admin3"}}):e.setFieldsValue({regionConfig:{level:"admin1",aggregateBy:"admin1"}})}if(n.regionIndexStatsFieldID)if(n.regionIndexStatsFieldID===D.N)e.setFieldsValue({regionConfig:{indexStatsMethod:"count"}});else if(null!==o&&void 0!==o&&o.find((e=>e.id===n.regionIndexStatsFieldID&&(0,G.S8)(e)))){var r;const t=(null===(r=n.regionConfig)||void 0===r?void 0:r.indexStatsMethod)||e.getFieldValue(["regionConfig","indexStatsMethod"]);"count"!==t&&"nonEmptyCount"!==t&&e.setFieldsValue({regionConfig:{indexStatsMethod:"count"}})}}}),[e,t,a,i,o]);return{formChangeInterceptor:l}}(oe,ne,a,J),re=C()(null===z||void 0===z?void 0:z.latitudeFieldID)?"coord":"lng-lat",se=C()(null===z||void 0===z?void 0:z.destLatitudeFieldID)?"coord":"lng-lat",de=(0,n.useMemo)((()=>!1),[]),ce=(0,n.useCallback)((e=>{var t,i;const n=I()({},oe.getFieldsValue(!0),e),o=(0,F.Kd)(n),a=null===(t=K.find((e=>e.id===(null===o||void 0===o?void 0:o.tableNodeID))))||void 0===t?void 0:t.name,l={..._,name:a,mapInfo:o};var r,s,d;"region"===(null===(i=l.mapInfo)||void 0===i?void 0:i.layerType)&&(!f||m===f.level||null!==e&&void 0!==e&&null!==(r=e.regionConfig)&&void 0!==r&&r.regionId||Object.assign(l.mapInfo.regionConfig,{level:f.level,aggregateBy:f.level,regionId:f.regionId}),null!==e&&void 0!==e&&null!==(s=e.regionConfig)&&void 0!==s&&s.regionId&&null!==(d=l.mapInfo)&&void 0!==d&&d.regionConfig&&Object.assign(l.mapInfo.regionConfig,{regionId:e.regionConfig.regionId,aggregateBy:o.regionConfig.aggregateBy||m,level:o.regionConfig.level}));u((0,U.lZ)(l)),u(c.Nw.updateLayerNodeForProject({projectId:v,layerNode:l}))}),[v,m,u,f,oe,_,K]),ue=(0,n.useMemo)((()=>Z()((e=>{le(e),ce(e),h(!0)}),300)),[le,ce]),pe=(0,n.useCallback)((()=>{null!==_&&void 0!==_&&_.id&&ne&&(oe.setFieldsValue(ne),h(!1)),h(!1)}),[oe,ne,null===_||void 0===_?void 0:_.id]),he=(0,n.useCallback)(((e,t,i)=>{if(ae)return;const n={};M()(e)&&Object.assign(n,e),"string"===typeof e&&Object.assign(n,{[e]:t}),Array.isArray(e)&&2===e.length&&Object.assign(n,{[e[0]]:{[e[1]]:t}}),oe.setFieldsValue(n),null!==i&&void 0!==i&&i.silent||(null!==i&&void 0!==i&&i.delay?setTimeout((()=>{ce()}),i.delay):ce(),h(!0))}),[oe,ae,ce]);!function(e,t,i){const{columns:o,dimensionOptions:a,coordinateOptions:l,numberOptions:r,textOptions:s,viewOptions:d,isLoading:c}=(0,k.iG)({tableNodeId:null===i||void 0===i?void 0:i.tableNodeID,viewId:null===i||void 0===i?void 0:i.viewID});(0,n.useEffect)((()=>{if(c)return;const e=null===i||void 0===i?void 0:i.tableNodeID;!(null===i||void 0===i?void 0:i.viewID)&&d.length>0&&e&&t({viewID:d[0].id})}),[t,null===i||void 0===i?void 0:i.viewID,null===i||void 0===i?void 0:i.tableNodeID,d,c]),(0,n.useEffect)((()=>{"icon"!==(null===i||void 0===i?void 0:i.layerType)&&"pointLinePolygon"!==(null===i||void 0===i?void 0:i.layerType)&&"heatmap"!==(null===i||void 0===i?void 0:i.layerType)||null!==i&&void 0!==i&&i.coordinateFieldID||(L()(l)||"coord"!==e.getFieldValue("coordinateType")?t({coordinateFieldID:void 0},null,{silent:!0}):t({coordinateFieldID:l[0].id},null,{delay:30}))}),[l,t,null===i||void 0===i?void 0:i.coordinateFieldID,null===i||void 0===i?void 0:i.layerType,e]),(0,n.useEffect)((()=>{if(("icon"===(null===i||void 0===i?void 0:i.layerType)||"pointLinePolygon"===(null===i||void 0===i?void 0:i.layerType))&&(null===i||void 0===i||!i.fillFieldID)&&!i.coordinateFieldID){const{number:i,multiLineText:n,singleChoice:a}=O()(o,"type"),l=S()(i)||S()(n)||S()(a),r=(0,W.sz)(l);null!==r&&void 0!==r&&r.fillFieldID&&(e.setFieldsValue({fillConfig:{fillMethod:r.fillConfig.fillMethod,colors:r.fillConfig.colors,reverse:r.fillConfig.reverse,fillOpacity:r.fillConfig.fillOpacity}}),t({fillFieldID:r.fillFieldID},null,{delay:30}))}}),[o,e,t,null===i||void 0===i?void 0:i.coordinateFieldID,null===i||void 0===i?void 0:i.fillFieldID,null===i||void 0===i?void 0:i.layerType]),(0,n.useEffect)((()=>{if(c||"region"!==(null===i||void 0===i?void 0:i.layerType))return;if("region"!==e.getFieldValue(["regionConfig","dimension"]))return;const n=e.getFieldValue(["regionConfig","aggregateBy"]);if(!n)return;const o=e.getFieldValue("regionDimensionFieldID");if("admin0"!==n&&(!o||!a.some((e=>e.id===o)))){var l;const e=null===(l=a.find((e=>["\u7701","\u7701\u4efd","\u5e02","\u57ce\u5e02"].includes(e.name))))||void 0===l?void 0:l.id;e&&t({regionDimensionFieldID:e})}const d=e.getFieldValue("regionIndexStatsFieldID");(d?[...null!==r&&void 0!==r?r:[],...null!==s&&void 0!==s?s:[]].find((e=>e.id===d)):null)||d===D.N||t({regionIndexStatsFieldID:L()(r)?D.N:r[0].id})}),[l,a,s,e,t,null===i||void 0===i?void 0:i.layerType,r,c])}(oe,he,z);const ve=(0,n.useCallback)((async e=>{y&&(await q.Z.updateCustomColors(y,"",e),await x())}),[x,y]),ge=(0,n.useMemo)((()=>{var e;return{projectId:null!==(e=null===j||void 0===j?void 0:j.id)&&void 0!==e?e:NaN,layerNode:_,tableNode:Y,coordinateType:re,destCoordinateType:se,timestampFields:[],dateTimeFields:[],h3Fields:[],dimensionFields:ie,fields:J,coordinateFields:Q,labelFields:X,numberFields:te,textFields:ee,isPublicLayer:!1,isVectorTile:R,isPro:!0,isEnt:!0,isThirdPartyTable:!0,isFeishuDashboard:!0,enableCustomizedIcon:"icon"===(null===z||void 0===z?void 0:z.layerType),showProBadge:!1,isLoading:$,form:oe,customColors:null===b||void 0===b?void 0:b.customColorPalette,layer:N,readonly:null===_||void 0===_?void 0:_.readonly,onUpdateCustomColors:ve,manualUpdate:he}}),[null===j||void 0===j?void 0:j.id,_,Y,re,se,J,Q,X,te,ee,ie,oe,$,null===b||void 0===b?void 0:b.customColorPalette,R,null===z||void 0===z?void 0:z.layerType,N,ve,he]);return{layerNode:_,mapConfig:T,mapInfo:z,form:oe,initialValues:ne,contextValue:ge,changed:p,disabledSave:de,reset:pe,onUpdate:ue}}const J="layerSetting_panel__kvIZM",K="layerSetting_horizontal__IfNDe",Y="layerSetting_regionPanel__1ZdoP",Q="layerSetting_mapSetting__y8eyh",X="layerSetting_regionMetrics__Nxvgp";var ee=i(96271),te=i(74922),ie=i(37160),ne=i(33766);const oe=e=>{const t=(0,F.$k)("tableNodeID"),i=(0,F.$k)("viewID"),o=v.Z.useFormInstance(),{isConfig:a}=(0,te.Z)(),l=(0,n.useCallback)((()=>{o.setFieldsValue({tableNodeID:void 0,viewID:void 0,coordinateFieldID:void 0,labelFieldID:void 0,fillFieldID:void 0,radiusFieldID:void 0,weightFieldID:void 0,regionDimensionFieldID:void 0,regionIndexStatsFieldID:void 0,specifyByFieldID:void 0})}),[o]);(0,n.useEffect)((()=>{t&&a&&(0,ie.oJ)(t).then((e=>{e||l()})),i&&i!==ne.Jd&&a&&(0,ie.ax)(t,i).then((e=>{e||o.setFieldsValue({viewID:void 0})}))}),[t,l,a,i,o,e])};var ae=i(95775),le=i(38256),re=i(83580);i.p,i.p,i.p,i.p,i.p;var se=i(79129);const de=(0,se.vU)({visualization:{id:"visualization.layer",defaultMessage:"Visualization"},setup:{id:"dvr19k",defaultMessage:"Setup"},basedOn:{id:"xfj8/i",defaultMessage:"Based on"},fillColor:{id:"uMhpKe",defaultMessage:"Color"},fillBasedOn:{id:"layer.fill.field",defaultMessage:"Based on"},color:{id:"uMhpKe",defaultMessage:"Color"},steps:{id:"huCHmk",defaultMessage:"Steps"},scale:{id:"qFTxb3",defaultMessage:"Scale"},reverse:{id:"vRTZ4K",defaultMessage:"Reverse"},opacity:{id:"PHutSR",defaultMessage:"Opacity"},bivariate:{id:"hQktKc",defaultMessage:"Bivariate choropleth"},secondField:{id:"BfOw7Z",defaultMessage:"Second field"},stroke:{id:"53IH31",defaultMessage:"Stroke"},strokeBasedOn:{id:"IcWeZE",defaultMessage:"Stroke based on"},strokeSize:{id:"bTfRiC",defaultMessage:"Stroke size"},strokeColor:{id:"opwu2A",defaultMessage:"Stroke color"},strokeAlignment:{id:"WREH9b",defaultMessage:"Stroke alignment options"},strokeWidthBasedOn:{id:"S11QpE",defaultMessage:"Stroke width based on"},strokeThickness:{id:"Oo56zo",defaultMessage:"Stroke thickness"},fillRadius:{id:"layer.fill.radius",defaultMessage:"Radius"},radius:{id:"nDRMt4",defaultMessage:"Radius"},radiusRange:{id:"hSBQ2h",defaultMessage:"Max and min radius"},fixedRadiusInMeters:{id:"dVXTev",defaultMessage:"Fixed radius in meters"},fixedWidthInMeters:{id:"15TJPM",defaultMessage:"Fixed width in meters"},height:{id:"teLZyZ",defaultMessage:"Height"},heightFactor:{id:"cng5zz",defaultMessage:"Height factor"},heightBasedOn:{id:"HdNEOr",defaultMessage:"Height based on"},heightZoom:{id:"So/sR0",defaultMessage:"Height zoom"},heightRange:{id:"LNCesV",defaultMessage:"Height range"},aggregation:{id:"KHyg0t",defaultMessage:"Aggregation method"},label:{id:"753yX5",defaultMessage:"Label"},displayLabelName:{id:"6aBjLn",defaultMessage:"Display label name"},fontColor:{id:"izl8tw",defaultMessage:"Font color"},collision:{id:"PKou80",defaultMessage:"Allow labels to overlap"},fontSize:{id:"kc7szF",defaultMessage:"Font size"},placement:{id:"/wvSvu",defaultMessage:"Placement"},region:{id:"lnaWo/",defaultMessage:"Region"},visibleRange:{id:"LkG/jM",defaultMessage:"Visible Range"},order:{id:"XPruqs",defaultMessage:"Order"},id:{id:"qlcuNQ",defaultMessage:"ID"},waypoints:{id:"+cSeJ2",defaultMessage:"Waypoints"},showEndpoints:{id:"AsMeAW",defaultMessage:"Show endpoints"},orginColor:{id:"+bogI3",defaultMessage:"Origin color"},destColor:{id:"FciIk5",defaultMessage:"Dest. color"},size:{id:"agOXPD",defaultMessage:"Size"},showWaypoints:{id:"+JLFQl",defaultMessage:"Show waypoints"},fillWidth:{id:"layer.fill.width",defaultMessage:"Width"},width:{id:"5IP7AP",defaultMessage:"Width"},data:{id:"XHHR08",defaultMessage:"Data"},dataSource:{id:"7C0xai",defaultMessage:"Data source"},metrics:{id:"HNBpJ4",defaultMessage:"Metrics"},location:{id:"rvirM2",defaultMessage:"Location"},tableView:{id:"ll1wfC",defaultMessage:"Data range"},layerName:{id:"uzyslG",defaultMessage:"Layer name"},layerDesc:{id:"ARCeOs",defaultMessage:"Layer description"},weightOptional:{id:"iN2TmQ",defaultMessage:"Weight (optional)"},fading:{id:"9daE0t",defaultMessage:"Fading"},enableFade:{id:"bitG4n",defaultMessage:"Enable fade"},fadeEffects:{id:"BO0LbS",defaultMessage:"Fade effects"},locationAggregation:{id:"Mo1sKQ",defaultMessage:"Location aggregation"},enableAggregation:{id:"+4uZOc",defaultMessage:"Enable aggregation"},cluster:{id:"RM1/Y9",defaultMessage:"Cluster"},clusterMethod:{id:"x1dLqD",defaultMessage:"Cluster method"},aggregateEffect:{id:"bLG5nf",defaultMessage:"Aggregate effect"},gridSize:{id:"uHLYPl",defaultMessage:"Grid size (km)"},coverage:{id:"jSqwdW",defaultMessage:"Coverage"},h3:{id:"qpSGAO",defaultMessage:"H3"},edgeTransparency:{id:"zf/A7R",defaultMessage:"Edge transparency"},threshold:{id:"zaSNMG",defaultMessage:"Threshold"},weight:{id:"zCb8fX",defaultMessage:"Weight"},odLineType:{id:"4Yrl9Y",defaultMessage:"OD line type"},tripStyle:{id:"AC28o0",defaultMessage:"Trip style"},timestamp:{id:"kF9XUo",defaultMessage:"Timestamp"},tripFadeOut:{id:"NTDJ/Y",defaultMessage:"Trip fade out"},lengthOfFadingOut:{id:"9RHiEC",defaultMessage:"Length of fading out"},iconAutoRotation:{id:"dMTqit",defaultMessage:"Icon auto rotation"},iconSize:{id:"pkMzs1",defaultMessage:"Icon size"},nonNumericTooltip:{id:"2WpykD",defaultMessage:"This value cannot be modified while using non-numeric fields"},singleChoiceColorTooltip:{id:"Q7vGlC",defaultMessage:"The labels will adopt the color assigned to the values in the data table. You can modify these colors directly within the data table."},visibility:{id:"JAkIqb",defaultMessage:"Visibility"},dataObjects:{id:"rSz0Ic",defaultMessage:"Data objects"},iconColorNStyle:{id:"A6RunB",defaultMessage:"Icon color and style"},stringExceedColorTooltip:{id:"+mmZjZ",defaultMessage:"The number of records exceeds the maximum color range."}});var ce=i(17738);var ue=i(95613),pe=i(47587),he=i(37756),ve=i.n(he),ge=i(56912),fe=i(45818);const me=["long","lon","lng","longitude","\u7ecf\u5ea6"],ye=["lat","latitude","\u7eac\u5ea6"];function we(e,t){const i=t.length;if(!i)return-1;for(let n=i-1;n>=0;n--){const o=t[n];if(o===e)return i+n+1;if(e.endsWith(o)||e.startsWith(o))return n+1}return-1}var be=i(89166),Ce=i(15525),xe=i(41012);const Ie="notFoundCoordinateField_notFoundContent__-oSb0",je=e=>{let{tableId:t,lastViewColumnId:i}=e;const n=(0,a.Z)(),o=(0,w.I)(),l=async()=>{const e=n.$t({id:"DHhB8k",defaultMessage:"Coordinate"});t&&i&&await o((0,xe.wy)({id:t,name:e,type:"coordinate",typeOptions:{},prevColumnId:i,autoRename:!0}))};return(0,m.jsx)("div",{className:Ie,children:(0,m.jsx)(ue.Z,{image:ue.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(Ce.Z,{id:"GePXl2",defaultMessage:"No available field. <a>Create a coordinate field now.</a>",values:{a:e=>(0,m.jsx)(be.ZP,{type:"link",onClick:l,children:e})}})})})};var Me=i(17181);const ke="coordinates_tips__jbXhH",Te="coordinates_selector__sKzZ1";function Ee(e){var t;const{showTips:i,coordinateType:o="coord",coordinateTypeFormId:l="coordinateType",coordinateFieldFormId:r="coordinateFieldID",latitudeFieldFormId:s="latitudeFieldID",disableChangeCoordinateType:d,group:c,groupTitle:u}=e,p=(0,a.Z)(),{numberFields:v,coordinateFields:g,textCoordinateFields:f,fields:y,isThirdPartyTable:w,isVectorTile:b,readonly:C,manualUpdate:x}=(0,h.Yg)(),I=(0,F.$k)("tableNodeID"),j=(0,F.$k)(l)||o,M=(0,F.$k)("layerType"),k=(0,F.$k)("layerSubType"),T=(0,n.useMemo)((()=>{const e=[{label:w?p.$t({id:"feishu.field.location",defaultMessage:"Location"}):p.$t({id:"DHhB8k",defaultMessage:"Coordinate"}),value:"coord"},{label:p.$t({id:"lwlYq9",defaultMessage:"Latitude and longitude"}),value:"lng-lat"}];return w&&e.push({label:p.$t({id:"OcwfnK",defaultMessage:"WKT"}),value:"wkt"}),Me.UU.includes(M)||Me.UU.includes(k)?[{label:p.$t({id:"OcwfnK",defaultMessage:"WKT"}),value:"wkt"}]:e}),[w,M,k,p]),E="coord"===j||"wkt"===j?p.$t({id:"HRrq7G",defaultMessage:"Select a field as coordinates"}):p.$t({id:"f2pRcj",defaultMessage:"Please select a field"}),P=(0,n.useCallback)((e=>{if(e===j||!e)return;const t={[l]:e,[r]:null};if("coord"===e){const e=S()(g);t[r]=null===e||void 0===e?void 0:e.id,t[s]=null}else if("wkt"===e){const e=S()(f);t[r]=null===e||void 0===e?void 0:e.id,t[s]=null}else{const e=function(e){const t={lng:"",lat:""};if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!e.some((e=>!e.isHidden&&"coordinate"===e.type))){for(let i=0,n=-1,o=-1,a=-1;i<e.length;i++){const l=e[i];if(!l||l.isHidden||!(0,G.sI)(l))continue;const r=l.id,s=l.name.toLowerCase();n=we(s,me),n>o&&(t.lng=r,o=n),n=we(s,ye),n>a&&(t.lat=r,a=n)}return t.lng&&t.lat?t:null}}(v,!1);e&&(t[s]=e.lat,t[r]=e.lng)}x(t)}),[l,r,s,x,g,f,v,j]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ce.Z,{name:l,label:u||p.$t({id:"MIsH/c",defaultMessage:"Coordinate type"}),hidden:d,tooltip:w?{title:(0,m.jsx)(fe.BQ,{text:(0,se.Em)({id:"TfrXkl",defaultMessage:"Location fields as well as latitude and longitude are acceptable. If you have only address or coordinates fields, <a>refer to the instructions on how to convert them into the acceptable fields.</a>"}),link:"coordinateType"}),icon:(0,m.jsx)(fe.sz,{link:"coordinateType"})}:null,children:(0,m.jsx)(pe.Select,{disabled:w&&b||C,options:T,placeholder:p.$t({id:"p3FPgl",defaultMessage:"Select coordinate type"}),onChange:P})}),(0,m.jsx)(ce.Z,{name:r,label:"coord"===j||"wkt"===j?p.$t({id:"xiCi9K",defaultMessage:"Coordinate field"}):u?"origin"===c?p.$t({id:"SNYApd",defaultMessage:"Origin longitude"}):p.$t({id:"3qe31m",defaultMessage:"Dest. longitude"}):p.$t({id:"HdDKxV",defaultMessage:"Longitude field"}),rules:[{required:!0,message:E}],children:(0,m.jsx)(ge.Z,{className:Te,placeholder:E,disabled:w&&b||C,options:"coord"===j?g:"wkt"===j?f:v,testID:"".concat(r,"-selector"),notFoundContent:w||"coord"!==j&&"wkt"!==j?(0,m.jsx)(ue.Z,{image:ue.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(fe.BQ,{text:(0,se.Em)({id:"ILsUK4",defaultMessage:"No available Location field. Use others coordinate types for alternatives or <a>learn more how to create an available field.</a>"}),link:"coordinateType"})}):(0,m.jsx)(je,{tableId:I,lastViewColumnId:null===(t=ve()(y))||void 0===t?void 0:t.id})})}),(0,m.jsx)(ce.Z,{name:s,label:u?"origin"===c?p.$t({id:"tdeG4q",defaultMessage:"Origin latitude"}):p.$t({id:"OkUjP2",defaultMessage:"Dest. latitude"}):p.$t({id:"29QvE0",defaultMessage:"Latitude field"}),hidden:"coord"===j||"wkt"===j,rules:[{required:"lng-lat"===j,message:E}],children:(0,m.jsx)(ge.Z,{className:Te,placeholder:E,options:v,disabled:w&&b||C,testID:"".concat(s,"-selector"),notFoundContent:(0,m.jsx)(ue.Z,{image:ue.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(fe.BQ,{text:(0,se.Em)({id:"ILsUK4",defaultMessage:"No available Location field. Use others coordinate types for alternatives or <a>learn more how to create an available field.</a>"}),link:"coordinateType"})})})}),i&&(0,m.jsx)("div",{className:ke,children:p.$t({id:"sp6nKR",defaultMessage:"If line, polygon or other elements on a layer, a formula field with the Center function can be created, to convert elements to points."})})]})}function Pe(e){let{name:t,testID:i,label:n,options:o,placeholder:l,...r}=e;const s=(0,a.Z)();return(0,F.mG)(o,t),(0,m.jsx)(ce.Z,{name:t,label:n,...r,children:(0,m.jsx)(ge.Z,{placeholder:null!==l&&void 0!==l?l:s.$t({id:"f2pRcj",defaultMessage:"Please select a field"}),options:o,allowClear:!0,testID:null!==i&&void 0!==i?i:"".concat(t,"-selector"),showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{var i,n;return(null!==(i=null===t||void 0===t||null===(n=t.props)||void 0===n?void 0:n.name)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())}})})}var Oe=i(7639);function _e(e){var t,i,o,a;let{belongsTo:l,column:r}=e;const s=(0,F.$k)([l,"colorScheme"]),d=(0,h.Yg)(),{isThirdPartyTable:c,manualUpdate:u}=d,p=(0,G.BC)(r),v=(0,n.useMemo)((()=>p&&s===Me.nC),[s,p]),g=(0,n.useCallback)((e=>{var t,i;const n=((null===r||void 0===r||null===(t=r.typeOptions)||void 0===t?void 0:t.choices)||(null===r||void 0===r||null===(i=r.typeOptions)||void 0===i||null===(i=i.lookupColumnTypeOptions)||void 0===i?void 0:i.choices)||[]).map((e=>{const t=e.color;if(t)return c?t.bgColor:ee.R$[t]}));u({[l]:{_ordinalColors:n,_step:n.length,colors:n,colorScheme:Me.nC}},null,{silent:e})}),[null===r||void 0===r||null===(t=r.typeOptions)||void 0===t?void 0:t.choices,null===r||void 0===r||null===(i=r.typeOptions)||void 0===i||null===(i=i.lookupColumnTypeOptions)||void 0===i?void 0:i.choices,c,u,l]),f=(0,n.useCallback)(((e,t,i)=>{var n,o;const a=(null===r||void 0===r||null===(n=r.typeOptions)||void 0===n?void 0:n.choices)||(null===r||void 0===r||null===(o=r.typeOptions)||void 0===o||null===(o=o.lookupColumnTypeOptions)||void 0===o?void 0:o.choices)||[];let s,d=a.length>Me._u?Me.fR:a.length<Me.rT?Me.rT:a.length,c=[];if(null!==e&&void 0!==e&&e.includes(","))c=[...e.split(",")],s=e,d=c.length;else if(e&&null!==t&&void 0!==t&&t.length)c=[...t],s=e,d=c.length;else{const e=S()(ee.DE);d=Math.min(d,ee.Ws);const{colorScheme:t,colors:i}=(0,ee.BK)(d,e);c=[...i],s=t}if(a.length>d)for(let l=0;l<a.length-d;l++)c.push(c[l%d]);u({[l]:{_ordinalColors:c,_step:c.length,colors:c,colorScheme:s}},null,{silent:i})}),[l,null===r||void 0===r||null===(o=r.typeOptions)||void 0===o?void 0:o.choices,null===r||void 0===r||null===(a=r.typeOptions)||void 0===a||null===(a=a.lookupColumnTypeOptions)||void 0===a?void 0:a.choices,u]);return{isSingleChoiceColorScheme:v,applySingleChoiceColor:g,applySchemeColor:f}}var Se=i(71105),Ne=i(15905),Le=i(33718),De=i(48828),Re=i(86183),Ze=i(95406),Ae=i.n(Ze),Fe=i(99540),ze=i.n(Fe),Be=i(59267),Ve=i.n(Be),He=i(96650),We=i(74110),Ue=i(53813),qe=i.n(Ue),Ge=i(7070),$e=i.n(Ge),Je=i(18765),Ke=i.n(Je),Ye=i(89063),Qe=i.n(Ye),Xe=i(62618),et=i.n(Xe),tt=i(13334),it=i(49210),nt=i(81422),ot=i(63856),at=i(43498),lt=i(41122);const rt="colorPalette_currentColor__UzTGE",st="colorPalette_customizeColors__E-kSz",dt="colorPalette_customizeColorInput__qDNaq",ct="colorPalette_hasError__IQgPk",ut="colorPalette_table__DyAFQ",pt="colorPalette_item__OXgYX",ht="colorPalette_color__tmIoF",vt="colorPalette_value__ICFNw",gt="colorPalette_embedColorPicker__FQJK7";function ft(e,t,i,n){if(null!==i&&i.length){const e=[];for(let t=0;t<i.length-1;t++)e.push([i[t],i[t+1]]);return e}if(e.length){if(1===(null===t||void 0===t?void 0:t.length))return null;const i="quantize"===n?(0,De.Z)().domain(e).range(t):(0,Re.Z)().domain(e).range(t);return t.map((e=>{const[t,n]=i.invertExtent(e);return[(0,it.SH)(t),(0,it.SH)(n)]}))}return null}const mt=e=>{const{colors:t,projectId:i,tableNodeId:o,layerNodeId:l,domainFieldName:r,fieldName:s,icons:d,quantiles:c,method:u,showIcon:p,enableCustomizedIcon:v,isThirdPartyTable:f,onChange:y,onColorChange:b,onIconChange:x,onUseCustomizeIcon:I}=e,j=(0,lt.$)("viewID"),[M,k]=(0,n.useState)([]),T=(0,lt.y)(),E=(0,lt.$)(s),[P,O]=(0,n.useState)((()=>ft(M,t,"customize"===u?E:null,u))),{mondayFirst:_,timezone:S,isLoading:N}=(0,h.Yg)(),[D,R]=(0,n.useState)({}),Z=(0,n.useMemo)((()=>({tableNodeId:o,viewId:j,mondayFirst:_,timezone:S})),[o,j,_,S]),A=(0,w.v)((e=>(0,at.kq)(e,Z))),F=(0,n.useRef)(t.length),z=(0,lt.$)("coordinateFieldID"),V=(0,a.Z)(),H=(0,lt.$)("layerType"),W="hexagon"===H||"grid"===H,U=(0,w.v)((e=>l?e.layerNode.aggregateLayers.entities[l]:void 0));function q(e,t,i){if(B()(D,(e=>B()(Object.values(e))))||null===P)return;const n=[...P].flat(),o=ze()(e),a=t*P[0].length+i;n[a]=o,0===i&&0!==a&&(n[a-1]=o),1===i&&a!==n.length-1&&(n[a+1]=o),n.sort(((e,t)=>ze()(e)-ze()(t)));const l=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(e.slice(i,i+2));return t}(n);O(l),y(function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(e[i]);return t.push(ve()(e)),et()(t)}(n))}function G(e,t,i){let n=!1;O((n=>{const o=qe()(n);return o&&Ae()(o,"".concat(t,".").concat(i),e),o})),e&&!Ve()(ze()(e))||(n=!0),R((e=>{const o=qe()(e);return Ae()(o,"".concat(t,".").concat(i),n),o}))}function $(e,t){var i,n;if(!P||0!==e&&e!==P.length-1)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Oe.default,{size:"small",value:t[0],className:(0,Le.default)(dt,{[ct]:null===(i=D[e])||void 0===i?void 0:i[0]}),onBlur:t=>q(t.target.value,e,0),onChange:t=>G(t.target.value,e,0),onPressEnter:t=>{t.preventDefault(),q(t.currentTarget.value,e,0)}}),"-",(0,m.jsx)(Oe.default,{size:"small",value:t[1],className:(0,Le.default)(dt,{[ct]:null===(n=D[e])||void 0===n?void 0:n[1]}),onBlur:t=>q(t.target.value,e,1),onChange:t=>G(t.target.value,e,1),onPressEnter:t=>{t.preventDefault(),q(t.currentTarget.value,e,1)}})]});{var o;const i=0===e?1:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:dt,children:0===e?V.$t({id:"hJL4XZ",defaultMessage:"Less than"}):V.$t({id:"EAys4o",defaultMessage:">"})}),(0,m.jsx)(Oe.default,{size:"small",value:t[i],className:(0,Le.default)(dt,{[ct]:null===(o=D[e])||void 0===o?void 0:o[i]}),onBlur:t=>q(t.target.value,e,i),onChange:t=>G(t.target.value,e,i),onPressEnter:t=>{t.preventDefault(),q(t.currentTarget.value,e,i)}})]})}}return(0,He.Z)((()=>{N||("customize"===u?t.length===Qe()(E)-1?O(ft(M,t,E,u)):O(ft(M,t,null,u)):(W&&null!==U&&void 0!==U&&U.colorDomain?O(ft(null===U||void 0===U?void 0:U.colorDomain,t,null,u)):O(ft(M,t,null,u)),F.current=t.length))}),[t,M,N,E,u,null===U||void 0===U?void 0:U.colorDomain,W]),(0,n.useEffect)((()=>{N||k(function(e,t,i,n,o,a){if((null===n||void 0===n?void 0:n.type)===We.e.bigTable){if(o&&o.length>0&&o[0]&&o[0].length===tt.rF){const e=o[0][0],t=o[0][tt.rF-1];return"quantize"!==i&&a&&a>2&&o.length>a-tt.rF?o[a-tt.rF]:[e,t]}return[0,0]}let l=Number.MAX_SAFE_INTEGER,r=0,s=[];return s=$e()(Ke()(null===n||void 0===n?void 0:n.rows,(i=>!L()(i.cells[t])&&!C()(i.cells[e]))),(t=>{const i=parseFloat(t.cells[e]);return l=i<l?i:l,r=i>r?i:r,i})),"quantize"===i?[l,r]:s}(T.getFieldValue(r),z,u,A,c,t.length))}),[T,A,r,c,u,z,t.length,N]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le.xJ,{hidden:!0,name:s,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(Se.Z,{className:ut,children:null===P||void 0===P?void 0:P.map(((e,n)=>(0,m.jsxs)(g.Z,{className:pt,children:[p?(0,m.jsx)(Ne.Z,{span:4,className:ht,children:(0,m.jsx)(g.Z,{justify:"center",style:{height:"100%"},children:(0,m.jsx)(le.$1,{overlayClassName:gt,projectId:i,color:t[n],icon:null===d||void 0===d?void 0:d[n],optionIndex:n,choiceId:n,showIcon:p,enableCustomizedIcon:v,isThirdPartyTable:f,onIconChange:x,onColorChange:b,onUseCustomizeIcon:I})})}):(0,m.jsx)(Ne.Z,{className:ht,children:(0,m.jsx)(nt.Z,{className:rt,color:t[n],onChange:e=>function(e,t){b&&b(e,t)}(e,n)})}),(0,m.jsx)(Ne.Z,{span:18,className:vt,children:"customize"===u?(0,m.jsx)("div",{className:st,children:$(n,e)}):(0,m.jsx)(ot.Z,{text:"".concat((0,it.IG)(e[0])," - ").concat((0,it.IG)(e[1])),reRender:!0})})]},n)))})]})};var yt=i(75202),wt=i(46131),bt=i(33324),Ct=i.n(bt);function xt(e){var t,i;let{belongsTo:o,column:a}=e;const l=(0,h.Yg)(),{layerNode:r,manualUpdate:s,layer:d,isVectorTile:c,form:u}=l,p=(0,n.useMemo)((()=>(0,wt.fi)(a,null===r||void 0===r?void 0:r.vtInfo)),[a,null===r||void 0===r?void 0:r.vtInfo]),v=(0,w.v)((e=>e.project.members)),g=(0,G.NU)(a),f=(0,n.useMemo)((()=>(null===d||void 0===d?void 0:d.features.length)&&(null===d||void 0===d?void 0:d.features.length)>=wt.G2),[null===d||void 0===d?void 0:d.features.length]),m=(0,n.useMemo)((()=>{var e,t;return Ct()(c?p:"fillConfig"===o?null===d||void 0===d||null===(e=d.mapInfo)||void 0===e?void 0:e.fillConfig._uniqDomain:"outlineConfig"===o?null===d||void 0===d||null===(t=d.mapInfo)||void 0===t||null===(t=t.outlineConfig)||void 0===t?void 0:t._uniqDomain:void 0).map((e=>g?function(e,t){if(Array.isArray(e))return e.map((e=>{const i=null===t||void 0===t?void 0:t.find((t=>t.id===e));return(null===i||void 0===i?void 0:i.name)||e})).join(",");const i=null===t||void 0===t?void 0:t.find((t=>t.id===e));return(null===i||void 0===i?void 0:i.name)||e}(e,v):e))}),[p,o,g,c,null===d||void 0===d||null===(t=d.mapInfo)||void 0===t?void 0:t.fillConfig._uniqDomain,null===d||void 0===d||null===(i=d.mapInfo)||void 0===i||null===(i=i.outlineConfig)||void 0===i?void 0:i._uniqDomain,v]),y=(0,n.useCallback)((async e=>{if(!o||!e)return;const t=[...e],i=e.length;if(m.length&&m.length>e.length)for(let n=0;n<m.length-i;n++)t.push(e[n%i]);m.length&&m.length<e.length&&t.splice(m.length),s({[o]:{colors:t,_step:t.length}})}),[o,m,s]),b=(0,n.useCallback)(((e,t)=>{if(!o)return;let i,n=m.length>Me._u?Me.fR:m.length<Me.rT?Me.rT:m.length,a=[];if(null!==e&&void 0!==e&&e.includes(","))a=[...e.split(",")],i=e,n=a.length;else if(e&&null!==t&&void 0!==t&&t.length)a=[...t],i=e,n=a.length;else{const{colorScheme:t,colors:o}=(0,ee.BK)(n,e);a=[...o],i=t}if(m.length>a.length)for(let o=0;o<m.length-n;o++)a.push(a[o%n]);s({[o]:{colors:a,_step:a.length,colorScheme:i}})}),[o,s,m.length]);return(0,n.useEffect)((()=>{if(!o)return;const e=u.getFieldValue([o,"colors"]);null!==m&&void 0!==m&&m.length&&null!==e&&void 0!==e&&e.length&&e.length!==m.length&&y(e)}),[m,u,o,y]),{applayStringColor:y,applySchemeColor:b,exceededMaxLength:f,strings:m}}const It=e=>{const{colors:t,projectId:i,icons:n,column:o,showIcon:a,isThirdPartyTable:l,enableCustomizedIcon:r,belongsTo:s,onColorChange:d,onIconChange:c,onUseCustomizeIcon:u}=e,{strings:p}=xt({belongsTo:s,column:o});return(0,m.jsx)(yt.g,{active:(null===p||void 0===p?void 0:p.length)>Me._u,children:(0,m.jsx)("div",{className:ut,children:null===p||void 0===p?void 0:p.map(((e,o)=>{var s;const p=null!==(s=t[o])&&void 0!==s?s:t[o%t.length];return e?(0,m.jsxs)("div",{className:pt,children:[a?(0,m.jsx)(Ne.Z,{span:4,className:ht,children:(0,m.jsx)(g.Z,{justify:"center",align:"center",style:{height:"100%"},children:(0,m.jsx)(le.$1,{overlayClassName:gt,projectId:i,color:p,icon:null===n||void 0===n?void 0:n[o],optionIndex:o,choiceId:o,showIcon:a,enableCustomizedIcon:r,isThirdPartyTable:l,onIconChange:c,onColorChange:d,onUseCustomizeIcon:u})})}):(0,m.jsx)(Ne.Z,{className:ht,children:(0,m.jsx)(nt.Z,{className:rt,color:p,onChange:e=>null===d||void 0===d?void 0:d(e,o)})}),(0,m.jsx)(Ne.Z,{span:18,className:vt,children:(0,m.jsx)(ot.Z,{text:e,reRender:!0})})]},o):null}))})})},jt=e=>{const{projectId:t,colors:i,icons:n,showIcon:o,choices:a,isThirdPartyTable:l,enableCustomizedIcon:r,showProBadge:s=!0,disableCustomColor:d,disabled:c,onColorChange:u,onIconChange:p,onUseCustomizeIcon:h}=e;return(0,m.jsx)(yt.g,{active:a&&(null===a||void 0===a?void 0:a.length)>Me._u,children:(0,m.jsx)("div",{style:{width:"100%"},className:ut,children:null===a||void 0===a?void 0:a.map(((e,a)=>{var v;const f=null!==(v=i[a])&&void 0!==v?v:i[a%i.length];return(0,m.jsxs)("div",{className:pt,children:[o?(0,m.jsx)(Ne.Z,{span:4,className:ht,children:(0,m.jsx)(g.Z,{justify:"center",align:"center",style:{height:"100%"},children:(0,m.jsx)(le.$1,{projectId:t,color:f,icon:null===n||void 0===n?void 0:n[e.id],optionIndex:a,choiceId:e.id,showIcon:o,isThirdPartyTable:l,enableCustomizedIcon:r,disableCustomColor:d,showProBadge:s,disabled:c,onIconChange:p,onColorChange:u,onUseCustomizeIcon:h})})}):(0,m.jsx)(Ne.Z,{className:ht,children:(0,m.jsx)(nt.Z,{disabled:c,className:rt,color:f,onChange:e=>null===u||void 0===u?void 0:u(e,a)})}),(0,m.jsx)(Ne.Z,{span:20,className:vt,children:(0,m.jsx)(ot.Z,{text:e.name||"",reRender:!0})})]},a)}))})})};function Mt(e){let{field:t,domainFieldName:i,belongsTo:o,onUseCustomizeIcon:a,onIconChange:l}=e;const{projectId:r,layerNode:s,tableNode:d,isThirdPartyTable:c,isPublicLayer:u,quantiles:p,enableCustomizedIcon:v,showProBadge:g,manualUpdate:f}=(0,h.Yg)(),y=(0,G.BC)(t),w=(0,G.S8)(t),b=(0,G.sI)(t),C=(0,G.NU)(t),x=(0,F.$k)("layerType"),I=(0,F.$k)([o,"colors"],[]),{isSingleChoiceColorScheme:j}=_e({belongsTo:o,column:t}),M=(0,F.$k)([o,"fillMethod"]),k=(0,F.$k)([o,"strokeMethod"]),T="outlineConfig"===o?k:M,E=(0,F.$k)(["fillConfig","icons"]),P=(0,F.$k)([o,"_step"]),O="icon"===x,_=(0,n.useMemo)((()=>{var e,i;return(null===t||void 0===t||null===(e=t.typeOptions)||void 0===e?void 0:e.choices)||(null===t||void 0===t||null===(i=t.typeOptions)||void 0===i||null===(i=i.lookupColumnTypeOptions)||void 0===i?void 0:i.choices)||[]}),[t]);function S(e,t){const i=[...I];i[t]=e,f({[o]:{colors:i}})}return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le.xJ,{name:["fillConfig","icons"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{name:["fillConfig","_ordinalDomain"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),y&&(0,m.jsx)(jt,{projectId:r,colors:I,icons:E,step:P,showIcon:O,choices:_,isThirdPartyTable:c,enableCustomizedIcon:v,disableCustomColor:j,disabled:!O&&j,showProBadge:g,onColorChange:u?void 0:S,onIconChange:l,onUseCustomizeIcon:a}),(w||C)&&(null===d||void 0===d?void 0:d.id)&&(0,m.jsx)(It,{belongsTo:o,projectId:r,tableNodeId:d.id,showIcon:O,enableCustomizedIcon:v,colors:I,icons:E,column:t,isThirdPartyTable:c,isUserField:C,onColorChange:S,onIconChange:l,onUseCustomizeIcon:a}),b&&(null===d||void 0===d?void 0:d.id)&&(0,m.jsx)(mt,{projectId:r,method:T,domainFieldName:i,fieldName:[o,"thresholds"],tableNodeId:d.id,layerNodeId:null===s||void 0===s?void 0:s.id,step:P,colors:I,icons:E,quantiles:t?null===p||void 0===p?void 0:p[null===t||void 0===t?void 0:t.id]:void 0,showIcon:O,enableCustomizedIcon:v,isThirdPartyTable:c,onColorChange:S,onChange:function(e){f({[o]:{thresholds:e}})},onIconChange:l,onUseCustomizeIcon:a})]})}var kt=i(74910),Tt=i(10485),Et=i(53029),Pt=i(10560),Ot=i(15288),_t=i.n(Ot),St=i(68429),Nt=i(16128);const Lt="colorRangeSelector_menu__M0eMu",Dt="colorRangeSelector_disabled__XE5xQ",Rt="colorRangeSelector_overlay__1vC4W",Zt="colorRangeSelector_item__xTBt7",At="colorRangeSelector_selected__8lc1j",Ft="colorRangeSelector_block__QC9Pu",zt="colorRangeSelector_iconArraowDown__FGEgZ";function Bt(e,t,i){var n;return i?_t()(e[t],(e=>[...e].reverse())):null!==(n=e[t])&&void 0!==n?n:e[Me.fR]}function Vt(e,t){return Object.keys(e).find((i=>p()(t,e[i])))}function Ht(e,t,i){const n=Bt(ee.FA,e,t),o=Vt(n,i);return o?{[o]:n[o]}:{}}function Wt(e){const{colors:t,height:i=16,colorKey:n}=e;return t&&t.length?(0,m.jsx)(m.Fragment,{children:t.map(((e,o)=>(0,m.jsx)("span",{"data-color-key":n,style:{backgroundColor:e,width:"".concat(100/(t.length||1),"%"),height:i}},"".concat(e,"_").concat(o))))}):null}const Ut=e=>{var t;let{className:i,disabled:o,onChange:a,colors:l,reverse:r,step:s=7,customColorPalette:d,onColorSchemeChange:c,isSmoothColorPalette:u,colorScheme:p}=e;const h=d||(u?ee.BE:ee.FA),v=Ht(s,r,l),g=(0,n.useMemo)((()=>Bt(h,s,r)),[s,r,h]),[f,y]=(0,n.useState)(null!==(t=null!==p&&void 0!==p?p:Vt(I()(g,v),l))&&void 0!==t?t:"Blues"),w=(0,n.useRef)(s),b=(0,n.useRef)(r);return(0,n.useEffect)((()=>{l&&s>(null===l||void 0===l?void 0:l.length)&&(!p||((null===l||void 0===l?void 0:l.length)||0)<3)&&(y("Blues"),null===a||void 0===a||a(g.Blues))}),[l,s,p,a,g,f]),(0,He.Z)((()=>{const e=f;e&&g[e]?y(e):y("")}),[l,g]),(0,n.useEffect)((()=>{w.current!==s&&(null===a||void 0===a||a(g[f]),w.current=s)}),[s,r,l,f,a,g]),(0,n.useEffect)((()=>{b.current!==r&&(Vt(g,l)?null===a||void 0===a||a(g[f],!0):null===a||void 0===a||a([...null!==l&&void 0!==l?l:[]].reverse(),!0),b.current=r)}),[g,l,a,r,f,s]),(0,m.jsx)(Pt.Z,{menu:{className:Rt,items:Object.keys(g).map((e=>({key:e,onClick:()=>function(e){y(e),null===a||void 0===a||a(g[e]),null===c||void 0===c||c(e,g[e])}(e),className:(0,Le.default)(Zt,{[At]:Vt(g,g[e])===f}),label:(0,m.jsx)("div",{className:Ft,children:u?(0,m.jsx)(Nt.Z,{colorKey:e,colors:g[e]}):(0,m.jsx)(Wt,{colors:g[e],height:12},e)})})))},trigger:["click"],disabled:o,getPopupContainer:e=>{var t;return null!==(t=e.parentElement)&&void 0!==t?t:e},children:(0,m.jsxs)("div",{className:(0,Le.default)(Lt,i,{[Dt]:o}),children:[u?(0,m.jsx)(Nt.Z,{colors:l}):(0,m.jsx)(Wt,{colors:l,height:12}),!o&&(0,m.jsx)("div",{className:zt,children:(0,m.jsx)(St.Z,{type:"arrowDown"})})]})})};var qt=i(79246),Gt=i(15610),$t=i(41352),Jt=i(52788),Kt=i(43660),Yt=i(27371),Qt=i(14840),Xt=i(23705);const ei={container:"customColorRangeSelector_container__kShrz",placeholder:"customColorRangeSelector_placeholder__wvJbH",footer:"customColorRangeSelector_footer__x88au",colorItem:"customColorRangeSelector_colorItem__0YpWo",movableIcon:"customColorRangeSelector_movableIcon__M7EH2",removeIcon:"customColorRangeSelector_removeIcon__cxQ6r",colorPicker:"customColorRangeSelector_colorPicker__jsn+s",colorMenu:"customColorRangeSelector_colorMenu__1zBa7",item:"customColorRangeSelector_item__XVytR",selected:"customColorRangeSelector_selected__mwnx0",editIcon:"customColorRangeSelector_editIcon__vT0bJ"},ti=3,ii=11;function ni(e){var t;const{palette:i,onUpdate:o,onSelect:l}=e,r=(0,a.Z)(),[s,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),h=(0,n.useMemo)((()=>null===i||void 0===i?void 0:i.findIndex((t=>p()(t,e.colors)))),[i,e.colors]),[v,f]=(0,n.useState)([]),y=(0,Gt.Dy)((0,Gt.VT)(Gt.we,{activationConstraint:{distance:5}}));function w(){f([...v,{id:v.length.toString(),color:"#000000"}])}function b(e,t){const i=[...v],n=i.findIndex((e=>e.id===t));i[n].color=e,f(i)}function C(e){const t=v.filter((t=>t.id!==e));f(t)}return(0,m.jsxs)("div",{className:ei.container,children:[!(null!==i&&void 0!==i&&i.length)&&(0,m.jsx)("div",{className:ei.placeholder,children:r.$t({id:"UI5PmG",defaultMessage:"No custom color available. Click to add custom color."})}),(0,m.jsx)(kt.Z,{className:ei.colorMenu,items:null===(t=e.palette)||void 0===t?void 0:t.map(((e,t)=>({key:t,onClick:()=>function(e,t){null===l||void 0===l||l(e)}(e),className:(0,Le.default)(ei.item,{[ei.selected]:t===h}),label:(0,m.jsxs)(g.Z,{children:[(0,m.jsx)(St.Z,{cursor:"pointer",type:"edit",className:ei.editIcon,onClick:e=>{null===e||void 0===e||e.stopPropagation(),function(e){u(e),d(!0),f((null===i||void 0===i?void 0:i[e].map(((e,t)=>({id:t.toString(),color:e}))))||[])}(t)}}),(0,m.jsx)(Wt,{colors:e,height:12},t),(0,m.jsx)(St.Z,{cursor:"pointer",type:"remove",className:ei.removeIcon,onClick:e=>{null===e||void 0===e||e.stopPropagation(),function(e){if(h!==e){if(i){const t=[...i];t.splice(e,1),o(t)}}else Yt.ZP.info(r.$t({id:"NzY3zt",defaultMessage:"Please select another color palette before removing this one"}))}(t)}})]})})))}),s?(0,m.jsxs)("div",{children:[(0,m.jsx)(Qt.Z,{style:{margin:12}}),(0,m.jsx)(Gt.LB,{sensors:y,collisionDetection:Gt.pE,onDragEnd:function(e){const{active:t,over:i}=e;if(i&&t.id!==i.id){const e=v.findIndex((e=>e.id===t.id)),n=v.findIndex((e=>e.id===i.id)),o=(0,Xt.Rp)(v,e,n);f(o)}},modifiers:[$t.DL],children:(0,m.jsx)(Jt.Fo,{items:v,strategy:Jt.qw,children:v.map((e=>(0,m.jsx)(oi,{color:e.color,id:e.id,onChange:b,onDelete:C},e.id)))})}),(0,m.jsx)(g.Z,{justify:"end",children:(0,m.jsx)(be.ZP,{type:"link",icon:(0,m.jsx)(qt.Z,{}),onClick:w,disabled:v.length>=ii,children:r.$t({id:"4U2xAX",defaultMessage:"Add color"})})})]}):(0,m.jsx)(g.Z,{justify:"end",children:(0,m.jsx)(be.ZP,{type:"link",icon:(0,m.jsx)(qt.Z,{}),onClick:function(){d(!0),w()},children:r.$t({id:"zjrIeW",defaultMessage:"Add custom color"})})}),(0,m.jsx)(g.Z,{justify:"flex-end",gap:"small",className:ei.footer,children:s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(be.ZP,{size:"small",type:"text",onClick:function(){f([]),d(!1),u(null)},children:r.$t({id:"47FYwb",defaultMessage:"Cancel"})}),(0,m.jsx)(be.ZP,{size:"small",type:"primary",onClick:function(){if(i&&Array.isArray(i))if(null!==c){const e=[...i];e[c]=v.map((e=>e.color)),o(e)}else o([...i,v.map((e=>e.color))]);else o([v.map((e=>e.color))]);c===h&&(null===l||void 0===l||l(v.map((e=>e.color)))),f([]),d(!1),u(null)},disabled:v.length<ti,children:r.$t({id:"jvo0vs",defaultMessage:"Save"})})]})})]})}function oi(e){let{color:t,id:i,onChange:n,onDelete:o}=e;const{attributes:a,listeners:l,setNodeRef:r,transform:s,transition:d,setActivatorNodeRef:c,isDragging:u}=(0,Jt.nB)({id:i}),p={transform:Kt.ux.Transform.toString(s&&{...s,scaleY:1,scaleX:1}),transition:d,zIndex:u?1:void 0};return(0,m.jsxs)(g.Z,{ref:r,style:p,align:"center",className:ei.colorItem,children:[(0,m.jsx)("button",{...a,...l,ref:c,className:ei.movableIcon,children:(0,m.jsx)(St.Z,{type:"movable",cursor:"grab"})}),(0,m.jsx)(nt.Z,{color:t,onChange:e=>{n(e,i)},className:ei.colorPicker}),t,(0,m.jsx)(St.Z,{type:"remove",onClick:()=>{o(i)},cursor:"pointer",className:ei.removeIcon})]},i)}const ai={colorBar:"colorBand_colorBar__wpCg+",disabled:"colorBand_disabled__uP9KM",colorRangePanel:"colorBand_colorRangePanel__8KD3w",inside:"colorBand_inside__RTwUe",colorRangeTabs:"colorBand_colorRangeTabs__sh75S",presetColorMenu:"colorBand_presetColorMenu__zEakT",item:"colorBand_item__BgMpL",selected:"colorBand_selected__peB+B"};function li(e){var t;const{colors:i,className:l,disabled:r,customColorPalette:s,isSmoothColorPalette:d,step:c=7,reverse:u,colorScheme:h,enableCustomColor:v,customColors:f,isPopoverInside:y,hideBadge:w,onChange:b,onColorSchemeChange:C,onUpdateCustomColors:x}=e,j=(0,a.Z)(),M=(0,n.useMemo)((()=>s||(d?ee.BE:ee.FA)),[s,d]),k=(0,n.useMemo)((()=>Bt(M,c,u)),[c,u,M]),T=Ht(c,u,i),[E,P]=(0,n.useState)(null!==(t=null!==h&&void 0!==h?h:Vt(I()(k,T),i))&&void 0!==t?t:ee.bT),O=(0,n.useRef)(c),_=(0,n.useRef)(u),S=(0,n.useCallback)((e=>{P(e),null===b||void 0===b||b(k[e]),null===C||void 0===C||C(e,k[e])}),[k,b,C]),N=(0,n.useCallback)((e=>{O.current=e.length,null===b||void 0===b||b(e),null===C||void 0===C||C(e.join(","))}),[b,C]);(0,n.useEffect)((()=>{i&&c>(null===i||void 0===i?void 0:i.length)&&(!h||((null===i||void 0===i?void 0:i.length)||0)<Me.rT)&&(P(ee.bT),null===b||void 0===b||b(k[ee.bT]))}),[i,c,h,b,k,E]),(0,n.useEffect)((()=>{P(null!==h&&void 0!==h?h:ee.bT)}),[h]),(0,n.useEffect)((()=>{O.current!==c&&(c>=Me.rT&&c<=Me._u&&k[E]&&(null===b||void 0===b||b(k[E])),O.current=c)}),[c,u,i,E,b,k]),(0,n.useEffect)((()=>{_.current!==u&&(Vt(k,i)?null===b||void 0===b||b(k[E],!0):null===b||void 0===b||b([...null!==i&&void 0!==i?i:[]].reverse(),!0),_.current=u)}),[k,i,b,u,E,c]);const L=(0,n.useMemo)((()=>null!==f&&void 0!==f&&f.some((e=>p()(e,i)))?"custom":"preset"),[i,f]),D=(0,n.useMemo)((()=>(0,m.jsx)(o.Z,{className:ai.colorRangeTabs,defaultActiveKey:L,items:[{key:"preset",label:j.$t({id:"FC2h14",defaultMessage:"Preset color"}),children:(0,m.jsx)(kt.Z,{className:ai.presetColorMenu,items:Object.keys(k).map((e=>({key:e,onClick:()=>S(e),className:(0,Le.default)(ai.item,{[ai.selected]:Vt(k,k[e])===E}),label:(0,m.jsx)(g.Z,{children:d?(0,m.jsx)(Nt.Z,{colorKey:e,colors:k[e]}):(0,m.jsx)(Wt,{colorKey:e,colors:k[e],height:12},e)})})))})},{key:"custom",label:(0,m.jsxs)(g.Z,{justify:"center",align:"center",style:{lineHeight:1.1},children:[j.$t({id:"H1pTIh",defaultMessage:"Custom color"}),!w&&(0,m.jsx)(Et.Z,{text:"Ent"})]}),children:(0,m.jsx)(ni,{onSelect:N,onUpdate:x,palette:f,colors:i})}]})),[k,S,N,j,d,x,E,f,i,L,w]);return v&&!r?(0,m.jsx)(Tt.Z,{content:D,trigger:["click"],placement:"bottom",classNames:{root:(0,Le.default)(ai.colorRangePanel,{[ai.inside]:y})},getPopupContainer:y?e=>{var t;return null!==(t=e.parentElement)&&void 0!==t?t:e}:void 0,children:(0,m.jsx)("div",{className:(0,Le.default)(ai.colorBar,l,{[ai.disabled]:r}),children:(0,m.jsx)(Wt,{colors:i,height:12})})}):(0,m.jsx)(Ut,{className:l,disabled:r,step:c,colors:i,reverse:u,customColorPalette:s,onChange:b,colorScheme:h,onColorSchemeChange:C})}function ri(e){const{field:t,belongsTo:i,customColorPalette:o,enableScale:l,enableCustomColor:r,hidden:s=!1,className:d,label:c}=e,{tableNode:u,manualUpdate:v,form:g,isLoading:f,customColors:y,isFeishuDashboard:w,onUpdateCustomColors:b}=(0,h.Yg)(),{isSingleChoiceColorScheme:C,applySingleChoiceColor:x,applySchemeColor:I}=_e({belongsTo:i,column:t}),{applayStringColor:j,applySchemeColor:M,exceededMaxLength:k}=xt({belongsTo:i,column:t}),T=(0,n.useRef)(t),P=(0,F.$k)([i,"colors"],[]),O=(0,F.$k)([i,"reverse"],!1),_=(0,F.$k)([i,"colorScheme"]),S=(0,F.$k)([i,"_step"],Me.fR),N=(0,G.BC)(t),D=(0,a.Z)(),R=(0,n.useMemo)((()=>{var e,i;return(null===t||void 0===t||null===(e=t.typeOptions)||void 0===e?void 0:e.choices)||(null===t||void 0===t||null===(i=t.typeOptions)||void 0===i||null===(i=i.lookupColumnTypeOptions)||void 0===i?void 0:i.choices)||[]}),[t]),Z=(0,n.useMemo)((()=>{const e=(0,G.S8)(t),i=(0,G.NU)(t);return e||i}),[t]),A=(0,n.useMemo)((()=>C?D.$t(de.singleChoiceColorTooltip):Z&&k?D.$t(de.stringExceedColorTooltip):void 0),[k,D,C,Z]),z=(0,n.useCallback)(((e,t)=>{N&&!C?I(e,t):Z?M(e,t):v({[i]:{colorScheme:e}})}),[N,C,Z,I,M,v,i]),B=(0,n.useCallback)((e=>{const t=g.getFieldValue([i,"colors"]);p()(e,t)||L()(e)||N||Z||v({[i]:{colors:e,_step:e.length}})}),[i,g,N,Z,v]),V=(0,n.useCallback)((e=>{null===b||void 0===b||b(e)}),[b]);return(0,n.useEffect)((()=>{var e;if((null===(e=T.current)||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id))return;if(f)return;const n=g.getFieldValue([i,"colors"]);if(t){var o;const{colors:e,colorScheme:a}=(0,ee.BK)(Me.fR),l=T.current&&(null===(o=T.current)||void 0===o?void 0:o.type)!==t.type||(null===n||void 0===n?void 0:n.length)<Me.rT||(null===n||void 0===n?void 0:n.length)>Me._u?e:n;if(N)I(void 0,void 0,!0);else if(Z)j(n);else{const e={[i]:{method:"quantile",colors:l,_step:l.length,colorScheme:a}};v(e)}T.current=t}else v({[i]:{colors:[E()(n,"[0]")]}}),T.current=void 0}),[i,Z,N,t,g,f,C,j,I,v]),(0,n.useEffect)((()=>{T.current=t}),[t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ce.Z,{name:[i,"colors"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(ce.Z,{name:[i,"colorScheme"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsxs)(ce.Z,{label:null!==c&&void 0!==c?c:D.$t(de.color),tooltip:A,hidden:s,children:[(0,m.jsx)(ce.Z,{hidden:!N,children:(0,m.jsx)(ae.ZP.Group,{value:C,onChange:function(e){e.target.value?x():I()},style:{display:"flex",flexDirection:"column",gap:4},options:[{value:!0,label:D.$t({id:"mQmXbE",defaultMessage:"Use colors from field"})},{value:!1,label:D.$t({id:"g6tGEo",defaultMessage:"Use color scheme"})}]})}),l&&u?(0,m.jsx)(li,{className:d,enableCustomColor:r,disabled:C,step:C?R.length:S,colors:P,reverse:!C&&O,customColorPalette:o,onChange:C?void 0:B,colorScheme:_,onColorSchemeChange:C?void 0:z,customColors:y,isPopoverInside:w,hideBadge:w,onUpdateCustomColors:V}):(0,m.jsx)(nt.Z,{color:E()(P,"[0]"),onChange:e=>{B([e])}})]})]})}function si(e){let{field:t,belongsTo:i,hidden:o}=e;const l=(0,a.Z)(),r=(0,n.useMemo)((()=>[i,"_step"]),[i]),{isSingleChoiceColorScheme:s}=_e({belongsTo:i,column:t}),d=(0,G.S8)(t),c=s||d;return(0,m.jsx)(le.xJ,{label:l.$t(de.steps),name:r,hidden:o,tooltip:c?l.$t(de.nonNumericTooltip):void 0,children:(0,m.jsx)(re.Ph,{disabled:c,"data-testid":"color-number-selector",getPopupContainer:e=>e.parentNode,options:ee.wn.map((e=>({label:e,value:e})))})})}function di(e){let{name:t,field:i,enableCustomize:o,...l}=e;const r=(0,a.Z)(),{isLoading:s,manualUpdate:d}=(0,h.Yg)(),c=(0,n.useRef)(null===i||void 0===i?void 0:i.id),u=(0,F.$k)(t),p=(0,n.useMemo)((()=>{const e=(0,G.BC)(i),t=(0,G.S8)(i),n=(0,G.NU)(i);return e||t||n}),[i]),v=(0,n.useMemo)((()=>[...p?[{id:"ordinal",label:r.$t({id:"XPruqs",defaultMessage:"Order"})}]:[],{id:"quantile",label:r.$t({id:"ZFT9MH",defaultMessage:"Quantile"})},{id:"quantize",label:r.$t({id:"XLcCrG",defaultMessage:"Linear"})},...o?[{id:"customize",label:r.$t({id:"Sjo1P4",defaultMessage:"Custom"})}]:[]]),[p,o,r]);return(0,F.mG)(v,t,"quantile"),(0,n.useEffect)((()=>{!s&&null!==i&&void 0!==i&&i.id&&c.current!==(null===i||void 0===i?void 0:i.id)&&(d(t,p?"ordinal":"ordinal"!==u&&u?u:"quantile"),c.current=null===i||void 0===i?void 0:i.id)}),[p,null===i||void 0===i?void 0:i.id,s,d,t,u]),(0,m.jsx)(le.xJ,{name:t,label:r.$t(de.scale),tooltip:p?r.$t(de.nonNumericTooltip):void 0,...l,children:(0,m.jsx)(re.Ph,{disabled:p,"data-testid":"color-scale-selector",getPopupContainer:e=>e.parentNode,children:v.map((e=>(0,m.jsx)(re.Ph.Option,{value:e.id,children:e.label},e.id)))})})}function ci(e){let{name:t,field:i,...o}=e;const l=(0,a.Z)(),r=(0,n.useMemo)((()=>{const e=(0,G.S8)(i),t=(0,G.NU)(i),n=(0,G.BC)(i);return e||t||n}),[i]);return(0,m.jsx)(le.ge,{name:t,label:l.$t(de.reverse),disabled:r,...o,tooltip:r?l.$t(de.nonNumericTooltip):void 0})}var ui=i(95436);function pi(e){let{name:t,label:i,range:o,rangeName:l,min:r,max:s}=e;const d=(0,a.Z)(),{manualUpdate:c}=(0,h.Yg)(),u=(0,F.$k)(l),p=(0,F.$k)(["radiusConfig","fixedToMeter"]),v=(0,n.useCallback)((e=>{c(l,e)}),[c,l]);return(0,m.jsx)(le.iR,{name:t,label:null!==i&&void 0!==i?i:d.$t(de.radius),rangeName:l,min:null!==r&&void 0!==r?r:ui.z3,max:null!==s&&void 0!==s?s:p?ui.My:ui.Cq,range:o,rangeValue:u,onRangeChange:v})}function hi(e){let{name:t,...i}=e;const n=(0,a.Z)();return(0,m.jsx)(le.xJ,{name:t,label:n.$t(de.aggregation),...i,children:(0,m.jsx)(re.Ph,{getPopupContainer:e=>e.parentNode,options:[{label:n.$t({id:"YYkniy",defaultMessage:"Sum"}),value:"sum"},{label:n.$t({id:"gYB2lt",defaultMessage:"Mean"}),value:"mean"},{label:n.$t({id:"kkjl2v",defaultMessage:"Max"}),value:"max"},{label:n.$t({id:"A4AHkc",defaultMessage:"Min"}),value:"min"},{label:n.$t({id:"WrSL3+",defaultMessage:"Median"}),value:"median"}]})})}var vi=i(4285),gi=i(47752),fi=i(20053);const mi={selector:"labelField_selector__sR7H0",addBtn:"labelField_addBtn__SPQaC",icon:"labelField_icon__kKQTx",active:"labelField_active__AzB2X"},yi=5;function wi(e){let{disabled:t,hiddenInteractiveActions:i}=e;const o=(0,a.Z)(),{manualUpdate:l,labelFields:r}=(0,h.Yg)(),s=(0,F.$k)("labelFieldID"),d=(0,F.$k)("extraLabelFieldIDs",[]),c=(0,F.$k)(["labelConfig","items"],[]),u=(0,n.useMemo)((()=>(C()(s)?[]:[s,...d]).map(((e,t)=>{var i,n,o,a;return{id:e,key:t,hiddenLabel:null!==(i=null===c||void 0===c||null===(n=c[t])||void 0===n?void 0:n.hiddenLabel)&&void 0!==i&&i,hiddenTooltip:null!==(o=null===c||void 0===c||null===(a=c[t])||void 0===a?void 0:a.hiddenTooltip)&&void 0!==o&&o}}))),[s,d,c]),p=(0,Gt.Dy)((0,Gt.VT)(Gt.we,{activationConstraint:{distance:5}})),v=(0,n.useCallback)((()=>{var e,t;const i=null!==(e=null===(t=S()(r))||void 0===t?void 0:t.id)&&void 0!==e?e:"";if(u.length>=yi)return;if(!u.length)return void l({labelFieldID:i,extraLabelFieldIDs:[]});const n=[...u,{id:i}];l({labelFieldID:n[0].id,extraLabelFieldIDs:n.slice(1).map((e=>e.id))})}),[u,r,l]),f=(0,n.useCallback)((e=>{const{active:t,over:i}=e;if(i&&t.id!==i.id){const e=u.findIndex((e=>e.key===t.id)),n=u.findIndex((e=>e.key===i.id)),o=(0,Jt.Rp)(u,e,n),a=(0,Jt.Rp)(c,e,n);l({labelFieldID:o[0].id,extraLabelFieldIDs:o.slice(1).map((e=>e.id)),labelConfig:{items:a}})}}),[u,c,l]),y=(0,n.useCallback)((e=>{const t=u.filter(((t,i)=>i!==e)),[i,...n]=t.map((e=>e.id)),o=[...c];o.splice(e,1),l({labelFieldID:i,extraLabelFieldIDs:n,labelConfig:{items:o}})}),[u,c,l]),w=(0,n.useCallback)(((e,i,n,o)=>{var a,r,s,d;if(t)return;const p=u.map(((t,n)=>n===e?{...t,id:i}:t)),h=[...c];h[e]={hiddenLabel:null!==(a=null!==n&&void 0!==n?n:null===(r=h[e])||void 0===r?void 0:r.hiddenLabel)&&void 0!==a&&a,hiddenTooltip:null!==(s=null!==o&&void 0!==o?o:null===(d=h[e])||void 0===d?void 0:d.hiddenTooltip)&&void 0!==s&&s},l({labelFieldID:p[0].id,extraLabelFieldIDs:p.slice(1).map((e=>e.id)),labelConfig:{items:h}})}),[u,c,t,l]),b=(0,n.useMemo)((()=>u.map((e=>e.key))),[u]);return(0,m.jsxs)(le.xJ,{label:o.$t({id:"dSSiSj",defaultMessage:"Display label"}),children:[(0,m.jsx)(le.xJ,{name:"labelFieldID",hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{name:"extraLabelFieldIDs",hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{name:["labelConfig","items"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(Gt.LB,{sensors:p,collisionDetection:Gt.pE,onDragEnd:f,modifiers:[$t.DL],children:(0,m.jsx)(Jt.Fo,{id:"key",strategy:Jt.qw,items:b,disabled:t,children:u.map((e=>(0,m.jsx)(bi,{item:e,hiddenInteractiveActions:i,onDelete:y,onUpdate:w},e.key)))})}),u.length<yi?(0,m.jsx)(g.Z,{justify:"end",children:(0,m.jsx)(be.ZP,{disabled:t,type:"text",size:"small",onClick:v,className:mi.addBtn,"data-testid":"addLabelField",children:o.$t({id:"kRcjv4",defaultMessage:"Add a field"})})}):null]})}function bi(e){let{item:t,disabled:i,hiddenInteractiveActions:o,onUpdate:l,onDelete:r}=e;const{labelFields:s}=(0,h.Yg)(),d=(0,a.Z)(),{attributes:c,listeners:u,setNodeRef:p,setActivatorNodeRef:v,transform:f,transition:y,isDragging:w}=(0,Jt.nB)({id:t.key}),b={transform:Kt.ux.Transform.toString(f&&{...f,scaleY:1,scaleX:1}),transition:y,zIndex:w?1:void 0},C=(0,n.useMemo)((()=>s.map((e=>({...e,tooltip:e.name})))),[s]);return(0,m.jsxs)(g.Z,{ref:p,className:mi.selector,justify:"space-between",gap:4,align:"center",style:b,children:[(0,m.jsx)("button",{...c,...u,ref:v,className:mi.movableIcon,type:"button",children:(0,m.jsx)(St.Z,{type:"movable",cursor:"move"})}),(0,m.jsx)(ge.Z,{value:t.id,disabled:i,onChange:e=>null===l||void 0===l?void 0:l(t.key,e),placeholder:d.$t({id:"jVROrq",defaultMessage:"Select label field"}),options:C,showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{var i,n;return(null!==(i=null===t||void 0===t||null===(n=t.props)||void 0===n?void 0:n.name)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())}}),!o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(gi.Z,{title:d.$t({id:"0JnTWB",defaultMessage:"To display this field instantly on map"}),destroyOnHidden:!0,mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,m.jsx)("div",{className:(0,Le.default)(mi.icon,{[mi.active]:!t.hiddenLabel}),onClick:()=>null===l||void 0===l?void 0:l(t.key,t.id,!t.hiddenLabel),children:(0,m.jsx)(fi.Z,{})})}),(0,m.jsx)(gi.Z,{title:d.$t({id:"4+DO6v",defaultMessage:"To display this field on hover"}),destroyOnHidden:!0,mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,m.jsx)("div",{className:(0,Le.default)(mi.icon,{[mi.active]:!t.hiddenTooltip}),onClick:()=>null===l||void 0===l?void 0:l(t.key,t.id,t.hiddenLabel,!t.hiddenTooltip),children:(0,m.jsx)(St.Z,{type:"cursorClick"})})})]}),(0,m.jsx)(Pt.Z,{trigger:["click"],menu:{items:[{key:"delete",disabled:i,label:d.$t({id:"K3r6DQ",defaultMessage:"Delete"}),danger:!0,onClick:()=>{null===r||void 0===r||r(t.key)}}]},children:(0,m.jsx)(St.Z,{type:"ellipse",cursor:"pointer"})})]},t.key)}function Ci(e){let{disabled:t=!1}=e;const i=(0,a.Z)(),n=(0,F.$k)("labelFieldID"),o=(0,F.$k)(["labelConfig","fillColor"]),l=(0,F.$k)(["labelConfig","strokeColor"]);return(0,m.jsxs)(le.gt,{title:i.$t(de.label),testId:"layersetting-label",children:[(0,m.jsx)(wi,{disabled:t}),(0,m.jsxs)("div",{style:{width:"100%"},className:(0,Le.default)({hide:!n}),children:[(0,m.jsx)(le.ge,{name:["labelConfig","collisionDisabled"],label:i.$t(de.collision)}),(0,m.jsx)(le.xJ,{name:["labelConfig","fillColor"],label:i.$t(de.fontColor),children:(0,m.jsx)(nt.Z,{color:o})}),(0,m.jsx)(le.xJ,{name:["labelConfig","fontSize"],label:i.$t(de.fontSize),children:(0,m.jsx)(re.Ph,{options:new Array(21).fill(0).map(((e,t)=>({label:10+t,value:10+t}))),"data-testid":"fontsize-selector"})}),(0,m.jsx)(vi.u,{}),(0,m.jsx)(le.iR,{name:["labelConfig","strokeWeight"],label:i.$t(de.strokeSize),min:0,max:5}),(0,m.jsx)(le.xJ,{name:["labelConfig","strokeColor"],label:i.$t(de.strokeColor),children:(0,m.jsx)(nt.Z,{color:l})})]})]})}var xi=i(30731);function Ii(e,t){const i=(0,F.$k)(e);return(0,n.useMemo)((()=>i?t.find((e=>e.id===i)):void 0),[t,i])}function ji(e){let{belongsTo:t,customColorPalette:i,className:n}=e;const{manualUpdate:o}=(0,h.Yg)(),a=(0,F.$k)([t,"colors"],[]),l=(0,F.$k)([t,"_step"],Me.fR),r=(0,F.$k)([t,"reverse"],!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le.xJ,{name:[t,"colors"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{children:(0,m.jsx)(Ut,{isSmoothColorPalette:!0,customColorPalette:i,step:l,colors:a,reverse:r,className:n,onChange:function(e,i){p()(e,a)&&!i||!a||o({[t]:{colors:e}})}})})]})}function Mi(e,t,i){switch(e){case"group":return"single"===i?"folderSingle":"folder";case"map":return"layer";case"bigTable":return"subscribed"===t||"connected"===t?"bigTableSubscribed":"published"===t?"bigTablePublished":"bigTable";case"table":return"subscribed"===t||"connected"===t?"tableSubscribed":"published"===t?"tablePublished":"table";default:return"table"}}var ki=i(10925);const Ti="tableNodeSelector_icon__CzfCm";const Ei=function(e){let{tableNodes:t=[],testID:i,onChange:o,...l}=e;const r=(0,a.Z)(),s=(0,n.useMemo)((()=>et()(t,"order").filter((e=>"group"!==e.type)).map((e=>({value:e.id,name:e.name,label:(0,m.jsxs)(g.Z,{align:"center",gap:2,children:[e.type&&(0,m.jsx)(St.Z,{type:Mi(e.type,null===e||void 0===e?void 0:e.mode),className:Ti}),(0,m.jsx)(ki.Z.Text,{title:e.name,ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.name,destroyOnHidden:!0,placement:"right"}},children:e.name})]})})))),[t]);return(0,m.jsx)(pe.Select,{placeholder:r.$t({id:"V+H9i6",defaultMessage:"Select a table"}),onChange:o,"data-testid":i,showSearch:!0,optionFilterProp:"name",options:s,...l})};function Pi(e){let{tableNodes:t,onChange:i}=e;const{isVectorTile:n,readonly:o}=(0,h.Yg)(),l=(0,F.$k)("layerType"),r=(0,a.Z)();return(0,m.jsx)(le.xJ,{name:"tableNodeID",label:r.$t(de.dataSource),tooltip:{title:n?r.$t({id:"GUHwnm",defaultMessage:'Vector tiles do not support modifications to data sources. To update, please click the "Regenerate" button or recreate the layer.'}):r.$t({id:"2v6r1D",defaultMessage:"Select a table as the source of map layer"}),icon:(0,m.jsx)(St.Z,{type:"info"})},rules:[{required:!0,message:r.$t({id:"Oc3TkA",defaultMessage:"Please select a table"})}],children:(0,m.jsx)(Ei,{placeholder:r.$t({id:"Oc3TkA",defaultMessage:"Please select a table"}),testID:"data-selector","data-no-options":!(null!==t&&void 0!==t&&t.length),getPopupContainer:e=>e.parentNode,disabled:!(null!==t&&void 0!==t&&t.length)||"h3Tile"===l||n||o,tableNodes:t,onChange:i})})}var Oi=i(20935);const _i={selector:"viewIDField_selector__dgVc6"};function Si(e){let{viewOptions:t,label:i}=e;const n=(0,a.Z)(),{isVectorTile:o,isThirdPartyTable:l,readonly:r}=(0,h.Yg)(),s=(0,F.$k)("layerType");return(0,m.jsx)(ce.Z,{name:"viewID",label:i||n.$t(de.tableView),tooltip:{title:o&&l?n.$t({id:"GUHwnm",defaultMessage:'Vector tiles do not support modifications to data sources. To update, please click the "Regenerate" button or recreate the layer.'}):n.$t({id:"x9ColX",defaultMessage:"Select a table view to filter map data"}),icon:(0,m.jsx)(St.Z,{type:"info"})},rules:[{message:n.$t({id:"pB+a/6",defaultMessage:"Please select a table view"})}],children:(0,m.jsx)(Oi.Z,{allowClear:!0,showSearch:!0,className:_i.selector,viewOptions:t,filterOption:(e,t)=>{var i;return(null===t||void 0===t||null===(i=t.name)||void 0===i?void 0:i.toLowerCase().includes(e.toLowerCase()))||!1},placeholder:n.$t({id:"pB+a/6",defaultMessage:"Please select a table view"}),disabled:"h3Tile"===s||o&&l||r,testID:"view-selector"})})}const Ni={item:"fieldWithAggregation_item__8avvB",itemInner:"fieldWithAggregation_itemInner__m1TVN",field:"fieldWithAggregation_field__BLL3E",option:"fieldWithAggregation_option__iN8cD",fieldName:"fieldWithAggregation_fieldName__1nrYp",agg:"fieldWithAggregation_agg__-gACD"};function Li(e){const{label:t,fields:i,name:o,aggMethodName:l,className:r,disabledMethods:s=["nonEmptyCount"]}=e,d=(0,a.Z)(),c=(0,F.$k)(o),u=i.find((e=>e.id===c)),p=(0,n.useMemo)((()=>{const e=[{value:"count",label:d.$t({id:"Aujn2T",defaultMessage:"Count"})},{value:"nonEmptyCount",label:d.$t({id:"lfqiWH",defaultMessage:"Non-Empty Count"})},{value:"sum",label:d.$t({id:"YYkniy",defaultMessage:"Sum"})},{value:"mean",label:d.$t({id:"gYB2lt",defaultMessage:"Mean"})},{value:"median",label:d.$t({id:"WrSL3+",defaultMessage:"Median"})},{value:"max",label:d.$t({id:"kkjl2v",defaultMessage:"Max"})},{value:"min",label:d.$t({id:"A4AHkc",defaultMessage:"Min"})}];return c===D.N?[e[0]]:"multiLineText"===(null===u||void 0===u?void 0:u.type)?e.slice(0,2):null===e||void 0===e?void 0:e.filter((e=>!(null!==s&&void 0!==s&&s.includes(e.value))))}),[c,d,s,null===u||void 0===u?void 0:u.type]);return(0,m.jsx)("div",{className:(0,Le.default)(Ni.item,r),children:(0,m.jsx)("div",{className:Ni.itemInner,children:(0,m.jsxs)(le.xJ,{label:t,children:[(0,m.jsx)(le.xJ,{noStyle:!0,name:o,children:(0,m.jsx)(re.Ph,{showSearch:!0,filterOption:(e,t)=>{var i,n;return(null!==(i=null===t||void 0===t||null===(n=t.props)||void 0===n?void 0:n.name)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())},className:Ni.field,suffixIcon:null,placeholder:d.$t({id:"pQB0tM",defaultMessage:"Select a number field"}),children:null===i||void 0===i?void 0:i.map((e=>(0,m.jsxs)(re.Ph.Option,{value:e.id,name:e.name,className:Ni.option,children:[e.id===D.N?"":"multiLineText"===(null===e||void 0===e?void 0:e.type)?(0,m.jsx)(St.Z,{type:"multiLineText"}):(0,m.jsx)(St.Z,{type:"number"}),(0,m.jsx)("span",{className:Ni.fieldName,children:e.name})]},e.id)))})}),(0,m.jsx)(le.xJ,{noStyle:!0,name:l,children:(0,m.jsx)(re.Ph,{className:Ni.agg,styles:{popup:{root:{width:"fit-content"}}},suffixIcon:null,variant:"borderless",children:p.map((e=>(0,m.jsx)(re.Ph.Option,{children:e.label},e.value)))})})]})})})}i(57830),i(67661),i(76592),i(81987),i(20491),i(9217),i(93707);i(84377);i(54034);var Di=i(67118),Ri=i(77022),Zi=i(42015),Ai=i(36441),Fi=i(32578);const zi="regionSelect_selectSuffixIcon__bVTg-",Bi=e=>{let{maxLevel:t=2,disableWorld:i=!1,placeholder:o,useWBVersion:l,value:r,onChange:s,onSelect:d}=e;const{data:c,isLoading:u}=(0,Fi.Z)("getWorldIndexData/RegionSelect",(async()=>await(0,Zi.y0)())),p=(0,n.useMemo)((()=>{if(u||!c)return;const e={};return Zi.hW.forEach((t=>{if("world"===t.value)return;const i=c[t.value][0],n=c[t.value][1];"china"===t.value?e[t.value]={admin1:i.filter((e=>e.id!==Ai.q)),admin2:n}:e[t.value]={admin1:i}})),e}),[c,u]),h=(0,a.Z)(),v=(0,n.useMemo)((()=>C()(l)?"zh-CN"===h.locale?"world/cas":"world/wb":l?"world/wb":"world/cas"),[h.locale,l]),g=(0,n.useCallback)(((e,t,i,n)=>{var o;const a=null===(o=e.admin1)||void 0===o||null===(o=o.map((i=>{const n={value:i.id,title:"zh-CN"===h.locale?i.name_zh:i.name_en,icon:(0,m.jsx)(Ri.Z,{}),children:[]};if(2===t)return n;if(3===t&&e.admin2){const t=e.admin2.filter((e=>e.parentId===i.id))||[];n.children=t.map((e=>({value:e.id,title:"zh-CN"===h.locale?e.name_zh:e.name_en,icon:(0,m.jsx)(Ri.Z,{})})))}return n})))||void 0===o?void 0:o.sort(((e,t)=>{var i,n,o;return null===(i=e.title)||void 0===i||null===(n=i.localeCompare)||void 0===n?void 0:n.call(i,null!==(o=t.title)&&void 0!==o?o:"")}));return null===a||void 0===a||a.forEach((e=>{var t;n[e.value]=i,null===(t=e.children)||void 0===t||t.forEach((e=>{var t;e.value&&(n[e.value]=i),null!==(t=e.children)&&void 0!==t&&t.length&&e.children.forEach((e=>{e.value&&(n[e.value]=i)}))}))})),a}),[h]),f=(0,n.useCallback)(((e,t)=>{let n=[];const o={};return!e||u?{treeData:[],idCountryMap:o}:(t>0&&(Zi.hW.forEach((i=>{if("world"===i.value)return;const a=1===t||Zi.HC.includes(i.value);n.push({value:i.value,title:h.$t(i.label),icon:(0,m.jsx)(Ri.Z,{}),children:a?[]:g(e[i.value],t,i.value,o)})})),n=et()(n,(e=>e.title))),{treeData:[{value:v,title:h.$t({id:"l0JOR7",defaultMessage:"World (by country)"}),icon:(0,m.jsx)(Ri.Z,{}),disabled:i},...n],idCountryMap:o})}),[h,v,u,i,g]),{treeData:y,idCountryMap:w}=(0,n.useMemo)((()=>f(p,t)),[p,f,t]);return(0,m.jsx)(Di.Z,{value:r,treeLine:!0,showSearch:!0,suffixIcon:(0,m.jsx)(St.Z,{type:"caretBottom",className:zi}),treeDefaultExpandedKeys:r?[r,v]:[v],treeData:y,placeholder:o,filterTreeNode:(e,t)=>{var i;return(null===(i=t.title)||void 0===i?void 0:i.toString().toLowerCase().includes(e.toLowerCase()))||!1},onChange:function(e){null===s||void 0===s||s(e),e.startsWith("world")?null===d||void 0===d||d(e,0):Zi.hW.some((t=>t.value===e))?null===d||void 0===d||d(e,1,e):null===d||void 0===d||d(e,2,w[e])}})};const Vi=()=>{const e=(0,F.$k)("tableNodeID"),t=(0,F.$k)("viewID"),{coordinateType:i,manualUpdate:o}=(0,h.Yg)(),l=(0,a.Z)(),{tableNodes:r,viewOptions:s}=(0,k.iG)({tableNodeId:e,viewId:t}),d=(0,n.useMemo)((()=>(0,ne.zq)(l,l.$t({id:"tz593B",defaultMessage:"All data"}))),[l]),c=(0,n.useMemo)((()=>t===ne.Jd?[d,...s]:s),[d,t,s]),{isCreate:u}=(0,te.Z)();return(0,m.jsxs)(le.gt,{title:l.$t({id:"dashboard.data",defaultMessage:"Data"}),defaultOpen:u,children:[(0,m.jsx)(Pi,{tableNodes:r,onChange:function(){o({coordinateType:"coord",coordinateFieldID:void 0,latitudeFieldID:void 0})}}),(0,m.jsx)(Si,{viewOptions:c}),(0,m.jsx)(Ee,{coordinateType:i})]})};function Hi(){const e=(0,a.Z)(),{numberFields:t}=(0,h.Yg)(),i=function(e){var t;const{layerNode:i,isPublicLayer:o}=(0,h.Yg)(),{disableSingleChoice:a=!1}=null!==e&&void 0!==e?e:{},l=(0,F.$k)("tableNodeID"),r=(0,F.$k)("viewID"),s=(0,n.useMemo)((()=>{var e;if(o)return null===i||void 0===i||null===(e=i.vtInfo)||void 0===e?void 0:e.columns}),[o,null===i||void 0===i||null===(t=i.vtInfo)||void 0===t?void 0:t.columns]),d=(0,w.v)((e=>V.TW.selectById(e,l))),c=(0,n.useMemo)((()=>Ke()(null!==s&&void 0!==s?s:null===d||void 0===d?void 0:d.columns,(e=>a?(0,G.sI)(e):(0,G.BC)(e)||(0,G.sI)(e)||(0,G.S8)(e)||(0,G.NU)(e)))),[a,s,null===d||void 0===d?void 0:d.columns]);return(0,n.useMemo)((()=>(0,xi.bs)(c,null===d||void 0===d?void 0:d.views,r)),[c,null===d||void 0===d?void 0:d.views,r])}(),o=(0,F.$k)(["fillConfig","colorScheme"]),l=(0,F.$k)("layerType"),r=Ii("fillFieldID",i),s=Ii("radiusFieldID",t),d=(0,F.$k)(["labelConfig","fillColor"]),c=(0,F.$k)(["labelConfig","strokeColor"]),u=(0,F.$k)("tableNodeID"),p=(0,F.$k)("viewID"),{onIconChange:v}=function(e){const{manualUpdate:t,form:i}=(0,h.Yg)(),o=(0,n.useMemo)((()=>{var t,i;return(null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.choices)||(null===e||void 0===e||null===(i=e.typeOptions)||void 0===i||null===(i=i.lookupColumnTypeOptions)||void 0===i?void 0:i.choices)||[]}),[e]),a=(0,n.useCallback)(((e,n)=>{const a=i.getFieldValue(["fillConfig","icons"]),l=i.getFieldValue(["fillConfig","_ordinalDomain"]),r={...a};if(Object.keys(r).length||o.forEach((e=>{r[e.id]="location"})),r[n]=e,t(["fillConfig","icons"],r),!l){const e=null===o||void 0===o?void 0:o.map((e=>e.id));t(["fillConfig","_ordinalDomain"],e)}}),[o,i,t]);return{onIconChange:a}}(r),g=i.filter((e=>(0,G.sI)(e))),{viewOptions:f}=(0,k.iG)({tableNodeId:u,viewId:p});oe(f);const y=(0,n.useMemo)((()=>null===o||void 0===o?void 0:o.includes(",")),[o]),b="cluster"===l;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Vi,{}),(0,m.jsxs)(le.gt,{title:e.$t(de.fillColor),defaultOpen:!0,children:[(0,m.jsx)(le.xJ,{name:"layerType",label:e.$t({id:"1VFLNI",defaultMessage:"Visualization type"}),children:(0,m.jsx)(ae.ZP.Group,{block:!0,optionType:"button",options:[{label:e.$t({id:"vH8sCb",defaultMessage:"Circle"}),value:"pointLinePolygon"},{label:e.$t({id:"kk4TVW",defaultMessage:"Icon"}),value:"icon"},{label:e.$t({id:"RM1/Y9",defaultMessage:"Cluster"}),value:"cluster"}]})}),(0,m.jsx)(Pe,{options:b?g:i,name:"fillFieldID",label:e.$t(de.fillBasedOn),tooltip:b?e.$t({id:"NnNVHq",defaultMessage:"Based on count of points when no field is selected"}):null}),b?(0,m.jsx)(m.Fragment,{children:r&&(0,m.jsx)(hi,{name:["fillConfig","aggregateBy"]})}):null,(0,m.jsx)(ri,{belongsTo:"fillConfig",customColorPalette:ee.lw,field:r,enableScale:!!b||!!r,enableCustomColor:!0}),(0,m.jsx)(si,{belongsTo:"fillConfig",field:r,hidden:y||!r&&!b}),(0,m.jsx)(di,{name:["fillConfig","fillMethod"],field:r,enableCustomize:!b,hidden:!b&&!r}),(0,m.jsx)(ci,{name:["fillConfig","reverse"],field:r,hidden:!0}),!b&&(0,m.jsx)(Mt,{belongsTo:"fillConfig",field:r,domainFieldName:"fillFieldID",onIconChange:v,onUseCustomizeIcon:()=>Promise.resolve(!0)}),(0,m.jsx)(le.gG,{label:e.$t(de.opacity),name:["fillConfig","fillOpacity"]})]}),b?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le.gt,{title:e.$t(de.radius),children:(0,m.jsx)(pi,{label:e.$t(de.radiusRange),rangeName:["radiusConfig","radiusRange"],min:0,max:100,range:!0})}),(0,m.jsxs)(le.gt,{title:e.$t(de.label),testId:"layersetting-label",children:[(0,m.jsx)(le.xJ,{name:["labelConfig","fillColor"],label:e.$t(de.fontColor),children:(0,m.jsx)(nt.Z,{color:d})}),(0,m.jsx)(le.iR,{name:["labelConfig","strokeWeight"],label:e.$t(de.strokeSize),min:0,max:5}),(0,m.jsx)(le.xJ,{name:["labelConfig","strokeColor"],label:e.$t(de.strokeColor),children:(0,m.jsx)(nt.Z,{color:c})})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(le.gt,{title:e.$t(de.size),children:[(0,m.jsx)(Pe,{options:t,name:"radiusFieldID",label:e.$t(de.fillBasedOn)}),(0,m.jsx)(pi,{label:e.$t(de.size),name:["radiusConfig","radius"],rangeName:["radiusConfig","radiusRange"],range:!!s})]}),(0,m.jsx)(Ci,{})]})]})}function Wi(){const e=(0,a.Z)(),{numberFields:t}=(0,h.Yg)(),i=(0,lt.$)("tableNodeID"),n=(0,lt.$)("viewID"),{viewOptions:o}=(0,k.iG)({tableNodeId:i,viewId:n});return oe(o),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Vi,{}),(0,m.jsxs)(le.gt,{title:e.$t(de.color),defaultOpen:!0,children:[(0,m.jsx)(ji,{belongsTo:"fillConfig",customColorPalette:ee.T_}),(0,m.jsx)(si,{belongsTo:"fillConfig",hidden:!0}),(0,m.jsx)(ci,{name:["fillConfig","reverse"],hidden:!0}),(0,m.jsx)(le.gG,{label:e.$t(de.opacity),name:["fillConfig","fillOpacity"]}),(0,m.jsx)(pi,{name:["radiusConfig","radius"]}),(0,m.jsx)(Pe,{options:t,name:"weightFieldID",label:e.$t(de.basedOn)})]})]})}var Ui=i(25354),qi=i(84991),Gi=i(55519);const $i={folder:"regionLocation_folder__w0pAY"};function Ji(e){let{name:t,testID:i,label:n,options:o,placeholder:l,required:r,...s}=e;const d=(0,a.Z)();return(0,m.jsx)(v.Z.Item,{name:t,label:n,...s,children:(0,m.jsx)(ge.Z,{placeholder:null!==l&&void 0!==l?l:d.$t({id:"f2pRcj",defaultMessage:"Please select a field"}),options:o,allowClear:!0,testID:null!==i&&void 0!==i?i:"".concat(t,"-selector"),showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{var i,n;return(null!==(i=null===t||void 0===t||null===(n=t.props)||void 0===n?void 0:n.name)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())}})})}function Ki(e){let{aggregateBy:t,dimensionFields:i,regionInfo:o,hideSpecificField:l=!1}=e;const r=(0,a.Z)();(0,n.useMemo)((()=>"admin1"===t?r.$t({id:"fGWSMb",defaultMessage:"Fill a State or Province field"}):"admin3"===t?r.$t({id:"ntJ3/w",defaultMessage:"Optional. Fill a State or Province field to increase matching accuracy when Cities have the same name"}):r.$t({id:"Hm1UPJ",defaultMessage:"Optional. Fill a State or Province field to increase matching accuracy when Counties have the same name"})),[r,t]),(0,n.useMemo)((()=>"admin2"===t?r.$t({id:"D63Qg2",defaultMessage:"Fill a County field"}):"admin3"===t?r.$t({id:"mN0iMM",defaultMessage:"Optional. Fill a county field to increase matching accuracy when Cities have the same name"}):r.$t({id:"IAu45f",defaultMessage:"Optional. Fill a County field to drill down"})),[r,t]),(0,n.useMemo)((()=>"admin3"===t?r.$t({id:"e64R2F",defaultMessage:"Fill a City field"}):r.$t({id:"mQYJtH",defaultMessage:"Optional. Fill a City field to drill down"})),[r,t]);return(0,m.jsx)(m.Fragment,{children:o.isWorld?(0,m.jsx)(Ji,{required:!0,name:"regionDimensionFieldID",options:i,placeholder:r.$t({id:"tkZzBx",defaultMessage:"Fill a Country field"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ji,{name:"regionDimensionFieldID",options:i,rules:[{required:!0,message:r.$t({id:"f2pRcj",defaultMessage:"Please select a field"})}]}),!l&&(0,m.jsx)(Gi.g,{className:$i.folder,children:(0,m.jsx)(Ji,{label:r.$t({id:"JMqEEr",defaultMessage:"Enhance matching accuracy (opt)"}),tooltip:r.$t({id:"6Z6DHy",defaultMessage:"Optional. Fill a State or Province field can increase matching accuracy when Counties or Cities have the same name."}),name:"specifyByFieldID",options:i})})]})})}var Yi=i(9296);const Qi="colorPalette_currentColor__k0wk0",Xi="colorPalette_customizeColors__+XXWq",en="colorPalette_customizeColorInput__NJnjh",tn="colorPalette_hasError__DXtcs",nn="colorPalette_table__8Md-K",on="colorPalette_item__zeWKu",an="colorPalette_color__sjSZH",ln="colorPalette_value__ozU5i";function rn(e,t,i,n){if(null!==i&&i.length){const e=[];for(let t=0;t<i.length-1;t++)e.push([i[t],i[t+1]]);return e}if(e.length){if(1===(null===t||void 0===t?void 0:t.length))return null;const i="quantize"===n?(0,De.Z)().domain(e).range(t):(0,Re.Z)().domain(e).range(t);return t.map((e=>{const[t,n]=i.invertExtent(e);return[(0,it.SH)(t),(0,it.SH)(n)]}))}return null}function sn(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(e[i]);return t.push(ve()(e)),et()(t)}const dn=e=>{var t;const{colors:i,fieldName:o,method:l,onChange:r,onColorChange:s}=e,d=(0,n.useRef)([]),c=(0,lt.$)(o),[u,v]=(0,n.useState)((()=>rn(d.current,i,"customize"===l?c:null,l))),f=(0,n.useRef)(null),[y,w]=(0,n.useState)({}),b=(0,n.useRef)(i.length),C=(0,a.Z)(),{isLoading:x,layer:I}=(0,h.Yg)(),{getDomain:j}=(0,Yi.l)(null===I||void 0===I?void 0:I.features),M=(0,n.useCallback)((e=>{if(!e||p()(e,f.current))return;v(e),f.current=e;const t=[...e].flat();r(sn(t))}),[r]);function k(e,t,i){if(B()(y,(e=>B()(Object.values(e))))||null===u)return;const n=[...u].flat(),o=ze()(e),a=t*u[0].length+i;n[a]=o,0===i&&0!==a&&(n[a-1]=o),1===i&&a!==n.length-1&&(n[a+1]=o),n.sort(((e,t)=>ze()(e)-ze()(t)));const l=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(e.slice(i,i+2));return t}(n);v(l),f.current=l,r(sn(n))}function T(e,t,i){let n=!1;v((n=>{const o=qe()(n);return o&&Ae()(o,"".concat(t,".").concat(i),e),f.current=o,o})),e&&!Ve()(ze()(e))||(n=!0),w((e=>{const o=qe()(e);return Ae()(o,"".concat(t,".").concat(i),n),o}))}function E(e,t){var i,n;if(!u||0!==e&&e!==u.length-1)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Oe.default,{size:"small",value:t[0],className:(0,Le.default)(en,{[tn]:null===(i=y[e])||void 0===i?void 0:i[0]}),onBlur:t=>k(t.target.value,e,0),onChange:t=>T(t.target.value,e,0),onPressEnter:t=>{t.preventDefault(),k(t.currentTarget.value,e,0)}}),"-",(0,m.jsx)(Oe.default,{size:"small",value:t[1],className:(0,Le.default)(en,{[tn]:null===(n=y[e])||void 0===n?void 0:n[1]}),onBlur:t=>k(t.target.value,e,1),onChange:t=>T(t.target.value,e,1),onPressEnter:t=>{t.preventDefault(),k(t.currentTarget.value,e,1)}})]});{var o;const i=0===e?1:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:en,children:0===e?C.$t({id:"hJL4XZ",defaultMessage:"Less than"}):C.$t({id:"EAys4o",defaultMessage:">"})}),(0,m.jsx)(Oe.default,{size:"small",value:t[i],className:(0,Le.default)(en,{[tn]:null===(o=y[e])||void 0===o?void 0:o[i]}),onBlur:t=>k(t.target.value,e,i),onChange:t=>T(t.target.value,e,i),onPressEnter:t=>{t.preventDefault(),k(t.currentTarget.value,e,i)}})]})}}return(0,He.Z)((()=>{if(x)return;const e=j(l);if("customize"===l)if(i.length===Qe()(c)-1){const t=rn(e,i,c,l);M(t)}else{const t=rn(e,i,null,l);M(t)}else{const t=rn(e,i,null,l);M(t),b.current=i.length}}),[i,j,c,l,x,M,r]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le.xJ,{hidden:!0,name:o,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(Se.Z,{className:nn,children:null===(t=f.current)||void 0===t?void 0:t.map(((e,t)=>(0,m.jsxs)(g.Z,{className:on,children:[(0,m.jsx)(Ne.Z,{className:an,children:(0,m.jsx)(nt.Z,{className:Qi,color:i[t],onChange:e=>function(e,t){s&&s(e,t)}(e,t)})}),(0,m.jsx)(Ne.Z,{span:18,className:ln,children:"customize"===l?(0,m.jsx)("div",{className:Xi,children:E(t,e)}):(0,m.jsx)(ot.Z,{text:"".concat((0,it.IG)(e[0])," - ").concat((0,it.IG)(e[1])),reRender:!0})})]},t)))})]})};function cn(e){let{belongsTo:t}=e;const{layerNode:i,tableNode:n,manualUpdate:o}=(0,h.Yg)(),a=(0,F.$k)([t,"colors"],[]),l=(0,F.$k)([t,"fillMethod"]),r=(0,F.$k)([t,"strokeMethod"]),s="outlineConfig"===t?r:l;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(le.xJ,{name:["fillConfig","icons"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{name:["fillConfig","_ordinalDomain"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(null===n||void 0===n?void 0:n.id)&&(null===i||void 0===i?void 0:i.id)&&(0,m.jsx)(dn,{method:s,fieldName:[t,"thresholds"],colors:a,onColorChange:function(e,i){const n=[...a];n[i]=e,o({[t]:{colors:n}})},onChange:function(e){o({[t]:{thresholds:e}})}})]})}function un(){const e=(0,F.$k)("tableNodeID"),t=(0,F.$k)("viewID"),i=(0,F.$k)(["regionConfig","dimension"]),o=(0,F.$k)("regionDimensionFieldID"),l=(0,F.$k)(["labelConfig","fillColor"]),r=(0,F.$k)(["regionConfig","regionId"]),s=(0,F.$k)(["regionConfig","aggregateBy"]),c=(0,F.$k)(["labelConfig","strokeColor"]),u=(0,F.$k)("regionIndexStatsFieldID"),{isLark:p}=(0,qi.k)(),v=function(e){const[t,i,o,a,l]=(0,n.useMemo)((()=>[["world/cas","world/wb"].includes(e||""),Zi.HC.includes(e||""),d()(e||"","-"),d()(e||"","ADM2"),!!Zi.om.find((t=>d()(e||"",t)))]),[e]);return{isWorld:t,isOnlyAdmin1:i,isNotCountryLevel:o,isAdmin2Level:a,isSupportAdmin3:l}}(r),{isWorld:g,isOnlyAdmin1:f,isNotCountryLevel:y,isAdmin2Level:w,isSupportAdmin3:b}=v,C=(0,a.Z)(),{tableNodes:x,viewOptions:I}=(0,k.iG)({tableNodeId:e,viewId:t});oe(I);const{coordinateFields:j,dimensionFields:M=[],numberFields:T,textFields:E,manualUpdate:P}=(0,h.Yg)(),O=(0,n.useMemo)((()=>(0,ne.zq)(C,C.$t({id:"tz593B",defaultMessage:"All data"}))),[C]),_=(0,n.useMemo)((()=>{var t,i;return e?(null!==(t=null===(i=x.find((t=>t.id===e)))||void 0===i?void 0:i.rowsCount)&&void 0!==t?t:0)>2e4:null===x||void 0===x?void 0:x.every((e=>{var t;return null===(t=e.rowsCount)||void 0===t||t}))}),[e,x]),S=(0,n.useMemo)((()=>t===ne.Jd?[O,...I]:I),[O,I,t]),N=(0,n.useMemo)((()=>[{id:D.N,name:C.$t({id:"2yfZ/a",defaultMessage:"All record"})},...null!==T&&void 0!==T?T:[],...null!==E&&void 0!==E?E:[]]),[C,T,E]),L=(0,n.useMemo)((()=>T.find((e=>e.id===u))),[T,u]);return(0,n.useEffect)((()=>{P("coordinateFieldID",o,{silent:!0})}),[P,o]),(0,m.jsxs)("div",{className:Y,children:[(0,m.jsx)(le.xJ,{name:"coordinateFieldID",hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{name:["regionConfig","level"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsx)(le.xJ,{name:["regionConfig","country"],hidden:!0,children:(0,m.jsx)(Oe.default,{})}),(0,m.jsxs)(le.gt,{title:C.$t(de.data),defaultOpen:!0,children:[(0,m.jsx)(Pi,{tableNodes:x}),(0,m.jsx)(Si,{viewOptions:S})]}),(0,m.jsxs)(le.gt,{title:C.$t(de.region),defaultOpen:!0,children:[(0,m.jsx)(le.xJ,{name:["regionConfig","regionId"],style:{marginTop:10},children:(0,m.jsx)(Bi,{maxLevel:3,useWBVersion:p})}),(0,m.jsx)(le.xJ,{label:C.$t({id:"dashboard.regionMap.label.displayData",defaultMessage:"Display data"}),name:["regionConfig","aggregateBy"],tooltip:{title:C.$t({id:"pwVTJh",defaultMessage:"Set the administrative division level displayed after entering the dashboard, and drill-down is supported. <a>Refer to the example.</a>"},{a:e=>(0,m.jsx)("a",{href:(0,fe.t1)(C.locale,"regionPerformance",!p),target:"_blank",rel:"noopener noreferrer",children:e})}),icon:(0,m.jsx)(St.Z,{type:"info"})},children:(0,m.jsx)(ae.ZP.Group,{children:g?(0,m.jsxs)(ae.ZP,{value:"admin0",children:[C.$t({id:"65jzKW",defaultMessage:"By admin0"}),"zh-CN"!==C.locale&&(0,m.jsx)(gi.Z,{title:C.$t({id:"vONi+O",defaultMessage:"Country"}),children:(0,m.jsx)(St.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}):(0,m.jsxs)(m.Fragment,{children:[y?null:(0,m.jsxs)(ae.ZP,{value:"admin1",children:[C.$t({id:"N33mNW",defaultMessage:"By admin1"}),"zh-CN"!==C.locale&&(0,m.jsx)(gi.Z,{title:C.$t({id:"dYN+F9",defaultMessage:"State or Province"}),children:(0,m.jsx)(St.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),f||w?null:(0,m.jsxs)(ae.ZP,{value:"admin2",children:[C.$t({id:"pM99lw",defaultMessage:"By admin2"}),"zh-CN"!==C.locale&&(0,m.jsx)(gi.Z,{title:C.$t({id:"B+KJhc",defaultMessage:"County"}),children:(0,m.jsx)(St.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),y&&b?(0,m.jsxs)(ae.ZP,{value:"admin3",children:[C.$t({id:"6eLhy7",defaultMessage:"By admin3"}),"zh-CN"!==C.locale&&(0,m.jsx)(gi.Z,{title:C.$t({id:"TE4fIS",defaultMessage:"City"}),children:(0,m.jsx)(St.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}):null]})})})]}),(0,m.jsxs)(le.gt,{title:C.$t(de.location),defaultOpen:!0,children:[(0,m.jsx)(le.xJ,{name:["regionConfig","dimension"],children:(0,m.jsxs)(ae.ZP.Group,{children:[(0,m.jsxs)(ae.ZP,{value:"region",children:[C.$t({id:"W6pSch",defaultMessage:"Aggregate by admin area name"}),(0,m.jsx)(gi.Z,{title:C.$t({id:"b3cd74",defaultMessage:"Select a field from tables that represents the state, city and district name to aggregate data based on the same field values."}),children:(0,m.jsx)(St.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),(0,m.jsxs)(ae.ZP,{value:"coordinate",disabled:_,children:[C.$t({id:"QhpR3G",defaultMessage:"Aggregate by location field"}),(0,m.jsx)(gi.Z,{title:C.$t({id:"O1PcVX",defaultMessage:"Select a location field from tables to aggregate data based on actual coordinates."}),children:(0,m.jsx)(St.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]})]})}),"coordinate"===i&&(0,m.jsx)(Pe,{name:"regionDimensionFieldID",options:j}),"region"===i&&(0,m.jsx)(Ki,{aggregateBy:s,dimensionFields:M,regionInfo:v})]}),(0,m.jsx)(le.gt,{title:C.$t(de.metrics),defaultOpen:!0,children:(0,m.jsx)(Li,{name:"regionIndexStatsFieldID",aggMethodName:["regionConfig","indexStatsMethod"],fields:N,disabledMethods:["median"],className:X})}),(0,m.jsxs)(le.gt,{title:C.$t(de.fillColor),children:[(0,m.jsx)(ri,{label:C.$t({id:"pBDN/I",defaultMessage:"Color range"}),belongsTo:"regionConfig",customColorPalette:ee.Hd,enableScale:!0,enableCustomColor:!0}),(0,m.jsx)(si,{belongsTo:"regionConfig"}),(0,m.jsx)(cn,{belongsTo:"regionConfig"}),(0,m.jsx)(di,{name:["regionConfig","fillMethod"],field:L,enableCustomize:!0}),(0,m.jsx)(ci,{name:["regionConfig","reverse"],hidden:!0})]}),(0,m.jsxs)(le.gt,{title:C.$t(de.label),children:[(0,m.jsx)(le.xJ,{label:C.$t({id:"6aBjLn",defaultMessage:"Display label name"}),name:["regionConfig","labelTypes"],children:(0,m.jsxs)(Ui.Z.Group,{children:[(0,m.jsx)(Ui.Z,{value:"name",children:C.$t({id:"gxHob8",defaultMessage:"Admin name"})}),(0,m.jsx)(Ui.Z,{value:"value",children:C.$t({id:"yypztr",defaultMessage:"Metric"})})]})}),(0,m.jsx)(le.ge,{name:["labelConfig","collisionDisabled"],label:C.$t(de.collision)}),(0,m.jsx)(le.xJ,{name:["labelConfig","fillColor"],label:C.$t(de.fontColor),children:(0,m.jsx)(nt.Z,{color:l})}),(0,m.jsx)(le.xJ,{name:["labelConfig","fontSize"],label:C.$t(de.fontSize),children:(0,m.jsx)(pe.Select,{options:new Array(21).fill(0).map(((e,t)=>({label:10+t,value:10+t}))),"data-testid":"fontsize-selector"})}),(0,m.jsx)(le.iR,{name:["labelConfig","strokeWeight"],label:C.$t(de.strokeSize),min:0,max:5}),(0,m.jsx)(le.xJ,{name:["labelConfig","strokeColor"],label:C.$t(de.strokeColor),children:(0,m.jsx)(nt.Z,{color:c})})]})]})}var pn=i(49633),hn=i(29697),vn=i(55832),gn=i.n(vn),fn=i(58674),mn=i.n(fn),yn=i(65301),wn=i.n(yn),bn=i(78731);const Cn="featuresControl_item__w7ayb",xn=(e,t)=>{let{value:i=wn()(bn.TR),onChange:n}=e;const o=(0,a.Z)();return(0,m.jsx)(Se.Z,{ref:t,children:$e()(gn()(bn.TR),(e=>{let[t,a]=e;return(0,m.jsx)(Ne.Z,{span:12,children:(0,m.jsx)(Ui.Z,{checked:null===i||void 0===i?void 0:i.includes(t),className:(0,Le.default)(Cn),onChange:()=>(async e=>{const t=(null===i||void 0===i?void 0:i.includes(e))?mn()(i,e):i.concat(e);null===n||void 0===n||n(t)})(t),children:o.$t(a)},t)},t)}))})},In=(0,n.forwardRef)(xn),jn=(0,n.forwardRef)(((e,t)=>{const{allowSetBaseMap:i=!1,showAccordion:o=!0,mapConfig:r,layerType:s,isWorldMap:d}=e,u=(0,a.Z)(),{isFeiShu:p}=(0,qi.k)(),h=(0,w.I)(),[g]=v.Z.useForm();(0,n.useImperativeHandle)(t,(()=>g),[g]);const f=(0,n.useMemo)((()=>({...r,features:C()(null===r||void 0===r?void 0:r.features)?["bg","building","road","point"]:r.features,showBaseMap:C()(null===r||void 0===r?void 0:r.showBaseMap)?"region"!==s:r.showBaseMap})),[s,r]),y=v.Z.useWatch("showBaseMap",g),{currentProjectId:b}=(0,l.Z)((e=>e.project)),x=(0,n.useCallback)((e=>{if(!e)return;const t=g.getFieldsValue();b&&h(c.Nw.update({projectID:b,updatedFields:{mapConfig:{...r,...t}}}))}),[g,h,b,r]),I=(0,m.jsxs)(v.Z,{colon:!1,hidden:d,layout:"vertical",labelAlign:"left",requiredMark:!1,initialValues:f,form:g,onValuesChange:x,className:Q,children:[i&&(0,m.jsx)(v.Z.Item,{label:u.$t({id:"97dg59",defaultMessage:"Enable basemap"}),name:"showBaseMap",valuePropName:"checked",className:K,children:(0,m.jsx)(pn.Z,{size:"small"})}),p&&(y||f.showBaseMap)&&"region"!==s&&(0,m.jsx)(v.Z.Item,{label:u.$t({id:"9GEgkl",defaultMessage:"Base Map"}),name:"baseMap",children:(0,m.jsx)(pe.Select,{options:[{label:u.$t({id:"k9+sBf",defaultMessage:"Amap"}),value:hn.nn.AmapLight},{label:"Mapbox",value:hn.R6.MapboxLight}]})}),(y||f.showBaseMap)&&(0,m.jsx)(v.Z.Item,{name:"features",children:(0,m.jsx)(In,{})})]});return o?(0,m.jsx)(le.gt,{title:u.$t({id:"xQwoWr",defaultMessage:"Map settings"}),children:I}):I})),Mn={pointLinePolygon:(0,m.jsx)(Hi,{}),heatmap:(0,m.jsx)(Wi,{}),grid:null,hexagon:null,odLine:null,flow:null,h3:null,cluster:null,icon:(0,m.jsx)(Hi,{}),h3Tile:null,trips:null,path:null,region:(0,m.jsx)(un,{})},kn=(0,n.forwardRef)(((e,t)=>{const{layerType:i,layers:o}=e,a=(0,w.I)(),s=(0,n.useRef)(),{contextValue:u,form:h,initialValues:v,mapConfig:g,onUpdate:f}=$({mapSettingForm:s.current,layers:o}),b=(0,n.useMemo)((()=>i?Mn[i]:null),[i]);(0,n.useImperativeHandle)(t,(()=>({form:h})),[h]),(0,n.useEffect)((()=>{v&&h&&h.setFieldsValue(v)}),[v,h]);const{currentProjectId:C}=(0,l.Z)((e=>e.project)),x=(0,l.Z)((e=>C?(0,r.M)(e,C):[])),I=null===x||void 0===x?void 0:x[0],j=null===I||void 0===I?void 0:I.mapInfo,M=(0,n.useMemo)((()=>{var e,t;return"region"===(null===j||void 0===j?void 0:j.layerType)&&("world/cas"===(null===j||void 0===j||null===(e=j.regionConfig)||void 0===e?void 0:e.regionId)||"world/wb"===(null===j||void 0===j||null===(t=j.regionConfig)||void 0===t?void 0:t.regionId))}),[j]);return(0,n.useEffect)((()=>{if(M&&C&&g){const e={mapConfig:{...g,showBaseMap:!1}};if(p()(e.mapConfig,g))return;a(c.Nw.update({projectID:C,updatedFields:e}))}}),[C,a,M,g]),(0,m.jsx)(y,{context:u,className:J,children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Form,{name:"layerSetting",layout:"vertical",labelAlign:"left",form:h,requiredMark:!1,initialValues:v,onValuesChange:f,children:b}),(0,m.jsx)(jn,{allowSetBaseMap:d()(["region"],i),showAccordion:!d()(["region"],i),mapConfig:g,layerType:i,ref:s,isWorldMap:M})]})})}));var Tn=i(6404);const En="usageBar_usage__kWfkc",Pn="usageBar_usageBar__IB72Q",On="usageBar_outage__xA7o4",_n="usageBar_warning__gZaPu",Sn="usageBar_label__GPZlK",Nn=e=>{let{max:t=0,used:i=0,className:n,normalColor:o,outageColor:l,waringColor:r,tooltip:s,showLabel:d=!1}=e;const c=(0,a.Z)(),u=i/(0===t?.001:t)*100,p=u>100?l:u>=90?r:o,h=-1===t?c.$t({id:"ekXood",defaultMessage:"Unlimited"}):null!==t&&void 0!==t?t:0,v=(0,m.jsx)("div",{className:(0,Le.default)(En,n),children:(0,m.jsx)("div",{className:(0,Le.default)(Pn,{[On]:u>100,[_n]:u>=90&&u<=100}),style:{width:"".concat(u>100?100:u,"%"),backgroundColor:p}})});return(0,m.jsx)(m.Fragment,{children:-1===t?(0,m.jsx)("div",{className:n,children:null!==s&&void 0!==s?s:"".concat(i," / ").concat(h)}):d?(0,m.jsxs)("div",{className:Sn,children:[v,(0,m.jsx)("div",{children:"".concat(i," / ").concat(h)})]}):(0,m.jsx)(gi.Z,{title:null!==s&&void 0!==s?s:"".concat(i," / ").concat(h),children:v})})};var Ln=i(74695),Dn=i(41867),Rn=i(34061),Zn=i(42304),An=i(93293),Fn=i(18858),zn=i(73656),Bn=i(84586),Vn=i(30053),Hn=i(24346),Wn=i(31843),Un=i(76625),qn=i(34221);const Gn={actions:"tableFilter_actions__Fm5Zd",search:"tableFilter_search__ANTdW",searchInput:"tableFilter_searchInput__mTxNu"};function $n(e,t,i,n,o,a){return{filterDropdown:l=>{let{setSelectedKeys:r,selectedKeys:s,close:d}=l;return(0,m.jsx)("div",{className:Gn.search,children:(0,m.jsx)("div",{className:Gn.actions,onKeyDown:e=>e.stopPropagation(),children:(0,m.jsxs)(Un.Z,{children:["text"===t&&o&&(0,m.jsx)(Oe.default,{className:Gn.searchInput,ref:i,placeholder:e,value:s[0],onChange:e=>r(e.target.value?[e.target.value]:[]),onPressEnter:()=>{o(String(s[0])),d()},style:{marginBottom:8,display:"block"}}),"number"===t&&a&&(0,m.jsx)(qn.Z,{className:Gn.searchInput,ref:n,placeholder:e,value:s[0],onChange:e=>r(e?[e]:[]),onPressEnter:()=>{a(s[0]),d()},style:{marginBottom:8,display:"block"}}),(0,m.jsx)(be.ZP,{type:"primary",onClick:()=>{"text"===t?null===o||void 0===o||o(String(s[0])):null===a||void 0===a||a(s[0]),d()},icon:(0,m.jsx)(Vn.Z,{}),size:"small",style:{width:40}}),(0,m.jsx)(be.ZP,{onClick:()=>{r([]),null===o||void 0===o||o(void 0),null===a||void 0===a||a(void 0)},size:"small",icon:(0,m.jsx)(Hn.Z,{}),style:{width:40}}),(0,m.jsx)(be.ZP,{type:"text",size:"small",icon:(0,m.jsx)(Wn.Z,{}),onClick:()=>d()})]})})})},filterIcon:e=>(0,m.jsx)(Vn.Z,{style:{color:e?"#0065ff":"#505f79",fontSize:12,fontWeight:600}}),onFilterDropdownOpenChange:e=>{e&&setTimeout((()=>{var e,t;null===i||void 0===i||null===(e=i.current)||void 0===e||e.select(),null===n||void 0===n||null===(t=n.current)||void 0===t||t.select()}),100)}}}function Jn(e,t,i){return $n(e,"text",t,void 0,i,void 0)}var Kn=i(41928);const Yn={container:"manageSeatDialog_container__PSQfZ",actions:"manageSeatDialog_actions__-SQvk",item:"manageSeatDialog_item__4lsKh",na:"manageSeatDialog_na__ohS2u",name:"manageSeatDialog_name__eJPzf",org:"manageSeatDialog_org__Ul2d8",user:"manageSeatDialog_user__9kt0i",inviteUrl:"manageSeatDialog_inviteUrl__gWElJ",invite:"manageSeatDialog_invite__MsZRf"};function Qn(e){const{open:t=!1,onDismiss:i,id:l,type:r,service:s,members:d,viewers:c=0,isFeishuDashboard:u}=e,p=(0,a.Z)(),[h,f]=(0,n.useState)(!1),[y,w]=(0,n.useState)([]),[b,C]=(0,n.useState)("editor"),x=l||r,I="feishu"===r,j=I||"lark"===r,M=(0,Rn.cr)("feishu"===r||"feishuDashboard"===r),{data:k,mutate:T,isLoading:E}=(0,A.ZP)(t&&x?["seat/list/members",x]:void 0,(e=>{let[t,i]=e;return s.listUsers(i)})),[P,O]=(0,n.useState)(!1),_=(0,n.useMemo)((()=>{var e;return l||(null===k||void 0===k||null===(e=k.find((e=>e.orgID)))||void 0===e?void 0:e.orgID)}),[l,k]),[S]=(0,n.useMemo)((()=>{const e=(null===k||void 0===k?void 0:k.filter((e=>e.role&&"none"!==e.role)))||[];return[e.filter((e=>e.orgID===_)),e.filter((e=>e.orgID!==_))]}),[k,_]),[N,L]=(0,n.useMemo)((()=>{var e;return[(null===k||void 0===k?void 0:k.filter((e=>!e.role||"none"===e.role)))||[],(null===k||void 0===k||null===(e=k.filter((e=>"admin"===e.role||"editor"===e.role)))||void 0===e?void 0:e.length)||0]}),[k]),D=(0,n.useMemo)((()=>[{value:"admin",label:p.$t({id:"3wmuyF",defaultMessage:"Administrator"})},{value:"editor",label:p.$t({id:"fWKwFM",defaultMessage:"Editor"})}]),[p]),R=(0,n.useMemo)((()=>[{text:p.$t({id:"3wmuyF",defaultMessage:"Administrator"}),value:"admin"},{text:p.$t({id:"fWKwFM",defaultMessage:"Editor"}),value:"editor"}]),[p]),Z=(0,n.useMemo)((()=>{var e,t;return(null===(e=Array.from(new Set(null===k||void 0===k||null===(t=k.filter((e=>e.orgName)))||void 0===t?void 0:t.map((e=>e.orgName)))))||void 0===e?void 0:e.map((e=>({text:null!==e&&void 0!==e?e:"",value:null!==e&&void 0!==e?e:""}))))||[]}),[k]),F=(0,n.useMemo)((()=>y.length>0),[y]),z=(0,n.useMemo)((()=>D.map((e=>{const t=("admin"===e.value||"editor"===e.value)&&L>=d;return{...e,disabled:t}}))),[D,d,L]),[B,V]=(0,n.useState)(),[H,W]=(0,n.useState)(),U=(0,n.useRef)(null),q=(0,n.useMemo)((()=>{let e=S||[];return B&&(e=e.filter((e=>e.uid.toLowerCase().includes(B.toLowerCase())))),H&&(e=e.filter((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(H.toLowerCase()))||(0,Bn.N9)(e.name||"",{toneType:"none"}).toLowerCase().includes(H.toLowerCase())}))),e}),[S,B,H]),G=(0,n.useCallback)((e=>"freeUsers"===e?p.$t({id:"58L2kE",defaultMessage:"Free Users"}):"viewers"===e?p.$t({id:"37mth/",defaultMessage:"Viewers"}):p.$t({id:"n78zqT",defaultMessage:"Seats"})),[p]),$=(0,n.useCallback)((async e=>{O(!0);try{await e()}catch(t){const e=t;try{if("QuotaLimitError"===(null===e||void 0===e?void 0:e.name)&&null!==e&&void 0!==e&&e.message){const t=JSON.parse(e.message);Yt.ZP.error(p.$t({id:"isA/hY",defaultMessage:"The number of added {item} exceeds the current plan's limit {limit}. Please reduce the number or contact us to upgrade."},{item:(0,m.jsx)("strong",{children:G(t.item)}),limit:(0,m.jsx)("strong",{children:t.limit})}))}}catch{}}finally{O(!1)}}),[p,G]),J=(0,n.useCallback)((async(e,t)=>{await $((async()=>{await s.updateRole(x,{roleMap:{[e]:t}}),await T()}))}),[$,s,x,T]),K=(0,n.useCallback)((async e=>{await $((async()=>{await s.updateRole(x,{roleMap:{[e]:null}}),await T()}))}),[$,s,x,T]),Y=(0,n.useMemo)((()=>[{title:"User ID",dataIndex:"uid",key:"uid",filteredValue:B?[B]:void 0,...Jn("",U,V),width:300},{title:p.$t({id:"HAlOn1",defaultMessage:"Name"}),dataIndex:"name",key:"name",render:e=>null!==e&&void 0!==e?e:(0,m.jsx)("span",{className:Yn.na,children:"N/A"}),filteredValue:H?[H]:void 0,...Jn("",U,W),width:200},{title:p.$t({id:"1ZgrhW",defaultMessage:"Role"}),dataIndex:"role",key:"role",filterMode:"menu",filters:R,onFilter:(e,t)=>t.role===e,render:(e,t)=>(0,m.jsx)(An.Z,{className:Yn.roleSelect,value:e,style:{width:140},onChange:e=>J(t.id,e),options:D}),width:160},{title:p.$t({id:"K56Dim",defaultMessage:"Organization"}),dataIndex:"orgName",key:"orgName",filterMode:"menu",filters:Z,onFilter:(e,t)=>t.orgName===e,width:150},{title:p.$t({id:"QlsDcr",defaultMessage:"Action"}),key:"action",render:(e,t)=>(0,m.jsx)(Fn.Z,{title:p.$t({id:"tXex/H",defaultMessage:"Are you sure to delete?"}),onConfirm:()=>K(t.id),okText:p.$t({id:"a5msuh",defaultMessage:"Yes"}),cancelText:p.$t({id:"oUWADl",defaultMessage:"No"}),children:(0,m.jsx)(be.ZP,{type:"link",danger:!0,children:p.$t({id:"K3r6DQ",defaultMessage:"Delete"})})}),width:60}]),[B,p,H,R,Z,D,J,K]),Q=(0,n.useMemo)((()=>Y.filter((e=>"orgName"!==e.key))),[Y]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(re.Vq,{visible:t,footer:null,title:(0,m.jsxs)(g.Z,{align:"center",gap:4,children:[p.$t({id:"WeWZ5Q",defaultMessage:"Manage Seats"})," ","lark"===r&&(0,m.jsx)(gi.Z,{title:p.$t({id:"b58EnR",defaultMessage:"<a>See instruction</a>"},{a:e=>(0,m.jsx)("a",{href:Kn.Xe,target:"_blank",rel:"noreferrer",children:e})}),children:(0,m.jsx)(St.Z,{type:"info",cursor:"pointer"})}),(0,m.jsxs)("div",{className:Yn.item,children:[(0,m.jsxs)("div",{className:Yn.label,children:[(0,m.jsx)("span",{children:p.$t({id:"n78zqT",defaultMessage:"Seats"})}),(0,m.jsx)(fe.L0,{text:(0,se.Em)({id:"3xu7dx",defaultMessage:"This section displays the number of assigned seats and the total number of seats for your team. Assigned seats include both assigned admin and editor seats. Total seats refer to the total number of seats purchased by the organization, including admin, editor and viewer seats."})})]}),(0,m.jsx)(Nn,{max:d+c,used:L,showLabel:!0})]}),j&&c>0&&(0,m.jsxs)("div",{className:Yn.item,children:[(0,m.jsxs)("div",{className:Yn.label,children:[(0,m.jsx)("span",{children:p.$t({id:"26aLQR",defaultMessage:"Includes viewers:"})}),!I&&(0,m.jsx)(fe.L0,{text:(0,se.Em)({id:"kdWYMW",defaultMessage:"Read-only access"})}),I&&(0,m.jsx)(fe.L0,{linkUrl:Rn.g_,text:(0,se.Em)({id:"E926Nm",defaultMessage:"To assign viewer seats, please go to the <a>Admin Console</a>"}),secondary:(0,m.jsx)(fe.BQ,{text:(0,se.Em)({id:"L+3IEh",defaultMessage:"or refer to the <a>Help Doc</a>"}),linkUrl:M,isFeishuDashboard:u})})]}),c]})]}),width:880,onCancel:i,destroyOnHidden:!0,zIndex:1049,children:(0,m.jsxs)("div",{className:Yn.container,children:[(0,m.jsx)(o.Z,{defaultActiveKey:"members",onChange:function(e){V(void 0),W(void 0)},items:[{key:"members",label:p.$t({id:"+a+2ug",defaultMessage:"Members"}),children:(0,m.jsx)(zn.default,{className:Yn.table,dataSource:q,columns:Q,rowKey:"uid",loading:P||E,pagination:{position:["bottomLeft"],size:"small"}})}]}),(0,m.jsx)("div",{className:Yn.actions,children:(0,m.jsx)(be.ZP,{type:"primary",onClick:function(){C("editor"),w([]),f(!0)},disabled:0===d&&0===c&&!F,children:p.$t({id:"BcSdw3",defaultMessage:"Add Members"})})})]})}),(0,m.jsx)(re.Vq,{title:p.$t({id:"BcSdw3",defaultMessage:"Add Members"}),visible:h,width:680,zIndex:1050,destroyOnHidden:!0,onCancel:()=>f(!1),footer:(0,m.jsxs)(g.Z,{justify:"end",align:"center",gap:24,children:[(0,m.jsx)(be.ZP,{onClick:()=>f(!1),children:p.$t({id:"47FYwb",defaultMessage:"Cancel"})}),(0,m.jsx)(be.ZP,{type:"primary",onClick:async function(){F&&await $((async()=>{const e=y.reduce(((e,t)=>(e[t]=b,e)),{});await s.updateRole(x,{roleMap:e}),await T(),f(!1),w([])}))},disabled:!F,loading:P,children:p.$t({id:"2/2yg+",defaultMessage:"Add"})})]}),children:(0,m.jsxs)(v.Z,{labelCol:{span:6},labelAlign:"left",children:[(0,m.jsx)(v.Z.Item,{label:p.$t({id:"1ZgrhW",defaultMessage:"Role"}),children:(0,m.jsx)(An.Z,{style:{width:"100%"},value:b,onChange:C,options:z})}),(0,m.jsx)(v.Z.Item,{label:p.$t({id:"+a+2ug",defaultMessage:"Members"}),tooltip:(0,m.jsx)(fe.BQ,{text:(0,se.Em)({id:"UFwpet",defaultMessage:"If you can't find the member or their name in the list, <a>follow this guide</a> to resolve."}),link:"selectMembers",isFeishuDashboard:u}),children:(0,m.jsx)(An.Z,{showSearch:!0,mode:"multiple",style:{width:"100%"},placeholder:p.$t({id:"NhDXeq",defaultMessage:"Search or select users"}),value:y,onChange:w,options:N.map((e=>{var t;return{label:(0,m.jsxs)("span",{className:Yn.user,children:[e.name?(0,m.jsx)("strong",{className:Yn.name,children:e.name}):"",(0,m.jsx)("span",{children:e.uid})]}),title:((null!==(t=e.name)&&void 0!==t?t:"")+"_"+e.uid).toLowerCase(),value:e.id}})),filterOption:(e,t)=>{const i=(null===t||void 0===t?void 0:t.title)||"",n=e.toLowerCase();return i.includes(n)||(0,Bn.N9)(i,{toneType:"none"}).toLowerCase().includes(n)}})})]})})]})}var Xn=i(74797),eo=i(22963);const to=(0,eo.Fs)({baseURL:"".concat(Xn.Z.baseApiURL,"/workspaces")});class io extends eo.tr{async listUsers(e){try{const{data:t}=await this.fetch.get("/".concat(e,"//users/"),{ignoreError:!0});return t.detail}catch{return null}}async updateRole(e,t){const{data:i}=await this.fetch.patch("/".concat(e,"//users/"),t);return i.detail}async removeRole(e,t){const{data:i}=await this.fetch.delete("/".concat(e,"//users/").concat(t,"/"));return i.detail}}const no=new io(to);function oo(e){return(0,m.jsx)(Qn,{...e,service:no})}var ao=i(40621),lo=i(15328);function ro(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null!==(i=(0,lo.cS)(e,"plan.type",n?"edu":o?"trial":t))&&void 0!==i?i:""}var so=i(38362);const co="planInfo_pane__DATqi",uo="planInfo_plan__IzIma",po="planInfo_title__Vk9EE",ho="planInfo_info__0Fy4m",vo="planInfo_usage__Le06P",go="planInfo_actions__Gh73q",fo="planInfo_button__-LduQ",mo="planInfo_icon__Q9bIi",yo="planInfo_links__TFhFY",wo="planInfo_blue__zdcXQ",bo="planInfo_mauIcon__+T60k",Co="planInfo_mauInfo__l9Qti",xo="planInfo_tooltipDescription__iijDb",Io="planInfo_mauTable__np58e",jo="planInfo_avgRow__8Svi4",Mo="viewerList_wrapper__jmlVL",ko="viewerList_exportButton__ibVNT";function To(e){const{projectID:t,platform:i,open:n=!1,onDismiss:o}=e,l=(0,a.Z)(),{data:r}=(0,A.ZP)(n?["dashboard/usage",t]:null,(()=>Ln.Z.usage(i,t))),s=[{title:l.$t({id:"55vTH+",defaultMessage:"User ID"}),dataIndex:"userID",key:"userID"},{title:l.$t({id:"HAlOn1",defaultMessage:"Name"}),dataIndex:"name",key:"name"},{title:l.$t({id:"2eBObM",defaultMessage:"Last View Time"}),dataIndex:"lastViewTime",key:"lastViewTime",render:e=>(0,it.o0)(e)}];return(0,m.jsx)(Tn.Vq,{width:800,title:l.$t({id:"D6pV4B",defaultMessage:"Viewer List"}),visible:n,onOk:o,onCancel:o,cancelText:null,destroyOnHidden:!0,children:(0,m.jsxs)("div",{className:Mo,children:[(0,m.jsx)(zn.default,{columns:s,dataSource:r||[],rowKey:"userID",pagination:{pageSize:20}}),(0,m.jsx)(be.ZP,{type:"primary",onClick:()=>{if(!r||0===r.length)return;const e=[[l.$t({id:"55vTH+",defaultMessage:"User ID"}),l.$t({id:"HAlOn1",defaultMessage:"Name"}),l.$t({id:"2eBObM",defaultMessage:"Last View Time"})].join(","),...r.map((e=>[e.userID,e.name||"",(0,it.o0)(e.lastViewTime)].map((e=>'"'.concat(e,'"'))).join(",")))].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),n=URL.createObjectURL(t);i.setAttribute("href",n),i.setAttribute("download","viewer_list.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},className:ko,children:l.$t({id:"SVwJTM",defaultMessage:"Export"})})]})})}const Eo=()=>{const e=(0,a.Z)(),t=(0,w.I)(),i=(0,so.tq)(),{planInfo:o,orgId:r,id:s}=(0,l.Z)((e=>e.user)),{showUpgradePlanDialog:d,currentProjectId:u}=(0,l.Z)((e=>e.project)),[p,h]=(0,n.useState)(!1),[v,g]=(0,n.useState)(!1),{plan:f,expireAt:y,members:b}=(null===o||void 0===o?void 0:o.teamPlan)||{plan:"base"},{isPro:C,isTrial:x,proExpirationAt:I,isOverQuota:j,canTrial:M,isAdmin:k,teamPlan:T}=o||{},E=x?I:y,P=C&&x,O=C&&"base"!==f,_=(null===T||void 0===T?void 0:T.prevPlan)&&"base"!==T.prevPlan,S=O||_,{isFeiShu:N}=(0,qi.k)(),L=N?"feishuDashboard":"larkDashboard",{data:D}=(0,A.ZP)(["getPlanStat"],(()=>Ln.Z.stat(N?"feishuDashboard":"larkDashboard"))),R=(0,n.useMemo)((()=>{var e;return(null===D||void 0===D||null===(e=D[0])||void 0===e||null===(e=e.userIDs)||void 0===e?void 0:e.length)||1}),[D]),[Z,F,z]=(0,n.useMemo)((()=>M?[e.$t({id:"9bIRYn",defaultMessage:"Start Trial"}),e.$t({id:"QMGiUF",defaultMessage:"Free Trial"}),e.$t({id:"/0x6rd",defaultMessage:"Get Map Widgets free for 7 days. No credit card needed."})]:j?[e.$t({id:"bcUuyQ",defaultMessage:"Expand Capacity Now"}),e.$t({id:"l43c99",defaultMessage:"Monthly Active Users Limit Exceeded"}),e.$t({id:"UtBGfJ",defaultMessage:"Your current plan supports {members} active users, but your organization have already reached {mau}. To continue using, please expand your capacity."},{mau:(0,m.jsx)("span",{className:wo,children:R}),members:(0,m.jsx)("span",{className:wo,children:b})})]:[e.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),e.$t({id:"8Wfi09",defaultMessage:"Upgrade Plan"}),e.$t({id:"VpP9R+",defaultMessage:"Upgrade plan to save all your changes and unlock full potential of Map Widgets."})]),[M,j,e,R,b]),B=(0,n.useMemo)((()=>{if(!D)return{recentMonths:[],avg:0};const e=D.slice(0,3).map((e=>{var t;return{month:e.month,value:(null===(t=e.userIDs)||void 0===t?void 0:t.length)||0}})),t=Math.ceil(e.reduce(((e,t)=>e+t.value),0)/e.length);return{recentMonths:e,avg:t}}),[D]),V=(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:xo,children:e.$t({id:"ToBfWC",defaultMessage:"This shows how many team members engaged(view or edit) the map widgets at least once in the past 3 months, and the current active seat count for your team."})}),(0,m.jsx)("table",{className:Io,children:(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{className:jo,children:[(0,m.jsx)("th",{children:e.$t({id:"rbVj9G",defaultMessage:"Avg."})}),(0,m.jsx)("td",{children:B.avg})]}),B.recentMonths.map((e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:e.month}),(0,m.jsx)("td",{children:e.value})]},e.month)))]})})]});const H=n=>n&&M?(async function(){try{var e;if("completed"!==(null===(e=(await Ln.Z.createOrder(L,"trial",{paymentMethod:"stripe"})).detail)||void 0===e||null===(e=e.order)||void 0===e?void 0:e.status))return;const{code:i,detail:n}=await Ln.Z.getOrdersPlan(L);if(0!==i)return;await t(Zn.Nw.planChange(n))}catch{}}(),Yt.ZP.success(e.$t({id:"YiiMWN",defaultMessage:"Free trial activated! Click Confirm to add or save this map to the dashboard."})),void t(c.Nw.setUpgradePlanDialogVisible(!1))):i?Yt.ZP.info(e.$t({id:"+UNKHA",defaultMessage:"Please process the upgrade from your computer"})):(t(c.Nw.setUpgradeDialogVisible(!0)),void Dn.Z.mpTrackClick("Plan","Upgrade",e.locale,{}));return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:co,children:[(0,m.jsxs)("div",{className:uo,children:[(0,m.jsx)("div",{className:po,children:e.$t({id:"BJ+nP3",defaultMessage:"Current Version:"})}),(0,m.jsx)("div",{className:ho,children:P?e.$t({id:"PI5zms",defaultMessage:"Free trial"}):ro(e,f)}),(0,m.jsx)("div",{className:po,children:e.$t({id:"H4Yg5N",defaultMessage:"MAU in this month:"})}),(0,m.jsxs)("div",{className:ho,children:[(0,m.jsxs)("span",{children:[R,O?" / ".concat(null!==b&&void 0!==b?b:1):""]}),(0,m.jsx)(gi.Z,{title:V,placement:"bottom",children:S?(0,m.jsx)(St.Z,{type:"info",className:bo}):(0,m.jsx)("div",{className:Co,children:e.$t({id:"UZOCOp",defaultMessage:"See MAU usage for last 3 months"})})}),S&&(0,m.jsx)(Nn,{className:vo,max:null!==b&&void 0!==b?b:1,used:R}),S&&k&&(0,m.jsx)(be.ZP,{type:"link",onClick:()=>h(!0),children:e.$t({id:"WeWZ5Q",defaultMessage:"Manage Seats"})})]}),C&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:po,children:e.$t({id:"KCsbwB",defaultMessage:"Valid Until:"})}),(0,m.jsx)("div",{className:ho,children:E&&(0,it.p6)(E)})]}),r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:po,children:e.$t({id:"ToZCol",defaultMessage:"Organization:"})}),(0,m.jsx)("div",{className:ho,children:r})]}),s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:po,children:e.$t({id:"IVcbdP",defaultMessage:"User:"})}),(0,m.jsx)("div",{className:ho,children:s})]})]}),(0,m.jsxs)("div",{className:go,children:[O?(0,m.jsx)(be.ZP,{className:fo,type:"default",size:"small",onClick:()=>H(!1),children:e.$t({id:"ljqbVr",defaultMessage:"Add more seats"})}):(0,m.jsx)(ao.Z,{onClick:()=>H(!1),children:_?e.$t({id:"7q/bs/",defaultMessage:"Renew now"}):e.$t({id:"mmafso",defaultMessage:"Subscribe now"})}),O&&k&&(0,m.jsx)(be.ZP,{className:fo,type:"default",size:"small",onClick:()=>g(!0),children:e.$t({id:"D6pV4B",defaultMessage:"Viewer List"})})]})]}),(0,m.jsxs)("div",{className:yo,children:[(0,m.jsxs)("span",{children:[(0,m.jsx)(St.Z,{type:"chat",className:mo}),(0,m.jsx)("a",{href:Rn.Hf,target:"_blank",rel:"noreferrer",children:e.$t({id:"nCYYaf",defaultMessage:"Need help? Contact us"})})]}),(0,m.jsxs)("span",{children:[(0,m.jsx)(St.Z,{type:"document",className:mo}),(0,m.jsx)("a",{href:(0,fe.t1)(e.locale,"dashboardPricing",N),target:"_blank",rel:"noreferrer",children:e.$t({id:"vBlT6y",defaultMessage:"Documents"})})]})]}),(0,m.jsx)(oo,{open:p,onDismiss:()=>h(!1),type:L,members:null!==b&&void 0!==b?b:0,enableOutside:!1,isFeishuDashboard:N}),u&&(0,m.jsx)(To,{open:v,onDismiss:()=>g(!1),projectID:u,platform:L}),(0,m.jsx)(Tn.Vq,{title:F,visible:!!d,onOk:()=>H(!0),okText:Z,onCancel:()=>t(c.Nw.setUpgradePlanDialogVisible(!1)),cancelText:null,destroyOnHidden:!0,children:(0,m.jsxs)("span",{children:[z,"\xa0",(0,m.jsx)("a",{href:(0,fe.t1)(e.locale,"dashboardPricing",N),target:"_blank",rel:"noreferrer",children:e.$t({id:"tbcTs8",defaultMessage:"Learn more about Map Widgets."})})]})})]})},Po={form:"configPanel_form__eLBE5",divider:"configPanel_divider__1AHaq",container:"configPanel_container__9IYea",whiteBg:"configPanel_whiteBg__cBAcm",box:"configPanel_box__+P8pt",configLabel:"configPanel_configLabel__kqCUv",configLabelTooltip:"configPanel_configLabelTooltip__CPWoz",colorSection:"configPanel_colorSection__CUmo9",horizontal:"configPanel_horizontal__d0t1A",heightSettingProBadge:"configPanel_heightSettingProBadge__DRY3g",labelContainer:"configPanel_labelContainer__rCN1u",labelBox:"configPanel_labelBox__HeA2k",labelWrap:"configPanel_labelWrap__g+YuO",baseMapSwitch:"configPanel_baseMapSwitch__lV+so",mask:"configPanel_mask__ni06x"},Oo=n.forwardRef(((e,t)=>{const{layerType:i,layers:l}=e,r=(0,a.Z)(),s=(0,n.useRef)(),[d,c]=(0,n.useState)("style");(0,n.useImperativeHandle)(t,(()=>{var e;return{form:null===(e=s.current)||void 0===e?void 0:e.form}}));const u=(0,n.useMemo)((()=>[{key:"style",label:r.$t({id:"7mL9QE",defaultMessage:"Style"}),forceRender:!0,children:(0,m.jsx)("div",{className:Po.pane,children:(0,m.jsx)(kn,{layerType:i,ref:s,layers:l})})},{key:"plan",label:r.$t({id:"fz0z4c",defaultMessage:"Plan"}),forceRender:!0,children:(0,m.jsx)("div",{className:Po.pane,children:(0,m.jsx)(Eo,{})})}]),[r,i,l]);return(0,m.jsx)(o.Z,{size:"small",defaultActiveKey:"style",activeKey:d,onChange:c,items:u})}))},5446:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>k});var o=i(57435),a=i(41439),l=i(50239),r=i(71105),s=i(15905),d=i(89166),c=i(95620),u=i(74922),p=i(20881),h=i(84991),v=i(80401),g=i(34061),f=i(45818),m=i(12866),y=i(54827),w=i(68429),b=i(15328),C=i(52403),x=i(94553),I=e([m]);m=(I.then?(await I)():I)[0];const j=e=>{let{preview:t,config:i,layerType:n="pointLinePolygon",isSaving:m,onSubmit:y}=e;const b=(0,c.Z)(),{isConfig:I,isCreate:j}=(0,u.Z)(),{isFeiShu:M}=(0,h.k)(),{theme:k}=(0,v.F)();(0,p.X)(n);const T=(0,o.useMemo)((()=>{switch(n){case"heatmap":return(0,f.t1)(b.locale,"dashboardHeatmap",M);case"region":return(0,f.t1)(b.locale,"dashboardRegion",M);default:return(0,f.t1)(b.locale,"dashboardIcon",M)}}),[M,n,b.locale]);return(0,x.jsxs)(a.Z,{className:C.Z.main,"data-config-status":I||j,"data-theme":k,children:[(0,x.jsx)(a.Z.Content,{className:C.Z.preview,"data-config-status":I||j,"data-theme":k,children:t}),(I||j)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.Z,{justify:"space-between",className:C.Z.configPanel,children:(0,x.jsx)("div",{className:C.Z.config,children:i})}),(0,x.jsx)(l.Z,{className:C.Z.footer,children:(0,x.jsx)("div",{className:C.Z.adSection,children:(0,x.jsxs)(r.Z,{className:C.Z.helpContainer,justify:"space-between",align:"middle",children:[(0,x.jsx)(s.Z,{span:6,children:(0,x.jsx)(d.ZP,{icon:(0,x.jsx)(w.Z,{type:"document"}),type:"link",href:T,target:"_blank",className:C.Z.helpBtn,children:b.$t({id:"feishu.dashboard.helpDoc",defaultMessage:"Docs"})})}),(0,x.jsx)(s.Z,{span:8,children:(0,x.jsx)(d.ZP,{icon:(0,x.jsx)(w.Z,{type:"userGroup"}),type:"link",href:g.Hf,target:"_blank",className:C.Z.helpBtn,children:b.$t({id:"feishu.dashboard.feedbackGroup",defaultMessage:"Feedback"})})}),(0,x.jsx)(s.Z,{span:10,className:C.Z.submitSection,children:(0,x.jsx)(d.ZP,{type:"primary",className:C.Z.submitBtn,loading:m,onClick:y,children:b.$t({id:"N2IrpM",defaultMessage:"Confirm"})})})]})})})]})]})},M=(0,y.Z)((()=>(0,b.wv)({id:"nywAPu",defaultMessage:"Something went wrong, please refresh and reopen the page."})))(j),k=(0,m.Z)(M);n()}catch(j){n(j)}}))},27862:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>o.Z});var o=i(5446),a=e([o]);o=(a.then?(await a)():a)[0],n()}catch(l){n(l)}}))},76744:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Sr});var n=i(57435),o=i(17778),a=i(95620),l=i(30289),r=i(27371),s=i(59680),d=i(55349),c=i.n(d),u=i(4738);const p=[116.39954964813437,39.89971150688763];var h=i(47046),v=i(22411),g=i(4069),f=i(44669),m=i(10276),y=i(75805),w=i(42063),b=i(74922),C=i(84991),x=i(68906),I=i(30768),j=i(9275),M=i(38882),k=i(7070),T=i.n(k),E=i(11865),P=i.n(E),O=i(33718),_=i(27831),S=i.n(_),N=i(53182),L=i.n(N),D=i(23903),R=i.n(D),Z=i(18765),A=i.n(Z),F=i(34362),z=i.n(F),B=i(50239),V=i(14840),H=i(40436),W=i(40517),U=i(80593),q=i(68429),G=i(98238),$=i(89983),J=i(89614),K=i(89166),Y=i(76625),Q=i(79129),X=i(56912),ee=i(44839),te=i(30423),ie=i(83580),ne=i(1714),oe=i(69151),ae=i(65270),le=i(46481);function re(e,t,i){var n;const o=null===t||void 0===t||null===(n=t.find((e=>e.id===i)))||void 0===n?void 0:n.columns;if(!o)return e||[];const a=o.map((e=>e.id));return(e||[]).filter((e=>a.includes(e.id)))}(0,le.P1)([(e,t)=>{var i;return ne.TW.selectById(e,null!==(i=t.tableNodeId)&&void 0!==i?i:NaN)},(e,t)=>t.viewId],((e,t)=>re(null===e||void 0===e?void 0:e.columns,null===e||void 0===e?void 0:e.views,t)));var se=i(49633),de=i(23705),ce=i(85886),ue=i.n(ce),pe=i(82959),he=i.n(pe),ve=i(11546);function ge(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;const o=(0,a.Z)(),[l,s]=(0,n.useState)([]);(0,n.useEffect)((()=>{s((()=>{if(t&&t.length>0){const i=he()(t.map((t=>e.find((e=>e.id===t))))).map((e=>({...e,isHidden:!1}))),n=A()(e,(e=>-1===t.indexOf(e.id))).map((e=>({...e,isHidden:!0})));return ue()(i,n)}return e.map(((e,t)=>({...e,isHidden:t>=i})))}))}),[e,i,t]);const d=(0,n.useCallback)((e=>{const{oldIndex:t}=e;let{newIndex:i}=e;l[i].isHidden&&(i=l.findIndex((e=>e.isHidden))-1);const n=(0,de.Rp)(l,t,i),a=L()(n);if(a&&!ve.Vj.includes(a.type))return r.ZP.info(o.$t({id:"AFeshb",defaultMessage:"This type of field cannot be the title"}));s(n)}),[o,l]),c=(0,n.useCallback)((e=>{s((t=>{const n=t.findIndex((t=>t.id===e.id)),a=t.filter((e=>!e.isHidden)).length;if(e.isHidden){if(a===i)return r.ZP.warning(o.$t({id:"gAh7Yb",defaultMessage:"Maximum display field exceeded"})),t;let e=t.findIndex((e=>e.isHidden));e=-1===e?0:e,t=(0,de.Rp)(t,n,e)}else{if(1===a)return t;let e=t.findIndex((e=>e.isHidden));e=-1===e?t.length-1:e-1,t=(0,de.Rp)(t,n,e)}return t.map((t=>t.id===e.id?{...t,isHidden:!t.isHidden}:t))}))}),[i,o]);return{movableColumns:l,handleMove:d,handleSwitchVisibility:c}}const fe={resetButton:"fieldSettingModal_resetButton__MOBkV",movableItem:"fieldSettingModal_movableItem__gftIE",columnIcon:"fieldSettingModal_columnIcon__-BnZr",columnName:"fieldSettingModal_columnName__wqybB",handle:"fieldSettingModal_handle__HrQrT",hidden:"fieldSettingModal_hidden__Jnex4",switch:"fieldSettingModal_switch__JV5pl",switchText:"fieldSettingModal_switchText__4senN",fieldList:"fieldSettingModal_fieldList__f9-yk",tabs:"fieldSettingModal_tabs__6Jwie",tab:"fieldSettingModal_tab__X2pdi",tabButton:"fieldSettingModal_tabButton__25FFS",selectedButton:"fieldSettingModal_selectedButton__Go8fM",buttonText:"fieldSettingModal_buttonText__PyNz1",caretIcon:"fieldSettingModal_caretIcon__OuLtV",plusButton:"fieldSettingModal_plusButton__k10K-",iconOnly:"fieldSettingModal_iconOnly__668CH",tabInput:"fieldSettingModal_tabInput__uobVt",notification:"fieldSettingModal_notification__H7WF2",form:"fieldSettingModal_form__rErxm",layoutLabel:"fieldSettingModal_layoutLabel__nMxuc",divider:"fieldSettingModal_divider__gMScr"};var me=i(94553);const ye=e=>{let{columns:t,visibleIdsSorted:i,onColumnsUpdate:o,maxVisibleCount:l}=e;const{movableColumns:r,handleMove:s,handleSwitchVisibility:d}=ge(t,i,l),c=(0,a.Z)();return(0,n.useEffect)((()=>{null===o||void 0===o||o(A()(r,(e=>!e.isHidden)).map((e=>e.id)))}),[r,o]),(0,me.jsx)("div",{className:fe.fieldList,children:(0,me.jsx)(de.aV,{lockVertically:!0,values:r,onChange:s,renderList:e=>{let{children:t,props:i}=e;return(0,me.jsx)("div",{...i,children:t})},renderItem:e=>{var i,n;let{value:o,props:a}=e;return(0,me.jsxs)("div",{...a,className:(0,O.default)(fe.movableItem,o.isHidden&&fe.hidden),children:[(0,me.jsx)(K.ZP,{className:fe.handle,type:"text",size:"small","data-movable-handle":!0,icon:(0,me.jsx)(q.Z,{type:"movable",className:fe.icon})}),(0,me.jsx)(q.Z,{type:(null===t||void 0===t||null===(i=t.find((e=>e.id===o.id)))||void 0===i?void 0:i.type)||"multiLineText",className:fe.columnIcon}),(0,me.jsx)("div",{className:fe.columnName,children:null===t||void 0===t||null===(n=t.find((e=>e.id===o.id)))||void 0===n?void 0:n.name}),(0,me.jsx)(se.Z,{className:fe.switch,style:{marginLeft:"auto"},size:"small",checked:!o.isHidden,onChange:e=>d(o)}),(0,me.jsx)("div",{className:fe.switchText,children:o.isHidden?c.$t({id:"VA/Z1S",defaultMessage:"Hide"}):c.$t({id:"K7AkdL",defaultMessage:"Show"})})]})}})})},we=[{value:"clickBtn",msg:(0,Q.Em)({id:"cY7cXz",defaultMessage:"Click close button"})},{value:"clickOtherPOI",msg:(0,Q.Em)({id:"G4dL90",defaultMessage:"Click other POIs"})},{value:"clickBlankSpace",msg:(0,Q.Em)({id:"A/RzDx",defaultMessage:"Click blank space"})}],be=[{value:"horizontal",msg:(0,Q.Em)({id:"map.sort.table",defaultMessage:[]}),icon:(0,me.jsx)(q.Z,{type:"sortTable"})},{value:"vertical",msg:(0,Q.Em)({id:"map.sort.list",defaultMessage:[]}),icon:(0,me.jsx)(q.Z,{type:"sortList"})}],Ce=e=>{var t;let{tableNodeId:i,poi:o,dialog:l,setInfoWindowConfig:s,checkPermission:d}=e;const c=(0,te.I)(),u=(0,a.Z)(),{isMobile:p}=(0,ae.F)(),[h]=J.Z.useForm(),v=(0,x.Z)((e=>e.project.infoWindowConfig)),{currentProjectId:g}=(0,x.Z)((e=>e.project)),f=(0,x.Z)((e=>(0,ee.Y)(e,g))).find((e=>e.id===(null===o||void 0===o?void 0:o.layerID))),m=(0,x.Z)((e=>ne.TW.selectById(e,i))),y=(0,n.useMemo)((()=>{var e;return re(null===m||void 0===m?void 0:m.columns,null===m||void 0===m?void 0:m.views,null===f||void 0===f||null===(e=f.mapInfo)||void 0===e?void 0:e.viewID)}),[null===f||void 0===f||null===(t=f.mapInfo)||void 0===t?void 0:t.viewID,null===m||void 0===m?void 0:m.columns,null===m||void 0===m?void 0:m.views]),w=(0,x.Z)((e=>{var t;return i?null===(t=e.project.infoWindowConfig)||void 0===t?void 0:t.columnIDs[i]:void 0})),b=(0,n.useMemo)((()=>{var e;return{closeWay:(null===v||void 0===v?void 0:v.closeWay)||"clickBtn",coverImage:(null===v||void 0===v||null===(e=v.coverImages)||void 0===e?void 0:e[i])||(null===v||void 0===v?void 0:v.coverImage)||"null",layout:(null===v||void 0===v?void 0:v.layout)||"horizontal"}}),[v,i]),C=[{id:"null",name:u.$t({id:"OxgxSh",defaultMessage:"None (show text only)"})}],I=(0,n.useMemo)((()=>A()(y,(e=>"attachment"===e.type||(0,oe.Q4)(e)))),[y]),[j,M]=(0,n.useState)([]),k=(0,n.useCallback)((e=>{M(e)}),[M]);return(0,me.jsxs)(ie.Vq,{okText:u.$t({id:"jvo0vs",defaultMessage:"Save"}),title:u.$t({id:"L+ZBoI",defaultMessage:"Configure info window content"}),visible:l.visible,onCancel:l.close,onOk:async function(){if(!await d(u))return!1;const e=await h.validateFields(),t={closeWay:e.closeWay,coverImages:{[i]:e.coverImage||null},columnIDs:{[i]:j},layout:e.layout};await s(t,c),r.ZP.success(u.$t({id:"AdgQ3V",defaultMessage:"Saved successfully"})),l.close()},footerAddon:(0,me.jsx)(K.ZP,{type:"link",className:fe.resetButton,onClick:async function(){if(!await d(u))return!1;const e={closeWay:"clickBtn",coverImages:{[i]:null},columnIDs:{[i]:[]},layout:"horizontal"};await s(e,c),r.ZP.success(u.$t({id:"Lz0FRE",defaultMessage:"Default config restored"})),l.close()},children:u.$t({id:"w+7O+F",defaultMessage:"Default config"})}),children:[(0,me.jsxs)("div",{className:fe.notification,children:[u.$t({id:"MqJIVL",defaultMessage:"You can adjust the display fields on the info window, and support up to {count} fields. The first field is title."},{count:6}),(0,me.jsx)("b",{children:u.$t({id:"LxhrV3",defaultMessage:"The config will take effect on all POI info windows in the project."})})]}),(0,me.jsxs)(J.Z,{colon:!1,labelAlign:"left",labelCol:{span:8},requiredMark:!1,form:h,initialValues:b,className:fe.form,children:[(0,me.jsx)(J.Z.Item,{name:"closeWay",label:u.$t({id:"rx4K7I",defaultMessage:"Window closing"}),hidden:p,children:(0,me.jsx)(ie.Ph,{placeholder:u.$t({id:"kQAf2d",defaultMessage:"Select"}),options:we.map((e=>({value:e.value,label:u.$t(e.msg)}))),"data-testid":"dismiss-type"})}),(0,me.jsx)(J.Z.Item,{name:"coverImage",label:u.$t({id:"TilRBW",defaultMessage:"Cover image"}),children:(0,me.jsx)(X.Z,{placeholder:u.$t({id:"kQAf2d",defaultMessage:"Select"}),options:I,defaultOptions:C})}),(0,me.jsx)(J.Z.Item,{name:"layout",label:u.$t({id:"RQ4EKT",defaultMessage:"Layout"}),children:(0,me.jsx)(ie.Ph,{placeholder:u.$t({id:"kQAf2d",defaultMessage:"Select"}),options:be.map((e=>({value:e.value,label:(0,me.jsxs)(Y.Z,{size:8,align:"center",className:fe.layoutLabel,children:[e.icon,u.$t(e.msg)]})}))),"data-testid":"layout-type"})})]}),(0,me.jsx)(V.Z,{className:fe.divider}),y&&(0,me.jsx)(ye,{columns:y,visibleIdsSorted:w,onColumnsUpdate:k,maxVisibleCount:6})]})};var xe=i(33882),Ie=i(74720),je=i.n(Ie),Me=i(645),ke=i(52643),Te=i(37383),Ee=i(94908),Pe=i(38362);const Oe=()=>{const e=(0,a.Z)(),t=t=>{window.open(t,"_blank"),setTimeout((()=>{document.hidden||r.ZP.warning(e.$t({id:"MaXnoV",defaultMessage:"Can't launch the map? Check if the app is installed."}))}),2e3)};return{navigate:(e,i,n)=>{const o=((e,t,i)=>"gaode"===i?(0,Ee.transformGCJ02ToWGS84)([t,e]):"baidu"===i?Te.default.transform([t,e],Te.default.WGS84,Te.default.BD09):[t,e])(e,i,n),a=o[0],l=o[1],r={gaode:{android:"androidamap://route/plan?sourceApplication=appname&dlat=".concat(l,"&dlon=").concat(a,"&dev=0&style=2"),ios:"iosamap://path?sourceApplication=appname&dlat=".concat(l,"&dlon=").concat(a,"&dev=0&style=2"),web:"https://uri.amap.com/marker?position=".concat(a,",").concat(l,"&callnative=1")},baidu:{android:"baidumap://map/direction?destination=".concat(l,",").concat(a,"&mode=driving&coord_type=wgs84"),ios:"baidumap://map/direction?destination=".concat(l,",").concat(a,"&mode=driving&coord_type=wgs84"),web:"http://api.map.baidu.com/marker?location=".concat(l,",").concat(a,"&title=\u5bfc\u822a&content=\u76ee\u7684\u5730&output=html&src=webapp.maptable.mapview")},google:{android:"comgooglemaps://?daddr=".concat(l,",").concat(a,"&directionsmode=driving"),ios:"comgooglemaps://?daddr=".concat(l,",").concat(a,"&directionsmode=driving"),web:"https://maps.google.com/?daddr=".concat(l,",").concat(a)},apple:{android:null,ios:"maps://maps.apple.com/?daddr=".concat(l,",").concat(a,"&dirflg=d"),web:"maps://maps.apple.com/?daddr=".concat(l,",").concat(a,"&dirflg=d")}}[n];(0,Pe.e3)()?t(r.web):(0,Pe.gn)()?t(r.ios):(0,Pe.Dt)()&&r.android?t(r.android):t(r.web)}}},_e="openMapApp_container__VKOcC",Se="openMapApp_mapApps__UDQhJ",Ne="openMapApp_mapAppItem__C2J3o",Le="openMapApp_cancel__YDt6h",De=e=>{let{visible:t,onClose:i,latitude:o,longitude:l,isOverseas:r}=e;const s=(0,a.Z)(),{navigate:d}=Oe(),c=(0,Pe.gn)(),u=(0,Pe.e3)(),p=(0,n.useMemo)((()=>r?[{name:s.$t({id:"t2gumm",defaultMessage:"Google Maps"}),type:"google"},{...c&&!u?{name:s.$t({id:"RklTtk",defaultMessage:"Apple Maps"}),type:"apple"}:{}}].filter((e=>!!e.name)):[{name:s.$t({id:"iSxfoP",defaultMessage:"Gaode Maps"}),type:"gaode"},{name:s.$t({id:"EKL/78",defaultMessage:"Baidu Maps"}),type:"baidu"},{...c&&!u?{name:s.$t({id:"RklTtk",defaultMessage:"Apple Maps"}),type:"apple"}:{}}].filter((e=>!!e.name))),[r,c,u,s]);return(0,me.jsxs)(ke.Z,{title:s.$t({id:"jB86Wf",defaultMessage:"Navigate to this POI with:"}),placement:"bottom",open:t,height:120+50*p.length,className:_e,onClose:i,children:[(0,me.jsx)("div",{className:Se,children:p.map((e=>(0,me.jsx)("div",{className:Ne,onClick:()=>{var t;(t=e.type)?(d(o,l,t),i()):i()},children:e.name},e.type)))}),(0,me.jsx)("div",{className:Le,onClick:i,children:s.$t({id:"47FYwb",defaultMessage:"Cancel"})})]})};var Re=i(41711),Ze=i(33625),Ae=i(17646),Fe=i.n(Ae),ze=i(6895),Be=i(2550),Ve=i(62618),He=i.n(Ve),We=i(74110),Ue=i(6686),qe=i(68885),Ge=i(12167),$e=i(70);function Je(e,t){const i=(0,Ge.o1)(),o=(0,te.I)(),{view:a}=(0,$e.Pl)(),[r,s]=(0,n.useState)(),[d,c]=(0,n.useState)(),u=(0,te.v)((t=>e?ne.TW.selectById(t,e):null)),p=(0,n.useMemo)((()=>(null===u||void 0===u?void 0:u.type)===We.e.bigTable),[null===u||void 0===u?void 0:u.type]),{data:h}=(0,l.ZP)(p&&!i.sharingParams&&e&&t?["bigtable-row",p,i.sharingParams,e,t]:null,(e=>{let[t,i,n,o,a]=e;return Ue.ZP.getBigTableRow(o,a)})),{data:v}=(0,l.ZP)(p&&i.sharingParams&&e&&t?["bigtable-shared-row",p,i.sharingParams,e,t]:null,(e=>{let[t,i,n,o,a]=e;return Ue.ZP.getSharedBigtableRow(n,o,a)}));(0,n.useEffect)((()=>{var n;if(!t||!u||u.id!==e)return s(void 0),void c(void 0);let o=R()(u.rows,(e=>e.id===t));if(p&&(o=i.sharingParams?v:h),!o)return s(void 0),void c(void 0);const l=u.columns.map((i=>{var n;const a={...i,value:null===(n=o)||void 0===n?void 0:n.cells[i.id],rowId:t,tableNodeId:e};var l;"coordinate"===i.type&&(a.fullAddress=null===(l=o)||void 0===l?void 0:l.cells["".concat(i.id,"-fullAddress")]);return a})),r=null===a||void 0===a?void 0:a.columns,d=He()(l,(e=>{var t;return null===r||void 0===r||null===(t=r.find((t=>t.id===e.id)))||void 0===t?void 0:t.order}));s(d),c(null===(n=o)||void 0===n?void 0:n.shareConfig)}),[u,t,e,a,i.sharingParams,h,v,p]);const g=(0,n.useCallback)((async i=>{if(t&&e){var n;const{payload:a}=await o((0,qe.qp)({...i,id:e,rowId:t})),l=null===(n=a.wsSyncedData)||void 0===n?void 0:n.shareConfig;c(l)}}),[t,e,o]);return{cells:r,shareConfig:d,shareTableRow:g}}var Ke=i(30731),Ye=i(95436);function Qe(e){var t;let{poi:i,originalPoi:o,projectId:a,indicator:l="line",onClickMap:r}=e;const s=null!==o&&void 0!==o?o:i,d=(0,n.useRef)(null),c=(0,te.I)(),u=(0,Pe.tq)(),{cells:p}=Je(null===i||void 0===i?void 0:i.tableNodeID,null!==i&&void 0!==i&&i.cells?void 0:i.id),h=(0,te.v)((e=>a&&(0,ee.Y)(e,a)||[])).find((e=>e.id===(null===i||void 0===i?void 0:i.layerID))),v=(0,te.v)((e=>ne.TW.selectById(e,null===i||void 0===i?void 0:i.tableNodeID))),g=(0,n.useMemo)((()=>{var e;return(0,Ke.bs)(null===v||void 0===v?void 0:v.columns,null===v||void 0===v?void 0:v.views,null===h||void 0===h||null===(e=h.mapInfo)||void 0===e?void 0:e.viewID)}),[null===h||void 0===h||null===(t=h.mapInfo)||void 0===t?void 0:t.viewID,null===v||void 0===v?void 0:v.columns,null===v||void 0===v?void 0:v.views]),f=(0,n.useMemo)((()=>null!==i&&void 0!==i&&i.cells?null===i||void 0===i?void 0:i.cells:null===p||void 0===p?void 0:p.filter((e=>null===g||void 0===g?void 0:g.find((t=>t.id===e.id))))),[p,g,null===i||void 0===i?void 0:i.cells]),m=(0,ze.fx)().map,y=(0,ze.fx)().subMap,w=(0,n.useRef)(),b=null===m||void 0===m?void 0:m.mapTalksMap,C=null===y||void 0===y?void 0:y.mapTalksMap,x=(0,n.useCallback)((e=>{const t=w.current||e;if(!d.current||!b||!t||!s.geometry)return;const i="subMap"===s.from&&C,n=i?C.getContainer():b.getContainer(),o=d.current.querySelector("#anchor-".concat(s.id));let a=[0,0];if(b){const e=b.coordinateToContainerPoint(new Be.c7((0,$.be)(s.geometry).coordinates));a=[e.x,e.y]}if(i){const e=C.coordinateToContainerPoint(new Be.c7((0,$.be)(s.geometry).coordinates));a=[e.x,e.y]}const{x:r,y:c,height:u,width:p}=(null===o||void 0===o?void 0:o.getBoundingClientRect())||{x:0,y:0,width:0,height:0},h=n.getBoundingClientRect(),v=[a[0],a[1]],g=[r+p/2-h.left,c+u/2-h.top];if("line"===l){const e=(0,Ze.U2)(v,g);t.style.transform="translateX(-50%) rotate(".concat(e.degree,"deg)"),t.style.width="".concat(e.width,"px"),t.style.left="".concat(e.left,"px"),t.style.top="".concat(e.top,"px")}"marker"===l&&(t.style.left="".concat(v[0]-Ye.mf/2,"px"),t.style.top="".concat(v[1]-(Ye.mf-4),"px"))}),[b,C,l,s.id,s.geometry,s.from]),I=(0,n.useRef)((e=>{x(e)})),j=(0,n.useCallback)((()=>{c(Re.Nw.remove(s.id))}),[c,s.id]);return(0,n.useEffect)((()=>(u&&(null===b||void 0===b||b.addEventListener("click",j)),()=>{u&&(null===b||void 0===b||b.removeEventListener("click",j))})),[b,j,u]),(0,n.useEffect)((()=>{if(d.current&&b)if(w.current)x();else{const e=document.createElement("div");"line"===l&&(e.className="infowindow-line-".concat(s.id),Fe()(Ye.D0,((t,i)=>{e.style[i]=t}))),"marker"===l&&(e.className="infowindow-marker-".concat(s.id),Fe()(Ye.LW,((t,i)=>{e.style[i]=t})),e.innerHTML='<svg width="'.concat(Ye.mf,'" height="').concat(Ye.mf,'" viewBox="0 0 91 91" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g><path d="M66.9,41.8c0-11.3-9.1-20.4-20.4-20.4c-11.3,0-20.4,9.1-20.4,20.4c0,11.3,20.4,32.4,20.4,32.4S66.9,53.1,66.9,41.8z    M37,41.4c0-5.2,4.3-9.5,9.5-9.5c5.2,0,9.5,4.2,9.5,9.5c0,5.2-4.2,9.5-9.5,9.5C41.3,50.9,37,46.6,37,41.4z"/></g></svg>')),w.current=e,"subMap"===s.from?null===C||void 0===C||C.getContainer().appendChild(w.current):b.getContainer().appendChild(w.current),setTimeout((()=>x()),0),I.current=I.current.bind(null,w.current),window.addEventListener("scroll",I.current),b.on("moving",I.current),b.on("zooming",I.current),b.on("dragrotating",I.current),b.on("resize",I.current),b.on("click",r),null===C||void 0===C||C.on("moving",I.current),null===C||void 0===C||C.on("zooming",I.current),null===C||void 0===C||C.on("dragrotating",I.current),null===C||void 0===C||C.on("resize",I.current),null===C||void 0===C||C.on("click",r)}return()=>{w.current&&b&&(w.current.remove(),w.current=void 0,window.removeEventListener("scroll",I.current),b.off("moving",I.current),b.off("zooming",I.current),b.off("dragrotating",I.current),b.off("resize",I.current),b.off("click",r),null===C||void 0===C||C.off("moving",I.current),null===C||void 0===C||C.off("zooming",I.current),null===C||void 0===C||C.off("dragrotating",I.current),null===C||void 0===C||C.off("resize",I.current),null===C||void 0===C||C.off("click",r))}}),[s.id,s.from,x,b,C,l,r]),(0,n.useEffect)((()=>{if("marker"===l&&b&&s.geometry){const e=b.coordinateToContainerPoint(new Be.c7((0,$.be)(s.geometry).coordinates)),t=b.containerPointToCoordinate(e.add(new Be.E9(0,200)));m.setCenter(t.toArray())}}),[s.geometry,l,b,m]),{cells:f,columns:g,windowRef:d,adjustIndicator:x}}var Xe=i(65557),et=i(58590),tt=i(8942),it=i.n(tt),nt=(i(78587),i(6778),i(86117),i(88716)),ot=i.n(nt),at=i(65379),lt=i(37756),rt=i.n(lt);i(80778);const st=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,i]=(0,n.useState)(e),[o,a]=(0,n.useState)(),l=(0,n.useCallback)((e=>{a(e),i(!0)}),[]),r=(0,n.useCallback)((()=>{i(!1)}),[]);return(0,n.useMemo)((()=>({id:o,visible:t,open:l,close:r})),[r,o,l,t])},dt=e=>{const t=(0,n.useRef)(),[i,o]=(0,n.useState)([]),a=(0,n.useCallback)((t=>e?e.coordinateToContainerPoint(new Be.c7(t)):{x:0,y:0}),[e]),l=(0,n.useCallback)(((e,t)=>{const{x:i,y:n}=a(t);e.style.left="".concat(i-10,"px"),e.style.top="".concat(n-5,"px")}),[a]),r=(0,n.useCallback)((n=>{if(!e||!i.length)return;const o=t.current||n;l(o,i)}),[e,i,l]),s=(0,n.useMemo)((()=>["moving","zooming","dragrotating","resize"]),[]);(0,n.useEffect)((()=>(t.current&&e&&s.forEach((t=>e.on(t,r))),()=>{t.current&&e&&s.forEach((t=>e.off(t,r)))})),[r,e,s]);const d=(0,n.useCallback)((()=>{var e,i;t.current&&(t.current.remove(),o([])),null===(e=document.getElementsByClassName("geo-location-indicator"))||void 0===e||null===(e=e[0])||void 0===e||null===(i=e.remove)||void 0===i||i.call(e)}),[]);return(0,n.useEffect)((()=>()=>{d()}),[d]),{addIndicator:i=>{const n=document.createElement("div");n.className="geo-location-indicator",Fe()(Ye.LW,((e,t)=>{n.style[t]=e})),l(n,i),n.innerHTML='<svg width="'.concat(20,'" height="').concat(20,'" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg"><circle cx="25" cy="25" r="20" stroke="#FFF" stroke-width="10" fill="none" /><circle cx="25" cy="25" r="20" fill="currentColor" /></svg>'),t.current=n,e&&(o(i),e.getContainer().appendChild(t.current))},removeIndicator:d}};function ct(e){const t=(0,te.v)((e=>e.layerNode.selectedKeys)),i=(0,te.v)((t=>e?t.project.layerNodes[e]:void 0)),o=(0,n.useMemo)((()=>null===i||void 0===i?void 0:i.filter((e=>t.includes(e.id)))),[i,t]);return{layerNode:(0,n.useMemo)((()=>L()(o)),[o]),layerNodes:o}}function ut(e){const t=(0,te.I)(),{handleDetailPanelClose:i}=function(e,t,i){var o,a,l;const r=(0,te.I)(),s=(0,te.v)((e=>e.map.poiDetail)),d=st(s.visible),u=(0,te.v)((e=>t&&(0,ee.Y)(e,t))),p=(0,n.useMemo)((()=>u?R()(u,(e=>e.id===s.layerNodeId)):void 0),[u,s.layerNodeId]),h=null===p||void 0===p?void 0:p.readonly,{removeIndicator:v}=dt(),g=!(null!==(o=s.poi)&&void 0!==o&&o.cells),f=g?s.id:void 0,{cells:m,shareConfig:y,shareTableRow:w}=Je(s.tableNodeId,f),b=R()(u||[],(e=>e.id===s.layerNodeId)),C=(0,te.v)((e=>ne.TW.selectById(e,s.tableNodeId))),x=(0,n.useMemo)((()=>{var e,i,n;if(null!==(e=s.poi)&&void 0!==e&&e.cells)return s.poi.cells;if(!t)return m;const o=(0,Ke.bs)(null===C||void 0===C?void 0:C.columns,null===C||void 0===C?void 0:C.views,null===b||void 0===b||null===(i=b.mapInfo)||void 0===i?void 0:i.viewID);return null===m||void 0===m||null===(n=m.filter((e=>null===o||void 0===o?void 0:o.some((t=>t.id===e.id)))))||void 0===n?void 0:n.sort(((e,t)=>(null===o||void 0===o?void 0:o.findIndex((t=>t.id===e.id)))-(null===o||void 0===o?void 0:o.findIndex((e=>e.id===t.id)))))}),[null===(a=s.poi)||void 0===a?void 0:a.cells,m,null===b||void 0===b||null===(l=b.mapInfo)||void 0===l?void 0:l.viewID,t,null===C||void 0===C?void 0:C.columns,null===C||void 0===C?void 0:C.views]),I=(0,n.useCallback)((()=>{r(Xe.Nw.updatePoiDetail({visible:!1})),r(Xe.Nw.clearPoiDetail()),v()}),[r,v]);return(0,n.useEffect)((()=>{s.visible?d.open(s.id):d.close()}),[s,d]),(0,n.useEffect)((()=>()=>{e&&r(Xe.Nw.clearPoiDetail())}),[e,r]),(0,n.useEffect)((()=>{var e;s.visible&&f&&!x&&((null===C||void 0===C||null===(e=C.rows)||void 0===e?void 0:e.find((e=>e.id===f)))||s.newCreated||I())}),[I,s.visible,null===C||void 0===C?void 0:C.rows,s.newCreated,f,x]),{poiDetail:(0,n.useMemo)((()=>{var e;return{tableNodeId:s.tableNodeId,newCreated:s.newCreated,title:(null===(e=R()(x,(e=>e.rowId===s.rowId)))||void 0===e?void 0:e.value)||"",rowId:s.rowId,cells:x,layerNodeId:s.layerNodeId,shareConfig:y,editable:g,readonly:h,shareTableRow:g?w:void 0}}),[x,s.layerNodeId,s.newCreated,s.rowId,s.tableNodeId,g,y,h,w]),poi:s.poi,detailPanel:d,handleDetailPanelClose:I,handleDelete:async function(){const{tableNodeId:e,rowId:t,poi:n}=s;null!==n&&void 0!==n&&n.id&&t&&r(Re.Nw.remove(n.id)),c()(e)||c()(t)||(i&&"function"===typeof i?i(e,t):await r((0,qe.M5)({id:e,rowIDs:[t]})),r(Xe.Nw.clearPoiDetail()))}}}(),o=(0,te.v)((e=>e.map.editor)),a=(0,te.v)((t=>{var i;return e?null===(i=t.map.hiddenLayerIds)||void 0===i?void 0:i[e]:void 0})),l=(0,te.v)((t=>e?t.project.layerNodes[e]:void 0)),{layerNode:r}=ct(e),s=null===r||void 0===r?void 0:r.id,d=(0,n.useMemo)((()=>!(!s||null!==a&&void 0!==a&&a.includes(s))),[a,s]);const u=(0,n.useCallback)(((e,n,o,a)=>{const l=!a,r={...a};if(l)t(Xe.Nw.updateEditor({isOpen:e,isAdding:e,isNew:l,onlyOnePoint:o,poi:void 0,geometry:null,type:n||"Point"}));else{const i=r.geometry.type;t(Xe.Nw.updateEditor({isOpen:e,isNew:l,onlyOnePoint:o,isAdding:e,poi:r,geometry:r.geometry,type:i}))}e&&(t(Re.Nw.clear()),i())}),[t,i]),p=(0,n.useCallback)((e=>{u(!0,null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.onlyOnePoint,null===e||void 0===e?void 0:e.poi)}),[u]),h=(0,n.useCallback)((()=>{t(Xe.Nw.updateEditor({isOpen:!1,isAdding:!1,isEditing:!1,isNew:!1,onlyOnePoint:!1,poi:void 0,geometry:null,type:"Point",selectedFeatures:void 0,editingMode:void 0}))}),[t]),v=(0,n.useCallback)((e=>{t(Xe.Nw.updateEditor({type:e}))}),[t]);return{openEditor:p,closeEditor:h,editorStatus:o,editorType:o.type,setEditorType:v,isEditorOpen:o.isOpen,resetEditor:function(){t(Xe.Nw.updateEditor({geometry:null,type:o.type}))},enable:d,layerNodes:l,isNewPOI:o.isNew,preData:o.geometry}}const pt="smallDivider_smallDivider__lj604",ht="smallDivider_light__gAj3s",vt="smallDivider_mh10__iMm9c",gt="smallDivider_mh15__QmOFL",ft="smallDivider_mr15__6IOQr",mt=e=>{let{className:t,light:i=!1,mh10:n=!1,mh15:o=!1,mr15:a=!1}=e;return(0,me.jsx)("span",{className:(0,O.default)(pt,t,i?ht:"",n?vt:"",o?gt:"",a?ft:"")})};var yt=i(64459),wt=i.n(yt);function bt(){const[e,t]=(0,n.useState)();return{bounds:e,updateBounds:function(e,i,n){const o=wt()(e)?document.querySelector(e):e,a=null===o||void 0===o?void 0:o.getBoundingClientRect(),l=null===n||void 0===n?void 0:n.getBoundingClientRect();l&&a&&t({left:a.left+(-(null===l||void 0===l?void 0:l.left)+(null===i||void 0===i?void 0:i.x)),right:a.right-((null===l||void 0===l?void 0:l.right)-(null===i||void 0===i?void 0:i.x)),top:a.top+(-(null===l||void 0===l?void 0:l.top)+(null===i||void 0===i?void 0:i.y)),bottom:a.bottom-((null===l||void 0===l?void 0:l.bottom)-(null===i||void 0===i?void 0:i.y))})}}}var Ct=i(62502),xt=i(47752),It=i(54800);function jt(e){const{projectId:t,items:l,container:r,title:d,isThirdPartyTable:c}=e,u=(0,n.useMemo)((()=>(0,n.lazy)((()=>Promise.all([i.e(24),i.e(32),i.e(408),i.e(539)]).then(i.bind(i,51539))))),[]),[p,h]=(0,n.useState)(300),[v,g]=(0,n.useState)(!1),f=(0,a.Z)(),m=(0,n.useMemo)((()=>null===l||void 0===l?void 0:l.reduce(((e,t)=>{const{layerID:i,rowID:n}=t;if(!n||!e)return e;if(e.some((e=>e.layerNodeId===i))){const t=e.findIndex((e=>e.layerNodeId===i));e[t].rowIds.push(n)}else e.push({layerNodeId:i,rowIds:[n]});return e}),[])),[l]);return(0,me.jsx)(ke.Z,{title:(0,me.jsxs)(B.Z,{className:It.Z.head,align:"center",justify:"space-between",children:[(0,me.jsxs)(B.Z,{align:"center",children:[d||f.$t({id:"VQyPUE",defaultMessage:"Overlap data"}),"(",null===l||void 0===l?void 0:l.length,")",l&&(null===l||void 0===l?void 0:l.length)>Ye.iO?(0,me.jsx)(xt.Z,{title:f.$t({id:"umzF8T",defaultMessage:"The number of overlapped data exceeds the maximum limit"}),children:(0,me.jsx)(q.Z,{type:"info",cursor:"pointer"})}):null]}),(0,me.jsxs)(B.Z,{align:"center",gap:4,className:It.Z.actions,children:[(0,me.jsx)(K.ZP,{type:"text",size:"small",onClick:function(){r&&(h(v?300:r.clientHeight),g(!v))},children:(0,me.jsx)(q.Z,{type:"fullscreen"})}),(0,me.jsx)(K.ZP,{type:"text",size:"small",onClick:e.onClose,children:(0,me.jsx)(q.Z,{type:"close"})})]})]}),open:!0,mask:!1,placement:"bottom",height:p,getContainer:!1,closeIcon:null,children:(0,me.jsx)("div",{className:It.Z.container,children:(0,me.jsx)(n.Suspense,{fallback:(0,me.jsx)(s.Z,{indicator:(0,me.jsx)(o.Z,{})}),children:(0,me.jsx)(u,{isThirdPartyTable:c,projectId:t,items:m})})})})}var Mt=i(11972);const kt={infoWindow:"infoWindow_infoWindow__U4d6i",imageInfoWindow:"infoWindow_imageInfoWindow__cM-gJ",header:"infoWindow_header__t5VrR",carousel:"infoWindow_carousel__MCjK7",leftArrow:"infoWindow_leftArrow__RNQa5",rightArrow:"infoWindow_rightArrow__ONzD5",imageWrap:"infoWindow_imageWrap__8Ze4P",loading:"infoWindow_loading__UdTMF",noImage:"infoWindow_noImage__mLihE",noImageHeader:"infoWindow_noImageHeader__9MPVQ",noImageIcon:"infoWindow_noImageIcon__CuDEF",title:"infoWindow_title__F72hd",rightIcon:"infoWindow_rightIcon__i2POt",navigateIcon:"infoWindow_navigateIcon__+qPnf",actions:"infoWindow_actions__GM4-D",navigate:"infoWindow_navigate__pyz8L",content:"infoWindow_content__4u+56",verticalList:"infoWindow_verticalList__up4N8",label:"infoWindow_label__lOo+k",vertical:"infoWindow_vertical__uT9ml",item:"infoWindow_item__Q55UE",horizontalDivider:"infoWindow_horizontalDivider__0OrjE",text:"infoWindow_text__eRyVQ",select:"infoWindow_select__3uLn-",checkbox:"infoWindow_checkbox__wuadN",footer:"infoWindow_footer__uSAXx",footerItem:"infoWindow_footerItem__zsyys",icon:"infoWindow_icon__uNzeG",detail:"infoWindow_detail__HkmdT",close:"infoWindow_close__gUip0",anchor:"infoWindow_anchor__wzanB",coordinate:"infoWindow_coordinate__+RFm1",overlap:"infoWindow_overlap__OwdlJ",setting:"infoWindow_setting__FpdRc",pagination:"infoWindow_pagination__-qVYk",thumbnail:"infoWindow_thumbnail__Ov0WH",button:"infoWindow_button__HBy0h",regionLayerItem:"infoWindow_regionLayerItem__tQrYW"},Tt=e=>{let{currentSlide:t,direction:i,slideCount:n,...o}=e;return"left"===i?(0,me.jsx)(q.Z,{type:"arrowLeft3",...o,className:kt.leftArrow}):(0,me.jsx)(q.Z,{type:"arrowRight3",...o,className:kt.rightArrow})},Et=e=>{let{className:t,isLoadingAttachment:i,attachments:n}=e;return(0,me.jsx)(Mt.Z,{arrows:!0,autoplay:!1,className:(0,O.default)(kt.carousel,t),dots:{className:kt.dots},nextArrow:(0,me.jsx)(Tt,{direction:"right"}),prevArrow:(0,me.jsx)(Tt,{direction:"left"}),children:null!==n&&void 0!==n&&n.length?n.map((e=>(0,me.jsx)("div",{className:kt.imageWrap,children:(0,me.jsx)("img",{draggable:!1,src:e.url,alt:e.fileName})},e.fileID))):(0,me.jsxs)("div",{className:kt.noImage,children:[(0,me.jsx)("div",{className:kt.noImageHeader}),(0,me.jsx)("div",{className:kt.noImageIcon,children:i?(0,me.jsx)(o.Z,{}):(0,me.jsx)(q.Z,{type:"noImage",style:{color:"#505F79"}})})]})})},Pt=e=>{var t,i,o;const{projectId:l,enableSetting:r,enableOpenDetailPanel:s,enableEditCoordinate:d,enableProximityAnalysis:u,mapId:p,getAttachmentUrls:h,useAttachment:v,onOpenSetting:g,onOpenEditor:f,onClose:m}=e,y=(0,te.I)(),w=(0,a.Z)(),{openEditor:b}=ut(),C=(0,Pe.tq)(),{isMobile:I}=(0,ae.F)(),{bounds:j,updateBounds:M}=bt(),[k,T]=(0,n.useState)(!1),E=e.poi,[_,N]=(0,n.useState)(e.poi),[D,Z]=(0,n.useState)(!1),F=(0,n.useMemo)((()=>{var e,t;return null!==(e=null===(t=document.getElementById(null!==p&&void 0!==p?p:"map"))||void 0===t?void 0:t.parentElement)&&void 0!==e?e:document.body}),[p]),H=(0,x.Z)((e=>et.Hx.selectById(e,l))),J=(0,x.Z)((e=>e.project.infoWindowConfig)),K=(0,n.useCallback)((()=>{"clickBlankSpace"===J.closeWay&&y(Re.Nw.remove(E.id))}),[J.closeWay,E,y]),{windowRef:Y,cells:Q,adjustIndicator:X}=Qe({poi:_,originalPoi:E,projectId:l,indicator:C||I?"marker":"line",onClickMap:K}),ee=(0,n.useMemo)((()=>{var e;const t=_.tableNodeID&&(null===(e=J.columnIDs)||void 0===e?void 0:e[_.tableNodeID])||[];return t.length?S()(t,6).map((e=>null===Q||void 0===Q?void 0:Q.find((t=>t.id===e)))):S()(Q,6)}),[Q,J,_.tableNodeID]),ie=(0,n.useMemo)((()=>{var e;return(null===J||void 0===J||null===(e=J.coverImages)||void 0===e?void 0:e[_.tableNodeID])||(null===J||void 0===J?void 0:J.coverImage)}),[null===J||void 0===J?void 0:J.coverImages,null===J||void 0===J?void 0:J.coverImage,_.tableNodeID]),ne=!c()(ie)&&"null"!==ie,le=(0,n.useMemo)((()=>{var e;if(!ie)return[];const t=null===(e=R()(Q,(e=>e.id===ie)))||void 0===e?void 0:e.value;return A()(t,(e=>z()(e.fileType,"image")))}),[ie,Q]),re=(0,x.Z)((e=>l?e.project.layerNodes[l]:void 0)),se=(0,n.useMemo)((()=>re?R()(re,(e=>e.id===_.layerID)):void 0),[re,_.layerID]),de="region"===(null===se||void 0===se||null===(t=se.mapInfo)||void 0===t?void 0:t.layerType),ce=null===se||void 0===se?void 0:se.readonly,{loading:ue,attachments:pe}=v(null===_||void 0===_?void 0:_.tableNodeID,le),he=null===_||void 0===_?void 0:_.layerID,ve=L()(ee),ge=(0,x.Z)((e=>e.project.members)),fe=de?je()(_,"display_name",null===_||void 0===_?void 0:_.name):null!==(i=ve?(0,oe.c8)(ve.value,ve,ge,null===H||void 0===H?void 0:H.timezone,!1):_.name)&&void 0!==i?i:_.id,ye=(0,x.Z)((e=>e.project.mapSiderVisible)),we=(null===(o=E.list)||void 0===o?void 0:o.length)&&E.list.length>1,be=(0,n.useMemo)((()=>{var e;return de?null===_||void 0===_||null===(e=_.rowIds)||void 0===e?void 0:e.map((e=>({layerID:_.layerID,rowID:e}))):E.list}),[de,E.list,_.layerID,null===_||void 0===_?void 0:_.rowIds]),Ce=(0,n.useCallback)((()=>{de?Z(!0):y(Xe.Nw.updatePoiDetail({visible:!0,id:_.id,poi:_,title:fe,rowId:null===_||void 0===_?void 0:_.rowID,tableNodeId:null===_||void 0===_?void 0:_.tableNodeID,labelFieldId:null===_||void 0===_?void 0:_.labelFieldID,layerNodeId:he,newCreated:!1}))}),[y,de,he,_,fe]),Ie=(0,n.useCallback)((e=>{e===_.id&&Ce()}),[_,Ce]);(0,n.useEffect)((()=>(Ct.ky.on(Ie),()=>Ct.ky.off(Ie))));const ke=(0,n.useMemo)((()=>"en-US"===w.locale||!1),[w]),Te="Point"===_.geometry.type||"Polygon"===_.geometry.type,Ee=(0,n.useMemo)((()=>{if("Point"===_.geometry.type)return _.geometry.coordinates;if("Polygon"===_.geometry.type){const e=W.yu(_.geometry.coordinates);return(0,U.Z)(e).geometry.coordinates}return[]}),[_.geometry]),Oe=(0,n.useMemo)((()=>{var e,t;if(C)return;const i=null!==(e=_.position.left)&&void 0!==e?e:100,n=null!==(t=_.position.top)&&void 0!==t?t:100;return{x:0===i&&ye?250:i,y:0===n?85:n}}),[_.position.left,_.position.top,ye,C]),_e=async e=>{var t;if("attachment"===e.type||"lookup"===e.type&&"attachment"===(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)){const t=await(null===h||void 0===h?void 0:h(_.tableNodeID,e.value));return{...e,value:t}}return"coordinate"===e.type?{...e,value:e.fullAddress}:e},Se=e=>{if(!e)return 28;switch(e.type){case"attachment":return 2;case"coordinate":return 1e3;default:return 28}},Ne=(0,n.useCallback)((e=>{var t;const i=null===(t=E.list)||void 0===t?void 0:t[e-1];i&&(N(i),setTimeout((()=>{X()}),100))}),[E.list,X]),Le=(0,n.useMemo)((()=>{if(_.tooltip)return _.tooltip.split("\n").map(((e,t)=>{const[i,n]=e.split(":");return(0,me.jsxs)(B.Z,{justify:"space-between",className:kt.regionLayerItem,children:[(0,me.jsxs)("span",{children:[i,":"]}),(0,me.jsx)("span",{children:n})]},t)}))}),[_.tooltip]);return(0,n.useEffect)((()=>{N(E)}),[E]),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(P(),{bounds:j,handle:".handle",defaultPosition:Oe,onStart:(e,t)=>{M("#".concat(null!==p&&void 0!==p?p:"map"),t,Y.current)},onDrag:()=>{X()},onStop:()=>{if(Y.current){const e=(0,Ze._A)(Y.current),t={..._,top:e.top,left:e.left};y(Re.Nw.updatePoi(t))}},nodeRef:Y,disabled:C,children:(0,me.jsxs)("div",{ref:Y,className:(0,O.default)(ne?kt.imageInfoWindow:kt.infoWindow),style:{zIndex:_.order},children:[we?(0,me.jsx)(Ot,{isShowImageMode:ne,poi:E,onChange:Ne,onOpenQuickView:()=>Z(!0)}):null,!ne&&(0,me.jsx)("div",{className:(0,O.default)(kt.dragArea,"dragArea")}),(0,me.jsxs)("div",{className:kt.header,children:[ne?(0,me.jsx)(Et,{className:"handle",isLoadingAttachment:ue,attachments:pe}):(0,me.jsx)("div",{className:(0,O.default)(kt.title,"handle"),title:fe,onClick:C&&s?Ce:void 0,children:fe}),(0,me.jsxs)("div",{className:(0,O.default)(kt.actions,{[kt.overlap]:we}),children:[r&&!C&&!ce&&!de&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(q.Z,{type:"setting",className:kt.setting,onClick:()=>g(null===_||void 0===_?void 0:_.tableNodeID,_)}),(0,me.jsx)(mt,{light:!ne,mh10:!0})]}),C&&!ne&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(q.Z,{type:"navigate",className:kt.navigate,onClick:()=>T(!0)}),(0,me.jsx)(mt,{light:!ne,mh10:!0})]}),(0,me.jsx)(q.Z,{type:"close",className:kt.close,onClick:e=>{null===e||void 0===e||e.stopPropagation(),y(Re.Nw.remove(E.id)),null===m||void 0===m||m(E)}})]})]}),(0,me.jsxs)("div",{className:kt.content,children:[ne?(0,me.jsxs)("div",{className:kt.title,title:fe,children:[(0,me.jsx)("span",{onClick:C&&s?Ce:void 0,children:fe}),Te&&(0,me.jsx)(q.Z,{className:kt.navigateIcon,type:"navigate",onClick:()=>T(!0)})]}):null,null===ee||void 0===ee?void 0:ee.map(((e,t)=>{var i;return e&&t>0&&(0,me.jsxs)(n.Fragment,{children:[(0,me.jsxs)("div",{className:(0,O.default)(kt.item,{[kt.verticalList]:"vertical"===(null===J||void 0===J?void 0:J.layout)}),role:"listitem",children:[(0,me.jsx)("div",{className:kt.label,children:e.name}),(0,me.jsx)(Me.Z,{isThirdPartyTable:!0,className:(0,O.default)(kt.text,{[kt.select]:"singleChoice"===e.type||"multiChoice"===e.type,[kt.checkbox]:"boolean"===e.type,[kt.coordinate]:"coordinate"===e.type,[kt.vertical]:"vertical"===(null===J||void 0===J?void 0:J.layout)}),item:e,members:ge,timezone:null===H||void 0===H?void 0:H.timezone,imageHeight:64,truncateLength:"vertical"===(null===J||void 0===J?void 0:J.layout)?60:30,textAlignLeft:("vertical"===(null===J||void 0===J?void 0:J.layout)||(0,G.NZ)(null===e||void 0===e?void 0:e.value)>Se(e))&&!("attachment"===e.type||"lookup"===e.type&&"attachment"===(null===(i=e.typeOptions)||void 0===i?void 0:i.lookupColumnType)),editableCoordinate:!1,getCell:_e})]}),(0,me.jsx)(V.Z,{className:kt.horizontalDivider})]},t)})),de&&Le&&(0,me.jsx)("div",{children:Le})]}),(0,me.jsxs)("footer",{className:kt.footer,children:[d&&(null===_||void 0===_?void 0:_.editable)&&!C&&!ce&&(0,me.jsxs)("button",{className:kt.footerItem,onClick:e=>{e.stopPropagation(),null===f||void 0===f||f(_);let t=!!_.latCellID;if(!t){var i;const e=null===ee||void 0===ee?void 0:ee.find((e=>(null===e||void 0===e?void 0:e.id)===_.cellID));t=!(null!==e&&void 0!==e&&null!==(i=e.typeOptions)&&void 0!==i&&i.textCoordinateType)}b({poi:_,onlyOnePoint:t})},children:[(0,me.jsx)(q.Z,{className:kt.icon,type:"coordinate"}),w.$t({id:"wEQDC6",defaultMessage:"Edit"})]}),u&&(0,me.jsxs)("button",{className:kt.footerItem,onClick:async e=>{e.stopPropagation();const t=(0,$.be)(_.geometry);t&&(await y(Xe.Nw.updateStatVisible(!0)),y(Xe.Nw.updateStatCustomCenter(t.coordinates)))},children:[(0,me.jsx)(q.Z,{className:kt.icon,type:"proximityAnalysis"}),w.$t({id:"qeWEV4",defaultMessage:"Proximity Analysis"})]}),s&&(0,me.jsxs)("div",{className:(0,O.default)(kt.footerItem,kt.detail),onClick:Ce,children:[w.$t({id:"Lv0zJu",defaultMessage:"Details"}),(0,me.jsx)(q.Z,{className:kt.icon,type:"arrowRight2"})]})]}),(0,me.jsx)("div",{id:"anchor-".concat(E.id),className:kt.anchor}),Te&&(0,me.jsx)(De,{visible:k,onClose:()=>T(!1),latitude:null===Ee||void 0===Ee?void 0:Ee[1],longitude:null===Ee||void 0===Ee?void 0:Ee[0],isOverseas:ke})]})}),D?(0,xe.createPortal)((0,me.jsx)(jt,{title:de?w.$t({id:"/O69Mk",defaultMessage:"Region data"}):void 0,isThirdPartyTable:!0,projectId:l,items:be,onClose:()=>Z(!1),container:F}),F):null]})};function Ot(e){var t;let{poi:i,isShowImageMode:n,onChange:o,onOpenQuickView:l}=e;const r=(0,a.Z)();return(0,me.jsxs)(B.Z,{className:(0,O.default)(kt.pagination,"dragArea","handle",{[kt.thumbnail]:n}),align:"center",justify:"space-between",children:[(0,me.jsx)("span",{}),(0,me.jsx)(H.Z,{simple:{readOnly:!0},defaultCurrent:1,total:null===(t=i.list)||void 0===t?void 0:t.length,pageSize:1,onChange:o,showSizeChanger:!1}),(0,me.jsx)("span",{className:kt.button,onClick:l,"aria-label":r.$t({id:"v0hnVD",defaultMessage:"View overlap data"}),"data-balloon-pos":"up",children:(0,me.jsx)(q.Z,{type:"singleChoice"})})]})}async function _t(e,t){if(!t||!e)return;const i=[];for(const n of t){const t=await(0,h.Pk)(e,null===n||void 0===n?void 0:n.token,null===n||void 0===n?void 0:n.fieldId,null===n||void 0===n?void 0:n.recordId);if(null===i||void 0===i?void 0:i.find((e=>e.fileID===n.fileID)))return;i.push({...n,url:t})}return i}var St=i(44229),Nt=i(90013),Lt=i.n(Nt);const Dt=(e,t)=>{const[i,o]=(0,n.useState)(),[a,l]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{!async function(){if(t)for(const n of t){if(null===i||void 0===i?void 0:i.find((e=>e.fileID===n.fileID)))return;l(!0);const a=await(0,h.Pk)(e,n.token,n.fieldId,n.recordId);o((e=>Lt()([...e||[],{...n,url:a}],"fileID"))),n===t[t.length-1]&&l(!1)}}()}),[t,e,i]),{attachments:i,loading:a}};var Rt=i(82394);const Zt=n.forwardRef(((e,t)=>{let{projectId:i,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,onClose:s}=e;const d=(0,Rt.bZ)(),[c,u]=(0,n.useState)(),p=(0,te.v)(Re.qg.selectAll);function v(e){u(e),d.open()}return(0,n.useImperativeHandle)(t,(()=>({getIds:()=>p.map((e=>e.id))}))),(0,me.jsxs)(me.Fragment,{children:[T()(p,(e=>(0,me.jsx)(Pt,{projectId:i,poi:e,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,getAttachmentUrls:_t,useAttachment:Dt,onOpenSetting:v,onClose:s},e.id))),(0,me.jsx)(Ce,{dialog:d,tableNodeId:c,setInfoWindowConfig:h.QU,checkPermission:St.P_})]})})),At=n.memo(Zt);var Ft=i(59436),zt=i(53926),Bt=i.n(zt),Vt=i(22138);const Ht=["legend"];var Wt=i(69361),Ut=i(19087),qt=i.n(Ut),Gt=i(15972),$t=i.n(Gt),Jt=i(82086),Kt=i(29697),Yt=i(61924),Qt=i(23764);var Xt=i(25806),ei=i.n(Xt),ti=i(57323),ii=i.n(ti),ni=i(98720);class oi extends Be.Im{constructor(e,t){super(e,t),ii()(this,"defaultMapOptions",{...ni.Z.defaultMapOptions}),ii()(this,"mapInstance",new Promise((e=>e(!0)))),this.id=e,this.props={mapOptions:Object.assign({},this.defaultMapOptions,t.mapOptions)}}create(){var e,t;return null!==(e=this.props.mapOptions)&&void 0!==e&&e.zoom&&null!==(t=this.props.mapOptions)&&void 0!==t&&t.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center),new Promise((e=>e(this)))}resize(){var e,t;null!==(e=this.props.mapOptions)&&void 0!==e&&e.zoom&&null!==(t=this.props.mapOptions)&&void 0!==t&&t.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center)}setMapStyle(){qt()()}getMapStyle(){qt()()}syncViewState(){var e;const t=this.getRenderer();null===t||void 0===t||null===(e=t.syncViewState)||void 0===e||e.call(t)}getBaseMap(){return null}getProvider(){return"customize"}getCenter(){return this.getMap().getCenter().toArray()}destroy(){qt()()}setZoomAndCenter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1?arguments[1]:void 0;const i=new Be.c7(t);this.getMap().setCenterAndZoom(i,e)}setPitch(){qt()()}setBearing(){qt()()}setFeatures(){}setLanguage(e){}getContainer(){return this.getMap().getContainer()}takeScreenshot(){const e=this.getRenderer();return Promise.resolve(e.canvas.toDataURL())}}const ai=oi;var li=i(92940),ri=i(39342);const si={[Kt.nn.AmapStandard]:Kt.R6.MapboxStreets,[Kt.nn.AmapLight]:Kt.R6.MapboxLight,[Kt.nn.AmapDark]:Kt.R6.MapboxDark,[Kt.nn.AmapDarkBlue]:Kt.R6.MapboxDark,[Kt.nn.AmapSatellite]:Kt.R6.MapboxSatellite};function di(e,t,i){var o;const l=(0,te.I)(),s=(0,a.Z)(),d=(0,n.useMemo)((()=>e?{style:e.baseMap,center:(0,ri.Jn)(e.center),zoom:e.zoomLevel,pitch:e.pitch,bearing:e.bearing,features:e.features,mapBoxScalePosition:e.mapBoxScalePosition}:void 0),[e]),c=(0,Qt.IV)(null===d||void 0===d?void 0:d.style),u=(0,n.useRef)(),[p,h]=(0,n.useState)(),v=(0,te.v)((e=>e.project.customizeBaseMap)),{locale:g}=(0,te.v)((e=>e.app)),f=null!==(o=null===p||void 0===p?void 0:p.getMapStyle())&&void 0!==o?o:null===e||void 0===e?void 0:e.baseMap,m=(0,n.useMemo)((()=>f?Kt.$J.includes(f)?"dark":Kt.f8.includes(f)?"light":"unknown":"unknown"),[f]);return(0,n.useEffect)((()=>{l(Xe.Nw.setTheme(m))}),[l,m]),(0,n.useEffect)((()=>{if("mapbox"===c&&p){p.setLanguage(g)}}),[g,c,p]),(0,n.useEffect)((()=>{u.current=void 0}),[t]),(0,n.useEffect)((()=>{if(u.current===c&&"customize"!==c||!d)return;if(!i&&"google"===c)return r.ZP.destroy(),void r.ZP.info(s.$t({id:"oGiueh",defaultMessage:"Google maps is exclusive to the Enterprise version."}));const e=ci(c,d,v,t,g);h(e),u.current=c}),[c,d,v,null===v||void 0===v?void 0:v.length,t,g,i,s]),(0,n.useEffect)((()=>{u.current===c&&null!==e&&void 0!==e&&e.baseMap&&"customize"!==c&&(null===p||void 0===p||p.setMapStyle(null===e||void 0===e?void 0:e.baseMap))}),[u,c,null===e||void 0===e?void 0:e.baseMap,p]),{baseMap:p,theme:m,reCreateBaseMap:function(e){const i=(0,Qt.IV)(e),n={...d,style:e},o=null===p||void 0===p?void 0:p.getCenter();o&&(n.center=o);const a=ci(i,n,v,t,g);return h(a),a}}}function ci(e,t,i,n,o){var a,l;const r=new Qt.dR({key:"3ac9d33da9e7be15cbb9f1b92f285e9c",serviceHost:null===(a="https://maptable.com/api")?void 0:a.replace("/api",""),securityJsCode:{NODE_ENV:"production",PUBLIC_URL:"",BUILD_VERSION:"f583796",THIRD_PARTY:"feishu-dashboard",REACT_APP_SERVER_ENV:"production",REACT_APP_AG_GRID_LICENSE_KEY:"placeholder",REACT_APP_GOOGLE_OAUTH_CLIENT_ID:"placeholder",REACT_APP_BD_KEY:"placeholder",REACT_APP_GD_TOKEN:"3ac9d33da9e7be15cbb9f1b92f285e9c",REACT_APP_GOOGLE_MAP_KEY:"AIzaSyA3amMC0r12XfqJgurQbQd0iWln7SbcbZU",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZG9uZ2xlaSIsImEiOiJja3A2amE1cTMwbGQzMnBxZXF4MDEwMnRpIn0.v4ZdsImv9hprcA32ocydgw",REACT_APP_BASE_API_URL:"https://maptable.com/api",REACT_APP_LARK_BASE_API_URL:"https://maptable.net/api",REACT_APP_BOUNDARY_OSS_URL:"https://icon-cdn.maptable.com",REACT_APP_WS_URL:"wss://maptable.com/websocketd",REACT_APP_LARK_WS_URL:"wss://maptable.net/websocketd",REACT_APP_STRIPE_PUB_KEY:"pk_live_51L8b87HyKdWcfiHZBeLLIIUQKKf9Ec6UohLlnv0ZIjFfugGPZtfrGnfeQJ5yHXFeZNPya7ii4MTB5hQqXvf0CHhn004g4JMOOO",REACT_APP_STRIPE_RETURN_URL:"https://maptable.com/api/cb/stripe_payment/",REACT_APP_SENTRY_DSN:"https://1cbf40ec955b89c8c7182c2e9c3f940a@o1161772.ingest.us.sentry.io/4509296236691456",REACT_APP_CORS_DISABLE_TOKEN:"",REACT_APP_WECHAT_REDIRECT_URI:"https://maptable.com/auth/wechat",REACT_APP_RECAPTCHA_TOKEN:"6LdMgpcgAAAAAKSbHqoSMXgTg1jlTJcYer0Ss6M4",REACT_APP_MAINTAIN_FILE_URI:"https://maptable-prod-public.oss-cn-hangzhou.aliyuncs.com/prodfiles/broadcast/maintain.json",REACT_APP_CRISP_WEBSITE_ID:"e3f43195-3a5a-4bcb-bf1d-7e3d13d0376d",REACT_APP_ICON_CDN:"https://icon-cdn.maptable.com",REACT_APP_USE_RECAPTCHA:"true",REACT_APP_FEISHU_PAY_URI:"https://maptable.com/feishu/plan"}.REACT_APP_GD_SECRET||"",version:"2.0",mapOptions:t,disableScaleControl:n,useTileLayer:(0,Pe.tq)()&&(null===(l="feishu-dashboard")?void 0:l.includes("feishu-dashboard"))});switch(e){case"amap":default:return r;case"google":return new Qt.N$({key:"AIzaSyA3amMC0r12XfqJgurQbQd0iWln7SbcbZU",mapOptions:t,locale:o});case"mapbox":return new Qt.Dg({key:"pk.eyJ1IjoiZG9uZ2xlaSIsImEiOiJja3A2amE1cTMwbGQzMnBxZXF4MDEwMnRpIn0.v4ZdsImv9hprcA32ocydgw",mapOptions:t,disableScaleControl:n,locale:o});case"customize":if(!i)return r;{const e=R()(i,(e=>e.id===(null===t||void 0===t?void 0:t.style)));if("url"===(null===e||void 0===e?void 0:e.type)){const i=new ai("tile",{urlTemplate:null===e||void 0===e?void 0:e.urlTemplate,mapOptions:t});return i.setZIndex(-1),i}if("color"===(null===e||void 0===e?void 0:e.type)){const i=new li.Z("bg",{bgColor:null===e||void 0===e?void 0:e.color,renderer:"canvas",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0,mapOptions:t});return i.setZIndex(-1),i}}}}var ui=i(81837),pi=i(42538),hi=i(53813),vi=i.n(hi),gi=i(91722),fi=i(11145),mi=i(36639),yi=i(43498),wi=i(65066),bi=i.n(wi),Ci=i(92922);const xi=JSON.parse('[{"id":"geocoding","scope":"table","isPro":false,"name":"\u5730\u5740\u89e3\u6790","nameEn":"Geocoding","themeColor":"#005ea9","desc":"\u5c06\u5730\u5740\u89e3\u6790\u4e3a\u7ecf\u7eac\u5ea6\u5750\u6807\uff0c\u5c06\u7ecf\u7eac\u5ea6\u5750\u6807\u8f6c\u6362\u4e3a\u5730\u5740","descEn":"Convert address to coordinates; convert coordinates to address","instanceId":"geocoding_uuid","iconType":"geocoding","published":true,"version":"alpha","publishedTime":1640908800},{"id":"boundary","scope":"table","isPro":false,"name":"\u533a\u57df\u8fb9\u754c","nameEn":"Region Boundaries","themeColor":"#57adfc","desc":"\u83b7\u53d6\u7701\u3001\u5e02\u3001\u533a\u53bf\u8fb9\u754c\u8f6e\u5ed3","descEn":"Get the boundaries of provinces, cities, and counties","instanceId":"boundary_uuid","iconType":"boundary","published":true,"version":"alpha","publishedTime":1640908800},{"id":"direction","scope":"table","isPro":false,"name":"\u8def\u5f84\u8ba1\u7b97","nameEn":"Direction","themeColor":"#c6a7ff","desc":"\u8ba1\u7b97\u4e24\u70b9\u4e4b\u95f4\u4e0d\u540c\u4ea4\u901a\u5de5\u5177\u548c\u51fa\u884c\u8ddd\u79bb\u4e0e\u65f6\u95f4","descEn":"Calculate the travel distance and time between two points","iconType":"direction","published":true,"version":"alpha","publishedTime":1640908800,"instanceId":"direction_uuid"},{"id":"analysis","scope":"table","isPro":false,"name":"\u7a7a\u95f4\u5206\u6790","nameEn":"Spatial Analysis","themeColor":"#dfbd7c","iconType":"analysis","desc":"\u7edf\u8ba1\u591a\u8fb9\u5f62\u5185\u70b9\u7684\u5c5e\u6027\uff0c\u5c06\u591a\u8fb9\u5f62\u5c5e\u6027\u5339\u914d\u5230\u70b9","descEn":"Calculate and match attributes of points within a polygon","instanceId":"analysis_uuid","published":false,"version":"alpha","publishedTime":1640908800},{"id":"isochrone","scope":"table","isPro":false,"name":"\u7b49\u65f6\u5708","nameEn":"Isochrone","themeColor":"#66dd6c","iconType":"isochrone","desc":"\u8ba1\u7b97\u7ed9\u5b9a\u70b9\u7684\u7b49\u65f6\u5708","descEn":"Calculate the isochrone of given points","instanceId":"isochrone_uuid","published":true,"version":"alpha","publishedTime":1648175291},{"id":"enrichment","scope":"table","isPro":false,"name":"\u6570\u636e\u6269\u5145","nameEn":"Data Enrichment","themeColor":"#eb9d00","iconType":"enrichment","desc":"\u83b7\u53d6\u7a7a\u95f4\u8fb9\u754c\u5185\u4eba\u53e3\u3001\u7ecf\u6d4e\u6570\u636e","descEn":"Get population and economic data within the spatial boundary","instanceId":"enrichment_uuid","published":false,"version":"alpha","publishedTime":1678377600},{"id":"aggregate","scope":"table","isPro":false,"name":"\u6570\u636e\u805a\u5408","nameEn":"Data Aggregation","iconType":"aggregate","themeColor":"#00b8d9","desc":"\u5c06\u6570\u636e\u6309\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\uff08\u652f\u6301\u6c42\u548c\u3001\u53d6\u5e73\u5747\u64cd\u4f5c\uff09","descEn":"Aggregate data by field (support sum, average, min, max etc.)","instanceId":"aggregate_uuid","published":true,"version":"alpha","publishedTime":1675991551},{"id":"map-filter","scope":"map","isPro":true,"name":"\u5730\u56fe\u7b5b\u9009\u5668","nameEn":"Map Filter","themeColor":"#6DABF6","desc":"\u652f\u6301\u8de8\u591a\u4e2a\u56fe\u5c42\u6216\u6570\u636e\u8868\u6267\u884c\u6279\u91cf\u8fc7\u6ee4","descEn":"Perform batch filtering across multiple layers or tables","instanceId":"mapFilter_uuid","iconType":"mapFilter","published":true,"version":"alpha","publishedTime":1688455685},{"id":"map-region-aggregation","scope":"map","isPro":false,"showProBadge":true,"name":"\u533a\u5212\u805a\u5408","nameEn":"Area Aggregation","iconType":"aggregate","themeColor":"#DFBD7C","desc":"\u5c06\u8868\u683c\u4e2d\u76f8\u540c\u7701\u4efd\u6216\u57ce\u5e02\u6570\u636e\u57fa\u4e8e\u7279\u5b9a\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\uff0c\u4ee5\u4fbf\u66f4\u6709\u6548\u5730\u5206\u6790\u548c\u5c55\u793a\u6570\u636e","descEn":"Aggregate data by field (support sum, average, min, max etc.)","instanceId":"mapRegionAggregation_uuid","published":true,"version":"alpha","publishedTime":1700733272},{"id":"ai-assistant","scope":"map","isPro":false,"showProBadge":true,"name":"AI \u52a9\u624b","nameEn":"AI Assistant","iconType":"star2","themeColor":"#6DABF6","desc":"AI \u52a9\u624b","descEn":"AI Assistant","instanceId":"aiAssistant_uuid","published":true,"version":"alpha","publishedTime":1727788800}]'),Ii=((0,le.P1)(((e,t)=>e.app.extensions),((e,t)=>t),((e,t)=>bi()(e,(e=>"table"===t?e.scope===t||!e.scope:e.scope===t)))),(0,le.P1)((e=>e.extension.entities),(e=>{const t={};for(const[,i]of Object.entries(e)){const e=xi.find((e=>e.id===(null===i||void 0===i?void 0:i.extensionID)));e&&null!==i&&void 0!==i&&i.extensionID&&(t[e.instanceId]={...e,remoteId:i.id,options:null===i||void 0===i?void 0:i.options})}return t}),{memoizeOptions:{resultEqualityCheck:it()}}),(0,le.P1)((e=>e.extension.entities),((e,t)=>t),((e,t)=>{const i=t?e[t]:void 0,n=xi.find((e=>e.id===(null===i||void 0===i?void 0:i.extensionID)));if(n)return{...n,remoteId:null===i||void 0===i?void 0:i.id,options:null===i||void 0===i?void 0:i.options}}),{memoizeOptions:{resultEqualityCheck:it()}}),(0,le.P1)(Ci.wl.selectAll,(e=>e?mi.K.and(...e.filter((e=>"map-filter"===e.extensionID)).map((e=>{var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filter}))):null),{memoizeOptions:{resultEqualityCheck:it()}}));var ji=i(22601),Mi=i(57830);var ki=i(67661),Ti=i(81987),Ei=i(66168),Pi=i(76592),Oi=i(84377);i(98864);const _i={layerType:"pointLinePolygon",fillFieldID:null,outlineFieldID:null,radiusFieldID:null,fillConfig:{fillOpacity:.6,colors:["#faa90a"],fillMethod:"quantize",icons:{},colorScheme:null,thresholds:null,aggregateBy:"sum",reverse:!1,bivariate:!1},radiusConfig:{radius:5,fixedToMeter:null,radiusRange:[0,20]},outlineConfig:{strokeWeight:1,strokeOpacity:.4,colors:["#faa90a"],colorScheme:null,thresholds:null,strokeMethod:"quantize",reverse:!1,align:"center"}};$t()({},_i,{fillConfig:{fillOpacity:.8}}),$t()({},_i,{fillConfig:{fillOpacity:.8,colors:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"]}});i(47587),i(41122);(0,Q.vU)({count:{id:"Aujn2T",defaultMessage:"Count"},sum:{id:"YYkniy",defaultMessage:"Sum"},mean:{id:"gYB2lt",defaultMessage:"Mean"},median:{id:"WrSL3+",defaultMessage:"Median"},max:{id:"kkjl2v",defaultMessage:"Max"},min:{id:"A4AHkc",defaultMessage:"Min"}});(0,Q.Em)({id:"k5fiSA",defaultMessage:"Buffer"}),(0,Q.Em)({id:"4gHffY",defaultMessage:"Centroid"}),(0,Q.Em)({id:"7NvZyt",defaultMessage:"Bounding box"}),(0,Q.Em)({id:"e1QVee",defaultMessage:"Generate a rectangular polygon completely covering the data object"}),(0,Q.Em)({id:"UEBV86",defaultMessage:"Count points"}),(0,Q.Em)({id:"xKy7Hd",defaultMessage:"Join features"}),(0,Q.Em)({id:"ICu6vY",defaultMessage:"Associates the attribute data of polygons to the data objects that fall within them"}),(0,Q.Em)({id:"yj8NrY",defaultMessage:"Clip"}),(0,Q.Em)({id:"C1Xstm",defaultMessage:"Keep only the parts of each data object inside polygons from another layer"}),(0,Q.Em)({id:"c4xaiR",defaultMessage:"Dissolve"}),(0,Q.Em)({id:"UjJfz6",defaultMessage:"Create a single new polygon covering all data objects"}),(0,Q.Em)({id:"HzfrYu",defaultMessage:"Grid"}),(0,Q.Em)({id:"kLp9ex",defaultMessage:"Create grids and aggregate data within a specified area"}),(0,Q.Em)({id:"js7RwD",defaultMessage:"Buffered"}),(0,Q.Em)({id:"zZFBF0",defaultMessage:"Centroids"}),(0,Q.Em)({id:"37516j",defaultMessage:"Bounded"}),(0,Q.Em)({id:"7wGmyF",defaultMessage:"Counted"}),(0,Q.Em)({id:"l8wanU",defaultMessage:"Joined"}),(0,Q.Em)({id:"mq5q3E",defaultMessage:"Clipped"}),(0,Q.Em)({id:"8dVSHI",defaultMessage:"Dissolved"}),(0,Q.Em)({id:"k2JJSV",defaultMessage:"Gridded"}),(0,Q.Em)({id:"68VUNu",defaultMessage:"Entire layer"}),(0,Q.Em)({id:"+YJREd",defaultMessage:"Features on screen"}),(0,Q.Em)({id:"Nl2TeU",defaultMessage:"Kilometer"}),(0,Q.Em)({id:"9A/UWu",defaultMessage:"Mile"}),(0,Q.vU)({buffer:{id:"9fv+qV",defaultMessage:"Layer"},centroid:{id:"9fv+qV",defaultMessage:"Layer"},bounds:{id:"9fv+qV",defaultMessage:"Layer"},countPoints:{id:"uRR69+",defaultMessage:"Summary polygon layer"},joinFeatures:{id:"3Yg293",defaultMessage:"Target layer"},clip:{id:"9YrdRF",defaultMessage:"Cut out data from"},dissolve:{id:"9fv+qV",defaultMessage:"Layer"},grid:{id:"Cnwv1R",defaultMessage:"Extent layer"}}),(0,Q.Em)({id:"NmPCdP",defaultMessage:"Specify the extent that the grid will cover."});function Si(){const[e,t]=(0,n.useState)();return(0,n.useEffect)((()=>{e||new gi.q(new URL(i.p+i.u(319),i.b)).createWorker().then(t)}),[e]),e}var Ni=i(42015),Li=i(61343),Di=i(32578);var Ri=i(15328);function Zi(e){const{projectId:t,shareParams:o,isThirdPartyTable:a=!1,resolution:l,messageId:r,filters:s}=e,d=(0,te.I)(),c=(0,Ri.nI)(),u=(0,n.useRef)(new Set),{layerNode:p}=ct(t),h=null===p||void 0===p?void 0:p.id,{getFilterMap:v}=function(e){var t;const{projectId:i,layerNodeId:o,filters:a,isThirdPartyTable:l}=e,{pathname:r}=(0,fi.TH)(),s=r.startsWith("/s/"),{workspaceId:d}=(0,Mi.F)(),c=(0,te.v)(yi.H8),u=(0,te.v)((e=>e.map.filters)),p=(0,te.v)((e=>{var t;return null===(t=e.project.layerNodes[i])||void 0===t?void 0:t.find((e=>e.id===o))})),h=(0,te.v)((e=>Ii(e,i))),v="h3Tile"===(null===p||void 0===p||null===(t=p.mapInfo)||void 0===t?void 0:t.layerType),g=(0,n.useCallback)(((e,t,i,n)=>{var o,r;const p=null===c||void 0===c?void 0:c.find((e=>e.id===t)),g={},f=null===a||void 0===a||null===(o=a.find((e=>e.table===t)))||void 0===o?void 0:o.filter,m=null===p||void 0===p||null===(r=p.views)||void 0===r?void 0:r.find((e=>e.id===i)),y=!v&&null!==p&&void 0!==p&&p.columns?(0,Ke.hu)(mi.K.and((null===m||void 0===m?void 0:m.filter)||null,f||null),p.columns):null;y&&(g.view=y);const w=mi.K.filter(h,(e=>e.tableNodeId===(null===p||void 0===p?void 0:p.id)));w&&(g.extension=w);const b=(0,Ke.Jl)({workspaceId:d,layerNodeId:e},{allowAnonymous:l||s}),C=mi.K.and(...Object.values(b&&u[b]||{}));if(C&&(g.layer=C),!v&&null!==n&&void 0!==n&&n.enabled&&null!==p&&void 0!==p&&p.columns&&n.filter){const e=(0,Ke.hu)(n.filter,p.columns);e&&(g.row=e)}const x=null!==p&&void 0!==p&&p.columns&&a?a.filter((e=>e.table===(null===p||void 0===p?void 0:p.id))).map((e=>(0,Ke.hu)(e.filter,p.columns))):null;return x&&(g.arbitrary=mi.K.and(...x)),g}),[a,u,d,c,l,h,s,v]);return{getFilterMap:g}}({projectId:t,layerNodeId:h,isThirdPartyTable:a,filters:s}),g=(0,te.v)((e=>e.map.timeline)),f=(0,te.v)((e=>et.Hx.selectById(e,t))),m=(0,te.v)((i=>e.layerNodes?e.layerNodes:(0,ee.M)(i,t))),y=(0,te.v)(Oi.eH),w=(0,te.v)((e=>e.project.zIndexMap),it()),b=(0,te.v)(yi.H8),C=null===f||void 0===f?void 0:f.tableNodes,I=(0,te.v)((e=>e.project.members));!function(e){let{projectId:t,shareParams:i,isThirdPartyTable:o,layerNodes:a}=e;const l=(0,te.v)((e=>e.map.spatialAnalysis.isOpen&&!e.map.spatialAnalysis.isAnalyzing?e.map.spatialAnalysis.config:void 0)),r=(0,n.useMemo)((()=>{if(!l)return;const e=a.find((e=>e.id===(null===l||void 0===l?void 0:l.layerId))),t=a.find((e=>e.id===l.overlayLayerId));return e||t?he()([e,t]):void 0}),[l,a]);(0,ki.Ui)(t,r,{token:null===i||void 0===i?void 0:i.token,type:null===i||void 0===i?void 0:i.type},o)}({projectId:t,layerNodes:m,shareParams:o,isThirdPartyTable:a});const{data:j}=function(e){let{layerNodes:t,locale:i="zh-CN",previewMapInfos:o}=e;const a=(0,n.useMemo)((()=>t.filter((e=>{var t;return"region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}))),[t]),{isLoading:l,data:r}=(0,Di.Z)(a.length?["useAdminBoundaryData",a,o]:null,(async e=>{let[t,n,o]=e;return Promise.all(n.map((async e=>{var t;const n=(null===o||void 0===o?void 0:o[e.id])||e.mapInfo;if(!n)return;const{aggregateBy:a,country:l}=n.regionConfig||{},r="admin0"===a,s="zh-CN"===i?"world/cas":"world/wb",d=await(0,Li.gd)(n),c=r?await(0,Ni.RG)(s):await(0,Ni.RG)(l),u=null===(t=Object.values(c))||void 0===t?void 0:t.flat(2),p={...d,features:null===d||void 0===d?void 0:d.features.map((t=>({...t,properties:{...t.properties,layerID:e.id}})))};return{layerNodeId:e.id,data:p,index:r?u:c}})))}));return{isLoading:l,data:(0,n.useMemo)((()=>he()(r)),[r])}}({layerNodes:m,previewMapInfos:y,locale:c}),{isReady:M}=(0,ki.Ui)(t,e.layerNodes,{token:null===o||void 0===o?void 0:o.token,type:null===o||void 0===o?void 0:o.type},a),k=(0,te.v)((e=>{var t;return null!==o&&void 0!==o&&o.type?null===(t=e.user.sharedUser)||void 0===t?void 0:t.token:void 0})),T=(0,x.Z)((e=>{var t;return null===(t=e.project)||void 0===t||null===(t=t.infoWindowConfig)||void 0===t?void 0:t.closeWay})),[E,P]=(0,n.useState)([]),[O,_]=(0,n.useState)(),{getTableRowLevelPermission:S}=(0,Ti.q)(),N=function(){const[e,t]=(0,n.useState)();return(0,n.useEffect)((()=>{e||new gi.q(new URL(i.p+i.u(995),i.b)).createWorker().then(t)}),[e]),e}();return(0,n.useEffect)((()=>{if(N)return N.addEventListener("message",e),()=>{N.removeEventListener("message",e)};function e(e){if(e.data.messageId!==r)return;u.current=e.data.hiddenPois;const{computedLayers:i}=e.data;P(i),i.forEach((e=>{e.isPreview&&d((0,Ei.Q$)(e)),d(Pi.Nw.refreshStaleLayer({layerId:e.id,projectId:t})),d(Pi.Nw.setLayerReadyState({layerId:e.id,projectId:t,ready:!0}))}))}}),[r,d,t,N]),(0,n.useEffect)((()=>{l&&null!==m&&void 0!==m&&m.some((e=>{var t;return"h3Tile"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}))&&_(l)}),[m,l]),(0,n.useEffect)((()=>{if(!M)return;if(!N)return;u.current.clear();const e={},t=[];null===m||void 0===m||m.filter((e=>"map"===e.type)).forEach((i=>{const n=vi()(y[i.id]||i.mapInfo),o=null===b||void 0===b?void 0:b.find((e=>e.id===(null===n||void 0===n?void 0:n.tableNodeID))),a=(null===o||void 0===o?void 0:o.type)===We.e.bigTable?S(null===o||void 0===o?void 0:o.id):void 0;Object.assign(e,{[i.id]:v(i.id,null===n||void 0===n?void 0:n.tableNodeID,null===n||void 0===n?void 0:n.viewID,a)}),n.vectorTile&&"h3Tile"!==n.layerType&&t.push(i)})),t.length>0&&d((0,Ei.Fz)({layers:t,userToken:k}));const i=new Set(null===m||void 0===m?void 0:m.filter((e=>e.stale)).map((e=>e.id))),n={...y};i.size&&Object.keys(n).forEach((e=>{i.has(e)&&delete n[e]}));const o={layerNodes:m,previewMapInfos:n,tableNodes:b,timelines:null===g||void 0===g?void 0:g.layers,layerFilters:e,timezone:null===f||void 0===f?void 0:f.timezone,mondayFirst:null===f||void 0===f?void 0:f.weekStartOnMonday,locale:c,members:I,zIndexMap:w,projectTableNodes:C,isThirdPartyTable:a,thirdPartyInfoWindowCloseWay:T,resolution:O,messageId:r,adminBoundaryData:j};N.postMessage(o)}),[M,m,y,b,w,S,v,I,null===f||void 0===f?void 0:f.timezone,null===f||void 0===f?void 0:f.weekStartOnMonday,null===g||void 0===g?void 0:g.layers,C,a,T,O,r,k,d,N,c,j]),{layers:E,hiddenPoiIds:u.current}}var Ai=i(14210),Fi=i(1716),zi=i(40585),Bi=i(6404),Vi=i(40475),Hi=i.n(Vi),Wi=i(15525),Ui=i(59303),qi=i(95775),Gi=i(34221),$i=i(70645),Ji=i(45818),Ki=i(11846);function Yi(e){return(0,n.useContext)(Ki.z)[e]}const Qi={itemIcon:"overlayTypeSelector_itemIcon__5-gob",radioGroup:"overlayTypeSelector_radioGroup__fuEHD",item:"overlayTypeSelector_item__3ccyr"},Xi=["Point","LineString","Polygon","Circle","Boundary","Route"],en=[{value:"Point",msg:(0,Q.Em)({id:"geometry.type.point",defaultMessage:[]}),iconType:"point"},{value:"LineString",msg:(0,Q.Em)({id:"geometry.type.line",defaultMessage:[]}),iconType:"line"},{value:"Polygon",msg:(0,Q.Em)({id:"geometry.type.polygon",defaultMessage:[]}),iconType:"polygon"},{value:"Circle",msg:(0,Q.Em)({id:"vH8sCb",defaultMessage:"Circle"}),iconType:"circle"},{value:"Boundary",msg:(0,Q.Em)({id:"geometry.type.boundary",defaultMessage:[]}),iconType:"adminBoundary"},{value:"Route",msg:(0,Q.Em)({id:"geometry.type.route",defaultMessage:[]}),iconType:"route"}];function tn(e){let{value:t="Point",realValue:i,enableTypes:n=Xi,hiddenTypes:o=[],isEditing:l=!1,isNew:r=!1,isPro:s,enableCircle:d=!1,onChange:c}=e;const u=(0,a.Z)(),p=u.$t({id:"3Q5uEv",defaultMessage:"Drawing has started, and switching the type will result in the previous drawing being cleared."}),h=u.$t({id:"cmIby1",defaultMessage:"Drawing is not supported while editing data."}),v=Yi("addRoute"),g=Yi("circleGeometry");return(0,me.jsx)(qi.ZP.Group,{className:Qi.radioGroup,value:t,onChange:c,optionType:"button",children:en.map((e=>{if("Circle"===e.value&&!g&&!d)return null;if(("Boundary"===e.value||"Route"===e.value)&&!r&&!s)return null;if("Route"===e.value&&!v)return null;if(o.includes(e.value))return null;const t=!n.includes(e.value);return(0,me.jsx)(qi.ZP,{value:e.value,disabled:t,children:(0,me.jsx)(xt.Z,{title:t?h:(a=e.value,c=u.$t(e.msg),i!==a&&l?p:c),children:(0,me.jsx)("div",{className:Qi.item,children:(0,me.jsx)(q.Z,{type:e.iconType,className:Qi.itemIcon})})})},e.value);var a,c}))})}var nn=i(10485),on=i(71105),an=i(15905),ln=i(56356),rn=i.n(ln),sn=i(34847),dn=i.n(sn),cn=i(99540),un=i.n(cn);const pn="https://api.map.baidu.com",hn="placeholder";async function vn(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u5168\u56fd";return new Promise(((n,o)=>{(function(e,t){return new Promise(((i,n)=>{dn()("".concat(pn,"/place/v2/search?ak=").concat(hn,"&query=").concat(e,"&region=").concat(t,"&output=json"),((t,o)=>{var a;t&&n(t);const l=null!==(a=R()(o.results,(t=>t.name===e)))&&void 0!==a?a:L()(null===o||void 0===o?void 0:o.results);i(l)}))}))})(e,i).then((async e=>{if(e){const o=await(i=e.uid,new Promise(((e,t)=>{dn()("https://map.baidu.com/?qt=ext&ext_ver=new&l=17&uid=".concat(i),(function(i,n){i&&t(i);const o=n.content.geo;if(o){const t=o.split("-")[1].replace(";","").split(",").map((e=>un()(e))),i=[];for(let e=0;e<t.length-1;e+=2){const[n,o]=(0,$.vs)({type:"Point",coordinates:[t[e],t[e+1]]},$.fI,$.Zn).coordinates;i.push([n,o])}e(i)}else e(void 0)}))})));t&&clearTimeout(t),n(o?[o]:void 0)}var i})),t=setTimeout((()=>{o(void 0)}),3e3)}))}var gn=i(74797),fn=i(22963);const{GCJ02:mn,WGS84:yn,transform:wn}=Te.default,bn=(0,fn.Fs)({baseURL:"".concat(gn.Z.baseApiURL,"/services")});class Cn extends fn.tr{async searchPoiByAMap(e,t,i,n){const o=[Math.round(1e6*e[0])/1e6,Math.round(1e6*e[1])/1e6],{data:a}=await this.fetch.get("".concat(n?"/shared":"","/amap/assistant/"),{params:{keywords:t,location:o.join(","),project:i,userToken:n}});return T()(a.pois,(e=>{const t=e.location.split(",");return{id:e.id,name:e.name,address:e.address,location:{lng:parseFloat(t[0]),lat:parseFloat(t[1])}}}))}async searchPoiByMapbox(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",o=arguments.length>4?arguments[4]:void 0;const{data:a}=await this.fetch.get("".concat(o?"/shared":"","/mapbox/search/").concat(encodeURIComponent(t),"/"),{params:{version:5,limit:10,proximity:e.join(","),project:i,language:n,userToken:o}});return T()(a.features,(e=>{var t;return{id:e.id,name:null!==(t=e.matching_place_name)&&void 0!==t?t:e.text,address:e.place_name,location:{lng:e.center[0],lat:e.center[1]}}}))}async mpTrack(e,t,i){}async mpTrackPageViewAnonymous(e,t){await this.mpTrack("Page View",{"Page Type":e,locale:t},!0)}async mpTrackPageView(e,t,i,n,o){"org"===(null===n||void 0===n?void 0:n.type)&&(i={...i,org_id:n.id,org_name:n.name}),o&&(i={...i,project_id:o.id,project_name:o.name}),await this.mpTrack("Page View",{"Page Type":e,locale:t,...i})}async mpTrackClick(e,t,i,n,o){"org"===(null===o||void 0===o?void 0:o.type)&&(n={...n,org_id:o.id,org_name:o.name}),await this.mpTrack("Click "+t,{"Page Type":e,locale:i,...n})}async direction(e,t,i,n,o){let a=[e.join(","),t.join(",")].join(";");"amap"===n&&(a=[wn(e,yn,mn).join(","),wn(t,yn,mn).join(",")].join(";"));const l=await this.fetch.get("/".concat(n,"/district/").concat(i,"/").concat(encodeURIComponent(a),"/"),{params:{project:o}});if("amap"===n){var r,s;const i=null!==(r=je()(l.data,"route.paths[0]"))&&void 0!==r?r:je()(l.data,"data.paths[0]",{}),n=je()(l.data,"coordinates"),o=je()(n,"[0].regeocode.addressComponent.province",""),a=je()(n,"[0].regeocode.addressComponent.city",""),d=je()(n,"[0].regeocode.addressComponent.province",""),c=je()(n,"[0].regeocode.addressComponent.city",""),u=je()(n,"[0].regeocode.formatted_address",""),p=je()(n,"[1].regeocode.formatted_address","");return{origin:e,originName:In(u,o,a),destination:t,destinationName:In(p,d,c),distance:un()(i.distance),duration:un()(i.duration),coordinates:null===(s=i.steps)||void 0===s?void 0:s.flatMap((e=>e.polyline.split(";").map((e=>wn(e.split(",").map((e=>parseFloat(e))),mn,yn)))))}}if("mapbox"===n){var d;const i=je()(l.data,"routes[0]"),n=je()(l.data,"coordinates");return{origin:e,originName:je()(n,"[0].features[0].place_name","").split(",").slice(0,2).join(","),destination:t,destinationName:je()(n,"[1].features[0].place_name","").split(",").slice(0,2).join(","),distance:null===i||void 0===i?void 0:i.distance,duration:null===i||void 0===i?void 0:i.duration,coordinates:null===i||void 0===i||null===(d=i.geometry)||void 0===d?void 0:d.coordinates}}}async baseGeocode(e,t){const{data:i}=await this.fetch.post("/base/geocode/",{inputs:t,type:e});return i.detail}async baseRegeocode(e){const{data:t}=await this.fetch.post("/base/regeocode/",{inputs:e});return t.detail}async quotaInfo(){const{data:e}=await this.fetch.get("/quota/");return e.detail}}const xn=new Cn(bn);function In(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"".concat(e.replace(t,"").replace(i,""),",").concat(i,",").concat(t)}var jn=i(93707);function Mn(){const e=(0,te.I)();return(0,n.useCallback)((t=>{t&&"QuotaLimitError"===t.name&&e(jn.Nw.updateQuotaLimitDialogConfig({quotaError:JSON.parse(t.message)}))}),[e])}const kn=(e,t,i)=>{const[o,l]=(0,n.useState)([]),[s,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(),p=(0,a.Z)(),{userToken:h}=(0,Ge.UP)(),v=Mn(),g=(0,n.useCallback)((async n=>(u(n),t&&e?new Promise(((o,a)=>{t.mapInstance.then((l=>{const s=window.google&&window.google.maps&&l instanceof window.google.maps.Map;i&&"zh-CN"===p.locale||window.AMap&&l instanceof window.AMap.Map?xn.searchPoiByAMap(t.getCenter(),n,e,h).then((e=>o(e))).catch((e=>a(e))):window.mapboxgl&&l instanceof window.mapboxgl.Map||s?xn.searchPoiByMapbox(t.getCenter(),n,e,p.locale.slice(0,2),h).then((e=>o(e))).catch((e=>a(e))):r.ZP.info(p.$t({id:"wGKcik",defaultMessage:"Search is not available"}))}))})):[])),[e,t,p,h,i]);return{pois:o,keyword:c,searchPOI:async e=>{d(!0);try{const t=await g(e);l(t)}catch(t){v(t)}finally{d(!1)}},isLoading:s}};var Tn=i(7639);const En="search-field_inputWrap__Ki31k";function Pn(e){let{onSearch:t,onChange:i,query:o="",disabled:l=!1,loading:r=!1,hideSearchButton:s=!1,placeholder:d,variant:c="borderless",onBlur:u,onFocus:p}=e;const h=(0,n.useRef)(null),v=(0,a.Z)();return(0,me.jsxs)("div",{className:En,children:[(0,me.jsx)(Tn.default,{prefix:(0,me.jsx)(q.Z,{type:"search",style:{width:18,height:18}}),variant:c,defaultValue:o,ref:h,placeholder:r?v.$t({id:"iFsDVR",defaultMessage:"Loading"}):d||v.$t({id:"xmcVZ0",defaultMessage:"Search"}),onPressEnter:e=>{var i;r||l||t((null===(i=h.current)||void 0===i||null===(i=i.input)||void 0===i?void 0:i.value)||"")},maxLength:256,autoFocus:!0,onChange:e=>{if(r||l)return;const t=e.target.value;null===i||void 0===i||i(t)},"data-testid":"mapSearchInput","data-specialid":"mapSearchInput",disabled:l||r,allowClear:!0,onBlur:u,onFocus:p}),!s&&(0,me.jsx)(K.ZP,{type:"primary",size:"small",onClick:()=>{var e;return t((null===(e=h.current)||void 0===e||null===(e=e.input)||void 0===e?void 0:e.value)||"")},disabled:l||r,children:v.$t({id:"xmcVZ0",defaultMessage:"Search"})})]})}var On=i(2715),_n=i(40978),Sn=i(98194);const Nn={emptyView:"empty_emptyView__9fJ+7"};function Ln(e){let{text:t,icon:i}=e;return(0,me.jsxs)("div",{className:Nn.emptyView,children:["function"===typeof i?i():i,(0,me.jsx)("div",{children:t})]})}var Dn=i(63856);const Rn={container:"result-item_container__strgc",icon:"result-item_icon__RAigk",title:"result-item_title__yWa87",description:"result-item_description__z7Vy-"};function Zn(e){let{data:t,description:i,icon:n,onClick:o}=e;return(0,me.jsxs)("li",{onClick:()=>null===o||void 0===o?void 0:o(t),className:Rn.container,"data-size":i?"md":void 0,children:[(0,me.jsx)("div",{className:Rn.icon,children:n}),(0,me.jsxs)("div",{className:Rn.content,children:[(0,me.jsx)("div",{className:Rn.title,title:t.title,children:t.title}),i&&(0,me.jsx)("div",{className:Rn.description,children:(0,me.jsx)(Dn.Z,{text:i})})]})]})}const An={container:"result-group_container__Zwqj7",title:"result-group_title__H47V8",collapseWrap:"result-group_collapseWrap__HyNk7",count:"result-group_count__xszY+",items:"result-group_items__rcA2p"};function Fn(e){const{title:t,collapsed:i,titleStyle:n={},onCollapse:o}=e;return(0,me.jsxs)(B.Z,{align:"center",justify:"space-between",className:An.title,style:n,"data-collapsible":null!=i,onClick:o?()=>o(!i):void 0,children:[(0,me.jsx)("div",{children:t}),null!=i?(0,me.jsxs)("div",{className:An.collapseWrap,children:[e.extra,(0,me.jsx)(q.Z,{type:i?"arrowDown2":"arrowUp2"})]}):e.extra]})}const zn=()=>null;function Bn(e){const{isLoading:t=!1,items:i=[],renderEmpty:l=zn,onClick:r}=e,d=(0,a.Z)(),[c,u]=(0,n.useState)(!1),p=i.length;return(0,me.jsxs)("div",{className:An.container,"data-testid":"result-group",children:[(0,me.jsx)(Fn,{title:e.title,collapsed:c,onCollapse:u,extra:p?(0,me.jsx)("span",{className:An.count,children:d.$t({id:"4tm0fX",defaultMessage:"{count, plural, one {# record} other {# records}}"},{count:p})}):null}),!c&&(i.length||t?(0,me.jsx)(s.Z,{spinning:t,indicator:(0,me.jsx)(o.Z,{}),children:(0,me.jsx)("ul",{className:An.items,children:i.map(((e,t)=>(0,me.jsx)(Zn,{onClick:r,...e},t)))})}):l())]})}const Vn={icon:"icon_icon__aF-EW"};function Hn(e){let{size:t=24}=e;return(0,me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:"none",viewBox:"0 0 24 24",children:(0,me.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.667",d:"M16 13.374c3.532.695 6 2.28 6 4.126 0 2.485-4.477 4.5-10 4.5S2 19.985 2 17.5c0-1.845 2.468-3.431 6-4.126M12 17V9m0 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})})}function Wn(e){let{type:t}=e;return"map-poi"===t?(0,me.jsx)(Hn,{size:20}):(0,me.jsx)(q.Z,{type:t.toLowerCase(),className:Vn.icon,style:{width:20,height:20}})}function Un(e){let{query:t,items:i,isLoading:n,baseMapProvider:o,onClick:l}=e;const r=(0,a.Z)(),s=(i||[]).map((e=>({data:{key:e.id,title:e.name},icon:(0,me.jsx)(Wn,{type:"map-poi"}),description:e.address})));return(0,me.jsx)(Bn,{title:(0,me.jsxs)(B.Z,{gap:4,align:"center",children:[(0,me.jsx)(q.Z,{type:"global"}),r.$t({id:"CYPtKj",defaultMessage:"Search places"})]}),items:s,onClick:function(e){let{key:t}=e;const n=i.find((e=>e.id===t));if(!n)return;let a=n.location;if("amap"===o){const[e,t]=(0,_n.vs)({type:"Point",coordinates:[n.location.lng,n.location.lat]},_n.cG,_n.Zn).coordinates;a={lng:e,lat:t}}null===l||void 0===l||l({...n,location:a})},isLoading:n,renderEmpty:()=>(0,me.jsx)(Ln,{icon:(0,me.jsx)(Sn.q,{size:40}),text:r.$t({id:"1tvlZe",defaultMessage:'No content found for "{query}"...'},{query:t})})})}const qn="searchPOI_search__FNkzk",Gn="searchPOI_popover__YxU2W",$n="searchPOI_aoiIcon__38oPY",Jn="searchPOI_aoiName__v0PHz",Kn=e=>{let{projectId:t,baseMap:i,placeholder:o,onSelected:l=qt(),onAoiSelected:r=qt(),disabled:s,tooltip:d,isPro:c,enableAoiSearch:u,onTrackSearchPOI:p}=e;const[h,v]=(0,n.useState)(!1),[g,f]=(0,n.useState)(),[m,y]=(0,n.useState)(),[w,b]=(0,n.useState)(!1),C=(0,n.useRef)(""),x=C.current,I=(0,a.Z)(),{project:j}=(0,On.P)(void 0,t),M=null===j||void 0===j?void 0:j.mapConfig,k=(0,te.v)((e=>e.map.baseMap)),T="customize"===(0,Qt.IV)(null!==k&&void 0!==k?k:null===M||void 0===M?void 0:M.baseMap),{searchPOI:E,pois:P,keyword:O,isLoading:_}=kn(t,i),S=(0,n.useCallback)((async e=>{let t=e.location;if("amap"===i.getProvider()){const[e,i]=(0,Ee.transformGCJ02ToWGS84)([t.lng,t.lat],!0);t={lng:e,lat:i}}if(y(e),null===l||void 0===l||l({...e,location:t}),u)try{const t=await vn("".concat(e.name));t&&(v(!0),f(t))}catch{}}),[l,u,i]);return(0,me.jsxs)("div",{className:qn,children:[(0,me.jsx)(nn.Z,{open:w,rootClassName:Gn,placement:"bottom",content:(0,me.jsx)(Un,{items:P,query:x,isLoading:_,onClick:S,baseMapProvider:null===i||void 0===i?void 0:i.getProvider()}),children:(0,me.jsx)(xt.Z,{title:d,children:(0,me.jsx)(Pn,{hideSearchButton:!0,query:x,onSearch:function(e){const t=rn()(e);t.length?(b(!0),null===p||void 0===p||p("SearchPOI",{poi:O,provider:null===i||void 0===i?void 0:i.getProvider(),location:"Add data"},"list"),T||E(t)):b(!1),C.current=t},placeholder:I.$t({id:"D/ZSoc",defaultMessage:"Press Enter to search"}),disabled:s||T,variant:"outlined",onBlur:()=>{setTimeout((()=>{b(!1)}),300)},onFocus:()=>{P.length?b(!0):b(!1)}})})}),(0,me.jsx)(ie.Vq,{width:"350px",title:null,closable:!1,visible:h,okText:I.$t({id:"EWw/tK",defaultMessage:"Apply"}),onCancel:()=>v(!1),onOk:function(){r(g),v(!1)},children:(0,me.jsxs)(on.Z,{align:"middle",children:[(0,me.jsx)(an.Z,{span:4,children:(0,me.jsx)(q.Z,{type:"polygon",className:$n})}),(0,me.jsxs)(an.Z,{span:20,children:[(0,me.jsxs)("p",{children:[I.$t({id:"I0Xzdz",defaultMessage:"Found"}),(0,me.jsx)("span",{className:Jn,children:null===m||void 0===m?void 0:m.name})," ",I.$t({id:"PRE0XT",defaultMessage:"Polygon area"}),","]}),(0,me.jsx)("div",{children:I.$t({id:"mguUsS",defaultMessage:"Use this polygon?"})})]})]})})]})},Yn={Point:"\u70b9",LineString:"\u7ebf",Polygon:"\u591a\u8fb9\u5f62",Circle:"\u5706"},Qn={Point:"Point",LineString:"LineString",Polygon:"Polygon",Circle:"Circle"},Xn={editVertex:"\u7f16\u8f91\u9876\u70b9",move:"\u79fb\u52a8\u5de5\u5177",delete:"\u6a61\u76ae\u5de5\u5177",cut:"\u526a\u5207\u5de5\u5177"},eo={editVertex:"Edit Vertex",move:"Move Tool",delete:"Eraser Tool",cut:"Cut Tool"},to={itemIcon:"geometryEditSelector_itemIcon__n8YOk",item:"geometryEditSelector_item__3FPDf",radioGroup:"geometryEditSelector_radioGroup__RZWDw"},io=[{value:"editVertex",msg:(0,Q.Em)({id:"4KaSND",defaultMessage:"Control points"}),iconType:"editVertex"},{value:"move",msg:(0,Q.Em)({id:"UMbBzo",defaultMessage:"Move"}),iconType:"move"},{value:"cut",msg:(0,Q.Em)({id:"RNRpjD",defaultMessage:"Crop"}),iconType:"scissors"},{value:"delete",msg:(0,Q.Em)({id:"SvdI9p",defaultMessage:"Eraser"}),iconType:"eraser"}];function no(e){const t=(0,a.Z)();return(0,me.jsxs)(B.Z,{gap:10,align:"center",children:[(0,me.jsx)(qi.ZP.Group,{optionType:"button",className:to.radioGroup,...e,children:io.filter((t=>{var i;return!(null!==(i=e.hiddenOptions)&&void 0!==i&&i.includes(t.value))})).map((i=>(0,me.jsx)(qi.ZP,{value:i.value,children:(0,me.jsx)(xt.Z,{title:"editVertex"===i.value&&"Circle"===e.editorType?t.$t({id:"CKQt4g",defaultMessage:"Modify Radius"}):t.$t(i.msg),children:(0,me.jsx)("div",{className:to.item,children:(0,me.jsx)(q.Z,{type:i.iconType,className:to.itemIcon})})})},i.value)))}),e.value&&"confirm"!==e.value&&e.onConfirm?(0,me.jsx)(K.ZP,{type:"primary",size:"small",onClick:e.onConfirm,children:t.$t({id:"N2IrpM",defaultMessage:"Confirm"})}):null]})}const oo={panel:"editorPanel_panel__zs+qj",wrap:"editorPanel_wrap__C0qGf",drawerOpen:"editorPanel_drawerOpen__eLzMg",active:"editorPanel_active__hxSJU",button:"editorPanel_button__r6AV4",header:"editorPanel_header__7SDL4",title:"editorPanel_title__eaO-0",iconClose:"editorPanel_iconClose__m00mD",form:"editorPanel_form__Af1Ds",upgradeLink:"editorPanel_upgradeLink__J1rN5",label:"editorPanel_label__gUV5v",tip:"editorPanel_tip__8urHX",searchPOI:"editorPanel_searchPOI__lAUjA",trashButton:"editorPanel_trashButton__EklaJ",finishButton:"editorPanel_finishButton__7Nc9r",tips:"editorPanel_tips__dHk1Y",resetButton:"editorPanel_resetButton__lr8Y7",adminBoundary:"editorPanel_adminBoundary__JBNNK",notFoundContent:"editorPanel_notFoundContent__OFPui",undoredo:"editorPanel_undoredo__u-e+p",radiusSetting:"editorPanel_radiusSetting__VvVeA",radiusInput:"editorPanel_radiusInput__P0AWH"};var ao=i(34197),lo=i(18878),ro=i.n(lo),so=i(40890);function co(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,a.Z)(),[i,o]=(0,n.useState)(Bt().get(Vt.tM,[])),l=Mn(),{trigger:s}=(0,so.Z)("services/direction",(async(i,n)=>{let{arg:a}=n;const l=await xn.direction(a.origin,a.destination,a.type,a.service,a.projectId),s=Bt().get(Vt.tM,[]);if(l){if(!l.coordinates)return r.ZP.info(t.$t({id:"ocBLE3",defaultMessage:"No route found"})),{...l,distance:"-",duration:"-"};if(!e)return l;if(s.some((e=>it()(e.origin,l.origin)&&it()(e.destination,l.destination))))return l;const i=[{origin:l.origin,originName:l.originName,destination:l.destination,destinationName:l.destinationName,distance:l.distance,duration:l.duration},...s];i.length>5&&i.pop(),o(i),Bt().set(Vt.tM,i)}return l}));return{getDirection:(0,n.useCallback)((async e=>{try{return await s(e)}catch(t){l(t)}}),[s,l]),history:i}}const uo=(0,n.forwardRef)(((e,t)=>{let{projectId:i,map:l,theme:r,locale:d,baseMapProvider:c}=e;const u=(0,a.Z)(),[p,h]=(0,n.useState)("driving"),{getDirection:v}=co(!1),[g,f]=(0,n.useState)(!1);(0,n.useEffect)((()=>{setTimeout((()=>{f(!0)}),300)}),[]);const{isLoading:m,distance:y,duration:w,getData:b,resetDirection:C}=(0,ao.g)((0,n.useMemo)((()=>({projectId:i,map:l,theme:r,locale:d,baseMapProvider:c,active:g,method:p,getDirection:v})),[c,g,v,d,l,p,i,r]));(0,n.useImperativeHandle)(t,(()=>({resetDirection:C,getData:b})));const x=[{value:"driving",label:u.$t({id:"measurement.driving",defaultMessage:"Driving"})},{value:"walking",label:u.$t({id:"measurement.walking",defaultMessage:"Walking"})},{value:"bicycling",label:u.$t({id:"measurement.bicycling",defaultMessage:"Bicycling"})}];return(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{className:oo.tips,children:u.$t({id:"Xof2py",defaultMessage:"Select the start point and destination to automatically create a route connecting them"})}),(0,me.jsxs)(s.Z,{spinning:m,indicator:(0,me.jsx)(o.Z,{}),children:[(0,me.jsxs)(B.Z,{align:"center",justify:"space-between",style:{marginBottom:6},children:[(0,me.jsxs)("div",{className:oo.subTitle,children:[u.$t({id:"lRiViJ",defaultMessage:"Travel method"}),y&&w&&(0,me.jsx)("span",{className:oo.resetButton,onClick:C,children:u.$t({id:"Ks6VyE",defaultMessage:"clear"})})]}),(0,me.jsx)(qi.ZP.Group,{size:"small",options:x,optionType:"button",value:p,onChange:e=>h(e.target.value)})]}),(0,me.jsxs)(B.Z,{align:"center",justify:"space-between",children:[(0,me.jsxs)("div",{className:oo.subTitle,children:[u.$t({id:"YILem4",defaultMessage:"Travel time"}),":"]}),(0,me.jsx)("div",{className:oo.value,children:w?"".concat(ro()(w)?Math.round(w/60):w," min"):""})]}),(0,me.jsxs)(B.Z,{align:"center",justify:"space-between",children:[(0,me.jsxs)("div",{className:oo.subTitle,children:[u.$t({id:"Y/tOfN",defaultMessage:"Travel distance"}),":"]}),(0,me.jsx)("div",{className:oo.value,children:y?"".concat(ro()(y)?(Math.round(y/1e3*100)/100).toFixed(2):y," km"):""})]})]})]})}));var po=i(67118),ho=i(36441);const vo=(0,n.forwardRef)(((e,t)=>{let{adminLevel:i=3,disabled:o,onChange:l,...r}=e;const s=(0,a.Z)(),{data:d,isLoading:c}=(0,Di.Z)("getWorldIndexData/adminBoundary",(async()=>await(0,Ni.y0)())),[u,p]=(0,n.useState)(),h=(0,n.useMemo)((()=>{const e={};return Ni.hW.forEach((t=>{var i;if("world"===t.value||!d)return;const n=t.value,o=null!==(i=d[n])&&void 0!==i?i:[],[a,l,r]=o;e[n]={admin1:a,admin2:l,admin3:r},"china"===n&&(e[n].admin1=a.filter((e=>e.id!==ho.q)))})),e}),[d]),v=(0,n.useMemo)((()=>{if(c)return[];const e=[];function t(e,t){if(0===i||Ni.HC.includes(t))return[];return function t(n,o){if(n>i||!o)return[];const a=e["admin".concat(n+1)];return null===o||void 0===o?void 0:o.map((e=>{const i=null===a||void 0===a?void 0:a.filter((t=>t.parentId===e.id));return{value:"".concat(e.id,"|").concat("zh-CN"===s.locale?e.name_zh:e.name_en),title:"zh-CN"===s.locale?e.name_zh:e.name_en,children:i?t(n+1,i):[]}}))}(1,e.admin1)}for(const i in h){var n;const[o]=null!==(n="zh-CN"===s.locale?null===d||void 0===d?void 0:d.cas:null===d||void 0===d?void 0:d.wb)&&void 0!==n?n:[],a=o.find((e=>(0,Ni.Pd)(e.iso)===i)),l=h[i];if(!a||!l)continue;const r="zh-CN"===s.locale?a.name_zh:a.name_en;e.push({value:"".concat(a.id,"|").concat(r),title:r,children:t(l,i)})}return e}),[h,c,i,s,d]),g=(0,n.useCallback)((e=>{p(e),e&&Array.isArray(e)?null===l||void 0===l||l(e.map((e=>{const[t]=e.split("|");return t}))):null===l||void 0===l||l(e)}),[l]);return(0,n.useImperativeHandle)(t,(()=>({clear:()=>p(void 0)}))),(0,me.jsx)(po.Z,{value:u,disabled:c||o,treeData:v,multiple:!0,treeLine:!0,treeIcon:!0,showSearch:!0,allowClear:!0,onChange:g,suffixIcon:(0,me.jsx)(q.Z,{type:"caretBottom"}),...r})}));var go=i(44489),fo=i(22864),mo=i(69820);const yo=(0,n.forwardRef)(((e,t)=>{var i,r;const{map:d,projectId:c,isThirdPartyTable:u,onCreateField:p}=e,h=(0,a.Z)(),[v,g]=(0,n.useState)(),[f,m]=(0,n.useState)(),y=(0,n.useRef)(null),w=(0,te.v)((e=>e.map.editor)),b=(0,te.v)((e=>{var t;return c?null===(t=e.project.layerNodes[c])||void 0===t?void 0:t.find((e=>e.id===w.layerNodeID)):void 0})),C=(0,te.v)((e=>{var t;return null!==b&&void 0!==b&&null!==(t=b.mapInfo)&&void 0!==t&&t.tableNodeID?(0,yi.eD)(e,{tableNodeId:b.mapInfo.tableNodeID,viewId:b.mapInfo.viewID}):void 0})),x=null===b||void 0===b||null===(i=b.mapInfo)||void 0===i?void 0:i.tableNodeID,I=null===C||void 0===C||null===(r=C[C.length-1])||void 0===r?void 0:r.id,j=(0,n.useMemo)((()=>null===C||void 0===C?void 0:C.filter((e=>"multiLineText"===e.type))),[C]),[M,k]=(0,n.useState)("polygon"),{getData:T,isLoading:E}=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=(0,a.Z)(),r=(0,n.useMemo)((()=>null===e||void 0===e?void 0:e.map((e=>e.split("-")))),[e]),s=(0,n.useRef)(),{data:d,isLoading:c}=(0,l.ZP)(r?["getAdminBoundary",r]:null,(async()=>{var e;return Promise.all(null!==(e=null===r||void 0===r?void 0:r.map((async e=>{const[t,i]=e,n=e.join("-");return"ADM0"===i?(await(0,Ni.uE)("zh-CN"===o.locale?"world/cas":"world/wb",i)).features.find((e=>e.properties.id===n)):t&&Ni.qT.includes(t)?(await(0,Ni.uE)(t,i)).features.find((e=>e.properties.id===n)):void 0})))&&void 0!==e?e:[])})),u=(0,n.useCallback)((()=>{if(d)return i?{type:"FeatureCollection",features:he()(d).map((e=>{const t=(0,fo.ZP)(e);var i;return"FeatureCollection"===t.type?null===(i=(0,mo.Z)(t))||void 0===i||null===(i=i.features)||void 0===i?void 0:i[0]:t}))}:{type:"FeatureCollection",features:he()(d)}}),[d,i]);return(0,n.useEffect)((()=>{d&&null!==t&&void 0!==t&&t.mapTalksMap&&(s.current||(s.current=new Be.DJ("admin-boundary")),s.current.clear(),d.forEach((e=>{e&&s.current&&Be.QZ.toGeometry(e).setSymbol({lineColor:"#0065FF",lineWidth:2,polygonFill:"#0065FF",polygonOpacity:i?0:.3}).addTo(s.current)})),s.current.addTo(t.mapTalksMap),t.fitBounds(s.current.getExtent()))}),[d,t,i]),(0,n.useEffect)((()=>()=>{var e;null===(e=s.current)||void 0===e||e.remove(),s.current=void 0}),[]),{getData:u,data:d,isLoading:c}}(v,d,"lineString"===M),P=(0,n.useCallback)((e=>{g(e?Array.isArray(e)?e:[e]:[])}),[]);return(0,n.useImperativeHandle)(t,(()=>({getData(){const e=T();if(null!==e&&void 0!==e&&e.features)return f?{...e,features:e.features.map((e=>{var t,i;return{...e,properties:{[f]:"zh-CN"===h.locale?null===(t=e.properties)||void 0===t?void 0:t.name_zh:null===(i=e.properties)||void 0===i?void 0:i.name_en}}}))}:{...e,features:e.features.map((e=>({...e,properties:{}})))}},clear(){var e;g([]),m(void 0),null===(e=y.current)||void 0===e||e.clear()}})),[T,h.locale,f]),(0,me.jsxs)("div",{className:oo.adminBoundary,children:[(0,me.jsx)("div",{className:oo.tips,children:h.$t({id:"TtCeRz",defaultMessage:"Select the admin boundaries to add"})}),(0,me.jsx)(s.Z,{spinning:E,indicator:(0,me.jsx)(o.Z,{}),children:(0,me.jsxs)(B.Z,{vertical:!0,gap:10,children:[(0,me.jsx)(vo,{ref:y,placeholder:h.$t({id:"iyFwxE",defaultMessage:"Select admin boundary"}),adminLevel:3,onChange:P,maxTagCount:3}),(0,me.jsx)(go.Z,{className:oo.segmented,value:M,options:[{value:"polygon",label:h.$t({id:"ACPjjL",defaultMessage:"Create as polygon"})},{value:"lineString",label:h.$t({id:"OdeYK9",defaultMessage:"Create as lineString"})}],block:!0,onChange:k}),(0,me.jsx)(xt.Z,{title:b?null:h.$t({id:"VUtvPU",defaultMessage:"Select a visible layer and choose a field to save the boundaries name"}),children:(0,me.jsx)(X.Z,{disabled:!b,value:f,onChange:async function(e){"new"===e&&x&&I?null===p||void 0===p||p(x,"multiLineText",u?{name:h.$t({id:"gPojGM",defaultMessage:"Admin boundary name"})}:{lastViewColumnId:I,name:h.$t({id:"gPojGM",defaultMessage:"Admin boundary name"})}).then((e=>{e&&m(e)})):m(e)},placeholder:h.$t({id:"xOed6p",defaultMessage:"Select a field for admin boundary label(optional)"}),defaultOptions:[{id:"new",name:h.$t({id:"JFFNdu",defaultMessage:"New field"}),tooltip:h.$t({id:"2xxeVP",defaultMessage:"Option to automatically create a new field to save the admin area name."})}],options:j,allowClear:!0})})]})})]})}));function wo(e){let{projectId:t,title:i,baseMap:o,drawerVisible:l=!1,editorType:s="Point",editType:d,isOpen:c=!1,isEditing:u=!1,enabledOverlayType:p,hiddenOverlayType:h,showEditToolbar:v=!0,showFinishToolbar:g=!0,showAddTooltip:f=!0,showUndoRedo:m=!0,isPro:y=!1,isNew:w=!1,theme:b="light",locale:C="en-US",baseMapProvider:x,map:I,isThirdPartyTable:j,geometryEditor:M,enableCircle:k=!1,onReset:T=qt(),onClose:E=qt(),onChange:P=qt(),onFinish:_=qt(),onUseLocation:S=qt(),onSearchPOISelected:N=qt(),onSearchAOISelected:L=qt(),onEditTypeChange:D=qt(),onTrackSearchPOI:R=qt(),onUpgradePro:Z=qt(),onCreateField:A}=e;const[F,z]=(0,n.useState)(!1),[V,H]=(0,n.useState)(1),W=(0,a.Z)(),U=(0,n.useContext)(Ki.z),G=(0,n.useRef)(null),$=(0,n.useRef)(null);const J=(0,n.useCallback)((e=>{P("Point"),N(e)}),[P,N]);function Y(e){e.preventDefault(),Z("quota.message.searchPOI")}return(0,n.useEffect)((()=>{if(!M)return;M.setOnCircleRadiusChange((e=>{H(e/1e3)}))}),[M]),(0,me.jsx)("div",{className:(0,O.default)(oo.wrap,{[oo.active]:c},l?oo.drawerOpen:""),"data-testid":"editorPanel",children:(0,me.jsxs)("div",{className:oo.panel,children:[(0,me.jsxs)(B.Z,{className:oo.header,align:"center",children:[(0,me.jsx)("h3",{className:oo.title,children:i}),U.searchPoi&&o?(0,me.jsx)("div",{className:oo.searchPOI,children:(0,me.jsx)(Kn,{isPro:y,disabled:j&&!y,tooltip:j&&!y?W.$t({id:"G6BX9L",defaultMessage:"POI search is exclusive for Pro"}):void 0,projectId:t,baseMap:o,onSelected:J,onAoiSelected:function(e){P("Polygon"),L(e)},onTrackSearchPOI:R,enableAoiSearch:"Point"!==s})}):null,(0,me.jsx)(K.ZP,{type:"text",size:"small",className:oo.iconClose,icon:(0,me.jsx)(q.Z,{type:"close",onClick:E})})]}),(0,me.jsxs)(B.Z,{vertical:!0,gap:10,className:oo.form,children:[j&&!y?(0,me.jsx)(Ui.Z,{message:(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)($i.Z,{}),(0,me.jsx)(Wi.Z,{id:"eUT19i",defaultMessage:"<a>Upgrading to Pro</a> to access POI search",values:{a:e=>(0,me.jsx)("a",{href:"/",className:oo.upgradeLink,onClick:Y,children:e})}})]})}):null,v?(0,me.jsxs)(B.Z,{vertical:!0,gap:10,children:[(0,me.jsxs)(B.Z,{align:"center",children:[(0,me.jsx)("span",{className:oo.label,children:W.$t({id:"i1+AIw",defaultMessage:"Draw"})}),(0,me.jsx)(tn,{onChange:function(e){e.target.disabled||P(e.target.value)},isNew:w,isPro:y,value:s,realValue:s,isEditing:u,enableCircle:k,enableTypes:p,hiddenTypes:h}),u&&f&&(0,me.jsx)(Ji.L0,{link:"addData",style:{marginLeft:8},text:(0,Q.Em)({id:"c6PqU4",defaultMessage:"See <a>detailed instructions</a> for adding data."})})]}),"Boundary"!==s&&"Route"!==s?(0,me.jsxs)(B.Z,{align:"center",children:[(0,me.jsx)("span",{className:oo.label,children:W.$t({id:"wEQDC6",defaultMessage:"Edit"})}),(0,me.jsx)(no,{hiddenOptions:"Circle"===s?["cut"]:[],editorType:s,onChange:function(e){D(e.target.value)},value:d,onConfirm:function(){D("confirm")}}),!m||d&&"confirm"!==d?null:(0,me.jsxs)(qi.ZP.Group,{className:oo.undoredo,children:[(0,me.jsx)(qi.ZP.Button,{disabled:!(null!==M&&void 0!==M&&M.history.canUndo()),onClick:function(){null===M||void 0===M||M.undo()},children:(0,me.jsx)(q.Z,{cursor:"pointer",type:"undo"})}),(0,me.jsx)(qi.ZP.Button,{disabled:!(null!==M&&void 0!==M&&M.history.canRedo()),onClick:function(){null===M||void 0===M||M.redo()},children:(0,me.jsx)(q.Z,{cursor:"pointer",type:"redo"})})]})]}):null]}):null,w&&"Route"===s&&t&&y&&(0,me.jsx)(uo,{ref:G,projectId:t,map:I,theme:b,locale:C,baseMapProvider:x}),w&&"Boundary"===s&&y&&(0,me.jsx)(yo,{ref:$,map:I,projectId:t,isThirdPartyTable:j,onCreateField:A}),u&&(0,me.jsxs)(B.Z,{align:"center",justify:"space-between",children:["Boundary"!==s&&"Route"!==s?(0,me.jsxs)("div",{className:oo.tip,children:[d?"Circle"===s&&M&&"editVertex"===d?(0,me.jsx)("div",{className:oo.radiusSetting,children:(0,me.jsxs)("label",{children:[W.$t({id:"nDRMt4",defaultMessage:"Radius"}),(0,me.jsx)(Gi.Z,{value:V,onChange:function(e){e&&e>=.1&&e<=100&&(H(e),null===M||void 0===M||M.updateCircleRadius(1e3*e))},className:oo.radiusInput,min:.1,max:100,step:1,precision:1}),W.$t({id:"2VsyCX",defaultMessage:"KM"})]})}):"".concat(je()("zh-CN"!==W.locale?eo:Xn,d,"")):"".concat(W.$t({id:"jPQp7Q",defaultMessage:"Drawing"}),"\n                      ").concat(je()("zh-CN"!==W.locale?Qn:Yn,s,"")),"Point"===s&&(0,me.jsx)(K.ZP,{type:"link",loading:F,onClick:async function(){z(!0);try{const e=await async function(e){return new Promise(((t,i)=>{const n=(0,Pe.PG)()&&!(0,Pe.tq)();navigator.geolocation.getCurrentPosition((e=>{const{latitude:i,longitude:n}=e.coords;t([n,i])}),(t=>{const{code:o}=t,a={1:n?e.$t({id:"q9jBxk",defaultMessage:"Unable to access your location. Please try again in a browser."}):e.$t({id:"ofACPq",defaultMessage:"You have denied access to location, please enable it to use"}),2:e.$t({id:"TUErCs",defaultMessage:"Unable to get location"}),3:e.$t({id:"7T6TM6",defaultMessage:"Timeout to get location"})};r.ZP.error(a[o]||e.$t({id:"h4nAVQ",defaultMessage:"Failed to get location"})),i(t)}),{timeout:1e4,enableHighAccuracy:!0,maximumAge:0})}))}(W);null===S||void 0===S||S(e)}finally{z(!1)}},children:W.$t({id:"Z2NE7X",defaultMessage:"Use current location"})})]}):(0,me.jsx)("div",{}),g&&(0,me.jsxs)(B.Z,{align:"center",gap:12,children:[(0,me.jsx)(xt.Z,{title:W.$t({id:"/GCoTA",defaultMessage:"Clear"}),children:(0,me.jsx)("div",{onClick:function(){var e,t;T(),null===(e=G.current)||void 0===e||e.resetDirection(),null===(t=$.current)||void 0===t||t.clear()},className:oo.trashButton,children:(0,me.jsx)(q.Z,{type:"recycleBin"})})}),(0,me.jsx)(K.ZP,{type:"primary",onClick:function(){let e;var t,i;"Route"===s&&(e=null===(t=G.current)||void 0===t?void 0:t.getData()),"Boundary"===s&&(e=null===(i=$.current)||void 0===i?void 0:i.getData()),_(e)},className:oo.finishButton,children:d?W.$t({id:"JXdbo8",defaultMessage:"Done"}):W.$t({id:"map.editor.ok",defaultMessage:"Add"})})]})]})]})]})})}var bo=i(13682),Co=i.n(bo),xo=i(26436);function Io(e){const t={type:"Feature",geometry:void 0,properties:null};function i(e){return!t.geometry||!!t.geometry&&t.geometry.type===e}if(e.forEach((e=>{var n,o,a,l;if("GeometryCollection"===e.geometry.type)return;const r=e.geometry,s=r.coordinates;switch(r.type){case"Point":case"MultiPoint":if(!i("MultiPoint"))return;t.geometry={type:"MultiPoint",coordinates:(null===(n=t.geometry)||void 0===n?void 0:n.coordinates)||[]},"Point"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"LineString":case"MultiLineString":if(!i("MultiLineString"))return;t.geometry={type:"MultiLineString",coordinates:(null===(o=t.geometry)||void 0===o?void 0:o.coordinates)||[]},"LineString"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Polygon":case"MultiPolygon":if(!i("MultiPolygon"))return;t.geometry={type:"MultiPolygon",coordinates:(null===(a=t.geometry)||void 0===a?void 0:a.coordinates)||[]},"Polygon"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Circle":case"MultiCircle":if(!i("MultiCircle"))return;t.geometry={type:"MultiCircle",coordinates:(null===(l=t.geometry)||void 0===l?void 0:l.coordinates)||[]},"Circle"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s)}})),void 0!==t.geometry){if(1===t.geometry.coordinates.length)switch(t.geometry.type){case"MultiPoint":t.geometry.type="Point",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiLineString":t.geometry.type="LineString",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiPolygon":t.geometry.type="Polygon",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiCircle":t.geometry.type="Circle",t.geometry.coordinates=t.geometry.coordinates[0]}return t}}function jo(e){return{type:"FeatureCollection",features:[Io([{type:"Feature",geometry:e,properties:null}])]}}function Mo(e){const{map:t,baseMap:i,drawerVisible:o,geometryEditor:l,isEditing:s,isAttached:d,showEditToolbar:c,projectId:u,theme:p,locale:h,baseMapProvider:v,isPro:g,isThirdPartyTable:f,onAddPOI:m,onUpdatePOI:y,onClose:w,onTrackSearchPOI:b,onUpgradePro:C,onCreateField:x}=e,I=(0,a.Z)(),[j,M]=(0,n.useState)(""),{addOverlay:k,updateOverlay:T}=function(e){var t,i,o,l,s,d;const c=(0,te.I)(),u=(0,a.Z)(),p=(0,te.v)((e=>e.map.editor.layerNodeID)),h=(0,te.v)((e=>e.map.editor)),v=(0,te.v)((t=>R()(t.project.layerNodes[e],(e=>e.id===p)))),g=null===v||void 0===v||null===(t=v.mapInfo)||void 0===t?void 0:t.tableNodeID,f=(0,te.v)((e=>g?ne.TW.selectById(e,g):void 0)),m=(0,n.useMemo)((()=>{var e;return null===(e=rt()(null===f||void 0===f?void 0:f.rows))||void 0===e?void 0:e.id}),[null===f||void 0===f?void 0:f.rows]),{tableNode:y}=(0,ki.Cc)(e,g),w="subscribed"!==(null===y||void 0===y?void 0:y.mode)&&"connected"!==(null===y||void 0===y?void 0:y.mode),b=null===f||void 0===f||null===(i=f.columns)||void 0===i?void 0:i.find((e=>{var t;return e.id===(null===v||void 0===v||null===(t=v.mapInfo)||void 0===t?void 0:t.coordinateFieldID)})),C=(0,n.useMemo)((()=>{var e,t;const i=[];return"formula"===(null===b||void 0===b?void 0:b.type)&&null!==(e=b.typeOptions)&&void 0!==e&&e.formula&&Co()(null===(t=b.typeOptions)||void 0===t?void 0:t.formula,"POINT")&&Fe()((0,xo.ev)(b.typeOptions.formula),(e=>{Co()(e,"$c_")&&i.push(e.replace("$c_",""))})),i}),[b]),x=(0,n.useCallback)((async e=>{if(!g||!w)return!1;const t=await Promise.all(e.features.map((async e=>{var t,i,n;if(null===v||void 0===v||null===(t=v.mapInfo)||void 0===t||!t.coordinateFieldID)return!1;const o={...e.properties};if(ot()(C))if(null!==v&&void 0!==v&&null!==(i=v.mapInfo)&&void 0!==i&&i.latitudeFieldID){const t=e.geometry.coordinates;if(!t)return!1;o[v.mapInfo.coordinateFieldID]=t[0],o[v.mapInfo.latitudeFieldID]=t[1]}else o[v.mapInfo.coordinateFieldID]=(0,$.Ws)(e.geometry);else{const t=e.geometry.coordinates;if(!t)return!1;o[C[0]]=t[0],o[C[1]]=t[1]}return await c(qe.v({id:g,prevRowId:m,viewId:null===v||void 0===v||null===(n=v.mapInfo)||void 0===n?void 0:n.viewID,cells:o}))}))).catch((e=>{var t;return console.error(e),null!==(t=e.message)&&void 0!==t&&t.includes("readonly")||r.ZP.error(u.$t({id:"xaWzeD",defaultMessage:"Failed to add overlay"})),[]}));if(c(Xe.Nw.updateEditor({isOpen:!1})),1===t.length&&t[0]){var i;const n=t[0].payload.wsSyncedData;if(!n||!n.addedViewRows)return;const{id:o,order:a}=n.addedViewRows[0],{geometry:l}=e.features[0],{coordinates:r,type:s}=l,d={id:o,order:a,tableNodeType:We.e.table,position:{left:0,top:0},geometry:{type:s,coordinates:r}};c(Xe.Nw.updatePoiDetail({visible:!0,newCreated:!0,id:d.id,poi:d,rowId:d.id,tableNodeId:g,labelFieldId:null===v||void 0===v||null===(i=v.mapInfo)||void 0===i?void 0:i.labelFieldID,layerNodeId:p}))}}),[g,w,c,null===v||void 0===v||null===(o=v.mapInfo)||void 0===o?void 0:o.coordinateFieldID,null===v||void 0===v||null===(l=v.mapInfo)||void 0===l?void 0:l.latitudeFieldID,null===v||void 0===v||null===(s=v.mapInfo)||void 0===s?void 0:s.labelFieldID,null===v||void 0===v||null===(d=v.mapInfo)||void 0===d?void 0:d.viewID,C,m,u,p]);return{addOverlay:x,updateOverlay:async function(e){const t=h.poi;if(t&&t.rowID&&t.tableNodeID){if(t.cellID){const i={};if(t.latCellID){const n=(0,$.pM)(e);n&&(i[t.cellID]=n[0],i[t.latCellID]=n[1])}else i[t.cellID]=e?(0,$.U6)(e):null;await c((0,qe.I)({id:t.tableNodeID,rowId:t.rowID,cells:i,prevCells:h.type&&h.geometry?{[t.cellID]:jo(h.geometry)}:void 0}))}c(Xe.Nw.updateEditor({isOpen:!1}))}}}}(u),{editorType:E,setEditorType:P,closeEditor:O,isNewPOI:_,preData:S}=ut(),{isOpen:N,onlyOnePoint:L,isAdding:D}=(0,te.v)((e=>e.map.editor)),Z=_?L?["Point"]:void 0:[],{addIndicator:A,removeIndicator:F}=dt(null===t||void 0===t?void 0:t.mapTalksMap);(0,n.useEffect)((()=>{if(!l||!d)return;const e=(0,zi.g)(E);e&&(l.setMode(e),S&&l.setEditableData(S)),"Route"!==E&&"Boundary"!==E||(l.exitEdit(),l.clear(),l.disable(),M(""))}),[E,l,S,d]);const z=(0,n.useCallback)((e=>{P(e),M(""),null===l||void 0===l||l.exitEdit()}),[P,l]),B=(0,n.useCallback)((e=>{switch(M(e),e){case"editVertex":return null===l||void 0===l?void 0:l.startEditVertex();case"move":return null===l||void 0===l?void 0:l.startMove();case"cut":return null===l||void 0===l?void 0:l.startCut();case"delete":return null===l||void 0===l?void 0:l.startDelete();case"confirm":return null===l||void 0===l?void 0:l.exitEdit(!1);default:null===l||void 0===l||l.exitEdit()}}),[l]),V=(0,n.useCallback)((()=>{O(),P("Point"),null===w||void 0===w||w()}),[P,O,w]);async function H(e){const t=void 0!==e?e:null===l||void 0===l?void 0:l.getData();if(!t&&_)return r.ZP.warning(I.$t({id:"G68XMA",defaultMessage:"Please draw on the map"}));V();const i=_?m||k:y||T;await i(t)}const W=(0,n.useCallback)((e=>{if(!e||!l)return;const n=[e.location.lng,e.location.lat];null===t||void 0===t||t.setZoomAndCenter(Ye.r0,n),setTimeout((()=>{l.setEditableData({type:"Point",coordinates:n})}));const o=null===i||void 0===i?void 0:i.getProvider();null===b||void 0===b||b("SearchPOI",{poi:e.name,provider:o,location:"Add data"},"result")}),[l,t,b,i]);return(0,n.useEffect)((()=>{async function e(){const e=null===l||void 0===l?void 0:l.getData();if(!e)return;V();const t=m||k;await t(e)}return d&&l&&L&&l.on("drawend",e),()=>{null===l||void 0===l||l.off("drawend",e)}}),[k,l,V,d,m,L]),(0,at.y1)("enter",(()=>{N&&d&&l&&"idle"===l.status&&H()}),[N,d,l]),(0,n.useEffect)((()=>{N||(M(""),V())}),[V,N]),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(ko,{}),(0,me.jsx)(wo,{title:_?I.$t({id:"Y/VSu/",defaultMessage:"Add data"}):I.$t({id:"zvrvxz",defaultMessage:"Edit coordinate"}),baseMap:_?i:null,isThirdPartyTable:f,isPro:g,isOpen:N&&D,editorType:E,enabledOverlayType:Z,editType:j,onEditTypeChange:B,drawerVisible:o,isEditing:s,isNew:_,showEditToolbar:c,projectId:u,theme:p,locale:h,baseMapProvider:v,map:t,geometryEditor:l,onChange:z,onClose:V,onReset:function(){null===l||void 0===l||l.clear()},onFinish:H,onUseLocation:async function(e){l&&(l.setEditableData({type:"Point",coordinates:e}),null===t||void 0===t||t.setZoomAndCenter(Ye.r0,e),F(),A(e),(0,Wt._)(1e3),H())},onSearchPOISelected:W,onSearchAOISelected:function(e){e&&l&&setTimeout((()=>{l.setEditableData({type:"Polygon",coordinates:e}),null===t||void 0===t||t.fitBounds(l.getExtent())}))},onUpgradePro:C,onCreateField:x})]})}function ko(){const{isProcessing:e}=(0,te.v)((e=>e.map.editor)),[t,i]=(0,n.useState)(!!e),[o,l]=(0,n.useState)(0),r=(0,a.Z)();return(0,n.useEffect)((()=>{if(t){const e=setInterval((()=>{l((e=>e<90?e+Hi()(1,10):e))}),1e3);return()=>clearInterval(e)}}),[t]),(0,n.useEffect)((()=>{e?(i(!0),l(0)):(l(100),setTimeout((()=>{i(!1),l(0)}),500))}),[e]),(0,me.jsxs)(Bi.Vq,{closable:!1,visible:t,title:r.$t({id:"E+hGvD",defaultMessage:"Processing Data..."}),children:[(0,me.jsx)("p",{children:r.$t({id:"fDe4oT",defaultMessage:"We're working on processing the data table and fields. Do not close this window while processing."})}),(0,me.jsx)(Fi.Z,{percent:o})]})}function To(e){const{name:t}=e,i=(0,te.I)();return(0,me.jsx)(Yt.br,{name:t,onClick:function(){i(Xe.Nw.toggleTimelineOpen(!0))},active:!0,icon:(0,me.jsx)(q.Z,{type:"timeline"})})}var Eo=i(13307),Po=i.n(Eo),Oo=i(5666),_o=i(76626),So=i(12703),No=i(87035),Lo=i(25182),Do=i(92472),Ro=i(23e3),Zo=i(43046),Ao=i(45716),Fo=i(86632),zo=i(27041),Bo=i(7549),Vo=i(64409),Ho=i(52444),Wo=i(70966),Uo=i(30203),qo=i(74868),Go=i(11184),$o=i(80366),Jo=i(67583),Ko=i(1944);function Yo(){const e=(0,Ko.Z)();return(0,me.jsx)(Jo.Z,{disabled:e})}var Qo=i(72351),Xo=i(9852),ea=i(93051);const ta=10,ia=5;function na(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ta,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ia;const a=i.parentElement;if(null===e||!a)return t.style.opacity="0",void(t.style.transform="translate(-10000px, -10000px)");const l=t.getBoundingClientRect(),r=i.getBoundingClientRect(),s=a.getBoundingClientRect();let d=e.top-n,c=e.left-o;d<s.top&&(d+=l.height+e.height+2*n),c+l.width>s.right&&(c=s.right-l.width-o),d-=r.top,c-=r.left,t.style.opacity="1",t.style.transform="translate(".concat(c,"px, ").concat(d,"px)")}function oa(e){const t=e.anchor,i=e.focus,n=e.anchor.getNode(),o=e.focus.getNode();if(n===o)return n;return e.isBackward()?(0,ea.P4)(i)?n:o:(0,ea.P4)(t)?n:o}const aa=new Set(["http:","https:","mailto:","sms:","tel:"]);function la(e){try{const t=new URL(e);if(!aa.has(t.protocol))return"about:blank"}catch{return e}return e}const ra={container:"floating-link-editor_container__KOfdH",link:"floating-link-editor_link__NiQnF",input:"floating-link-editor_input__2OOb7",iconWrapper:"floating-link-editor_iconWrapper__bKKJd"};function sa(e){let{type:t,onClick:i}=e;const n="toggle"===t?"delete":"edit"===t?"edit":"recycleBin";return(0,me.jsx)(K.ZP,{type:"text",size:"small",tabIndex:0,className:ra.icon,onMouseDown:e=>e.preventDefault(),icon:(0,me.jsx)(q.Z,{type:n}),onClick:i})}function da(e){let{editor:t,isLink:i,setIsLink:o,anchorElem:a,isLinkEditMode:l,setIsLinkEditMode:r}=e;const s=(0,n.useRef)(null),d=(0,n.useRef)(null),[c,u]=(0,n.useState)(""),[p,h]=(0,n.useState)("https://"),[v,g]=(0,n.useState)(null),f=(0,n.useCallback)((()=>{const e=(0,$o.dL)();if((0,$o.OP)(e)){const t=oa(e),i=(0,Xo.$s)(t,_o.Pq);i?u(i.getURL()):(0,_o.Pq)(t)?u(t.getURL()):u(""),l&&h(c)}const i=s.current,n=window.getSelection(),o=document.activeElement;if(null===i)return;const d=t.getRootElement();if(null!==e&&null!==n&&null!==d&&d.contains(n.anchorNode)&&t.isEditable()){var p;const t=null===(p=n.focusNode)||void 0===p||null===(p=p.parentElement)||void 0===p?void 0:p.getBoundingClientRect();t&&(t.y+=40,na(t,i,a)),g(e)}else o&&"input"===o.className||(null!==d&&na(null,i,a),g(null),r(!1),u(""));return!0}),[a,t,r,l,c]);(0,n.useEffect)((()=>{const e=a.parentElement,i=()=>{t.getEditorState().read((()=>{f()}))};return window.addEventListener("resize",i),e&&e.addEventListener("scroll",i),()=>{window.removeEventListener("resize",i),e&&e.removeEventListener("scroll",i)}}),[a.parentElement,t,f]),(0,n.useEffect)((()=>(0,Xo.qV)(t.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{f()}))})),t.registerCommand($o.oj,(()=>(f(),!0)),$o.KB),t.registerCommand($o.Zq,(()=>!!i&&(o(!1),!0)),$o.Eo))),[t,f,o,i]),(0,n.useEffect)((()=>{t.getEditorState().read((()=>{f()}))}),[t,f]),(0,n.useEffect)((()=>{l&&d.current&&d.current.focus()}),[l,i]);const m=()=>{null!==v&&(""!==c&&(t.dispatchCommand(_o.k0,la(p)),t.update((()=>{const e=(0,$o.dL)();if((0,$o.OP)(e)){const t=oa(e).getParent();if((0,_o.Xp)(t)){const e=(0,_o.zV)(t.getURL(),{rel:t.__rel,target:t.__target,title:t.__title});t.replace(e,!0)}}}))),h("https://"),r(!1))};return i?(0,me.jsx)("div",{ref:s,className:ra.container,children:l?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("input",{ref:d,className:(0,O.default)(ra.input,"input"),value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),m()):"Escape"===e.key&&(e.preventDefault(),r(!1))}}),(0,me.jsx)("div",{className:ra.iconWrapper,children:(0,me.jsx)(sa,{type:"toggle",onClick:()=>r(!1)})})]}):(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("a",{href:la(c),target:"_blank",rel:"noopener noreferrer",className:ra.link,children:c}),(0,me.jsxs)("div",{className:ra.iconWrapper,children:[(0,me.jsx)(sa,{type:"edit",onClick:()=>{h(c),r(!0)}}),(0,me.jsx)(sa,{type:"cancel",onClick:()=>t.dispatchCommand(_o.k0,null)})]})]})}):null}function ca(){const[e]=(0,Qo.g)(),[t,i]=(0,n.useState)(!1),[o,a]=(0,n.useState)(e),[l,r]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{function t(){const e=(0,$o.dL)();if(!(0,$o.OP)(e))return;const t=oa(e),i=(0,Xo.$s)(t,_o.Pq),n=(0,Xo.$s)(t,_o.Xp);if(!i&&!n)return void r(!1);const o=e.getNodes().filter((e=>!(0,$o.A3)(e))).find((e=>{const t=(0,Xo.$s)(e,_o.Pq),o=(0,Xo.$s)(e,_o.Xp);return i&&!i.is(t)||t&&!t.is(i)||n&&!n.is(o)||o&&!o.is(n)}));r(!o)}return(0,Xo.qV)(e.registerUpdateListener((e=>{let{editorState:i}=e;i.read((()=>{t()}))})),e.registerCommand($o.oj,((e,i)=>(t(),a(i),!1)),$o.jw),e.registerCommand($o.Kr,(e=>{const t=(0,$o.dL)();if((0,$o.OP)(t)){const i=oa(t),n=(0,Xo.$s)(i,_o.Pq);if((0,_o.Pq)(n)&&(e.metaKey||e.ctrlKey))return window.open(n.getURL(),"_blank"),!0}return!1}),$o.KB))}),[e]),(0,xe.createPortal)((0,me.jsx)(da,{editor:o,isLink:l,anchorElem:document.body,setIsLink:r,isLinkEditMode:t,setIsLinkEditMode:i}),document.body)}var ua=i(26797);function pa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return i=>{const n=e.exec(i);return null===n?null:{index:n.index,length:n[0].length,text:n[0],url:t(n[0]),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}const ha=[pa(/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,(e=>e.startsWith("http")?e:"https://".concat(e))),pa(/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,(e=>"mailto:".concat(e)))];function va(){return(0,me.jsx)(ua.$,{matchers:ha})}const ga=[{dependencies:[qo.HY],export:e=>(0,qo.fs)(e)?"---":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,i,n)=>{const o=(0,qo.Dq)();n||null!=e.getNextSibling()?e.replace(o):e.insertBefore(o),o.selectNext()},type:"element"},So.dM,So.cC,So.nH,So.T5,So.zF,So.Pz,So.eu,So.Zj,So.Ld,So.Tq,So.HJ,So.Uk],fa={container:"markdown-editor_container__E0IKt",contentEditable:"markdown-editor_contentEditable__XGsHP",placeholder:"markdown-editor_placeholder__GF2ba",link:"markdown-editor_link__NogjP",nestedListItem:"markdown-editor_nestedListItem__EYVhx",italic:"markdown-editor_italic__UoGEh",underline:"markdown-editor_underline__LWBCN",strikethrough:"markdown-editor_strikethrough__Qf9rV",underlineStrikethrough:"markdown-editor_underlineStrikethrough__yE2uA"},ma=[$o.ws,Go.c2,qo.HY,Oo.EG,Oo.NK,_o.GR,_o.qp,Go.rT];function ya(e){const{isReadOnly:t=!1,value:i="",placeholder:o,className:a}=e,l=(0,n.useMemo)((()=>(0,Ro.l)()),[]);const r=(0,n.useRef)(null);return(0,n.useEffect)((()=>{t&&r.current&&null!=i&&r.current.update((()=>{(0,So.Os)(i,ga)}))}),[t,i]),(0,n.useEffect)((()=>{r.current&&r.current.setEditable(!t)}),[t]),(0,me.jsx)("div",{className:(0,O.default)(fa.container,a),children:(0,me.jsxs)(No.R,{initialConfig:(s=i||"",d=!t,{editable:d,editorState:()=>{s&&((0,So.Os)(s,ga),(0,$o.oq)(null))},namespace:"MarkdownEditor",nodes:ma,onError:e=>{throw e},theme:{link:fa.link,list:{nested:{listitem:fa.nestedListItem}},text:{italic:fa.italic,strikethrough:fa.strikethrough,underline:fa.underline,underlineStrikethrough:fa.underlineStrikethrough}}}),children:[(0,me.jsx)(Wo.B,{}),(0,me.jsx)(Ho.H,{}),(0,me.jsx)(va,{}),(0,me.jsx)(ca,{}),(0,me.jsx)(zo.f,{}),(0,me.jsx)(Yo,{}),(0,me.jsx)(Ao.u,{}),(0,me.jsx)(Bo.n,{editorRef:r}),(0,me.jsx)(Zo.e,{externalHistoryState:l}),(0,me.jsx)(Vo.B,{contentEditable:(0,me.jsx)(Lo.f,{className:fa.contentEditable}),placeholder:(0,me.jsx)("div",{className:fa.placeholder,children:o}),ErrorBoundary:Do.Z}),(0,me.jsx)(Fo.r,{transformers:ga}),(0,me.jsx)(Uo.$,{onChange:function(t){t.read((()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,(0,So.JH)(ga))}))}})]})});var s,d}const wa={wrap:"description_wrap__Em-YL",descEditor:"description_descEditor__VerjU",desc:"description_desc__MqF7F",collapsed:"description_collapsed__DsoTZ",action:"description_action__EmHsv",collapsedIcon:"description_collapsedIcon__2uWc1"};function ba(e){const{projectId:t,mapConfig:i,readonly:o}=e,l=(0,te.I)(),r=(0,a.Z)(),[s,d]=(0,n.useState)(null===i||void 0===i?void 0:i.desc),[c,u]=(0,n.useState)(!0),[p,h]=(0,n.useState)(!0),v=(0,n.useRef)(null),g=(0,n.useMemo)((()=>Po()((e=>{i&&!o&&l((0,pi.NV)({projectId:t,mapConfig:{...i,desc:e}}))}),600)),[l,i,t,o]),f=(0,n.useCallback)((e=>{d(e),g(e)}),[g]),m=(0,n.useCallback)((()=>{u((e=>!e)),v.current&&(v.current.scrollTop=0)}),[]);return(0,n.useEffect)((()=>{v.current&&!o&&v.current.scrollHeight>v.current.clientHeight&&u(!1)}),[s,o]),(0,n.useEffect)((()=>{const e=new ResizeObserver((e=>{const t=e[0];h(t.target.scrollHeight<=60)}));return v.current&&e.observe(v.current),()=>{e.disconnect()}}),[]),(0,me.jsxs)("div",{className:(0,O.default)(wa.wrap,{hide:o&&!(null!==i&&void 0!==i&&i.desc)}),children:[(0,me.jsx)("div",{ref:v,className:(0,O.default)(wa.desc,{[wa.collapsed]:c}),children:(0,me.jsx)(ya,{value:s,onChange:f,isReadOnly:o,className:wa.descEditor,placeholder:r.$t({id:"fwcWaG",defaultMessage:"Map description"})})}),(0,me.jsx)("span",{className:(0,O.default)(wa.action,{[wa.collapsedIcon]:c,hide:p}),onClick:m,children:(0,me.jsx)(q.Z,{type:"arrowUp2"})})]})}var Ca=i(11454),xa=i.n(Ca),Ia=i(64493),ja=i.n(Ia),Ma=i(16128),ka=i(74909);const Ta=(0,le.P1)([e=>e.map.filters,e=>{var t,i,n;return null!==(t=null===(i=e.workspace.current)||void 0===i?void 0:i.id)&&void 0!==t?t:null===(n=ka.MY.selectAll(e))||void 0===n||null===(n=n.find((e=>"user"===e.type)))||void 0===n?void 0:n.id},(e,t)=>t],((e,t,i)=>{var n;const{layerNodeId:o,type:a,allowAnonymous:l}=i,r=(0,Ke.Jl)({workspaceId:t,layerNodeId:o},{allowAnonymous:l});return r&&(null===(n=e[r])||void 0===n?void 0:n[a])||null}),{memoizeOptions:{resultEqualityCheck:it()}}),Ea=(0,le.P1)([(e,t)=>t,e=>e.map.filters],((e,t)=>{var i;let{id:n,type:o}=e;return(null===(i=t[n])||void 0===i?void 0:i[o])||null}),{memoizeOptions:{resultEqualityCheck:it()}});var Pa=i(75202),Oa=i(17181);const _a=["pointLinePolygon","heatmap","odLine","cluster","icon"];var Sa=i(33194),Na=i(22732);const La={wrap:"legend_wrap__e99dK",legendPanel:"legend_legendPanel__Zz6WA",annotation:"legend_annotation__B5R5c",annotationToggle:"legend_annotationToggle__7EHQG",block:"legend_block__7doj9",header:"legend_header__4aSDl",actions:"legend_actions__jyJpE",dualView:"legend_dualView__vkUFN",divide:"legend_divide__ELLyg",dualViewConfig:"legend_dualViewConfig__Z2nwJ",dualViewTitle:"legend_dualViewTitle__TgMch",dualViewActions:"legend_dualViewActions__LW1I2",dualViewActionLabel:"legend_dualViewActionLabel__uZ9-e",dualViewSwitch:"legend_dualViewSwitch__EAhSq",dualViewActionStatus:"legend_dualViewActionStatus__lkIfK",active:"legend_active__UaWwu",iconLegend:"legend_iconLegend__ysBVG",icons:"legend_icons__u-lZC",iconVisible:"legend_iconVisible__qgIWh",iconFocus:"legend_iconFocus__bh8pJ",iconWrap:"legend_iconWrap__LdXc4",title:"legend_title__ErqqQ",desc:"legend_desc__o6JXF",legendContainer:"legend_legendContainer__sfNVA",list:"legend_list__60TnB",heatmap:"legend_heatmap__7+-7z",item:"legend_item__uv7+a",icon:"legend_icon__eZaWD",img:"legend_img__AZN96",outlineList:"legend_outlineList__5SybU",outlineItem:"legend_outlineItem__P6o8N",color:"legend_color__4o1vT",value:"legend_value__iHGPX",outlineBar:"legend_outlineBar__+-Ljy",radiusLegends:"legend_radiusLegends__RK+qL",radiusPlot:"legend_radiusPlot__aGRrh",radiusValue:"legend_radiusValue__dvDcv",radiusValueItem:"legend_radiusValueItem__K+lL5",radiusLegend:"legend_radiusLegend__MWb-a",legendName:"legend_legendName__BEce-",transparent:"legend_transparent__qiux5",canvasLegend:"legend_canvasLegend__S0290",bivariateLegend:"legend_bivariateLegend__Fqic8",bivariateName2:"legend_bivariateName2__mgBtD",bivariateName1:"legend_bivariateName1__rBfG8",arrow2:"legend_arrow2__5GuBU",arrow1:"legend_arrow1__EsyPY",arrowIcon:"legend_arrowIcon__iYcoY"},Da=80,Ra=80,Za=(e,t,i,n,o)=>{try{const a=(0,Sa.Z)(n,o)(e.x),l=(0,Sa.Z)(t,i)(e.x);return(0,Sa.Z)(a,l)(e.y)}catch(a){return console.error("calcColor:",a),"#ffffff"}},Aa=e=>{const{legend:t}=e,i=n.useRef(null),[o,a]=n.useState([]);return(0,n.useEffect)((()=>{if(i.current){var e,n,o,l,r,s;const g=t.legends.map((e=>e.color)),f=[null!==(e=null===(n=t.fillField)||void 0===n?void 0:n.name)&&void 0!==e?e:"",null!==(o=null===(l=t.bivariateFillField)||void 0===l?void 0:l.name)&&void 0!==o?o:""],m=i.current.getContext("2d"),y=null!==(r=null===m||void 0===m?void 0:m.canvas.width)&&void 0!==r?r:Da,w=null!==(s=null===m||void 0===m?void 0:m.canvas.height)&&void 0!==s?s:Ra,b=null===m||void 0===m?void 0:m.createImageData(m.canvas.width,m.canvas.height);if(!b||!m)return;for(let e=0;e<y;e+=1)for(let t=0;t<w;t+=1){var d,c,u,p,h,v;const i=Za({x:t/(y-1),y:e/(w-1)},g[0],g[1],g[2],g[3]);b.data[4*(e*y+t)]=null!==(d=null===(c=(0,Na.ZP)(i))||void 0===c?void 0:c.rgb().r)&&void 0!==d?d:0,b.data[4*(e*y+t)+1]=null!==(u=null===(p=(0,Na.ZP)(i))||void 0===p?void 0:p.rgb().g)&&void 0!==u?u:0,b.data[4*(e*y+t)+2]=null!==(h=null===(v=(0,Na.ZP)(i))||void 0===v?void 0:v.rgb().b)&&void 0!==h?h:0,b.data[4*(e*y+t)+3]=255}m.putImageData(b,0,0),a(f)}}),[t]),(0,me.jsxs)("div",{className:La.canvasLegend,children:[(0,me.jsx)("canvas",{ref:i,width:Da,height:Ra,className:La.bivariateLegend}),(0,me.jsx)("div",{className:La.bivariateName1,title:o[0],children:o[0]}),(0,me.jsx)("div",{className:La.arrow1,children:(0,me.jsx)(q.Z,{type:"arrow",className:La.arrowIcon})}),(0,me.jsx)("div",{className:La.arrow2,children:(0,me.jsx)(q.Z,{type:"arrow",className:La.arrowIcon})}),(0,me.jsx)("div",{className:La.bivariateName2,title:o[1],children:o[1]})]})};function Fa(e,t,i){var n;const o=null===e||void 0===e||null===(n=e.op)||void 0===n?void 0:n.key;return!!o&&(o===ji.fP.equals.key?e.value!==t:o===ji.fP.notInRange.key?!!i.find((e=>e.key===t)):o===ji.fP.inRange.key&&!i.find((e=>e.key===t)))}function za(e){let{key:t,values:i=[]}=e;return[t,...i].join(",")}const Ba=e=>{var t,i,o,l,r,s,d,c,u,p,h,v;const{hiddenLayerIds:g,legend:f,label:m,isThirdPartyTable:y,disableFilter:w,isDualView:b,dualMapLayerVisible:C,enableLayerToggle:x,onMenuClick:I,onDualMapLayerVisibleToggle:j}=e,M=(0,a.Z)(),k=(0,te.I)(),[T,E]=(0,n.useState)(null),[P,_]=(0,n.useState)(null),S=null===g||void 0===g?void 0:g.includes(f.id),N=function(e,t){const{workspaceId:i}=(0,Mi.F)(),{pathname:n}=(0,fi.TH)(),o=n.startsWith("/s/");return(0,Ke.Jl)({workspaceId:i,layerNodeId:e},{allowAnonymous:t||o})}(f.id,y),L=(0,te.v)((e=>N?Ea(e,{id:N,type:"legend"}):null)),{pathname:D}=(0,fi.TH)(),R=D.startsWith("/s/"),Z=(0,te.v)((e=>Ta(e,{type:"legend",layerNodeId:f.id,allowAnonymous:y||R}))),{flattened:A,hasStringField:F,hasUserField:z}=(0,n.useMemo)((()=>{const e=mi.K.flat(Z).filter((e=>"op"in e));return{flattened:e,hasStringField:e.some((e=>(0,oe.S8)(e.field))),hasUserField:e.some((e=>(0,oe.NU)(e.field)))}}),[Z]),V=null===A||void 0===A?void 0:A[0],H=(0,Ke.Oy)(null!==(t=null===V||void 0===V?void 0:V.value)&&void 0!==t?t:""),W=f.fillField,U=f.outlineField;function G(e){k(Xe.Nw.removeMapFilters({id:e,type:"legend"}))}function $(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;if(!e.values||!n||!N)return;const o=function(e,t,i,n){if(!e.values||!n)return null;const o=f.id;let a=vi()(L);const l=mi.K.find(a,(e=>e.id===o)),r=(0,oe.S8)(n),s=(0,oe.NU)(n);if(t)if(r)a=mi.K.filter(a,(t=>t.value!==e.name));else if(s){var d;const t=null===(d=e.values)||void 0===d?void 0:d.join(",");a=mi.K.filter(a,(e=>e.value!==t))}else{var c;if(!l)return null;const t=(0,Ke.Oy)(l.value);t.push({key:e.name,values:e.values}),(null===(c=l.op)||void 0===c?void 0:c.key)===ji.fP.inRange.key?(l.op=ji.fP.notInRange,l.value=i.filter((e=>!t.some((t=>t.key===e.name))&&e.values)).map((e=>za({key:e.name,values:e.values}))).join(",")):l.value=t.filter((t=>t.key!==e.name&&t.values)).map(za).join(",")}else if(r)a=mi.K.and(a,{id:String(Date.now()),field:n,value:e.name,op:ji.fP.notContains});else if(s){var u;a=mi.K.and(a,{id:String(Date.now()),field:n,value:null===(u=e.values)||void 0===u?void 0:u.join(","),op:ji.fP.notContains})}else{var p;if(mi.K.isEmpty(Z))return{id:f.id,field:n,value:za({key:e.name,values:e.values}),op:ji.fP.notInRange};if(!l)return null;(null===(p=l.op)||void 0===p?void 0:p.key)===ji.fP.inRange.key?(l.op=ji.fP.notInRange,l.value=i.filter((e=>e.values)).map((e=>za({key:e.name,values:e.values}))).join(",")):l.value=(0,Ke.Oy)(l.value).concat([{key:e.name,values:e.values}]).map(za).join(",")}if(l){const e=(0,Ke.Oy)(l.value),t=e.length===i.length-1,n=i.find((t=>!e.find((e=>e.key===t.name))));t&&n&&n.values&&(l.op=ji.fP.inRange,l.value=za({key:n.name,values:n.values}))}return a||null}(e,t,i,n);mi.K.isEmpty(o)?G(N):k(Xe.Nw.updateMapFilters({id:N,type:"legend",filter:o}))}(0,n.useEffect)((()=>()=>{!w&&N&&k(Xe.Nw.removeMapFilters({id:N,type:"legend"}))}),[N,w,k]);const J=e=>{let{fillLegends:t,fillField:i,lastFocusItemName:n,layerType:o,changeLastFocusItemName:a}=e;return(t||[]).map(((e,l)=>{let r=!1;var s;if(F)r=(null===V||void 0===V||null===(s=V.op)||void 0===s?void 0:s.key)===ji.fP.equals.key?Fa(V,e.name,H):A.some((t=>t.value===e.name));else if(z){var d,c;const t=null===(d=e.values)||void 0===d?void 0:d.join(",");r=(null===V||void 0===V||null===(c=V.op)||void 0===c?void 0:c.key)===ji.fP.equals.key&&t?Fa(V,t,H):A.some((e=>e.value===t))}else r=Fa(V,e.name,H);return(0,me.jsxs)("div",{className:La.item,role:"listitem",children:[e.icon?(0,me.jsx)("div",{className:La.icon,children:Ye.jm.includes(e.icon)?(0,me.jsx)(q.Z,{type:"iconLayerIcon".concat(ja()(e.icon)),style:{color:e.color}}):(0,me.jsx)("div",{className:La.img,style:{backgroundImage:"url(".concat(e.icon,")")}})}):(0,me.jsx)("div",{className:(0,O.default)(La.color,La[e.color]),style:{backgroundColor:r?"#ebecf0":e.color}}),(0,me.jsx)("div",{className:La.value,style:{color:r?"#c1c7d0":void 0},children:(0,me.jsx)(Dn.Z,{text:e.name})}),e.values&&e.values.length>0&&!w&&_a.includes(o)?(0,me.jsxs)("div",{className:La.icons,children:[(0,me.jsx)(xt.Z,{title:e.name===P?M.$t({id:"LEj9aE",defaultMessage:"Show all data"}):M.$t({id:"Bk+7gz",defaultMessage:"Show only this feature"}),destroyOnHidden:!0,children:(0,me.jsx)("span",{className:La.iconWrap,onClick:()=>function(e){let{legendItem:t,fillLegends:i,fillField:n,lastFocusItemName:o,changeLastFocusItemName:a}=e;if(!t.values||!n)return;if(o===t.name&&N)return G(N),void a(null);const l=(0,oe.S8)(n),r=(0,oe.NU)(n);let s,d=ji.fP.notInRange;if(l)s=t.name,d=ji.fP.equals;else if(r){var c;s=null===(c=t.values)||void 0===c?void 0:c.join(","),d=ji.fP.equals}else s=i.filter((e=>![t].find((t=>t.name===e.name))&&e.values&&e.values.length>0)).map((e=>za({key:e.name,values:e.values}))).join(",");a(t.name),N&&k(Xe.Nw.updateMapFilters({id:N,type:"legend",filter:{id:f.id,field:n,value:s,op:d}}))}({legendItem:e,fillLegends:t,fillField:i,lastFocusItemName:n,changeLastFocusItemName:a}),children:e.name===P?(0,me.jsx)(q.Z,{type:"focusReverse",className:La.iconFocus}):(0,me.jsx)(q.Z,{type:"focus",className:La.iconFocus})})}),(0,me.jsx)(q.Z,{type:r?"invisible":"visible",className:La.iconVisible,onClick:()=>$(e,r,t||[],i)})]}):null]},l)}))};return(0,me.jsxs)("div",{className:La.block,children:[(0,me.jsxs)("div",{className:La.header,children:[(0,me.jsxs)("div",{className:La.title,children:[(0,me.jsx)(q.Z,{type:"layer"}),(0,me.jsx)(Dn.Z,{text:f.title})]}),(0,me.jsx)("div",{className:La.actions,children:b?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:La.dualView,children:[(0,me.jsx)("span",{className:La.divide}),(0,me.jsx)(q.Z,{type:null!==C&&void 0!==C&&C[0]?"visible":"invisible",className:La.iconVisible,onClick:()=>{var e;return null===j||void 0===j?void 0:j(f.id,[!(null!==C&&void 0!==C&&C[0]),null!==(e=null===C||void 0===C?void 0:C[1])&&void 0!==e&&e])}})]}),(0,me.jsxs)("div",{className:La.dualView,children:[(0,me.jsx)("span",{className:La.divide}),(0,me.jsx)(q.Z,{type:null!==C&&void 0!==C&&C[1]?"visible":"invisible",className:La.iconVisible,onClick:()=>{var e;return null===j||void 0===j?void 0:j(f.id,[null!==(e=null===C||void 0===C?void 0:C[0])&&void 0!==e&&e,!(null!==C&&void 0!==C&&C[1])])}})]})]}):(0,me.jsxs)(B.Z,{align:"center",gap:2,children:[!S&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(xt.Z,{title:M.$t({id:"menu.name.fitBounds",defaultMessage:"Zoom to this layer"}),children:(0,me.jsx)(q.Z,{type:"fullscreen",cursor:"pointer",onClick:()=>I("fitBounds")})}),m&&!m.disabled&&(0,me.jsx)(xt.Z,{title:null!==m&&void 0!==m&&m.active?M.$t({id:"menu.name.hideLabel",defaultMessage:"Hide label"}):M.$t({id:"menu.name.showLabel",defaultMessage:"Show label"}),children:(0,me.jsx)(q.Z,{type:null!==m&&void 0!==m&&m.active?"label":"labelOff",cursor:"pointer",onClick:()=>I("toggleLabel")})})]}),x&&(0,me.jsx)(q.Z,{type:S?"invisible":"visible",cursor:"pointer",onClick:()=>I("toggleLayer")})]})})]}),f.layerDesc?(0,me.jsx)("div",{className:La.desc,children:f.layerDesc}):null,(0,me.jsxs)("div",{className:La.legendContainer,"data-testid":"legendContainer",children:["path"===f.layerType&&null!==(i=f.endpointsLegends)&&void 0!==i&&i.length?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:La.legendName,children:M.$t({id:"QBYdL6",defaultMessage:"Points Color"})}),f.endpointsLegends.map(((e,t)=>(0,me.jsxs)("div",{className:La.item,children:[(0,me.jsx)("div",{className:La.color,style:{backgroundColor:e.color}}),(0,me.jsx)("div",{className:La.value,children:(0,me.jsx)(Dn.Z,{text:e.name})})]},t)))]}):null,"odLine"===f.layerType&&null!==(o=f.odLineLegends)&&void 0!==o&&o.length?(0,me.jsx)(me.Fragment,{children:f.odLineLegends.map(((e,t)=>(0,me.jsxs)("div",{className:La.item,children:[(0,me.jsx)("div",{className:La.color,style:{backgroundColor:e.color}}),(0,me.jsx)("div",{className:La.value,children:(0,me.jsx)(Dn.Z,{text:e.name})})]},t)))}):null,f.isBivariate?(0,me.jsx)(Aa,{legend:f}):(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:La.legendName,children:[null!==W&&void 0!==W&&W.name?M.$t({id:"HKEVKu",defaultMessage:"Fill Color"})+": ":"",null===W||void 0===W?void 0:W.name]}),(0,me.jsx)(Pa.g,{active:(null===(l=f.legends)||void 0===l?void 0:l.length)>Oa._u,children:(0,me.jsx)("div",{role:"list",className:La.list,"data-role":"legend-list",style:0===(null===(r=f.legends)||void 0===r?void 0:r.length)?{marginBottom:0}:void 0,children:"heatmap"===f.layerType?(0,me.jsxs)("div",{className:La.heatmap,"data-role":"legend-heatmap",children:[(0,me.jsx)("div",{style:{width:"100%",height:16},children:(0,me.jsx)(Ma.Z,{colors:f.legends.map((e=>e.color))})}),(0,me.jsxs)(on.Z,{justify:"space-between",children:[(0,me.jsx)(an.Z,{children:M.$t({id:"477I0g",defaultMessage:"Low"})}),(0,me.jsx)(an.Z,{children:M.$t({id:"AxMhQr",defaultMessage:"High"})})]})]}):J({fillLegends:f.legends||[],fillField:W,lastFocusItemName:T,layerType:f.layerType,changeLastFocusItemName:E})})})]}),null!==(s=f.outlineFillFieldLegends)&&void 0!==s&&s.length&&["pointLinePolygon","path"].includes(f.layerType)?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:La.legendName,children:[null!==(d=f.outlineField)&&void 0!==d&&d.name?M.$t({id:"seUcXR",defaultMessage:"Stroke Color"})+": ":"",null===(c=f.outlineField)||void 0===c?void 0:c.name]}),(0,me.jsx)("div",{className:La.list,children:W?(f.outlineFillFieldLegends||[]).map(((e,t)=>(0,me.jsxs)("div",{className:La.item,children:[(0,me.jsx)("div",{className:(0,O.default)(La.color,La[e.color]),style:{backgroundColor:e.color}}),(0,me.jsx)("div",{className:La.value,children:(0,me.jsx)(Dn.Z,{text:e.name})})]},t))):J({fillLegends:f.outlineFillFieldLegends||[],fillField:U,lastFocusItemName:P,layerType:f.layerType,changeLastFocusItemName:_})})]}):null,null!==(u=f.outlineWidthFieldLegends)&&void 0!==u&&u.length?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:La.legendName,children:[M.$t({id:"lWlLlv",defaultMessage:"Stroke Width"})+": ",null===(p=f.outlineWidthField)||void 0===p?void 0:p.name]}),(0,me.jsx)("div",{className:La.outlineList,children:(f.outlineWidthFieldLegends||[]).map(((e,t)=>{var i;return(0,me.jsxs)("div",{className:La.outlineItem,children:[(0,me.jsx)("div",{className:La.outlineBar,children:(0,me.jsx)("div",{className:(0,O.default)(La.color,La[e.color]),style:{backgroundColor:e.color}})}),(0,me.jsx)("div",{className:La.value,title:null===(i=e.value)||void 0===i?void 0:i.toString(),children:xa()(e.name,{length:10})})]},t)}))})]}):null,null!==(h=f.radiusLegends)&&void 0!==h&&h.length?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)("div",{className:La.legendName,children:["icon"===f.layerType?M.$t({id:"agOXPD",defaultMessage:"Size"})+": ":"path"===f.layerType?M.$t({id:"layer.fill.width",defaultMessage:"Width"})+": ":M.$t({id:"nDRMt4",defaultMessage:"Radius"})+": ",null===(v=f.radiusField)||void 0===v?void 0:v.name]}),(0,me.jsxs)("div",{className:La.radiusLegends,children:[(0,me.jsx)("div",{className:La.radiusPlot,children:(f.radiusLegends||[]).map(((e,t)=>(0,me.jsx)("div",{className:La.radiusLegend},t)))}),(0,me.jsx)("div",{className:La.radiusValue,children:(f.radiusLegends||[]).map(((e,t)=>{var i;return(0,me.jsx)("div",{className:La.radiusValueItem,title:null===(i=e.value)||void 0===i?void 0:i.toString(),children:xa()(e.name,{length:10})},t)}))})]})]}):null]},f.id)]})},Va=e=>{const{legends:t,onClick:i,active:n,labels:o,name:l,isThirdPartyTable:r,disableFilter:s,isDualView:d,dualMapState:c,description:u,projectId:p,enableAnnotation:h,enableLayerToggle:v,onLabelVisibilityChange:g,onDualMapViewportSyncToggle:f,onDualMapZoomSyncToggle:m,onDualMapLayerVisibleToggle:y,onLayerToggle:w}=e,b=(0,te.I)(),C=(0,te.v)((e=>p?e.map.hiddenLayerIds[p]:void 0)),x=(0,te.v)((e=>e.map.annotationStatus)),I=(0,a.Z)();const j=null===c||void 0===c?void 0:c.layers;return(0,me.jsxs)(Yt.br,{showClose:!0,name:l,onClick:function(){if(p){let e=Bt().get(Vt.Wr)||[];n?e.push(p):e=e.filter((e=>e!==p)),Bt().set(Vt.Wr,e)}null===i||void 0===i||i(!n,l)},active:n,icon:(0,me.jsx)(q.Z,{type:"layer",className:La.iconLegend}),title:I.$t({id:"iZuO+L",defaultMessage:"Legend"}),className:La.wrap,children:[u,d&&(0,me.jsxs)("div",{className:La.dualViewConfig,children:[(0,me.jsx)("div",{className:La.dualViewTitle,children:I.$t({id:"yS1Me8",defaultMessage:"Split mode settings"})}),(0,me.jsxs)("div",{className:La.dualViewActions,children:[(0,me.jsx)("div",{className:La.dualViewActionLabel,children:I.$t({id:"S1arkw",defaultMessage:"Lock viewport"})}),(0,me.jsxs)("div",{className:La.dualViewSwitch,children:[(0,me.jsx)(se.Z,{size:"small",onChange:f,defaultChecked:null===c||void 0===c?void 0:c.syncOptions.viewport}),(0,me.jsx)("span",{className:La.dualViewActionStatus,children:null!==c&&void 0!==c&&c.syncOptions.viewport?I.$t({id:"V52jNn",defaultMessage:"Enabled"}):I.$t({id:"tthToS",defaultMessage:"Disabled"})})]})]}),(0,me.jsxs)("div",{className:La.dualViewActions,children:[(0,me.jsx)("div",{className:La.dualViewActionLabel,children:I.$t({id:"226+k9",defaultMessage:"Sync zoom level"})}),(0,me.jsxs)("div",{className:La.dualViewSwitch,children:[(0,me.jsx)(se.Z,{size:"small",onChange:m,defaultChecked:null===c||void 0===c?void 0:c.syncOptions.zoom,disabled:null===c||void 0===c?void 0:c.syncOptions.viewport}),(0,me.jsx)("span",{className:La.dualViewActionStatus,children:null!==c&&void 0!==c&&c.syncOptions.zoom?I.$t({id:"V52jNn",defaultMessage:"Enabled"}):I.$t({id:"tthToS",defaultMessage:"Disabled"})})]})]})]}),h&&(0,me.jsx)("div",{className:La.annotation,children:(0,me.jsxs)(B.Z,{align:"center",justify:"space-between",className:La.block,children:[(0,me.jsxs)(B.Z,{gap:6,align:"center",className:La.title,children:[(0,me.jsx)(q.Z,{type:"annotation"}),I.$t({id:"c2l+EP",defaultMessage:"Annotations"})]}),(0,me.jsx)(q.Z,{className:La.annotationToggle,type:x.visible?"visible":"invisible",cursor:"pointer",onClick:function(){b(Xe.Nw.updateAnnotationStatus({visible:!x.visible}))}})]})}),!ot()(t)&&(0,me.jsx)("div",{className:La.legendPanel,"data-type":"control-legend",children:null===t||void 0===t?void 0:t.map((e=>(0,me.jsx)(Ba,{disableFilter:s,isDualView:d,dualMapLayerVisible:null===j||void 0===j?void 0:j[e.id],onDualMapLayerVisibleToggle:y,isThirdPartyTable:r,enableLayerToggle:v,legend:e,label:null===o||void 0===o?void 0:o.find((t=>t.id===e.id)),hiddenLayerIds:C,onMenuClick:t=>function(e,t){switch(e){case"fitBounds":Ct.m2.emit(t);break;case"toggleLabel":{var i;const e=!(null===o||void 0===o||null===(i=o.find((e=>e.id===t)))||void 0===i||!i.active),n=null===o||void 0===o?void 0:o.map((i=>i.id===t?{...i,active:!e}:i));null===g||void 0===g||g(n)}break;case"toggleLayer":null===w||void 0===w||w(t)}}(t,e.id)},e.id)))})]})};var Ha=i(53029),Wa=i(90875),Ua=i(1414),qa=i(44459),Ga=i(38981),$a=i.n(Ga);const Ja="p",Ka={home:{path:"/"},login:{path:"login"},signup:{path:"signup"},survey:{path:"survey"},user:{path:"user",children:{profile:{path:"profile",fullPath:()=>"/".concat(Ka.user.path,"/").concat(Ka.user.children.profile.path)},api:{path:"api",fullPath:()=>"/".concat(Ka.user.path,"/").concat(Ka.user.children.api.path)},unsubscribe:{path:"unsubscribe",fullPath:()=>"/".concat(Ka.user.path,"/").concat(Ka.user.children.unsubscribe.path)}}},project:{path:":workspaceType/:workspaceId/p/:projectId",children:{recycle:{path:"recycle"},member:{path:"member"},emptyTable:{path:"t",fullPath:()=>"".concat(Ka.project.path,"/").concat(Ka.project.children.emptyTable.path)},table:{path:"t/:tableNodeId",fullPath:()=>"".concat(Ka.project.path,"/").concat(Ka.project.children.table.path),generatePath:(e,t,i,n)=>(0,Ua.Gn)(Ka.project.children.table.fullPath(),{workspaceType:e,workspaceId:$a()(t),projectId:$a()(i),tableNodeId:$a()(null!==n&&void 0!==n?n:"")})},map:{path:"map",fullPath:()=>"".concat(Ka.project.path,"/").concat(Ka.project.children.map.path),generatePath:(e,t,i)=>(0,Ua.Gn)(Ka.project.children.map.fullPath(),{workspaceType:e,workspaceId:$a()(t),projectId:$a()(i)})},dashboard:{path:"dashboard",fullPath:()=>"".concat(Ka.project.path,"/").concat(Ka.project.children.dashboard.path),generatePath:(e,t,i)=>(0,Ua.Gn)(Ka.project.children.dashboard.fullPath(),{workspaceType:e,workspaceId:$a()(t),projectId:$a()(i)})}}},workspace:{path:":workspaceType",children:{projectList:{path:":workspaceId",fullPath:()=>"".concat(Ka.workspace.path,"/").concat(Ka.workspace.children.projectList.path),generatePath:(e,t)=>(0,Ua.Gn)(Ka.workspace.children.projectList.fullPath(),{workspaceType:e,workspaceId:$a()(t)})},recycle:{path:":workspaceId/recycle",fullPath:()=>"".concat(Ka.workspace.path,"/").concat(Ka.workspace.children.recycle.path),generatePath:(e,t)=>(0,Ua.Gn)(Ka.workspace.children.recycle.fullPath(),{workspaceType:e,workspaceId:$a()(t)})},setting:{path:":workspaceId/settings",fullPath:()=>"".concat(Ka.workspace.path,"/").concat(Ka.workspace.children.setting.path),generatePath:(e,t)=>(0,Ua.Gn)(Ka.workspace.children.setting.fullPath(),{workspaceType:e,workspaceId:$a()(t)})},member:{path:":workspaceId/members",fullPath:()=>"".concat(Ka.workspace.path,"/").concat(Ka.workspace.children.member.path),generatePath:(e,t)=>(0,Ua.Gn)(Ka.workspace.children.member.fullPath(),{workspaceType:e,workspaceId:$a()(t)})},invitation:{path:":workspaceId/invitations"},dataList:{path:":workspaceId/datalist",fullPath:()=>"".concat(Ka.workspace.path,"/").concat(Ka.workspace.children.dataList.path),generatePath:(e,t)=>(0,Ua.Gn)(Ka.workspace.children.dataList.fullPath(),{workspaceType:e,workspaceId:$a()(t)}),children:{files:{path:""},subscribed:{path:"subscribed"},connections:{path:"connections"}}},connection:{path:":workspaceId/datalist/connections/:id"}}},marketPlace:{path:"marketplace"},marketPlaceDetail:{path:"marketplace/:id"},templates:{path:"templates"},unsubscribe:{path:"unsubscribe"},weChatAuth:{path:"auth/wechat"},feishu:{path:"feishu",children:{invite:{path:"invite"},help:{path:"help"},plan:{path:"plan"}}},payment:{path:"payment",children:{result:{path:"result"}}},plan:{path:"plan"},pay:{path:"pay"},isolatedSharing:{path:"s",children:{form:{path:"f/:shareToken"},row:{path:"r/:shareToken"}}},sharing:{path:"s",children:{table:{path:"t/:shareToken"},map:{path:"m/:shareToken"},mapEmbed:{path:"embed/:shareToken"},dashboard:{path:"d/:shareToken"},project:{path:"p/:shareToken",fullPath:()=>"".concat(Ka.sharing.path,"/").concat(Ka.sharing.children.project.path),generatePath:e=>(0,Ua.Gn)(Ka.sharing.children.project.fullPath(),{shareToken:e}),children:{table:{path:"table",fullPath:()=>"".concat(Ka.sharing.children.project.fullPath(),"/").concat(Ka.sharing.children.project.children.table.path),generatePath(e,t){const i=t?(0,qa.fW)({[Ja]:t}).toString():"";return"".concat((0,Ua.Gn)(Ka.sharing.children.project.children.table.fullPath(),{shareToken:e})).concat(i?"?".concat(i):"")}},map:{path:"map",fullPath:()=>"".concat(Ka.sharing.children.project.fullPath(),"/").concat(Ka.sharing.children.project.children.map.path),generatePath(e,t){const i=t?(0,qa.fW)({[Ja]:t}).toString():"";return"".concat((0,Ua.Gn)(Ka.sharing.children.project.children.map.fullPath(),{shareToken:e})).concat(i?"?".concat(i):"")}},dashboard:{path:"dashboard",fullPath:()=>"".concat(Ka.sharing.children.project.fullPath(),"/").concat(Ka.sharing.children.project.children.dashboard.path),generatePath(e,t){const i=t?(0,qa.fW)({[Ja]:t}).toString():"";return"".concat((0,Ua.Gn)(Ka.sharing.children.project.children.dashboard.fullPath(),{shareToken:e})).concat(i?"?".concat(i):"")}}}}}},admin:{path:"management",children:{whitelist:{path:"whitelist"},balance:{path:"balance"},org:{path:"org"},user:{path:"user"},maintain:{path:"maintain"},issues:{path:"issues"},thirdparty:{path:"thirdparty"},thirdpartyPath:{path:"thirdparty/:type"},edu:{path:"edu"},templates:{path:"templates"}}},legacySharingForm:{path:"f/:shareToken"},legacySharingMap:{path:"m/:shareToken"},preview:{path:"preview/:workspaceType/:workspaceId/p/:projectId/t/:tableNodeId"},notification:{path:"notification"},download:{path:"download/:url"},notFound:{path:"404"},embedMapPageNotFound:{path:"embed404"},any:{path:"*"}};var Ya=i(78731);const Qa={wrap:"baseMapControl_wrap__EWZ8o",tableDualView:"baseMapControl_tableDualView__Ccczr",expanded:"baseMapControl_expanded__G0tge",mini:"baseMapControl_mini__3THuf",backgroundLayerIcon:"baseMapControl_backgroundLayerIcon__UKoEJ",epitome:"baseMapControl_epitome__MHXHh",medium:"baseMapControl_medium__5TjTe",basemap:"baseMapControl_basemap__oeX1l",basemapIcon:"baseMapControl_basemapIcon__FCzs0",basemapRadio:"baseMapControl_basemapRadio__bxFSX",basemapLabel:"baseMapControl_basemapLabel__CYU-4",basemapItem:"baseMapControl_basemapItem__ku1JH",list:"baseMapControl_list__9GUrZ",more:"baseMapControl_more__+kcSX",iconMore:"baseMapControl_iconMore__0AK7r",fullPanel:"baseMapControl_fullPanel__Tn6pJ",title:"baseMapControl_title__FzYYk",iconClose:"baseMapControl_iconClose__-c37E",tabs:"baseMapControl_tabs__iDUjj",tabTitle:"baseMapControl_tabTitle__kcprT",active:"baseMapControl_active__B+ZO8",noDataWrapper:"baseMapControl_noDataWrapper__lrDfu",mainTitle:"baseMapControl_mainTitle__GEHc7",subTitle:"baseMapControl_subTitle__Q2pLE"},Xa=!1,el=new Map(Ya.Zt.map((e=>[e.key,e])));function tl(e){var t;const i=(0,a.Z)(),{baseMapProviders:o=["amap","mapbox"],baseMapStyle:l,style:r,projectId:s,needPro:d=!1,onChange:c}=e,{isMobile:u}=(0,ae.F)(),p=(0,te.v)((e=>e.project.mapSiderVisible)),h=(0,te.v)((e=>e.project.customizeBaseMap)),v=(0,te.v)((e=>{var t;return!!s&&"map"===(null===(t=e.project.dualViews)||void 0===t||null===(t=t[s])||void 0===t?void 0:t.table)})),g=(0,fi.bS)(Ka.project.children.table.fullPath()),[f,m]=(0,n.useState)((0,Qt.IV)(l)),[y,w]=(0,n.useState)(l),[b,C]=(0,n.useState)("mini"),x=(0,n.useMemo)((()=>{const e=f;if("amap"===e)return Ya.X8;if("google"===e)return Ya.h$;if("mapbox"===e)return Ya.rT;if("customize"===e){const e={};for(const t of h||[])e[t.id]={id:t.id,label:t.name,icon:"url"===t.type?(0,Wa.vG)(t.urlTemplate):t.color};return e}return null}),[h,f]),I=(0,n.useCallback)((e=>{const t=e.target.value,i=e.target.id;null===c||void 0===c||c(i||t,(0,Qt.IV)(t)!==(0,Qt.IV)(y)),w(i||t)}),[y,c]);(0,n.useEffect)((()=>{const e=(0,Qt.IV)(l);m(e),w(l)}),[l]);const j="customize"===f,M=null===(t=je()(x,"".concat(y)))||void 0===t?void 0:t.icon;return(0,me.jsxs)("div",{className:(0,O.default)(Qa.wrap,{[Qa.expanded]:p,[Qa.tableDualView]:v&&g}),style:r,children:[("mini"===b||"medium"===b)&&(0,me.jsx)("div",{className:Qa.mini,onClick:function(){C(u?"mini"===b?"full":"mini":"mini"===b?"medium":"mini")},children:(0,me.jsx)("div",{className:Qa.epitome,children:j&&M&&/^#([0-9a-f]{3}){1,2}$/i.test(M)?(0,me.jsx)("div",{className:Qa.backgroundLayerIcon,style:{backgroundColor:M}}):M&&(0,me.jsx)("img",{src:M,alt:"basemap"})})}),"medium"===b&&(0,me.jsx)("div",{className:Qa.medium,children:(0,me.jsx)(qi.ZP.Group,{className:Qa.basemap,onChange:I,value:y,children:(0,me.jsxs)("div",{className:Qa.list,children:[Object.entries(x||{}).slice(0,6).map((e=>{let[t,n]=e;return(0,me.jsx)("div",{className:Qa.basemapItem,children:(0,me.jsx)(qi.ZP,{value:t,id:n.id,children:(0,me.jsxs)("div",{className:Qa.basemapRadio,children:[(0,me.jsx)("div",{className:Qa.basemapIcon,children:j&&/^#([0-9a-f]{3}){1,2}$/i.test(n.icon)?(0,me.jsx)("div",{className:Qa.backgroundLayerIcon,style:{backgroundColor:n.icon}}):(0,me.jsx)("img",{src:n.icon,alt:"string"===typeof n.label?n.label:i.$t(n.label)})}),(0,me.jsx)("div",{className:Qa.basemapLabel,children:"string"===typeof n.label?n.label:i.$t(n.label)})]})})},t)})),(0,me.jsxs)("div",{className:Qa.more,onClick:()=>C("full"),children:[(0,me.jsx)("div",{className:Qa.iconMore,children:(0,me.jsx)(q.Z,{type:"layer"})}),(0,me.jsx)("div",{className:Qa.basemapLabel,children:i.$t({id:"I5NMJ8",defaultMessage:"More"})})]})]})})}),"full"===b&&(0,me.jsxs)("div",{className:Qa.fullPanel,children:[(0,me.jsxs)("div",{className:Qa.title,children:[(0,me.jsxs)("div",{children:[i.$t({id:"7paple",defaultMessage:"Basemap style"}),(0,me.jsx)(xt.Z,{title:i.$t({id:"kMO+f9",defaultMessage:"Changes to the basemap style are temporary for this session but can be globally applied to all users via map settings."}),children:(0,me.jsx)(q.Z,{type:"info",style:{paddingLeft:2}})})]}),(0,me.jsx)(q.Z,{type:"close",className:Qa.iconClose,onClick:function(){C("mini"),m((0,Qt.IV)(y))}})]}),(0,me.jsx)("div",{className:Qa.tabs,children:o.map((e=>{const t=el.get(e);return t?(0,me.jsxs)("div",{className:(0,O.default)(Qa.tabTitle,{[Qa.active]:f===t.key}),onClick:()=>m(t.key),children:[i.$t(t.msg),d&&"mapbox"===t.key&&Xa&&(0,me.jsx)(Ha.Z,{}),"google"===t.key&&(0,me.jsx)(Ha.Z,{text:"Ent"}),"customize"===t.key&&Xa?(0,me.jsx)(Ha.Z,{text:"Ent"}):null]},e):null}))}),ot()(x)?(0,me.jsx)(il,{}):(0,me.jsx)(qi.ZP.Group,{className:Qa.basemap,onChange:I,value:y,children:(0,me.jsx)(on.Z,{gutter:[4,0],children:T()(x,((e,t)=>(0,me.jsx)(an.Z,{span:8,className:Qa.basemapItem,children:(0,me.jsx)(qi.ZP,{value:t,id:e.id,children:(0,me.jsxs)("div",{className:Qa.basemapRadio,children:[(0,me.jsx)("div",{className:Qa.basemapIcon,children:j&&/^#([0-9a-f]{3}){1,2}$/i.test(e.icon)?(0,me.jsx)("div",{className:Qa.backgroundLayerIcon,style:{backgroundColor:e.icon}}):(0,me.jsx)("img",{src:e.icon,alt:"string"===typeof e.label?e.label:i.$t(e.label)})}),(0,me.jsx)("div",{className:Qa.basemapLabel,children:"string"===typeof e.label?e.label:i.$t(e.label)})]})})},t)))})})]})]})}function il(){const e=(0,a.Z)();return(0,me.jsxs)("div",{className:Qa.noDataWrapper,children:[(0,me.jsx)("div",{className:Qa.mainTitle,children:e.$t({id:"3Aq62J",defaultMessage:"No custom basemap added"})}),(0,me.jsx)("div",{className:Qa.subTitle,children:e.$t({id:"SyPKXP",defaultMessage:"You can add custom basemap in map settings"})})]})}var nl=i(74910),ol=i(25111),al=i(38441);var ll=i(75605),rl=i(79246),sl=i(99277),dl=i(61124),cl=i(4511);const ul=["jpg","jpeg","png"],pl=e=>{let{dialog:t,error:i}=e;const o=(0,a.Z)(),[l,s]=(0,n.useState)(!1),[d,c]=(0,n.useState)({}),[u,p]=(0,n.useState)([]),[h,v]=(0,n.useState)(!1),{workspaceId:g,workspaceType:f}=(0,Mi.F)(),[m]=J.Z.useForm(),y=[{label:o.$t({id:"LMU+6y",defaultMessage:"Bug report"}),value:"bug"},{label:o.$t({id:"eVIjIQ",defaultMessage:"Feature request"}),value:"feature"},{label:o.$t({id:"/VnDMl",defaultMessage:"Other"}),value:"other"}];function w(){t.close(),c({}),p([]),s(!1),v(!1),m.resetFields()}return(0,me.jsx)(ie.Vq,{title:o.$t({id:"Ejhdi4",defaultMessage:"Feedback"}),okText:o.$t({id:"wSZR47",defaultMessage:"Submit"}),visible:t.visible,onCancel:w,okButtonProps:{loading:l},cancelButtonProps:{disabled:l},onOk:async function(){try{await m.validateFields()}catch{return}let e;s(!0);try{e=await(0,sl.M)()}catch{}const t={...m.getFieldsValue(),orgID:"w"===f?g:void 0,images:Object.values(d),extra:{url:window.location.href,ua:navigator.userAgent,lang:navigator.language,error:i?{message:i.message,name:i.name,cause:i.cause,stack:i.stack}:void 0,gpu:e}};try{await dl.Z.reportIssue(t),r.ZP.info(o.$t({id:"rYs1YJ",defaultMessage:"Submit successfully! Thank you!"}))}catch{}w()},destroyOnHidden:!0,children:(0,me.jsxs)(J.Z,{form:m,initialValues:{type:"bug"},layout:"vertical",children:[(0,me.jsx)(J.Z.Item,{name:"type",label:o.$t({id:"kxP9GJ",defaultMessage:"Types"}),rules:[{required:!0}],children:(0,me.jsx)(ie.Ph,{options:y})}),(0,me.jsx)(J.Z.Item,{name:"title",label:o.$t({id:"9a9+ww",defaultMessage:"Title"}),rules:[{required:!0,min:2,max:1024}],children:(0,me.jsx)(Tn.default,{placeholder:o.$t({id:"N21hXH",defaultMessage:"Please enter content"})})}),(0,me.jsx)(J.Z.Item,{name:"content",label:o.$t({id:"Q8Qw5B",defaultMessage:"Description"}),children:(0,me.jsx)(Tn.default.TextArea,{placeholder:o.$t({id:"N21hXH",defaultMessage:"Please enter content"})})}),(0,me.jsx)(J.Z.Item,{name:"images",label:o.$t({id:"Ye0Clm",defaultMessage:"Attach"}),children:(0,me.jsx)(ll.default,{listType:"picture-card",accept:ul.map((e=>".".concat(e))).join(","),fileList:u,onChange:function(e){var t;const i=null===(t=e.fileList)||void 0===t?void 0:t.map((e=>({...e,status:h?e.status:"done"})));p(i)},beforeUpload:function(e,t){const i=e.name.split(".").pop();return i&&ul.includes(i.toLocaleLowerCase())?e.size>1048576?(r.ZP.error(o.$t({id:"SJW82r",defaultMessage:"File size cannot exceed 1Mb"})),ll.default.LIST_IGNORE):"":(r.ZP.error(o.$t({id:"HW/VI/",defaultMessage:"File format not supported"})),ll.default.LIST_IGNORE)},customRequest:async function(e){v(!0);try{const{url:t}=await cl.Z.uploadFile("avatar",e.file),{uid:i}=e.file;c((e=>({...e,[i]:t})))}catch{u.pop(),p(null!==u&&void 0!==u?u:[])}v(!1)},onRemove:function(e){c((t=>(delete t[e.uid],t)))},showUploadList:{showPreviewIcon:!1},children:u.length<6&&(0,me.jsx)("div",{children:(0,me.jsxs)(Y.Z,{children:[(0,me.jsx)(rl.Z,{}),(0,me.jsx)("div",{children:o.$t({id:"Ye0Clm",defaultMessage:"Attach"})})]})})})})]})})};function hl(e,t,i){const n=[{key:"doc",label:(0,me.jsx)("a",{href:"zh-CN"===e.locale?al.U8:al.y2,target:"_blank",rel:"noreferrer",children:e.$t({id:"65XQJA",defaultMessage:"Help docs"})})},{key:"feedback",onClick:t,label:(0,me.jsx)("div",{children:e.$t({id:"Ejhdi4",defaultMessage:"Feedback"})})},{key:"community",label:(0,me.jsx)("a",{href:"zh-CN"===e.locale?al.Ox:al.NQ,target:"_blank",rel:"noreferrer",children:e.$t({id:"4CrCbD",defaultMessage:"Community"})})},{key:"support",label:(0,me.jsx)("a",{href:al.bt,target:"_blank",rel:"noreferrer",children:e.$t({id:"WnQ/AZ",defaultMessage:"Contact us"})})},{key:"changelog",label:(0,me.jsx)("a",{href:"zh-CN"===e.locale?al.R2:al.zP,target:"_blank",rel:"noreferrer",children:e.$t({id:"MQcAql",defaultMessage:"Changelog"})})}];return i&&n.push({key:"guide",onClick:i,label:(0,me.jsx)("div",{children:e.$t({id:"+Iah9Q",defaultMessage:"Quick guide"})})}),{items:n}}i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,i.p,(0,Q.vU)({1:{id:"qcD0n+",defaultMessage:"Upload Data"},2:{id:"NH9cOd",defaultMessage:"Style Map Layers"},3:{id:"TJ5SXc",defaultMessage:"Add Data is Easier Than Ever"},4:{id:"GUFDL/",defaultMessage:"Share with Your Team"},5:{id:"XxkLjf",defaultMessage:"Empower Your Data"},6:{id:"IeBejt",defaultMessage:"Table"},7:{id:"hzSNj4",defaultMessage:"Dashboard"},8:{id:"lNRBFh",defaultMessage:"You are all set!"}}),(0,Q.vU)({1:{id:"qo/icS",defaultMessage:"Convert your local files into map layers with a simple drag-and-drop. We support various formats, including csv, excel, GEOJson, GPX, and KML."},2:{id:"cXL/Rw",defaultMessage:"Dive into the details with color, stroke, size, height, and labels. Utilize our style options to effortlessly visualize and express your data."},3:{id:"Fbpt1D",defaultMessage:"Adding data makes easy \u2013 draw a point/line/polygon or search for a POI. It's that simple to enrich your maps."},4:{id:"dGwThQ",defaultMessage:"Options to share the entire project with your team or export it as an image."},5:{id:"UaSa0d",defaultMessage:"Equip your projects with specialized extensions designed for in-depth data analysis. Empower your data for more comprehensive insights."},6:{id:"Aaoo9k",defaultMessage:"Utilize tables to manage your data or collaborate seamlessly with your team. A centralized hub for efficient data handling."},7:{id:"0EzE93",defaultMessage:"The dashboard enables statistical analysis across various dimensions, helping you make informed decisions quickly."},8:{id:"3SOG7W",defaultMessage:"You're ready to get started on your own work. If you need more guidance, click HELP"}});const vl="map/setting_1",gl={icon:"helpControl_icon__OdDgb",active:"helpControl_active__7SwH+",control:"helpControl_control__-KDBS"};function fl(){const[e,t]=(0,n.useState)(!1),{isMobile:i}=(0,ae.F)(),o=(0,a.Z)(),l=(0,Rt.bZ)(),r=(0,te.I)(),s=(0,te.v)((e=>{var t;return null===(t=e.workspace.workspace)||void 0===t||null===(t=t.detail.currentUser)||void 0===t||null===(t=t.featuresGuideConfig)||void 0===t?void 0:t.seenFeatures}));const d=hl(o,(function(){l.open()}),(function(){var e;r((0,ol.Nq)({featuresGuideConfig:{seenFeatures:null!==(e=null===s||void 0===s?void 0:s.filter((e=>e!==vl)))&&void 0!==e?e:[]}}))}));return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(Yt.br,{name:"help",className:(0,O.default)(gl.control,{hide:i}),onClick:e=>t(e),persistentActive:e,icon:(0,me.jsx)(q.Z,{type:"question",className:(0,O.default)(gl.icon,{[gl.active]:e})}),title:o.$t({id:"SENRqu",defaultMessage:"Help"}),children:(0,me.jsx)(nl.Z,{...d})}),(0,me.jsx)(pl,{dialog:l})]})}var ml=i(54864);const yl=e=>{let{projectId:t,shareToken:i,sharingParams:o}=e;const a=(0,te.I)();(0,n.useEffect)((()=>{i?null!==o&&void 0!==o&&o.type&&null!==o&&void 0!==o&&o.token&&a((0,ml.Gv)({sharingParams:o})).then((e=>{e.payload&&a({type:"icons/list",payload:e.payload.detail})})):a((0,ml.wu)({projectID:t})).then((e=>{e.payload&&a({type:"icons/list",payload:e.payload.detail})}))}),[t,i,o,a])};var wl=i(99661);const bl=[{name:"marker",icon:"annotationMarker"},{name:"freeline",icon:"annotationFreeline"},{name:"line",icon:"annotationLine",subTypes:["line"]},{name:"rectangle",icon:"annotationRectangle",subTypes:["polygon","circle"]},{name:"text",icon:"annotationText"},{name:"sticker",icon:"annotationSticker"}],Cl=[{name:"polygon",icon:"annotationPolygon",subTypes:["polygon","circle"]},{name:"circle",icon:"annotationCircle",subTypes:["polygon","circle"]}],xl=["#E55D3C","#FFD233","#5EC298","#33C6E1","#3384FF","#8476CD","#505F79","#ffffff"],Il=[2,6,10],jl=[40,64,96],Ml={markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#3384FF",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14};var kl=i(96650),Tl=i(82845),El=i(71331),Pl=i(95475);function Ol(e){return e.ids.map((t=>{const i=e.entities[t];return{type:"Feature",id:null===i||void 0===i?void 0:i.id,geometry:null===i||void 0===i?void 0:i.geometry,properties:{...null===i||void 0===i?void 0:i.properties,...i}}}))}var _l=i(10560);const Sl={panel:"annotation_panel__EHBT1",actions:"annotation_actions__VL6wv",action:"annotation_action__U4dQR",active:"annotation_active__32tWB",subType:"annotation_subType__KwB7m",toolbox:"annotation_toolbox__c+taA",colors:"annotation_colors__2HNj-",color:"annotation_color__j5EDa",activeWhite:"annotation_activeWhite__7WqNv",divide:"annotation_divide__K8g93",fontSize:"annotation_fontSize__p2HxD",actionButton:"annotation_actionButton__RFZBU",customInput:"annotation_customInput__Cr-se",close:"annotation_close__PWaK7",iconClose:"annotation_iconClose__qBCdo",editor:"annotation_editor__BA6PU",lineWidth:"annotation_lineWidth__QpEiE",width:"annotation_width__4UCVT",width_0:"annotation_width_0__89Su8",width_1:"annotation_width_1__6hf8K",width_2:"annotation_width_2__dXJYF",iconRemove:"annotation_iconRemove__Aj7F0",iconForward:"annotation_iconForward__YmQxp",notification:"annotation_notification__dr6RL"};function Nl(e){const{color:t,onColorChange:i,onClose:o,enableLineWidth:l,lineWidth:r,onLineWidthChange:s,onDelete:d,annotationTypes:c,annotationType:u,onAnnotationChange:p,onZIndexChange:h,fontSize:v=jl[0],enbaleFontSize:g,onFontSizeChange:f}=e,m=(0,a.Z)(),[y,w]=(0,n.useState)(!1),b=(0,n.useContext)(Ki.z),C={[jl[0]]:m.$t({id:"BPnT3T",defaultMessage:"Small"}),[jl[1]]:m.$t({id:"ovJ26C",defaultMessage:"Medium"}),[jl[2]]:m.$t({id:"/06iwc",defaultMessage:"Large"})},x={items:[{key:"top",label:m.$t({id:"iMy+or",defaultMessage:"Move to top"}),onClick:()=>null===h||void 0===h?void 0:h("top")},{key:"up",label:m.$t({id:"D1zEoA",defaultMessage:"Bring forward"}),onClick:()=>null===h||void 0===h?void 0:h("up")},{key:"down",label:m.$t({id:"QtBtqs",defaultMessage:"Send backward"}),onClick:()=>null===h||void 0===h?void 0:h("down")},{key:"bottom",label:m.$t({id:"HGKQHG",defaultMessage:"Move to bottom"}),onClick:()=>null===h||void 0===h?void 0:h("bottom")}]};function I(e){e&&(w(!1),null===f||void 0===f||f(e))}const j={selectedKeys:[jl.includes(null!==v&&void 0!==v?v:0)?$a()(v):"custom"],items:[{key:jl[0],label:"".concat(m.$t({id:"BPnT3T",defaultMessage:"Small"})," (").concat(jl[0],")"),onClick:()=>I(jl[0])},{key:jl[1],label:"".concat(m.$t({id:"ovJ26C",defaultMessage:"Medium"})," (").concat(jl[1],")"),onClick:()=>I(jl[1])},{key:jl[2],label:"".concat(m.$t({id:"/06iwc",defaultMessage:"Large"})," (").concat(jl[2],")"),onClick:()=>I(jl[2])},{key:"custom",label:(0,me.jsx)(Tn.default,{className:Sl.customInput,onBlur:e=>I(parseInt(e.target.value)),onPressEnter:e=>{I(parseInt(e.target.value))},placeholder:m.$t({id:"Sjo1P4",defaultMessage:"Custom"}),defaultValue:jl.includes(null!==v&&void 0!==v?v:0)?"":v})}]};return(0,me.jsxs)("div",{className:Sl.toolbox,children:[c&&(0,me.jsxs)(me.Fragment,{children:[T()(c,(e=>{const t=R()([...Cl,...bl],(t=>!(!b.annotationSticker&&"sticker"===t.name)&&(!(!b.annotationText&&"text"===t.name)&&t.name===e)));return t?(0,me.jsx)("div",{className:(0,O.default)(Sl.action,Sl.subType,{[Sl.active]:t.name===u}),onClick:()=>null===p||void 0===p?void 0:p(t.name),"aria-label":(0,Ri.Sk)(m,t.name),"data-balloon-pos":"up",children:(0,me.jsx)(q.Z,{type:t.icon})},t.name):null})),(0,me.jsx)("div",{className:Sl.divide})]}),(0,me.jsxs)("div",{className:Sl.colors,children:[xl.map((e=>(0,me.jsx)("div",{className:(0,O.default)(Sl.color,{[Sl.active]:e===t,[Sl.activeWhite]:e===t&&"#ffffff"===e}),style:{background:e,border:"#ffffff"===e?"1px solid #C1C7D0":"none"},onClick:()=>i(e)},e))),l&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:Sl.divide}),(0,me.jsx)("div",{className:Sl.lineWidth,children:Il.map(((e,t)=>(0,me.jsx)("div",{className:(0,O.default)(Sl.width,Sl["width_".concat(t)],{[Sl.active]:e===r}),onClick:()=>s&&s(e)},e)))})]})]}),f&&g&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:Sl.divide}),(0,me.jsx)(_l.Z,{menu:j,trigger:["click"],open:y,onOpenChange:function(e){w(e)},children:(0,me.jsx)("span",{className:(0,O.default)(Sl.actionButton,Sl.fontSize),children:jl.includes(v)?je()(C,v,""):"".concat(m.$t({id:"Sjo1P4",defaultMessage:"Custom"}),"(").concat(v,")")})})]}),h&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:Sl.divide}),(0,me.jsx)(_l.Z,{menu:x,trigger:["click"],children:(0,me.jsx)("span",{className:Sl.actionButton,children:(0,me.jsx)(q.Z,{type:"annotationForward",className:Sl.iconForward})})})]}),d&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:Sl.divide}),(0,me.jsx)(q.Z,{type:"recycleBin",className:Sl.iconRemove,onClick:d})]}),(0,me.jsx)("div",{className:Sl.divide}),(0,me.jsx)("span",{className:Sl.close,children:(0,me.jsx)(q.Z,{type:"close",className:Sl.iconClose,onClick:o})})]})}function Ll(e){return"freeline"===e||"line"===e}function Dl(e){var t,i,o;const{projectId:r,enableEdit:s,shareType:d,shareToken:u,editableAnnotation:p}=e,h=(0,a.Z)(),[v,g]=(0,n.useState)(wl.DM[0]),[f,m]=(0,n.useState)(null),[y,w]=(0,n.useState)(wl.v[0]),[b,C]=(0,n.useState)(wl.Kt[1]),[x,I]=(0,n.useState)(!1),j=(0,te.v)((e=>e.user.sharedUser)),{map:M}=(0,ze.fx)(),k=(0,n.useMemo)((()=>u&&d?{token:u,type:d,userToken:null===j||void 0===j?void 0:j.token}:{}),[u,d,null===j||void 0===j?void 0:j.token]),T=(0,n.useCallback)((e=>{!c()(Bt().get(Vt.tZ))||"line"!==e&&"polygon"!==e||(I(!0),Bt().set(Vt.tZ,!0),setTimeout((()=>{I(!1)}),2e3))}),[]),{annotation:E,isEditing:P,editingAnnotation:_,stopEdit:S,setIsEditing:N,isSelecting:L,setIsSelecting:D}=function(e){const{projectId:t,sharingParams:i,shareToken:o,map:a,mode:r,onDrawStart:s,editable:d=!0}=e,c=(0,te.I)(),[u,p]=(0,n.useState)(),[h,v]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),m=(0,te.v)((e=>e.annotation.annotations)),y=(0,te.v)((e=>{var i,n,o;return null!==(i=null!==(n=e.map.baseMap)&&void 0!==n?n:null===(o=et.Hx.selectById(e,t))||void 0===o?void 0:o.mapConfig.baseMap)&&void 0!==i?i:Kt.nn.AmapLight})),w=(0,n.useRef)(y),[b,C]=(0,n.useState)();(0,l.ZP)(t&&!o?"annotation":null,(()=>(c(El.N.setProjectId(t)),c((0,Pl.fy)(t))))),(0,l.ZP)(null!==i&&void 0!==i&&i.type&&i.token?["getSharingAnnotations",i]:null,(e=>{let[i,n]=e;c(El.N.setProjectId(t)),c((0,pi.pJ)({sharingParams:n}))})),(0,n.useEffect)((()=>{u&&u.toggleEnableEdit(g&&d)}),[g,u,d]),(0,n.useEffect)((()=>{if(!u&&t&&a){const e=new Tl.q({baseMapStyle:y,mode:r,data:Ol(m),onCreate:async e=>{const i={...e,projectID:t,id:$a()((new Date).getTime())};c(El.N.create(i)),c((0,Pl.Bh)({projectId:t,annotation:i})),v(!1)},onUpdate:function(e){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c((0,Pl._E)({projectId:t,annotation:e})),C(e),v(i)},onDelete:e=>{c((0,Pl.Dl)({projectId:t,annotationId:e})),v(!1)},onEdit:e=>{v(!0),C(e)},onEditEnd:()=>{v(!1)},onDrawEnd:()=>{v(!1)},onDrawStart(e){null===s||void 0===s||s(e)}});null===a||void 0===a||a.setAnnotation(e),p(e)}}),[u,c,t,r,y,s,a,m]),(0,kl.Z)((()=>{a&&null!==u&&void 0!==u&&u.isAttached&&u.setGeometries(Ol(m))}),[m,a]),(0,n.useEffect)((()=>{w.current!==y&&null!==u&&void 0!==u&&u.isAttached&&(u.updateBaseMapStyle(y),w.current=y,u.setGeometries(Ol(m)))}),[m,y,u]),(0,n.useEffect)((()=>()=>{null===u||void 0===u||u.destroy()}),[u]);const x=(0,n.useCallback)((()=>{null===u||void 0===u||u.stopEdit(),v(!1)}),[u]);return{annotation:u,isEditing:h,setIsEditing:v,annotations:m,editingAnnotation:b,stopEdit:x,isSelecting:g,setIsSelecting:f}}({map:M,mode:f,projectId:r,shareToken:u,sharingParams:k,onDrawStart:T,editable:p}),[R,Z]=(0,n.useState)(!1),A=(0,te.v)((e=>e.map.editor)),F=(0,te.v)((e=>e.map.annotationStatus)),z=(0,n.useContext)(Ki.z),B=(0,n.useMemo)((()=>bl.filter((e=>!(!z.annotationSticker&&"sticker"===e.name)&&!(!z.annotationText&&"text"===e.name)))),[z.annotationSticker,z.annotationText]);function V(e){if(e===f)m(null),null===E||void 0===E||E.stopDraw();else{var t;S();const i=null===(t=B.find((t=>t.name===e)))||void 0===t?void 0:t.subTypes,n=void 0!==Cl.find((t=>t.name===e));let o=e;i&&!n&&(o=i[0]),m(o),null===E||void 0===E||E.startDraw(o,{color:v})}D(!1)}function H(e){null===E||void 0===E||E.updateEditingGeometry(e),e.color&&g(e.color),e.lineWidth&&w(e.lineWidth),e.fontSize&&C(e.fontSize)}return(0,n.useEffect)((()=>{F.selected&&!A.isOpen?Z(!0):(Z(!1),S(),m(null),null===E||void 0===E||E.stopDraw(),D(!1))}),[E,F.selected,A.isOpen,S,D]),(0,at.y1)("esc",(()=>{P?(S(),D(!0)):(m(null),null===E||void 0===E||E.stopDraw()),D(!L)}),[P,L,E]),(0,at.y1)("Backspace",(()=>{P&&E&&(null===E||void 0===E||E.deleteEditingGeometry(),N(!1))}),[P,E]),(0,n.useEffect)((()=>{D(R)}),[R,D]),(0,me.jsxs)(me.Fragment,{children:[x&&(0,me.jsx)("div",{className:Sl.notification,children:h.$t({id:"1e+h5F",defaultMessage:"Double-click to end drawing"})}),P&&(0,me.jsx)("div",{className:Sl.editor,children:(0,me.jsx)(Nl,{color:null!==(t=null===_||void 0===_?void 0:_.properties.color)&&void 0!==t?t:v,onColorChange:e=>H({color:e}),onClose:S,onDelete:function(){null===E||void 0===E||E.deleteEditingGeometry(),N(!1)},onZIndexChange:function(e){null===E||void 0===E||E.setEditingGeometryZIndex(e)},annotationType:null===_||void 0===_?void 0:_.properties.type,zoomLevel:null===_||void 0===_?void 0:_.properties.zoomLevel,enbaleFontSize:"text"===(null===_||void 0===_?void 0:_.properties.type),enableLineWidth:Ll(null===_||void 0===_?void 0:_.properties.type),lineWidth:null===_||void 0===_?void 0:_.properties.lineWidth,fontSize:null!==(i=null===_||void 0===_?void 0:_.properties.fontSize)&&void 0!==i?i:b,onLineWidthChange:e=>H({lineWidth:e}),onFontSizeChange:e=>H({fontSize:e})})}),(0,me.jsx)("div",{className:(0,O.default)(Sl.panel,{hide:!R||d||!s||!p}),children:(0,me.jsx)(nn.Z,{content:(0,me.jsx)(Nl,{color:v,onColorChange:function(e){g(e),null===E||void 0===E||E.startDraw(f,{color:e})},onClose:function(){m(null),null===E||void 0===E||E.stopDraw(),D(!0)},enableLineWidth:Ll(f),enbaleFontSize:"text"===f,onFontSizeChange:function(e){C(e),null===E||void 0===E||E.startDraw(f,{fontSize:e})},fontSize:b,lineWidth:y,onLineWidthChange:function(e){w(e),null===E||void 0===E||E.startDraw(f,{lineWidth:e})},annotationType:f,annotationTypes:null===(o=[...B,...Cl].find((e=>e.name===f)))||void 0===o?void 0:o.subTypes,onAnnotationChange:V}),open:!!f&&!P,getPopupContainer:e=>{var t;return null!==(t=e.parentElement)&&void 0!==t?t:document.body},children:(0,me.jsxs)("div",{className:Sl.actions,children:[(0,me.jsx)("div",{className:(0,O.default)(Sl.action,{[Sl.active]:L}),"aria-label":h.$t({id:"kQAf2d",defaultMessage:"Select"}),"data-balloon-pos":"up",onClick:function(){D(!L),P?S():(m(null),null===E||void 0===E||E.stopDraw())},children:(0,me.jsx)(q.Z,{type:"cursor"})}),B.map((e=>(0,me.jsx)("div",{className:(0,O.default)(Sl.action,{[Sl.active]:e.name===f}),onClick:()=>V(e.name),"aria-label":(0,Ri.Sk)(h,e.name),"data-balloon-pos":"up",children:(0,me.jsx)(q.Z,{type:e.icon})},e.name)))]})})})]})}var Rl=i(13484);const Zl={resetButton:"fieldSettingModal_resetButton__URMBs",movableItem:"fieldSettingModal_movableItem__m77Og",columnIcon:"fieldSettingModal_columnIcon__Aib0Q",columnName:"fieldSettingModal_columnName__MOKh-",handle:"fieldSettingModal_handle__e+c78",hidden:"fieldSettingModal_hidden__vFqwT",switch:"fieldSettingModal_switch__d3bxO",switchText:"fieldSettingModal_switchText__8LuJu",fieldList:"fieldSettingModal_fieldList__FAX0I",tabs:"fieldSettingModal_tabs__rN4LJ",tab:"fieldSettingModal_tab__H9jPa",tabsLabel:"fieldSettingModal_tabsLabel__C4vSZ",tabButton:"fieldSettingModal_tabButton__YYLu+",selectedButton:"fieldSettingModal_selectedButton__ExyC1",buttonText:"fieldSettingModal_buttonText__QaMDQ",caretIcon:"fieldSettingModal_caretIcon__dOax+",plusButton:"fieldSettingModal_plusButton__JC1H8",iconOnly:"fieldSettingModal_iconOnly__zhrgT",tabInput:"fieldSettingModal_tabInput__6EfNe",notification:"fieldSettingModal_notification__y47dM",layoutLabel:"fieldSettingModal_layoutLabel__NxKN9",form:"fieldSettingModal_form__eULEb",divider:"fieldSettingModal_divider__QpHO0"},Al=e=>{let{isDisabled:t,columns:i,visibleIdsSorted:o,onColumnsUpdate:l,columnNameClassName:r,maxVisibleCount:s}=e;const{movableColumns:d,handleMove:c,handleSwitchVisibility:u}=ge(i,o,s),p=(0,a.Z)();return(0,n.useEffect)((()=>{const e=A()(d,(e=>!e.isHidden)).map((e=>e.id));!it()(e,o)&&null!==e&&void 0!==e&&e.length&&(null===l||void 0===l||l(e))}),[d,o,l]),(0,me.jsx)("div",{className:Zl.fieldList,children:(0,me.jsx)(de.aV,{lockVertically:!0,values:d,onChange:c,renderList:e=>{let{children:t,props:i}=e;return(0,me.jsx)("div",{...i,children:t})},renderItem:e=>{var n,o;let{value:a,props:l}=e;return(0,me.jsxs)("div",{...l,className:(0,O.default)(Zl.movableItem,a.isHidden&&Zl.hidden),role:"listitem",children:[(0,me.jsx)(K.ZP,{className:Zl.handle,type:"text",size:"small","data-movable-handle":!0,icon:(0,me.jsx)(q.Z,{type:"movable",className:Zl.icon}),disabled:t}),(0,me.jsx)(q.Z,{type:(null===i||void 0===i||null===(n=i.find((e=>e.id===a.id)))||void 0===n?void 0:n.type)||"multiLineText",className:Zl.columnIcon}),(0,me.jsx)("div",{className:(0,O.default)(Zl.columnName,r),children:null===i||void 0===i||null===(o=i.find((e=>e.id===a.id)))||void 0===o?void 0:o.name}),(0,me.jsx)(se.Z,{className:Zl.switch,size:"small",checked:!a.isHidden,onChange:()=>u(a),disabled:t}),(0,me.jsx)("div",{className:Zl.switchText,children:a.isHidden?p.$t({id:"VA/Z1S",defaultMessage:"Hide"}):p.$t({id:"K7AkdL",defaultMessage:"Show"})})]})}})})},Fl=10,zl=[{value:"clickBtn",msg:(0,Q.Em)({id:"cY7cXz",defaultMessage:"Click close button"})},{value:"clickOtherPOI",msg:(0,Q.Em)({id:"G4dL90",defaultMessage:"Click other POIs"})},{value:"clickBlankSpace",msg:(0,Q.Em)({id:"A/RzDx",defaultMessage:"Click blank space"})}],Bl=[{value:"horizontal",msg:(0,Q.Em)({id:"map.sort.table",defaultMessage:[]}),icon:(0,me.jsx)(q.Z,{type:"sortTable"})},{value:"vertical",msg:(0,Q.Em)({id:"map.sort.list",defaultMessage:[]}),icon:(0,me.jsx)(q.Z,{type:"sortList"})}],Vl=e=>{var t,i,o,l;let{tableNodeId:s,dialog:d,poi:c}=e;const{projectId:u}=(0,Mi.F)(),p=(0,te.I)(),{isMobile:h}=(0,ae.F)(),v=(0,a.Z)(),g=(0,te.v)((e=>(0,ee.Y)(e,u))).find((e=>e.id===(null===c||void 0===c?void 0:c.layerID))),f=!(null===c||void 0===c||null===(t=c.vtInfo)||void 0===t||!t.publicLayer),m="h3t"===(null===c||void 0===c?void 0:c.layerType),y=(0,te.v)((e=>ne.TW.selectById(e,s))),w=(0,n.useMemo)((()=>{var e,t,i,n,o;return m?[Rl.A,...null!==(e=null===c||void 0===c||null===(t=c.vtInfo)||void 0===t?void 0:t.columns)&&void 0!==e?e:[]]:null!==c&&void 0!==c&&null!==(i=c.vtInfo)&&void 0!==i&&i.columns?null===c||void 0===c||null===(n=c.vtInfo)||void 0===n?void 0:n.columns:(0,Ke.bs)(null===y||void 0===y?void 0:y.columns,null===y||void 0===y?void 0:y.views,null===g||void 0===g||null===(o=g.mapInfo)||void 0===o?void 0:o.viewID)}),[m,null===c||void 0===c||null===(i=c.vtInfo)||void 0===i?void 0:i.columns,null===g||void 0===g||null===(o=g.mapInfo)||void 0===o?void 0:o.viewID,null===y||void 0===y?void 0:y.columns,null===y||void 0===y?void 0:y.views]),[b]=J.Z.useForm(),C=(0,te.v)((e=>{var t,i;if(f)return null===c||void 0===c||null===(t=c.vtInfo)||void 0===t?void 0:t.infoWindowConfig;const n=et.Hx.selectById(e,u);return null===n||void 0===n||null===(i=n.tableNodes)||void 0===i||null===(i=i.find((e=>e.id===s)))||void 0===i?void 0:i.infoWindowConfig})),x=m?null===C||void 0===C||null===(l=C.h3TileColumns)||void 0===l?void 0:l[c.layerID]:null===C||void 0===C?void 0:C.columnIDs,I=(0,n.useMemo)((()=>({closeWay:(null===C||void 0===C?void 0:C.closeWay)||"clickBtn",coverImage:(null===C||void 0===C?void 0:C.coverImage)||"null",layout:(null===C||void 0===C?void 0:C.layout)||"horizontal"})),[C]),j=(0,n.useMemo)((()=>A()(w,(e=>"attachment"===e.type||(0,oe.Q4)(e)))),[w]),[M,k]=(0,n.useState)([]),T=(0,n.useCallback)((e=>{it()(e,M)||k(e)}),[M,k]),[E,P]=(0,n.useState)(null);const O=!!E;return(0,me.jsxs)(ie.Vq,{destroyOnHidden:!0,title:v.$t({id:"L+ZBoI",defaultMessage:"Configure info window content"}),visible:d.visible,onCancel:d.close,okText:v.$t({id:"jvo0vs",defaultMessage:"Save"}),onOk:async function(){var e,t;const i=await b.validateFields(),n={...null===C||void 0===C?void 0:C.h3TileColumns};m&&null!==c&&void 0!==c&&c.layerID&&(n[null===c||void 0===c?void 0:c.layerID]=M);const o=m?null!==(e=null!==(t=null===C||void 0===C?void 0:C.columnIDs)&&void 0!==t?t:S()(null===w||void 0===w?void 0:w.map((e=>e.id)),Fl))&&void 0!==e?e:[]:M;try{P("submitting");const e={columnIDs:o,closeWay:i.closeWay,layout:i.layout,coverImage:"null"===i.coverImage?null:i.coverImage,h3TileColumns:n};f?await p((0,Ei.Vx)({id:c.layerID,projectID:u,infoWindowConfig:e})):await p((0,qe.tu)({id:s,tableNode:{projectID:u,infoWindowConfig:e}}))}finally{P(null)}r.ZP.success(v.$t({id:"AdgQ3V",defaultMessage:"Saved successfully"})),d.close()},cancelButtonProps:{disabled:O},okButtonProps:{disabled:O,loading:"submitting"===E},footerAddon:(0,me.jsx)(K.ZP,{type:"link",className:Zl.resetButton,onClick:async function(){try{P("resetting");const e={columnIDs:[],closeWay:"clickBtn",coverImage:null,layout:"horizontal"};f?await p((0,Ei.Vx)({id:c.layerID,projectID:u,infoWindowConfig:e})):await p((0,qe.tu)({id:s,tableNode:{projectID:u,infoWindowConfig:e}}))}finally{P(null)}r.ZP.success(v.$t({id:"Lz0FRE",defaultMessage:"Default config restored"}))},loading:"resetting"===E,disabled:O,children:v.$t({id:"w+7O+F",defaultMessage:"Default config"})}),children:[(0,me.jsxs)("div",{className:Zl.notification,children:[v.$t({id:"MqJIVL",defaultMessage:"You can adjust the display fields on the info window, and support up to {count} fields. The first field is title."},{count:Fl}),(0,me.jsx)("b",{children:v.$t({id:"LxhrV3",defaultMessage:"The config will take effect on all POI info windows in the project."})})]}),(0,me.jsxs)(J.Z,{colon:!1,labelAlign:"left",labelCol:{span:8},requiredMark:!1,form:b,initialValues:I,disabled:O,className:Zl.form,children:[(0,me.jsx)(J.Z.Item,{name:"closeWay",label:v.$t({id:"rx4K7I",defaultMessage:"Window closing"}),hidden:h,children:(0,me.jsx)(ie.Ph,{placeholder:v.$t({id:"kQAf2d",defaultMessage:"Select"}),options:zl.map((e=>({value:e.value,label:v.$t(e.msg)}))),"data-testid":"dismiss-type"})}),(0,me.jsx)(J.Z.Item,{name:"coverImage",label:v.$t({id:"TilRBW",defaultMessage:"Cover image"}),children:(0,me.jsx)(X.Z,{placeholder:v.$t({id:"kQAf2d",defaultMessage:"Select"}),options:j,defaultOptions:[{id:"null",name:v.$t({id:"OxgxSh",defaultMessage:"None (show text only)"})}]})}),(0,me.jsx)(J.Z.Item,{name:"layout",label:v.$t({id:"RQ4EKT",defaultMessage:"Layout"}),children:(0,me.jsx)(ie.Ph,{placeholder:v.$t({id:"kQAf2d",defaultMessage:"Select"}),options:Bl.map((e=>({value:e.value,label:(0,me.jsxs)(Y.Z,{size:8,align:"center",className:Zl.layoutLabel,children:[e.icon,v.$t(e.msg)]})}))),"data-testid":"layout-type"})})]}),(0,me.jsx)(V.Z,{className:Zl.divider}),w&&(0,me.jsx)(Al,{isDisabled:O,columns:w,visibleIdsSorted:x,onColumnsUpdate:T,maxVisibleCount:Fl})]})};var Hl=i(16108);function Wl(e){let{id:t,role:i,type:n,children:o,unauthorizedContent:a,hasPermission:l=!1}=e;const{checkPermission:r}=(0,Ti.q)(),s=l||r(t,i,n);return(0,me.jsx)(me.Fragment,{children:s?o:a})}const Ul=e=>{const{forceRender:t,...i}=e;return t?e.children:(0,me.jsx)(Wl,{...i})},ql=e=>{let{id:t,...i}=e;const{tableNodeId:n}=(0,Mi.F)();return(0,me.jsx)(Ul,{...i,id:null!==t&&void 0!==t?t:n,type:Hl.d.table})};var Gl=i(20491),$l=i(40522);const Jl={infoWindow:"infoWindow_infoWindow__SNN+Y",imageInfoWindow:"infoWindow_imageInfoWindow__97YQN",dragArea:"infoWindow_dragArea__yoSJG",header:"infoWindow_header__LxXx3",carousel:"infoWindow_carousel__+6rUi",leftArrow:"infoWindow_leftArrow__Lc2AE",rightArrow:"infoWindow_rightArrow__B2ZKa",imageWrap:"infoWindow_imageWrap__x2bhJ",loading:"infoWindow_loading__cLrV0",noImage:"infoWindow_noImage__pzm3k",noImageHeader:"infoWindow_noImageHeader__6xwb1",noImageIcon:"infoWindow_noImageIcon__rhG+p",title:"infoWindow_title__OjlXZ",rightIcon:"infoWindow_rightIcon__wjbFJ",navigateIcon:"infoWindow_navigateIcon__MYXKZ",actions:"infoWindow_actions__3ksT7",navigate:"infoWindow_navigate__YU+Np",content:"infoWindow_content__Qy628",verticalList:"infoWindow_verticalList__7d8EL",label:"infoWindow_label__Nl-Yi",vertical:"infoWindow_vertical__MuL6H",item:"infoWindow_item__KqVyO",horizontalDivider:"infoWindow_horizontalDivider__DE97I",text:"infoWindow_text__FduTR",select:"infoWindow_select__SX8jT",checkbox:"infoWindow_checkbox__9Z38v",footer:"infoWindow_footer__q4wz7",footerItem:"infoWindow_footerItem__uF31B",icon:"infoWindow_icon__D+APT",detail:"infoWindow_detail__fIJRJ",close:"infoWindow_close__93SOm",anchor:"infoWindow_anchor__eNwIC",coordinate:"infoWindow_coordinate__QsajX",formula:"infoWindow_formula__AxGjZ",overlap:"infoWindow_overlap__dRut8",setting:"infoWindow_setting__wLMCN",pagination:"infoWindow_pagination__oyguf",thumbnail:"infoWindow_thumbnail__-05aN",button:"infoWindow_button__T8+ML"},Kl=e=>{let{currentSlide:t,direction:i,slideCount:n,...o}=e;return"left"===i?(0,me.jsx)(q.Z,{type:"arrowLeft3",...o,className:Jl.leftArrow}):(0,me.jsx)(q.Z,{type:"arrowRight3",...o,className:Jl.rightArrow})},Yl=e=>{let{className:t,images:i}=e;const[a,l]=(0,n.useState)([]),[r,s]=(0,n.useState)(!1),{userToken:d}=(0,Ge.UP)(),{shareToken:c,shareType:u}=(0,Mi.F)();return(0,n.useEffect)((()=>{!async function(){for(const e of i){if(a.find((t=>t.fileID===e.fileID)))return;s(!0);const t=await cl.Z.getSignedUrlForDownload(e.url,{token:c,type:u,userToken:d});l((i=>Lt()([...i,{...e,url:t.detail}],"fileID"))),e===i[i.length-1]&&s(!1)}}()}),[i,c,u,a,d]),(0,me.jsx)(Mt.Z,{arrows:!0,autoplay:!1,className:(0,O.default)(Jl.carousel,t),dots:{className:Jl.dots},nextArrow:(0,me.jsx)(Kl,{direction:"right"}),prevArrow:(0,me.jsx)(Kl,{direction:"left"}),children:a.length?a.map((e=>(0,me.jsx)("div",{className:Jl.imageWrap,children:(0,me.jsx)("img",{draggable:!1,src:e.url,alt:e.fileName})},e.fileID))):(0,me.jsxs)("div",{className:Jl.noImage,children:[(0,me.jsx)("div",{className:Jl.noImageHeader}),(0,me.jsx)("div",{className:Jl.noImageIcon,children:r?(0,me.jsx)(o.Z,{}):(0,me.jsx)(q.Z,{type:"noImage",style:{color:"#505F79"}})})]})})};function Ql(e){return"attachment"===e.type?2:"coordinate"===e.type?1e3:14}const Xl=function(e){var t,i,o,l;const{projectId:r,mapId:s,enableSetting:d,enableEditCoordinate:u,enableOpenDetailPanel:p,enableProximityAnalysis:h,isSharedMap:v,onOpenSetting:g,onOpenEditor:f,onClose:m}=e,y=(0,te.I)(),w=(0,a.Z)(),{openEditor:b}=ut(),C=(0,Pe.tq)(),{bounds:x,updateBounds:I}=bt(),[j,M]=(0,n.useState)(!1),{tableNodes:k,timezone:T}=(0,te.v)((e=>et.Hx.selectById(e,r)))||{},E=(0,te.v)((e=>(0,ee.Y)(e,r))),_=e.poi,[N,L]=(0,n.useState)(e.poi),D=E.find((e=>e.id===(null===N||void 0===N?void 0:N.layerID))),R=(0,te.v)((e=>e.project.mapSiderVisible)),Z=!(null===N||void 0===N||null===(t=N.vtInfo)||void 0===t||!t.publicLayer),A=(0,n.useMemo)((()=>{var e,t;return Z?null===D||void 0===D||null===(e=D.vtInfo)||void 0===e?void 0:e.infoWindowConfig:null===k||void 0===k||null===(t=k.find((e=>e.id===(null===N||void 0===N?void 0:N.tableNodeID))))||void 0===t?void 0:t.infoWindowConfig}),[k,null===N||void 0===N?void 0:N.tableNodeID,Z,null===D||void 0===D||null===(i=D.vtInfo)||void 0===i?void 0:i.infoWindowConfig]),[F,B]=(0,n.useState)(!1),H=(0,n.useMemo)((()=>{var e,t;return null!==(e=null===(t=document.getElementById(null!==s&&void 0!==s?s:"map"))||void 0===t?void 0:t.parentElement)&&void 0!==e?e:document.body}),[s]),J=(null===(o=_.list)||void 0===o?void 0:o.length)&&_.list.length>1,K=(0,n.useCallback)((()=>{"clickBlankSpace"===(null===A||void 0===A?void 0:A.closeWay)&&y(Re.Nw.remove(_.id))}),[null===A||void 0===A?void 0:A.closeWay,_.id,y]),{windowRef:Y,cells:Q,adjustIndicator:X}=Qe({poi:N,originalPoi:_,projectId:r,indicator:C?"marker":"line",onClickMap:K}),ie=(0,n.useMemo)((()=>{var e,t;if("h3t"===(null===N||void 0===N?void 0:N.layerType))return null!==A&&void 0!==A&&null!==(e=A.h3TileColumns)&&void 0!==e&&e[null===N||void 0===N?void 0:N.layerID]?S()(null===(t=A.h3TileColumns)||void 0===t?void 0:t[null===N||void 0===N?void 0:N.layerID],Fl).map((e=>null===Q||void 0===Q?void 0:Q.find((t=>t.id===e)))):S()(Q,Fl);const i=(null===A||void 0===A?void 0:A.columnIDs)||[];return i.length?S()(i,Fl).map((e=>null===Q||void 0===Q?void 0:Q.find((t=>t.id===e)))):S()(Q,Fl)}),[Q,A,null===N||void 0===N?void 0:N.layerID,null===N||void 0===N?void 0:N.layerType]),ne=null===N||void 0===N?void 0:N.layerID,ae=null===ie||void 0===ie?void 0:ie[0],le=(0,te.v)((e=>e.project.members)),re=null!==(l=ae?(0,oe.c8)(ae.value,ae,le,T,!1):N.name)&&void 0!==l?l:N.id,se=null===A||void 0===A?void 0:A.coverImage,de=!c()(se),ce=(0,n.useMemo)((()=>{var e;if(!se||!Q)return[];return((null===(e=Q.find((e=>e.id===se)))||void 0===e?void 0:e.value)||[]).filter((e=>z()(e.fileType,"image")||(0,$l.Pl)(e.fileExt)))}),[se,Q]),ue=(0,n.useCallback)((()=>{y(Xe.Nw.updatePoiDetail({visible:!0,id:N.id,poi:N,title:re,rowId:null===N||void 0===N?void 0:N.rowID,tableNodeId:null===N||void 0===N?void 0:N.tableNodeID,labelFieldId:null===N||void 0===N?void 0:N.labelFieldID,layerNodeId:ne})),y(Xe.Nw.updatePoiDetail({newCreated:!1}))}),[y,ne,N,re]),pe=(0,n.useCallback)((e=>{e===N.id&&ue()}),[N,ue]),he=(0,n.useMemo)((()=>{var e,t;if(C)return;const i=null!==(e=N.position.left)&&void 0!==e?e:100,n=null!==(t=N.position.top)&&void 0!==t?t:100;return{x:0===i&&R?250:i,y:0===n?50:n}}),[N.position.left,N.position.top,R,C]),ve=(0,n.useMemo)((()=>"en-US"===w.locale),[w]),ge=(0,n.useMemo)((()=>("Point"===N.geometry.type||"Polygon"===N.geometry.type)&&"zh-CN"===w.locale),[N.geometry,w.locale]),fe=(0,n.useMemo)((()=>{if("Point"===N.geometry.type)return N.geometry.coordinates;if("Polygon"===N.geometry.type){const e=W.yu(N.geometry.coordinates);return(0,U.Z)(e).geometry.coordinates}return[]}),[N.geometry]);(0,n.useEffect)((()=>(Ct.ky.on(pe),()=>Ct.ky.off(pe)))),(0,n.useEffect)((()=>{L(_)}),[_]);const ye=(0,n.useCallback)((e=>{var t;const i=null===(t=_.list)||void 0===t?void 0:t[e-1];i&&(L(i),setTimeout((()=>{X()}),100))}),[_.list,X]),we=()=>{M(!0)};return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(P(),{bounds:x,handle:de?".handle":".dragArea",onStart:(e,t)=>{I("#".concat(null!==s&&void 0!==s?s:"map"),t,Y.current)},onDrag:()=>{X()},onStop:()=>{if(!Y.current)return;const e=(0,Ze._A)(Y.current),t={...N,top:e.top,left:e.left};y(Re.Nw.updatePoi(t))},defaultPosition:he,nodeRef:Y,disabled:C,children:(0,me.jsxs)("div",{ref:Y,className:(0,O.default)(de?Jl.imageInfoWindow:Jl.infoWindow),"data-testid":"mapInfoWindow",style:{zIndex:N.order},children:[J?(0,me.jsx)(er,{isShowImageMode:de,poi:_,onChange:ye,onOpenQuickView:()=>B(!0)}):null,!de&&(0,me.jsx)("div",{className:(0,O.default)(Jl.dragArea,"dragArea")}),(0,me.jsxs)("div",{className:Jl.header,children:[de?(0,me.jsx)(Yl,{images:ce,className:"handle"}):(0,me.jsx)("div",{className:(0,O.default)(Jl.title,"handle"),title:re,onClick:C&&p?ue:void 0,children:re}),(0,me.jsxs)("div",{className:(0,O.default)(Jl.actions,{[Jl.overlap]:J}),children:[d&&!C&&(0,me.jsxs)(ql,{hasPermission:Z&&!v,id:null===N||void 0===N?void 0:N.tableNodeID,role:Gl.ST.InfoWindowConfig,children:[(0,me.jsx)(q.Z,{type:"setting",className:Jl.setting,onClick:()=>g(null===N||void 0===N?void 0:N.tableNodeID,N)}),(0,me.jsx)(mt,{light:!de,mh10:!0})]}),C&&!de&&ge&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(q.Z,{type:"navigate",className:Jl.navigate,onClick:we}),(0,me.jsx)(mt,{light:!de,mh10:!0})]}),(0,me.jsx)(q.Z,{type:"close",className:Jl.close,onClick:e=>{null===e||void 0===e||e.stopPropagation(),y(Re.Nw.remove(_.id)),null===m||void 0===m||m(_)}})]})]}),(0,me.jsxs)("div",{className:Jl.content,role:"list",children:[de?(0,me.jsxs)("div",{className:Jl.title,title:re,children:[(0,me.jsx)("span",{onClick:C&&p?ue:void 0,children:re}),ge&&(0,me.jsx)(q.Z,{className:Jl.navigateIcon,type:"navigate",onClick:we})]}):null,null===ie||void 0===ie?void 0:ie.map(((e,t)=>e&&t>0&&(0,me.jsxs)(n.Fragment,{children:[(0,me.jsxs)("div",{className:(0,O.default)(Jl.item,{[Jl.verticalList]:"vertical"===(null===A||void 0===A?void 0:A.layout)}),role:"listitem",children:[(0,me.jsx)("div",{className:Jl.label,children:e.name}),(0,me.jsx)(Me.Z,{className:(0,O.default)(Jl.text,{[Jl.select]:"singleChoice"===e.type||"multiChoice"===e.type,[Jl.checkbox]:"boolean"===e.type,[Jl.coordinate]:"coordinate"===e.type,[Jl.formula]:"formula"===e.type,[Jl.vertical]:"vertical"===(null===A||void 0===A?void 0:A.layout)}),item:e,members:le,truncateLength:"vertical"===(null===A||void 0===A?void 0:A.layout)?60:30,imageHeight:64,textAlignLeft:"vertical"===(null===A||void 0===A?void 0:A.layout)||(0,G.NZ)(null===e||void 0===e?void 0:e.value)>Ql(e),timezone:T,editableCoordinate:!1})]}),(0,me.jsx)(V.Z,{className:Jl.horizontalDivider})]},t)))]}),"h3t"!==(null===N||void 0===N?void 0:N.layerType)&&!Z&&(0,me.jsxs)("footer",{className:Jl.footer,children:[(null===N||void 0===N?void 0:N.editable)&&!(null!==N&&void 0!==N&&N.subscribed)&&"vt"!==(null===N||void 0===N?void 0:N.layerType)&&u&&!C&&(0,me.jsx)(ql,{id:null===N||void 0===N?void 0:N.tableNodeID,role:Gl.ST.DataEdit,children:(0,me.jsxs)("button",{className:Jl.footerItem,onClick:e=>{e.stopPropagation(),null===f||void 0===f||f(N),b({poi:N,onlyOnePoint:!!N.latCellID})},children:[(0,me.jsx)(q.Z,{className:Jl.icon,type:"coordinate"}),w.$t({id:"wEQDC6",defaultMessage:"Edit"})]})}),h&&(0,me.jsxs)("button",{className:Jl.footerItem,onClick:async e=>{e.stopPropagation();const t=(0,$.be)(N.geometry);t&&(await y(Xe.Nw.updateStatVisible(!0)),y(Xe.Nw.updateStatCustomCenter(t.coordinates)))},children:[(0,me.jsx)(q.Z,{className:Jl.icon,type:"proximityAnalysis"}),w.$t({id:"qeWEV4",defaultMessage:"Proximity Analysis"})]}),p&&(0,me.jsxs)("button",{className:(0,O.default)(Jl.footerItem,Jl.detail,"infoWindowDetail"),onClick:ue,children:[w.$t({id:"Lv0zJu",defaultMessage:"Details"}),(0,me.jsx)(q.Z,{className:Jl.icon,type:"arrowRight2"})]})]}),(0,me.jsx)("div",{id:"anchor-".concat(_.id),className:Jl.anchor}),(0,me.jsx)(De,{visible:j,onClose:()=>M(!1),latitude:null===fe||void 0===fe?void 0:fe[1],longitude:null===fe||void 0===fe?void 0:fe[0],isOverseas:ve})]})}),F?(0,xe.createPortal)((0,me.jsx)(jt,{projectId:r,items:_.list,onClose:()=>B(!1),container:H}),H):null]})};function er(e){var t;let{poi:i,isShowImageMode:n,onChange:o,onOpenQuickView:l}=e;const r=(0,a.Z)();return(0,me.jsxs)(B.Z,{className:(0,O.default)(Jl.pagination,"dragArea","handle",{[Jl.thumbnail]:n}),align:"center",justify:"space-between",children:[(0,me.jsx)("span",{}),(0,me.jsx)(H.Z,{simple:{readOnly:!0},defaultCurrent:1,total:null===(t=i.list)||void 0===t?void 0:t.length,pageSize:1,onChange:o,showSizeChanger:!1}),(0,me.jsx)("span",{className:Jl.button,onClick:l,"aria-label":r.$t({id:"v0hnVD",defaultMessage:"View overlap data"}),"data-balloon-pos":"up",children:(0,me.jsx)(q.Z,{type:"singleChoice"})})]})}const tr=n.forwardRef(((e,t)=>{let{projectId:i,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,mapId:s,isDualView:d,isSharedMap:c,onClose:u}=e;const p=(0,Rt.bZ)(),[h,v]=(0,n.useState)(),[g,f]=(0,n.useState)(),m=(0,te.v)(Re.qg.selectAll),y=(0,n.useMemo)((()=>d||!s?m:m.filter((e=>e.from===s))),[m,d,s]);function w(e,t){v(e),f(t),p.open()}return(0,n.useImperativeHandle)(t,(()=>({getIds:()=>y.map((e=>e.id))}))),(0,me.jsxs)(me.Fragment,{children:[T()(y,(e=>{var t;return(0,me.jsx)(Xl,{projectId:i,mapId:null!==(t=e.from)&&void 0!==t?t:s,poi:e,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,isSharedMap:c,onOpenSetting:w,onClose:u},e.id)})),(0,me.jsx)(Vl,{dialog:p,tableNodeId:h,poi:g})]})})),ir=n.memo(tr);var nr=i(54034),or=i(43179),ar=i.n(or),lr=i(89063),rr=i.n(lr),sr=i(56765),dr=i(46131),cr=i(49210),ur=i(49492);const pr={color:"#505f79",background:"#ffffff",padding:"6px","margin-top":"-12px","margin-left":"16px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.2)","border-radius":"4px","min-width":"60px","max-width":"300px","word-break":"break-all","font-size":"12px"};function hr(e,t){const i=(0,dr.oe)(e,t);return ar()(i).isValid()&&!ro()(i)?ar()(i).format("YYYY-MM-DD HH:mm:ss"):i}function vr(e){const t=(0,a.Z)(),i=(0,te.v)((e=>e.map.stat)),o=(0,n.useCallback)((e=>{var n,o,a;const{layer:l,object:r,coordinate:s}=e;if("custom"===i.filterType&&s&&i.coordinates&&!(0,$.Of)(s,i.coordinates))return null;const d=l instanceof sr.mU||l instanceof sr.dX||l instanceof sr.K7,u=null!==(n=rn()(je()(r,"properties.tooltip")))&&void 0!==n?n:rn()(je()(r,"properties.name")),p=null!==(o=null===(a=je()(r,"points"))||void 0===a?void 0:a.length)&&void 0!==o?o:null===r||void 0===r?void 0:r.count;if(d){var h,v;const i=gr(e,"properties.fillFieldName"),n=gr(e,"properties.fillAggregateBy"),o=gr(e,"properties.enableHeight"),a=o?gr(e,"properties.heightFieldName"):"",l=o?gr(e,"properties.heightFieldID"):"",s=gr(e,"properties.heightAggregateBy"),d=function(e,t,i,n){var o,a;if(!e)return 0;let l=null!==(o=rr()(n))&&void 0!==o?o:0;if(t&&i){var r;const e=T()(n,(e=>{var i;return null!==(i=(0,dr.oe)(e,t))&&void 0!==i?i:0}));l=null!==(r=(0,dr.Bb)(e,i))&&void 0!==r?r:0}return null!==(a=l)&&void 0!==a?a:0}(o,l,s,null!==(h=T()(null===r||void 0===r?void 0:r.points,(e=>e.source)))&&void 0!==h?h:[]);return{html:'\n        <div style="margin-bottom: 6px; color: #091E42; font-weight: 600">'.concat(t.$t({id:"U86B6w",defaultMessage:"Stats"}),'</div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">\n            ').concat(t.$t({id:"pa5cFO",defaultMessage:"Total POI"}),"</span><span>").concat(null!==p&&void 0!==p?p:"",'\n          </span>\n        </div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"U2yjCm",defaultMessage:"Fill value"})).concat(i&&n?": ".concat(i,"(").concat(t.$t({id:"aggregate.".concat(n),defaultMessage:[]}),")"):"","</span><span>\n            ").concat((0,cr.SH)(null!==(v=null===r||void 0===r?void 0:r.colorValue)&&void 0!==v?v:0),'\n          </span>\n        </div>\n        <div style="').concat(null!==r&&void 0!==r&&r.cluster?"display: none;":"display: flex;",' justify-content: space-between;">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"Mo2ky6",defaultMessage:"Height value"})).concat(a&&s?": ".concat(a,"(").concat(t.$t({id:"aggregate.".concat(s),defaultMessage:[]}),")"):"","</span><span>\n            ").concat((0,cr.SH)(null!==d&&void 0!==d?d:0),"\n          </span>\n        </div>\n      "),style:pr}}if(l instanceof sr.cD){const e={text:je()(r,"zh-CN"===t.locale?"properties.name_zh":"properties.name_en"),style:pr},i=je()(r,"properties.aggregationMethod")||je()(l,"props.data.mapInfo.regionConfig.indexStatsMethod");if(!i)return e;const n=je()(r,"properties.aggregationValue");if(c()(n))return e;const o=(0,dr.Bb)(n,i);if(c()(o))return e;return(0,cr.IG)(o)?{text:u,style:pr}:e}if(l instanceof sr.nr){var g,f;if("Point"===je()(r,"geometry.type")){return je()(r,"properties.name")?{text:u,style:pr}:null}const e=function(e,t){const i=je()(t,"configManager.config.fieldConfig.groupByFieldType"),n=je()(e,"name");if(["user","updater","creator"].includes(i)){var o,a;const e=null===t||void 0===t||null===(o=t.props)||void 0===o?void 0:o.customProps;return null===(a=((null===e||void 0===e?void 0:e.members)||[]).find((e=>e.id===n)))||void 0===a?void 0:a.name}return n}(r,l),i=je()(r,"path");if(!i)return null;const n=null!==(g=rr()(i))&&void 0!==g?g:0,o=je()(l,"configManager.config.fieldConfig.sortByFieldID"),a=null!==(f=je()(l,"props.data.features"))&&void 0!==f?f:[],s=hr(null===a||void 0===a?void 0:a.find((e=>je()(e,"geometry.coordinates")===i[0])),o),d=ro()(s)&&String(s).length>10?ar()(s).format("YYYY-MM-DD HH:mm:ss"):s,c=hr(null===a||void 0===a?void 0:a.find((e=>je()(e,"geometry.coordinates")===i[n-1])),o),p=ro()(c)&&String(c).length>10?ar()(c).format("YYYY-MM-DD HH:mm:ss"):c;return{html:'\n        <div style="margin-bottom: 6px; color: #091E42; font-weight: 600">'.concat(e,'</div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">\n            ').concat(t.$t({id:"+TfdyD",defaultMessage:"Point Count"}),"</span><span>").concat(null!==n&&void 0!==n?n:"",'\n          </span>\n        </div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"a8GQJE",defaultMessage:"Start Point"}),"</span><span>\n            ").concat(null!==d&&void 0!==d?d:"",'\n          </span>\n        </div>\n        <div style="').concat(null!==r&&void 0!==r&&r.cluster?"display: none;":"display: flex;",' justify-content: space-between;">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"aHk45J",defaultMessage:"End Point"}),"</span><span>\n            ").concat(null!==p&&void 0!==p?p:"","\n          </span>\n        </div>\n      "),style:pr}}if(l instanceof ur.Vm)return null;if(l instanceof sr.tn||l instanceof sr.eE||l instanceof ur.Nn)return u?{text:u,style:pr}:null;if(l){var m,y,w;const e=null===l||void 0===l||null===(m=l.props)||void 0===m?void 0:m.customProps;if("h3Tile"!==(null===e||void 0===e?void 0:e.layerType)||null===e||void 0===e||null===(y=e.vtInfo)||void 0===y||null===(y=y.columns)||void 0===y||!y.length)return null;let i='<div style="margin-bottom: 6px; color: #091E42; font-weight: 600">\n        '.concat(t.$t({id:"U86B6w",defaultMessage:"Stats"}),'</div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">Hex:</span><span>\n            ').concat(null!==(w=je()(r,"hex"))&&void 0!==w?w:"","\n          </span></div>");return e.vtInfo.columns.forEach((e=>{const t=je()(r,e.id);if(c()(t))return;const n="datetime"===e.type?(0,cr.U)(t*ji.go,e.typeOptions):(0,cr.SH)(t);i+='<div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">'.concat(e.name,":</span><span>").concat(n,"</span></div>")})),{html:i,style:pr}}return null}),[t,i.filterType,i.coordinates]);return e?o:void 0}function gr(e,t){const{object:i}=e;if(null!==i&&void 0!==i&&i.points&&(null===i||void 0===i?void 0:i.points.length)>0){const e=i.points[0].source;return je()(e,t)}return je()(i,t)}var fr=i(76195),mr=i(21503);function yr(e,t){const i=function(e){switch(e){case"normal":return{blendFunc:[mr.Z.SRC_ALPHA,mr.Z.ONE_MINUS_SRC_ALPHA,mr.Z.ONE,mr.Z.ONE_MINUS_SRC_ALPHA],blendEquation:mr.Z.FUNC_ADD};case"additive":return{blendFunc:[mr.Z.SRC_ALPHA,mr.Z.DST_ALPHA],blendEquation:mr.Z.FUNC_ADD};case"subtractive":return{blendFunc:[mr.Z.ONE,mr.Z.ONE_MINUS_DST_COLOR,mr.Z.SRC_ALPHA,mr.Z.DST_ALPHA],blendEquation:[mr.Z.FUNC_SUBTRACT,mr.Z.FUNC_ADD]};default:return{}}}(t);(0,fr.dR)(e,{[mr.Z.BLEND]:!0,...i})}var wr=i(46331);var br=i(89842),Cr=i.n(br);const xr="subMap";function Ir(e,t){switch(t.type){case"toggleSyncViewState":return{...e,syncOptions:{...e.syncOptions,viewport:!e.syncOptions.viewport}};case"toggleSyncZoom":return{...e,syncOptions:{...e.syncOptions,zoom:!e.syncOptions.zoom}};case"setLayerVisible":return{...e,layers:t.payload};case"updateLayerVisible":return{...e,layers:{...e.layers,[t.payload.layerId]:t.payload.visible}};default:return e}}const jr="feishu-dashboard",Mr=(0,Pe.tq)(),kr=!1||!Mr,Tr={split:"mapContainer_split__Wpt5I",horizontalControls:"mapContainer_horizontalControls__Urop8",light:"mapContainer_light__YieKK",unknown:"mapContainer_unknown__mRKXs",dark:"mapContainer_dark__6z6Qg",bottom:"mapContainer_bottom__AtRj6"};function Er(e,t){var i,o,s,d,u;const{mapConfig:p,projectId:h,layerNodes:v,filters:g,activeLabels:f,isThirdPartyTable:m,shareToken:y,shareType:w,workspaceType:b,workspaceId:C,controls:x=["zoom","description","3d","baseMap","legend","timeline","location","help","measurement"],controlsOffset:I,controlsClassName:j,defaultActiveControls:M,baseMapProviders:k=["amap","mapbox","google","customize"],baseMapControlStyle:E={},enableEditor:P=!1,enableAnnotation:_=!1,editableAnnotation:S=!0,disableLegendFilter:N=!1,enableTooltip:L=!1,id:D="map",showEditToolbar:R=!0,isDualView:Z=!1,isSharedMap:A=!1,isPro:F,isEnt:z,showOutlineLegend:B=!0,readonly:V,enableLegendLayerToggle:H=!0,enableContextMenu:W=!1,enablePickingMultiObjects:U,onMapStatusChange:q,onLabelsChange:G,onAddPOI:$,onUpdatePOI:J,onUpdate:K,onReady:Y,onLayersUpdate:Q,onTrackSearchPOI:X,onCheckMeasurementRights:ee,onUpgradePro:ie,openQuotaWarningDialog:oe,onCreateField:le,onGetLocation:re}=e,se=(0,te.v)((e=>h?e.project.layerNodes[h]:void 0)),de=$t()({},{visible:!0,enableSetting:!0,enableEditCoordinate:!0,enableOpenDetailPanel:!0,enableProximityAnalysis:!0},e.infoWindowConfig||{}),ce=(null===e||void 0===e||null===(i=e.infoWindowConfig)||void 0===i?void 0:i.customizeComponent)||ir,ue=(0,te.v)((e=>e.map.poiDetail.visible)),pe=(0,te.v)((e=>e.map.stat.isOpen)),he=(0,te.v)((e=>e.map.editor)),ve=(0,te.v)((e=>e.map.annotationStatus)),ge=(0,te.I)(),fe=(0,a.Z)(),[ye,we]=(0,n.useState)(null),be=(0,n.useRef)(null),{enableAMap:Ce}=(()=>{const[e,t]=(0,n.useState)(kr),{data:i}=(0,Di.Z)("appConfig",(async()=>await dl.Z.getAppDetail()));return(0,n.useEffect)((()=>{i&&i.forEach((e=>{var i,n,o;e.value&&"basemap"===e.type&&t(!Mr&&(null!==(i=jr?null===(n=e.value)||void 0===n?void 0:n["amap-feishu"]:null===(o=e.value)||void 0===o?void 0:o.amap)&&void 0!==i?i:kr))}))}),[i]),{enableAMap:e}})(),xe=(0,n.useMemo)((()=>{return p?{...p,baseMap:Ce?null===p||void 0===p?void 0:p.baseMap:(e=null===p||void 0===p?void 0:p.baseMap,e?ei()(Kt.nn,e)?je()(si,e,Kt.R6.MapboxLight):e:Kt.R6.MapboxLight)}:void 0;var e}),[p,Ce]),Ie=(0,n.useRef)(qt()),Me=(0,te.v)((e=>e.map.timeline)),ke=(0,te.v)((e=>e.user.sharedUser)),[Te,Ee]=(0,n.useState)(null===xe||void 0===xe?void 0:xe.is3D),{baseMap:Oe,theme:_e,reCreateBaseMap:Se}=di(xe,Z,z),[Ne,Le]=(0,n.useState)(null===ye||void 0===ye?void 0:ye.resolution),{geometryEditor:De,isEditing:Ze,isAttached:Ae,onClose:Fe}=function(e){const[t,i]=(0,n.useState)(),[o,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1),{onlyOnePoint:s}=(0,te.v)((e=>e.map.editor)),d=(0,n.useCallback)((()=>{a(!1)}),[]);return(0,n.useEffect)((()=>{e&&!t&&(a(!0),i(new zi.$({options:{mode:"Point",onlyOnePoint:s},onDrawStart:()=>{a(!0)},onEditStart:()=>{a(!0)},onAttached:()=>{r(!0)}})))}),[t,e,s]),(0,n.useEffect)((()=>{!e&&t&&(null===t||void 0===t||t.destroy(),a(!1),r(!1),i(void 0))}),[e,t]),(0,n.useEffect)((()=>()=>{null===t||void 0===t||t.destroy()}),[t]),{geometryEditor:t,isEditing:o,isAttached:l,onClose:d}}(he.isOpen&&he.isAdding&&P),ze=(0,n.useRef)(null),Ve=(0,Ri.nI)(),{layers:He}=Zi({projectId:h,layerNodes:v,isThirdPartyTable:m,shareParams:{token:y,type:w},resolution:Ne,messageId:D,filters:g}),We=function(e){const t=(0,te.v)((e=>e.map.spatialAnalysis)),i=(0,te.I)(),o=Si(),[a,l]=(0,n.useState)();return(0,n.useEffect)((()=>{var n,a,r;if(t.isLoading)return;if(!o||!t.config)return l(void 0),i(Xe.Nw.setSpatialAnalysisVtData(void 0)),void i(Xe.Nw.setSpatialAnalysisOverlayVtData(void 0));const s=null===(n=e.find((e=>{var i;return e.id===(null===(i=t.config)||void 0===i?void 0:i.layerId)})))||void 0===n||null===(n=n.mapInfo)||void 0===n?void 0:n.vectorTile,d=null!==(a=t.config)&&void 0!==a&&a.overlayLayerId?null===(r=e.find((e=>{var i;return e.id===(null===(i=t.config)||void 0===i?void 0:i.overlayLayerId)})))||void 0===r||null===(r=r.mapInfo)||void 0===r?void 0:r.vectorTile:void 0;if(s&&!t.vtData||d&&!t.overlayVtData)return void i(Xe.Nw.setSpatialAnalysisAnalyzing(!0));o.onmessage=e=>{const{layer:t}=e.data;l(t||void 0),null!==t&&void 0!==t&&t.gridCount&&i(Xe.Nw.setSpatialAnalysisGridCount(t.gridCount)),i(Xe.Nw.setSpatialAnalysisAnalyzing(!1))};const c={type:"preview",layers:e,config:t.config,vtData:t.vtData,overlayVtData:t.overlayVtData};o.postMessage(c),i(Xe.Nw.setSpatialAnalysisAnalyzing(!0))}),[e,o,i,t.isLoading,t.vtData,t.overlayVtData,t.config]),(0,n.useMemo)((()=>a?[...e.map((e=>({...e,mapInfo:{...e.mapInfo,fillConfig:{...e.mapInfo.fillConfig,fillOpacity:.2},bivariateFillConfig:{...e.mapInfo.bivariateFillConfig,fillOpacity:.2},outlineConfig:{...e.mapInfo.outlineConfig,strokeOpacity:.2},labelConfig:{...e.mapInfo.labelConfig,visible:!1}}}))),a]:e),[a,e])}(He),Ue=(0,n.useRef)(null),qe=(0,n.useRef)(null),{addIndicator:Ge,removeIndicator:$e}=dt(null===ye||void 0===ye?void 0:ye.mapTalksMap),Je=Yi("googleMaps"),Ke=(0,n.useMemo)((()=>{const e=Ce?k:k.filter((e=>"amap"!==e));return Je?e:e.filter((e=>"google"!==e))}),[k,Ce,Je]);(e=>{let{enable:t,map:i,projectId:o,measurement:l}=e;const s=(0,a.Z)(),d=(0,te.I)(),c=null===l||void 0===l?void 0:l.distanceTool,u=(0,te.v)((e=>e.map.mapConfig)),p=(0,te.v)((e=>o?e.project.entities[o]:void 0)),h=(0,n.useCallback)(((e,t)=>{const i=document.createElement("div");i.innerText=s.$t({id:"mXK5z7",defaultMessage:"Coordinates copied"}),i.style.position="absolute",i.style.left="".concat(e+30,"px"),i.style.top="".concat(t+60,"px"),i.style.backgroundColor="rgba(0, 0, 0, 0.8)",i.style.color="white",i.style.fontSize="12px",i.style.height="24px",i.style.padding="4px 5px",i.style.borderRadius="5px",i.style.zIndex="1000",i.style.pointerEvents="none",document.body.appendChild(i),setTimeout((()=>{document.body.removeChild(i)}),2e3)}),[s]),v=(0,n.useCallback)((async e=>{await d(Xe.Nw.updateStatVisible(!0)),d(Xe.Nw.updateStatCustomCenter(e))}),[d]),g=(0,n.useCallback)((()=>{var e;o&&null!==p&&void 0!==p&&p.mapConfig&&d(pi.NV({projectId:o,mapConfig:{...null===p||void 0===p?void 0:p.mapConfig,zoomLevel:u.zoomLevel,center:u.center,baseMap:null!==(e=u.baseMap)&&void 0!==e?e:p.mapConfig.baseMap}})).then((()=>{r.ZP.success(s.$t({id:"4nHH2x",defaultMessage:"Applied successfully"}))}))}),[u.baseMap,u.center,u.zoomLevel,d,s,null===p||void 0===p?void 0:p.mapConfig,o]),f=(0,n.useCallback)(((e,t)=>{const i="".concat(e.x.toFixed(6),", ").concat(e.y.toFixed(6));return{items:[{item:i,click:()=>{const e=t.x,n=t.y;return navigator.clipboard.writeText(i).then((()=>{h(e,n)})).catch((()=>{r.ZP.info(s.$t({id:"8TtWnE",defaultMessage:"Please manually copy the latitude and longitude"}));const e=document.querySelector(".maptalks-menu-items li");if(e){const t=document.createRange();t.selectNodeContents(e);const i=window.getSelection();null===i||void 0===i||i.removeAllRanges(),null===i||void 0===i||i.addRange(t)}})),!1}},{item:s.$t({id:"bv5AuP",defaultMessage:"Set current view port as default"}),click:function(){return g(),!0}},{item:null!==l&&void 0!==l&&l.active?s.$t({id:"i/B8Yo",defaultMessage:"Clear measurement"}):s.$t({id:"XsDoHr",defaultMessage:"Measurement"}),click:function(){null!==l&&void 0!==l&&l.active?null===c||void 0===c||c.close():null===c||void 0===c||c.open()}},{item:s.$t({id:"LWNUML",defaultMessage:"Proximity analysis"}),click:function(){return v([e.x,e.y]),!0}}]}}),[c,s,null===l||void 0===l?void 0:l.active,h,v,g]),m=(0,n.useCallback)((e=>{if(e.domEvent.ctrlKey&&2===e.domEvent.button)return void(null===i||void 0===i||i.closeMenu());const t=f(e.coordinate,e.containerPoint);null===c||void 0===c||c.endDraw(),null===i||void 0===i||i.setMenu(t).openMenu(e.coordinate)}),[i,c,f]);(0,n.useEffect)((()=>{function e(){null===i||void 0===i||i.closeMenu()}return t&&i&&(i.on("contextmenu",m),i.on("pitch dragrotatestart",e)),()=>{null===i||void 0===i||i.off("contextmenu",m),null===i||void 0===i||i.off("pitch dragrotatestart",e)}}),[t,i,m])})({enable:W,map:null===ye||void 0===ye?void 0:ye.mapTalksMap,measurement:qe.current,projectId:h});const{visLayers:Ye,layersLabel:Qe,updateLayersLabel:et}=(0,Ai.r)({projectId:h,mapId:D,layers:We,getInfoWindowIds:(0,n.useCallback)((()=>{var e;return he.isOpen?[]:(null===(e=Ue.current)||void 0===e?void 0:e.getIds())||[]}),[he.isOpen]),activeLabels:f,map:ye,onSetColorDomain:Ie,disableInfoWindow:!(null!==de&&void 0!==de&&de.visible),isDualView:Z,enablePickingMultiObjects:U}),tt=(0,nr.v3)({projectId:h,layerNodes:v,visLayers:Ye,dataLayers:He,onSetColorDomain:Ie,showOutlineLegend:B}),it=vr(L),{onBeforeRender:nt}=function(e){const t=(0,n.useRef)(),i=(0,n.useCallback)((i=>{null!==e&&void 0!==e&&e.layerBlending&&(t.current=i.gl,yr(i.gl,e.layerBlending))}),[null===e||void 0===e?void 0:e.layerBlending]);return(0,n.useEffect)((()=>{null!==e&&void 0!==e&&e.layerBlending&&t.current&&yr(t.current,e.layerBlending)}),[null===e||void 0===e?void 0:e.layerBlending]),{onBeforeRender:i}}(xe),at=(0,n.useMemo)((()=>y&&w&&null!==ke&&void 0!==ke&&ke.token?{token:y,type:w,userToken:null===ke||void 0===ke?void 0:ke.token}:{}),[y,w,null===ke||void 0===ke?void 0:ke.token]);yl({projectId:h,shareToken:y,sharingParams:at}),function(e){const{projectId:t,baseMapProviders:i=[],sharingParams:n}=e,o=(0,te.I)(),{isSharePage:a}=(0,Mi.F)(),r=i.includes("customize")&&!!t;(0,l.ZP)(r&&!a?["customizedBasemap",t]:null,(e=>{let[t,i]=e;return o((0,wr.Ws)({projectID:i}))})),(0,l.ZP)(r&&a&&null!==n&&void 0!==n&&n.token?["sharedCustomizedBasemap",n]:null,(e=>{let[t,i]=e;return o((0,pi.hW)({sharingParams:i}))}))}({projectId:h,baseMapProviders:k,sharingParams:at});const lt=(0,n.useMemo)((()=>({getTooltip:it,onBeforeRender:nt,...e.deckProps})),[e.deckProps,it,nt]),rt=(0,n.useMemo)((()=>xe?{center:(0,ri.Jn)(xe.center),zoom:xe.zoomLevel,pitch:xe.pitch}:void 0),[xe]),{isMobile:st}=(0,ae.F)(),{getDirection:ct,history:ut}=co(),{dualMapState:pt,dualMapDispatch:ht}=function(e){const{visLayers:t,projectId:i}=e,o=(0,n.useRef)(),a=(0,n.useMemo)((()=>{var e;const n=i?null===(e=Bt().get(Vt.wO))||void 0===e?void 0:e[i]:void 0,a=Cr()(t,((e,t)=>{var i;return e&&t.id&&null!==(i=o.current)&&void 0!==i&&i[t.id]?e[t.id]=o.current[t.id]:t.id&&e&&(e[t.id]=null!==n&&void 0!==n&&n[t.id]?n[t.id]:[!0,!1]),e}),{});return o.current=a,a}),[t,i]),[l,r]=(0,n.useReducer)(Ir,{syncOptions:{viewport:!0,zoom:!0},layers:a});return(0,n.useEffect)((()=>{i&&(o.current=l.layers,ot()(l.layers)||Bt().set(Vt.wO,{...Bt().get(Vt.wO),[i]:l.layers}))}),[l.layers,i]),(0,n.useEffect)((()=>{r({type:"setLayerVisible",payload:a})}),[a,r]),{dualMapState:l,dualMapDispatch:r}}({projectId:h,visLayers:Ye}),{dualMap:vt,visLayers:gt,reCreateBaseMap:ft}=function(e){const{mapConfig:t,isDualView:i,visLayers:o,mapOptions:a,deckProps:l,dualMapState:r,isEnt:s}=e,d=r.layers,{baseMap:c,reCreateBaseMap:u}=di(t,i,s),p=(0,n.useMemo)((()=>i?T()(o,(e=>{var t,i;return e.clone({visible:null===(t=null===d||void 0===d||null===(i=d[e.id])||void 0===i?void 0:i[0])||void 0===t||t})})):o),[o,d,i]),h=(0,n.useMemo)((()=>i?T()(o,(e=>{var t,i;return e.clone({visible:null!==(t=null===d||void 0===d||null===(i=d[e.id])||void 0===i?void 0:i[1])&&void 0!==t&&t,id:"".concat(e.id,":").concat(xr)})})):[]),[o,d,i]);return i&&t?{dualMap:{id:xr,baseMap:c,layers:h,mapOptions:a,deckProps:l},reCreateBaseMap:u,visLayers:p}:{visLayers:o}}({mapConfig:xe,isDualView:Z,visLayers:Ye,deckProps:lt,mapOptions:rt,dualMapState:pt,isEnt:z});(0,n.useImperativeHandle)(t,(()=>({map:ye,baseMap:Oe,layers:We,dataLayers:He})),[ye,Oe,We,He]),(0,n.useEffect)((()=>{null===Q||void 0===Q||Q(We)}),[We,Q]),(0,n.useEffect)((()=>{const e=We.filter((e=>{var t;return e.features.length>0||(null===(t=e.vtInfo)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.bounds)}));if(xe&&!xe.isSet&&!w&&1===e.length){var t;const[i,n,o,a]=(null===(t=e[0].vtInfo)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.bounds)||(0,Jt.Z)(e[0]);if(i===1/0)return;const l=new Be.wx(i,n,o,a);null===ye||void 0===ye||ye.fitBounds(l,1).then((e=>{if(e){const{zoom:t,longitude:i,latitude:n}=e,o=[i,n].join(",");ge(pi.NV({projectId:h,mapConfig:{...xe,isSet:!0,center:o,zoomLevel:t}}))}}))}}),[We,xe,ye,w,ge,h]),(e=>{const t=(0,te.v)((e=>e.tableNode.defaultActiveRegionLayerId)),i=(0,te.v)((e=>ne.TW.selectAll(e))),o=(0,te.I)();(0,n.useEffect)((()=>{if(t){var n;const a=e.find((e=>e.id===t)),l=null===a||void 0===a?void 0:a.tableNodeId,r=i.find((e=>e.id===l));null!==r&&void 0!==r&&null!==(n=r.rows)&&void 0!==n&&n.length&&(setTimeout((()=>{Ct.m2.emit(t),o(Pi.Nw.updateSelectedKeys({keys:[t]}))}),1e3),o({type:"tableNode/resetDefaultActiveRegionLayerId"}))}}),[t,i,e,o])})(We),(0,n.useEffect)((()=>{ye&&(null===K||void 0===K||K())}),[K,ye]),(0,n.useEffect)((()=>{if(ye&&null!==xe&&void 0!==xe&&xe.zoomLevel&&null!==xe&&void 0!==xe&&xe.center&&xe.isSet){const e=(0,ri.Jn)(xe.center);ye.setZoomAndCenter(xe.zoomLevel,e)}}),[ye,null===xe||void 0===xe?void 0:xe.center,null===xe||void 0===xe?void 0:xe.zoomLevel,null===xe||void 0===xe?void 0:xe.isSet]),(0,n.useEffect)((()=>{ye&&null!==xe&&void 0!==xe&&xe.features&&ye.setFeatures(xe.features)}),[ye,null===xe||void 0===xe?void 0:xe.features]),(0,n.useEffect)((()=>{function e(e){var t,i;const n=We.find((t=>t.id===e));if(!n)return;const[o,a,l,r]=(null===(t=n.vtInfo)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.bounds)||(0,Jt.Z)(n);if(o===1/0)return;const s=new Be.wx(o,a,l,r);null===ye||void 0===ye||ye.fitBounds(s),null===(i=be.current)||void 0===i||i.fitBounds(s)}return Ct.m2.on(e),()=>{Ct.m2.off(e)}}),[We,ye]);const mt=(0,n.useCallback)((e=>{const{zoom:t,bearing:i,pitch:n,center:o,resolution:a}=e;Le(a),null===q||void 0===q||q({center:null===o||void 0===o?void 0:o.join(","),zoomLevel:t,bearing:i,pitch:n})}),[q]);const yt=(0,n.useCallback)((async(e,t)=>{const i=(0,Qt.IV)(e);if(m&&!z&&Kt.At.includes(i))return void(null===oe||void 0===oe||oe({title:"ent.info.title",customizeContent:fe.$t({id:"oGiueh",defaultMessage:"Google maps is exclusive to the Enterprise version."})}));if(m&&!z&&"customize"===i)return void(null===oe||void 0===oe||oe({title:"ent.info.title",customizeContent:fe.$t({id:"OGnJBy",defaultMessage:"Customize basemap is exclusive to the Enterprise version."})}));if(Kt.At.includes(i)&&b&&!c()(C)){const{payload:e}=await ge((0,ui.fN)({type:b,id:C})),t=e;if("ent"!==t.plan||t.planExpired)return void r.ZP.info(fe.$t({id:"oGiueh",defaultMessage:"Google maps is exclusive to the Enterprise version."}))}const n=(0,ri.m6)(e);if(t||"customize"===n){Ee(!1);const t=Se(e);if(t&&(null===ye||void 0===ye||ye.setBaseMap(t,n)),ft){var o;const t=ft(e);t&&(null===(o=be.current)||void 0===o||o.setBaseMap(t,n))}}else{var a;null===Oe||void 0===Oe||Oe.setMapStyle(e),null===vt||void 0===vt||null===(a=vt.baseMap)||void 0===a||a.setMapStyle(e)}ge(Xe.Nw.updateBaseMap(e)),null===q||void 0===q||q({baseMap:e})}),[m,F,z,oe,fe,b,C,ge,Se,ye,ft,be,Oe,vt,q]),wt=(0,n.useCallback)((()=>{ht({type:"toggleSyncViewState"})}),[ht]),bt=(0,n.useCallback)((()=>{ht({type:"toggleSyncZoom"})}),[ht]),xt=(0,n.useCallback)(((e,t)=>{ht({type:"updateLayerVisible",payload:{layerId:e,visible:t}})}),[ht]),It=(0,n.useCallback)((async()=>{var e,t,i;if(m)return null!==(e=null===ee||void 0===ee?void 0:ee())&&void 0!==e&&e;{if(!b||!C)return!1;const{payload:e}=await ge((0,ui.fN)({type:b,id:C})),n=e;return t=n.plan,i=n.planExpired,!t||"pro"!==t&&"ent"!==t||!0===i?(null===oe||void 0===oe||oe({name:fe.$t({id:"measurement.route",defaultMessage:"Route"}),functions:fe.$t({id:"measurement.route",defaultMessage:"Route"})}),!1):!0}}),[m,ee,b,C,ge,oe,fe]),jt=(0,n.useCallback)((e=>{const t=Ye.some((t=>t.id===e)),i=null===se||void 0===se?void 0:se.filter((e=>"single"===e.groupMode)),n=null===se||void 0===se?void 0:se.find((t=>t.id===e));if(-1!==(null===i||void 0===i?void 0:i.findIndex((e=>e.id===(null===n||void 0===n?void 0:n.parentID))))&&!t){const t=null===se||void 0===se?void 0:se.filter((t=>t.parentID===(null===n||void 0===n?void 0:n.parentID)&&t.id!==e));ge(Xe.Nw.updateHiddenLayers({projectId:h,ids:(null===t||void 0===t?void 0:t.map((e=>e.id)))||[],hidden:!0}))}ge(Xe.Nw.updateHiddenLayers({projectId:h,ids:[e],hidden:t}))}),[ge,h,Ye,se]);return xe?(0,me.jsxs)(Yt.h_,{id:D,baseMap:Oe,baseMapType:(0,ri.m6)(xe.baseMap),geometryEditor:De,layers:gt,mapOptions:rt,deckProps:lt,dualMap:vt,syncOptions:pt.syncOptions,subMapRef:be,locale:Ve,ref:we,onViewStateChange:mt,onReady:Y,onError:function(e){"destroyed"!==e&&(console.warn(e),r.ZP.warning(fe.$t({id:"pXvVVE",defaultMessage:"Map loading failed, please try again later or change the basemap"})))},children:[P&&(0,me.jsx)(Mo,{map:ye,baseMap:Oe,isThirdPartyTable:m,isPro:F,geometryEditor:De,isEditing:Ze,isAttached:Ae,showEditToolbar:R,projectId:h,theme:_e,locale:Ve,baseMapProvider:(0,Qt.IV)(null!==(o=null===ye||void 0===ye||null===(s=ye.baseMap)||void 0===s?void 0:s.getMapStyle())&&void 0!==o?o:xe.baseMap),onAddPOI:$,onUpdatePOI:J,onClose:Fe,onTrackSearchPOI:X,onUpgradePro:ie,onCreateField:le}),_&&ve.visible&&(0,me.jsx)(Dl,{projectId:h,enableEdit:P,shareToken:y,shareType:w,editableAnnotation:S}),de.visible&&(0,me.jsx)(ce,{projectId:h,mapId:D,isDualView:Z,isSharedMap:A,enableSetting:de.enableSetting,enableEditCoordinate:de.enableEditCoordinate,enableOpenDetailPanel:de.enableOpenDetailPanel,enableProximityAnalysis:de.enableProximityAnalysis,ref:Ue}),(0,me.jsxs)(Yt.ZX,{ref:ze,className:(0,O.default)({"mtmap-controls-expanded":ue||pe},j),style:I?{transform:"translate(".concat(I[0],"px, ").concat(I[1],"px)")}:void 0,defaultActiveControls:M,children:[Me.enable&&!Me.isOpen&&x.includes("timeline")&&(0,me.jsx)(To,{name:"timeline"}),x.includes("3d")&&!st&&(0,me.jsx)(Yt.zy,{name:"3d",persistentActive:Te,onToggle:function(e){var t;Ee(e),null===ye||void 0===ye||ye.toggle3D(e),null===(t=be.current)||void 0===t||t.toggle3D(e);const i=null===q||void 0===q?void 0:q({is3D:e});return null===i||void 0===i||i}}),x.includes("measurement")&&!st&&(0,me.jsx)(Yt.g3,{ref:qe,name:"measurement",theme:_e,locale:Ve,enableRoute:!A,projectId:h,history:ut,baseMapProvider:(0,Qt.IV)(null!==(d=null===ye||void 0===ye||null===(u=ye.baseMap)||void 0===u?void 0:u.getMapStyle())&&void 0!==d?d:xe.baseMap),onActiveChange:function(e){var t,i;ge(Re.Nw.removeAll()),ge(Re.Nw.setInfoWindowInvisible(e)),e?(null===(t=ze.current)||void 0===t||t.setActiveControl(["measurement"]),ge(Xe.Nw.toggleTimelineOpen(!1))):null===(i=ze.current)||void 0===i||i.setActiveControl(M)},getDirection:ct,checkRights:It}),x.includes("fitBounds")&&(0,me.jsx)(Yt.OO,{name:"fitBounds",onFit:function(){var e;const t=null===We||void 0===We||null===(e=We[0])||void 0===e?void 0:e.id;t&&Ct.m2.emit(t)}}),x.includes("legend")&&(0,me.jsx)(Va,{projectId:h,name:"legend",description:x.includes("description")?(0,me.jsx)(ba,{projectId:h,mapConfig:xe,readonly:V}):null,legends:tt,labels:Qe,isThirdPartyTable:m,disableFilter:N,isDualView:Z,dualMapState:pt,enableLayerToggle:H,enableAnnotation:_,onLabelVisibilityChange:function(e){et(e),null===G||void 0===G||G(e.filter((e=>e.active)).map((e=>e.id)))},onDualMapViewportSyncToggle:wt,onDualMapZoomSyncToggle:bt,onDualMapLayerVisibleToggle:xt,onLayerToggle:jt}),x.includes("help")&&(0,me.jsx)(fl,{}),(0,me.jsxs)("div",{className:(0,O.default)(Tr.horizontalControls,{[Tr.bottom]:m},Tr[_e]),children:[x.includes("location")&&(0,me.jsx)(Yt.$N,{name:"location",onLocationGet:function(e,t){var i;null===ye||void 0===ye||ye.setZoomAndCenter(t,e),null===(i=be.current)||void 0===i||i.setZoomAndCenter(t,e),$e(),Ge([e[0],e[1]])},onGeoLocationDeny:function(){(0,Pe.PG)()&&!(0,Pe.tq)()?r.ZP.warning(fe.$t({id:"q9jBxk",defaultMessage:"Unable to access your location. Please try again in a browser."})):r.ZP.warning(fe.$t({id:"rWi3XF",defaultMessage:"Please allow location access"}))},onGetLocation:re}),x.includes("zoom")&&!st&&(0,me.jsx)(Yt.Ly,{})]}),x.includes("baseMap")&&(0,me.jsx)(tl,{projectId:h,baseMapProviders:Ke,baseMapStyle:xe.baseMap,needPro:m,onChange:yt,style:E})]}),Z&&(0,me.jsx)("div",{className:Tr.split}),e.children]}):null}const Pr=(0,n.forwardRef)(Er),Or="map_mapControls__5t7vB",_r=(0,n.forwardRef)(((e,t)=>{var i,d,k,T;let{layerType:E,loading:P}=e;const O=(0,a.Z)(),_=(0,te.I)(),{baseMapStyle:S,theme:N}=(0,v.F)(),{isFullScreen:L,isCreate:D,isConfig:R}=(0,b.Z)(),{isFeiShu:Z}=(0,C.k)(),A=(0,n.useRef)({map:null,layers:[]}),F=null===(i=A.current)||void 0===i?void 0:i.map,z=null===(d=A.current)||void 0===d?void 0:d.layers,{currentProjectId:B}=(0,x.Z)((e=>e.project)),V=(0,x.Z)((e=>c()(B)?void 0:I.Hx.selectById(e,B))),H=(0,x.Z)((e=>B?(0,y.M)(e,B):[])),W=null===H||void 0===H?void 0:H[0],U=(0,n.useRef)(W),{layersReadyState:q}=(0,x.Z)((e=>e.layerNode)),G=null===q||void 0===q||null===(k=q.find((e=>e.projectId===B&&e.layerId===(null===W||void 0===W?void 0:W.id))))||void 0===k?void 0:k.ready,$=(0,u.useMediaQuery)({query:"(max-width: 375px)"}),{hasLocationTableId:J,isLoadingTable:K,noLocationField:Y}=(0,m.mr)(B),Q=P||!G||K,{defaultActiveControls:X}=function(e){const{small:t}=(0,ae.F)();return{defaultActiveControls:(0,n.useMemo)((()=>t?[]:Bt().get(Vt.Wr,[]).includes(e)?Ht.filter((e=>"legend"!==e)):Ht),[e,t])}}(B);(0,M.c)(B),(0,g.w)(E,J,null===V||void 0===V?void 0:V.id,N),(0,f.w)(null===V||void 0===V?void 0:V.id),(0,w.S)(!P,B),(0,j.W)(null===V||void 0===V?void 0:V.id),(0,m.xJ)(),(0,n.useEffect)((()=>{(0,h.Gn)().then((e=>{e&&_({type:"project/setColors",payload:e})}))}),[_]);const ee=(0,n.useMemo)((()=>{var e,t;return{center:p.join(","),zoomLevel:4,...null===V||void 0===V?void 0:V.mapConfig,isSet:!!D||(null===V||void 0===V||null===(e=V.mapConfig)||void 0===e?void 0:e.isSet),baseMap:L?S:null===V||void 0===V||null===(t=V.mapConfig)||void 0===t?void 0:t.baseMap}}),[null===V||void 0===V?void 0:V.mapConfig,S,D,L]);(0,l.ZP)(G&&null!==F&&void 0!==F&&F.isReady?[F,S,G,N]:null,(async()=>{await(0,Wt._)(500);var e;await(null===F||void 0===F?void 0:F.isReady)&&(null===F||void 0===F||null===(e=F.baseMap)||void 0===e||e.setMapStyle(S))}));const ie=(0,n.useCallback)((e=>{_(Xe.Nw.updateMapConfig(e))}),[_]);return(0,n.useEffect)((()=>{G&&null!==W&&void 0!==W&&W.id&&async function(){var e,t;U.current&&(null===(e=U.current.mapInfo)||void 0===e?void 0:e.tableNodeID)===(null===(t=W.mapInfo)||void 0===t?void 0:t.tableNodeID)||((D||R)&&(await(0,Wt._)(500),Ct.m2.emit(W.id)),U.current=W)}()}),[G,null===W||void 0===W?void 0:W.id,null===W||void 0===W||null===(T=W.mapInfo)||void 0===T?void 0:T.tableNodeID,D,R,z,W]),(0,n.useEffect)((()=>{Y&&!K&&D&&r.ZP.error(O.$t({id:"GHO8lD",defaultMessage:"No location field found in the Base"}))}),[Y,K,O,D]),(0,n.useEffect)((()=>{B&&(0,h.VW)().then((e=>{e&&_({type:"project/updateInfoWindowConfig",payload:e})}))}),[B,_]),(0,n.useImperativeHandle)(t,(()=>({map:F,layers:z}))),(0,me.jsxs)(s.Z,{spinning:Q,delay:500,indicator:(0,me.jsx)(o.Z,{style:{fontSize:60}}),tip:O.$t({id:"gjBiyj",defaultMessage:"Loading..."}),children:[(0,me.jsx)(Pr,{ref:A,isThirdPartyTable:!0,enableTooltip:!0,readonly:!0,enableEditor:!1,enableAnnotation:!1,enableLegendLayerToggle:!1,controls:["fitBounds","legend"],controlsClassName:Or,defaultActiveControls:X,projectId:null===V||void 0===V?void 0:V.id,mapConfig:ee,baseMapProviders:Z?["amap","mapbox","google"]:["mapbox","google"],infoWindowConfig:{visible:!$,enableSetting:D||R,enableEditCoordinate:!1,enableOpenDetailPanel:!1,enableProximityAnalysis:!1,customizeComponent:At},showOutlineLegend:!1,onMapStatusChange:ie}),(0,me.jsx)(Ft.Z,{isFeiShu:Z})]})})),Sr=_r},59436:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Be});var n=i(57435),o=i(95620),a=i(53926),l=i.n(a),r=i(43179),s=i.n(r),d=i(68906),c=i(27371),u=i(50839),p=i(40621),h=i(49210),v=i(41002),g=i(94553);const f=e=>{const{isView:t,isFullScreen:i,isRenewal:a=!1,planInfo:{proExpirationAt:r},onUpgrade:d}=e,f=(0,o.Z)(),[m,y]=(0,n.useMemo)((()=>{const e=s()(),t=s()(r);if(t.isSame(e,"day"))return[f.$t({id:"KQlr4V",defaultMessage:"Free trial expires {day}. Upgrade now to keep using Map Widgets."},{day:f.$t({id:"kkpP2k",defaultMessage:"today"})}),!0];if(t.add(-1,"day").isSame(e,"day")){const e=f.$t({id:"h3iFuP",defaultMessage:"tomorrow"});return a?[f.$t({id:"v4saA6",defaultMessage:"Your plan expires {day}. Renew now to keep using Map Widgets."},{day:e}),!1]:[f.$t({id:"KQlr4V",defaultMessage:"Free trial expires {day}. Upgrade now to keep using Map Widgets."},{day:e}),!0]}const i=(0,h.p6)(null!==r&&void 0!==r?r:"");return a?[f.$t({id:"pEgkOd",defaultMessage:"Your plan expires on {deadline}. Renew now to keep using Map Widgets."},{deadline:i}),!1]:[f.$t({id:"4aYb6v",defaultMessage:"Enjoy a free trial until {deadline}"},{deadline:i}),!1]}),[r,f,a]);return(0,g.jsx)(v.Z,{message:m,warning:y,button:(0,g.jsx)(p.Z,{onClick:()=>{d((e=>c.ZP.info({key:"upgrade-message-info",content:e,duration:5,style:{marginTop:"60px"}})),a)&&c.ZP.destroy("upgrade-message-info")},children:a?f.$t({id:"7q/bs/",defaultMessage:"Renew now"}):f.$t({id:"mmafso",defaultMessage:"Subscribe now"})}),closable:t||i,onClose:()=>{l().session.set(u.pT,{isRenewal:a,day:r?s()(r).diff(s()(),"day"):0})},isView:t,isFullScreen:i})};var m=i(68429);i(3834);var y=i(50239),w=i(89166),b=i(30289),C=i(34061),x=i(45818),I=i(74695);const j="LimitUseMask_maskWrapper__b4csS",M="LimitUseMask_contentWrapper__feIOV",k="LimitUseMask_content__p4Cgz",T="LimitUseMask_top__aUPRA",E="LimitUseMask_warning__MabSY",P="LimitUseMask_title__GXAr1",O="LimitUseMask_subTitle__04stX",_="LimitUseMask_bottom__NY3e-",S="LimitUseMask_blue__S1BDz",N="LimitUseMask_trialButton__0Tcic",L="LimitUseMask_links__ohE6l",D="LimitUseMask_left__7g6ya",R="LimitUseMask_right__Jf-Pi",Z=e=>{const{planInfo:{isPro:t,isOverQuota:i,teamPlan:a,canTrial:l,trialTimes:r},isFeiShu:s,loading:d,onUpgrade:u,onTrial:p}=e,h=(0,o.Z)(),[v,f]=c.ZP.useMessage(),{data:m}=(0,b.ZP)(t&&i?["getPlanStat"]:null,(()=>I.Z.stat(s?"feishuDashboard":"larkDashboard"))),{mau:Z,members:A}=(0,n.useMemo)((()=>{var e;return{mau:(null===m||void 0===m||null===(e=m[0])||void 0===e||null===(e=e.userIDs)||void 0===e?void 0:e.length)||1,members:(null===a||void 0===a?void 0:a.members)||1}}),[m,null===a||void 0===a?void 0:a.members]),F=!t&&(null===a||void 0===a?void 0:a.prevPlan)&&"base"!==a.prevPlan,z=!t&&l&&r<1,B=!t&&l&&r>0,V=!t&&!l,H=t&&i,[W,U,q,G,$,J]=(0,n.useMemo)((()=>F?[h.$t({id:"0Ze+1G",defaultMessage:"Renew Now"}),h.$t({id:"JQ0Al8",defaultMessage:"Your subscription has expired."}),h.$t({id:"+bcay8",defaultMessage:"Please renew to continue."}),"",l?h.$t({id:"sjtT96",defaultMessage:"Get Map Widgets free for 7 days"}):""]:z?[h.$t({id:"9bIRYn",defaultMessage:"Start Trial"}),h.$t({id:"/0x6rd",defaultMessage:"Get Map Widgets free for 7 days. No credit card needed."}),"","","",!0]:B?[h.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),h.$t({id:"44hbU4",defaultMessage:"Free Trial Expired"}),"","",l?h.$t({id:"VNrYVZ",defaultMessage:"Extend 7-Day Free Trial"}):""]:V?[h.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),h.$t({id:"44hbU4",defaultMessage:"Free Trial Expired"}),h.$t({id:"sQBh8e",defaultMessage:"Upgrade now to continue using Map Widgets."}),"",""]:H?[h.$t({id:"bcUuyQ",defaultMessage:"Expand Capacity Now"}),h.$t({id:"l43c99",defaultMessage:"Monthly Active Users Limit Exceeded"}),"",h.$t({id:"UtBGfJ",defaultMessage:"Your current plan supports {members} active users, but your organization have already reached {mau}. To continue using, please expand your capacity."},{mau:(0,g.jsx)("span",{className:S,children:Z}),members:(0,g.jsx)("span",{className:S,children:A})}),l?h.$t({id:"sjtT96",defaultMessage:"Get Map Widgets free for 7 days"}):""]:["","",""]),[z,B,V,l,H,F,h,Z,A]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:j}),(0,g.jsx)(y.Z,{justify:"center",className:M,children:(0,g.jsxs)("div",{className:k,children:[(0,g.jsx)("div",{className:T,children:(0,g.jsxs)("div",{className:E,children:[(0,g.jsx)("div",{className:P,children:U}),(0,g.jsx)("div",{className:P,children:q}),(0,g.jsx)("div",{className:O,children:G})]})}),(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)(w.ZP,{loading:d,size:"large",type:"primary",onClick:()=>{u((e=>v.open({key:"upgrade-message-info",type:"info",content:e,duration:5})),void 0,!J)&&v.destroy("upgrade-message-info")},children:W}),$&&p&&(0,g.jsx)(w.ZP,{loading:d,type:"link",onClick:p,className:N,children:$}),(0,g.jsxs)(y.Z,{justify:"space-between",align:"center",gap:100,className:L,children:[(0,g.jsx)("div",{className:D,children:(0,g.jsx)("a",{href:(0,x.t1)(h.locale,"dashboardPricing",s),target:"_blank",rel:"noreferrer",children:h.$t({id:"tbcTs8",defaultMessage:"Learn more about Map Widgets."})})}),(0,g.jsx)("div",{className:R,children:(0,g.jsx)("a",{href:C.Hf,target:"_blank",rel:"noreferrer",children:h.$t({id:"nCYYaf",defaultMessage:"Need help? Contact us"})})})]})]})]})}),f]})};var A=i(88505),F=i(17953),z=i(74720),B=i.n(z),V=i(27825),H=i.n(V),W=i(34362),U=i.n(W),q=i(75805),G=i(30768),$=i(42015),J=i(30423);var K=i(49756);const Y="breadcrumb_wrapper__2ZUyz",Q=e=>{let{showBanner:t}=e;const{drillDownList:i}=(()=>{const e=(0,o.Z)(),t=(0,J.I)(),i=(0,n.useRef)(!1),{currentProjectId:a,drillDown:l,defaultRegion:r}=(0,d.Z)((e=>e.project)),{aggregateBy:s,level:c}=r||{},u=(0,d.Z)((e=>a?(0,q.M)(e,a):[])),p=null===u||void 0===u?void 0:u[0],{mapInfo:h}=p||{},v=B()(h,"regionConfig.regionId"),g=B()(h,"regionConfig.level"),f="admin0"===B()(h,"regionConfig.aggregateBy")?v:B()(h,"regionConfig.country"),{data:m}=(0,b.ZP)(p?["getRegionData",f]:null,(async e=>{const[,t]=e,i=await(0,$.RG)(t);return H()(i)})),y=(0,n.useCallback)((e=>{var i;let{regionId:n,regionLevel:o,country:l,aggregateBy:r}=e;const s={...p,mapInfo:{...null===p||void 0===p?void 0:p.mapInfo,regionConfig:{...null===p||void 0===p||null===(i=p.mapInfo)||void 0===i?void 0:i.regionConfig,regionId:n,aggregateBy:r||o,level:o,country:l}}};a&&(t(G.Nw.setDrillDownState({level:o,regionId:n})),t(G.Nw.updateLayerNodeForProject({projectId:a,layerNode:s})))}),[a,t,p]),w=(0,n.useMemo)((()=>{var t;const i=null===(t=$.rS.find((e=>e.value===f)))||void 0===t?void 0:t.label;return[{title:i?e.$t(i):f,href:"",onClick:e=>{e.preventDefault(),y({regionId:f,regionLevel:"admin1",country:f})}}]}),[f,y,e]),C=(0,n.useCallback)((t=>{const{data:n,id:o,country:a,isLastNode:l}=t;U()(o,"ADM0")&&(i.current=!0);const r=n.find((e=>e.id===o));if(!r)return[];const s=n.find((e=>e.id===r.parentId));return s?[...C({data:n,id:s.id,level:s.level,country:a}),{title:"zh-CN"===e.locale?r.name_zh:r.name_en,onClick:e=>{e.preventDefault()}}]:[{title:"zh-CN"===e.locale?r.name_zh:r.name_en,href:l?void 0:"",onClick:e=>{if(e.preventDefault(),!l){const e=(0,$.OE)(r.level);y({regionId:r.id,regionLevel:e,country:a})}}}]}),[y,e]),x=(0,n.useMemo)((()=>{if(!m||!l)return[];const t=C({data:m,id:v,level:g,country:f,isLastNode:!0});if(0===t.length&&!i.current)return[];if("admin0"===g||c===l.level)return[];const n=[];return"admin1"!==c&&"admin0"!==c||n.push({title:e.$t({id:"zQvVDJ",defaultMessage:"All"}),href:"",onClick:t=>{if(t.preventDefault(),i.current){const t="zh-CN"===e.locale?"world/cas":"world/wb";y({regionId:t,regionLevel:"admin0",country:f})}else y({regionId:f,regionLevel:"admin1",country:f,aggregateBy:s})}}),n.push(...i.current?w.map((e=>{const{href:i,...n}=e;return t.length?e:{...n}})):[],...t),n}),[m,l,C,v,g,f,s,c,w,e,y]);return{drillDownList:x}})();return(0,g.jsx)(A.ZP,{theme:{components:{Breadcrumb:{itemColor:(0,K.Dw)("--primary-color"),linkColor:(0,K.Dw)("--primary-color")}}},children:(0,g.jsx)("div",{className:Y,style:{top:t?80:20},children:(0,g.jsx)(F.Z,{items:i,separator:">"})})})};var X=i(38509),ee=i(33718),te=i(3891),ie=i(81114);const ne="qrCode_content__YW2vP",oe="qrCode_iconAlipay__-N9j6",ae="qrCode_iconWechat__rweE1",le="qrCode_iconMin__43Wru",re="qrCode_amount__hNk9J",se="qrCode_qrcodeWrap__dHECj",de="qrCode_message__ueyi3",ce="qrCode_success__5M2JS",ue="qrCode_iconSuccess__0FN0r",pe="qrCode_info__3mcbU",he="qrCode_time__wva39";function ve(e){const{url:t,method:i,amount:a,paid:l,showAmount:r=!0}=e,s=(0,n.useRef)(null),[d,c]=n.useState(1800),u=(0,o.Z)(),p=(0,n.useCallback)((e=>"alipay"===e?u.$t({id:"3yNuzn",defaultMessage:"Alipay"}):"wechat"===e?u.$t({id:"O93+af",defaultMessage:"WeChat"}):"stripe"===e?u.$t({id:"kvOMtB",defaultMessage:"Credit card"}):""),[u]);return(0,n.useEffect)((()=>{s.current&&(clearInterval(s.current),s.current=null);let e=1800;return s.current=setInterval((()=>{e--,c(e)}),1e3),()=>{s.current&&(clearInterval(s.current),s.current=null)}}),[t]),(0,g.jsxs)("div",{className:ne,children:[r&&(0,g.jsxs)("div",{className:re,children:[u.$t({id:"no6pRd",defaultMessage:"Payment amount\uff1a"}),(0,g.jsxs)("strong",{children:["\xa5 ",(0,h.lB)(a)]})]}),(0,g.jsxs)("div",{className:se,children:[(0,g.jsx)(X.Z,{type:"canvas",value:t,size:160}),l&&(0,g.jsx)("div",{className:ce,children:(0,g.jsx)(m.Z,{type:"checked",className:ue})})]}),(0,g.jsx)("div",{className:pe,children:(0,g.jsx)("span",{className:he,children:(0,h.Cl)(d)})}),(0,g.jsx)("div",{className:de,children:u.$t({id:"lf8xeR",defaultMessage:"Please open {method} and scan QR code for payment"},{method:(0,g.jsxs)(g.Fragment,{children:["alipay"===i&&(0,g.jsx)(te.Z,{className:(0,ee.default)(oe,le)}),"wechat"===i&&(0,g.jsx)(ie.Z,{className:(0,ee.default)(ae,le)}),(0,g.jsxs)("span",{children:[p(i),"\xa0"]})]})})})]})}const ge=e=>{let{payUrl:t,amount:i,orderNo:o,planService:a,onFinish:l,onPaySuccess:r}=e;const[s,d]=(0,n.useState)(!1),c=(0,n.useRef)(null),u=(0,n.useCallback)((()=>{c.current&&(clearInterval(c.current),c.current=null)}),[]);return(0,n.useEffect)((()=>(o&&(u(),d(!1),c.current=setInterval((()=>{a.getOrder(o).then((e=>{if(0===e.code){const{status:t}=e.detail;"completed"===t&&(null===l||void 0===l||l(),d(!0),u(),setTimeout((()=>{r(e.detail.orderNo)}),2e3))}}))}),2e3)),()=>{u()})),[o,a,u,l,r]),(0,g.jsx)(ve,{method:"wechat",url:t,amount:i,paid:s})};var fe=i(42304),me=i(84991),ye=i(83580),we=i(86115),be=i.n(we),Ce=i(41928),xe=i(15328);const Ie={content:"statusModal_content__BwMq4",icon:"statusModal_icon__owT3P",iconFail:"statusModal_iconFail__kiqaK",iconWarning:"statusModal_iconWarning__1JXv5",iconSuccess:"statusModal_iconSuccess__U9lR3",message:"statusModal_message__st8C4",textLeft:"statusModal_textLeft__j5GV5",realistic:"statusModal_realistic__egL7R"};function je(e){const{title:t,message:i,width:a=360,onClose:l,onConfirm:r,confirmText:s,closeText:d,centered:c=!1,visible:u,status:p,orderStatus:h,orderOperate:v}=e,f=(0,o.Z)(),b=("zh-CN"===f.locale?Ce.l5["zh-CN"]:Ce.l5["en-US"],(0,n.useCallback)((e=>{let t="payment.order";return"completed"!==e&&"closed"!==e||(t="upgrade"===v||"subscribe"===v?"payment.upgrade":"change"===v?"payment.change":"payment.renewal"),(0,xe.cS)(f,t,e)}),[f,v]));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ye.Vq,{visible:u,closable:!1,centered:c,title:t,width:a,footer:(0,g.jsxs)(y.Z,{justify:"end",gap:8,align:"center",style:{marginTop:16},children:[r&&(0,g.jsx)(w.ZP,{type:"primary",onClick:r,children:null!==s&&void 0!==s?s:f.$t({id:"N2IrpM",defaultMessage:"Confirm"})}),(0,g.jsx)(w.ZP,{type:"default",onClick:l,children:null!==d&&void 0!==d?d:f.$t({id:"rbrahO",defaultMessage:"Close"})}),"completed"===h&&(0,g.jsx)(w.ZP,{href:(0,x.xu)(f.locale,"paymentStatus"),type:"default",target:"_blank",rel:"noreferrer",children:f.$t({id:"QwSs+0",defaultMessage:"Check user manual"})})]}),children:(0,g.jsxs)("div",{className:Ie.content,children:["paid"===p&&(0,g.jsx)(m.Z,{type:"checked",className:Ie.iconSuccess}),("closed"===p||"refund"===p)&&(0,g.jsx)(m.Z,{type:"info",className:Ie.iconWarning}),"failed"===p&&(0,g.jsx)(m.Z,{type:"alert",className:Ie.iconFail}),p&&(0,g.jsx)("div",{className:Ie.message,children:(0,xe.vX)(f,p)}),"completed"===h&&(0,g.jsx)(m.Z,{type:"checked",className:Ie.iconSuccess}),"closed"===h&&(0,g.jsx)(m.Z,{type:"alert",className:Ie.iconFail}),h&&(0,g.jsx)("div",{className:Ie.message,children:b(h)}),i&&(0,g.jsx)("div",{className:(0,ee.default)(Ie.message,Ie.textLeft),children:i}),"completed"===h?f.$t({id:"pZN4mA",defaultMessage:"You're all set to enjoy our services. Feel free to reach out if you have any questions!"}):null]})}),u&&"completed"===h&&(0,g.jsx)("div",{className:Ie.realistic,children:(0,g.jsx)(be(),{autorun:{speed:1,duration:1,delay:200}})})]})}var Me=i(79129),ke=i(59680),Te=i(71105),Ee=i(15905),Pe=i(34221),Oe=i(52451);const _e={header:"upgrade_header__nU-dR",dialogTitle:"upgrade_dialogTitle__WJnwr",infoIcon:"upgrade_infoIcon__fRPiR",smallTitle:"upgrade_smallTitle__MGU7O",paymentCol:"upgrade_paymentCol__mzMiU",subTitle:"upgrade_subTitle__42JRe",title:"upgrade_title__r2qyy",closeIcon:"upgrade_closeIcon__EuVcL",totalPrice:"upgrade_totalPrice__NE72z",bottom0:"upgrade_bottom0__DHsFJ",paymentMethodContent:"upgrade_paymentMethodContent__ekNfw",link:"upgrade_link__Wdrnj",planBtn:"upgrade_planBtn__K646G",trialBtn:"upgrade_trialBtn__74Hya",trialText:"upgrade_trialText__v16SA",blank:"upgrade_blank__tSo+q",block:"upgrade_block__p3eV8",plans:"upgrade_plans__B31la",planWrap:"upgrade_planWrap__E7ZWN",plan:"upgrade_plan__08g93",current:"upgrade_current__skp6x",name:"upgrade_name__f6qA4",desc:"upgrade_desc__H9jPX",subDesc:"upgrade_subDesc__WsXiH",currentPlanBtn:"upgrade_currentPlanBtn__UmVTF",contactUsBtn:"upgrade_contactUsBtn__ZXfLw",features:"upgrade_features__xZnMN",footer:"upgrade_footer__57ofF",footerLeft:"upgrade_footerLeft__uoY5A",footerRight:"upgrade_footerRight__5QJcp",trialDialog:"upgrade_trialDialog__p3K3t",iconSuccess:"upgrade_iconSuccess__FHYAp",trialDialogInfo:"upgrade_trialDialogInfo__mry5W",trialing:"upgrade_trialing__6-GAe",trialExpired:"upgrade_trialExpired__gkRxx",help:"upgrade_help__8lpMn",info:"upgrade_info__4L74p",paymentContent:"upgrade_paymentContent__QtpnI",paymentTypeTitle:"upgrade_paymentTypeTitle__dmeDI",seatsInfo:"upgrade_seatsInfo__4SuLh",titleMini:"upgrade_titleMini__OWIfk",mauMini:"upgrade_mauMini__Tq9hp",paymentType:"upgrade_paymentType__fIdfI",list:"upgrade_list__OsWPR",item:"upgrade_item__8M+oF",active:"upgrade_active__P-RcC",priceContainer:"upgrade_priceContainer__cEIhe",priceInfo:"upgrade_priceInfo__YxH1H",priceDesc:"upgrade_priceDesc__X6aNX",priceExtra:"upgrade_priceExtra__BtlBw",expireAt:"upgrade_expireAt__OOYwK",expireAtMini:"upgrade_expireAtMini__S0Bxb",expireDate:"upgrade_expireDate__neiyi",priceMore:"upgrade_priceMore__T5X0D",changePrice:"upgrade_changePrice__btDMd",seatsInfoRenewal:"upgrade_seatsInfoRenewal__tGpSO",seatsInfoRenewalText:"upgrade_seatsInfoRenewalText__OkQ9r",priceMoreMini:"upgrade_priceMoreMini__UNitG",symbol:"upgrade_symbol__-aMth",price:"upgrade_price__3G0Fd",originalPrice:"upgrade_originalPrice__k-y2Q",sliderContainer:"upgrade_sliderContainer__XWEVt",slider:"upgrade_slider__+3jbQ",sliderTitle:"upgrade_sliderTitle__TwrxW",sliderChange:"upgrade_sliderChange__QP+rU",quantity:"upgrade_quantity__N4kWI",payText:"upgrade_payText__L4Uka",payButton:"upgrade_payButton__00GhQ",coupon:"upgrade_coupon__a812w",suggestion:"upgrade_suggestion__9Gq5I",remaining:"upgrade_remaining__X+qE4",validity:"upgrade_validity__HpLvf",payButtonContainer:"upgrade_payButtonContainer__EZEaX",noRenewal:"upgrade_noRenewal__UU4Y3",infoTitle:"upgrade_infoTitle__Tm+O5",infoList:"upgrade_infoList__lV5U1",infoCol:"upgrade_infoCol__cPJqN",helpInfo:"upgrade_helpInfo__5ynIv",infoItem:"upgrade_infoItem__Cjz7e",renewalPriceInfo:"upgrade_renewalPriceInfo__i3fBA",finishing:"upgrade_finishing__dIHu8",page:"upgrade_page__EWUwR",userGroupIcon:"upgrade_userGroupIcon__tUrq1"},Se=e=>{var t,i;const{amount:a,isCreateOrder:l,quantity:r,minQuantity:d,coupon:c,isFeiShu:u=!0,members:p,operate:v,expireAt:f,isLoading:y,suggestQuantity:b,teamPlan:I,isFinishing:j,setQuantity:M,onClose:k,onCreateOrder:T}=e,E=(0,o.Z)(),P=(0,C.cr)(u),O="zh-CN"===E.locale?Ce.l5["zh-CN"]:Ce.l5["en-US"],_=u?"\uffe5":"USD",S=(0,n.useMemo)((()=>{switch(v){case"change":if(!r||!p)return;return r>50?0:r-p;case"upgrade":return b;case"renewal":return p}}),[v,p,b,r]),[N,L]=(0,n.useMemo)((()=>{switch(v){case"change":return[E.$t({id:"ZztMSR",defaultMessage:"Expand Your Team"}),E.$t({id:"a55g3g",defaultMessage:"Select the total number of seats your team needs. This includes both existing and new seats."})];case"upgrade":return[E.$t({id:"z7hdlP",defaultMessage:"Unlock Full Potential of Map for Dashboard"}),E.$t({id:"dGGv7q",defaultMessage:"Seats: Your team members who can view or edit the Map Widget. Members from external teams will not be counted."})];case"renewal":return[E.$t({id:"Xt5vDP",defaultMessage:"Renew Subscription"}),(0,g.jsxs)("div",{className:_e.seatsInfoRenewal,children:[(0,g.jsx)(m.Z,{type:"userGroup"})," ",(0,g.jsx)("span",{className:_e.seatsInfoRenewalText,children:S})]})]}}),[v,E,S]);return j?(0,g.jsx)(ke.Z,{spinning:j,className:_e.finishing}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("header",{className:_e.header,children:[(0,g.jsx)("div",{className:_e.dialogTitle,children:N}),k&&(0,g.jsx)(m.Z,{type:"close",className:_e.closeIcon,onClick:k})]}),(0,g.jsxs)(Te.Z,{align:"top",className:_e.paymentMethodWrapper,children:[(0,g.jsxs)(Ee.Z,{span:12,className:_e.paymentCol,children:[(0,g.jsx)("div",{className:_e.subTitle,children:"renewal"===v?E.$t({id:"5KEuE2",defaultMessage:"Seats in current billing cycle"}):E.$t({id:"XiYPGa",defaultMessage:"Select how many seats your team needs"})}),(0,g.jsx)("div",{className:_e.seatsInfo,children:L}),"renewal"!==v&&(0,g.jsxs)("div",{className:_e.slider,children:[(0,g.jsx)(m.Z,{type:"userGroup",className:_e.userGroupIcon}),(0,g.jsx)(Pe.Z,{value:r,min:d,max:9999,step:1,onChange:function(e){const t=null!==e&&void 0!==e?e:d;t<d||M(t)},controls:!0})]}),(0,g.jsxs)("div",{className:_e.suggestion,children:["upgrade"===v&&E.$t({id:"HNVN6y",defaultMessage:"Based on average usage, we suggest {seats} for your team. Your account will automatically get the seat activated."},{seats:(0,g.jsx)("strong",{children:E.$t({id:"kW+/4r",defaultMessage:"{seats} seats"},{seats:S})})}),"change"===v&&E.$t({id:"je69ED",defaultMessage:"Your team has {members} and you will add {seats} additionally. Your account will automatically get the seat activated."},{members:(0,g.jsx)("strong",{children:E.$t({id:"kW+/4r",defaultMessage:"{seats} seats"},{seats:p})}),seats:(0,g.jsx)("strong",{children:E.$t({id:"kW+/4r",defaultMessage:"{seats} seats"},{seats:S||E.$t({id:"gk3x/E",defaultMessage:"more"})})})}),"renewal"===v&&E.$t({id:"5wt61N",defaultMessage:"You will pay for {seats} in current billing cycle for you team. To increase or decrease the number of renewal seats, {contact}."},{seats:(0,g.jsx)("strong",{children:E.$t({id:"7Bl/t6",defaultMessage:"existing {seats} seats"},{seats:S})}),contact:(0,g.jsx)("a",{href:P,target:"_blank",rel:"noreferrer",children:E.$t({id:"oSSUIc",defaultMessage:"please contact us"})})})]}),(0,g.jsxs)("div",{className:_e.totalPrice,children:[r<=50?(0,g.jsxs)("div",{className:(0,ee.default)(_e.priceInfo,"renewal"===v&&_e.renewalPriceInfo),children:[(0,g.jsxs)("div",{className:_e.paymentTypeTitle,children:["renewal"===v?E.$t({id:"So9jyY",defaultMessage:"Total price for the next billing cycle"}):E.$t({id:"mah+Bl",defaultMessage:"Total Price"}),c&&"change"!==v&&(0,g.jsx)("span",{className:_e.coupon,children:null!==(t=null===(i=c.extra)||void 0===i||null===(i=i.locales)||void 0===i||null===(i=i[E.locale])||void 0===i?void 0:i.desc)&&void 0!==t?t:c.desc})]}),(0,g.jsxs)(ke.Z,{spinning:y,children:[(0,g.jsxs)("div",{className:_e.priceContainer,children:[(0,g.jsx)("div",{className:_e.symbol,children:_}),(0,g.jsx)("div",{className:_e.price,children:(0,h.qT)(a)}),(0,g.jsx)("div",{className:_e.validity,children:E.$t({id:"y45WMN",defaultMessage:"Valid: {start} - {end}"},{start:"renewal"===v&&null!==I&&void 0!==I&&I.expireAt?(0,h.p6)(null===I||void 0===I?void 0:I.expireAt):(0,h.p6)(s()().format()),end:f?(0,h.p6)(f):""})})]}),"change"===v&&(0,g.jsx)("div",{className:_e.remaining,children:E.$t({id:"J7rCh4",defaultMessage:"Pro-rated billing for remaining commitment period"})})]})]}):(0,g.jsx)("div",{className:(0,ee.default)(_e.priceMore,"change"===v&&_e.changePrice),children:E.$t({id:"VTgdAv",defaultMessage:"Need more than 50 seats, contact us for discount"})}),(0,g.jsxs)("div",{className:_e.payButtonContainer,children:[(0,g.jsxs)(w.ZP,{type:"primary",size:"large",className:_e.payButton,disabled:y,loading:l,onClick:function(){r<=50?T():window.open(P,"_blank")},children:[r<=50&&(u?(0,g.jsx)(ie.Z,{}):(0,g.jsx)(Oe.Z,{})),r>50?E.$t({id:"WnQ/AZ",defaultMessage:"Contact us"}):E.$t({id:"bTJWvP",defaultMessage:"Confirm and pay"})]}),(0,g.jsx)("div",{className:_e.noRenewal,children:E.$t({id:"KZh4Of",defaultMessage:"No auto-renewal after expiration"})})]})]})]}),(0,g.jsxs)(Ee.Z,{span:12,className:_e.infoCol,children:[(0,g.jsxs)("div",{className:_e.info,children:[(0,g.jsx)("div",{className:_e.infoTitle,children:E.$t({id:"BPZimA",defaultMessage:"Benefits include:"})}),(0,g.jsxs)("ul",{className:_e.infoList,children:[(0,g.jsxs)("li",{className:_e.infoItem,children:[(0,g.jsx)("strong",{children:E.$t({id:"FIRrly",defaultMessage:"Various Map Widgets"})}),(0,g.jsx)("div",{children:E.$t({id:"5q64OO",defaultMessage:"Standard map, heat map, and regional map built for diverse business needs."})})]}),(0,g.jsxs)("li",{className:_e.infoItem,children:[(0,g.jsx)("strong",{children:E.$t({id:"6z+IFe",defaultMessage:"Unlimited Widget Usage"})}),(0,g.jsx)("div",{children:E.$t({id:"mEctYU",defaultMessage:"Unlimited map widgets. Add as many as needed at no extra cost."})})]}),(0,g.jsxs)("li",{className:_e.infoItem,children:[(0,g.jsx)("strong",{children:E.$t({id:"kwOy+z",defaultMessage:"Pay as You Go"})}),(0,g.jsx)("div",{children:(0,g.jsx)(x.BQ,{text:(0,Me.Em)({id:"BShugB",defaultMessage:"Scale your seats as your team grows. Automatic allocation to <a>monthly active users</a> by default or flexible seat distribution."}),link:"dashboardActiveUsers",className:_e.link,isFeishuDashboard:u})})]})]})]}),(0,g.jsxs)("div",{className:_e.helpInfo,children:[u&&(0,g.jsx)("div",{children:(0,g.jsx)(x.BQ,{text:(0,Me.Em)({id:"TpFT43",defaultMessage:"VAT invoices available <a>upon request</a>"}),linkUrl:O,isFeishuDashboard:u})}),(0,g.jsx)("div",{children:E.$t({id:"VzOxJs",defaultMessage:"Need help? {fqa} or {contact}."},{fqa:(0,g.jsx)("a",{href:(0,x.t1)(E.locale,"dashboardPricing",u),target:"_blank",rel:"noreferrer",children:E.$t({id:"eMa7Hs",defaultMessage:"Check FAQs"})}),contact:(0,g.jsx)("a",{href:P,target:"_blank",rel:"noreferrer",children:E.$t({id:"WnQ/AZ",defaultMessage:"Contact us"})})})})]})]})]})]})};function Ne(e){const{isDialog:t,showUpgradeDialog:i,showPaymentResult:n=!1,teamPlan:o,operate:a,price:l,amount:r,expireAt:s,isLoading:d,isCreateOrder:c,quantity:u,minQuantity:p,isFeiShu:h,coupon:v,suggestQuantity:f,isFinishing:m,setQuantity:y,onCreateOrder:w,onClose:b}=e;return(0,g.jsx)(g.Fragment,{children:t?(0,g.jsx)(ye.Vq,{visible:i||!1,footer:null,title:null,closable:!1,width:720,destroyOnHidden:!0,children:(0,g.jsx)(Se,{members:null===o||void 0===o?void 0:o.members,teamPlan:o,operate:a,price:l,amount:r,expireAt:s,isLoading:d,isCreateOrder:c,quantity:u,minQuantity:p,isFeiShu:h,coupon:v,suggestQuantity:f,isFinishing:m,setQuantity:y,onClose:b,onCreateOrder:w})}):(0,g.jsx)(g.Fragment,{children:!n&&(0,g.jsx)(Se,{members:null===o||void 0===o?void 0:o.members,teamPlan:o,operate:a,price:l,amount:r,expireAt:s,isLoading:d,isCreateOrder:c,quantity:u,minQuantity:p,isFeiShu:h,coupon:v,suggestQuantity:f,isFinishing:m,setQuantity:y,onCreateOrder:w})})})}function Le(e){const{isFeiShu:t,orgId:a,upgradeType:l,planInfo:r,showUpgradeDialog:s,isDialog:d,service:c,onResultClose:u}=e,{teamPlan:p}=r,h=(0,o.Z)(),[v,f]=(0,n.useState)(3),[y,C]=(0,n.useState)(),[x,I]=(0,n.useState)(""),[j,M]=(0,n.useState)(!1),[k,T]=(0,n.useState)(!1),[E,P]=(0,n.useState)(!1),[O,_]=(0,n.useState)(!1),[S,N]=(0,n.useState)(!1),[L,D]=(0,n.useState)("upgrade"),[R,Z]=(0,n.useState)(!1),A=(0,J.I)(),F=t?"feishuDashboard":"larkDashboard",z="larkDashboard"===F?(0,n.lazy)((()=>Promise.all([i.e(490),i.e(847)]).then(i.bind(i,77847)))):null,B=t?"CNY":"USD",V=t?"wechat":"stripe",H="base"!==(null===p||void 0===p?void 0:p.plan)?"renewal"===l?"renewal":"change":"upgrade",W=(0,n.useMemo)((()=>{var e;const t="upgrade"===H?1:null!==(e=null===p||void 0===p?void 0:p.members)&&void 0!==e?e:1;return"change"===H?t<2?2:t+1:t}),[H,null===p||void 0===p?void 0:p.members]),{data:U,isLoading:q}=(0,b.ZP)(v<=50?["calculatePrice",B,H,F,v,a]:null,(()=>c.getPlanPrice(F,H,B,v,a))),[$,K,Y,Q]=(0,n.useMemo)((()=>{let e,t,i=0,n=0;var o;0===(null===U||void 0===U?void 0:U.code)&&null!==U&&void 0!==U&&U.detail&&(i=U.detail.price,n=U.detail.amount,e=U.detail.expireAt,t=null===(o=U.detail.coupons)||void 0===o?void 0:o.find((e=>"special_price"===e.type&&"product"===e.scope)));return[i,n,e,t]}),[U]),{data:X}=(0,b.ZP)(["getPlanStat"],(()=>c.stat(t?"feishuDashboard":"larkDashboard"))),ee=(0,n.useMemo)((()=>{const e=null===X||void 0===X?void 0:X.slice(0,3).map((e=>{var t;return(null===(t=e.userIDs)||void 0===t?void 0:t.length)||0})),t=null!==e&&void 0!==e&&e.length?Math.ceil(e.reduce(((e,t)=>e+t),0)/e.length):0;return Math.max(W,t)}),[X,W]);(0,n.useEffect)((()=>{ee>0&&f(ee)}),[ee]),(0,n.useEffect)((()=>{v<W&&f(W)}),[v,W]);const te=(0,n.useCallback)((e=>{c.getOrdersPlan(F).then((t=>{const{code:i,detail:n}=t;if(0===i&&n){const t=n.orders.find((t=>t.orderNo===e));"paid"===(null===t||void 0===t?void 0:t.paymentStatus)&&(A(fe.Nw.planChange(n)),A(G.Nw.setUpgradeDialogVisible(!1)),M(!1),T(!1),n.isTrial?_(!0):P(!0))}setTimeout((()=>Z(!1)))}))}),[c,F,A]),ie=(0,n.useCallback)((()=>{Z(!0)}),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ne,{isDialog:d,showUpgradeDialog:s,showPaymentResult:E,members:null===p||void 0===p?void 0:p.members,teamPlan:p,operate:H,price:$,amount:K,expireAt:Y,isLoading:q,isCreateOrder:S,quantity:v,minQuantity:W,isFeiShu:t,coupon:Q,suggestQuantity:ee,isFinishing:R,setQuantity:f,onClose:function(){A(G.Nw.setUpgradeDialogVisible(!1))},onCreateOrder:()=>{N(!0),D(H),c.createOrder(F,H,{currency:B,paymentMethod:V,quantity:v,thirdpartyOrgID:a}).then((e=>{if(0===(null===e||void 0===e?void 0:e.code)&&null!==e&&void 0!==e&&e.detail){const{order:i,payUrl:n}=e.detail;n&&(I(n),C(i),t?M(!0):T(!0))}})).finally((()=>{N(!1)}))}}),t?(0,g.jsx)(ye.Vq,{visible:j,footer:null,title:null,width:500,destroyOnHidden:!0,zIndex:2e3,onCancel:()=>{M(!1)},children:(0,g.jsx)(ge,{planService:c,payUrl:x,amount:(null===y||void 0===y?void 0:y.amount)||0,orderNo:null===y||void 0===y?void 0:y.orderNo,onFinish:ie,onPaySuccess:te})}):null,t?null:z&&(0,g.jsx)(ye.Vq,{visible:k,footer:null,title:null,width:500,destroyOnHidden:!0,zIndex:2e3,onCancel:()=>{T(!1)},children:(0,g.jsx)(n.Suspense,{fallback:null,children:(0,g.jsx)(z,{planService:c,clientSecret:x,order:y,onFinish:ie,onPaySuccess:te})})}),(0,g.jsx)(ye.Vq,{visible:O,footer:null,title:null,width:400,destroyOnHidden:!0,children:(0,g.jsxs)("div",{className:_e.trialDialog,children:[(0,g.jsx)(m.Z,{type:"checked",className:_e.iconSuccess}),(0,g.jsx)("div",{className:_e.trialDialogInfo,children:h.$t({id:"yLtQoy",defaultMessage:"You have successfully unlocked the free trial for Pro."})}),(0,g.jsx)(w.ZP,{type:"primary",onClick:()=>_(!1),children:h.$t({id:"rbrahO",defaultMessage:"Close"})})]})}),E&&(0,g.jsx)(je,{orderStatus:"completed",orderOperate:L,closeText:h.$t({id:"rbrahO",defaultMessage:"Close"}),visible:E,onClose:()=>{null===u||void 0===u||u(),P(!1)}})]})}function De(){const{isFeiShu:e}=(0,me.k)(),{orgId:t,planInfo:i}=(0,d.Z)((e=>e.user)),{showUpgradeDialog:n,upgradeType:o}=(0,d.Z)((e=>e.project));return(0,g.jsx)(Le,{service:I.Z,isFeiShu:e,orgId:t,upgradeType:o,planInfo:i,showUpgradeDialog:n,isDialog:!0})}var Re=i(41867),Ze=i(74922),Ae=i(543),Fe=i(38362);const ze="https://maptable.com/feishu/plan",Be=e=>{const t=(0,o.Z)(),{isFeiShu:i,layerType:a}=e,r=(0,J.I)(),{isFullScreen:c,isCreate:p,isConfig:h,isView:v}=(0,Ze.Z)(),{planInfo:m,orgId:y}=(0,d.Z)((e=>e.user)),w=(0,d.Z)((e=>e.project.currentOrgId)),[b,C]=(0,n.useState)(!1),x=i?"feishuDashboard":"larkDashboard",{isPro:j,isOverQuota:M,canTrial:k,trialTimes:T,isTrial:E,proExpirationAt:P,teamPlan:O}=m,_=!j&&(null===O||void 0===O?void 0:O.prevPlan)&&"base"!==O.prevPlan,S=y&&y===w,N=h||p,L=(S||y&&w&&N)&&(!j||M)&&k,D=l().session.get(u.pT),R=(0,n.useMemo)((()=>!(!j||M||E||!P)&&s()(P).isBefore(s()().add(30,"days"),"day")),[j,M,E,P]),A=(0,n.useMemo)((()=>{if(!P)return!0;if(!D)return!1;if(R!==D.isRenewal)return!1;const e=s()(P).diff(s()(),"day");let t=30;return e<=7?t=e:e<30&&(t=14),!(D.day>t)||e>t}),[D,R,P]),F=(0,n.useMemo)((()=>!(A&&!N)&&((S||N)&&(E&&j||R))),[S,N,E,A,j,R]),z=(S||N)&&(!j||!!M)&&(!N||T>0||_);async function B(){C(!0);try{var e;if("completed"!==(null===(e=(await I.Z.createOrder(x,"trial",{paymentMethod:"stripe"})).detail)||void 0===e||null===(e=e.order)||void 0===e?void 0:e.status))return;const{code:t,detail:i}=await I.Z.getOrdersPlan(x);if(0!==t)return;await r(fe.Nw.planChange(i))}finally{C(!1)}}function V(e,n,o){return L&&!o?(B(),!0):(0,Fe.tq)()?(e(t.$t({id:"+UNKHA",defaultMessage:"Please process the upgrade from your computer"})),!1):h||p||!(window.innerWidth<720||window.innerHeight<460)?(r(n?G.Nw.setUpgradeType("renewal"):G.Nw.setUpgradeDialogVisible(!0)),Re.Z.mpTrackClick("Plan",n?"Renewal":"Upgrade",t.locale,{}),!0):ze?(Ae.Z.getCode().then((e=>{window.open("".concat(ze,"?code=").concat(e,"&lang=").concat(t.locale).concat(n?"&type=renewal":"").concat(i?"":"&lark=1"),"_blank")})).catch((()=>{e(t.$t({id:"vggsfq",defaultMessage:"Please increase the size of the widget to continue the upgrade"}))})),!0):(e(t.$t({id:"vggsfq",defaultMessage:"Please increase the size of the widget to continue the upgrade"})),!1)}return(0,g.jsxs)(g.Fragment,{children:[F&&(0,g.jsx)(f,{planInfo:m,isView:v,isFullScreen:c,isRenewal:R,onUpgrade:V}),z&&(0,g.jsx)(Z,{planInfo:m,isFeiShu:i,loading:b,onUpgrade:V,onTrial:B}),"region"===a&&(0,g.jsx)(Q,{showBanner:F}),(0,g.jsx)(De,{})]})}},15804:(e,t,i)=>{"use strict";i.d(t,{Z:()=>jt});var n=i(57435),o=i(17778),a=i(55881),l=(i(95315),i(23764)),r=(i(87797),i(95131),i(40585),i(82845),i(6895),i(61924)),s=i(95620),d=i(59680),c=i(2550),u=i(82086),p=i(74720),h=i.n(p),v=i(34362),g=i.n(v),f=i(8942),m=i.n(f),y=i(53926),w=i.n(y),b=i(22411),C=i(4069),x=i(44669),I=i(30289),j=i(43905),M=i(67444),k=i(74922),T=i(68906),E=i(30768),P=i(30423),O=i(41791);var _=i(38882),S=i(468),N=i.n(S),L=i(27831),D=i.n(L),R=i(65301),Z=i.n(R),A=i(56765),F=i(85604),z=i(95094),B=i(38942);var V=i(75805),H=i(10276),W=i(84991),U=i(61343),q=i(50839),G=i(42015),$=i(91722),J=i(73187);const K=e=>{const t=JSON.stringify(e),i=J.ZP.gzip(t);let n="";for(let o=0;o<i.length;o+=8192){const e=i.slice(o,o+8192);n+=String.fromCharCode.apply(null,e)}return{compressed:!0,data:btoa(n)}},Y=e=>{if((!e||"object"===typeof e)&&!("compressed"in e))return e;try{const{compressed:t,data:i}=e;if(!t)return i;const n=atob(i),o=new Uint8Array(n.length);for(let e=0;e<n.length;e++)o[e]=n.charCodeAt(e);const a=J.ZP.ungzip(o,{to:"string"});return JSON.parse(a)}catch(t){return console.error("\u89e3\u538b\u6570\u636e\u5931\u8d25:",t),null}};var Q=i(36441);const X=(e,t)=>{var o;const a=(0,s.Z)(),l=(0,P.I)(),{isFeiShu:r}=(0,W.k)(),{currentProjectId:d}=(0,T.Z)((e=>e.project)),c=(0,T.Z)((e=>d?(0,V.M)(e,d):[])),u=(0,T.Z)((e=>e.project.drillDown)),p=(0,T.Z)((e=>e.project.isDashboardData)),[v,g]=(0,n.useMemo)((()=>{const e=null===c||void 0===c?void 0:c[0];return[e,null===e||void 0===e?void 0:e.mapInfo]}),[c]),f=(0,H.fg)(null===g||void 0===g?void 0:g.tableNodeID),[y,b]=(0,n.useState)(g),[C,x]=(0,n.useState)(f),[j,M]=(0,n.useState)(e),O=function(){const[e,t]=(0,n.useState)();return(0,n.useEffect)((()=>{e||new $.q(new URL(i.p+i.u(524),i.b)).createWorker().then(t)}),[e]),e}(),[_,S]=(0,n.useState)(),[L,R]=(0,n.useState)(!1),[J,X]=(0,n.useState)(!1),{isView:ee,isConfig:te,isCreate:ie}=(0,k.Z)(),[ne,oe]=(0,n.useState)(),[ae,le]=(0,n.useState)(),re=(0,n.useRef)(1),se=(0,n.useCallback)((e=>{const t=w().get(q.BH)||{};if(d)try{const i=K(e);w().set(q.BH,{...t,[d]:i})}catch{const i=N()(t,D()(Z()(t),5)),n=K(e);w().set(q.BH,{...i,[d]:n})}}),[d]);(0,n.useEffect)((()=>{if(O)return O.addEventListener("message",e),()=>{O.removeEventListener("message",e)};async function e(e){if(e.data.id===re.current)if("processing"===e.data.type)R(!0);else{X(!0),R(!1);const{data:t}=e.data,i={...v,...t.data};S(i),i.mapInfo.regionConfig.country&&!u&&se(i),oe(t.notMatchedItems),le(t.totalItems)}}}),[O,v,ee,u,se]),(0,n.useEffect)((()=>{if(te||ie)return;const e=w().get(q.BH)||{};if(!d)return;const t=e[d];if(!t||m()(t,_)||u)return;const i=Y(t);Y&&!m()(i,_)&&S(i)}),[_,d,te,ie,u]);const de=(0,n.useMemo)((()=>{var e,t,i,n,o,a;const l=!m()(null===g||void 0===g?void 0:g.tableNodeID,null===y||void 0===y?void 0:y.tableNodeID),r=!m()(null===g||void 0===g?void 0:g.regionDimensionFieldID,null===y||void 0===y?void 0:y.regionDimensionFieldID),s=!m()(null===g||void 0===g?void 0:g.regionIndexStatsFieldID,null===y||void 0===y?void 0:y.regionIndexStatsFieldID),d=!m()(null===g||void 0===g?void 0:g.specifyByFieldID,null===y||void 0===y?void 0:y.specifyByFieldID),c=!m()(null===g||void 0===g||null===(e=g.regionConfig)||void 0===e?void 0:e.aggregateBy,null===y||void 0===y||null===(t=y.regionConfig)||void 0===t?void 0:t.aggregateBy),u=!m()(null===g||void 0===g||null===(i=g.regionConfig)||void 0===i?void 0:i.regionId,null===y||void 0===y||null===(n=y.regionConfig)||void 0===n?void 0:n.regionId),p=!m()(null===g||void 0===g||null===(o=g.regionConfig)||void 0===o?void 0:o.indexStatsMethod,null===y||void 0===y||null===(a=y.regionConfig)||void 0===a?void 0:a.indexStatsMethod);return l||r||s||d||c||u||p}),[g,y]),ce=(0,n.useMemo)((()=>{var e,i;if("region"===(null===g||void 0===g||null===(e=g.regionConfig)||void 0===e?void 0:e.dimension)&&(null===g||void 0===g||!g.regionDimensionFieldID))return!1;if(de)return!1;if(p)return!1;if(t)return!1;if(null===f||void 0===f||!f.rowsCount)return!1;if(f.rowsCount>5e3)return!0;if(null===f||void 0===f||null===(i=f.columns)||void 0===i||!i.length)return!1;const n=f.columns.filter((e=>"lookup"===e.type)).length;return n>3||f.columns.filter((e=>"formula"===e.type)).length>6-n}),[p,de,null===f||void 0===f?void 0:f.rowsCount,null===f||void 0===f?void 0:f.columns,t,null===g||void 0===g||null===(o=g.regionConfig)||void 0===o?void 0:o.dimension,null===g||void 0===g?void 0:g.regionDimensionFieldID]),ue=(0,n.useMemo)((()=>{var i,n,o,a;return!(!de||p&&t)||(!(!p||t||m()(e,j))||!p&&(!m()(null===f||void 0===f?void 0:f.id,null===C||void 0===C?void 0:C.id)||!m()(null===f||void 0===f||null===(i=f.rows)||void 0===i?void 0:i.length,null===C||void 0===C||null===(n=C.rows)||void 0===n?void 0:n.length)||!m()(null===f||void 0===f||null===(o=f.columns)||void 0===o?void 0:o.length,null===C||void 0===C||null===(a=C.columns)||void 0===a?void 0:a.length)))}),[de,f,C,p,e,j,t]),{isLoading:pe,isValidating:he}=(0,I.ZP)(v&&g&&(!p&&null!==f&&void 0!==f&&f.rows||p&&!t&&e)&&null!==f&&void 0!==f&&f.columns&&ue?["region/getLayer",g,f,p?e:void 0,a.locale]:null,(async e=>{var t;let[i,n,o,a,l]=e;const{regionConfig:s}=n,{aggregateBy:d,country:c}=s||{},u="admin0"===d,p=r?"world/cas":"world/wb",h=await(0,U.gd)(n),v=u?await(0,G.RG)(p):await(0,G.RG)(c),g=null===(t=Object.values(v))||void 0===t?void 0:t.flat(2);b(n),x(o),M(a),re.current+=1,null===O||void 0===O||O.postMessage({id:re.current,locale:l,mapInfo:n,tableNode:o,dashboardData:a,regionGeojson:h,allIndexOptions:u?g:v})})),ve=function(e,t){return i=>{var n;const o=null!==(n=null===t||void 0===t?void 0:t.extensions)&&void 0!==n?n:[];return{...[F.R,B.I,z.X,...o].reduce(((t,n)=>(Object.assign(t,n(e,i,t)),t)),{}),config:e}}}((0,n.useMemo)((()=>{var e,t,i,n,o,a,l,r,s,d,c,u,p,h,v,f,y,w,b,C,x,I,j,M,k,T,E,P,O,_,S,L,D;const R=m()(N()(null===g||void 0===g?void 0:g.outlineConfig,"colorScheme"),{align:"center",colors:["#0065ff"],reverse:!1,strokeMethod:"quantile",strokeOpacity:0,strokeWeight:0,thresholds:[]});return{fieldConfig:{labelID:null===g||void 0===g?void 0:g.labelFieldID,regionDimensionID:null===g||void 0===g?void 0:g.regionDimensionFieldID,regionIndexStatsID:null===g||void 0===g?void 0:g.regionIndexStatsFieldID,specifyByFieldID:null===g||void 0===g?void 0:g.specifyByFieldID},labelConfig:{direction:(null===g||void 0===g||null===(e=g.labelConfig)||void 0===e?void 0:e.direction)||"bottom,middle",fontColor:(null===g||void 0===g||null===(t=g.labelConfig)||void 0===t?void 0:t.fillColor)||"#091E42",fontSize:(null===g||void 0===g||null===(i=g.labelConfig)||void 0===i?void 0:i.fontSize)||13,strokeWeight:null!==(n=null===g||void 0===g||null===(o=g.labelConfig)||void 0===o?void 0:o.strokeWeight)&&void 0!==n?n:0,strokeColor:null!==(a=null===g||void 0===g||null===(l=g.labelConfig)||void 0===l?void 0:l.strokeColor)&&void 0!==a?a:"#000",backgroundColor:null!==(r=null===g||void 0===g||null===(s=g.labelConfig)||void 0===s?void 0:s.backgroundColor)&&void 0!==r?r:"#fff",backgroundOpacity:null!==(d=null===g||void 0===g||null===(c=g.labelConfig)||void 0===c?void 0:c.backgroundOpacity)&&void 0!==d?d:0,collisionEnabled:!(null!==(u=null===g||void 0===g||null===(p=g.labelConfig)||void 0===p?void 0:p.collisionDisabled)&&void 0!==u&&u)},regionConfig:{country:null!==(h=null===g||void 0===g||null===(v=g.regionConfig)||void 0===v?void 0:v.country)&&void 0!==h?h:"china",level:null!==(f=null===g||void 0===g||null===(y=g.regionConfig)||void 0===y?void 0:y.level)&&void 0!==f?f:"admin1",regionId:null===g||void 0===g||null===(w=g.regionConfig)||void 0===w?void 0:w.regionId,dimension:null!==(b=null===g||void 0===g||null===(C=g.regionConfig)||void 0===C?void 0:C.dimension)&&void 0!==b?b:"region",indexStatsMethod:null!==(x=null===g||void 0===g||null===(I=g.regionConfig)||void 0===I?void 0:I.indexStatsMethod)&&void 0!==x?x:"sum",aggregateBy:"admin1",colors:null!==(j=null===g||void 0===g||null===(M=g.regionConfig)||void 0===M?void 0:M.colors)&&void 0!==j?j:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801"],labelVisible:null===(k=null===g||void 0===g||null===(T=g.regionConfig)||void 0===T?void 0:T.labelVisible)||void 0===k||k,labelTypes:(null===g||void 0===g||null===(E=g.regionConfig)||void 0===E?void 0:E.labelTypes)||["name","value"],fillMethod:(null===g||void 0===g||null===(P=g.regionConfig)||void 0===P?void 0:P.fillMethod)||"quantize",thresholds:null===g||void 0===g||null===(O=g.regionConfig)||void 0===O?void 0:O.thresholds},outlineConfig:R?{colors:["#c5c5c5"],strokeWeight:1}:{colors:null!==(_=null===g||void 0===g||null===(S=g.outlineConfig)||void 0===S?void 0:S.colors)&&void 0!==_?_:["#c5c5c5"],strokeWeight:null!==(L=null===g||void 0===g||null===(D=g.outlineConfig)||void 0===D?void 0:D.strokeWeight)&&void 0!==L?L:1}}}),[g])),ge=(0,n.useCallback)((e=>{var t;if(!d)return;const{object:i,layer:n}=e;if(!(0,U.k7)(e))return;const o=h()(i,"properties.level"),a=h()(n,"props.data.mapInfo.regionConfig.country"),r=h()(i,"properties.iso"),s=h()(i,"properties.id"),c=(0,G.OE)(o),u="ADM0"===o?(0,G.Pd)(r):a;if("ADM0"===o&&!u)return;const p={...v,mapInfo:{...null===v||void 0===v?void 0:v.mapInfo,regionConfig:{...null===v||void 0===v||null===(t=v.mapInfo)||void 0===t?void 0:t.regionConfig,regionId:s,aggregateBy:c,level:c,country:u}}};l(E.Nw.updateLayerNodeForProject({projectId:d,layerNode:p})),l(E.Nw.setDrillDownState({level:c,regionId:s}))}),[d,v,l]);return{layer:(0,n.useMemo)((()=>new A.cD({id:null===_||void 0===_?void 0:_.id,data:_,configManager:ve,pickable:!0,autoHighlight:!0,onClick:ge})),[_,ve,ge]),layerData:(0,n.useMemo)((()=>{var e;const t=null===_||void 0===_||null===(e=_.features)||void 0===e?void 0:e.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.id)!==Q.q}));return{..._,features:t}}),[_]),isProcessing:(0,n.useMemo)((()=>L||pe||he||t),[L,pe,he,t]),isInit:J,notMatchedItems:ne,totalItems:ae,hasPerformanceIssue:ce}};var ee=i(42063),te=i(9275),ie=i(43498),ne=i(49210);const oe={color:"#505f79",background:"#ffffff",padding:"6px","margin-top":"-60px","margin-left":"16px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.2)","border-radius":"4px","min-width":"60px","max-width":"300px","word-break":"break-all","font-size":"12px"};var ae=i(22787),le=i(44387),re=i(47046),se=i(33766);const de=["attachment","lookup"];var ce=i(92940),ue=i(59436),pe=i(45818),he=i(79129),ve=i(41002),ge=i(94553);const fe=function(e){let{isFeiShu:t,isView:i,isFullScreen:o,show:a}=e;const l=(0,n.useMemo)((()=>!(!i&&!o)&&w().get(q.uf)),[i,o]),[r,s]=(0,n.useState)(a&&!l);return(0,n.useEffect)((()=>{l||s(a)}),[a,l]),r?(0,ge.jsx)(ve.Z,{message:(0,ge.jsx)(pe.BQ,{text:(0,he.Em)({id:"MexTwJ",defaultMessage:"The current configuration might lead to slow loading or performance issues. Refer to the <a>help doc</a> for optimization."}),link:"regionPerformance",isFeishuDashboard:t}),warning:!0,closable:!0,onClose:()=>{(i||o)&&w().set(q.uf,!0),s(!1)},isView:i,isFullScreen:o}):null};var me=i(82394),ye=i(39342),we=i(65557),be=i(69361),Ce=i(62502),xe=i(38362),Ie=i(71105),je=i(15905),Me=i(7070),ke=i.n(Me),Te=i(55349),Ee=i.n(Te),Pe=i(48828),Oe=i(86183),_e=i(48744),Se=i(46131),Ne=i(9296),Le=i(68429),De=i(44839);const Re="legendControl_legendControl__yV44W",Ze="legendControl_iconLegend__PHwRI",Ae="legendControl_regionMapLegend__-S+2Q",Fe="legendControl_indexStatsName__RyNJR",ze="legendControl_legendList__yZhJq",Be="legendControl_legendItem__mqPEH",Ve="legendControl_name__X66JX",He="legendControl_color__Zsgcj",We=e=>{var t,i;let{name:o,active:a,layerData:l}=e;const d=(0,s.Z)(),[c,u]=(0,n.useState)(a),p=(0,T.Z)((e=>(0,ie.H8)(e))),{currentProjectId:v}=(0,T.Z)((e=>e.project)),g=(0,T.Z)((e=>v?(0,De.M)(e,v):[])),f=null===g||void 0===g?void 0:g[0],m=null===f||void 0===f?void 0:f.mapInfo,y=(0,n.useMemo)((()=>{var e;return m?null===m||void 0===m||null===(e=m.regionConfig)||void 0===e?void 0:e.colors:[]}),[m]),{getDomain:w}=(0,Ne.l)(null===l||void 0===l?void 0:l.features),b=(null===m||void 0===m||null===(t=m.regionConfig)||void 0===t?void 0:t.fillMethod)||"quantize",C=null===m||void 0===m||null===(i=m.regionConfig)||void 0===i?void 0:i.thresholds,x=(0,n.useMemo)((()=>{var e;const t=h()(m,"tableNodeID"),i=p.find((e=>e.id===t)),n=null===i||void 0===i?void 0:i.columns,o=h()(m,"regionIndexStatsFieldID");return(null===n||void 0===n||null===(e=n.find((e=>e.id===o)))||void 0===e?void 0:e.name)||d.$t({id:"dashboard.regionMap.count"})}),[m,p,d]);const I=(0,n.useMemo)((()=>{if(!y||null===y||void 0===y||!y.length||!l||null===l||void 0===l||!l.features)return[];const e=w(b)||[];let t=null;if("quantize"===b&&(t=(0,Pe.Z)().domain(e).range(y)),"quantile"===b&&(t=(0,Oe.Z)().domain(e).range(y)),"customize"===b&&null!==C&&void 0!==C&&C.length)return t=(0,_e.Z)().domain((0,Se.VM)(C)).range(y),function(e,t,i){const n=[],o=[];for(let a=0;a<t.length-1;a++)o.push([t[a],t[a+1]]);return n.push(...ke()(i,((t,n)=>{var a,l;const r=null===(a=o[n])||void 0===a?void 0:a[0],s=null===(l=o[n])||void 0===l?void 0:l[1];return{color:t,values:[r,s],name:Ee()(r)||Ee()(s)?"":"".concat(0===n?e.$t({id:"mFYgAX",defaultMessage:"Less"}):(0,ne.IG)(r),"-").concat(n===i.length-1?e.$t({id:"I5NMJ8",defaultMessage:"More"}):(0,ne.IG)(s))}}))),n}(d,C,y);return ke()(y,(e=>{var i;const n=null===(i=t)||void 0===i?void 0:i.invertExtent(e);return{color:e,values:n,name:Ee()(null===n||void 0===n?void 0:n[0])||Ee()(null===n||void 0===n?void 0:n[1])?"":"".concat((0,ne.IG)(n[0]),"-").concat((0,ne.IG)(n[1]))}}))}),[l,y,w,b,C,d]);return(0,ge.jsx)(r.br,{name:o,onClick:()=>{u(!c)},active:c,icon:(0,ge.jsx)(Le.Z,{type:"layer",className:Ze}),title:d.$t({id:"iZuO+L",defaultMessage:"Legend"}),className:Re,children:(0,ge.jsxs)("div",{className:Ae,children:[(0,ge.jsx)("div",{className:Fe,children:x}),(0,ge.jsx)(Ie.Z,{justify:"space-between",gutter:[0,4],className:ze,children:I.map((e=>(0,ge.jsxs)(je.Z,{className:Be,children:[(0,ge.jsx)("div",{className:He,style:{backgroundColor:e.color}}),(0,ge.jsx)("div",{className:Ve,children:e.name})]},e.color)))})]})})};var Ue=i(50239),qe=i(52643),Ge=i(47752),$e=i(25354),Je=i(73656),Ke=i(51180),Ye=i(23903),Qe=i.n(Ye),Xe=i(78587),et=i.n(Xe),tt=i(38981),it=i.n(tt),nt=i(31562),ot=i(67513),at=i(96271),lt=i(91671),rt=i(88716),st=i.n(rt);const dt={container:"like-grid_container__moA82",icon:"like-grid_icon__kVVrz",marginLeft:"like-grid_marginLeft__izb3H",marginRight:"like-grid_marginRight__ouxn7",tag:"like-grid_tag__bZhzn",renderer:"like-grid_renderer__ayBzC",resizeHandle:"like-grid_resizeHandle__3-rEl"};function ct(e){const t=(0,s.Z)(),{rows:i,columns:o,onColumnResize:a,onEditClick:l,columnsWidth:r,members:d,...c}=e,[u,p]=(0,n.useState)(r),[v,f]=(0,n.useState)(i.length),[m,y]=(0,n.useState)(i),w=(0,n.useCallback)((e=>(0,ge.jsxs)("div",{className:dt.container,children:[(0,ge.jsx)(Le.Z,{type:e.type,className:dt.icon}),(0,ge.jsx)("span",{className:dt.marginLeft,children:e.name}),e.isPrimary&&(0,ge.jsx)(nt.Z,{className:dt.marginLeft})]})),[]),b=(0,n.useCallback)(((e,t)=>{let i=[];if(e)if(et()(e))i=e.flatMap((e=>{const i=Qe()(null===t||void 0===t?void 0:t.choices,(t=>t.id===e));return i?[i]:[]}));else{const n=Qe()(null===t||void 0===t?void 0:t.choices,(t=>t.id===e));i=n?[n]:[]}return(0,ge.jsx)("div",{className:dt.renderer,children:i.filter((e=>void 0!==e.name)).map(((e,t)=>{var i;let n=null!==e&&void 0!==e&&e.color?at.R$[e.color]:void 0,o=g()(Object.keys(at.Cq),null===e||void 0===e?void 0:e.color)?"#fff":void 0;var a;null!==e&&void 0!==e&&null!==(i=e.color)&&void 0!==i&&i.bgColor&&(n=(null===e||void 0===e||null===(a=e.color)||void 0===a?void 0:a.bgColor)||n,o=e.color||o);return(0,ge.jsx)("span",{className:dt.tag,style:{backgroundColor:n,color:o},children:e.name},t)}))})}),[]),C=(0,n.useCallback)((e=>Array.isArray(e)&&d?(0,ge.jsx)("div",{className:dt.container,children:ke()(e,(e=>{const t=Qe()(d,(t=>t.id===e));return(0,ge.jsxs)("div",{className:dt.marginRight,children:[(0,ge.jsx)(ot.Z,{}),t&&(0,ge.jsx)("span",{className:dt.marginLeft,children:t.name})]},e)}))}):(0,ge.jsxs)("div",{className:dt.container,children:[e&&"avatar"in e&&(e.avatar?(0,ge.jsx)("img",{src:e.avatar,alt:""}):(0,ge.jsx)(ot.Z,{})),e&&"name"in e&&(0,ge.jsx)("span",{className:dt.marginLeft,children:e.name})]})),[d]),x=(0,n.useCallback)((e=>(0,ge.jsx)("div",{className:dt.container,children:ke()(e,((e,t)=>(0,ge.jsx)("span",{className:dt.marginRight,children:e.fileName},t)))})),[]),I=(0,n.useCallback)(((e,t)=>{const i=e["".concat(t.id,"-fullAddress")]||e[t.id];return Ee()(i)?(0,ge.jsx)("span",{}):(0,ge.jsx)("span",{children:it()(i)})}),[]),j=(0,n.useCallback)(((e,t)=>{var i;return(0,ge.jsx)("span",{children:(0,lt.P)(e,null===t||void 0===t?void 0:t.precision,null===t||void 0===t?void 0:t.format,null!==(i=h()(t,"currency"))&&void 0!==i?i:"currency"===(null===t||void 0===t?void 0:t.format)?t.numberPrefix:void 0,h()(t,"kmb"))})}),[]),M=(0,n.useCallback)((e=>(t,i)=>{let{size:n}=i;const o=Number.parseInt(n.width.toFixed());p((t=>({...t,[e]:o}))),null===a||void 0===a||a(e,o)}),[a]);(0,n.useEffect)((()=>{st()(r)||p(r)}),[r]);const k=(0,n.useMemo)((()=>{const e=ke()(o,((e,t)=>({title:w(e),key:e.id,width:h()(u,e.id,"index"===e.id?50:200),ellipsis:!0,fixed:e.isPrimary?"left":void 0,onHeaderCell:i=>({width:i.width,onResize:M(e.id),disableResizing:t===o.length-1}),render:t=>{const i=t[e.id];if(Ee()(i))return(0,ge.jsx)("span",{});const n=e.typeOptions;switch(e.type){case"datetime":case"createTime":case"updateTime":return(0,ge.jsx)("span",{children:(0,ne.U)(i,n)});case"number":return j(i,n);case"hyperlink":return(0,ge.jsx)("span",{children:(0,ge.jsx)("a",{href:(0,ne.f7)(i),target:"_blank",rel:"noreferrer",children:i})});case"singleChoice":case"multiChoice":return b(i,n);case"boolean":return(0,ge.jsx)($e.Z,{checked:i});case"creator":case"updater":case"member":return C(i);case"attachment":return x(i);case"coordinate":return I(t,e);case"formula":switch(null===n||void 0===n?void 0:n.expectedType){case"number":return j(i,n);case"datetime":return(0,ge.jsx)("span",{children:(0,ne.U)(i,n)});case"boolean":return(0,ge.jsx)($e.Z,{checked:i});case"coordinate":return I(t,e);default:return(0,ge.jsx)("span",{children:it()(i)})}default:return(0,ge.jsx)("span",{children:it()(i)})}}})));return l&&e.push({title:t.$t({id:"QlsDcr",defaultMessage:"Action"}),key:"action",width:50,render:(e,t)=>(0,ge.jsx)(Le.Z,{type:"edit",onClick:()=>l(t.recordId)})}),e}),[t,o,w,u,M,b,C,x,I,j,l]);return(0,n.useEffect)((()=>{y([...i]),f(i.length)}),[i,i.length]),(0,ge.jsx)("div",{className:dt.container,children:(0,ge.jsx)(Je.default,{bordered:!0,components:{header:{cell:ut}},columns:k,rowKey:"index",dataSource:m,"data-row-length":v,size:"small",className:dt.table,...c})})}function ut(e){const{onResize:t,width:i,id:n,disableResizing:o,...a}=e;return!i||o?(0,ge.jsx)("th",{...a}):(0,ge.jsx)(Ke.Resizable,{width:i,height:0,handle:(0,ge.jsx)("span",{className:dt.resizeHandle,onClick:e=>{e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:(0,ge.jsx)("th",{...a})},n)}var pt=i(98194);const ht="dataDetailList_dataDetailDrawer__TKY2b",vt="dataDetailList_closeIcon__ilahN",gt="dataDetailList_questionIcon__C9Wwp",ft="dataDetailList_empty__qAtKV",mt="dataDetailList_content__s5ikw",yt="dataDetailList_title__c-QPB",wt=()=>{const e=(0,s.Z)();return(0,ge.jsxs)(Ue.Z,{vertical:!0,align:"center",justify:"center",gap:20,className:ft,children:[(0,ge.jsx)(pt.q,{size:40}),(0,ge.jsx)("div",{className:mt,children:(0,ge.jsx)("p",{className:yt,children:e.$t({id:"M6T3HM",defaultMessage:"No available data in this area"})})})]})},bt=e=>{let{tableId:t,regionName:i,rows:o,columns:l,open:r,isLoading:c,isBackgroundLoading:u=!1,columnsWidth:p,onClose:h,onColumnResize:v}=e;const g=(0,s.Z)(),f=(0,T.Z)((e=>e.project.members)),m=(0,n.useMemo)((()=>0===o.length?150:o.length<=6?42*o.length+20:"calc(80vh - 90px)"),[o.length]),y=(0,n.useMemo)((()=>"calc(80vh - 90px)"===m?"80%":"calc(".concat(m,"px + 110px)")),[m]),w=(0,n.useCallback)((e=>{e&&t&&a.ui.showRecordDetailDialog({tableId:t,recordId:e})}),[t]),b=(0,n.useMemo)((()=>(0,ge.jsx)(d.Z,{spinning:u&&c,children:g.$t({id:"OdxYL3",defaultMessage:"Data records in {regionName}({count})"},{regionName:i,count:o.length})})),[g,i,o.length,u,c]);return(0,ge.jsx)(qe.Z,{title:b,open:r,placement:"bottom",height:y,className:ht,closable:!1,mask:!1,onClose:h,closeIcon:null,extra:(0,ge.jsxs)(Ue.Z,{gap:16,children:[(0,ge.jsx)("div",{className:gt,children:(0,ge.jsx)(Ge.Z,{title:g.$t({id:"4575En",defaultMessage:"Only specific types of fields are currently supported for display, including Text, Numeric, Single-choice, and Date fields, etc."}),children:(0,ge.jsx)(Le.Z,{type:"question"})})}),(0,ge.jsx)("div",{className:vt,onClick:h,children:(0,ge.jsx)(Le.Z,{type:"close",onClick:h})})]}),children:(0,ge.jsx)(ct,{rows:o,columns:l,pagination:!1,sticky:!0,loading:!u&&c,scroll:{y:m},locale:{emptyText:(0,ge.jsx)(wt,{})},members:f,columnsWidth:p,onEditClick:t?w:void 0,onColumnResize:v})})},Ct={usa:[-133.31477454012173,3.421908144902029,-61.61954859310157,63.8106535425061],world:[-195.33746914701615,-77.8497877684007,207.2985820155064,89.58230983278725],china:[71.32193956098324,17.577720971410344,139.3712559672332,53.6568439981892],italy:[2.4617296336591528,32.89961133200302,22.281454581523597,49.429525484658605],philippines:[112.0292638841561,1.4433124324800615,130.78040981357807,21.85229495131369]},xt={world:-.7,usa:.9,china:.1,italy:.8,philippines:.7},It=(0,n.forwardRef)(((e,t)=>{var i,p,v,f;let{isLoading:y,project:S,hasLocationTableId:N}=e;const L=(0,s.Z)(),D=(0,P.I)(),{isFeiShu:R}=(0,W.k)(),{baseMapStyle:Z,theme:A,chartBgColor:F}=(0,b.F)(),{isFullScreen:z,isCreate:B,isConfig:$,isView:J}=(0,k.Z)(),{open:K,close:Y,visible:Q}=(0,me.bZ)(!1),[pe,he]=(0,n.useState)(null),ve=(0,T.Z)((e=>e.project.drillDown)),Ie=(0,T.Z)((e=>(0,V.M)(e,S.id))),je=(0,n.useMemo)((()=>null===Ie||void 0===Ie?void 0:Ie[0]),[Ie]),{data:Me,condition:ke,isLoading:Te,onDataChange:Ee}=function(e){const t=(0,P.I)(),{isCreate:i,isConfig:o}=(0,k.Z)(),[l,r]=(0,n.useState)(),s=(0,n.useMemo)((()=>o||i),[o,i]),{isDashboardData:d,configConditionVersion:c}=(0,T.Z)((e=>e.project)),[u,p]=(0,n.useState)(),[h,v]=(0,n.useState)(),g=(0,j.Z)(u),f=(0,j.Z)(h),{data:y,isLoading:w,isValidating:b}=(0,I.ZP)(d&&l?["region/dashboardData",l,u,s,c]:null,(async e=>{let[,,t,i,n]=e;if(!t)return{};try{var o,l;const e=i||n!==O.T?await a.dashboard.getPreviewData(t.condition):await a.dashboard.getData();return"normal"===t.type?null!==(o=(0,M.Jl)(e))&&void 0!==o?o:{}:null!==(l=await(0,M.Eg)(e,t.condition))&&void 0!==l?l:{}}catch{return{}}})),C=(0,n.useCallback)((()=>{d&&!s&&r(Date.now())}),[s,d]);return(0,n.useEffect)((()=>{e&&e.tableNodeID&&e.viewID?(0,M.ec)(e).then((e=>{p(e),t(E.Nw.setIsDashboardData(!!e))})):p(void 0)}),[e,t]),(0,n.useEffect)((()=>{d&&(m()(u,g)||r(Date.now()))}),[u,g,d]),(0,n.useEffect)((()=>{if(!d||s)return;const e=a.dashboard.onDataChange((async e=>{r(Date.now())}));return()=>{e()}}),[s,d]),(0,n.useEffect)((()=>{w||b||m()(y,f)||v(y)}),[y,f,w,b]),{data:h,condition:null===u||void 0===u?void 0:u.condition,isLoading:w||b,onDataChange:C}}(null===je||void 0===je?void 0:je.mapInfo);(0,_.c)((null===S||void 0===S?void 0:S.id)||null),(0,C.w)("region",N,S.id,A),(0,x.w)(S.id),(0,ee.S)(!y&&!Te,S.id),(0,te.W)(S.id,void 0,Ee),(0,H.xJ)();const{layer:Pe,layerData:Oe,isProcessing:_e,isInit:Se,notMatchedItems:Ne,totalItems:Le,hasPerformanceIssue:De}=X(Me,Te),[Re,Ze]=(0,n.useMemo)((()=>{var e;const t=null===je||void 0===je||null===(e=je.mapInfo)||void 0===e?void 0:e.tableNodeID;return[t||"",t]}),[null===je||void 0===je||null===(i=je.mapInfo)||void 0===i?void 0:i.tableNodeID]),{rows:Ae,columns:Fe,columnsWidth:ze,regionName:Be,isLoading:Ve,onColumnResize:He,onOpenDataDetailList:Ue,onCloseDetail:qe}=((e,t,i,o)=>{const a=(0,s.Z)(),l=(0,T.Z)((e=>(0,ie.H8)(e))),[r,d]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[p,h]=(0,n.useState)(""),[v,g]=(0,n.useState)(!1),[f,m]=(0,n.useState)({}),y=(0,n.useRef)(0),{isView:b,isFullScreen:C,isCreate:x}=(0,k.Z)(),I=(0,n.useCallback)((()=>{y.current+=1}),[]),j=(0,n.useCallback)((async()=>{if(x)return;const e=await(0,M.pG)();m(e)}),[x]);(0,le.Z)((()=>{j()}));const E=(0,n.useCallback)((async n=>{var r,s;const c=y.current+1;y.current=c,g(!0),u([]),e();const p=null===(r=n.properties)||void 0===r?void 0:r.rowIds,v=i===se.Jd?null:i;if(!p){var f,m,w;g(!1),u([]),d([]);const e="zh-CN"===a.locale?(null===(f=n.properties)||void 0===f?void 0:f.display_name)||(null===(m=n.properties)||void 0===m?void 0:m.name_zh):null===(w=n.properties)||void 0===w?void 0:w.name_en;return void h(e)}h((null===(s=n.properties)||void 0===s?void 0:s.name)||"");const b=l.find((e=>e.id===t));if(!b||!b.rows&&!o||!b.columns)return void g(!1);const C=await(0,re.LZ)(b.id.toString(),v),x=[{id:"index",isPrimary:!0}];if(C.forEach((e=>{const t=b.columns.find((t=>t.id===e));t&&!de.includes(t.type)&&x.push({...t,isPrimary:!1})})),d(x),await j(),o){const e=await(0,M.c0)(o,p,String(t),v,u,(()=>y.current!==c));y.current===c&&u(e)}else{const e=p.map(((e,t)=>{const i=b.rows.find((t=>t.id===e));return i?{recordId:i.id,index:t+1,...i.cells}:null})).filter(Boolean);y.current===c&&u(e)}g(!1)}),[e,l,a,t,i,o,j]),P=(0,n.useCallback)(((e,t)=>{b||C||w().session.set(q.KN,{...f,[e]:t})}),[b,C,f]);return{columns:r,columnsWidth:f,rows:c,regionName:p,isLoading:v,onOpenDataDetailList:E,onCloseDetail:I,onColumnResize:P}})(K,Ze,null===Oe||void 0===Oe||null===(p=Oe.mapInfo)||void 0===p?void 0:p.viewID,ke);(e=>{let{map:t,layerData:i,viewPort:o,isLoading:a,onOpenDataDetailList:l}=e;const r=(0,s.Z)(),d=(0,n.useCallback)((e=>({items:[{item:r.$t({id:"MnpUD7",defaultMessage:"View details"}),click:()=>{l(e)}}]})),[r,l]),c=(0,n.useCallback)((e=>{if(!i||!o||a)return;const n=o.unproject([e.containerPoint.x,e.containerPoint.y]);if(!n)return;const l=null===i||void 0===i?void 0:i.features.find((e=>("Polygon"===e.geometry.type||"MultiPolygon"===e.geometry.type)&&(0,ae.Z)(n,e.geometry)));if(!l)return void(null===t||void 0===t||t.removeMenu());const r=d(l);null===t||void 0===t||t.setMenu(r).openMenu(e.coordinate)}),[i,o,d,t,a]);(0,n.useEffect)((()=>(t&&t.on("contextmenu",c),()=>{null===t||void 0===t||t.off("contextmenu",c)})),[t,c])})({map:null===pe||void 0===pe?void 0:pe.mapTalksMap,layerData:Oe,viewPort:null===pe||void 0===pe||null===(v=pe.deckLayer)||void 0===v?void 0:v.getViewport(),isLoading:y||Te,onOpenDataDetailList:Ue});const{getTooltip:Ge}=(e=>{const t=(0,s.Z)(),i=(0,T.Z)((e=>(0,ie.H8)(e)));return{getTooltip:(0,n.useCallback)((n=>{var o,a;const{layer:l,object:r}=n;if(!r)return null===e||void 0===e||e.setCursor("default"),null;(0,U.k7)(n)?null===e||void 0===e||e.setCursor("pointer"):null===e||void 0===e||e.setCursor("default");const s=h()(r,"zh-CN"===t.locale?"properties.name_zh":"properties.name_en"),d={html:"\n        <div>\n          <div>".concat(s,"</div>\n        </div>\n      "),style:oe},c=h()(r,"properties.aggregationMethod")||h()(l,"props.data.mapInfo.regionConfig.indexStatsMethod");if(!c)return d;const u=h()(r,"properties.aggregationValue");if(null==u)return d;const p=(0,G.Bb)(u,c);if(null==p)return d;const v=(0,ne.IG)(p);if(!v)return d;const g=h()(l,"props.data.mapInfo.tableNodeID"),f=i.find((e=>e.id===g)),m=null===f||void 0===f?void 0:f.columns,y=h()(l,"props.data.mapInfo.regionDimensionFieldID"),w=null===m||void 0===m||null===(o=m.find((e=>e.id===y)))||void 0===o?void 0:o.name,b=h()(l,"props.data.mapInfo.regionIndexStatsFieldID"),C=(null===m||void 0===m||null===(a=m.find((e=>e.id===b)))||void 0===a?void 0:a.name)||t.$t({id:"Aujn2T",defaultMessage:"Count"});return{html:"\n        <div>\n          <div>".concat(w,": ").concat(s,"</div>\n          <div>").concat(C,": ").concat(v,"</div>\n        </div>\n      "),style:oe}}),[i,t,e])}})(null===pe||void 0===pe?void 0:pe.mapTalksMap),$e=S&&(null===(f=w().get(q.BH))||void 0===f?void 0:f[S.id]);(0,n.useImperativeHandle)(t,(()=>({map:pe,layers:[Oe]})));const Je=(0,n.useMemo)((()=>{var e;if(!je)return!1;const t=null===(e=je.mapInfo)||void 0===e||null===(e=e.regionConfig)||void 0===e?void 0:e.regionId;if(!t)return!1;return["world/cas","world/wb"].includes(t)}),[je]),Ke=(0,n.useMemo)((()=>{var e,t;return{...S.mapConfig,isSet:!!B||(null===S||void 0===S||null===(e=S.mapConfig)||void 0===e?void 0:e.isSet),baseMap:z?Z:null===S||void 0===S||null===(t=S.mapConfig)||void 0===t?void 0:t.baseMap,scrollWheelZoom:B||$}}),[S.mapConfig,Z,B,z,$]),Ye=(0,n.useMemo)((()=>Ke?{center:(0,ye.Jn)(Ke.center),zoom:Ke.zoomLevel,pitch:Ke.pitch,dragRotate:!1,dragPitch:!1,scrollWheelZoom:B||$}:void 0),[Ke,B,$]),Qe=(0,n.useCallback)((()=>{const e=null===je||void 0===je?void 0:je.id;e&&Ce.m2.emit(e)}),[je]);(0,n.useEffect)((()=>{var e;const t={bgColor:F||(A===a.ThemeModeType.DARK?"#0a151c":"#fff"),renderer:"canvas",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0},i=new ce.Z("bg",t);i.setZIndex(-1);const n={key:"3ac9d33da9e7be15cbb9f1b92f285e9c",serviceHost:null===(e="https://maptable.com/api")?void 0:e.replace("/api",""),securityJsCode:{NODE_ENV:"production",PUBLIC_URL:"",BUILD_VERSION:"f583796",THIRD_PARTY:"feishu-dashboard",REACT_APP_SERVER_ENV:"production",REACT_APP_AG_GRID_LICENSE_KEY:"placeholder",REACT_APP_GOOGLE_OAUTH_CLIENT_ID:"placeholder",REACT_APP_BD_KEY:"placeholder",REACT_APP_GD_TOKEN:"3ac9d33da9e7be15cbb9f1b92f285e9c",REACT_APP_GOOGLE_MAP_KEY:"AIzaSyA3amMC0r12XfqJgurQbQd0iWln7SbcbZU",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZG9uZ2xlaSIsImEiOiJja3A2amE1cTMwbGQzMnBxZXF4MDEwMnRpIn0.v4ZdsImv9hprcA32ocydgw",REACT_APP_BASE_API_URL:"https://maptable.com/api",REACT_APP_LARK_BASE_API_URL:"https://maptable.net/api",REACT_APP_BOUNDARY_OSS_URL:"https://icon-cdn.maptable.com",REACT_APP_WS_URL:"wss://maptable.com/websocketd",REACT_APP_LARK_WS_URL:"wss://maptable.net/websocketd",REACT_APP_STRIPE_PUB_KEY:"pk_live_51L8b87HyKdWcfiHZBeLLIIUQKKf9Ec6UohLlnv0ZIjFfugGPZtfrGnfeQJ5yHXFeZNPya7ii4MTB5hQqXvf0CHhn004g4JMOOO",REACT_APP_STRIPE_RETURN_URL:"https://maptable.com/api/cb/stripe_payment/",REACT_APP_SENTRY_DSN:"https://1cbf40ec955b89c8c7182c2e9c3f940a@o1161772.ingest.us.sentry.io/4509296236691456",REACT_APP_CORS_DISABLE_TOKEN:"",REACT_APP_WECHAT_REDIRECT_URI:"https://maptable.com/auth/wechat",REACT_APP_RECAPTCHA_TOKEN:"6LdMgpcgAAAAAKSbHqoSMXgTg1jlTJcYer0Ss6M4",REACT_APP_MAINTAIN_FILE_URI:"https://maptable-prod-public.oss-cn-hangzhou.aliyuncs.com/prodfiles/broadcast/maintain.json",REACT_APP_CRISP_WEBSITE_ID:"e3f43195-3a5a-4bcb-bf1d-7e3d13d0376d",REACT_APP_ICON_CDN:"https://icon-cdn.maptable.com",REACT_APP_USE_RECAPTCHA:"true",REACT_APP_FEISHU_PAY_URI:"https://maptable.com/feishu/plan"}.REACT_APP_GD_SECRET||"",version:"2.0",mapOptions:{...Ye,style:Z},useTileLayer:(0,xe.tq)()},o=new l.dR(n);if(Ke.showBaseMap)null===pe||void 0===pe||pe.setBaseMap(o,"built-in");else{var r;if((null===pe||void 0===pe||null===(r=pe.baseMap)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.bgColor)===t.bgColor)return;null===pe||void 0===pe||pe.setBaseMap(i,"customize")}B&&Qe()}),[pe,Ke.showBaseMap,Z,Ye,A,F,B,Qe]),(0,n.useEffect)((()=>{!async function(){var e;await(0,be._)(500),(null===pe||void 0===pe?void 0:pe.isReady)&&await(null===pe||void 0===pe?void 0:pe.isReady)&&Ke.showBaseMap&&(null===pe||void 0===pe||null===(e=pe.baseMap)||void 0===e||e.setMapStyle(Z))}()}),[pe,Ke,Z]);const Xe=(0,n.useCallback)((e=>{const{zoom:t,bearing:i,pitch:n,center:o}=e;D(we.Nw.updateMapConfig({zoomLevel:t,bearing:i,pitch:n,center:null===o||void 0===o?void 0:o.join(",")}))}),[D]);(0,n.useEffect)((()=>{function e(e){var t,i,n;if(!Oe||(null===Oe||void 0===Oe?void 0:Oe.id)!==e)return;const o=g()(null===(t=Oe.mapInfo)||void 0===t||null===(t=t.regionConfig)||void 0===t?void 0:t.regionId,"ADM0"),a=!g()(null===(i=Oe.mapInfo)||void 0===i||null===(i=i.regionConfig)||void 0===i?void 0:i.regionId,"-")||o;let l=Je?"world":null===(n=Oe.mapInfo)||void 0===n||null===(n=n.regionConfig)||void 0===n||null===(n=n.regionId)||void 0===n||null===(n=n.split("-"))||void 0===n?void 0:n[0];var r;o&&(l=(0,G.Pd)(null===(r=Oe.mapInfo)||void 0===r||null===(r=r.regionConfig)||void 0===r||null===(r=r.regionId)||void 0===r||null===(r=r.split("-"))||void 0===r?void 0:r[2]));if([{key:"regionConfig.colors"},{key:"regionConfig.fillMethod"},{key:"labelConfig.fontSize"},{key:"labelConfig.fillColor"}].some((e=>{let{key:t}=e;return!m()(h()(je,"mapInfo.".concat(t)),h()(Oe,"mapInfo.".concat(t)))})))return;if(l&&h()(Ct,l)&&a){const[e,t,i,n]=h()(Ct,l),o=new c.wx(e,t,i,n);return void(null===pe||void 0===pe||pe.fitBounds(o,h()(xt,l)||0))}const[s,d,p,v]=(0,u.Z)(Oe);if(s===1/0)return;const f=new c.wx(s,d,p,v);null===pe||void 0===pe||pe.fitBounds(f)}return Ce.m2.on(e),()=>{Ce.m2.off(e)}}),[Oe,pe,Je,je]);const et=(0,n.useMemo)((()=>{var e,t;return!y&&!Te&&(null===je||void 0===je?void 0:je.id)&&(null===je||void 0===je||null===(e=je.mapInfo)||void 0===e?void 0:e.tableNodeID)&&(B||$||ve)&&(null===je||void 0===je||null===(t=je.mapInfo)||void 0===t||null===(t=t.regionConfig)||void 0===t?void 0:t.regionId)&&!_e}),[y,Te,je,B,$,ve,_e]);(0,n.useEffect)((()=>{!async function(){et&&(await(0,be._)(500),Ce.m2.emit(je.id))}()}),[null===je||void 0===je?void 0:je.id,et]),(0,n.useEffect)((()=>{if(pe&&null!==Ke&&void 0!==Ke&&Ke.zoomLevel&&null!==Ke&&void 0!==Ke&&Ke.center&&Ke.isSet){var e;const t=Je?0:2;null===(e=pe.mapTalksMap)||void 0===e||e.setMinZoom(t);const i=(0,ye.Jn)(Ke.center);pe.setZoomAndCenter(Ke.zoomLevel,i)}}),[pe,null===Ke||void 0===Ke?void 0:Ke.center,null===Ke||void 0===Ke?void 0:Ke.zoomLevel,null===Ke||void 0===Ke?void 0:Ke.isSet,Je]),(0,n.useEffect)((()=>{pe&&null!==Ke&&void 0!==Ke&&Ke.features&&pe.setFeatures(Ke.features)}),[pe,null===Ke||void 0===Ke?void 0:Ke.features]);const tt={getTooltip:Ge,repeat:!1},it=(0,n.useMemo)((()=>($||B)&&(y||_e)||J&&(!$e||Se&&_e)),[$,B,y,_e,Se,J,$e]);return Ke?(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsxs)(d.Z,{spinning:it,delay:500,indicator:(0,ge.jsx)(o.Z,{style:{fontSize:60}}),tip:L.$t({id:"gjBiyj",defaultMessage:"Loading..."}),children:[(0,ge.jsx)(r.h_,{id:"regionMap",ref:he,layers:[Pe],mapOptions:Ye,deckProps:tt,disableVerticalRepeat:!1,onViewStateChange:Xe,children:(0,ge.jsxs)(r.ZX,{defaultActiveControls:[J?"":"legend"],children:[!J&&(0,ge.jsx)(r.rm,{totalItems:Le,notMatchedItems:Ne}),(0,ge.jsx)(r.Ly,{step:.5}),(0,ge.jsx)(r.OO,{name:"fitBounds",onFit:Qe}),(0,ge.jsx)(We,{name:"legend",layerData:Oe})]})}),(0,ge.jsx)(ue.Z,{isFeiShu:R,layerType:"region"}),Q&&(0,ge.jsx)(bt,{tableId:Re,regionName:Be,open:Q,rows:Ae,columns:Fe,columnsWidth:ze,isLoading:Ve,isBackgroundLoading:!!ke,onClose:function(){Y(),qe()},onColumnResize:He})]}),(0,ge.jsx)(fe,{isFeiShu:R,isView:J,isFullScreen:z,show:De})]}):null})),jt=It},50839:(e,t,i)=>{"use strict";i.d(t,{BH:()=>o,KN:()=>l,pT:()=>n,uf:()=>a});const n="MT_BANNER_CLOSED_DAY",o="MT_REGION_MAP_LAYER_DATA",a="MT_PERFORMANCE_BANNER_CLOSED",l="MT_REGION_MAP_COLUMNS_WIDTH"},54827:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(57323),o=i.n(n),a=i(57435),l=i(34061),r=i(83580),s=i(15328),d=i(94553);const c=function(e){return t=>{class i extends a.Component{constructor(e){super(e),o()(this,"onOk",(()=>{this.setState({isModalVisible:!1}),window.location.reload()})),o()(this,"onFeedback",(()=>{window.open(l.Hf,"_blank")})),this.state={hasError:!1,isModalVisible:!1,isIssueVisible:!1}}static getDerivedStateFromError(e){return{error:e,hasError:!0,isModalVisible:!0}}render(){return this.state.hasError?(0,d.jsx)(r.Vq,{title:(0,s.wv)({id:"JqiqNj",defaultMessage:"Something went wrong"}),closable:!1,visible:this.state.isModalVisible,okText:(0,s.wv)({id:"rELDbB",defaultMessage:"Refresh"}),onOk:this.onOk,cancelText:(0,s.wv)({id:"Ejhdi4",defaultMessage:"Feedback"}),onCancel:this.onFeedback,children:(0,d.jsx)("div",{children:"function"===typeof e?e():e||(0,s.wv)({id:"pEjk6/",defaultMessage:"Please refresh page and try again"})})}):(0,d.jsx)(t,{...this.props})}}return i}}},12866:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>O});var o=i(11145),a=i(55349),l=i.n(a),r=i(53926),s=i.n(r),d=i(30289),c=i(55881),u=i(50839),p=i(30768),h=i(29697),v=i(37624),g=i(6831),f=i(42304),m=i(67444),y=i(74922),w=i(18293),b=i(68906),C=i(73468),x=i(66168),I=i(30423),j=i(22138),M=i(41791),k=i(94553),T=e([v]);function P(e){return t=>{const i=(0,I.I)(),n=(0,o.s0)(),{currentProjectId:a}=(0,b.Z)((e=>e.project));(0,v.F)();const{isCreate:r,isConfig:T,isView:E,isFullScreen:P}=(0,y.Z)();async function O(e){const t=await c.bitable.bridge.getEnv();try{var o,a,d,u,v;if(!t)return;const I="feishu"===t.product?"feishuDashboard":"larkDashboard",k=await c.bitable.bridge.getUserId(),O=r?void 0:await(0,m.fE)(T),N=(await c.bitable.base.getSelection()).baseId,L=await c.bridge.getInstanceId(),D=await c.bitable.bridge.getTenantKey(),R=await i((0,w.x4)({thirdpartyUserId:k,thirdpartyType:I,thirdpartyOrgId:D}));if(!R)return void n("/404");await i(f.Nw.setPlatform(t.product)),await i(f.Nw.setOrgId(D)),await i(f.Nw.setThirdpartyUserId(k)),i(f.Nw.setUserId(null===(o=R.payload)||void 0===o?void 0:o.id)),i(f.Nw.planChange(R.payload)),i(f.Nw.setToken(null===(a=R.payload)||void 0===a?void 0:a.token)),i(f.Nw.setSeenFeatures((null===(d=R.payload)||void 0===d?void 0:d.seenFeatures)||[]));let Z={};if(!r){const{customConfig:e}=await c.dashboard.getConfig();Z=null===e||void 0===e?void 0:e.mapConfig}null!==(u=R.payload)&&void 0!==u&&u.authUrl&&i(f.Nw.setAuthUrl(R.payload.authUrl));let A={detail:{}};if(null!==(v=R.payload)&&void 0!==v&&v.token){var y,b;A=O?await g.Z.getProjectById(O):await g.Z.create({thirdpartyItemId:L,name:"feishu-dashboard",workspaceID:N}),l()(A.detail.extraID)||A.detail.extraID===N||(A=await g.Z.create({thirdpartyItemId:L,name:"feishu-dashboard",workspaceID:N}));const n={...A.detail,mapConfig:r?{...A.detail.mapConfig,baseMap:"feishu"===t.product?h.nn.AmapLight:h.R6.MapboxLight}:Z},o=A.detail.id;if(await i(p.Nw.setCurrentOrgId(null!==(y=null!==(b=A.detail.extraOrgID)&&void 0!==b?b:D)&&void 0!==y?y:void 0)),await i(p.Nw.setProjects({projects:[n]})),await i(p.Nw.updateCurrentProjectId(o)),s().set(j.gU,t.product),l()(O)&&await i(f.Nw.setFirstLoadPlugin(!0)),!r&&o){var C,x;const t=await c.dashboard.getConfig(),{customConfig:a}=t;if(!a)return;const r=await async function(e,t,i){var n;if(!e)return;const o=e.layerNodes,a=e.tableInfo,r=null===(n=o.mapInfo)||void 0===n?void 0:n.tableNodeID;if(!a)return await S(r,o,t,i),o;const s=await c.base.getSelection(),d=await c.bridge.getInstanceId();if(!d)return o;const u=s.baseId;if(!u)return o;if(u===a.baseId||l()(a.baseId)){const e=a.instanceId;if(l()(e)||e===d)return l()(e)&&await S(r,o,t,i),o;{const e={...o,projectID:t};if(E||P){const n=await _(e,t);if(n)return await S(r,{...e,id:n},t,i),{...e,id:n}}return o}}{const e=await c.base.getTableList();let n=null;for(const t of e){if(await t.getName()===a.tableName){n=t;break}}if(!n)return o;const l=n.id,r={...o,mapInfo:{...o.mapInfo,tableNodeID:l}};if(E){const e=await _(r,t);if(e)return await S(l,{...r,id:e},t,i),{...r,id:e}}return r}}(a,o,n.mapConfig);if(!r)return;const s="region"===e&&"region"===(null===(C=r.mapInfo)||void 0===C||null===(C=C.regionConfig)||void 0===C?void 0:C.dimension);let d=!1;if(s&&r.mapInfo){d=!!await(0,m.ec)(r.mapInfo)}a.conditionVersion===M.T&&await i(p.Nw.setConditionVersion(M.T)),await i(p.Nw.setIsDashboardData(d)),await i(p.Nw.setDefaultRegion(null===(x=r.mapInfo)||void 0===x?void 0:x.regionConfig)),await i(p.Nw.addLayerNodeForProject({projectId:o,layerNode:r})),await i(p.Nw.update({projectID:o,updatedFields:{mapConfig:a.mapConfig}}))}else r&&"region"===e&&await i(p.Nw.setIsDashboardData(!0))}}catch(I){console.error("error",I)}}async function _(e,t){var n;const{payload:o}=await i(x.Oi({...e,projectID:t,name:null===(n=e.mapInfo)||void 0===n?void 0:n.layerType}));return o}async function S(e,t,i,n){var o;if(!await c.bitable.base.isTableExist(e))return;const a=await c.bitable.base.getTable(e),l=await a.getName(),r=await c.bitable.base.getSelection(),d=await c.bridge.getInstanceId(),p=r.baseId,h=t.mapInfo?null===(o=await(0,m.ec)(t.mapInfo))||void 0===o?void 0:o.condition:void 0,v=h?M.T:void 0;await c.dashboard.saveConfig({dataConditions:[h||{tableId:e,dataRange:{type:c.SourceType.ALL}}],customConfig:{conditionVersion:v,projectId:i,mapConfig:{...n,isSet:!0},layerNodes:t,tableInfo:{tableName:l,baseId:p,instanceId:d}}}),s().remove(u.uf)}return(0,d.ZP)(["dashboard-project-init"],(()=>O(t.layerType))),a?(0,k.jsx)(e,{...t}):(0,k.jsx)(C.Z,{})}}v=(T.then?(await T)():T)[0];const O=P;n()}catch(E){n(E)}}))},22411:(e,t,i)=>{"use strict";i.d(t,{F:()=>p});var n=i(57435),o=i(55881),a=i(29697),l=i(68906),r=i(30768),s=i(55349),d=i.n(s),c=i(80401),u=i(84991);const p=()=>{var e;const{theme:t,chartBgColor:i}=(0,c.F)(),{currentProjectId:s}=(0,l.Z)((e=>e.project)),p=(0,l.Z)((e=>d()(s)?void 0:r.Hx.selectById(e,s))),{isLark:h}=(0,u.k)();return{baseMapStyle:(0,n.useMemo)((()=>{var e;return h||(null===p||void 0===p||null===(e=p.mapConfig)||void 0===e?void 0:e.baseMap)===a.R6.MapboxLight?t===o.ThemeModeType.DARK?a.R6.MapboxDark:a.R6.MapboxLight:t===o.ThemeModeType.DARK?a.nn.AmapDark:a.nn.AmapLight}),[t,h,null===p||void 0===p||null===(e=p.mapConfig)||void 0===e?void 0:e.baseMap]),theme:t,chartBgColor:i}}},38882:(e,t,i)=>{"use strict";i.d(t,{c:()=>h});var n=i(57435),o=i(27371),a=i(95620),l=i(30289),r=i(75805),s=i(68906),d=i(37160),c=i(74922),u=i(44229),p=i(33766);const h=e=>{const t=(0,s.Z)((t=>e?(0,r.M)(t,e):void 0)),{isCreate:i,isConfig:h}=(0,c.Z)(),v=(0,a.Z)(),g=(0,n.useRef)(!1),f=(0,n.useRef)(!1),m=(0,n.useCallback)((async()=>{if(!i&&!h&&0!==(null===t||void 0===t?void 0:t.length)&&null!==t&&void 0!==t&&t.length)for(const i of t){var e,n;const t=null===(e=i.mapInfo)||void 0===e?void 0:e.tableNodeID,a=null===(n=i.mapInfo)||void 0===n?void 0:n.viewID,l=await(0,d.oJ)(t),r=await(0,u.OZ)(t);if(!g.current&&!l&&!r){g.current=!0,o.ZP.error(v.$t({id:"GBJJCO",defaultMessage:"The data table used by the current map has been deleted or you don't have permission to access it."}),10);break}const s=await(0,d.ax)(t,a);if(!f.current&&!s&&a!==p.Jd){f.current=!0,o.ZP.error(v.$t({id:"vgG6L3",defaultMessage:"The data view used by the current map has been deleted or you don't have permission to access it."}),10);break}}}),[t,v,i,h]);(0,l.ZP)(null!==t&&void 0!==t&&t.length?["checkTables",t]:[],m)}},44669:(e,t,i)=>{"use strict";i.d(t,{w:()=>c});var n=i(57435),o=i(55881),a=i(30768),l=i(47046),r=i(67444),s=i(30423),d=i(41791);const c=e=>{const t=(0,s.I)();(0,n.useEffect)((()=>{const i=o.dashboard.onConfigChange((async i=>{var n,o,s;const{customConfig:c}=i.data;if(!e||!c)return;const u=c.layerNodes;t(a.Nw.updateLayerNodeForProject({projectId:e,layerNode:u})),t(a.Nw.update({projectID:e,updatedFields:{mapConfig:c.mapConfig}}));let p=!1;if("region"===(null===(n=u.mapInfo)||void 0===n?void 0:n.layerType)&&"region"===(null===(o=u.mapInfo)||void 0===o||null===(o=o.regionConfig)||void 0===o?void 0:o.dimension)&&u.mapInfo){p=!!await(0,r.ec)(u.mapInfo)}c.conditionVersion===d.T&&t(a.Nw.setConditionVersion(c.conditionVersion)),t(a.Nw.setIsDashboardData(p)),t(a.Nw.setDefaultRegion(null===(s=u.mapInfo)||void 0===s?void 0:s.regionConfig));const h=await(0,l.VW)();t({type:"project/updateInfoWindowConfig",payload:h})}));return()=>{i()}}),[t,e])}},74922:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(55881);const o=()=>{const e=n.dashboard.state;return{isCreate:e===n.DashboardState.Create,isConfig:e===n.DashboardState.Config,isView:e===n.DashboardState.View,isFullScreen:e===n.DashboardState.FullScreen}}},84991:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});var n=i(68906);const o=()=>{const{platform:e}=(0,n.Z)((e=>e.user));return{env:e,isFeiShu:"feishu"===e,isLark:"lark"===e}}},4069:(e,t,i)=>{"use strict";i.d(t,{w:()=>w});var n=i(57435),o=i(8942),a=i.n(o),l=i(468),r=i.n(l),s=i(68906),d=i(74922),c=i(55881),u=i(30289);var p=i(30768),h=i(43498),v=i(30423),g=i(44839);const f={id:1,type:"map",mapInfo:{labelConfig:{visible:!0,fillColor:"#000000",fontSize:16,direction:"center,start"},fillConfig:{icons:{},fillOpacity:.7},radiusConfig:{radius:30},odLineConfig:{widthRange:[0,100],destinationColor:"#0065ff",originColor:"#0065ff",type:"line",width:1}}},m={...f,mapInfo:{...f.mapInfo,fillConfig:{fillOpacity:.7,colors:["#1a9850","#91cf60","#d9ef8b","#ffffbf","#fee08b","#fc8d59","#d73027"]},radiusConfig:{radius:55},heatmapConfig:{threshold:.11}}},y={...f,mapInfo:{...f.mapInfo,labelConfig:{visible:!0,fillColor:"#000000",fontSize:13,direction:"center,middle"},regionConfig:{country:"china",level:"admin1",regionId:"china",dimension:"region",aggregateBy:"admin1",labelTypes:["name","value"],colors:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801"],fillMethod:"quantize"}}};const w=(e,t,i,o)=>{const l=(0,v.I)(),{isCreate:w,isFullScreen:b}=(0,d.Z)(),{language:C}=(()=>{const{data:e,error:t}=(0,u.ZP)("dashboard-language",(async()=>await c.bitable.bridge.getLanguage()));return{language:e,error:t}})(),x=(0,n.useRef)(null),I=(0,s.Z)((e=>(0,h.H8)(e))),j=(0,n.useCallback)((()=>{switch(C){case"ja":return"japan";case"en":return"usa";case"zh":default:return"china";case"vi":return"vietnam";case"th":return"thailand";case"id":return"indonesia";case"it":return"italy";case"de":return"germany";case"es":return"spain";case"fr":return"france";case"pt":return"portugal"}}),[C]),M=(0,n.useCallback)((()=>{var n;if(!i||null===I||void 0===I||!I.length||!t)return;const o=null===(n=I.find((e=>e.id===t)))||void 0===n?void 0:n.name,a=function(e){switch(e){case"heatmap":return m;case"region":return y;default:return f}}(e),r={...a,name:o,projectId:i,mapInfo:{...a.mapInfo,layerType:e,tableNodeID:t}};if("region"===e&&r.mapInfo){const e=j();r.mapInfo.regionConfig={...r.mapInfo.regionConfig,country:e,regionId:e}}l(p.Nw.addLayerNodeForProject({projectId:i,layerNode:r}))}),[l,i,e,t,I,j]),k=(0,s.Z)((e=>i?(0,g.M)(e,i):[]));(0,n.useEffect)((()=>{null!==k&&void 0!==k&&k.length||!i||!w||M()}),[k,M,i,w]);const T=(0,n.useMemo)((()=>{var e,t;if(null===k||void 0===k||!k.length)return"";const i=null===(e=k[0].mapInfo)||void 0===e?void 0:e.tableNodeID;return null===(t=I.find((e=>e.id===i)))||void 0===t?void 0:t.name}),[k,I]);(0,n.useEffect)((()=>{if(i&&null!==k&&void 0!==k&&k.length){var e,t,n,s,d,u,h,v,g;const f=b||o===c.ThemeModeType.DARK,m=k[0],y={...m,name:T,mapInfo:{...m.mapInfo,labelConfig:{...null===m||void 0===m||null===(e=m.mapInfo)||void 0===e?void 0:e.labelConfig,fontSize:null!==(t=null===m||void 0===m||null===(n=m.mapInfo)||void 0===n||null===(n=n.labelConfig)||void 0===n?void 0:n.fontSize)&&void 0!==t?t:14,fillColor:null!==(s=null===m||void 0===m||null===(d=m.mapInfo)||void 0===d||null===(d=d.labelConfig)||void 0===d?void 0:d.fillColor)&&void 0!==s?s:"#000000",strokeColor:f?"#FFFFFF":null!==(u=null===m||void 0===m||null===(h=m.mapInfo)||void 0===h||null===(h=h.labelConfig)||void 0===h?void 0:h.strokeColor)&&void 0!==u?u:void 0,strokeWeight:f?5:null!==(v=null===m||void 0===m||null===(g=m.mapInfo)||void 0===g||null===(g=g.labelConfig)||void 0===g?void 0:g.strokeWeight)&&void 0!==v?v:0}}};a()(r()(y,"version"),r()(x.current,"version"))||(x.current=y,l(p.Nw.updateLayerNodeForProject({projectId:i,layerNode:y})))}}),[b,l,i,k,o,T])}},9296:(e,t,i)=>{"use strict";i.d(t,{l:()=>c});var n=i(57435),o=i(7070),a=i.n(o),l=i(68906),r=i(46131),s=i(42015),d=i(44839);const c=e=>{const{currentProjectId:t}=(0,l.Z)((e=>e.project)),i=(0,l.Z)((e=>t?(0,d.M)(e,t):[])),o=(0,n.useMemo)((()=>{var e;return(null===i||void 0===i||null===(e=i[0])||void 0===e||null===(e=e.mapInfo)||void 0===e||null===(e=e.regionConfig)||void 0===e?void 0:e.indexStatsMethod)||"sum"}),[i]);return{getDomain:(0,n.useCallback)((t=>{if(!e)return[];let i=Number.MAX_SAFE_INTEGER,n=0;const l=a()(e,(e=>{const t=(0,r.oe)(e,"aggregationValue"),a=(0,r.oe)(e,"aggregationMethod")||o,l=parseFloat((0,s.Bb)(t||[],a));return i=l<i?l:i,n=l>n?l:n,l}));return"quantize"===t||"continuous"===t?[i,n]:l}),[o,e])}}},42063:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(30289),o=i(55881),a=i(75805),l=i(68906);const r=(e,t)=>{const i=(0,l.Z)((e=>t?(0,a.M)(e,t):[]));(0,n.ZP)(e&&null!==i&&void 0!==i&&i.length?"notifyBase":null,(async()=>{await o.dashboard.setRendered()}))}},41791:(e,t,i)=>{"use strict";i.d(t,{O:()=>P,T:()=>E});var n=i(57435),o=i(468),a=i.n(o),l=i(74720),r=i.n(l),s=i(55349),d=i.n(s),c=i(53926),u=i.n(c),p=i(55881),h=i(68906),v=i(74922),g=i(6831),f=i(30768),m=i(50839),y=i(67444),w=i(91671),b=i(15972),C=i.n(b),x=i(70999),I=i(44839),j=i(42538),M=i(66168),k=i(30423),T=i(87522);const E=1,P=e=>{const t=(0,k.I)(),{isCreate:i}=(0,v.Z)(),{currentProjectId:o}=(0,h.Z)((e=>e.project)),l=(0,h.Z)((e=>e.map.mapConfig)),s=(0,h.Z)((e=>o?(0,I.M)(e,o):void 0)),c=(0,h.Z)((e=>d()(o)?void 0:f.Hx.selectById(e,o))),{isPro:b,isOverQuota:P}=(0,h.Z)((e=>e.user.planInfo)),O=null===c||void 0===c?void 0:c.mapConfig,[_,S]=(0,n.useState)(!1),N=(0,n.useCallback)((async e=>{const t=r()(e,"mapInfo.tableNodeID");if(!await p.bitable.base.isTableExist(t))return;const n=await p.bitable.base.getTable(t),o=await n.getName(),a=await p.bitable.base.getSelection(),l=i?void 0:await p.bitable.bridge.getInstanceId();return{baseId:a.baseId,tableName:o,instanceId:l}}),[i]),L=(0,n.useCallback)((async(e,t)=>{var n;const o=await N(t),a=i?{}:await(0,y.pG)(),r=t.mapInfo?null===(n=await(0,y.ec)(t.mapInfo))||void 0===n?void 0:n.condition:void 0,s=r?E:void 0;await p.dashboard.saveConfig({dataConditions:[r||{tableId:e,dataRange:{type:p.SourceType.ALL}}],customConfig:{conditionVersion:s,projectId:null===c||void 0===c?void 0:c.id,mapConfig:{...O,...l,isSet:!0},layerNodes:t,tableInfo:o,columnsWidth:{...a,...u().session.get(m.KN)||{}}}}),u().remove(m.uf),u().remove(m.KN)}),[null===c||void 0===c?void 0:c.id,l,O,N,i]),D=(0,n.useCallback)((async e=>{null!==c&&void 0!==c&&c.id&&await t(j.SQ({projectId:c.id,mapConfig:{...O,zoomLevel:(0,x.max)([(0,w.E)(l.zoomLevel||1,2),1]),center:l.center,isSet:!0,...e}}))}),[null===c||void 0===c?void 0:c.id,O,l,t]),R=(0,n.useCallback)((async e=>{var i;if(!e||null===c||void 0===c||!c.id)return;const n=a()(e,["id"]),{payload:o}=await t(M.Oi({...n,projectID:null===c||void 0===c?void 0:c.id,name:n.name||(null===(i=n.mapInfo)||void 0===i?void 0:i.layerType)}));return o}),[t,null===c||void 0===c?void 0:c.id]);return{isSaving:_,onSave:(0,n.useCallback)((async()=>{if(e&&c){await e.validateFields(),S(!0);try{var n,o,a,l;if(!b||P)return void t(f.Nw.setUpgradePlanDialogVisible(!0));const u=null===s||void 0===s?void 0:s[0];if(!u)return;const p=e.getFieldsValue(!0),h=(0,T.Kd)(p),v=null!==(n=h.tableNodeID)&&void 0!==n?n:null===(o=u.mapInfo)||void 0===o?void 0:o.tableNodeID,m="world/cas"===(null===(a=h.regionConfig)||void 0===a?void 0:a.regionId)||"world/wb"===(null===(l=h.regionConfig)||void 0===l?void 0:l.regionId);if(i){const e={...u,mapInfo:C()({},u.mapInfo,h)},t=await R(e);await D(m?{showBaseMap:!1}:void 0),t&&await L(v,{...e,id:t})}else{const e={...u,mapInfo:C()({},u.mapInfo,h),projectID:c.id,name:"".concat(h.layerType,"-").concat((new Date).getTime())};if(!e.id&&null!==c&&void 0!==c&&c.id){var r;const t=await g.Z.getLayerNodes(c.id);e.id=null===t||void 0===t||null===(r=t.detail)||void 0===r||null===(r=r.layerNodes)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.id}try{await t(M.pA(e)),await D(m?{showBaseMap:!1}:void 0),await L(v,e)}catch(d){if("Error"===d.name){const t=await R(e);await D(m?{showBaseMap:!1}:void 0),t&&await L(v,{...e,id:t})}}}}finally{S(!1)}}}),[e,c,b,P,s,i,t,R,D,L]),createLayerNode:R,saveConfigToFeishu:L}}},9275:(e,t,i)=>{"use strict";i.d(t,{W:()=>v});var n=i(57435),o=i(7070),a=i.n(o),l=i(8264),r=i.n(l),s=i(55881),d=i(47046),c=i(37160),u=i(75805),p=i(68906),h=i(30423);const v=(e,t,i)=>{const o=(0,h.I)(),l=(0,p.Z)((t=>e?(0,u.M)(t,e):void 0)),v=(0,p.Z)((t=>{var i;return e?null===(i=t.map.hiddenLayerIds)||void 0===i?void 0:i[e]:void 0})),[g,f]=(0,n.useState)([]),[m,y]=(0,n.useState)({}),w=(0,n.useCallback)((async()=>{const e=a()(l,(e=>{var t;const i=null===(t=e.mapInfo)||void 0===t?void 0:t.tableNodeID;if(null===v||void 0===v||!v.includes(i))return i}));r()(e,[t]).forEach((async e=>{if(!e||g.includes(e))return;if(!await(0,c.oJ)(e))return;const t=await s.bitable.base.getTableById(e);if(!t)return;if(null!==m&&void 0!==m&&m[e])return;const n=await(async(e,t,i)=>{const n=await(0,d.Xk)(e),o=e.onRecordDelete((async n=>{null===i||void 0===i||i(n),t({type:"tableNode/deleteRows",payload:{id:e.id,deletedRowIDs:n.data}})})),a=e.onRecordAdd((async o=>{null===i||void 0===i||i(o);const a=o.data;if(!n)return;const l=await(0,c.oo)({view:n});a.forEach((async i=>{const n=await e.getRecordById(i),o=await(0,d.mJ)({recordId:i,...n},l);t({type:"tableNode/createRow",payload:{tableNodeID:e.id,addedViewRows:[],...o}})}))})),l=e.onRecordModify((async o=>{null===i||void 0===i||i(o);const{recordId:a}=o.data;if(!n)return;const l=await(0,c.oo)({view:n}),r=await e.getRecordById(a),s=await(0,d.mJ)({recordId:a,...r},l);t({type:"tableNode/updateCells",payload:{id:e.id,rowID:a,updateCells:s.cells}})})),r=e.onFieldModify((async()=>{null===i||void 0===i||i();const n=await(0,d.qf)(e,!1);n&&t({type:"tableNode/setDetail",payload:{...n,segmentType:"segmentStart"}})})),s=e.onFieldAdd((async n=>{null===i||void 0===i||i(n);const{fieldId:o,fieldType:a,tableId:l}=(null===n||void 0===n?void 0:n.data)||{},r=await e.getFieldById(o),s=await r.getName();t({type:"tableNode/createColumn",payload:{tableNodeID:l,id:o,name:s,type:d.uU[a]}})})),u=e.onFieldDelete((async()=>{null===i||void 0===i||i();const n=await(0,d.qf)(e);n&&t({type:"tableNode/setDetail",payload:{...n,segmentType:"segmentStart"}})}));return()=>{null===o||void 0===o||o(),null===a||void 0===a||a(),null===l||void 0===l||l(),null===s||void 0===s||s(),null===r||void 0===r||r(),null===u||void 0===u||u()}})(t,o,i);m[e]=n,f((t=>[...t,e])),y(m)}))}),[l,t,m,v,o,g,i]);return(0,n.useEffect)((()=>{w()}),[w]),{subscribe:w,unsubscribeAll:function(){a()(m,(e=>{e()}))}}}},10276:(e,t,i)=>{"use strict";i.d(t,{HB:()=>Z,fg:()=>F,iG:()=>L,mr:()=>D,xJ:()=>A});var n=i(57435),o=i(30289),a=i(18765),l=i.n(a),r=i(7070),s=i.n(r),d=i(23903),c=i.n(d),u=i(8942),p=i.n(u),h=i(90013),v=i.n(h),g=i(38981),f=i.n(g),m=i(82959),y=i.n(m),w=i(55881),b=i(47046),C=i(37160),x=i(68906),I=i(75805),j=i(30768),M=i(44229),k=i(78587),T=i.n(k),E=i(33766),P=i(1714),O=i(43498),_=i(30423),S=i(69151),N=i(74922);function L(e){var t;const{tableNodeId:i,viewId:a,isMore:r}=e||{},s=(0,_.I)(),[d,c]=(0,n.useState)(i),u=(0,x.Z)((e=>(0,O.H8)(e))),p=(0,x.Z)((e=>d?P.TW.selectById(e,d):void 0)),h=(0,n.useMemo)((()=>{if(d)return a}),[a,d]),{isLoading:v}=(0,o.ZP)(!d||null!==p&&void 0!==p&&null!==(t=p.columns)&&void 0!==t&&t.length?null:["fetchTableNodeOnDemandForLayer",d],(async e=>{let[t,i]=e;try{const e=await w.bitable.base.getTableById(i),t=h&&h!==E.Jd?await(null===e||void 0===e?void 0:e.getViewById(h)):await(0,b.Xk)(e);if(!t)return;const n=await(0,C.oo)({view:t,table:e,isGetOriginType:!1}),{columns:o,rowsCount:a}=n?await(0,b.Pu)(n,e):{columns:[],rowsCount:0};s(P.Nw.setDetail({id:e.id,segmentType:"segmentFrame",columns:o,rowsCount:a,more:r}))}catch{}}));(0,n.useEffect)((()=>{i&&c(i)}),[i]),(0,o.ZP)(d?["getFeishuTableViews",d]:[],(async e=>{let[t,i]=e;const n=await w.bitable.base.getTableById(i),o=(await n.getViewMetaList()).filter((e=>e.type===w.ViewType.Grid));s(P.Nw.setDetail({id:i,segmentType:"segmentFrame",views:o.map((e=>({id:e.id,name:e.name,type:"table"})))}))}));const g=(0,n.useMemo)((()=>i&&(null===p||void 0===p?void 0:p.id)===i&&(null===p||void 0===p?void 0:p.views)||[]),[i,null===p||void 0===p?void 0:p.id,null===p||void 0===p?void 0:p.views]),f=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>"coordinate"===e.type||(0,S.uL)(e)||(0,S.Tt)(e))).filter((e=>{var t;return!(null!==(t=e.typeOptions)&&void 0!==t&&t.textCoordinateType)}))),[null===p||void 0===p?void 0:p.columns]),m=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>"multiLineText"===e.type||(0,S.np)(e)||(0,S.CB)(e)))),[null===p||void 0===p?void 0:p.columns]),y=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>"number"===e.type||(0,S.sI)(e)))),[null===p||void 0===p?void 0:p.columns]),I=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>"multiLineText"===e.type||(0,S.np)(e)))),[null===p||void 0===p?void 0:p.columns]),j=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>{const t=e.type;return"multiLineText"===t||"number"===t||"singleChoice"===t||"multiChoice"===t||"datetime"===t||"createTime"===t||"updateTime"===t||(0,S.Ef)(e)||(0,S.np)(e)||(0,S.oh)(e)||(0,S.s0)(e)||(0,S.BC)(e)||(0,S.sI)(e)||(0,S.NU)(e)}))),[null===p||void 0===p?void 0:p.columns]),M=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>"datetime"===e.type||"createTime"===e.type||"updateTime"===e.type))),[null===p||void 0===p?void 0:p.columns]),k=(0,n.useMemo)((()=>l()(null===p||void 0===p?void 0:p.columns,(e=>"multiLineText"===e.type||(0,S.np)(e)||(0,S._3)(e)||(0,S.BC)(e)||(0,S.s0)(e)))),[null===p||void 0===p?void 0:p.columns]);return{tableNodes:u,tableNode:p,viewOptions:g,columns:(null===p||void 0===p?void 0:p.columns)||[],coordinateOptions:f,h3Options:m,labelOptions:j,numberOptions:y,textOptions:I,dimensionOptions:k,dateTimeOptions:M,isLoading:v}}function D(e){const t=(0,_.I)(),{isView:i,isFullScreen:a}=(0,N.Z)(),l=(0,x.Z)((e=>(0,O.H8)(e))),r=(0,x.Z)((t=>e?(0,I.M)(t,e):void 0)),d=(0,n.useMemo)((()=>{var e;return null!==r&&void 0!==r&&r.length?null===(e=r[0].mapInfo)||void 0===e?void 0:e.tableNodeID:void 0}),[r]),{isConfig:c}=(0,N.Z)(),{data:u}=(0,o.ZP)(e?"getInfoWindowConfig":null,(async()=>await(0,b.VW)())),{isLoading:h}=(0,o.ZP)(d?["fetchTableNodeOnDemand",d]:null,(async e=>{let[i,n]=e;const o=await w.bitable.base.getTableById(f()(n)),a=await o.getName(),l={segmentType:"segmentStart",id:o.id,name:a,type:"table",infoWindowConfig:u,more:!0};t(P.Nw.setDetail(l))})),{data:v,isLoading:g}=(0,o.ZP)(i||a?null:["getFeishuTableNodes"],(async()=>{try{const e=await w.bitable.base.getTableList(),i=s()(l,(e=>e.id)),n=s()(e,(e=>e.id));if(p()(i,n))return;let o=null;for(const a of e)if(o||c){const e=await a.getName(),i=await(0,M.OZ)(a.id),n={segmentType:"segmentStart",id:a.id,name:e,type:"table",infoWindowConfig:u,more:i};t(P.Nw.setDetail(n))}else{const e=await a.getName(),i=await(0,b.Xk)(a);if(!o&&i){const e=await(0,C.oo)({view:i,table:a});(null===e||void 0===e?void 0:e.find((e=>e.type===w.FieldType.Location)))&&(o=a.id)}const n={segmentType:"segmentStart",id:a.id,name:e,type:"table",infoWindowConfig:u,more:!0};t(P.Nw.setDetail(n))}return o}catch(e){console.log("---error",e)}})),[m,y]=(0,n.useMemo)((()=>{var e;return g?[null,!1]:[v||(null===l||void 0===l||null===(e=l[0])||void 0===e?void 0:e.id),null==v]}),[g,v,l]);return{isLoadingTable:g||h,hasLocationTableId:m,noLocationField:y}}const R={};function Z(e){const t=(0,x.Z)((e=>e.project.isDashboardData)),i=(0,x.Z)((t=>e?(0,I.M)(t,e):void 0)),a=(0,x.Z)((e=>(0,O.H8)(e))),l=(0,n.useMemo)((()=>{const e=[];if(null===a||void 0===a||!a.length||null===i||void 0===i||!i.length)return e;for(const o of i){var t,n;const i=null===(t=o.mapInfo)||void 0===t?void 0:t.tableNodeID,l=null===(n=o.mapInfo)||void 0===n?void 0:n.viewID;c()(a,(e=>e.id===i))&&!e.map((e=>e.tableId)).includes(i)&&e.push({tableId:i,viewId:l})}return e}),[i,a]),{isLoading:r}=function(e){const t=(0,_.I)(),{isLoading:i}=(0,o.ZP)(e&&e.length>0?["getFeishuTableColumns",e]:null,(async e=>{let[i,n]=e;await Promise.all(n.map((async e=>{let{tableId:i,viewId:n}=e;const o=await w.bitable.base.getTableById(i),a={id:i,columns:[],more:!1,type:"table",segmentType:"segmentStart"};if(n&&n!==E.Jd?await o.getViewById(n):await(0,b.Xk)(o)){const e=await o.getFieldMetaList(),{columns:t,rowsCount:i}=await(0,b.Pu)(e,o);Object.assign(a,{columns:t,rowsCount:i})}else a.columns=[];t(P.Nw.setDetail(a))})))}));return{isLoading:i}}(l),{isLoading:s}=function(e){const t=(0,_.I)(),{isLoading:i}=(0,o.ZP)(e&&e.length>0?["getFeishuTableRows",e]:null,(async e=>{let[i,n]=e;await Promise.all(n.map((async e=>{let{tableId:i,viewId:n}=e;try{const e="".concat(i,"-").concat(n);let o;R[e]?o=R[e]:(o=await(0,b.fN)(i,n),R[e]=o);const a={...o,more:!1,type:"table",segmentType:"segmentStart"};t(P.Nw.setDetail(a))}catch{}})))}));return{isLoading:i}}(t?void 0:l);return{isLoading:(0,n.useMemo)((()=>r||s),[r,s])}}function A(){const e=(0,_.I)(),t=(0,x.Z)((e=>e.project.isDashboardData)),i=(0,x.Z)((e=>(0,O.H8)(e)));(0,n.useEffect)((()=>{if(t)return;const n=null===i||void 0===i?void 0:i.reduce(((e,t)=>{var i,n;const o=null===(i=t.columns)||void 0===i?void 0:i.filter((e=>(0,S.NU)(e)));return null!==o&&void 0!==o&&o.length&&null!==(n=t.rows)&&void 0!==n&&n.length&&t.rows.forEach((t=>{Object.entries(t.cells||{}).forEach((t=>{let[i,n]=t;if(i.includes("member"))try{const t=JSON.parse(n)||{};T()(t)&&e.push(...t)}catch(o){console.error("error:",o)}}))})),e}),[]);e(j.Nw.setMembers(y()(v()(n,"id"))))}),[i,t,e])}function F(e){const t=(0,x.Z)((e=>(0,O.H8)(e)));return null===t||void 0===t?void 0:t.find((t=>t.id===e))}},80401:(e,t,i)=>{"use strict";i.d(t,{F:()=>c});var n=i(57435),o=i(30289),a=i(55881),l=i(57649),r=i(49756),s=i(74922);(0,l.setFetchMethod)(window.fetch);function d(e){if(e){const t=e.match(/var\(([^)]+)\)/);return t?(0,r.Dw)(t[1]):(e=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e))(e)?e:"#fff"}return"#fff"}const c=()=>{const[e,t]=(0,n.useState)(),[i,r]=(0,n.useState)(),{isFullScreen:c}=(0,s.Z)(),u=(0,n.useCallback)((e=>{e===a.ThemeModeType.DARK?(0,l.enable)({mode:1,brightness:140,contrast:100,sepia:0,darkSchemeBackgroundColor:"#0a0a0a",darkSchemeTextColor:"#FFFFFF"}):(0,l.disable)()}),[]);return(0,o.ZP)("getTheme",(async()=>{const e=await a.bitable.dashboard.getTheme();u(e.theme),t(e.theme),r(d(e.chartBgColor))})),(0,n.useEffect)((()=>{a.bitable.dashboard.onThemeChange((e=>{u(e.data.theme),t(e.data.theme),r(d(e.data.chartBgColor))})),c&&(t(a.ThemeModeType.DARK),u(a.ThemeModeType.DARK))}),[u,c]),{theme:e,chartBgColor:i}}},20881:(e,t,i)=>{"use strict";i.d(t,{X:()=>c});var n=i(57435),o=i(95620),a=i(68906),l=i(41867),r=i(74922);const s={pointLinePolygon:"Point",heatmap:"Heatmap",icon:"Icon"},d={isCreate:"CreateWidgetPageShow",isConfig:"EditWidgetPageShow",isView:"WidgetShow",isFullScreen:"WidgetShow"},c=e=>{const t=(0,o.Z)(),{isConfig:i,isCreate:c,isView:u,isFullScreen:p}=(0,r.Z)(),{currentProjectId:h}=(0,a.Z)((e=>e.project));(0,n.useEffect)((()=>{const n=d[c?"isCreate":i?"isConfig":p?"isFullScreen":"isView"],o=s[e],a={widget_type:o};(u||p)&&(a.widget_id=h,a.widget={[o]:1},a.location=u?"Dashboard":"FullScreen"),h&&l.Z.mpTrackWidget(n,t.locale,a,{id:h})}),[c,i,u,p,h,t.locale,e])}},64407:(e,t,i)=>{"use strict";i.a(e,(async(e,t)=>{try{var n=i(57435),o=i(63614),a=i(82583),l=i(43179),r=i.n(l),s=i(7336),d=i.n(s),c=i(83177),u=i.n(c),p=i(53523),h=i(95511),v=i(93774),g=i(89420),f=(i(56648),i(83374),i(8751),i(3417),i(85621),i(91242),i(11286),i(78978),i(94553)),m=e([g]);g=(m.then?(await m)():m)[0],window._store=v.h,r().extend(d()),r().extend(u()),p.S({dsn:"https://1cbf40ec955b89c8c7182c2e9c3f940a@o1161772.ingest.us.sentry.io/4509296236691456",integrations:[new h.gE],environment:"production",tracesSampleRate:1,ignoreErrors:["Uncaught (in promise) cancel","Non-Error promise rejection captured"]});const y=document.getElementById("root");(0,o.s)(y).render((0,f.jsx)(n.StrictMode,{children:(0,f.jsx)(a.zt,{store:v.h,children:(0,f.jsx)(g.g,{})})})),t()}catch(y){t(y)}}))},27079:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>f});var o=i(57435),a=i(55349),l=i.n(a),r=i(27862),s=i(10276),d=i(63040),c=i(68906),u=i(30768),p=i(41791),h=i(76744),v=i(94553),g=e([r]);r=(g.then?(await g)():g)[0];const f=()=>{var e;const{currentProjectId:t}=(0,c.Z)((e=>e.project)),i=(0,c.Z)((e=>l()(t)?void 0:u.Hx.selectById(e,t))),n=(0,o.useRef)(),{isLoading:a}=(0,s.HB)(null===i||void 0===i?void 0:i.id),{isSaving:g,onSave:f}=(0,p.O)(null===(e=n.current)||void 0===e?void 0:e.form);return(0,v.jsx)(r.Z,{preview:(0,v.jsx)(h.Z,{layerType:"heatmap",loading:a}),config:(0,v.jsx)(d.Z,{layerType:"heatmap",ref:n}),layerType:"heatmap",isSaving:g,onSubmit:f})};n()}catch(f){n(f)}}))},98658:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>o.Z});var o=i(27079),a=e([o]);o=(a.then?(await a)():a)[0],n()}catch(l){n(l)}}))},12406:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>f});var o=i(57435),a=i(55349),l=i.n(a),r=i(27862),s=i(10276),d=i(63040),c=i(68906),u=i(30768),p=i(41791),h=i(76744),v=i(94553),g=e([r]);r=(g.then?(await g)():g)[0];const f=()=>{var e,t;const{currentProjectId:i}=(0,c.Z)((e=>e.project)),n=(0,c.Z)((e=>l()(i)?void 0:u.Hx.selectById(e,i))),a=(0,o.useRef)(),{isLoading:g}=(0,s.HB)(null===n||void 0===n?void 0:n.id),{onSave:f,isSaving:m}=(0,p.O)(null===(e=a.current)||void 0===e?void 0:e.form),y=(0,o.useRef)({map:null,layers:[]});return(0,v.jsx)(r.Z,{preview:(0,v.jsx)(h.Z,{layerType:"icon",loading:g,ref:y}),config:(0,v.jsx)(d.Z,{layerType:"icon",ref:a,layers:(null===(t=y.current)||void 0===t?void 0:t.layers)||[]}),layerType:"icon",isSaving:m,onSubmit:f})};n()}catch(f){n(f)}}))},18017:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>o.Z});var o=i(12406),a=e([o]);o=(a.then?(await a)():a)[0],n()}catch(l){n(l)}}))},69013:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>v});var o=i(57435),a=i(27862),l=i(10276),r=i(63040),s=i(68906),d=i(30768),c=i(41791),u=i(15804),p=i(94553),h=e([a]);a=(h.then?(await h)():h)[0];const v=()=>{var e;const{currentProjectId:t}=(0,s.Z)((e=>e.project)),i=(0,s.Z)((e=>null==t?void 0:d.Hx.selectById(e,t))),n=(0,o.useRef)(),{hasLocationTableId:h}=(0,l.mr)(null===i||void 0===i?void 0:i.id),{isLoading:v}=(0,l.HB)(null===i||void 0===i?void 0:i.id),{isSaving:g,onSave:f}=(0,c.O)(null===(e=n.current)||void 0===e?void 0:e.form),m=(0,o.useRef)({map:null,layers:[]});return(0,p.jsx)(a.Z,{preview:i&&(0,p.jsx)(u.Z,{ref:m,isLoading:v,project:i,hasLocationTableId:h}),config:(0,p.jsx)(r.Z,{layerType:"region",ref:n,layers:m.current.layers}),layerType:"region",isSaving:g,onSubmit:f})};n()}catch(v){n(v)}}))},90552:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>o.Z});var o=i(69013),a=e([o]);o=(a.then?(await a)():a)[0],n()}catch(l){n(l)}}))},87078:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Z:()=>u});var o=i(11145),a=i(98658),l=i(18017),r=i(90552),s=i(94553),d=e([a,l,r]);[a,l,r]=d.then?(await d)():d;const c=[{path:"/",element:(0,s.jsx)(l.Z,{}),index:!0},{path:"/heatmap",element:(0,s.jsx)(a.Z,{}),index:!0},{path:"/region",element:(0,s.jsx)(r.Z,{}),index:!0}],u=()=>(0,o.V$)(c);n()}catch(c){n(c)}}))},67444:(e,t,i)=>{"use strict";i.d(t,{Eg:()=>b,Jl:()=>C,c0:()=>j,ec:()=>w,fE:()=>f,pG:()=>M});var n=i(55881),o=i(55349),a=i.n(o),l=i(18765),r=i.n(l),s=i(7070),d=i.n(s),c=i(8942),u=i.n(c),p=i(56043),h=i(33766),v=i(37160),g=i(47046);const f=async e=>{const{customConfig:t}=await n.dashboard.getConfig(),i="number"===typeof(null===t||void 0===t?void 0:t.projectId)?t.projectId:void 0;if(e)return i;const o=await n.bridge.getInstanceId(),l=null===t||void 0===t?void 0:t.tableInfo;return!a()(null===l||void 0===l?void 0:l.instanceId)&&(null===l||void 0===l?void 0:l.instanceId)!==o?void 0:i};function m(e){switch(e){case"min":return n.Rollup.MIN;case"max":return n.Rollup.MAX;default:return n.Rollup.SUM}}async function y(e){var t,i;const o=null===(t=await e.getMeta())||void 0===t||null===(t=t.property)||void 0===t?void 0:t.filterInfo;if(!o||null===(i=o.conditions)||void 0===i||!i.length)return;if(o.conjunction===n.FilterConjunction.And)return o;const a=o.conditions.length;return 1===a||2===a&&u()(o.conditions[0],o.conditions[1])?{conjunction:n.FilterConjunction.And,conditions:[o.conditions[0]]}:o}async function w(e){const{tableNodeID:t,regionDimensionFieldID:i,viewID:o,regionIndexStatsFieldID:a,specifyByFieldID:l,regionConfig:r}=e;if(!t||!i||!r||"region"!==(null===r||void 0===r?void 0:r.dimension))return;const s=t,d=r.indexStatsMethod||"sum";if("mean"===d)return;let c=o&&o!==h.Jd?o:void 0;const u={conjunction:n.FilterConjunction.And,conditions:[{fieldId:i,operator:n.FilterOperator.IsNotEmpty}]};let v="COUNTA";if(a&&a!==p.N&&"count"!==d&&(u.conditions.push({fieldId:a,operator:n.FilterOperator.IsNotEmpty}),"nonEmptyCount"!==d&&(v=[{fieldId:a,rollup:m(d)}])),"nonEmptyCount"===d&&a&&a!==p.N&&c){const e=await n.bitable.base.getTableById(s);if(!e)return;const t=await e.getViewById(c);if(!t)return;const i=await y(t);if(i){if(i.conjunction!==n.FilterConjunction.And)return;u.conditions.push(...i.conditions)}c=void 0}const g=[{fieldId:i}];l&&"admin0"!==r.level&&g.push({fieldId:l});return{condition:{tableId:s,groups:g,series:v,dataRange:{type:c?n.SourceType.VIEW:n.SourceType.ALL,viewId:c,filterInfo:u}},type:"normal"}}async function b(e,t){const i=await n.dashboard.getPreviewData({...t,series:"COUNTA"});if(!i||e.length!==i.length)return;const o=C(e),a=C(i);if(!o||!a)return;const l={};for(const n in o){const e=o[n],t=a[n];if(!e||!t)continue;const i={};for(const n in e){var r,s;const o=null===(r=e[n])||void 0===r?void 0:r.value,a=Object.keys(t),l=a.length?null===(s=t[a[0]])||void 0===s?void 0:s.value:void 0;i[n]={value:l?o/l:0,sum:o,count:l}}l[n]=i}return l}function C(e){if(null===e||void 0===e||!e.length)return;const t={},i=e[0].map((e=>e.value));for(let n=1;n<e.length;n++){const o=e[n],a=o[0].value;if(!a)continue;const l={};for(let e=1;e<o.length;e++){const t=i[e],n=o[e].value;t&&null!=n&&(l[t]={value:Number(n)})}t[a]=l}return t}async function x(e,t,i,n){var o;const a=await e.getRecordsByPage({filter:i,pageToken:t,pageSize:200});return null!==n&&void 0!==n&&n.length?{records:null===(o=a.records)||void 0===o?void 0:o.filter((e=>e&&n.includes(e.recordId))),hasMore:a.hasMore,pageToken:a.pageToken}:a}async function I(e,t,i,o,a){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>!1;const r={conjunction:n.FilterConjunction.And,conditions:[{fieldId:t,operator:n.FilterOperator.Is,value:i}]};o&&r.conditions.push(...o.conditions);const s=[];if(a){const e=await y(a);if(e)if(e.conjunction===n.FilterConjunction.And)r.conditions.push(...e.conditions);else{const e=await a.getVisibleRecordIdList(r);for(const t of e)t&&s.push(t)}}let d,c=[],u=!0;for(;u&&!l();){const{records:t,hasMore:i,pageToken:n}=await x(e,d,r,s);c=c.concat(t),u=i,d=n}return c}async function j(e,t,i,o,a){var l,s;let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>!1;if(null===(l=e.groups)||void 0===l||!l.length)return[];const u=await n.bitable.base.getTableById(i);if(!u)return[];const p=e.groups[0].fieldId,f=o&&o!==h.Jd?await u.getViewById(o):void 0,m=null===(s=e.dataRange)||void 0===s?void 0:s.filterInfo;let y=f;if(y||(y=await(0,g.Xk)(u)),!y)return[];const w=await(0,v.oo)({view:y,table:u,isGetOriginType:!0,includeHiddenField:o===h.Jd});if(null===w||void 0===w||!w.length)return[];const b=await async function(e,t){const i=t.find((t=>t.id===e));var o;if((null===i||void 0===i?void 0:i.type)===n.FieldType.SingleSelect)return null===(o=i.property)||void 0===o?void 0:o.options;if((null===i||void 0===i?void 0:i.type)===n.FieldType.Lookup&&(null===i||void 0===i?void 0:i.originType)===n.FieldType.SingleSelect){const e=null===i||void 0===i?void 0:i.property;if(!e)return;try{var a;const t=await n.bitable.base.getTableById(e.refTableId);if(!t)return;const i=await t.getFieldMetaById(e.refFieldId);if(!i||i.type!==n.FieldType.SingleSelect)return;return null===(a=i.property)||void 0===a?void 0:a.options}catch{}}}(p,w),C=[];let x=0;for(const n of t){var j;if(c())break;const e=null!==b&&void 0!==b&&b.length&&(null===b||void 0===b||null===(j=b.find((e=>e.name===n)))||void 0===j?void 0:j.id)||n,t=await I(u,p,e,m,f,c);if(c())break;if(null===t||void 0===t||!t.length)continue;const i=await Promise.all(d()(r()(t,Boolean),(e=>(0,g.mJ)(e,w))));for(const n of i)n&&(x++,C.push({recordId:n.id,index:x,...n.cells}));if(c())break;null===a||void 0===a||a(C)}return C}async function M(){var e;return(null===(e=(await n.dashboard.getConfig()).customConfig)||void 0===e?void 0:e.columnsWidth)||{}}},47046:(e,t,i)=>{"use strict";i.d(t,{Gn:()=>Q,LZ:()=>Y,Pk:()=>R,Pu:()=>W,QU:()=>D,VW:()=>L,Xk:()=>Z,fN:()=>$,mJ:()=>G,qf:()=>J,uU:()=>S});var n=i(78587),o=i.n(n),a=i(74720),l=i.n(a),r=i(88716),s=i.n(r),d=i(34362),c=i.n(d),u=i(7070),p=i.n(u),h=i(23903),v=i.n(h),g=i(18765),f=i.n(g),m=i(55349),y=i.n(m),w=i(49623),b=i.n(w),C=i(82959),x=i.n(C),I=i(18878),j=i.n(I),M=i(55881),k=i(98238),T=i(20935),E=i(37160),P=i(73908);const O=[M.FieldType.User,M.FieldType.CreatedUser,M.FieldType.ModifiedUser],_={[M.FieldType.Number]:e=>e,[M.FieldType.Text]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.text)).join(""),[M.FieldType.SingleSelect]:e=>null===e||void 0===e?void 0:e.id,[M.FieldType.MultiSelect]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[M.FieldType.DateTime]:e=>e,[M.FieldType.CreatedTime]:e=>e,[M.FieldType.ModifiedTime]:e=>e,[M.FieldType.User]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[M.FieldType.ModifiedUser]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[M.FieldType.CreatedUser]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[M.FieldType.Url]:e=>{var t;return null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.link},[M.FieldType.Attachment]:(e,t,i)=>p()(e,(e=>({fileID:e.token,fileType:e.type,fileName:e.name,fileSize:e.size,fileExt:e.type.replace("image/","").replace("application/",""),url:"",token:e.token,fieldId:t.id,recordId:i}))),[M.FieldType.Location]:e=>(0,P.vC)(e),[M.FieldType.Barcode]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.text)).join(","),[M.FieldType.AutoNumber]:e=>e.value?Number(e.value):null},S={0:"",1:"multiLineText",2:"number",3:"singleChoice",4:"multiChoice",5:"datetime",7:"boolean",11:"member",13:"multiLineText",15:"hyperlink",17:"attachment",18:"",19:"lookup",20:"formula",21:"",22:"coordinate",23:"",1001:"createTime",1002:"updateTime",1003:"creator",1004:"updater",1005:"number",99001:"multiLineText",99002:"",99003:"number",99004:"",99005:"multiLineText"},N=Object.keys(S).filter((e=>""!==S[Number(e)])).map(Number),L=async()=>{const e=await M.bitable.bridge.getData("infoWindowConfig");return s()(e)?{columnIDs:[],closeWay:"clickOtherPOI",coverImage:null,coverImages:null,layout:"horizontal"}:e.infoWindowConfig},D=async(e,t)=>{const i=await M.bitable.bridge.getData("infoWindowConfig"),n={closeWay:e.closeWay,layout:e.layout,columnIDs:{...null===i||void 0===i?void 0:i.columnIDs,...e.columnIDs},coverImages:{...null===i||void 0===i?void 0:i.coverImages,...e.coverImages}};await M.bitable.bridge.setData("infoWindowConfig",{infoWindowConfig:n}),t({type:"project/updateInfoWindowConfig",payload:n})},R=async(e,t,i,n)=>{if(!t||!e)return;const o=await M.bitable.base.getTableById(e);return await(null===o||void 0===o?void 0:o.getAttachmentUrl(t,i,n))},Z=async e=>{const t=await(async e=>{const t=(await(null===e||void 0===e?void 0:e.getViewMetaList())).filter((e=>e.type===M.ViewType.Grid));return p()(t,(e=>({id:e.id,name:e.name})))})(e);if(0===t.length)return null;return await(null===e||void 0===e?void 0:e.getViewById(t[0].id))};const A=new Map;function F(e,t){var i,n;if(A.has(t))return A.get(t);const a=e.find((e=>{var i;return null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i[t]})),l=null===a||void 0===a||null===(i=a.fields)||void 0===i?void 0:i[t],r=o()(l)?l[0]:l,s=(null===(n=String(r))||void 0===n?void 0:n.split(".")[1])||"";if(!s)return A.set(t,0),0;const d=c()(s,"%")?s.length-1:s.length;return A.set(t,d),d}const z=new Map;function B(e,t){var i;if(z.has(t))return z.get(t);const n=e.find((e=>{var i;return null===e||void 0===e||null===(i=e.fields)||void 0===i?void 0:i[t]})),a=null===n||void 0===n||null===(i=n.fields)||void 0===i?void 0:i[t],l=o()(a)?a[0]:a,r=c()(String(l),"%")?"percentage":c()(String(l),",")?"commaNumber":"number";return z.set(t,r),r}let V=[];const H=new Map,W=async(e,t)=>{const i=V.length?V:await(0,P.Ys)();V=i;let n={records:[],total:0};t&&!H.has(null===t||void 0===t?void 0:t.id)?(n=await async function(e,t){const i=await e.getRecordsByPage({pageSize:t});return{records:i.records,total:i.total}}(t,100),H.set(null===t||void 0===t?void 0:t.id,n)):t&&(n=H.get(t.id)||{records:[],total:0});const o=e.filter((e=>N.includes(e.type))),a=await Promise.all(p()(o,(async e=>{const o={id:e.id,name:e.name,isPrimary:e.isPrimary,type:S[e.type]||""};if(e.property&&[M.FieldType.SingleSelect,M.FieldType.MultiSelect].includes(e.type)){var a;const t=null===(a=e.property)||void 0===a?void 0:a.options,n=p()(t,(e=>({...e,color:v()(i,(t=>t.id===e.color))})));o.typeOptions={choices:n}}else if([M.FieldType.DateTime,M.FieldType.CreatedTime,M.FieldType.ModifiedTime].includes(e.type)&&e.property){const t=e.property,i=t.dateFormat.includes("HH:mm")?"24-hour-clock":"hidden";o.typeOptions={dateFormat:"year/month/day",timeFormat:i,showTimezone:t.displayTimeZone}}else if(e.type===M.FieldType.Number){const{format:t,precision:i}=(0,P.JB)(e.property);o.typeOptions={format:t,precision:i}}else if(e.type===M.FieldType.Currency){const{decimalDigits:t,currencyCode:i}=e.property;o.typeOptions={format:"currency",numberPrefix:i,precision:t}}else if(e.type===M.FieldType.AutoNumber)o.type="formula",o.typeOptions={format:"number",precision:0};else if(e.type===M.FieldType.Formula&&t){var r,s;const a=await t.getFieldById(e.id),d=await a.getProxyType(),c="Number"===(null===(r=e.property)||void 0===r||null===(r=r.dataType)||void 0===r?void 0:r.UIType),u="Currency"===(null===(s=e.property)||void 0===s||null===(s=s.dataType)||void 0===s?void 0:s.UIType);if(d===M.FieldType.SingleSelect&&e.property){const{refTableId:t,refFieldId:n}=e.property;if(t&&n){const e=await(0,E.II)(t,n,i);o.typeOptions={expectedType:S[d],lookupResultType:"original",lookupColumnTypeOptions:{choices:e}}}else{const t=l()(e,"property.dataType.property.options"),n=p()(t,(e=>({...e,color:v()(i,(t=>t.id===e.color))})));o.typeOptions={expectedType:S[d],lookupResultType:"original",lookupColumnTypeOptions:{choices:n}}}}else if(u){const t=F(n.records,e.id)||0;o.typeOptions={precision:t,format:"currency",numberPrefix:l()(e.property,"currencyCode"),expectedType:"number"}}else if(d===M.FieldType.Number||c){const t=F(n.records,e.id)||0,i=B(n.records,e.id)||"number";o.typeOptions={precision:t,format:i,numberPrecision:t,numberFormat:i,expectedType:S[d]||"number"}}else o.typeOptions={expectedType:S[d]||"multiLineText"}}else{if(e.type!==M.FieldType.Lookup||!t)return o;try{var d;const a=await t.getFieldById(e.id),l=null!==(d=await a.getProxyType())&&void 0!==d?d:await(0,E.iP)(e);let r=0,s="number";var c,u;if(l===M.FieldType.Number)r=null!==(c=F(n.records,e.id))&&void 0!==c?c:0,s=null!==(u=B(n.records,e.id))&&void 0!==u?u:"number",o.typeOptions={precision:r,format:s,lookupColumnType:"number",lookupResultType:"original"};else if(l===M.FieldType.SingleSelect&&e.property){const{refTableId:t,refFieldId:n}=e.property,a=await(0,E.II)(t,n,i);o.typeOptions={lookupColumnType:S[l],lookupResultType:"original",lookupColumnTypeOptions:{choices:a}}}else o.typeOptions={precision:r,lookupColumnType:S[l],lookupResultType:l===M.FieldType.Text||l===M.FieldType.Number||l===M.FieldType.Location||l===M.FieldType.DateTime||l===M.FieldType.AutoNumber||l===M.FieldType.Barcode||l===M.FieldType.Email||l===M.FieldType.Phone?"original":void 0};if(l===M.FieldType.Formula){const{refTableId:t,refFieldId:n}=e.property,a=await M.bitable.base.getTableById(t),r=await(null===a||void 0===a?void 0:a.getFieldById(n)),s=await(null===r||void 0===r?void 0:r.getProxyType());if(l===M.FieldType.SingleSelect){const{refTableId:t,refFieldId:n}=e.property,a=await(0,E.II)(t,n,i);o.typeOptions={expectedType:S[l],lookupColumnTypeOptions:{choices:a}}}else o.typeOptions={...o.typeOptions,lookupColumnTypeOptions:{expectedType:S[s]}}}}catch(h){return console.error("---error---",h),{...o,type:""}}}return o})));return{columns:f()(a,(e=>{var t;return""!==String(null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)})),rowsCount:n.total}},U=async(e,t)=>await(0,P.PF)(e,t,((e,t)=>e.getRecordsByPage(t))),q=async(e,t)=>{var i;const n=null===(i=t.fields)||void 0===i?void 0:i[e.id],a=e.originType,l=await(async(e,t,i)=>{const{type:n,originType:a}=e;if(!t&&0!==t&&!1!==t&&""!==t)return null;const l=_[n];if(l)return l(t,e,i);var r,s,d,c;if(n===M.FieldType.Lookup)return a&&O.includes(a)?x()(p()(t,(e=>null===e||void 0===e?void 0:e.id))):a===M.FieldType.Number?o()(t)?null===(r=p()(t,(e=>e)))||void 0===r?void 0:r.join(","):t:a===M.FieldType.Location?o()(t)?await(0,P.vC)(t[0]):await(0,P.vC)(t):a===M.FieldType.DateTime||a===M.FieldType.CreatedTime||a===M.FieldType.ModifiedTime?o()(t)?1===t.length?t[0]:null===(s=p()(t,(e=>e)))||void 0===s?void 0:s.join(","):t:a===M.FieldType.SingleSelect||a===M.FieldType.MultiSelect?p()(t,(e=>null===e||void 0===e?void 0:e.id)):a===M.FieldType.Attachment?o()(t)?p()(t,(e=>{var t;return{fileID:null===e||void 0===e?void 0:e.token,fileType:null===e||void 0===e?void 0:e.type,fileName:null===e||void 0===e?void 0:e.name,fileSize:null===e||void 0===e?void 0:e.size,fileExt:null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.replace("image/",""),url:"",token:null===e||void 0===e?void 0:e.token}})):null:a===M.FieldType.Checkbox?o()(t)?t[0]:t:a===M.FieldType.Url?o()(t)?null===(d=t[0])||void 0===d?void 0:d.link:t:a===M.FieldType.Currency?o()(t)?t[0]:isNaN(Number(t))?t:Number(t):a===M.FieldType.Barcode?p()(t,(e=>null===e||void 0===e?void 0:e.text)).join(","):a===M.FieldType.Email||a===M.FieldType.Phone?o()(t)?null===t||void 0===t?void 0:t.join(","):t:a===M.FieldType.AutoNumber?o()(t)?Number(null===t||void 0===t||null===(c=t[0])||void 0===c?void 0:c.value):t:o()(t)?null===t||void 0===t?void 0:t.map((e=>e.text)).filter((e=>","!==e)).join(","):t;if(n===M.FieldType.Formula){if(a===M.FieldType.Location)return o()(t)?await(0,P.vC)(t[0]):await(0,P.vC)(t);if(o()(t)){const e=null===t||void 0===t?void 0:t[0];return b()(e)?null===e||void 0===e?void 0:e.text:e}return t}return o()(t)?null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.text)).join(","):(null===t||void 0===t?void 0:t.text)||t})(e,n,t.recordId),r={};if(e.type===M.FieldType.Location)r[e.id]=null===l||void 0===l?void 0:l.coordinate,r["".concat(e.id,"-fullAddress")]=null===l||void 0===l?void 0:l.fullAddress;else if(O.includes(e.type))r[e.id]=l,r["".concat(e.id,"-member")]=JSON.stringify(n);else if(e.type===M.FieldType.Lookup)a&&O.includes(a)?(r[e.id]=l,r["".concat(e.id,"-member")]=JSON.stringify(n)):a===M.FieldType.Number?r[e.id]=o()(l)?l:l?[Number(l)]:[]:a===M.FieldType.Location?(r[e.id]=null===l||void 0===l?void 0:l.coordinate,r["".concat(e.id,"-fullAddress")]=null===l||void 0===l?void 0:l.fullAddress):a===M.FieldType.Text?r[e.id]=y()(l)?"":String(l):r[e.id]=l;else if(e.type===M.FieldType.Formula){const t=c()(l,"%"),i=(0,k.DB)(l),n=c()(l,","),o=Number(l);if(t)r[e.id]=Number(l.replace("%",""))/100;else if(i){const t=l.replace(/[^\d.]/g,"");r[e.id]=Number(t)}else if(n)r[e.id]=Number(null===l||void 0===l?void 0:l.replaceAll(",",""));else if(!j()(o)||isNaN(l)||y()(l)||s()(l))if(a===M.FieldType.Location){const t=l;r[e.id]=null===t||void 0===t?void 0:t.coordinate,r["".concat(e.id,"-fullAddress")]=null===t||void 0===t?void 0:t.fullAddress}else r[e.id]=l;else r[e.id]=o}else r[e.id]=l;return r},G=async(e,t)=>{const i=await Promise.all(p()(t,(t=>q(t,e))));return{id:e.recordId,cells:Object.assign({},...i)}},$=async(e,t)=>{if(!e)return null;const i=await M.bitable.base.getTableById(e),n=t&&t!==T.J?await i.getViewById(t):await Z(i);if(!n)return{rows:[],id:e,more:!1};const[o,a]=await Promise.all([U(i,{pageSize:200,viewId:t&&t!==T.J?n.id:void 0}),(0,E.oo)({view:n,table:i,isGetOriginType:!0,includeHiddenField:t===T.J})]);return{rows:await Promise.all(p()(f()(o,Boolean),(e=>G(e,a)))),id:e,more:!1}},J=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=e.id,n=await Z(e);if(!n)return{id:i,type:"table",columns:[]};const o=await(0,E.oo)({view:n,table:e,isGetOriginType:!1,useCache:t}),{columns:a,rowsCount:l}=o?await W(o,e):{columns:[],rowsCount:0};return{id:i,type:"table",columns:a,rowsCount:l}},K=new Map,Y=async(e,t)=>{if(K.has(e))return K.get(e)||[];const i=await M.bitable.base.getTableById(e),n=t?await i.getViewById(t):await Z(i);if(!n)return[];const o=await n.getFieldMetaList(),a=await n.getVisibleFieldIdList(),l=o.filter((e=>a.includes(e.id))).map((e=>e.id));return K.set(e,l),l},Q=async()=>await(0,P.Ys)()},44229:(e,t,i)=>{"use strict";i.d(t,{OZ:()=>l,P_:()=>r});var n=i(55881),o=i(27371);const a=async()=>{const[e,t]=await Promise.all(["editable","manageable"].map((async e=>await n.bitable.base.getPermission({entity:n.PermissionEntity.Base,type:e}))));return e||t},l=async e=>await n.bitable.base.getPermission({entity:n.PermissionEntity.Table,type:n.OperationType.Visible,param:{tableId:e}});async function r(e){return!!await a()||(o.ZP.warning(e.$t({id:"CFcBPi",defaultMessage:"You do not have permission to edit the map"})),!1)}},37160:(e,t,i)=>{"use strict";i.d(t,{II:()=>s,ax:()=>h,iP:()=>r,oJ:()=>p,oo:()=>u});var n=i(55881),o=i(7070),a=i.n(o);i(1714),i(47046),i(73908);const l=new Map;async function r(e){const{refTableId:t,refFieldId:i}=e.property,o="".concat(t,"-").concat(i);if(l.has(o))return l.get(o);try{const e=await n.bitable.base.getTableById(t),a=await(null===e||void 0===e?void 0:e.getFieldById(i)),r=await a.getType();return l.set(o,r),r}catch(a){return console.error("---error---",a),""}}async function s(e,t,i){var o;if(!e||!t)return[];const a=await n.bitable.base.getTableById(e),l=await(null===a||void 0===a?void 0:a.getFieldById(t));return(null===(o=(await(null===l||void 0===l?void 0:l.getMeta())).property)||void 0===o?void 0:o.options).map((e=>({...e,color:i.find((t=>t.id===e.color))})))}const d=new Map,c=new Map;async function u(e){let{view:t,table:i,isGetOriginType:o=!1,useCache:l=!0,includeHiddenField:s}=e;const u=null===i||void 0===i?void 0:i.id,p=t.id,h="".concat(u,"-").concat(p);if(c.has(h)&&l)return c.get(h);const v=await t.getFieldMetaList(),g=s?v.map((e=>e.id)):await t.getVisibleFieldIdList(),f=v.filter((e=>g.includes(e.id)));if(!o||!i)return f;const m=await Promise.all(a()(f,(async e=>{const t="".concat(u,"-").concat(e.id);if(d.has(t))return d.get(t);if(e.type===n.FieldType.Lookup||e.type===n.FieldType.Formula){var o;const n=await i.getFieldById(e.id),a=null!==(o=await n.getProxyType())&&void 0!==o?o:await r(e),l={...e,originType:a};return d.set(t,l),l}return e})));return c.set(h,m),m}async function p(e){return!!e&&await n.bitable.base.isTableExist(e)}async function h(e,t){if(!e||!t)return!1;const i=await n.bitable.base.getTableById(e);return!!i&&await i.isViewExist(t)}},73908:(e,t,i)=>{"use strict";i.d(t,{PF:()=>d,Ys:()=>r,vC:()=>l,JB:()=>s});var n=i(55881),o=i(94908),a=i(43239);function l(e){const t=e,i=t.location.split(",").map(Number),n=(0,o.transformGCJ02ToWGS84)(i,!0);return{fullAddress:t.fullAddress||t.full_address,coordinate:"POINT(".concat(n.join().replace(","," "),")")}}const r=async()=>(await n.bitable.ui.getSelectOptionColorInfoList()).filter((e=>-1!==e.id));function s(e){const{formatter:t}=e;let i=0,n="number";return n=t.includes("#,##")?"commaNumber":t.includes("%")?"percentage":"number",i="0.00%"===t||"#,##0.00"===t?2:"0%"===t||"#,##0"===t||"0.0"===t?0:t.includes(".")?t.split(".")[1].length:0,{format:n,precision:i}}const d=async(e,t,i)=>{const n=(0,a.Z)(5),o=null!==t&&void 0!==t&&t.pageSize&&(null===t||void 0===t?void 0:t.pageSize)>200?200:(null===t||void 0===t?void 0:t.pageSize)||200;let l=[],r=!0,s=0;const d=async n=>{try{return await i(e,{...t,pageToken:n,pageSize:o})}catch(a){return console.error("Error fetching page:",a),null}};for(;r;){const e=[];for(let i=0;i<5&&r;i++){const t=s;e.push(n((()=>d(t)))),s+=o}const t=await Promise.all(e);for(const i of t)i?(l=l.concat((null===i||void 0===i?void 0:i.records)||(null===i||void 0===i?void 0:i.recordIds)||[]),r=i.hasMore):r=!1}return l}},74695:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/")});class l extends o.tr{async getPlanPrice(e,t,i,n,o,a){const l=n?"&quantity=".concat(n):"",r=a?"&monthly=true":"",s=o?"&thirdpartyOrgID=".concat(o):"",{data:d}=await this.fetch.get("plan/".concat(e,"/").concat(t,"/?currency=").concat(i||"CNY").concat(l).concat(s).concat(r));return d}async createOrder(e,t,i){const{data:n}=await this.fetch.post("plan/".concat(e,"/").concat(t,"/"),i);return n}async getOrdersPlan(e){const{data:t}=await this.fetch.get("plan/".concat(e,"/"));return t}async getOrder(e){const{data:t}=await this.fetch.get("order/".concat(e,"/"),{ignoreError:!0});return t}async listOrder(e){const{data:t}=await this.fetch.get("order/list/",{params:{orgID:e,limit:100},ignoreError:!0});return t}async syncStripePayStatus(e,t){const i="/cb/stripe_payment/no_redirect/?redirect_status=".concat(e).concat(t?"&payment_intent=".concat(t):""),{data:n}=await this.fetch.get(i);return n}async stat(e){const{data:t}=await this.fetch.get("plan/".concat(e,"/stat/"));return t.detail}async usage(e,t,i,n){const{data:o}=await this.fetch.get("plan/".concat(e,"/usage/"),{params:{projectID:t,months:i,limit:n}});return o.detail}async getQuota(){const{data:e}=await this.fetch.get("config/quota/");return e.detail}}const r=new l(a)},6831:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(74797),o=i(22963),a=i(98403);const l=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/projects/")});class r extends o.tr{async create(e){let{workspaceID:t,thirdpartyItemId:i,name:n}=e;const{data:o}=await this.fetch.post("",{workspaceID:t,thirdpartyItemId:i,name:n,icon:"mapPin",timezone:(0,a.vd)()});return o}async getProjectById(e){const{data:t}=await this.fetch.get("".concat(e,"/"));return t}async update(e,t,i,n){const{data:o}=await this.fetch.patch("".concat(e,"/"),{name:t,mapConfig:i,workspaceID:n});return o}async getLayerNodes(e){const{data:t}=await this.fetch.get("".concat(e,"/layernodes/"));return t}async getTemplates(e){try{const{data:t}=await this.fetch.get("templates/",{params:{type:e},ignoreError:!0});return t.detail}catch{return}}async useTemplate(e,t,i){const{data:n}=await this.fetch.post("".concat(e,"/templates/").concat(t,"/"),{tables:i});return n}async getStatistics(e){try{const{data:t}=await this.fetch.get("".concat(e,"/statistics/"));return t.detail}catch{return null}}async updateStatistics(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/statistics/"),{statistics:t});return i}}const s=new r(l)},41867:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/services")});class l extends o.tr{async mpTrack(e,t,i){}async mpTrackPageViewAnonymous(e,t){await this.mpTrack("Page View",{"Page Type":e,locale:t},!0)}async mpTrackPageView(e,t,i,n){n&&(i={...i,project_id:n.id,project_name:n.name}),await this.mpTrack("Page View",{"Page Type":e,locale:t,...i})}async mpTrackClick(e,t,i,n,o){o&&(n={...n,project_id:o.id,project_name:o.name}),await this.mpTrack("Click "+t,{"Page Type":e,locale:i,...n})}async mpTrackWidget(e,t,i,n){n&&(i={...i,project_id:n.id,project_name:n.name}),await this.mpTrack(e,{locale:t,...i})}}const r=new l(a)},543:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/users/")});class l extends o.tr{async update(e){const{data:t}=await this.fetch.patch("info/",{seenFeatures:e},{ignoreError:!0});return t}async getCode(){const{data:e}=await this.fetch.get("code/");return e.detail}}const r=new l(a)},40621:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(33718);const o={upgradeButton:"upgradeButton_upgradeButton__Urz8Z"};var a=i(94553);function l(e){let{children:t,className:i,onClick:l}=e;return(0,a.jsx)("button",{className:(0,n.default)(o.upgradeButton,i),onClick:l,children:t})}},41928:(e,t,i)=>{"use strict";i.d(t,{Xe:()=>o,l5:()=>n});const n={"zh-CN":"https://maptable.feishu.cn/share/base/form/shrcnQ7rQOlZW420SjckrSD2rMb","en-US":"https://maptable.feishu.cn/share/base/form/shrcnWl4DlKc0hjM8NjXQzXaQ9e"},o="https://maptable.larksuite.com/wiki/Obuzwf6p9iY4RukbS67up2Msshg"},34061:(e,t,i)=>{"use strict";i.d(t,{Hf:()=>l,cr:()=>r,g_:()=>n});i(15328);const n="https://i4l84z88kt.feishu.cn/admin/appCenter/manage/cli_a4a56ec73a79d00e",o="https://applink.feishu.cn/T8CfK3vVJMC7",a="https://applink.larksuite.com/T8RTXudOs7uc",l=(r(!1),"https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=434v62ff-d162-4cd1-8aed-5a769d44dad6");function r(e){return e?o:a}},37624:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{F:()=>u});var o=i(57435),a=i(69273),l=i(30289),r=i(68906),s=(i(93707),i(3705)),d=e([a]);function u(){const e=(0,r.Z)((e=>e.user)),t=(0,r.Z)((e=>e.app.networkStatus===s.Ie.ONLINE)),i=(0,r.Z)((e=>e.project.currentProjectId)),n=(0,o.useRef)(),{data:d}=(0,l.ZP)(t&&e.userId&&e.token&&i?["websocket",e.userId,e.token,i]:null,(async()=>await(0,a.Y)({user:e.userId,token:e.token,org:i})));(0,o.useEffect)((()=>{void 0===n.current&&t||(n.current=!t)}),[t]),(0,o.useEffect)((()=>{!1===n.current&&t&&d&&(d.close(),d.forceReconnect({session:e.sessionId}))}),[e,t,n,d])}a=(d.then?(await d)():d)[0],n()}catch(c){n(c)}}))},68906:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n=i(82583).v9},75805:(e,t,i)=>{"use strict";i.d(t,{M:()=>u});var n=i(46481),o=i(18765),a=i.n(o),l=i(34362),r=i.n(l),s=i(88716),d=i.n(s);const c=(0,n.P1)([(e,t)=>e.map.hiddenLayerIds[t],(e,t)=>e.project.layerNodes[t]],((e,t)=>a()(t,(t=>"map"===t.type&&!r()(e,t.id))))),u=(0,n.P1)(((e,t)=>c(e,t)),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!d()(e)&&!d()(t)&&(e.length===t.length&&e.every(((e,i)=>e.id===t[i].id&&e.version===t[i].version)))}})},30768:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>T,ZP:()=>k,Hx:()=>E});var n=i(49163),o=i(18765),a=i.n(o),l=i(53926),r=i.n(l),s=i(76592),d=i(1714),c=i(66168),u=i(22138),p=i(95436),h=i(46331);const v=(0,n.HF)({sortComparer:(e,t)=>-e.createTime.localeCompare(t.createTime)});var g=i(70093);const f=(e,t,i)=>{t.forEach((t=>{"map"===t.type&&(e.zIndexMap[t.id]=i.count--),t.children&&f(e,t.children,i)}))};const m={create:function(e,t){v.addOne(e,t.payload)},update:function(e,t){const{projectID:i,updatedFields:n}=t.payload;v.updateOne(e,{id:i,changes:n})},uesTemplate:function(e,t){const i=t.payload,n=e.layerNodes[i.projectID]||[];e.layerNodes[i.projectID]=[...n,...i.layerNodes]},updateMapSiderVisible:function(e,t){e.mapSiderVisible=t.payload,e.currentProjectId&&g.t.set(e.currentProjectId,"map:sider",t.payload)},setProjects:function(e,t){v.removeAll(e),v.addMany(e,t.payload.projects)},setProject:function(e,t){v.getSelectors().selectById(e,t.payload.id)?v.updateOne(e,{id:t.payload.id,changes:t.payload}):v.addOne(e,t.payload)},setColors:function(e,t){e.colors=t.payload},setCurrentOrgId:function(e,t){e.currentOrgId=t.payload},updateCurrentProjectId:function(e,t){var i;e.currentProjectId=t.payload,t.payload&&(e.mapSiderVisible=null===(i=g.t.get(t.payload,"map:sider"))||void 0===i||i)},updateZIndexMap:function(e,t){const{payload:i}=t;let n=0;var o;e.layerNodes[i.projectID]&&(null===(o=e.layerNodes[i.projectID])||void 0===o||o.forEach((e=>{"map"===e.type&&n++})),f(e,i.treeData,{count:n})),e.zIndexMap={...e.zIndexMap}},updateInfoWindowConfig:function(e,t){e.infoWindowConfig=t.payload},setUpgradeDialogVisible:function(e,t){e.showUpgradeDialog=t.payload,e.upgradeType="upgrade",e.showUpgradePlanDialog=!1},setUpgradeType:function(e,t){e.showUpgradeDialog=!0,e.upgradeType=t.payload},setUpgradePlanDialogVisible:function(e,t){e.showUpgradePlanDialog=t.payload},setShowTrialDialogVisible:function(e,t){e.showTrialDialog=t.payload},updateMultiLineTextEditor:function(e,t){Object.assign(e.multiLineTextEditor,t.payload)},updateCoordinateEditor:function(e,t){t.payload.config?(r().set(u.GD,{...e.coordinateEditor.config,...t.payload.config}),Object.assign(e.coordinateEditor.config,t.payload.config)):Object.assign(e.coordinateEditor,t.payload)},setMembers:function(e,t){e.members=t.payload},setShowLimitUseMask:function(e,t){e.showLimitUseMask=t.payload},setShowIpMask:function(e,t){e.showIpMask=t.payload},addLayerNodeForProject:function(e,t){const{projectId:i}=t.payload,n=e.layerNodes[i]||[];e.layerNodes[i]=[...n,t.payload.layerNode]},updateLayerNodeForProject:function(e,t){const{projectId:i,layerNode:n}=t.payload,o=e.layerNodes[i];e.layerNodes[i]=null===o||void 0===o?void 0:o.map((e=>e.id===n.id?{...e,...n,stale:!0,version:Date.now()}:e))},setDrillDownState:function(e,t){e.drillDown=t.payload},setCanSharedView:function(e,t){e.canSharedView=!!t.payload},removeLayerNodes:function(e,t){const{projectId:i,layerNodeIds:n}=t.payload,o=e.layerNodes[i];e.layerNodes[i]=null===o||void 0===o?void 0:o.filter((e=>!n.includes(e.id)))},setReadonlyLayerNodeIds:function(e,t){const{projectId:i,layerNodeIds:n}=t.payload,o=e.layerNodes[i];e.layerNodes[i]=null===o||void 0===o?void 0:o.map((e=>n.includes(e.id)?{...e,readonly:!0}:e))},setIsDashboardData:function(e,t){e.isDashboardData=t.payload},setConditionVersion:function(e,t){e.configConditionVersion=t.payload},setDashboardNoPermission:function(e,t){e.dashboardNoPermission=t.payload},setDefaultRegion:function(e,t){e.defaultRegion=t.payload}};var y=i(6831),w=i(40365);const b="project",{createAsyncAction:C}=(0,w.w)({typePrefix:b,syncWithWebSocket:!0}),x=(0,w.w)({typePrefix:b,syncWithWebSocket:!1}).createAsyncAction,I=(x("update",(async e=>{const{projectId:t,name:i,mapConfig:n,workspaceID:o}=e;return await y.Z.update(t,i,n,o)})),x("getLayerNodes",(async e=>await y.Z.getLayerNodes(e)))),j=(C("projectUseTemplate",(async(e,t)=>{let{requestId:i}=t;const{projectId:n,templateId:o,tables:a}=e;return await y.Z.withRequestId(i).useTemplate(n,o,a)})),v.getInitialState({mapSiderVisible:!0,canSharedView:!1,currentProjectId:null,isDashboardData:!1,configConditionVersion:0,dashboardNoPermission:!1,previewMapInfos:{},computedPreviewMapInfos:{},zIndexMap:{},layerNodes:{},infoWindowConfig:{},colors:[],showUpgradeDialog:!1,showUpgradePlanDialog:!1,showTrialDialog:!0,showLimitUseMask:!1,coordinateEditor:{visible:!1,config:r().get(u.GD,p.BE)},members:[],multiLineTextEditor:{visible:!1},customizeBaseMap:[],defaultRegion:{aggregateBy:"admin1",level:"admin1"}})),M=(0,n.oM)({name:"project",initialState:j,reducers:m,extraReducers(e){e.addCase(I.fulfilled,((e,t)=>{e.layerNodes[t.payload.detail.id]=t.payload.detail.layerNodes})),e.addCase(s.Nw.create,((e,t)=>{const i=t.payload,n=e.layerNodes[i.projectID]||[];e.layerNodes[i.projectID]=[...n,i]})).addCase(s.Nw.refreshStaleLayer,((e,t)=>{t.payload.layerId})).addCase(s.Nw.update,((e,t)=>{var i;const{projectID:n,layerNodeID:o,updatedFields:a}=t.payload;n&&o&&(e.layerNodes[n]=null===(i=e.layerNodes[n])||void 0===i?void 0:i.map((e=>e.id===o?{...e,...a,stale:!0,version:Date.now()}:e)))})).addCase(s.Nw.vtRecreate,((e,t)=>{var i;const{projectID:n,layerNodes:o}=t.payload;null!==o&&void 0!==o&&o.length&&(e.layerNodes[n]=null===(i=e.layerNodes[n])||void 0===i?void 0:i.map((e=>{const t=null===o||void 0===o?void 0:o.find((t=>t.id===e.id));return null!==t&&void 0!==t&&t.mapInfo?{...e,mapInfo:t.mapInfo,vtInfo:t.vtInfo,stale:!0,version:Date.now()}:e})))})).addCase(s.Nw.move,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.layerNodes[n.projectID])||void 0===i?void 0:i.find((e=>e.id===n.id));o&&Object.assign(o,{order:n.order,parentID:n.parentID}),e.layerNodes={...e.layerNodes}})).addCase(c.X5,((e,t)=>{const{payload:i}=t,n=i.ids;e.layerNodes[i.projectID]=a()(e.layerNodes[i.projectID],(e=>n.indexOf(e.id)<=-1))})).addCase(c.lZ,((e,t)=>{const i=t.payload;i.mapInfo?e.previewMapInfos={[i.id]:i.mapInfo}:(delete e.previewMapInfos[i.id],delete e.computedPreviewMapInfos[i.id])})).addCase(c.Q$,((e,t)=>{const i=t.payload;i.id&&i.mapInfo&&(e.computedPreviewMapInfos={[i.id]:i.mapInfo})})),e.addCase(d.Nw.setDetail,((e,t)=>{const{payload:i}=t;if(e.currentProjectId){const t=e.entities[e.currentProjectId];if(t){const n=t.tableNodes||[],o=n.findIndex((e=>e.id===i.id)),a=i;o&&o>-1?n.splice(o,1,a):n.push(a);const l={...t,tableNodes:n};v.setOne(e,l)}}})),e.addCase(h.ut,((e,t)=>{e.customizeBaseMap=t.payload})).addCase(h.ip,((e,t)=>{e.customizeBaseMap=[...e.customizeBaseMap,t.payload]})).addCase(h.P8,((e,t)=>{e.customizeBaseMap=a()(e.customizeBaseMap,(e=>e.id!==t.payload.id))})).addCase(h.$1,((e,t)=>{e.customizeBaseMap=e.customizeBaseMap.map((e=>e.id===t.payload.id?{...e,...t.payload.updatedFields}:e))}))}}),k=M,T=M.actions,E=v.getSelectors((e=>e.project))},18293:(e,t,i)=>{"use strict";i.d(t,{x4:()=>y});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/auth/")});class l extends o.tr{async login(e){const{data:t}=await this.fetch.post("login/",e);return{...t.detail,...t.extra}}async authorize(){const{data:e}=await this.fetch.get("authorize/");return e.detail}async sign(e,t,i){const{data:n}=await this.fetch.get("h5sign/",{params:{appID:e,url:i,type:t}});return n.detail}}const r=new l(a);var s,d=i(543),c=i(89983),u=i(95436);const p=(0,o.Fs)({baseURL:null===(s=n.Z.baseApiURL)||void 0===s?void 0:s.replace("/thirdparty","")});class h extends o.tr{async getLocation(){const{data:e}=await this.fetch.get("/get_ip_loc/");return e.detail}}const v=new h(p);var g=i(40365),f=i(48466);const{createAsyncAction:m}=(0,g.w)({typePrefix:"user"}),y=m("login",(async e=>{const t=await r.login(e);return(0,f.l)(t.token,t.refreshToken),t}));m("update",(async e=>{const{seenFeatures:t}=e;return await d.Z.update(t)})),m("getIpLocation",(async()=>{var e;const{country:t,ip_loc:i}=await v.getLocation();return{country:t,center:i?null===(e=(0,c.HF)(i))||void 0===e?void 0:e.coordinates.join(","):"\u4e2d\u56fd"===t?u.ry.join(","):u.lf.join(","),isAbroad:"\u4e2d\u56fd"!==t}}))},42304:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>c,ZP:()=>d});var n=i(49163),o=i(18293);const a=(0,n.HF)({selectId:e=>e.id});const l={login:function(e,t){},setAuth:function(e,t){return{...e,isAuth:t.payload}},setSessionId:function(e,t){e.sessionId=t.payload},setSharedUserSessionId:function(e,t){e.sharedUser&&(e.sharedUser={...e.sharedUser,sessionId:t.payload})},setUserId:function(e,t){e.userId=t.payload},setOrgId:function(e,t){e.orgId=t.payload},setToken:function(e,t){e.token=t.payload},planChange:function(e,t){return t.payload?{...e,planInfo:t.payload}:e},setAuthUrl:function(e,t){e.authUrl=t.payload},setSeenFeatures:function(e,t){e.seenFeatures=t.payload},setGuideVisible:function(e,t){a.setOne(e,t.payload)},setFirstLoadPlugin:function(e,t){e.isFirstLoadPlugin=t.payload},setThirdpartyUserId:function(e,t){e.id=t.payload},setPlatform:function(e,t){e.platform=t.payload},setLocation:function(e,t){e.location=t.payload}},r=a.getInitialState({userId:void 0,isAuth:!1,sessionId:void 0,token:void 0,seenFeatures:void 0,isFirstLoadPlugin:void 0,planInfo:{isPro:!1,isTeam:!1,isTrial:!1,canTrial:!1,trialTimes:0},platform:"feishu"}),s=(0,n.oM)({name:"user",initialState:r,reducers:l,extraReducers(e){e.addCase(o.x4.fulfilled,((e,t)=>{e.isAuth=!0})).addCase(o.x4.rejected,((e,t)=>{throw t.error}))}}),d=s,c=s.actions;a.getSelectors((e=>e.user))},93774:(e,t,i)=>{"use strict";i.d(t,{h:()=>A});var n=i(49163),o=i(70963),a=i(42304),l=i(30768);const r=(0,n.HF)({});const s={list:function(e,t){r.setAll(e,t.payload)},install:function(e,t){r.addOne(e,t.payload)},uninstall:function(e,t){r.removeOne(e,t.payload.id)},update:function(e,t){r.updateOne(e,{id:t.payload.id,changes:t.payload})},updateRegionAggregateVisible:function(e,t){e.regionAggregateVisible=t.payload,t.payload&&(e.boundariesVisible=!1,e.analysisVisible=!1)},updateBoundariesVisible:function(e,t){e.boundariesVisible=t.payload,t.payload&&(e.regionAggregateVisible=!1,e.analysisVisible=!1)},updateAnalysisVisible:function(e,t){e.analysisVisible=t.payload,t.payload&&(e.regionAggregateVisible=!1,e.boundariesVisible=!1)}},d=r.getInitialState({ids:[],entities:{},regionAggregateVisible:!1,boundariesVisible:!1,analysisVisible:!1}),c=(0,n.oM)({name:"extension",initialState:d,reducers:s}),u=c,p=(c.actions,r.getSelectors((e=>e.extension)),(0,n.HF)());var h=i(90013),v=i.n(h);const g={setAll:function(e,t){p.setAll(e,t.payload)},setDetail:function(e,t){const{payload:i}=t,n=e.entities[i.id];if(n){const t={};i.fields&&(t.fields=v()((n.fields||[]).concat(i.fields),"id")),i.records&&(t.records=v()((n.records||[]).concat(i.records),"recordId")),i.views&&(t.views=v()([...i.views,...n.views||[]],"id")),p.updateOne(e,{id:i.id,changes:t})}else p.addOne(e,t.payload)}},f=p.getInitialState({ids:[],entities:{}}),m=(0,n.oM)({name:"bitable",initialState:f,reducers:g}),y=m;m.actions;var w=i(74695),b=i(40365);const{createAsyncAction:C}=(0,b.w)({typePrefix:"quota"}),x=C("get",(async()=>w.Z.getQuota())),I=(0,n.oM)({name:"quota",initialState:{},reducers:{},extraReducers(e){e.addCase(x.fulfilled,((e,t)=>{Object.assign(e,t.payload)}))}}),j=I;I.actions;var M=i(93707),k=i(74909),T=i(1714),E=i(76592),P=i(41711),O=i(65557),_=i(28137),S=i(1667),N=i(95151),L=i(25394),D=i(5129),R=i(71331),Z=i(27052);const A=(0,n.xC)({reducer:(0,o.UY)({app:M.ZP.reducer,user:a.ZP.reducer,project:l.ZP.reducer,workspace:k.ZP.reducer,tableNode:T.ZP.reducer,layerNode:E.ZP.reducer,infoWindow:P.ZP.reducer,map:O.ZP.reducer,cell:D.Z.reducer,annotation:R.Z.reducer,extension:u.reducer,icons:Z.ZP.reducer,bitable:y.reducer,quota:j.reducer}),middleware:e=>e({immutableCheck:{},serializableCheck:{ignoredPaths:["undoRedo"],ignoredActionPaths:["payload.undoAction","payload.redoAction","meta.arg"]}}).concat(_.ZP).concat(S.Z).concat(N.Z).concat(L.Z),preloadedState:F,devTools:!1});var F},69273:(e,t,i)=>{"use strict";i.a(e,(async(e,n)=>{try{i.d(t,{Y:()=>T});var o=i(37588),a=i.n(o),l=i(8942),r=i.n(l),s=i(88716),d=i.n(s),c=i(38981),u=i.n(c),p=i(43179),h=i.n(p),v=i(42304),g=i(93774),f=i(93707),m=i(3705),y=i(22138),w=i(66368);const C=25e3,x=3e3,I=4401,j=5;async function M(e,t,i){let n,o,l=null,s=0;const c=await e();function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.XZ.CONNECTING;t(e)}function f(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(n&&clearTimeout(n),s>j)return p(m.XZ.OVER_MAX_RETRY_COUNT);n=setTimeout((()=>{e.readyState===m.XZ.CONNECTING?f(e,i):window.navigator.onLine?(t(m.XZ.CLOSING),e.close(),l=M(o),s+=1):(e.close(),f(e,i))}),i)}function w(){var e;n&&clearTimeout(n),t(m.XZ.CLOSING),null===(e=l)||void 0===e||e.close()}function b(e){return l=M({...o,...e}),l&&f(l),l}function M(e){var t,r,w;if(l&&(i()===m.XZ.OPEN||i()===m.XZ.CONNECTING))return l;const b=null!==(t=null===e||void 0===e?void 0:e.token)&&void 0!==t?t:a().get(y.o3);if(d()(b))return p(m.XZ.NO_AUTH),l;const j=new URLSearchParams({user:u()(e.user),org:u()(e.org||0),token:null!==(r=null===b||void 0===b?void 0:b.replace("Bearer ",""))&&void 0!==r?r:"",session:null!==(w=e.session)&&void 0!==w?w:""}),M=new WebSocket("".concat(c,"?").concat(j));return M.addEventListener("close",(e=>{console.log("close: ",e,h()().format("YYYY-MM-DD HH:mm:ss")),M===l&&(e.code===I?(n&&clearTimeout(n),p(m.XZ.NO_AUTH)):window.navigator.onLine&&(f(M,x),p(m.XZ.CLOSED)))})),M.addEventListener("error",(e=>{console.log("error: ",e,h()().format("YYYY-MM-DD HH:mm:ss")),f(M,x),p(m.XZ.CLOSED)})),M.addEventListener("open",(t=>{o=e,s=0,console.log("open: ",t,h()().format("YYYY-MM-DD HH:mm:ss")),p(m.XZ.OPEN)})),M.addEventListener("message",(t=>{const i=JSON.parse(t.data);"b"!==i.type?"l"!==i.type?"s"!==i.type?("expired"===i.type&&window.location.reload(),g.h.dispatch({type:i.type,payload:i.payload,meta:{requestID:i.requestID}})):e.token?g.h.dispatch(v.Nw.setSharedUserSessionId(i.payload)):g.h.dispatch(v.Nw.setSessionId(i.payload)):f(M,Math.max(10*i.data,C)):f(M)})),f(M),M}return window.addEventListener("offline",w),e=>(l&&l.readyState===m.XZ.OPEN&&r()(e,o)||(l&&l.readyState===m.XZ.OPEN&&w(),l=M(e)),{ws:l,close:w,forceReconnect:b})}async function k(){return"larkDashboard"===await(0,w.l)()?"wss://maptable.net/websocketd":"wss://maptable.com/websocketd"}const T=await M(k,(e=>{g.h.dispatch(f.Nw.updateWSReadyState(e))}),(()=>g.h.getState().app.wsReadyState));n()}catch(b){n(b)}}),1)},68429:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Ib});var n,o=i(57435),a=i(33718);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l.apply(this,arguments)}function r(e,t){let{title:i,titleId:a,...r}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":a},r),i?o.createElement("title",{id:a},i):null,n||(n=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.1 11.6c-1.296.572-2.1 1.37-2.1 2.25C3 15.59 6.134 17 10 17s7-1.41 7-3.15c0-.881-.804-1.678-2.1-2.25m-.7-4.4c0 2.845-3.15 4.2-4.2 6.3-1.05-2.1-4.2-3.455-4.2-6.3a4.2 4.2 0 1 1 8.4 0m-3.5 0a.7.7 0 1 1-1.4 0 .7.7 0 0 1 1.4 0"})))}const s=o.forwardRef(r);var d;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c.apply(this,arguments)}function u(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,d||(d=o.createElement("path",{d:"m3.885 4.667 1.691 1.69-.943.943-3.3-3.3 3.3-3.3.943.943-1.69 1.69h4.78a5.333 5.333 0 1 1 0 10.667h-6v-1.333h6a4 4 0 0 0 0-8h-4.78z"})))}const p=o.forwardRef(u);var h;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},v.apply(this,arguments)}function g(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,h||(h=o.createElement("path",{d:"M12.115 4.667H7.333a4 4 0 0 0 0 8h6V14h-6a5.333 5.333 0 1 1 0-10.666h4.782l-1.691-1.691.943-.943 3.3 3.3-3.3 3.3-.943-.942 1.69-1.691z"})))}const f=o.forwardRef(g);var m;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},y.apply(this,arguments)}function w(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,m||(m=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 8h8M2 4h12m-8 8h4"})))}const b=o.forwardRef(w);var C;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},x.apply(this,arguments)}function I(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,C||(C=o.createElement("path",{d:"M7.333 2.667H14V4H7.333zm0 2.666h4v1.334h-4zm0 4H14v1.333H7.333zm0 2.667h4v1.333h-4zM2 2.666h4v4H2zM3.333 4v1.333h1.334V4zM2 9.333h4v4H2zm1.333 1.333V12h1.334v-1.334z"})))}const j=o.forwardRef(I);var M;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},k.apply(this,arguments)}function T(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,M||(M=o.createElement("path",{d:"M8 5.333H5.334v8H4v-8H1.333L4.667 2zm6.667 5.334L11.333 14 8 10.667h2.667v-8H12v8z"})))}const E=o.forwardRef(T);var P;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},O.apply(this,arguments)}function _(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,P||(P=o.createElement("path",{d:"m12.02 11.078 2.856 2.855-.943.943-2.855-2.855a6.002 6.002 0 0 1-9.745-4.687c0-3.313 2.688-6 6-6a6.002 6.002 0 0 1 4.688 9.744zm-1.337-.494A4.65 4.65 0 0 0 12 7.334a4.665 4.665 0 0 0-4.667-4.667 4.665 4.665 0 0 0-4.666 4.667 4.665 4.665 0 0 0 7.916 3.35z"})))}const S=o.forwardRef(_);var N,L;function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},D.apply(this,arguments)}function R(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,N||(N=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m7.829 16.142.487 1.096a1.843 1.843 0 0 0 3.37 0l.487-1.096a2.02 2.02 0 0 1 2.059-1.186l1.191.127a1.844 1.844 0 0 0 1.685-2.918l-.705-.97A2.02 2.02 0 0 1 16.02 10c0-.428.135-.845.387-1.19l.705-.97a1.842 1.842 0 0 0-.654-2.728 1.84 1.84 0 0 0-1.031-.19l-1.192.126a2.02 2.02 0 0 1-2.058-1.19l-.49-1.096a1.844 1.844 0 0 0-3.371 0l-.487 1.095A2.02 2.02 0 0 1 5.77 5.048l-1.196-.127A1.844 1.844 0 0 0 2.89 7.84l.706.97a2.02 2.02 0 0 1 0 2.38l-.706.97a1.843 1.843 0 0 0 1.685 2.919l1.192-.127a2.03 2.03 0 0 1 2.062 1.19"})),L||(L=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"})))}const Z=o.forwardRef(R);var A;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},F.apply(this,arguments)}function z(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,A||(A=o.createElement("path",{d:"M2 12.667h12V14H2zm6.667-8.782v7.448H7.333V3.885L3.286 7.933l-.943-.942L8 1.333l5.657 5.657-.943.943-4.047-4.046z"})))}const B=o.forwardRef(z);var V;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},H.apply(this,arguments)}function W(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,V||(V=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 5.333h-2.489c-1.307 0-1.96 0-2.46.255a2.33 2.33 0 0 0-1.019 1.02c-.254.498-.254 1.152-.254 2.459V10M17 5.333 14.667 3M17 5.333l-2.333 2.334M8.444 3h-1.71c-1.307 0-1.96 0-2.46.254a2.34 2.34 0 0 0-1.02 1.02C3 4.774 3 5.427 3 6.734v6.533c0 1.306 0 1.96.254 2.459.224.439.581.796 1.02 1.02.5.254 1.153.254 2.46.254h6.533c1.306 0 1.96 0 2.459-.254a2.34 2.34 0 0 0 1.02-1.02c.254-.5.254-1.153.254-2.46v-1.71"})))}const U=o.forwardRef(W);var q;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},G.apply(this,arguments)}function $(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,q||(q=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.833 12.5 10 16.667l4.166-4.167m-8.333-5L10 3.333 14.166 7.5"})))}const J=o.forwardRef($);var K;function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Y.apply(this,arguments)}function Q(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,K||(K=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m13 7-1.116-2.231c-.32-.642-.481-.963-.72-1.198a2 2 0 0 0-.748-.462C10.1 3 9.74 3 9.022 3H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 4.52 2 5.08 2 6.2V7m0 0h15.2c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C22 9.28 22 10.12 22 11.8v4.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C19.72 21 18.88 21 17.2 21H6.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C2 18.72 2 17.88 2 16.2z"})))}const X=o.forwardRef(Q);var ee;function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},te.apply(this,arguments)}function ie(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ee||(ee=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.333 5v-.667c0-.933 0-1.4-.181-1.756a1.67 1.67 0 0 0-.729-.729c-.356-.181-.823-.181-1.756-.181H9.333c-.933 0-1.4 0-1.756.181-.314.16-.569.415-.729.729-.181.356-.181.823-.181 1.756V5m1.666 4.583v4.167m3.334-4.167v4.167M2.5 5h15m-1.667 0v9.333c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272H8.167c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.535-.272-1.235-.272-2.635V5"})))}const ne=o.forwardRef(ie);var oe;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ae.apply(this,arguments)}function le(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,oe||(oe=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.794 17.5a3.32 3.32 0 0 0 2.205.833 3.32 3.32 0 0 0 2.205-.833M15 6.667a5 5 0 0 0-10 0c0 2.575-.65 4.338-1.375 5.504-.612.984-.918 1.476-.907 1.613.013.152.045.21.167.3.11.083.61.083 1.606.083H15.51c.997 0 1.495 0 1.605-.082.123-.091.155-.15.168-.301.01-.137-.295-.63-.907-1.613C15.65 11.005 15 9.241 15 6.667"})))}const re=o.forwardRef(le);var se;function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},de.apply(this,arguments)}function ce(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,se||(se=o.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10m0-2a8 8 0 1 0 0-16.001A8 8 0 0 0 12 20m-1-5h2v2h-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.5 3.5 0 1 1 13 13.355"})))}const ue=o.forwardRef(ce);var pe;function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},he.apply(this,arguments)}function ve(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",he({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,pe||(pe=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.333 1.513v2.754c0 .373 0 .56.072.702a.67.67 0 0 0 .292.292c.142.072.329.072.702.072h2.754M5.333 10v2m5.333-3.333V12M7.999 7v5m5.334-5.341v4.808c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.428.218-.988.218-2.108.218H5.866c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874c-.218-.428-.218-.988-.218-2.108V4.533c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874c.428-.218.988-.218 2.108-.218h2.141c.49 0 .734 0 .964.056a2 2 0 0 1 .578.24c.202.123.375.296.72.642l2.126 2.125c.346.346.52.519.643.72q.165.272.24.579c.055.23.055.475.055.964"})))}const ge=o.forwardRef(ve);var fe;function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},me.apply(this,arguments)}function ye(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",me({xmlns:"http://www.w3.org/2000/svg",width:7,height:10,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 7 10",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,fe||(fe=o.createElement("path",{fillRule:"evenodd",d:"M5.036 4.95.793.707 1.5 0l4.95 4.95L1.5 9.9l-.707-.708z",clipRule:"evenodd"})))}const we=o.forwardRef(ye);var be,Ce;function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xe.apply(this,arguments)}function Ie(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",xe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,be||(be=o.createElement("g",{clipPath:"url(#clip0_10982_42345)"},o.createElement("g",{filter:"url(#filter0_d_10982_42345)"},o.createElement("path",{d:"M13.1717 11.9968L8.22168 7.04681L9.63568 5.63281L15.9997 11.9968L9.63568 18.3608L8.22168 16.9468L13.1717 11.9968Z",fill:"white"})))),Ce||(Ce=o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_10982_42345",x:4.22168,y:2.63281,width:15.7783,height:20.7266,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:1}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10982_42345"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10982_42345",result:"shape"})),o.createElement("clipPath",{id:"clip0_10982_42345"},o.createElement("rect",{width:24,height:24,fill:"white"})))))}const je=o.forwardRef(Ie);var Me,ke;function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Te.apply(this,arguments)}function Ee(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Me||(Me=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"m8.781 8-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943z"}))),ke||(ke=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const Pe=o.forwardRef(Ee);var Oe;function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_e.apply(this,arguments)}function Se(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",_e({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Oe||(Oe=o.createElement("path",{d:"M3.33594 10H16.6693M16.6693 10L11.6693 5M16.6693 10L11.6693 15",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const Ne=o.forwardRef(Se);var Le;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},De.apply(this,arguments)}function Re(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",De({xmlns:"http://www.w3.org/2000/svg",width:10,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 10 18",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Le||(Le=o.createElement("path",{d:"M9.9 1.914 8.485.5 0 8.985l8.485 8.486L9.9 16.056l-7.072-7.07z"})))}const Ze=o.forwardRef(Re);var Ae,Fe;function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ze.apply(this,arguments)}function Be(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ze({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ae||(Ae=o.createElement("g",{clipPath:"url(#clip0_10982_42349)"},o.createElement("g",{filter:"url(#filter0_d_10982_42349)"},o.createElement("path",{d:"M10.828 11.9968L15.778 16.9468L14.364 18.3608L8 11.9968L14.364 5.63281L15.778 7.04681L10.828 11.9968Z",fill:"white"})))),Fe||(Fe=o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_10982_42349",x:4,y:2.63281,width:15.7783,height:20.7266,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:1}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10982_42349"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10982_42349",result:"shape"})),o.createElement("clipPath",{id:"clip0_10982_42349"},o.createElement("rect",{width:24,height:24,fill:"white"})))))}const Ve=o.forwardRef(Be);var He,We;function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ue.apply(this,arguments)}function qe(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ue({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,He||(He=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"m7.219 8 3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943z"}))),We||(We=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const Ge=o.forwardRef(qe);var $e;function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Je.apply(this,arguments)}function Ke(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Je({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$e||($e=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.667 4.667-.743-1.488c-.214-.428-.321-.642-.481-.798a1.3 1.3 0 0 0-.498-.308C6.733 2 6.495 2 6.015 2H3.468c-.746 0-1.12 0-1.405.145a1.34 1.34 0 0 0-.583.583c-.145.285-.145.659-.145 1.405v.534m0 0h10.133c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108V10.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.427.218-.988.218-2.108.218H4.534c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874c-.218-.428-.218-.988-.218-2.108z"})))}const Ye=o.forwardRef(Ke);var Qe,Xe;function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},et.apply(this,arguments)}function tt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Qe||(Qe=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M14.667 7.503a4.7 4.7 0 0 0-1.334-.643V4.667H7.724L6.391 3.333H2.667v9.334h4.86c.143.481.362.93.643 1.333H2a.666.666 0 0 1-.667-.667V2.667A.667.667 0 0 1 2 2h4.943l1.333 1.333H14a.666.666 0 0 1 .667.667z"}),o.createElement("path",{d:"M12 15.4a4 4 0 1 1 0-8 4 4 0 0 1 0 8m0-.8a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4m0-1.2a2 2 0 1 1 0-4 2 2 0 0 1 0 4"}))),Xe||(Xe=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const it=o.forwardRef(tt);var nt;function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ot.apply(this,arguments)}function at(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ot({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,nt||(nt=o.createElement("g",{clipPath:"url(#clip0_3945_27955)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1.332 8 6.428 3.214c.088.044.131.066.177.074q.062.012.123 0a.7.7 0 0 0 .177-.074L14.665 8M1.332 11.333l6.428 3.214c.088.044.131.066.177.075q.062.01.123 0a.7.7 0 0 0 .177-.075l6.428-3.214M1.332 4.667 7.76 1.453c.088-.044.131-.066.177-.075a.3.3 0 0 1 .123 0c.046.009.09.03.177.075l6.428 3.214L8.237 7.88c-.087.043-.131.065-.177.074a.3.3 0 0 1-.123 0 .7.7 0 0 1-.177-.074z"}))))}const lt=o.forwardRef(at);var rt,st,dt;function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ct.apply(this,arguments)}function ut(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ct({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,rt||(rt=o.createElement("circle",{cx:4,cy:8,r:1})),st||(st=o.createElement("circle",{cx:8,cy:8,r:1})),dt||(dt=o.createElement("circle",{cx:12,cy:8,r:1})))}const pt=o.forwardRef(ut);var ht,vt;function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gt.apply(this,arguments)}function ft(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",gt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ht||(ht=o.createElement("path",{fillOpacity:.1,fillRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2z",clipRule:"evenodd"})),vt||(vt=o.createElement("path",{fillRule:"evenodd",d:"M8 2.583a.75.75 0 0 1 .75.75V7.25h3.916a.75.75 0 1 1 0 1.5H8.75v3.916a.75.75 0 1 1-1.5 0V8.75H3.333a.75.75 0 1 1 0-1.5H7.25V3.333a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})))}const mt=o.forwardRef(ft);var yt;function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wt.apply(this,arguments)}function bt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",wt({xmlns:"http://www.w3.org/2000/svg",width:8,height:6,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 8 6",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,yt||(yt=o.createElement("path",{d:"M3.614 5.532a.5.5 0 0 0 .772 0l3.27-3.964A.5.5 0 0 0 7.27.75H.73a.5.5 0 0 0-.385.818z"})))}const Ct=o.forwardRef(bt);var xt;function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},It.apply(this,arguments)}function jt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",It({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,xt||(xt=o.createElement("path",{fillRule:"evenodd",d:"M7.867 4A6.31 6.31 0 0 0 2 8c.923 2.341 3.2 4 5.867 4a6.31 6.31 0 0 0 5.866-4c-.922-2.341-3.2-4-5.866-4m0 6.667a2.668 2.668 0 0 1 0-5.334 2.668 2.668 0 0 1 0 5.334M6.267 8c0-.885.714-1.6 1.6-1.6.885 0 1.6.715 1.6 1.6s-.715 1.6-1.6 1.6-1.6-.714-1.6-1.6",clipRule:"evenodd"})))}const Mt=o.forwardRef(jt);var kt;function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tt.apply(this,arguments)}function Et(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,kt||(kt=o.createElement("path",{fillOpacity:.54,fillRule:"evenodd",d:"M2.539 3.957 3.29 3.2l9.454 9.464-.752.752-1.829-1.829a6.3 6.3 0 0 1-2.298.437A6.31 6.31 0 0 1 2 8.025a6.26 6.26 0 0 1 1.967-2.639zm7.992 4.07A2.667 2.667 0 0 0 7.865 5.36c-.272 0-.533.054-.784.128L5.924 4.331a6.31 6.31 0 0 1 7.806 3.69 6.3 6.3 0 0 1-1.696 2.415l-1.631-1.631a2.7 2.7 0 0 0 .128-.779M7.865 10.69A2.667 2.667 0 0 1 5.2 8.024c0-.41.096-.8.261-1.14l.838.837a2 2 0 0 0-.032.303c0 .886.714 1.6 1.6 1.6.106 0 .202-.016.303-.037l.837.837a2.6 2.6 0 0 1-1.14.266M9.45 7.85a1.58 1.58 0 0 0-1.41-1.407z",clipRule:"evenodd"})))}const Pt=o.forwardRef(Et);var Ot;function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_t.apply(this,arguments)}function St(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",_t({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ot||(Ot=o.createElement("path",{fillRule:"evenodd",d:"M14 3.209 12.791 2 8 6.791 3.209 2 2 3.209 6.791 8 2 12.791 3.209 14 8 9.209 12.791 14 14 12.791 9.209 8z",clipRule:"evenodd"})))}const Nt=o.forwardRef(St);var Lt;function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dt.apply(this,arguments)}function Rt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Dt({xmlns:"http://www.w3.org/2000/svg",width:10,height:10,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 10 10",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Lt||(Lt=o.createElement("path",{d:"M5 10A5 5 0 1 1 5 0a5 5 0 0 1 0 10m0-5.707L3.586 2.878l-.707.708L4.292 5 2.878 6.414l.708.708L5 5.707l1.414 1.415.708-.708L5.707 5l1.415-1.414-.708-.707z"})))}const Zt=o.forwardRef(Rt);var At;function Ft(){return Ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ft.apply(this,arguments)}function zt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ft({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,At||(At=o.createElement("path",{d:"m8 12.173-4.702 2.632 1.05-5.285L.392 5.86l5.35-.635L8 .333l2.258 4.893 5.35.635-3.956 3.659 1.05 5.285zm0-1.528 2.832 1.585-.633-3.182 2.382-2.204-3.222-.382L8 3.516 6.642 6.463l-3.222.381 2.382 2.204-.633 3.182z"})))}const Bt=o.forwardRef(zt);var Vt;function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ht.apply(this,arguments)}function Wt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ht({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Vt||(Vt=o.createElement("path",{d:"m7 9.833-3.919 2.394L4.147 7.76.66 4.773l4.577-.366L7 .167l1.763 4.24 4.578.366L9.853 7.76l1.066 4.467z"})))}const Ut=o.forwardRef(Wt);var qt;function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gt.apply(this,arguments)}function $t(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Gt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,qt||(qt=o.createElement("path",{fillRule:"evenodd",d:"M3 8.666A6.663 6.663 0 0 1 9.658 2a6.663 6.663 0 0 1 6.659 6.666c0 3.683-6.66 9.334-6.66 9.334S3 12.349 3 8.666m9.322 0a2.665 2.665 0 0 0-2.663-2.667 2.666 2.666 0 0 0-2.664 2.667 2.666 2.666 0 0 0 2.664 2.667 2.666 2.666 0 0 0 2.663-2.667",clipRule:"evenodd"})))}const Jt=o.forwardRef($t);var Kt;function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yt.apply(this,arguments)}function Qt(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Yt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Kt||(Kt=o.createElement("path",{d:"m5.132 13.685 7.713-7.713a2.917 2.917 0 1 1 1.178 1.179l-7.712 7.713a2.917 2.917 0 1 1-1.179-1.178m10.28-7.85a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M3.745 17.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"})))}const Xt=o.forwardRef(Qt);var ei;function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ti.apply(this,arguments)}function ii(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ti({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ei||(ei=o.createElement("path",{d:"M16.662 6.636v6.726a2.917 2.917 0 1 1-3.304 3.303H6.632a2.917 2.917 0 1 1-3.304-3.303V6.636a2.917 2.917 0 1 1 3.304-3.304h6.726a2.917 2.917 0 1 1 3.303 3.304m-1.667-.251a2.93 2.93 0 0 1-1.386-1.386H6.38a2.93 2.93 0 0 1-1.386 1.386v7.228c.606.288 1.098.78 1.386 1.386h7.228a2.93 2.93 0 0 1 1.386-1.386zM3.745 4.999a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m12.5 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m0 12.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m-12.5 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"})))}const ni=o.forwardRef(ii);var oi;function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ai.apply(this,arguments)}function li(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ai({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,oi||(oi=o.createElement("path",{d:"M11.741 1.155a2.917 2.917 0 0 1 4.103 4.104 7.917 7.917 0 1 1-4.103-4.103m-.95 1.413a6.25 6.25 0 1 0 3.64 3.64 2.917 2.917 0 0 1-3.64-3.64M8.584 9.667a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5m5-5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"})))}const ri=o.forwardRef(li);var si;function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},di.apply(this,arguments)}function ci(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",di({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,si||(si=o.createElement("path",{d:"M2 3.167h12V4.5H2zm1.333 10h9.334V14.5H3.333zM2 9.834h12v1.333H2zM3.333 6.5h9.334v1.334H3.333z"})))}const ui=o.forwardRef(ci);var pi;function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hi.apply(this,arguments)}function vi(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",hi({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,pi||(pi=o.createElement("path",{d:"m8 14.433 3.3-3.3a4.667 4.667 0 1 0-6.6 0zm0 1.885-4.243-4.242a6 6 0 1 1 8.486 0zm0-7.152A1.333 1.333 0 1 0 8 6.5a1.333 1.333 0 0 0 0 2.666M8 10.5a2.667 2.667 0 1 1 0-5.333A2.667 2.667 0 0 1 8 10.5"})))}const gi=o.forwardRef(vi);var fi;function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mi.apply(this,arguments)}function yi(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",mi({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,fi||(fi=o.createElement("path",{d:"m5.19 9.333.28-2.666H2.667V5.333H5.61L5.96 2h1.341l-.35 3.333h2.66L9.96 2h1.34l-.35 3.333h2.383v1.334H10.81l-.28 2.666h2.803v1.334H10.39L10.04 14H8.7l.35-3.333H6.39L6.04 14H4.7l.35-3.333H2.667V9.333zm1.34 0h2.66l.28-2.666H6.81z"})))}const wi=o.forwardRef(yi);var bi;function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ci.apply(this,arguments)}function xi(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ci({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,bi||(bi=o.createElement("path",{d:"M5.333 3.166H14V4.5H5.333zM3 4.833a1 1 0 1 1 0-2 1 1 0 0 1 0 2M3 9.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2m0 4.6a1 1 0 1 1 0-2 1 1 0 0 1 0 2m2.333-6.267H14v1.333H5.333zm0 4.667H14v1.333H5.333z"})))}const Ii=o.forwardRef(xi);var ji;function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mi.apply(this,arguments)}function ki(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Mi({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ji||(ji=o.createElement("path",{d:"M7.333 3.167H14V4.5H7.333zm0 2.667h4v1.333h-4zm0 4H14v1.333H7.333zm0 2.666h4v1.334h-4zM2 3.167h4v4H2zM3.333 4.5v1.334h1.334V4.5zM2 9.834h4v4H2zm1.333 1.333V12.5h1.334v-1.333z"})))}const Ti=o.forwardRef(ki);var Ei;function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pi.apply(this,arguments)}function Oi(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Pi({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ei||(Ei=o.createElement("path",{d:"M11.333 2.5H14a.667.667 0 0 1 .666.667v10.667A.667.667 0 0 1 14 14.5H2a.667.667 0 0 1-.667-.666V3.167A.667.667 0 0 1 2 2.5h2.666V1.167H6V2.5h4V1.167h1.333zM10 3.834H6v1.333H4.666V3.834h-2V6.5h10.667V3.834h-2v1.333H10zm3.333 4H2.666v5.333h10.667z"})))}const _i=o.forwardRef(Oi);var Si;function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ni.apply(this,arguments)}function Li(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ni({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Si||(Si=o.createElement("path",{d:"M6 1.166v1.333h4V1.166h1.333v1.333H14a.667.667 0 0 1 .667.667v10.667a.667.667 0 0 1-.667.666H2a.667.667 0 0 1-.667-.666V3.166A.667.667 0 0 1 2 2.499h2.667V1.166zm7.333 6H2.667v6h10.666zm-3.31.757.944.943-3.3 3.3-2.358-2.357.944-.943 1.414 1.415 2.358-2.358zm-5.356-4.09h-2v2h10.666v-2h-2v.666H10v-.666H6v.666H4.667z"})))}const Di=o.forwardRef(Li);var Ri;function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zi.apply(this,arguments)}function Ai(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zi({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ri||(Ri=o.createElement("path",{d:"M11.333 2.5H14a.667.667 0 0 1 .667.666v10.667a.667.667 0 0 1-.667.666H2a.667.667 0 0 1-.667-.666V3.166A.667.667 0 0 1 2 2.499h2.667V1.166H6v1.333h4V1.166h1.333zm2 4V3.832h-2v1.333H10V3.833H6v1.333H4.667V3.833h-2v2.666zm0 1.333H2.667v5.333h10.666zM4 9.166h3.333v2.667H4z"})))}const Fi=o.forwardRef(Ai);var zi;function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bi.apply(this,arguments)}function Vi(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Bi({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zi||(zi=o.createElement("path",{d:"m9.885 5.67-3.77 3.772a.667.667 0 1 0 .942.943l3.771-3.77A2 2 0 0 0 8 3.784L4.228 7.558a3.333 3.333 0 1 0 4.714 4.713l3.771-3.77.943.942-3.771 3.772a4.667 4.667 0 1 1-6.6-6.6l3.772-3.771a3.333 3.333 0 0 1 4.713 4.713L8 11.33A2 2 0 1 1 5.17 8.5l3.772-3.77z"})))}const Hi=o.forwardRef(Vi);var Wi;function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ui.apply(this,arguments)}function qi(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ui({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 25",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Wi||(Wi=o.createElement("path",{d:"M19.499 11.513c.128-.129.25-.25.378-.25h1.744a.27.27 0 0 0 .254-.247V9.015a.27.27 0 0 0-.254-.248h-1.994c-.128 0-.378.127-.378.248l-2.122 2.249c-.127.122-.25.122-.25 0l-1.128-2.25c-.121-.121-.244-.247-.37-.247h-3.253a.27.27 0 0 0-.246.248v1.995a.26.26 0 0 0 .246.249h2c.126 0 .251.122.375.25l.754 1.62v.377l-2.253 2.617c-.125 0-.25.129-.375.129h-1.75a.274.274 0 0 0-.25.249v1.995a.275.275 0 0 0 .25.249h2c.125 0 .373-.129.373-.25l2.877-3.242c.126-.128.25-.128.25 0L18 18.496c0 .12.25.249.372.249h2a.27.27 0 0 0 .25-.25v-1.994a.27.27 0 0 0-.25-.25h-.751c-.129 0-.25-.128-.372-.245l-1.256-2.5v-.374zM9.247 3.774a4.84 4.84 0 0 0-1.621 2.498L7.001 8.77H3.376a.27.27 0 0 0-.247.248v1.998a.256.256 0 0 0 .247.246h3l-1.872 7.49C4.126 20.248 3.13 20 3.13 20H1.875v2.5h1.251c.997 0 2-.13 2.5-.75.622-.622 1-1.749 1.248-2.996l1.876-7.49h2.875a.27.27 0 0 0 .255-.25V9.015a.27.27 0 0 0-.255-.248H9.37l.624-2.37c.126-.377.754-.999 1.126-1.248 1.38-1 3.249-.378 4.502-.129V2.903c-1.25-.249-4-1.122-6.375.871"})))}const Gi=o.forwardRef(qi);var $i,Ji,Ki,Yi,Qi;function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xi.apply(this,arguments)}function en(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Xi({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$i||($i=o.createElement("path",{d:"M17.6207 0.271484H4.94409C4.48098 0.272915 4.03725 0.457517 3.70979 0.784982C3.38232 1.11245 3.19772 1.55618 3.19629 2.01928V21.9813C3.19772 22.4444 3.38232 22.8881 3.70979 23.2156C4.03725 23.5431 4.48098 23.7277 4.94409 23.7291H21.5543C22.0174 23.7277 22.4611 23.5431 22.7886 23.2156C23.116 22.8881 23.3006 22.4444 23.3021 21.9813V5.9542L17.6207 0.271484Z",fill:"#E5F3F9"})),Ji||(Ji=o.createElement("path",{d:"M17.6201 4.20369C17.6215 4.66692 17.8061 5.11079 18.1335 5.43847C18.461 5.76615 18.9047 5.95105 19.3679 5.95284H23.3001L17.6201 0.271484V4.20369Z",fill:"#88D6F2"})),Ki||(Ki=o.createElement("path",{d:"M2.05388 14.6445H15.4098C16.4946 14.6445 17.0369 15.1869 17.0369 16.2717V20.6106C17.0369 21.6954 16.4946 22.2378 15.4098 22.2378H2.05388C0.969131 22.2378 0.426758 21.6954 0.426758 20.6106V16.2717C0.426758 15.1869 0.969131 14.6445 2.05388 14.6445Z",fill:"#52BCF7"})),Yi||(Yi=o.createElement("path",{d:"M6.54688 4.35156H14.852V5.51766H6.54688V4.35156ZM6.54688 6.92512H14.852V8.09122H6.54688V6.92512ZM6.54688 9.49868H17.6194V10.6648H6.54688V9.49868ZM6.54688 12.0736H20.0967V13.2397H6.54688V12.0736Z",fill:"#88D6F2"})),Qi||(Qi=o.createElement("path",{d:"M3.89686 21.2149C3.67966 21.0788 3.50969 20.879 3.41008 20.6427C3.29163 20.3577 3.23435 20.051 3.24194 19.7424V18.8475C3.23397 18.5327 3.29121 18.2197 3.41008 17.9282C3.50432 17.694 3.66805 17.4943 3.87923 17.356C4.10526 17.2185 4.36598 17.1489 4.63042 17.1553C4.91758 17.1485 5.20232 17.2093 5.4616 17.3329C5.70916 17.46 5.90964 17.6629 6.03381 17.9119L5.94974 18.7119C5.94983 18.5331 5.90705 18.3569 5.82499 18.198C5.74093 18.0362 5.61496 17.8999 5.46025 17.8034C5.29254 17.6998 5.09873 17.6462 4.9016 17.6488C4.7533 17.6398 4.60481 17.6631 4.46642 17.7172C4.32804 17.7713 4.20309 17.8548 4.10025 17.9621C3.89744 18.2109 3.79621 18.5272 3.81686 18.8475V19.7451C3.79675 20.0585 3.89662 20.3678 4.09618 20.6102C4.20024 20.7166 4.32612 20.7993 4.46515 20.8524C4.60419 20.9055 4.75309 20.9279 4.9016 20.918C5.09907 20.9218 5.29331 20.8676 5.46025 20.7621C5.61615 20.6613 5.74249 20.5209 5.82635 20.3553C5.9101 20.1945 5.95383 20.0159 5.95381 19.8346L6.0094 20.6997C5.91944 20.9364 5.74307 21.1302 5.51584 21.2421C5.25188 21.3606 4.96433 21.4171 4.67516 21.4075C4.40283 21.4173 4.13319 21.3506 3.89686 21.2149ZM5.94974 15.5566H6.52872V21.3519H5.94974V15.5566ZM8.02025 21.2C7.76596 21.0609 7.56161 20.8456 7.43584 20.5844C7.2945 20.2798 7.22581 19.9466 7.23516 19.6109V18.9329C7.2257 18.6007 7.29444 18.2709 7.43584 17.9702C7.56261 17.7111 7.76685 17.4978 8.02025 17.36C8.30452 17.2136 8.62131 17.1418 8.94093 17.1512C9.26051 17.1422 9.57719 17.214 9.86161 17.36C10.1146 17.4979 10.3184 17.7112 10.4447 17.9702C10.5865 18.2708 10.6557 18.6006 10.6467 18.9329V19.6177C10.656 19.9513 10.5868 20.2825 10.4447 20.5844C10.3185 20.8438 10.1147 21.0576 9.86161 21.196C9.57775 21.3438 9.26083 21.4166 8.94093 21.4075C8.62136 21.418 8.30442 21.3466 8.02025 21.2ZM9.78296 20.5492C9.99502 20.2884 10.101 19.9572 10.0799 19.6217V18.937C10.1011 18.6036 9.99495 18.2745 9.78296 18.0163C9.67495 17.9045 9.544 17.8173 9.39912 17.7609C9.25423 17.7045 9.09884 17.6802 8.94364 17.6895C8.78925 17.6801 8.63466 17.7045 8.49065 17.7609C8.34663 17.8174 8.21665 17.9045 8.10974 18.0163C7.89921 18.2752 7.79413 18.604 7.8155 18.937V19.6217C7.79414 19.9568 7.89913 20.2877 8.10974 20.5492C8.2151 20.6607 8.34332 20.7481 8.48561 20.8055C8.6279 20.8628 8.78091 20.8887 8.93415 20.8814C9.08976 20.8901 9.24539 20.8649 9.39031 20.8075C9.53522 20.7501 9.66595 20.662 9.77347 20.5492H9.78296ZM12.4636 21.4116L12.065 21.2122C11.8046 21.0841 11.5949 20.872 11.4697 20.6102C11.3295 20.2972 11.2627 19.9563 11.2745 19.6136V18.9356C11.2628 18.5951 11.3311 18.2566 11.4738 17.9471C11.6017 17.6891 11.8115 17.4807 12.0704 17.3546C12.3822 17.2134 12.7223 17.1461 13.0643 17.158C13.2727 17.1559 13.4805 17.1805 13.6826 17.2312C13.8596 17.2762 14.0278 17.3505 14.1802 17.4509C14.329 17.5496 14.4586 17.6746 14.5626 17.8197L14.1369 18.198C14.0077 18.0375 13.8447 17.9074 13.6596 17.817C13.4769 17.7327 13.2777 17.69 13.0765 17.6922C12.6643 17.6922 12.3565 17.7948 12.1531 18C11.9497 18.2052 11.848 18.5171 11.848 18.9356V19.6136C11.848 20.0366 11.9506 20.353 12.1558 20.5627C12.361 20.7725 12.667 20.8787 13.0738 20.8814C13.285 20.8844 13.4946 20.8438 13.6894 20.7621C13.8797 20.6778 14.0502 20.5545 14.1897 20.4L14.5599 20.7661C14.4553 20.9089 14.3258 21.0315 14.1775 21.1282C14.0249 21.2274 13.8567 21.3002 13.6799 21.3438C13.4777 21.394 13.2699 21.4182 13.0616 21.4156L12.4636 21.4116Z",fill:"white"})))}const tn=o.forwardRef(en);var nn,on,an,ln,rn,sn,dn;function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cn.apply(this,arguments)}function un(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",cn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,nn||(nn=o.createElement("path",{d:"M17.6207 0.271484H4.94409C4.48098 0.272915 4.03725 0.457517 3.70979 0.784982C3.38232 1.11245 3.19772 1.55618 3.19629 2.01928V21.9813C3.19772 22.4444 3.38232 22.8881 3.70979 23.2156C4.03725 23.5431 4.48098 23.7277 4.94409 23.7291H21.5543C22.0174 23.7277 22.4611 23.5431 22.7886 23.2156C23.116 22.8881 23.3006 22.4444 23.3021 21.9813V5.9542L17.6207 0.271484Z",fill:"#E9FFE9"})),on||(on=o.createElement("path",{d:"M17.6201 4.20369C17.6215 4.66692 17.8061 5.11079 18.1335 5.43847C18.461 5.76615 18.9047 5.95105 19.3679 5.95284H23.3001L17.6201 0.271484V4.20369Z",fill:"#97DD97"})),an||(an=o.createElement("path",{d:"M2.05388 14.6445H15.4098C16.4946 14.6445 17.0369 15.1869 17.0369 16.2717V20.6106C17.0369 21.6954 16.4946 22.2378 15.4098 22.2378H2.05388C0.969131 22.2378 0.426758 21.6954 0.426758 20.6106V16.2717C0.426758 15.1869 0.969131 14.6445 2.05388 14.6445Z",fill:"#65CE65"})),ln||(ln=o.createElement("path",{d:"M5.73242 3.2666H14.0375V4.4327H5.73242V3.2666Z",fill:"#97DD97"})),rn||(rn=o.createElement("path",{d:"M6.89852 3.26465V11.5697H5.73242V3.26465H6.89852ZM9.61039 3.26465V11.5697H8.44429V3.26465H9.61039ZM12.3223 3.26465V11.5697H11.1562V3.26465H12.3223ZM15.0341 3.26465V11.5697H13.868V3.26465H15.0341Z",fill:"#97DD97"})),sn||(sn=o.createElement("path",{d:"M5.73242 5.83984H14.0375V7.00595H5.73242V5.83984ZM5.73242 8.4134H14.508V9.5795H5.73242V8.4134ZM5.73242 10.9883H15.0341V12.1544H5.73242V10.9883Z",fill:"#97DD97"})),dn||(dn=o.createElement("path",{d:"M5.69069 18.9328L6.00934 19.4073L4.67103 21.2162H4.02832L5.69069 18.9328ZM5.7151 19.2636L4.05273 17.0846H4.69815L6.05408 18.9423L7.749 21.2162H7.11035L5.7151 19.2636ZM5.82222 18.8812L7.04256 17.0792H7.68798L6.12188 19.3111L5.82222 18.8812ZM8.81476 20.1287C8.80759 20.2765 8.85596 20.4216 8.95035 20.5355C8.99633 20.5844 9.05242 20.6227 9.1147 20.6478C9.17699 20.6728 9.24398 20.684 9.31103 20.6806H9.6934V21.2148H9.20934C9.07615 21.223 8.9428 21.2015 8.81897 21.1518C8.69513 21.102 8.58392 21.0254 8.4934 20.9273C8.3107 20.6971 8.22031 20.4071 8.23984 20.1138V15.4209H8.81476V20.1287ZM11.2446 21.2758L10.9287 21.2107C10.7262 21.1687 10.5292 21.1036 10.3415 21.0168C10.1672 20.9367 10.0044 20.8337 9.85747 20.7104L10.1883 20.3036C10.4058 20.451 10.6414 20.5695 10.8893 20.6562C11.1103 20.7365 11.3431 20.7791 11.5781 20.7823C11.8962 20.8011 12.2133 20.7322 12.4948 20.5829C12.5961 20.5256 12.6799 20.4419 12.7372 20.3406C12.7945 20.2393 12.8232 20.1244 12.8202 20.008C12.826 19.9328 12.8149 19.8572 12.7876 19.7868C12.7604 19.7164 12.7178 19.653 12.6629 19.6012C12.5487 19.5064 12.4118 19.4428 12.2656 19.4168C12.0454 19.3778 11.8231 19.3515 11.5998 19.3382H11.3734C11.1416 19.3188 10.912 19.2789 10.6873 19.2189C10.5074 19.1667 10.347 19.0624 10.2263 18.9192C10.0916 18.7367 10.0263 18.5122 10.0419 18.286C10.0342 18.0455 10.1015 17.8086 10.2344 17.608C10.3763 17.4124 10.5738 17.264 10.8012 17.1823C11.0875 17.0769 11.3912 17.0268 11.6961 17.0345C11.8782 17.0345 12.0598 17.0522 12.2385 17.0873C12.4184 17.1174 12.595 17.1646 12.7659 17.2284C12.9269 17.2929 13.0802 17.3752 13.2229 17.4738L12.892 17.8684C12.699 17.7535 12.4927 17.6625 12.2778 17.5972C12.0839 17.5377 11.8826 17.5062 11.6798 17.5036C11.3953 17.4861 11.1119 17.5541 10.8663 17.6989C10.775 17.758 10.7006 17.8398 10.6505 17.9363C10.6003 18.0328 10.5761 18.1407 10.5802 18.2494C10.5738 18.3193 10.5843 18.3898 10.6107 18.4549C10.6371 18.52 10.6787 18.5779 10.732 18.6236C10.8476 18.7094 10.9828 18.7648 11.1253 18.785C11.3414 18.8175 11.5591 18.8388 11.7775 18.8487H11.8168C11.8281 18.8499 11.8394 18.8499 11.8507 18.8487H11.8995C12.1489 18.8588 12.3965 18.8947 12.6385 18.9558C12.8395 19.0103 13.0186 19.1259 13.151 19.2867C13.302 19.4926 13.3754 19.7451 13.3585 19.9999C13.3658 20.2451 13.2929 20.4859 13.151 20.686C12.9958 20.8865 12.785 21.0369 12.5449 21.1185C12.2358 21.2248 11.9103 21.2753 11.5836 21.2677L11.2446 21.2758Z",fill:"white"})))}const pn=o.forwardRef(un);var hn,vn,gn,fn;function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mn.apply(this,arguments)}function yn(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",mn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,hn||(hn=o.createElement("path",{d:"M17.6207 0.271484H4.94409C4.48098 0.272915 4.03725 0.457517 3.70979 0.784982C3.38232 1.11245 3.19772 1.55618 3.19629 2.01928V21.9813C3.19772 22.4444 3.38232 22.8881 3.70979 23.2156C4.03725 23.5431 4.48098 23.7277 4.94409 23.7291H21.5543C22.0174 23.7277 22.4611 23.5431 22.7886 23.2156C23.116 22.8881 23.3006 22.4444 23.3021 21.9813V5.9542L17.6207 0.271484Z",fill:"#E5F3F9"})),vn||(vn=o.createElement("path",{d:"M17.6201 4.20369C17.6215 4.66692 17.8061 5.11079 18.1335 5.43847C18.461 5.76615 18.9047 5.95105 19.3679 5.95284H23.3001L17.6201 0.271484V4.20369Z",fill:"#88D6F2"})),gn||(gn=o.createElement("path",{d:"M2.05388 14.6445H15.4098C16.4946 14.6445 17.0369 15.1869 17.0369 16.2717V20.6106C17.0369 21.6954 16.4946 22.2378 15.4098 22.2378H2.05388C0.969131 22.2378 0.426758 21.6954 0.426758 20.6106V16.2717C0.426758 15.1869 0.969131 14.6445 2.05388 14.6445Z",fill:"#52BCF7"})),fn||(fn=o.createElement("path",{d:"M7.40715 16.8476L5.17258 20.0245H7.51427V20.5384H4.43359V20.076L6.71292 16.9154H4.49461V16.4069H7.40715V16.8476ZM8.30207 14.7432H8.87563V15.3221H8.30207V14.7432ZM8.30207 16.4015H8.87563V20.5384H8.30207V16.4015ZM9.82343 16.4069H10.397V22.2266H9.82343V16.4069ZM10.835 20.4381C10.6077 20.3263 10.4314 20.1324 10.3414 19.8957L10.397 19.0306C10.397 19.2119 10.4407 19.3905 10.5244 19.5513C10.6083 19.7169 10.7346 19.8573 10.8905 19.9581C11.0575 20.0636 11.2517 20.1178 11.4492 20.114C11.5977 20.1221 11.7463 20.0979 11.8846 20.0432C12.023 19.9884 12.1478 19.9043 12.2505 19.7967C12.4518 19.5545 12.5531 19.2446 12.5339 18.9303V18.034C12.5539 17.7146 12.4527 17.3994 12.2505 17.1513C12.0716 16.9827 11.8432 16.8761 11.599 16.8473C11.3548 16.8185 11.1079 16.869 10.8946 16.9913C10.74 17.0895 10.6138 17.2265 10.5285 17.3886C10.4449 17.5455 10.4011 17.7206 10.4011 17.8984L10.317 17.1011C10.4415 16.8524 10.6419 16.6496 10.8892 16.5221C11.1485 16.3985 11.4332 16.3377 11.7204 16.3445C11.9832 16.3379 12.2424 16.4066 12.4675 16.5425C12.6818 16.6808 12.8481 16.8821 12.9434 17.1188C13.0603 17.4093 13.1162 17.7209 13.1075 18.034V18.9357C13.1157 19.2443 13.0584 19.5512 12.9394 19.836C12.8394 20.0729 12.6684 20.2728 12.4499 20.4082C12.2156 20.5445 11.9479 20.6126 11.677 20.6049C11.3868 20.6126 11.0988 20.5537 10.835 20.4327V20.4381Z",fill:"white"})))}const wn=o.forwardRef(yn);var bn;function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cn.apply(this,arguments)}function xn(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Cn({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,bn||(bn=o.createElement("path",{d:"M.5 7.25a3.25 3.25 0 0 1 1.532-2.76 4 4 0 0 1 7.936 0 3.25 3.25 0 0 1-1.468 6l-5 .01a3.266 3.266 0 0 1-3-3.25m7.924 2.244a2.25 2.25 0 0 0 1.015-4.155l-.403-.251-.06-.471a3 3 0 0 0-5.952 0l-.06.47-.402.252a2.25 2.25 0 0 0 1.014 4.155l.087.006h4.675zM6.5 6H8L6 8.5 4 6h1.5V4h1z"})))}const In=o.forwardRef(xn);var jn;function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mn.apply(this,arguments)}function kn(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Mn({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,jn||(jn=o.createElement("path",{d:"m3.207 8 5.071-5.071-.707-.707L2.5 7.293V8zm.415 1H1.5V6.879L7.218 1.16a.5.5 0 0 1 .707 0l1.414 1.415a.5.5 0 0 1 0 .707zM1.5 10h9v1h-9z"})))}const Tn=o.forwardRef(kn);var En;function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pn.apply(this,arguments)}function On(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Pn({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,En||(En=o.createElement("path",{d:"m8 13.933 3.3-3.3a4.667 4.667 0 1 0-6.6 0zm0 1.885-4.243-4.242a6 6 0 1 1 8.486 0zm-.667-9.152v-2h1.334v2h2V8h-2v2H7.333V8h-2V6.666z"})))}const _n=o.forwardRef(On);var Sn;function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Nn.apply(this,arguments)}function Ln(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Nn({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Sn||(Sn=o.createElement("path",{d:"M7 12.833A5.833 5.833 0 1 1 7 1.167a5.833 5.833 0 0 1 0 11.666m0-1.167a4.667 4.667 0 1 0 0-9.333 4.667 4.667 0 0 0 0 9.333M6.417 8.75h1.166v1.166H6.417zm0-4.667h1.166v3.5H6.417z"})))}const Dn=o.forwardRef(Ln);var Rn;function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zn.apply(this,arguments)}function An(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zn({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Rn||(Rn=o.createElement("path",{d:"M4.875 1.75A.88.88 0 0 0 4 2.625c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0 8.75a.88.88 0 0 0-.875.875c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0-4.375A.88.88 0 0 0 4 7c0 .481.394.875.875.875A.88.88 0 0 0 5.75 7a.88.88 0 0 0-.875-.875m4-4.375A.88.88 0 0 0 8 2.625c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0 8.75a.88.88 0 0 0-.875.875c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0-4.375A.88.88 0 0 0 8 7c0 .481.394.875.875.875A.88.88 0 0 0 9.75 7a.88.88 0 0 0-.875-.875"})))}const Fn=o.forwardRef(An);var zn;function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bn.apply(this,arguments)}function Vn(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Bn({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zn||(zn=o.createElement("path",{d:"M14 12v2h-1.334v-2h-1.333v-1.333h4V12zM3.333 12v2H2v-2H.667v-1.333h4V12zm4-8V2h1.333v2H10v1.333H6V4zm0 2.667h1.333V14H7.333zM2 9.333V2h1.333v7.333zm10.667 0V2H14v7.333z"})))}const Hn=o.forwardRef(Vn);var Wn;function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Un.apply(this,arguments)}function qn(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Un({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Wn||(Wn=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.333 6.667 14 2m0 0h-4m4 0v4M6.667 9.333 2 14m0 0h4m-4 0v-4"})))}const Gn=o.forwardRef(qn);var $n;function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jn.apply(this,arguments)}function Kn(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Jn({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$n||($n=o.createElement("path",{d:"m8 13.933 3.3-3.3a4.667 4.667 0 1 0-6.6 0zm0 1.885-4.243-4.242a6 6 0 1 1 8.486 0zm-.667-9.152v-2h1.334v2h2V8h-2v2H7.333V8h-2V6.666z"})))}const Yn=o.forwardRef(Kn);var Qn;function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xn.apply(this,arguments)}function eo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Xn({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 32 32",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Qn||(Qn=o.createElement("path",{stroke:"#fff",d:"M24.132 22.798 16 30.93l-8.132-8.132a11.5 11.5 0 1 1 16.264 0ZM16 17.833a3.167 3.167 0 1 0 0-6.334 3.167 3.167 0 0 0 0 6.334Z"})))}const to=o.forwardRef(eo);var io;function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},no.apply(this,arguments)}function oo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",no({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,io||(io=o.createElement("path",{d:"M6.667 4.667v2.666h4V4.667zm-1.334 0h-4v2.666h4zm1.334 6h4v-2h-4zm-1.334 0v-2h-4v2zm1.334-9.334v2h4v-2zm-1.334 0h-4v2h4zM.667 0h10.666A.667.667 0 0 1 12 .667v10.666a.666.666 0 0 1-.667.667H.667A.666.666 0 0 1 0 11.333V.667A.667.667 0 0 1 .667 0"})))}const ao=o.forwardRef(oo);var lo;function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ro.apply(this,arguments)}function so(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ro({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",preserveAspectRatio:"xMidYMid",style:{margin:"auto",background:"0 0",display:"block",shapeRendering:"auto"},viewBox:"0 0 100 100",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,lo||(lo=o.createElement("circle",{cx:50,cy:50,r:32,fill:"none",strokeDasharray:"150.796 52.265",strokeWidth:12},o.createElement("animateTransform",{attributeName:"transform",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"}))))}const co=o.forwardRef(so);var uo;function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},po.apply(this,arguments)}function ho(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",po({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,uo||(uo=o.createElement("path",{d:"m2.343 1.4 12.728 12.73-.943.943-1.343-1.343a4 4 0 0 1-1.452.272H4.667a4 4 0 0 1-1.328-7.774 4.7 4.7 0 0 1 .235-1.709L1.4 2.343zM4.667 6q-.001.083.004.163l.046.992-.936.329a2.668 2.668 0 0 0 .886 5.183h6.666q.186 0 .366-.024L4.687 5.63q-.02.181-.02.37M8 1.335a4.667 4.667 0 0 1 4.661 4.893 4.003 4.003 0 0 1 2.142 5.766l-.996-.995a2.667 2.667 0 0 0-3.471-3.47L9.34 6.53A4 4 0 0 1 11.333 6a3.333 3.333 0 0 0-5.25-2.727l-.954-.953A4.65 4.65 0 0 1 8 1.334"})))}const vo=o.forwardRef(ho);var go;function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fo.apply(this,arguments)}function mo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",fo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,go||(go=o.createElement("path",{d:"m6.666 10.115 6.128-6.129.944.943L6.666 12 2.424 7.758l.942-.943z"})))}const yo=o.forwardRef(mo);var wo,bo,Co,xo,Io,jo,Mo,ko;function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},To.apply(this,arguments)}function Eo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",To({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",preserveAspectRatio:"xMidYMid",style:{margin:"auto",background:"0 0",display:"block",shapeRendering:"auto"},viewBox:"0 0 100 100",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,wo||(wo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6},o.createElement("animate",{attributeName:"opacity",begin:"-0.875s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),bo||(bo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(45 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.75s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),Co||(Co=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(90 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.625s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),xo||(xo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(135 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.5s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),Io||(Io=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(180 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.375s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),jo||(jo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(225 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.25s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),Mo||(Mo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(270 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.125s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),ko||(ko=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(315 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"0s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))))}const Po=o.forwardRef(Eo);var Oo;function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_o.apply(this,arguments)}function So(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",_o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Oo||(Oo=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M22 21v-2a4 4 0 0 0-3-3.874M15.5 3.291a4.001 4.001 0 0 1 0 7.418M17 21c0-1.864 0-2.796-.305-3.53a4 4 0 0 0-2.164-2.165C13.796 15 12.864 15 11 15H8c-1.864 0-2.796 0-3.53.305a4 4 0 0 0-2.166 2.164C2 18.204 2 19.136 2 21M13.5 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0"})))}const No=o.forwardRef(So);var Lo;function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Do.apply(this,arguments)}function Ro(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Do({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Lo||(Lo=o.createElement("path",{d:"M9.334 9.501v1.394A4 4 0 0 0 4 14.667H2.667A5.333 5.333 0 0 1 9.334 9.5M8 8.667c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m0-1.334A2.666 2.666 0 1 0 8 2a2.666 2.666 0 1 0 0 5.333m4 4v-2h1.334v2h2v1.334h-2v2H12v-2h-2v-1.334z"})))}const Zo=o.forwardRef(Ro);var Ao;function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fo.apply(this,arguments)}function zo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Fo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ao||(Ao=o.createElement("path",{fillRule:"evenodd",d:"M8 2.583a.75.75 0 0 1 .75.75V7.25h3.916a.75.75 0 1 1 0 1.5H8.75v3.917a.75.75 0 0 1-1.5 0V8.75H3.333a.75.75 0 1 1 0-1.5H7.25V3.333a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})))}const Bo=o.forwardRef(zo);var Vo;function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ho.apply(this,arguments)}function Wo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ho({xmlns:"http://www.w3.org/2000/svg",width:8,height:8,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 8 8",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Vo||(Vo=o.createElement("path",{d:"M1 0H0v8h8V7H1z"})))}const Uo=o.forwardRef(Wo);var qo;function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Go.apply(this,arguments)}function $o(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Go({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,qo||(qo=o.createElement("path",{d:"M3.333 2v10.667H14V14H2V2zM13.53 4.195l.942.943-3.804 3.805-2-2-2.862 2.862-.943-.943 3.805-3.805 2 2z"})))}const Jo=o.forwardRef($o);var Ko;function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yo.apply(this,arguments)}function Qo(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Yo({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ko||(Ko=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.5 10H3l-.4.5-.1.8V17l.5.4.8.1h3.7m0 0h5m-5 0V6.2c.2 0 .3-.2.5-.3h4l.4.4.1.9v10.3m0 0H17l.4-.5.1-.8V3l-.5-.4-.8-.1H13l-.4.5-.1.8v2.9"})))}const Xo=o.forwardRef(Qo);var ea;function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ta.apply(this,arguments)}function ia(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ta({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ea||(ea=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 1.7a8.3 8.3 0 0 1 8.3 8.3M10 1.7V10m0-8.3a8.3 8.3 0 1 0 8.3 8.3M10 1.7c4.6 0 8.3 3.7 8.3 8.3m0 0H10m8.3 0a8.3 8.3 0 0 1-3.4 6.7L10 10"})))}const na=o.forwardRef(ia);var oa;function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},aa.apply(this,arguments)}function la(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",aa({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,oa||(oa=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.5 17.5H3a.8.8 0 0 1-.4-.5l-.1-.8V2.5m14.2 4.2-3.3 3.5a1 1 0 0 1-.3.2H13l-.3-.1L10 8.9l-.3-.2h-.2L9 9l-3.3 3.5"})))}const ra=o.forwardRef(la);var sa,da,ca,ua,pa,ha;function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},va.apply(this,arguments)}function ga(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",va({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sa||(sa=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.5 17.5H3a.8.8 0 0 1-.4-.5l-.1-.8V2.5"})),da||(da=o.createElement("circle",{cx:9,cy:8,r:1,fill:"currentColor"})),ca||(ca=o.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"})),ua||(ua=o.createElement("circle",{cx:18,cy:5,r:1,fill:"currentColor"})),pa||(pa=o.createElement("circle",{cx:15,cy:8,r:1,fill:"currentColor"})),ha||(ha=o.createElement("circle",{cx:6,cy:12,r:1,fill:"currentColor"})))}const fa=o.forwardRef(ga);var ma,ya;function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wa.apply(this,arguments)}function ba(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",wa({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ma||(ma=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.5 17.5H3.92c-.5 0-.74 0-.93-.1a.86.86 0 0 1-.4-.35c-.09-.18-.09-.42-.09-.88V2.5"})),ya||(ya=o.createElement("path",{fill:"#97A0AF",d:"m8.12 8.8-4.94 4.05a.5.5 0 0 0-.18.39v4.26h15V6.12a.5.5 0 0 0-.83-.37l-3.79 3.4a1 1 0 0 1-.88.24L8.97 8.6a1 1 0 0 0-.85.2"})))}const Ca=o.forwardRef(ba);var xa;function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ia.apply(this,arguments)}function ja(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ia({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,xa||(xa=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.17 7.92v2.83c0 .47 0 .7-.1.88a.83.83 0 0 1-.36.36c-.18.1-.41.1-.88.1H2.5m8.33 0v2.83c0 .46 0 .7-.09.88a.83.83 0 0 1-.36.36c-.18.09-.41.09-.88.09h-7m0-14.58v16.66m0-10.41h13.67c.46 0 .7 0 .88-.1.15-.07.28-.2.36-.36.09-.18.09-.41.09-.88v-1.5c0-.46 0-.7-.1-.88a.83.83 0 0 0-.35-.36c-.18-.09-.42-.09-.88-.09H2.5z"})))}const Ma=o.forwardRef(ja);var ka;function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ta.apply(this,arguments)}function Ea(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ta({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ka||(ka=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 16.667v-5.834M10 16.667V8.333m-6.667 8.334v-3.334m7.84-9.143 4.306 1.615M9 4.5 4.334 8M17.55 5.366a1.25 1.25 0 1 1-1.768 1.768 1.25 1.25 0 0 1 1.768-1.768m-13.334 2.5A1.25 1.25 0 1 1 2.45 9.634a1.25 1.25 0 0 1 1.768-1.768m6.667-5a1.25 1.25 0 1 1-1.768 1.768 1.25 1.25 0 0 1 1.768-1.768"})))}const Pa=o.forwardRef(Ea);var Oa;function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_a.apply(this,arguments)}function Sa(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",_a({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Oa||(Oa=o.createElement("path",{fillRule:"evenodd",d:"m9.384 3.485 2.75-2.75 1.179 1.178-2.75 2.75h2.571V6.33H7.718V.913h1.666zm-4.688 7.049-2.75 2.75-1.178-1.179 2.75-2.75H.945V7.69h5.417v5.416H4.696z",clipRule:"evenodd"})))}const Na=o.forwardRef(Sa);var La;function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Da.apply(this,arguments)}function Ra(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Da({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 25",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,La||(La=o.createElement("path",{d:"M4 3.5h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-16a1 1 0 0 1 1-1m1 2v14h14v-14zm6.003 11L6.76 12.257l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414z"})))}const Za=o.forwardRef(Ra);var Aa;function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fa.apply(this,arguments)}function za(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Fa({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Aa||(Aa=o.createElement("path",{d:"M8 1.332a6.666 6.666 0 1 1-6.666 6.667h1.333a5.334 5.334 0 1 0 .924-3h1.743v1.333h-4v-4h1.333v1.667a6.65 6.65 0 0 1 5.334-2.667m.667 3.333v3.057l2.162 2.162-.943.943-2.552-2.553V4.665z"})))}const Ba=o.forwardRef(za);var Va;function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ha.apply(this,arguments)}function Wa(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ha({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Va||(Va=o.createElement("path",{d:"M4.5 1.667A2.833 2.833 0 0 1 7.333 4.5v2.833H4.5a2.833 2.833 0 0 1 0-5.666M6 6V4.5A1.5 1.5 0 1 0 4.5 6zM4.5 8.667h2.833V11.5A2.833 2.833 0 1 1 4.5 8.667M4.5 10A1.5 1.5 0 1 0 6 11.5V10zm7-8.333a2.834 2.834 0 0 1 0 5.666H8.667V4.5A2.833 2.833 0 0 1 11.5 1.667M11.5 6A1.5 1.5 0 1 0 10 4.5V6zM8.667 8.667H11.5A2.833 2.833 0 1 1 8.667 11.5zM10 10v1.5a1.5 1.5 0 1 0 1.5-1.5z"})))}const Ua=o.forwardRef(Wa);var qa;function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ga.apply(this,arguments)}function $a(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ga({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,qa||(qa=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.4 3.189V6.08c0 .392 0 .588.077.738a.7.7 0 0 0 .306.306c.15.076.345.076.737.076h2.892M7.2 12.1v2.1m5.6-3.5v3.5M10 8.95v5.25m5.6-5.608v5.048c0 1.176 0 1.764-.229 2.213a2.1 2.1 0 0 1-.917.918c-.45.229-1.038.229-2.214.229H7.76c-1.176 0-1.764 0-2.213-.229a2.1 2.1 0 0 1-.918-.918C4.4 15.404 4.4 14.816 4.4 13.64V6.36c0-1.176 0-1.764.23-2.213a2.1 2.1 0 0 1 .917-.918C5.997 3 6.584 3 7.76 3h2.249c.513 0 .77 0 1.012.058a2.1 2.1 0 0 1 .607.251c.212.13.393.312.756.675l2.232 2.232c.364.363.545.545.675.757q.174.282.251.607c.058.241.058.498.058 1.012"})))}const Ja=o.forwardRef($a);var Ka;function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ya.apply(this,arguments)}function Qa(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ya({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ka||(Ka=o.createElement("path",{d:"m8 1 6 3.474v6.947l-6 3.474-6-3.474V4.474zm0 1.46L3.263 5.202v5.49L8 13.436l4.737-2.742V5.202zm0 8.014A2.526 2.526 0 1 1 8 5.42a2.526 2.526 0 0 1 0 5.053M8 9.21a1.263 1.263 0 1 0 0-2.527A1.263 1.263 0 0 0 8 9.21"})))}const Xa=o.forwardRef(Qa);var el;function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tl.apply(this,arguments)}function il(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",tl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,el||(el=o.createElement("path",{d:"M3.157 3.302a5.333 5.333 0 0 0 5.878 8.63c.076-.5-.092-.98-.16-1.149-.154-.373-.66-1.011-1.502-1.896-.226-.236-.211-.418-.13-.958l.008-.06c.055-.37.147-.588 1.39-.786.632-.1.798.152 1.028.502l.078.115c.218.32.38.393.625.504.11.05.247.113.43.217.435.248.435.529.435 1.144v.07c0 .26-.026.49-.066.689a5.336 5.336 0 0 0-2.07-8.227c-.368.248-.874.6-1.051.843-.09.123-.218.755-.633.807a2.4 2.4 0 0 1-.41-.006c-.414-.027-.98-.064-1.162.429-.115.312-.135 1.16.238 1.6.06.07.07.2.03.346a.7.7 0 0 1-.194.332c-.064-.037-.192-.186-.28-.287-.208-.243-.47-.546-.807-.64-.123-.034-.257-.062-.389-.09-.366-.076-.78-.164-.876-.37-.071-.15-.07-.357-.07-.576 0-.278 0-.592-.136-.896a.85.85 0 0 0-.204-.287M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334"})))}const nl=o.forwardRef(il);var ol;function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},al.apply(this,arguments)}function ll(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",al({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ol||(ol=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668M10 4 8.333 8.333 4 10l1.667-4.333zM7 7.667a.667.667 0 1 0 0-1.334.667.667 0 0 0 0 1.334"})))}const rl=o.forwardRef(ll);var sl;function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dl.apply(this,arguments)}function cl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",dl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sl||(sl=o.createElement("path",{d:"m8.957 3.803-4-2-3.29 1.41v8.432l3.376-1.447 4 2 3.29-1.411V2.355zM.333 2.333 5 .333l4 2 4.202-1.8a.333.333 0 0 1 .465.306v10.828l-4.667 2-4-2-4.202 1.8a.334.334 0 0 1-.465-.306zm2.667 4h1.333v1.334H3zm2.667 0H7v1.334H5.667zm3.998-.042.826-.824.706.706-.824.826.824.825-.706.707-.826-.825-.824.825-.708-.707.825-.825-.825-.825.707-.707z"})))}const ul=o.forwardRef(cl);var pl;function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hl.apply(this,arguments)}function vl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",hl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 13 13",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,pl||(pl=o.createElement("path",{d:"m7.219.124 5.657 5.657-.943.943-.472-.471L8.633 9.08l-.471 2.357-.943.943L4.39 9.552l-3.3 3.3-.943-.943 3.3-3.3L.619 5.781l.943-.943 2.358-.471 2.828-2.828-.471-.472zm.472 2.357L4.577 5.595l-1.882.376 4.334 4.334.376-1.882 3.114-3.113z"})))}const gl=o.forwardRef(vl);var fl;function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ml.apply(this,arguments)}function yl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ml({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,fl||(fl=o.createElement("path",{d:"M5.65 5.983a2.333 2.333 0 1 0-3.3 0L4 7.633zM4 9.52 1.407 6.927a3.667 3.667 0 1 1 5.186 0zm0-4.186a1 1 0 1 1 0-2 1 1 0 0 1 0 2m6 8.3 1.65-1.65a2.333 2.333 0 1 0-3.3 0zm2.593-.706L10 15.519l-2.593-2.593a3.667 3.667 0 1 1 5.186 0M10 11.333a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})))}const wl=o.forwardRef(yl);var bl;function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cl.apply(this,arguments)}function xl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Cl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,bl||(bl=o.createElement("path",{d:"M2.333.333h7.334A.67.67 0 0 1 10.2.6L12 3v10a.666.666 0 0 1-.667.667H.667A.667.667 0 0 1 0 13V3L1.8.6a.67.67 0 0 1 .533-.267m8.334 4H1.333v8h9.334zM10.333 3l-1-1.333H2.667L1.667 3zM4 5.667V7a2 2 0 1 0 4 0V5.667h1.333V7a3.333 3.333 0 0 1-6.666 0V5.667z"})))}const Il=o.forwardRef(xl);var jl;function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ml.apply(this,arguments)}function kl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ml({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,jl||(jl=o.createElement("path",{d:"M9.733 5.333H14a1.333 1.333 0 0 1 1.333 1.334v1.402q0 .264-.1.508l-2.063 5.01a.67.67 0 0 1-.617.413H1.333a.667.667 0 0 1-.666-.667V6.667A.667.667 0 0 1 1.333 6h2.322a.67.67 0 0 0 .544-.282L7.835.567A.33.33 0 0 1 8.256.46l1.21.604a1.67 1.67 0 0 1 .87 1.902zM4.667 7.06v5.608h7.44L14 8.069V6.667H9.733a1.333 1.333 0 0 1-1.292-1.662l.602-2.366a.33.33 0 0 0-.174-.38l-.44-.22-3.14 4.448a2 2 0 0 1-.622.572m-1.334.274H2v5.334h1.333z"})))}const Tl=o.forwardRef(kl);var El;function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pl.apply(this,arguments)}function Ol(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Pl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,El||(El=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668m-2.333-4h3.666a.333.333 0 1 0 0-.666H5.667a1.667 1.667 0 0 1 0-3.334h.666V3h1.334v1.333h1.666v1.334H5.667a.333.333 0 1 0 0 .666h2.666a1.667 1.667 0 0 1 0 3.334h-.666V11H6.333V9.667H4.667z"})))}const _l=o.forwardRef(Ol);var Sl;function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Nl.apply(this,arguments)}function Ll(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Nl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Sl||(Sl=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668m.667-4.666h2V9h-2v1.333H6.333V9h-2V7.667h2V7h-2V5.667h1.724L4.643 4.253l.944-.944L7 4.724l1.414-1.415.943.944-1.414 1.414h1.724V7h-2z"})))}const Dl=o.forwardRef(Ll);var Rl;function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zl.apply(this,arguments)}function Al(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 15",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Rl||(Rl=o.createElement("path",{d:"M4.649 11H7.35c.088-.801.497-1.463 1.16-2.185.076-.081.555-.578.612-.648a4 4 0 1 0-6.247-.002c.057.072.538.569.612.65.664.722 1.073 1.384 1.16 2.185m2.684 1.333H4.667V13h2.666zM1.836 9a5.333 5.333 0 1 1 8.327.001c-.414.515-1.496 1.332-1.496 2.332V13a1.333 1.333 0 0 1-1.334 1.333H4.667A1.334 1.334 0 0 1 3.333 13v-1.667c0-1-1.083-1.817-1.497-2.333m4.83-3.33h1.667l-3 4V7.002H3.667l3-4.003z"})))}const Fl=o.forwardRef(Al);var zl;function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bl.apply(this,arguments)}function Vl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Bl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 12",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zl||(zl=o.createElement("path",{d:"M3 0a4.67 4.67 0 0 1 4.609 3.93 4.32 4.32 0 0 1 3.058-1.263h3v1.666a4.333 4.333 0 0 1-4.334 4.334H7.667V12H6.333V6.667H5A4.667 4.667 0 0 1 .333 2V0zm9.333 4h-1.666a3 3 0 0 0-3 3v.333h1.666a3 3 0 0 0 3-3zM3 1.333H1.667V2A3.334 3.334 0 0 0 5 5.333h1.333v-.666A3.334 3.334 0 0 0 3 1.333"})))}const Hl=o.forwardRef(Vl);var Wl;function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ul.apply(this,arguments)}function ql(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ul({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 13 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Wl||(Wl=o.createElement("path",{d:"M4 11H.667V5.667H4zM2.667 9.667V7H2v2.667zm4 0V4.333H6v5.334zM8 11H4.667V3H8zm2.667-1.333v-8H10v8zM12 11H8.667V.333H12zm.667 2.667H0v-1.334h12.667z"})))}const Gl=o.forwardRef(ql);var $l;function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jl.apply(this,arguments)}function Kl(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Jl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$l||($l=o.createElement("path",{d:"M12 4.333v8.662a.665.665 0 0 1-.662.672H.662A.66.66 0 0 1 0 13.005V.995C0 .637.3.333.668.333h7.33zM10.667 5H7.333V1.667h-6v10.666h9.334zM3.333 3.667h2V5h-2zm0 2.666h5.334v1.334H3.333zm0 2.667h5.334v1.333H3.333z"})))}const Yl=o.forwardRef(Kl);var Ql;function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xl.apply(this,arguments)}function er(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Xl({xmlns:"http://www.w3.org/2000/svg",width:22,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 22 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ql||(Ql=o.createElement("path",{d:"M21.5 8.5v13.99a1.165 1.165 0 0 1-1.158 1.175H1.659A1.16 1.16 0 0 1 .5 22.51V1.49A1.17 1.17 0 0 1 1.664.333h11.67v7A1.167 1.167 0 0 0 14.5 8.5zm0-2.334h-5.833V.336zm-15.167 0V8.5h3.5V6.166zm0 4.667v2.333h9.334v-2.333zm0 4.667v2.333h9.334V15.5z"})))}const tr=o.forwardRef(er);var ir;function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},nr.apply(this,arguments)}function or(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",nr({xmlns:"http://www.w3.org/2000/svg",width:12,height:15,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 15",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ir||(ir=o.createElement("path",{d:"M9.333 1.333h2A.667.667 0 0 1 12 2v12a.666.666 0 0 1-.667.667H.667A.667.667 0 0 1 0 14V2a.667.667 0 0 1 .667-.667h2V0H4v1.333h4V0h1.333zm0 1.334V4H8V2.667H4V4H2.667V2.667H1.333v10.666h9.334V2.667zM2.667 5.333h6.666v1.334H2.667zm0 2.667h6.666v1.333H2.667z"})))}const ar=o.forwardRef(or);var lr;function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rr.apply(this,arguments)}function sr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",rr({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,lr||(lr=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668M3.667 5l2-2.333 2 2.333H6.333v2.667H5V5zm6.666 4-2 2.333-2-2.333h1.334V6.333H9V9z"})))}const dr=o.forwardRef(sr);var cr;function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ur.apply(this,arguments)}function pr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ur({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,cr||(cr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 8.75V5.667c0-1.4 0-2.1-.272-2.635a2.5 2.5 0 0 0-1.093-1.093c-.534-.272-1.235-.272-2.635-.272H7.334c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093c-.272.534-.272 1.234-.272 2.635v8.666c0 1.4 0 2.1.272 2.635A2.5 2.5 0 0 0 4.7 18.061c.535.272 1.235.272 2.635.272h2.667m1.666-9.166h-5M8.334 12.5H6.667m6.667-6.667H6.667M15.001 17.5v-5M12.5 15h5"})))}const hr=o.forwardRef(pr);var vr;function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gr.apply(this,arguments)}function fr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",gr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,vr||(vr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0 0V5.333A1.334 1.334 0 0 0 10.667 4h-2M4 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 0v8"})))}const mr=o.forwardRef(fr);var yr;function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wr.apply(this,arguments)}function br(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",wr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,yr||(yr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.667 4.667-.743-1.488c-.214-.428-.321-.642-.481-.798a1.3 1.3 0 0 0-.498-.308C6.733 2 6.495 2 6.015 2H3.468c-.746 0-1.12 0-1.405.145a1.34 1.34 0 0 0-.583.583c-.145.285-.145.659-.145 1.405v.534m0 0h10.133c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108V10.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.427.218-.988.218-2.108.218H4.534c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874c-.218-.428-.218-.988-.218-2.108z"})))}const Cr=o.forwardRef(br);var xr;function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ir.apply(this,arguments)}function jr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ir({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,xr||(xr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.5 7.5h15m-15 5h15M10 2.5v15m-3.5-15h7c1.4 0 2.1 0 2.635.272a2.5 2.5 0 0 1 1.092 1.093C17.5 4.4 17.5 5.1 17.5 6.5v7c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-7c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2.5 15.6 2.5 14.9 2.5 13.5v-7c0-1.4 0-2.1.272-2.635a2.5 2.5 0 0 1 1.093-1.093C4.4 2.5 5.1 2.5 6.5 2.5"})))}const Mr=o.forwardRef(jr);var kr;function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tr.apply(this,arguments)}function Er(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Tr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,kr||(kr=o.createElement("path",{d:"M10 2.667H3.333v10.666h9.334v-8H10zm-8-.672c0-.366.298-.662.666-.662h8L14 4.667v9.328a.666.666 0 0 1-.662.672H2.662A.666.666 0 0 1 2 14.005zM11.771 8l-2.357 2.357-.943-.943L9.885 8 8.472 6.586l.942-.943zM4.23 8l2.358-2.357.942.943L6.115 8l1.413 1.414-.942.943z"})))}const Pr=o.forwardRef(Er);var Or,_r;function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sr.apply(this,arguments)}function Nr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Sr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Or||(Or=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 1.335c-.45.006-.72.032-.938.144-.25.128-.455.331-.583.582-.111.219-.137.489-.143.939M13 1.335c.45.006.72.032.938.144.251.128.455.331.583.582.111.219.137.489.143.939m0 6c-.006.45-.032.72-.143.939-.128.25-.332.455-.583.582-.218.112-.488.138-.938.144m1.666-5.332v1.334M9.334 1.333h1.333m-7.2 13.334h5.067c.747 0 1.12 0 1.405-.146.251-.127.455-.331.583-.582.145-.286.145-.659.145-1.406V7.467c0-.747 0-1.12-.145-1.406a1.33 1.33 0 0 0-.583-.582c-.285-.146-.658-.146-1.405-.146H3.467c-.746 0-1.12 0-1.405.146-.25.128-.455.332-.583.582-.145.286-.145.659-.145 1.406v5.066c0 .747 0 1.12.145 1.406.128.25.332.455.583.582.285.146.659.146 1.405.146"}))),_r||(_r=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}const Lr=o.forwardRef(Nr);var Dr;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rr.apply(this,arguments)}function Zr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Rr({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Dr||(Dr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 8.75V5.667c0-1.4 0-2.1-.272-2.635a2.5 2.5 0 0 0-1.093-1.093c-.534-.272-1.235-.272-2.635-.272H7.334c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093c-.272.534-.272 1.234-.272 2.635v8.666c0 1.4 0 2.1.272 2.635A2.5 2.5 0 0 0 4.7 18.061c.535.272 1.235.272 2.635.272h2.667m5-.833v-5M12.5 15h5"})))}const Ar=o.forwardRef(Zr);var Fr;function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zr.apply(this,arguments)}function Br(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",zr({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Fr||(Fr=o.createElement("path",{d:"M9.72158 0.500004L17.6599 14.25C17.7331 14.3767 17.7716 14.5204 17.7716 14.6667C17.7716 14.8129 17.7331 14.9566 17.6599 15.0833C17.5868 15.21 17.4816 15.3152 17.3549 15.3883C17.2282 15.4615 17.0845 15.5 16.9382 15.5H1.06158C0.915305 15.5 0.771604 15.4615 0.644924 15.3883C0.518245 15.3152 0.413049 15.21 0.339912 15.0833C0.266774 14.9566 0.228271 14.8129 0.228271 14.6667C0.228272 14.5204 0.266778 14.3767 0.339917 14.25L8.27825 0.500004C8.35139 0.373331 8.45659 0.268142 8.58327 0.195009C8.70995 0.121875 8.85364 0.083374 8.99992 0.083374C9.14619 0.083374 9.28989 0.121875 9.41656 0.195009C9.54324 0.268142 9.64844 0.373331 9.72158 0.500004ZM8.16658 11.3333V13H9.83325V11.3333H8.16658ZM8.16658 5.5V9.66667H9.83325V5.5H8.16658Z",fill:"#FFAB00"})))}const Vr=o.forwardRef(Br);var Hr;function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wr.apply(this,arguments)}function Ur(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Wr({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Hr||(Hr=o.createElement("path",{d:"m12.866 3 9.526 16.5a1 1 0 0 1-.866 1.5H2.474a1 1 0 0 1-.866-1.5L11.134 3a1 1 0 0 1 1.732 0m-8.66 16h15.588L12 5.5zM11 16h2v2h-2zm0-7h2v5h-2z"})))}const qr=o.forwardRef(Ur);var Gr,$r;function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jr.apply(this,arguments)}function Kr(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Jr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Gr||(Gr=o.createElement("path",{fillRule:"evenodd",d:"M8.667 4.665H7.333v5.132a4.5 4.5 0 0 1 1.334-1.793zm4 2.488V5.332H10V2.665H3.333v10.667H7.39c.222.5.533.95.912 1.333h-5.64A.667.667 0 0 1 2 14.004V1.994c0-.366.298-.662.666-.662h8L14 4.665v3.093a4.5 4.5 0 0 0-1.333-.605M6 8.665H4.667v2.667H6z",clipRule:"evenodd"})),$r||($r=o.createElement("path",{d:"M12.75 8v3.333H15L11.25 16v-3.333H9z"})))}const Yr=o.forwardRef(Kr);var Qr,Xr;function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},es.apply(this,arguments)}function ts(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",es({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Qr||(Qr=o.createElement("path",{fillRule:"evenodd",d:"M8.667 4.665H7.333v5.132a4.5 4.5 0 0 1 1.334-1.793zm4 2.488V5.332H10V2.665H3.333v10.667H7.39c.222.5.533.95.912 1.333h-5.64A.667.667 0 0 1 2 14.004V1.994c0-.366.298-.662.666-.662h8L14 4.665v3.093a4.5 4.5 0 0 0-1.333-.605M6 8.665H4.667v2.667H6z",clipRule:"evenodd"})),Xr||(Xr=o.createElement("path",{d:"m11.5 8.5 3 3-1 1-1.293-1.293v3.95h-1.414v-3.951L9.5 12.5l-1-1z"})))}const is=o.forwardRef(ts);var ns,os;function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},as.apply(this,arguments)}function ls(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",as({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ns||(ns=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66667 4.66536H7.33333V9.79715C7.62177 9.09209 8.08396 8.47654 8.66667 8.00374V4.66536ZM12.6667 7.1527V5.33203H10V2.66536H3.33333V13.332H7.38856C7.61127 13.8311 7.92216 14.2821 8.30144 14.6654H2.662C2.48692 14.6641 2.31934 14.5941 2.19548 14.4704C2.07161 14.3466 2.0014 14.1791 2 14.004V1.99336C2 1.62803 2.298 1.33203 2.666 1.33203H10.6667L14 4.66536V7.75774C13.5968 7.48788 13.1476 7.28144 12.6667 7.1527ZM6 8.66536H4.66667V11.332H6V8.66536Z",fill:"#97A0AF"})),os||(os=o.createElement("path",{d:"M12.2885 7.99868L15.4639 13.4987C15.4931 13.5494 15.5085 13.6068 15.5085 13.6653C15.5085 13.7239 15.4931 13.7813 15.4639 13.832C15.4346 13.8827 15.3925 13.9248 15.3419 13.954C15.2912 13.9833 15.2337 13.9987 15.1752 13.9987H8.82454C8.76602 13.9987 8.70854 13.9833 8.65787 13.954C8.6072 13.9248 8.56512 13.8827 8.53587 13.832C8.50661 13.7813 8.49121 13.7239 8.49121 13.6653C8.49121 13.6068 8.50661 13.5494 8.53587 13.4987L11.7112 7.99868C11.7405 7.94801 11.7825 7.90594 11.8332 7.87669C11.8839 7.84743 11.9414 7.83203 11.9999 7.83203C12.0584 7.83203 12.1159 7.84743 12.1665 7.87669C12.2172 7.90594 12.2593 7.94801 12.2885 7.99868ZM11.6665 12.332V12.9987H12.3332V12.332H11.6665ZM11.6665 9.99868V11.6653H12.3332V9.99868H11.6665Z",fill:"#FFAB00"})))}const rs=o.forwardRef(ls);var ss;function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ds.apply(this,arguments)}function cs(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ds({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ss||(ss=o.createElement("path",{d:"M3.333 8.333c0 .209.308.572 1.02.929C5.276 9.723 6.585 10 8 10s2.724-.277 3.647-.738c.712-.357 1.02-.72 1.02-.929V6.886C11.567 7.566 9.885 8 8 8s-3.567-.435-4.667-1.114zm9.334 1.886c-1.1.68-2.782 1.114-4.667 1.114S4.433 10.9 3.333 10.22v1.448c0 .208.308.572 1.02.928.923.462 2.232.738 3.647.738s2.724-.276 3.647-.738c.712-.356 1.02-.72 1.02-.928zM2 11.667V5c0-1.657 2.687-3 6-3s6 1.343 6 3v6.667c0 1.656-2.687 3-6 3s-6-1.344-6-3m6-5c1.415 0 2.724-.277 3.647-.738.712-.357 1.02-.72 1.02-.929s-.308-.572-1.02-.929C10.724 3.61 9.415 3.333 8 3.333s-2.724.277-3.647.738c-.712.357-1.02.72-1.02.929s.308.572 1.02.929c.923.461 2.232.738 3.647.738"})))}const us=o.forwardRef(cs);var ps,hs,vs;function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gs.apply(this,arguments)}function fs(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",gs({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ps||(ps=o.createElement("path",{d:"M3.33333 8.33333C3.33333 8.542 3.64067 8.90533 4.35333 9.262C5.276 9.72333 6.58467 10 8 10C9.41533 10 10.724 9.72333 11.6467 9.262C12.3593 8.90533 12.6667 8.542 12.6667 8.33333V6.886C11.5667 7.566 9.88467 8 8 8C6.11533 8 4.43333 7.56533 3.33333 6.886V8.33333ZM12.6667 10.2193C11.5667 10.8993 9.88467 11.3333 8 11.3333C6.11533 11.3333 4.43333 10.8987 3.33333 10.2193V11.6667C3.33333 11.8753 3.64067 12.2387 4.35333 12.5953C5.276 13.0567 6.58467 13.3333 8 13.3333C9.41533 13.3333 10.724 13.0567 11.6467 12.5953C12.3593 12.2387 12.6667 11.8753 12.6667 11.6667V10.2193ZM2 11.6667V5C2 3.34333 4.68667 2 8 2C11.3133 2 14 3.34333 14 5V11.6667C14 13.3233 11.3133 14.6667 8 14.6667C4.68667 14.6667 2 13.3233 2 11.6667ZM8 6.66667C9.41533 6.66667 10.724 6.39 11.6467 5.92867C12.3593 5.572 12.6667 5.20867 12.6667 5C12.6667 4.79133 12.3593 4.428 11.6467 4.07133C10.724 3.61 9.41533 3.33333 8 3.33333C6.58467 3.33333 5.276 3.61 4.35333 4.07133C3.64067 4.428 3.33333 4.79133 3.33333 5C3.33333 5.20867 3.64067 5.572 4.35333 5.92867C5.276 6.39 6.58467 6.66667 8 6.66667Z",fill:"currentColor"})),hs||(hs=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.5C7 9.01466 9.01466 7 11.5 7C13.9853 7 16 9.01466 16 11.5C16 13.9853 13.9853 16 11.5 16C9.01466 16 7 13.9853 7 11.5Z",fill:"white"})),vs||(vs=o.createElement("path",{d:"M12.75 8V11.3333H15L11.25 16V12.6667H9L12.75 8Z",fill:"currentColor"})))}const ms=o.forwardRef(fs);var ys,ws,bs;function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cs.apply(this,arguments)}function xs(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Cs({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ys||(ys=o.createElement("path",{d:"M3.33333 8.33333C3.33333 8.542 3.64067 8.90533 4.35333 9.262C5.276 9.72333 6.58467 10 8 10C9.41533 10 10.724 9.72333 11.6467 9.262C12.3593 8.90533 12.6667 8.542 12.6667 8.33333V6.886C11.5667 7.566 9.88467 8 8 8C6.11533 8 4.43333 7.56533 3.33333 6.886V8.33333ZM12.6667 10.2193C11.5667 10.8993 9.88467 11.3333 8 11.3333C6.11533 11.3333 4.43333 10.8987 3.33333 10.2193V11.6667C3.33333 11.8753 3.64067 12.2387 4.35333 12.5953C5.276 13.0567 6.58467 13.3333 8 13.3333C9.41533 13.3333 10.724 13.0567 11.6467 12.5953C12.3593 12.2387 12.6667 11.8753 12.6667 11.6667V10.2193ZM2 11.6667V5C2 3.34333 4.68667 2 8 2C11.3133 2 14 3.34333 14 5V11.6667C14 13.3233 11.3133 14.6667 8 14.6667C4.68667 14.6667 2 13.3233 2 11.6667ZM8 6.66667C9.41533 6.66667 10.724 6.39 11.6467 5.92867C12.3593 5.572 12.6667 5.20867 12.6667 5C12.6667 4.79133 12.3593 4.428 11.6467 4.07133C10.724 3.61 9.41533 3.33333 8 3.33333C6.58467 3.33333 5.276 3.61 4.35333 4.07133C3.64067 4.428 3.33333 4.79133 3.33333 5C3.33333 5.20867 3.64067 5.572 4.35333 5.92867C5.276 6.39 6.58467 6.66667 8 6.66667Z",fill:"currentColor"})),ws||(ws=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.5C7 9.01466 9.01466 7 11.5 7C13.9853 7 16 9.01466 16 11.5C16 13.9853 13.9853 16 11.5 16C9.01466 16 7 13.9853 7 11.5Z",fill:"white"})),bs||(bs=o.createElement("path",{d:"M11.5 8.5L14.5 11.4993L13.4995 12.4998L12.207 11.2073V15.1561H10.793V11.2059L9.50047 12.4998L8.5 11.4993L11.5 8.5Z",fill:"currentColor"})))}const Is=o.forwardRef(xs);var js;function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ms.apply(this,arguments)}function ks(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ms({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,js||(js=o.createElement("path",{fillRule:"evenodd",d:"M8.5 13a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3M10 2.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0",clipRule:"evenodd"})))}const Ts=o.forwardRef(ks);var Es;function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ps.apply(this,arguments)}function Os(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ps({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Es||(Es=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.333 17.5v-1.667a3.335 3.335 0 0 0-2.5-3.228m-2.917-9.863a3.334 3.334 0 0 1 0 6.182m1.25 8.576c0-1.553 0-2.33-.254-2.942a3.33 3.33 0 0 0-1.804-1.804c-.612-.254-1.389-.254-2.942-.254h-2.5c-1.553 0-2.33 0-2.942.254a3.33 3.33 0 0 0-1.804 1.804c-.254.612-.254 1.389-.254 2.942m9.583-11.667a3.333 3.333 0 1 1-6.666 0 3.333 3.333 0 0 1 6.666 0"})))}const _s=o.forwardRef(Os);var Ss,Ns;function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ls.apply(this,arguments)}function Ds(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ls({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ss||(Ss=o.createElement("path",{d:"M-6.10352e-05 8.00098C-6.10352e-05 3.5827 3.58166 0.000976562 7.99994 0.000976562C12.4182 0.000976562 15.9999 3.5827 15.9999 8.00098C15.9999 12.4193 12.4182 16.001 7.99994 16.001C3.58166 16.001 -6.10352e-05 12.4193 -6.10352e-05 8.00098Z",fill:"currentColor"})),Ns||(Ns=o.createElement("path",{d:"M6.70585 10.3542L12.0585 5.00098L12.8825 5.82437L6.70585 12.001L3 8.29513L3.82339 7.47174L6.70585 10.3542Z",fill:"white"})))}const Rs=o.forwardRef(Ds);var Zs,As;function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fs.apply(this,arguments)}function zs(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Fs({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Zs||(Zs=o.createElement("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H24C28.4183 0 32 3.58172 32 8V24C32 28.4183 28.4183 32 24 32H8C3.58172 32 0 28.4183 0 24V8Z",fill:"#EBECF0"})),As||(As=o.createElement("path",{d:"M22.1905 23H10V21.4762C10 20.4658 10.4014 19.4969 11.1158 18.7825C11.8302 18.068 12.7992 17.6667 13.8095 17.6667H18.381C19.3913 17.6667 20.3603 18.068 21.0747 18.7825C21.7891 19.4969 22.1905 20.4658 22.1905 21.4762V23ZM16.0952 16.1429C15.4949 16.1429 14.9005 16.0246 14.3458 15.7949C13.7912 15.5651 13.2872 15.2284 12.8627 14.8039C12.4383 14.3794 12.1015 13.8755 11.8718 13.3208C11.6421 12.7662 11.5238 12.1718 11.5238 11.5714C11.5238 10.9711 11.6421 10.3766 11.8718 9.82202C12.1015 9.26739 12.4383 8.76344 12.8627 8.33894C13.2872 7.91444 13.7912 7.57772 14.3458 7.34798C14.9005 7.11824 15.4949 7 16.0952 7C17.3077 7 18.4704 7.48163 19.3277 8.33894C20.185 9.19625 20.6667 10.359 20.6667 11.5714C20.6667 12.7838 20.185 13.9466 19.3277 14.8039C18.4704 15.6612 17.3077 16.1429 16.0952 16.1429Z",fill:"currentColor"})))}const Bs=o.forwardRef(zs);var Vs;function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hs.apply(this,arguments)}function Ws(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Hs({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Vs||(Vs=o.createElement("path",{d:"m8.577 2 6.35 11a.667.667 0 0 1-.577 1H1.65a.667.667 0 0 1-.578-1l6.35-11a.667.667 0 0 1 1.155 0m-1.244 8.667V12h1.333v-1.334zm0-4.667v3.333h1.333V6z"})))}const Us=o.forwardRef(Ws);var qs;function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gs.apply(this,arguments)}function $s(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Gs({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,qs||(qs=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 5c0 1.657-4.03 3-9 3S3 6.657 3 5m18 0c0-1.657-4.03-3-9-3S3 3.343 3 5m18 0v14c0 1.66-4 3-9 3s-9-1.34-9-3V5m18 7c0 1.66-4 3-9 3s-9-1.34-9-3"})))}const Js=o.forwardRef($s);var Ks;function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ys.apply(this,arguments)}function Qs(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ys({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ks||(Ks=o.createElement("path",{d:"M2 2c6.627 0 12 5.373 12 12h-2C12 8.477 7.523 4 2 4zm0 4.667A7.333 7.333 0 0 1 9.333 14h-2A5.333 5.333 0 0 0 2 8.667zm0 4.666A2.667 2.667 0 0 1 4.667 14H2z"})))}const Xs=o.forwardRef(Qs);var ed;function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},td.apply(this,arguments)}function id(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",td({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ed||(ed=o.createElement("path",{d:"m8 8.391 2.829 2.828-.944.944-1.218-1.219v3.723H7.333v-3.724l-1.218 1.22-.944-.944zm0-7.057a4.667 4.667 0 0 1 4.636 4.13 3.667 3.667 0 0 1-.635 7.189V11.31a2.333 2.333 0 1 0-.742-4.607 3.333 3.333 0 1 0-6.518 0 2.333 2.333 0 1 0-.861 4.587l.12.02v1.343a3.667 3.667 0 0 1-.636-7.19A4.667 4.667 0 0 1 8 1.334"})))}const nd=o.forwardRef(id);var od;function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ad.apply(this,arguments)}function ld(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ad({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 48 48",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,od||(od=o.createElement("path",{d:"M24 44C12.954 44 4 35.046 4 24S12.954 4 24 4s20 8.954 20 20-8.954 20-20 20m-1.994-12 14.14-14.142-2.828-2.828-11.312 11.314-5.658-5.658-2.828 2.828z"})))}const rd=o.forwardRef(ld);var sd;function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dd.apply(this,arguments)}function cd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",dd({xmlns:"http://www.w3.org/2000/svg",width:8,height:8,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 8 8",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sd||(sd=o.createElement("path",{d:"M4.75 0v3.333H7L3.25 8V4.667H1z"})))}const ud=o.forwardRef(cd);var pd;function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hd.apply(this,arguments)}function vd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",hd({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,pd||(pd=o.createElement("path",{d:"M12.55 14.5h-9.1a1.95 1.95 0 0 1-1.95-1.95V2.15a.65.65 0 0 1 .65-.65h9.1a.65.65 0 0 1 .65.65v7.8h2.6v2.6a1.95 1.95 0 0 1-1.95 1.95m-.65-3.25v1.3a.65.65 0 0 0 1.3 0v-1.3zm-1.3 1.95V2.8H2.8v9.75a.65.65 0 0 0 .65.65zM4.1 4.75h5.2v1.3H4.1zm0 2.6h5.2v1.3H4.1zm0 2.6h3.25v1.3H4.1z"})))}const gd=o.forwardRef(vd);var fd;function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},md.apply(this,arguments)}function yd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",md({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,fd||(fd=o.createElement("path",{d:"M13.333 14.666H12v-1.333a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v1.333H2.667v-1.333A3.333 3.333 0 0 1 6 9.999h4a3.333 3.333 0 0 1 3.333 3.334zM8 8.666a4 4 0 1 1 0-8 4 4 0 0 1 0 8m0-1.333a2.667 2.667 0 1 0 0-5.334 2.667 2.667 0 0 0 0 5.334"})))}const wd=o.forwardRef(yd);var bd;function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cd.apply(this,arguments)}function xd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Cd({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,bd||(bd=o.createElement("path",{d:"M4 5.333v-.667a4 4 0 1 1 8 0v.667h1.333a.667.667 0 0 1 .667.666v8a.667.667 0 0 1-.667.667H2.667A.667.667 0 0 1 2 13.999V6a.667.667 0 0 1 .667-.666zm8.667 1.333H3.333v6.667h9.334zm-5.334 3.821a1.333 1.333 0 1 1 1.334 0V12H7.333zm-2-5.154h5.334v-.667a2.667 2.667 0 0 0-5.334 0z"})))}const Id=o.forwardRef(xd);var jd;function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Md.apply(this,arguments)}function kd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Md({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,jd||(jd=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12h18M3 6h18M3 18h18"})))}const Td=o.forwardRef(kd);var Ed;function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pd.apply(this,arguments)}function Od(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Pd({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ed||(Ed=o.createElement("path",{d:"M18.574 13.711a.91.91 0 0 0 .898-.898.895.895 0 0 0-.898-.898c-.499 0-.898.4-.898.898 0 .5.4.898.898.898m-4.425 0a.91.91 0 0 0 .898-.898c0-.498-.4-.898-.898-.898-.5 0-.898.4-.898.898 0 .5.399.898.898.898m6.567 5.04a.35.35 0 0 0-.172.37c0 .048 0 .097.025.147.098.417.294 1.081.294 1.106 0 .073.025.122.025.172a.22.22 0 0 1-.221.22c-.05 0-.074-.024-.123-.048l-1.449-.836a.8.8 0 0 0-.344-.098c-.073 0-.147 0-.196.024-.688.197-1.4.295-2.161.295-3.66 0-6.607-2.457-6.607-5.505s2.947-5.505 6.607-5.505c3.659 0 6.606 2.458 6.606 5.505 0 1.647-.884 3.146-2.284 4.154zM16.673 8.099a9 9 0 0 0-.28-.005c-4.174 0-7.606 2.86-7.606 6.505 0 .554.08 1.09.228 1.6h-.089a10 10 0 0 1-2.584-.368c-.074-.025-.148-.025-.222-.025a.83.83 0 0 0-.418.123l-1.748 1.005c-.05.025-.099.05-.148.05a.273.273 0 0 1-.27-.27c0-.074.024-.123.049-.197.024-.024.246-.834.369-1.324 0-.05.024-.123.024-.172a.56.56 0 0 0-.221-.442C2.058 13.376 1 11.586 1 9.598 1 5.945 4.57 3 8.95 3c3.765 0 6.93 2.169 7.723 5.098zm-5.154.418c.573 0 1.026-.477 1.026-1.026 0-.573-.453-1.026-1.026-1.026s-1.026.453-1.026 1.026.453 1.026 1.026 1.026m-5.26 0c.573 0 1.027-.477 1.027-1.026 0-.573-.454-1.026-1.027-1.026-.572 0-1.026.453-1.026 1.026s.454 1.026 1.026 1.026"})))}const _d=o.forwardRef(Od);var Sd;function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Nd.apply(this,arguments)}function Ld(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Nd({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Sd||(Sd=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2 6.667v2.666M5 4v8M8 2v12m3-10v8m3-5.333v2.666"})))}const Dd=o.forwardRef(Ld);var Rd;function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zd.apply(this,arguments)}function Ad(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Rd||(Rd=o.createElement("path",{d:"M5 4.167h1.667v11.666H5zm8.333 0H15v11.666h-1.667z"})))}const Fd=o.forwardRef(Ad);var zd;function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bd.apply(this,arguments)}function Vd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Bd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zd||(zd=o.createElement("path",{d:"M7.5 7.069v5.863L12.525 10zM6.46 4.534l8.757 5.108a.417.417 0 0 1 0 .719L6.46 15.469a.418.418 0 0 1-.626-.362V4.893a.417.417 0 0 1 .626-.36"})))}const Hd=o.forwardRef(Vd);var Wd;function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ud.apply(this,arguments)}function qd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ud({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Wd||(Wd=o.createElement("path",{d:"M15.926 3.333a.74.74 0 0 1 .74.741v11.852a.74.74 0 0 1-.74.74H4.074a.74.74 0 0 1-.74-.74V4.074a.74.74 0 0 1 .74-.74zM9.26 4.815H4.815v10.37h4.444v-2.963h1.482v2.963h4.444V4.815h-4.444v2.963H9.259zm2.963 2.963L14.445 10l-2.223 2.222v-1.481H7.778v1.481L5.556 10l2.222-2.222v1.481h4.444z"})))}const Gd=o.forwardRef(qd);var $d;function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jd.apply(this,arguments)}function Kd(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Jd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$d||($d=o.createElement("path",{d:"M14.358 15.045a6.667 6.667 0 1 1 1.102-1.218L13.334 10h2a5.333 5.333 0 1 0-1.64 3.848z"})))}const Yd=o.forwardRef(Kd);var Qd;function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xd.apply(this,arguments)}function ec(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Xd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Qd||(Qd=o.createElement("path",{d:"M7.527 10 5 8.217v3.566zM3.99 14.537a.418.418 0 0 1-.657-.341V5.804a.417.417 0 0 1 .657-.34L9.934 9.66a.417.417 0 0 1 0 .68zm8.51-2.754L15.027 10 12.5 8.217zm-1.666-5.979a.417.417 0 0 1 .656-.34l5.944 4.196a.416.416 0 0 1 0 .68l-5.944 4.197a.418.418 0 0 1-.656-.341z"})))}const tc=o.forwardRef(ec);var ic;function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},nc.apply(this,arguments)}function oc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",nc({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 18 18",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ic||(ic=o.createElement("path",{fillRule:"evenodd",d:"M9 .666A8.336 8.336 0 0 0 .667 8.999c0 4.6 3.733 8.334 8.333 8.334s8.333-3.734 8.333-8.334S13.6.666 9 .666m-.834 12.5v-5h1.667v5zm0-8.333v1.666h1.667V4.833z",clipRule:"evenodd"})))}const ac=o.forwardRef(oc);var lc;function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rc.apply(this,arguments)}function sc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",rc({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,lc||(lc=o.createElement("path",{fillRule:"evenodd",d:"M6 0C2.688 0 0 2.688 0 6s2.688 6 6 6 6-2.688 6-6-2.688-6-6-6m-.6 9V5.4h1.2V9zm0-6v1.2h1.2V3z",clipRule:"evenodd"})))}const dc=o.forwardRef(sc);var cc;function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},uc.apply(this,arguments)}function pc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",uc({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 18 18",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,cc||(cc=o.createElement("path",{fillRule:"evenodd",d:"M.667 9C.667 4.4 4.392.665 8.992.665c4.608 0 8.342 3.733 8.342 8.333s-3.734 8.334-8.342 8.334c-4.6 0-8.325-3.734-8.325-8.334m11.642-3.334h2.458a6.7 6.7 0 0 0-3.608-2.967c.5.925.883 1.925 1.15 2.967M9 2.366c.692 1 1.234 2.108 1.592 3.3H7.409c.358-1.192.9-2.3 1.591-3.3M2.334 8.999c0 .575.083 1.134.216 1.667h2.817c-.067-.55-.117-1.1-.117-1.667 0-.566.05-1.116.117-1.666H2.55a7 7 0 0 0-.216 1.666m.9 3.334h2.458c.267 1.041.65 2.041 1.15 2.966a6.66 6.66 0 0 1-3.608-2.966m0-6.667h2.458c.267-1.042.65-2.042 1.15-2.967a6.66 6.66 0 0 0-3.608 2.967M9 15.633a11.7 11.7 0 0 1-1.591-3.3h3.183A11.7 11.7 0 0 1 9 15.633M6.917 8.999c0 .567.058 1.117.133 1.667h3.9c.075-.55.134-1.1.134-1.667 0-.566-.059-1.125-.134-1.666h-3.9c-.075.541-.133 1.1-.133 1.666m4.242 6.3c.5-.925.883-1.925 1.15-2.966h2.458a6.7 6.7 0 0 1-3.608 2.966M12.75 9a14 14 0 0 1-.116 1.667h2.816A7 7 0 0 0 15.667 9c0-.575-.083-1.133-.217-1.666h-2.816c.066.55.116 1.1.116 1.666",clipRule:"evenodd"})))}const hc=o.forwardRef(pc);var vc;function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gc.apply(this,arguments)}function fc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",gc({xmlns:"http://www.w3.org/2000/svg",width:53,height:28,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 53 28",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,vc||(vc=o.createElement("path",{d:"m28 22.758-.01-.186c-.286-2.08-3.189-2.077-3.48 0l-.01.186-.01.313-.029.313a5.247 5.247 0 0 1-5.474 4.61l-.318-.025-.308-.044a5.26 5.26 0 0 1-4.336-5.704l.044-.308.058-.314.05-.254c.404-3.04-2.887-5.097-5.442-3.397l-.21.152-.254.19-.264.176c-3.405 2.068-7.73-.172-7.997-4.15L0 13.998l.01-.318c.267-3.972 4.594-6.216 7.997-4.15l.264.176.254.19.21.157c2.553 1.697 5.844-.356 5.441-3.397l-.049-.26-.058-.307-.044-.313a5.256 5.256 0 0 1 4.33-5.7l.314-.044.313-.024a5.25 5.25 0 0 1 5.48 4.6l.029.313.01.317.01.181c.294 2.076 3.192 2.08 3.48 0l.01-.18.01-.319.029-.312c.342-2.731 2.732-4.748 5.485-4.6l.312.024.313.044a5.25 5.25 0 0 1 4.326 5.7l-.039.313-.058.308-.05.259c-.412 3.031 2.893 5.1 5.436 3.397l.21-.156.255-.19.269-.177c3.407-2.066 7.721.178 7.997 4.15l.01.318-.01.318c-.265 3.97-4.599 6.222-7.997 4.15l-.269-.175-.254-.191-.21-.152c-2.547-1.704-5.85.364-5.436 3.397l.049.255.058.313.04.312a5.25 5.25 0 0 1-4.336 5.7l-.309.044-.317.025a5.253 5.253 0 0 1-5.475-4.615l-.03-.313-.01-.317"})))}const mc=o.forwardRef(fc);var yc;function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wc.apply(this,arguments)}function bc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",wc({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,yc||(yc=o.createElement("path",{d:"M9.333 10v1.394A4 4 0 0 0 4 15.166H2.667A5.334 5.334 0 0 1 9.333 10M8 9.167c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m0-1.333A2.666 2.666 0 1 0 8 2.5a2.666 2.666 0 1 0 0 5.334m4 4v-2h1.333v2h2v1.333h-2v2H12v-2h-2v-1.333z"})))}const Cc=o.forwardRef(bc);var xc;function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ic.apply(this,arguments)}function jc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ic({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,xc||(xc=o.createElement("path",{d:"M8 9.833v1.333a4 4 0 0 0-4 4H2.667A5.333 5.333 0 0 1 8 9.833m0-.667c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m0-1.333a2.666 2.666 0 1 0 0-5.334 2.666 2.666 0 1 0 0 5.334m1.73 5.208a2.34 2.34 0 0 1 0-1.082l-.661-.382.666-1.155.662.382c.265-.251.586-.437.936-.541v-.764h1.334v.764c.354.105.674.293.936.541l.662-.382.666 1.155-.66.382a2.34 2.34 0 0 1 0 1.081l.66.382-.666 1.155-.662-.382a2.3 2.3 0 0 1-.936.541v.763h-1.334v-.763a2.3 2.3 0 0 1-.936-.541l-.662.382-.666-1.155zm2.27.458a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})))}const Mc=o.forwardRef(jc);var kc;function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tc.apply(this,arguments)}function Ec(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Tc({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,kc||(kc=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.46 12.722a7.007 7.007 0 1 1-9.256-9.151m9.277 3.744c.28.677.452 1.393.51 2.121.015.18.022.27-.013.351a.37.37 0 0 1-.155.167c-.077.042-.175.042-.37.042h-5.885c-.197 0-.295 0-.37-.038a.35.35 0 0 1-.153-.153c-.038-.075-.038-.173-.038-.37V3.55c0-.195 0-.292.042-.37a.37.37 0 0 1 .167-.154c.081-.036.171-.029.351-.014a7.01 7.01 0 0 1 5.914 4.303"})))}const Pc=o.forwardRef(Ec);var Oc;function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_c.apply(this,arguments)}function Sc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",_c({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Oc||(Oc=o.createElement("path",{d:"M12 3.2h1.067v3.2h-1.066V4.265H9.867V3.199zm-8.533 0h2.134v1.066H3.467v2.133H2.401V3.2zm8.534 8.533V9.599h1.066v3.2h-3.2v-1.066zm-8.534 0h2.134v1.066H2.4V9.6h1.066z"})))}const Nc=o.forwardRef(Sc);var Lc;function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dc.apply(this,arguments)}function Rc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Dc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Lc||(Lc=o.createElement("path",{d:"M2 12.665h12V14H2zM8.667 8.78l4.047-4.048.943.943L8 11.332 2.343 5.675l.943-.943 4.047 4.047V1.332h1.334z"})))}const Zc=o.forwardRef(Rc);var Ac;function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fc.apply(this,arguments)}function zc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Fc({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ac||(Ac=o.createElement("path",{d:"m10 11.173 4.95-4.95 1.414 1.414L10 14 3.636 7.637 5.05 6.223z"})))}const Bc=o.forwardRef(zc);var Vc;function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hc.apply(this,arguments)}function Wc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Hc({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Vc||(Vc=o.createElement("path",{d:"m11.172 10-4.95-4.95 1.414-1.413L14 10l-6.364 6.364-1.414-1.414z"})))}const Uc=o.forwardRef(Wc);var qc;function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gc.apply(this,arguments)}function $c(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Gc({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,qc||(qc=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m.08 4h.01M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10"})))}const Jc=o.forwardRef($c);var Kc;function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yc.apply(this,arguments)}function Qc(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Yc({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Kc||(Kc=o.createElement("path",{d:"M7.333 2.67H14v1.334H7.333zM4 4.67v2.667H2.667V4.671h-2l2.666-2.667L6 4.67zm0 6.667h2l-2.667 2.667-2.666-2.667h2V8.671H4zm3.333.667H14v1.333H7.333zM6 7.337h8v1.334H6z"})))}const Xc=o.forwardRef(Qc);var eu;function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tu.apply(this,arguments)}function iu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",tu({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,eu||(eu=o.createElement("path",{d:"M7.333 3.167H14V6.5H7.333zM4 5.167v2.666H2.667V5.167h-2L3.333 2.5 6 5.167zm0 6.666h2L3.333 14.5.667 11.833h2V9.167H4zm3.333.667H14v1.333H7.333zm0-3.667H14v1.334H7.333z"})))}const nu=o.forwardRef(iu);var ou;function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},au.apply(this,arguments)}function lu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",au({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ou||(ou=o.createElement("path",{d:"M7.333 3.167H14V10H7.333zM4 5.167v2.666H2.667V5.167h-2L3.333 2.5 6 5.167zm0 6.666h2L3.333 14.5.667 11.833h2V9.167H4zm3.333.667H14v1.333H7.333z"})))}const ru=o.forwardRef(lu);var su;function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},du.apply(this,arguments)}function cu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",du({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,su||(su=o.createElement("path",{d:"M4 22a8 8 0 0 1 16 0h-2a6 6 0 1 0-12 0zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6m0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4"})))}const uu=o.forwardRef(cu);var pu;function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hu.apply(this,arguments)}function vu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",hu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,pu||(pu=o.createElement("path",{d:"m17.657 14.827-1.414-1.414 1.414-1.414a3.998 3.998 0 0 0-1.298-6.524A4 4 0 0 0 12 6.342l-1.414 1.414-1.414-1.414 1.414-1.414a6 6 0 0 1 8.485 8.485zm-2.829 2.829-1.414 1.414a5.999 5.999 0 1 1-8.485-8.485l1.414-1.414 1.414 1.414-1.414 1.414A4 4 0 0 0 12 17.656l1.414-1.414zm0-9.9 1.415 1.415-7.071 7.07-1.415-1.414z"})))}const gu=o.forwardRef(vu);var fu,mu;function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yu.apply(this,arguments)}function wu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",yu({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,fu||(fu=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"m4.7 9.414-1.413 1.414 1.885 1.886 7.542-7.543-1.885-1.885L9.413 4.7l.944.942-.944.944-.942-.943-.943.943.943.943-.943.943-.943-.943-.943.943.943.942-.943.944zm6.6-7.542L14.128 4.7a.667.667 0 0 1 0 .942l-8.485 8.486a.667.667 0 0 1-.943 0L1.872 11.3a.667.667 0 0 1 0-.943l8.485-8.485a.667.667 0 0 1 .943 0m-1.887 10.37.944-.943 1.494 1.495h.943v-.942l-1.495-1.496.943-.942L14 11.17V14h-2.828zM3.757 6.585 1.871 4.7a.667.667 0 0 1 0-.944l1.886-1.885a.667.667 0 0 1 .943 0l1.887 1.885-.944.944-1.414-1.415-.943.943L4.7 5.642z"}))),mu||(mu=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const bu=o.forwardRef(wu);var Cu,xu;function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Iu.apply(this,arguments)}function ju(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Iu({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Cu||(Cu=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M3.333 10.5v1.333c0 .703.634 1.334 1.334 1.334h2V14.5h-2A2.667 2.667 0 0 1 2 11.833V10.5zM12 7.167l2.933 7.333h-1.436l-.801-2H9.969l-.799 2H7.734l2.933-7.333zm-.667 1.923-.831 2.077h1.661zM2 2.5h4a2 2 0 0 1 1.49 3.333A2 2 0 0 1 6 9.167H2zm4 4H3.333v1.333H6A.667.667 0 1 0 6 6.5m5.333-4A2.667 2.667 0 0 1 14 5.167V6.5h-1.333V5.167a1.333 1.333 0 0 0-1.334-1.334h-2V2.5zM6 3.833H3.333v1.334H6a.667.667 0 1 0 0-1.334"}))),xu||(xu=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 .5h16v16H0z"})))))}const Mu=o.forwardRef(ju);var ku;function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tu.apply(this,arguments)}function Eu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Tu({xmlns:"http://www.w3.org/2000/svg",width:165,height:19,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 165 19",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ku||(ku=o.createElement("path",{d:"M160.646 18.354a.5.5 0 0 0 .708 0l3.182-3.182a.5.5 0 0 0-.708-.708L161 17.293l-2.828-2.828a.501.501 0 0 0-.708.707zM1.5 18V5h-1v13zM5 1.5h152v-1H5zM160.5 5v13h1V5zM157 1.5a3.5 3.5 0 0 1 3.5 3.5h1A4.5 4.5 0 0 0 157 .5zM1.5 5A3.5 3.5 0 0 1 5 1.5v-1A4.5 4.5 0 0 0 .5 5z"})))}const Pu=o.forwardRef(Eu);var Ou;function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_u.apply(this,arguments)}function Su(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",_u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ou||(Ou=o.createElement("path",{d:"M15.728 9.684 14.314 8.27 5 17.584v1.414h1.414zm1.414-1.414 1.414-1.414-1.414-1.414-1.414 1.414zm-9.9 12.728H3v-4.243L16.435 3.32a1 1 0 0 1 1.414 0l2.829 2.83a1 1 0 0 1 0 1.413L7.243 20.998z"})))}const Nu=o.forwardRef(Su);var Lu;function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Du.apply(this,arguments)}function Ru(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Du({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Lu||(Lu=o.createElement("path",{d:"m13.828 1.688 8.486 8.486-1.415 1.414-.707-.707-4.242 4.242-.707 3.536-1.415 1.414-4.242-4.244-4.95 4.95-1.414-1.413 4.95-4.95-4.243-4.242 1.414-1.415 3.537-.707 4.242-4.242-.707-.707zm.708 3.536-4.67 4.67-2.823.565 6.5 6.5.564-2.822 4.671-4.67z"})))}const Zu=o.forwardRef(Ru);var Au;function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fu.apply(this,arguments)}function zu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Fu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Au||(Au=o.createElement("path",{d:"M2 11h20v2H2z"})))}const Bu=o.forwardRef(zu);var Vu;function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Hu.apply(this,arguments)}function Wu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Hu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Vu||(Vu=o.createElement("path",{d:"M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1m1 2v14h14V5z"})))}const Uu=o.forwardRef(Wu);var qu;function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gu.apply(this,arguments)}function $u(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Gu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,qu||(qu=o.createElement("path",{d:"m16.757 3.002-2 2H5v14h14V9.245l2-2v12.757a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-16a1 1 0 0 1 1-1zm3.728-.9L21.9 3.518l-9.192 9.192-1.412.003-.002-1.417z"})))}const Ju=o.forwardRef($u);var Ku;function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yu.apply(this,arguments)}function Qu(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Yu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ku||(Ku=o.createElement("path",{d:"M13 6v15h-2V6H5V4h14v2z"})))}const Xu=o.forwardRef(Qu);var ep;function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tp.apply(this,arguments)}function ip(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",tp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ep||(ep=o.createElement("path",{d:"M10 18.335a8.333 8.333 0 1 1 0-16.667 8.333 8.333 0 1 1 0 16.667m0-1.667a6.667 6.667 0 1 0 0-13.333 6.667 6.667 0 0 0 0 13.333"})))}const np=o.forwardRef(ip);var op;function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ap.apply(this,arguments)}function lp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ap({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,op||(op=o.createElement("path",{d:"M14 3a1 1 0 0 1 1 1v5h5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-5H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm-1 2H5v8h8z"})))}const rp=o.forwardRef(lp);var sp,dp;function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cp.apply(this,arguments)}function up(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",cp({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sp||(sp=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M10 3.167H3.333v10.667h9.334v-8H10zm-8-.672c0-.365.298-.661.666-.661h8L14 5.167v9.329a.666.666 0 0 1-.662.671H2.662A.666.666 0 0 1 2 14.506zm7.02 7.636A2.668 2.668 0 0 1 5.78 5.95a2.667 2.667 0 0 1 4.182 3.24l1.473 1.473-.942.943zm-.413-1.354a1.333 1.333 0 1 0-1.852-1.918 1.333 1.333 0 0 0 1.852 1.918"}))),dp||(dp=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 .5h16v16H0z"})))))}const pp=o.forwardRef(up);var hp;function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vp.apply(this,arguments)}function gp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",vp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,hp||(hp=o.createElement("path",{d:"M14.584 2.063 19.167 10l-4.584 7.938H5.418L.833 10.001l4.584-7.938zm-.963 1.666H6.379l-3.621 6.272 3.621 6.272h7.242L17.243 10z"})))}const fp=o.forwardRef(gp);var mp;function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yp.apply(this,arguments)}function wp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",yp({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,mp||(mp=o.createElement("path",{d:"m4.965 5.095 3.546 12.41 3.04-6.08 5.637-2.255zM2.9 2.3l18.806 6.268a.5.5 0 0 1 .028.94L13 12.998l-4.425 8.85a.5.5 0 0 1-.928-.086L2.26 2.91a.5.5 0 0 1 .64-.61"})))}const bp=o.forwardRef(wp);var Cp;function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xp.apply(this,arguments)}function Ip(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",xp({xmlns:"http://www.w3.org/2000/svg",width:14,height:8,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 8",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Cp||(Cp=o.createElement("path",{d:"M7 4.977 2.05.852.638 2.031 7 7.334l6.364-5.303L11.95.852z"})))}const jp=o.forwardRef(Ip);var Mp;function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},kp.apply(this,arguments)}function Tp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",kp({width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Mp||(Mp=o.createElement("circle",{cx:4,cy:4,r:3.5,fill:"#DE350B",stroke:"white"})))}const Ep=o.forwardRef(Tp);var Pp;function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Op.apply(this,arguments)}function _p(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Op({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Pp||(Pp=o.createElement("g",{clipPath:"url(#clip0_8772_38222)"},o.createElement("path",{d:"M12.243 4.257 11.3 5.2a4.667 4.667 0 1 0 1.367 3.3H14a6 6 0 1 1-1.757-4.243"}))))}const Sp=o.forwardRef(_p);var Np;function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Lp.apply(this,arguments)}function Dp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Lp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Np||(Np=o.createElement("path",{d:"M8.75 6.667a2.917 2.917 0 1 1 0-5.834 2.917 2.917 0 0 1 0 5.834M8.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M7.5 3.775c.01.527.348.975.817 1.148L0 10V8.333zm1.848-1.123L13.71 0h2.671l-6.39 3.901Q10 3.826 10 3.75a1.25 1.25 0 0 0-.652-1.098m7.688 10.919h-2.762l1.454 3.542a.484.484 0 0 1-.246.624l-1.28.558a.46.46 0 0 1-.608-.253l-1.382-3.363-2.257 2.322c-.3.31-.788.07-.788-.335V5.476c0-.427.518-.635.788-.334l7.407 7.618c.298.291.078.811-.326.811"})))}const Rp=o.forwardRef(Dp);var Zp;function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ap.apply(this,arguments)}function Fp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ap({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Zp||(Zp=o.createElement("path",{d:"M12.323 12.905 7.207 8.629l-4.37 5.026 3.458 3.006h2.763zm-1.066 3.756h7.91v1.667H5.673l-3.929-3.415a1.667 1.667 0 0 1-.164-2.351L10.874 1.87a1.667 1.667 0 0 1 2.351-.164l5.032 4.373c.694.604.768 1.657.164 2.352z"})))}const zp=o.forwardRef(Fp);var Bp;function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Vp.apply(this,arguments)}function Hp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Vp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Bp||(Bp=o.createElement("path",{d:"M15 9.167V5.833L20 10l-5 4.167v-3.334h-4.167V15h3.334L10 20l-4.167-5h3.334v-4.167H5v3.334L0 10l5-4.167v3.334h4.167V5H5.833L10 0l4.167 5h-3.334v4.167z"})))}const Wp=o.forwardRef(Hp);var Up;function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qp.apply(this,arguments)}function Gp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",qp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Up||(Up=o.createElement("path",{d:"m7.745 10.402 2.186-9.18 1.78-.98-.635 9.078 8.592-2.792-.52 1.963-8.316 4.31-.092 1.325q.206-.015.417 0a2.917 2.917 0 1 1-2.139.727l.123-1.762-.439-.457-.879-.505-1.68.546a2.917 2.917 0 1 1 .29-1.846zm-3.801 2.111a1.25 1.25 0 1 0-.773-2.378 1.25 1.25 0 0 0 .773 2.378m5.763 4.435a1.25 1.25 0 1 0 2.494.174 1.25 1.25 0 0 0-2.494-.174"})))}const $p=o.forwardRef(Gp);var Jp;function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Kp.apply(this,arguments)}function Yp(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Kp({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 48 48",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Jp||(Jp=o.createElement("g",{clipPath:"url(#clip0_8772_38014)"},o.createElement("path",{d:"M14 41.962a13 13 0 0 1-5.871-24 16.002 16.002 0 0 1 31.744 0 13 13 0 0 1-5.872 24v.037H14zm12-15.963h6l-8-10-8 10h6v8h4z"}))))}const Qp=o.forwardRef(Yp);var Xp,eh;function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},th.apply(this,arguments)}function ih(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",th({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Xp||(Xp=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M8.668 5.22v8.115H7.335V5.22L3.76 8.796l-.943-.943 5.186-5.185 5.185 5.185-.943.943z"}))),eh||(eh=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const nh=o.forwardRef(ih);var oh;function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ah.apply(this,arguments)}function lh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ah({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 18 18",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,oh||(oh=o.createElement("path",{d:"m2.175 1.725 14.104 4.7a.375.375 0 0 1 .02.705L9.75 9.75l-3.319 6.637a.375.375 0 0 1-.696-.064l-4.04-14.14a.375.375 0 0 1 .48-.458"})))}const rh=o.forwardRef(lh);var sh;function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dh.apply(this,arguments)}function ch(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",dh({width:16,height:14,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sh||(sh=o.createElement("path",{d:"M9.33329 13.9987L7.46663 11.6654H3.99996C3.82315 11.6654 3.65358 11.5951 3.52855 11.4701C3.40353 11.3451 3.33329 11.1755 3.33329 10.9987V3.73403C3.33329 3.55722 3.40353 3.38765 3.52855 3.26263C3.65358 3.1376 3.82315 3.06736 3.99996 3.06736H14.6666C14.8434 3.06736 15.013 3.1376 15.138 3.26263C15.2631 3.38765 15.3333 3.55722 15.3333 3.73403V10.9987C15.3333 11.1755 15.2631 11.3451 15.138 11.4701C15.013 11.5951 14.8434 11.6654 14.6666 11.6654H11.2L9.33329 13.9987ZM10.5593 10.332H14V4.4007H4.66663V10.332H8.10729L9.33329 11.864L10.5593 10.332ZM1.33329 0.332031H12.6666V1.66536H1.99996V8.9987H0.666626V0.998698C0.666626 0.821887 0.736864 0.652318 0.861888 0.527293C0.986912 0.402269 1.15648 0.332031 1.33329 0.332031Z",fill:"currentColor"})))}const uh=o.forwardRef(ch);var ph,hh,vh;function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gh.apply(this,arguments)}function fh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",gh({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ph||(ph=o.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"none"})),hh||(hh=o.createElement("path",{d:"M10 2H14V5.33333H12.6667V3.33333H10V2ZM6 2V3.33333H3.33333V5.33333H2V2H6ZM10 14V12.6667H12.6667V10.6667H14V14H10ZM6 14H2V10.6667H3.33333V12.6667H6V14Z",fill:"#505F79"})),vh||(vh=o.createElement("path",{d:"M6.66667 8C6.66667 7.26362 7.26362 6.66667 8 6.66667C8.73638 6.66667 9.33333 7.26362 9.33333 8C9.33333 8.73638 8.73638 9.33333 8 9.33333C7.26362 9.33333 6.66667 8.73638 6.66667 8Z",fill:"#505F79"})))}const mh=o.forwardRef(fh);var yh,wh,bh;function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ch.apply(this,arguments)}function xh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ch({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,yh||(yh=o.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"none"})),wh||(wh=o.createElement("path",{d:"M6 2V3.33333H3.33333V5.33333H2V2H6ZM10 14V12.6667H12.6667V10.6667H14V14H10Z",fill:"#505F79"})),bh||(bh=o.createElement("path",{d:"M2.66667 12L12.0948 2.57191L13.0376 3.51472L3.60948 12.9428L2.66667 12Z",fill:"#505F79"})))}const Ih=o.forwardRef(xh);var jh;function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mh.apply(this,arguments)}function kh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Mh({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 40 40",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,jh||(jh=o.createElement("path",{d:"M35 25v5h5v3.333h-5v5h-3.334v-5h-5V30h5v-5zm.013-20c.913 0 1.653.742 1.653 1.655v15.582a10 10 0 0 0-3.333-.57V8.333H6.666l.002 23.334 15.487-15.489a1.665 1.665 0 0 1 2.2-.14l.155.142 5.91 5.917a10.003 10.003 0 0 0-6.517 12.905L4.986 35a1.655 1.655 0 0 1-1.653-1.655V6.655A1.667 1.667 0 0 1 4.986 5zm-21.68 6.667a3.333 3.333 0 1 1 0 6.666 3.333 3.333 0 0 1 0-6.666"})))}const Th=o.forwardRef(kh);var Eh;function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ph.apply(this,arguments)}function Oh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ph({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Eh||(Eh=o.createElement("path",{d:"m5.286 12.187-2.357 2.357 2.946 2.946L17.071 6.294l-2.946-2.946-1.768 1.768 1.179 1.178-1.18 1.178-1.178-1.178-1.767 1.768 1.768 1.767L10 11.01 8.233 9.242l-1.769 1.767 1.18 1.178-1.18 1.18zM14.714 1.58l4.125 4.125a.833.833 0 0 1 0 1.178L6.464 19.258a.833.833 0 0 1-1.178 0l-4.125-4.125a.833.833 0 0 1 0-1.178L13.536 1.58a.833.833 0 0 1 1.178 0"})))}const _h=o.forwardRef(Oh);var Sh;function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Nh.apply(this,arguments)}function Lh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Nh({xmlns:"http://www.w3.org/2000/svg",width:135,height:22,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 135 22",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Sh||(Sh=o.createElement("path",{d:"M45.726 2.17v15.42h2.527V6.965h.086l4.536 10.627h2.181l4.536-10.627h.086v10.627h2.527V2.17h-2.959L54.02 14.265h-.086L48.685 2.17zm23.721 3.952c-1.425 0-2.548.238-3.369.756-.972.562-1.577 1.469-1.814 2.7l2.44.194a1.94 1.94 0 0 1 .93-1.296c.41-.259.95-.367 1.64-.367 1.599 0 2.398.713 2.398 2.182v.431l-2.44.065q-2.463.065-3.823 1.037c-.994.67-1.47 1.642-1.47 2.894 0 .929.346 1.685 1.038 2.29.67.583 1.576.885 2.742.885.973 0 1.815-.173 2.528-.497a4.36 4.36 0 0 0 1.598-1.274v1.469h2.29v-7.128q0-2.04-1.038-3.11c-.777-.82-2.008-1.231-3.65-1.231m2.225 6.371v.562c0 .864-.346 1.577-.993 2.138-.648.54-1.448.821-2.398.821-.54 0-.972-.151-1.317-.41-.346-.26-.497-.583-.497-.972 0-1.34.972-2.03 2.937-2.074zm10.071-6.371q-2.204 0-3.37 1.49V6.424h-2.29v15.443h2.463v-5.81c.907 1.21 2.03 1.836 3.326 1.836 1.598 0 2.873-.583 3.78-1.75.842-1.08 1.274-2.44 1.274-4.081 0-1.728-.432-3.11-1.296-4.19q-1.425-1.75-3.887-1.75m-.368 1.987q1.62 0 2.398 1.166c.41.648.626 1.577.626 2.787s-.237 2.138-.691 2.786c-.518.69-1.34 1.058-2.419 1.058-.8 0-1.447-.324-1.965-.972-.584-.713-.864-1.663-.864-2.83v-.172c0-1.123.216-2.009.69-2.678.52-.778 1.253-1.145 2.225-1.145m10.553-5.291-2.463 1.015v2.591h-2.008v2.03h2.008v6.307c0 .908.216 1.577.648 2.052q.68.778 2.138.778h1.88v-2.03h-1.47c-.258 0-.431-.065-.56-.195-.13-.151-.174-.345-.174-.605V8.455h2.484v-2.03h-2.484zm8.753 3.304c-1.425 0-2.548.238-3.369.756-.972.562-1.577 1.469-1.814 2.7l2.44.194a1.94 1.94 0 0 1 .93-1.296c.41-.259.95-.367 1.641-.367 1.598 0 2.397.713 2.397 2.182v.431l-2.441.065q-2.461.065-3.823 1.037c-.993.67-1.468 1.642-1.468 2.894 0 .929.345 1.685 1.036 2.29.67.583 1.577.885 2.744.885.971 0 1.814-.173 2.526-.497a4.36 4.36 0 0 0 1.599-1.274v1.469h2.289v-7.128q0-2.04-1.037-3.11c-.777-.82-2.008-1.231-3.65-1.231m2.225 6.371v.562c0 .864-.346 1.577-.994 2.138-.647.54-1.447.821-2.397.821-.54 0-.972-.151-1.317-.41-.346-.26-.497-.583-.497-.972 0-1.34.972-2.03 2.937-2.074zm4.412-10.626v15.724h2.289v-1.188q1.167 1.49 3.37 1.49 2.462 0 3.887-1.75c.864-1.08 1.296-2.483 1.296-4.19 0-1.64-.432-3.002-1.274-4.081-.929-1.167-2.182-1.75-3.78-1.75-1.296 0-2.419.605-3.326 1.836v-6.09zm5.205 6.242c1.101 0 1.922.367 2.441 1.102.432.626.669 1.533.669 2.743s-.216 2.138-.626 2.786q-.778 1.166-2.398 1.166c-.972 0-1.706-.389-2.224-1.145-.475-.69-.691-1.598-.691-2.678v-.173c0-1.187.28-2.138.864-2.829.518-.648 1.166-.972 1.965-.972m7.356-6.242v15.724h2.462V1.867zm9.371 4.255c-1.663 0-2.98.562-3.931 1.706-.993 1.123-1.468 2.506-1.468 4.169 0 1.857.518 3.304 1.555 4.363.972 1.015 2.289 1.533 3.952 1.533 1.49 0 2.722-.432 3.715-1.274.778-.691 1.296-1.577 1.555-2.614h-2.462c-.302.627-.626 1.08-.994 1.361-.475.346-1.08.518-1.835.518-.886 0-1.577-.28-2.052-.82s-.756-1.34-.843-2.376h8.359c0-2.009-.454-3.585-1.339-4.709-.972-1.252-2.376-1.857-4.212-1.857m.065 2.009c1.728 0 2.7.885 2.916 2.7h-5.745q.226-1.329.907-2.01c.475-.474 1.101-.69 1.922-.69M20 16.389l-.006-.133c-.205-1.486-2.279-1.484-2.487 0l-.007.133-.006.223-.022.224a3.75 3.75 0 0 1-3.91 3.292l-.227-.017-.22-.032a3.756 3.756 0 0 1-3.097-4.074l.031-.22.042-.224.035-.181c.289-2.172-2.062-3.642-3.886-2.427l-.15.108-.182.136-.189.126a3.75 3.75 0 0 1-5.712-2.964L0 10.132l.007-.227c.191-2.838 3.282-4.44 5.712-2.965l.189.126.182.136.15.112a2.502 2.502 0 0 0 3.886-2.427l-.035-.185-.042-.22-.031-.223A3.754 3.754 0 0 1 13.11.187l.224-.031.223-.018a3.75 3.75 0 0 1 3.914 3.286l.021.224.007.226.007.13c.21 1.482 2.28 1.485 2.486 0l.008-.13.006-.227.021-.223A3.75 3.75 0 0 1 23.946.138l.223.018.224.031a3.75 3.75 0 0 1 3.09 4.072l-.028.223-.041.22-.036.185c-.294 2.165 2.066 3.642 3.883 2.427l.15-.112.182-.136.192-.126a3.753 3.753 0 0 1 5.712 2.965l.007.227-.007.227c-.19 2.836-3.285 4.444-5.712 2.964l-.192-.126-.182-.136-.15-.108c-1.819-1.217-4.178.26-3.883 2.427l.035.181.042.224.028.223a3.75 3.75 0 0 1-3.097 4.071l-.22.032-.227.017a3.75 3.75 0 0 1-3.91-3.296l-.022-.223-.007-.227"})))}const Dh=o.forwardRef(Lh);var Rh;function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zh.apply(this,arguments)}function Ah(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zh({width:53,height:28,viewBox:"0 0 53 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Rh||(Rh=o.createElement("path",{d:"M28.0007 22.7581L27.9909 22.5724C27.704 20.4919 24.8011 20.495 24.5103 22.5724L24.5004 22.7581L24.4908 23.0712L24.4612 23.3839C24.1293 26.1258 21.7419 28.1258 18.9865 27.9937L18.6688 27.9694L18.3607 27.9253C15.637 27.4465 13.757 24.9734 14.0247 22.2205L14.0688 21.9126L14.1271 21.5995L14.1762 21.3454C14.5806 18.3053 11.29 16.2476 8.73538 17.9481L8.52533 18.0996L8.27116 18.2905L8.00713 18.4663C4.60242 20.5342 0.276682 18.2936 0.00956149 14.3161L0 13.9984L0.00956149 13.6804C0.277299 9.70844 4.60397 7.46415 8.00713 9.53016L8.27116 9.70628L8.52533 9.89691L8.73538 10.0533C11.2884 11.7504 14.5793 9.69672 14.1762 6.65601L14.1271 6.39691L14.0688 6.08877L14.0247 5.776C13.7524 3.03294 15.6404 0.548985 18.3557 0.076129L18.6688 0.0323288L18.9816 0.00765275C21.729 -0.138862 24.1281 1.87779 24.4612 4.60759L24.4908 4.92066L24.5004 5.23837L24.5103 5.41912C24.8048 7.495 27.7025 7.49839 27.9909 5.41912L28.0007 5.23837L28.0103 4.92036L28.0396 4.60759C28.382 1.87656 30.7716 -0.140404 33.5245 0.00765275L33.8373 0.0323288L34.1504 0.076129C36.8666 0.550835 38.75 3.03294 38.4764 5.776L38.4372 6.08877L38.3789 6.39691L38.3296 6.65601C37.9172 9.68716 41.2219 11.7553 43.7654 10.0533L43.9758 9.89691L44.23 9.70628L44.4989 9.53016C47.9061 7.46446 52.2204 9.70752 52.4962 13.6804L52.5061 13.9984L52.4962 14.3161C52.2306 18.2868 47.8972 20.5379 44.4989 18.4663L44.23 18.2905L43.9758 18.0996L43.7654 17.9481C41.2192 16.2442 37.9166 18.3121 38.3296 21.3454L38.3789 21.5995L38.4372 21.9126L38.4764 22.2251C38.7469 24.9749 36.8638 27.4521 34.1405 27.9253L33.8323 27.9694L33.5146 27.9937C30.7601 28.127 28.3724 26.118 28.0396 23.379L28.0103 23.0662L28.0007 22.7485",fill:"currentColor"})))}const Fh=o.forwardRef(Ah);var zh,Bh,Vh,Hh;function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wh.apply(this,arguments)}function Uh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Wh({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 34",width:42,height:34,ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zh||(zh=o.createElement("defs",null,o.createElement("clipPath",{clipPathUnits:"userSpaceOnUse",id:"cp1"},o.createElement("path",{d:"m-2-6h48v48h-48z"})))),Bh||(Bh=o.createElement("style",null,".a{fill:currentColor}.b{fill:currentColor;stroke:#fff;stroke-width:2}")),Vh||(Vh=o.createElement("g",{clipPath:"url(#cp1)"},o.createElement("path",{className:"a",d:"m6 24v-13c0-2.4 0.9-4.7 2.6-6.4 1.7-1.7 4-2.6 6.4-2.6 2.4 0 4.7 0.9 6.4 2.6 1.7 1.7 2.6 4 2.6 6.4v14c0 1.3 0.5 2.6 1.5 3.5 0.9 1 2.2 1.5 3.5 1.5 1.3 0 2.6-0.5 3.5-1.5 1-0.9 1.5-2.2 1.5-3.5v-13.3c-1.3-0.5-2.5-1.4-3.2-2.7-0.7-1.2-1-2.6-0.7-4 0.2-1.4 0.9-2.7 2-3.6 1.1-0.9 2.5-1.4 3.9-1.4 1.4 0 2.8 0.5 3.9 1.4 1.1 0.9 1.8 2.2 2 3.6 0.3 1.4 0 2.8-0.7 4-0.7 1.3-1.9 2.2-3.2 2.7v13.3c0 2.4-0.9 4.7-2.6 6.4-1.7 1.7-4 2.6-6.4 2.6-2.4 0-4.7-0.9-6.4-2.6-1.7-1.7-2.6-4-2.6-6.4v-14c0-1.3-0.5-2.6-1.5-3.5-0.9-1-2.2-1.5-3.5-1.5-1.3 0-2.6 0.5-3.5 1.5-1 0.9-1.5 2.2-1.5 3.5v13h6l-8 10-8-10z"}))),Hh||(Hh=o.createElement("path",{className:"b",d:"m14.8 15.7l-0.7 0.7 0.7 0.7 2.9 2.8-2.9 2.8-0.7 0.7 0.7 0.7 2.9 2.9 0.7 0.7 0.7-0.7 2.8-2.9 2.8 2.9 0.7 0.7 0.7-0.7 2.9-2.9 0.7-0.7-0.7-0.7-2.9-2.8 2.9-2.8 0.7-0.7-0.7-0.7-2.9-2.9-0.7-0.7-0.7 0.7-2.8 2.9-2.8-2.9-0.7-0.7-0.7 0.7z"})))}const qh=o.forwardRef(Uh);var Gh,$h;function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jh.apply(this,arguments)}function Kh(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Jh({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Gh||(Gh=o.createElement("path",{d:"M11.182 10.682L8 13.864L4.818 10.682C4.18867 10.0526 3.76009 9.2508 3.58646 8.37788C3.41284 7.50497 3.50195 6.60017 3.84255 5.77791C4.18315 4.95565 4.75992 4.25285 5.49994 3.75838C6.23996 3.26392 7.10999 3 8 3C8.89001 3 9.76004 3.26392 10.5001 3.75838C11.2401 4.25285 11.8169 4.95565 12.1575 5.77791C12.498 6.60017 12.5872 7.50497 12.4135 8.37788C12.2399 9.2508 11.8113 10.0526 11.182 10.682ZM8 9.49996C8.53043 9.49996 9.03914 9.28924 9.41421 8.91417C9.78929 8.5391 10 8.03039 10 7.49996C10 6.96953 9.78929 6.46082 9.41421 6.08575C9.03914 5.71067 8.53043 5.49996 8 5.49996C7.46957 5.49996 6.96086 5.71067 6.58579 6.08575C6.21071 6.46082 6 6.96953 6 7.49996C6 8.03039 6.21071 8.5391 6.58579 8.91417C6.96086 9.28924 7.46957 9.49996 8 9.49996Z",fill:"currentColor"})),$h||($h=o.createElement("path",{d:"M11.182 10.682L8 13.864L4.818 10.682C4.18867 10.0526 3.76009 9.2508 3.58646 8.37788C3.41284 7.50497 3.50195 6.60017 3.84255 5.77791C4.18315 4.95565 4.75992 4.25285 5.49994 3.75838C6.23996 3.26392 7.10999 3 8 3C8.89001 3 9.76004 3.26392 10.5001 3.75838C11.2401 4.25285 11.8169 4.95565 12.1575 5.77791C12.498 6.60017 12.5872 7.50497 12.4135 8.37788C12.2399 9.2508 11.8113 10.0526 11.182 10.682ZM8 9.49996C8.53043 9.49996 9.03914 9.28924 9.41421 8.91417C9.78929 8.5391 10 8.03039 10 7.49996C10 6.96953 9.78929 6.46082 9.41421 6.08575C9.03914 5.71067 8.53043 5.49996 8 5.49996C7.46957 5.49996 6.96086 5.71067 6.58579 6.08575C6.21071 6.46082 6 6.96953 6 7.49996C6 8.03039 6.21071 8.5391 6.58579 8.91417C6.96086 9.28924 7.46957 9.49996 8 9.49996Z",stroke:"currentColor"})))}const Yh=o.forwardRef(Kh);var Qh,Xh;function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ev.apply(this,arguments)}function tv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ev({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Qh||(Qh=o.createElement("path",{d:"M8.4 3.302C9.778 3.302 10.948 3.783 11.91 4.745C12.859 5.707 13.34 6.877 13.34 8.268C13.34 9.659 12.859 10.829 11.91 11.778C10.948 12.714 9.778 13.195 8.4 13.195C6.996 13.195 5.826 12.714 4.89 11.778C3.928 10.816 3.46 9.646 3.46 8.268C3.46 6.877 3.928 5.707 4.89 4.745C5.839 3.783 7.009 3.302 8.4 3.302Z",fill:"currentColor"})),Xh||(Xh=o.createElement("path",{d:"M11.91 4.745L12.6219 4.0427L12.6171 4.03789L11.91 4.745ZM11.91 11.778L12.6074 12.4948L12.6171 12.4851L11.91 11.778ZM4.89 11.778L4.18289 12.4851L4.18289 12.4851L4.89 11.778ZM4.89 4.745L5.59712 5.45212L5.6019 5.44728L4.89 4.745ZM8.4 4.302C9.51662 4.302 10.4311 4.68034 11.2029 5.45211L12.6171 4.03789C11.4649 2.88566 10.0394 2.302 8.4 2.302V4.302ZM11.1981 5.44728C11.9599 6.21949 12.34 7.1361 12.34 8.268H14.34C14.34 6.6179 13.7581 5.19451 12.6219 4.04272L11.1981 5.44728ZM12.34 8.268C12.34 9.40109 11.9593 10.3145 11.2029 11.0709L12.6171 12.4851C13.7587 11.3435 14.34 9.91691 14.34 8.268H12.34ZM11.2126 11.0613C10.4379 11.8151 9.51834 12.195 8.4 12.195V14.195C10.0377 14.195 11.4581 13.6129 12.6074 12.4947L11.2126 11.0613ZM8.4 12.195C7.25042 12.195 6.33808 11.8119 5.59711 11.0709L4.18289 12.4851C5.31393 13.6161 6.74158 14.195 8.4 14.195V12.195ZM5.59711 11.0709C4.83014 10.3039 4.46 9.39158 4.46 8.268H2.46C2.46 9.90042 3.02586 11.3281 4.18289 12.4851L5.59711 11.0709ZM4.46 8.268C4.46 7.13 4.83111 6.21811 5.59711 5.45211L4.18289 4.03789C3.0249 5.19589 2.46 6.624 2.46 8.268H4.46ZM5.6019 5.44728C6.35689 4.68195 7.26777 4.302 8.4 4.302V2.302C6.75024 2.302 5.32111 2.88405 4.1781 4.04272L5.6019 5.44728Z",fill:"currentColor"})))}const iv=o.forwardRef(tv);var nv;function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ov.apply(this,arguments)}function av(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ov({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,nv||(nv=o.createElement("path",{d:"M3.281 3.666h9.178v9.204H3.281z"})))}const lv=o.forwardRef(av);var rv;function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sv.apply(this,arguments)}function dv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",sv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,rv||(rv=o.createElement("path",{d:"m7.8 3.172 5.174 5.174L7.8 13.52 2.626 8.346z"})))}const cv=o.forwardRef(dv);var uv;function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pv.apply(this,arguments)}function hv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",pv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,uv||(uv=o.createElement("path",{d:"m8 3.705 5.291 9.165H2.709z"})))}const vv=o.forwardRef(hv);var gv;function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fv.apply(this,arguments)}function mv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",fv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,gv||(gv=o.createElement("path",{d:"M6.342 8 3.5 5.158 5.158 3.5 8 6.342 10.842 3.5 12.5 5.158 9.658 8l2.842 2.842-1.658 1.658L8 9.658 5.158 12.5 3.5 10.842z"})))}const yv=o.forwardRef(mv);var wv;function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bv.apply(this,arguments)}function Cv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",bv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,wv||(wv=o.createElement("path",{d:"M6.871 6.871V3h2.258v3.871H13v2.258H9.129V13H6.871V9.129H3V6.871z"})))}const xv=o.forwardRef(Cv);var Iv;function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},jv.apply(this,arguments)}function Mv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",jv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Iv||(Iv=o.createElement("path",{d:"M3.645 13V3.666h.351q1.053 0 2.145.169 1.106.156 2.223.507 1.119.351 2.054.533.936.169 1.677.182v5.798h-.572a7 7 0 0 1-1.235-.13 32 32 0 0 1-1.677-.39 16 16 0 0 0-1.833-.39 11 11 0 0 0-1.625-.13q-.142 0-.286.013-.129 0-.273.013-.129 0-.273.013V13z"})))}const kv=o.forwardRef(Mv);var Tv;function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ev.apply(this,arguments)}function Pv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ev({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Tv||(Tv=o.createElement("path",{d:"m8 1.884 1.656 4.44h4.2l-3.54 2.664 1.716 4.476L8 10.44l-4.02 3.024 1.704-4.476-3.54-2.664h4.188z"})))}const Ov=o.forwardRef(Pv);var _v;function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sv.apply(this,arguments)}function Nv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Sv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,_v||(_v=o.createElement("path",{d:"M8.41 3.827a3.245 3.245 0 0 1 4.587 4.579L8.409 13 3.823 8.406A3.247 3.247 0 0 1 8.41 3.827"})))}const Lv=o.forwardRef(Nv);var Dv;function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rv.apply(this,arguments)}function Zv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Rv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Dv||(Dv=o.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0-7.99L6.02 5.03l-.99.99L7.01 8 5.03 9.98l.99.99L8 8.99l1.98 1.98.99-.99L8.99 8l1.98-1.98-.99-.99z"})))}const Av=o.forwardRef(Zv);var Fv;function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zv.apply(this,arguments)}function Bv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",zv({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Fv||(Fv=o.createElement("path",{d:"M10.707 16.952V20h3.048v-3.048zm3.048-2.506A5.337 5.337 0 0 0 12.231 4 5.335 5.335 0 0 0 7 8.286l2.99.6a2.286 2.286 0 1 1 2.241 2.733 1.524 1.524 0 0 0-1.524 1.524v2.286h3.048z"})))}const Vv=o.forwardRef(Bv);var Hv,Wv;function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Uv.apply(this,arguments)}function qv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Uv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Hv||(Hv=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M2 2h5.333v5.333H2zm0 6.667h5.333V14H2zM8.667 2H14v5.333H8.667zm0 6.667H14V14H8.667zM10 3.333V6h2.667V3.333zM10 10v2.667h2.667V10zM3.333 3.333V6H6V3.333zm0 6.667v2.667H6V10z"}))),Wv||(Wv=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const Gv=o.forwardRef(qv);var $v;function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jv.apply(this,arguments)}function Kv(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Jv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$v||($v=o.createElement("path",{d:"M2 2.667h12V4H2zm0 4.666h12v1.334H2zM2 12h12v1.333H2z"})))}const Yv=o.forwardRef(Kv);var Qv,Xv;function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},eg.apply(this,arguments)}function tg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",eg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Qv||(Qv=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M1.5 14.5a4.952 4.952 0 0 1 9.905 0zm4.952-5.571a3.713 3.713 0 0 1-3.714-3.715A3.713 3.713 0 0 1 6.452 1.5a3.713 3.713 0 0 1 3.715 3.714A3.713 3.713 0 0 1 6.452 8.93m4.558 1.382a4.65 4.65 0 0 1 3.48 4.189h-1.847a6.17 6.17 0 0 0-1.633-4.19M9.758 8.9a4.94 4.94 0 0 0 1.647-3.687 4.93 4.93 0 0 0-.629-2.416 3.095 3.095 0 0 1-1.018 6.104"}))),Xv||(Xv=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const ig=o.forwardRef(tg);var ng,og;function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ag.apply(this,arguments)}function lg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ag({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ng||(ng=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M11.716 5.333h1.238a.62.62 0 0 1 .619.62v7.428a.62.62 0 0 1-.62.619H3.05a.62.62 0 0 1-.619-.619V5.952a.62.62 0 0 1 .619-.619h1.238v-.619a3.714 3.714 0 1 1 7.429 0zM7.382 10.12v1.404H8.62V10.12a1.238 1.238 0 1 0-1.238 0m3.096-4.787v-.619a2.476 2.476 0 0 0-4.953 0v.62z"}))),og||(og=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const rg=o.forwardRef(lg);var sg,dg;function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cg.apply(this,arguments)}function ug(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",cg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sg||(sg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M12.905 14.5H3v-1.238a3.095 3.095 0 0 1 3.095-3.095H9.81a3.096 3.096 0 0 1 3.095 3.095zM7.952 8.929a3.714 3.714 0 1 1 0-7.429 3.714 3.714 0 0 1 0 7.429"}))),dg||(dg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const pg=o.forwardRef(ug);var hg;function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vg.apply(this,arguments)}function gg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",vg({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,hg||(hg=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 2.5v15m-3.5-15h7c1.4 0 2.1 0 2.635.272a2.5 2.5 0 0 1 1.092 1.093C17.5 4.4 17.5 5.1 17.5 6.5v7c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-7c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2.5 15.6 2.5 14.9 2.5 13.5v-7c0-1.4 0-2.1.272-2.635a2.5 2.5 0 0 1 1.093-1.093C4.4 2.5 5.1 2.5 6.5 2.5"})))}const fg=o.forwardRef(gg);var mg,yg;function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wg.apply(this,arguments)}function bg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",wg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,mg||(mg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M6.667 2c.368 0 .666.299.666.667v10.666a.667.667 0 0 1-.666.667h-4A.667.667 0 0 1 2 13.333V2.667C2 2.299 2.299 2 2.667 2zM6 3.333H3.333v9.334H6zm6 1.334a3.334 3.334 0 1 1 0 6.667 3.334 3.334 0 0 1 0-6.667M12.667 6h-1.334v1.333H10v1.334l1.333-.001V10h1.334V8.666H14V7.334h-1.333z"}))),yg||(yg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const Cg=o.forwardRef(bg);var xg,Ig;function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},jg.apply(this,arguments)}function Mg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",jg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,xg||(xg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M14 5.333v8.662a.665.665 0 0 1-.662.672H2.662A.66.66 0 0 1 2 14.005V1.995c0-.358.3-.662.668-.662h7.33zM12.667 6H9.333V2.667h-6v10.666h9.334zM5.333 4.667h2V6h-2zm0 2.666h5.334v1.334H5.333zm0 2.667h5.334v1.333H5.333z"}))),Ig||(Ig=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const kg=o.forwardRef(Mg);var Tg,Eg;function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pg.apply(this,arguments)}function Og(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Pg({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Tg||(Tg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M14.667 14.083a.667.667 0 0 1-.667.667H2a.666.666 0 0 1-.667-.667V3.417A.667.667 0 0 1 2 2.75h12a.667.667 0 0 1 .667.667zM7.333 10.75H2.667v2.667h4.666zm6-2.667H8.667v5.334h4.666zm-6-4H2.667v5.334h4.666zm6 0H8.667V6.75h4.666z"}))),Eg||(Eg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 .75h16v16H0z"})))))}const _g=o.forwardRef(Og);var Sg;function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ng.apply(this,arguments)}function Lg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ng({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 40 40",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Sg||(Sg=o.createElement("path",{d:"M36.667 35H3.334v-3.333h1.667v-25A1.667 1.667 0 0 1 6.667 5h23.334a1.667 1.667 0 0 1 1.666 1.667V15h3.334v16.667h1.666zm-8.333-3.333h3.333V18.333h-10v13.334h3.334v-10h3.333zm0-16.667V8.333h-20v23.334h10V15zm-16.667 3.333h3.334v3.334h-3.334zm0 6.667h3.334v3.333h-3.334zm0-13.333h3.334V15h-3.334z"})))}const Dg=o.forwardRef(Lg);var Rg;function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zg.apply(this,arguments)}function Ag(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zg({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Rg||(Rg=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.25 3.75a2.083 2.083 0 0 1 4.167 0V5h.833c1.165 0 1.748 0 2.207.19a2.5 2.5 0 0 1 1.353 1.353c.19.46.19 1.042.19 2.207h1.25a2.083 2.083 0 1 1 0 4.167H15v1.416c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272h-.583v-1.458a1.875 1.875 0 1 0-3.75 0v1.458h-1c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.534-.272-1.235-.272-2.635v-1.416h1.25a2.083 2.083 0 1 0 0-4.167h-1.25c0-1.165 0-1.747.19-2.207A2.5 2.5 0 0 1 3.21 5.19C3.67 5 4.252 5 5.417 5h.833z"})))}const Fg=o.forwardRef(Ag);var zg,Bg;function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Vg.apply(this,arguments)}function Hg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Vg({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zg||(zg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M15.999 7.006c0-.013-.006-.027-.007-.04a.7.7 0 0 0-.02-.138q-.014-.037-.032-.073c-.013-.03-.024-.062-.042-.09q-.025-.039-.055-.072c-.02-.024-.037-.048-.06-.068-.024-.023-.051-.04-.079-.06q-.022-.02-.048-.038l-.026-.01c-.011-.006-.02-.016-.031-.021L10.865 4.16a2 2 0 0 0-.813-.16c-.323 0-.63.064-.863.178L4.392 6.514A.68.68 0 0 0 4 7.13l.003.016L4 7.162v5.72c0 .398.353.863.801 1.074l4.662 1.954a.74.74 0 0 0 .334.078c.086 0 .172-.02.255-.051a.8.8 0 0 0 .222-.059l4.904-2.063c.468-.22.822-.687.822-1.084V7.01zm-5.832 1.725a.9.9 0 0 1-.402.012L6.317 7.116l3.519-1.713a.6.6 0 0 1 .216-.03c.1 0 .165.015.184.022l3.444 1.626zm4.398 3.84-.014.01-3.906 1.8-.134-4.241.026-.015 4.03-1.987v4.433z"}))),Bg||(Bg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h20v20H0z"})))))}const Wg=o.forwardRef(Hg);var Ug,qg;function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gg.apply(this,arguments)}function $g(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Gg({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ug||(Ug=o.createElement("g",{clipPath:"url(#clip0_793_5569)"},o.createElement("path",{d:"M12.5 1.66675C13.0853 1.66668 13.6602 1.8207 14.1671 2.11331C14.6739 2.40592 15.0948 2.82681 15.3873 3.33366C15.6799 3.84052 15.8339 4.41547 15.8338 5.00071C15.8337 5.58595 15.6795 6.16084 15.3867 6.66759L19.1667 6.66675V8.33342H17.5V16.6668C17.5 16.8878 17.4122 17.0997 17.256 17.256C17.0997 17.4123 16.8877 17.5001 16.6667 17.5001H3.33337C3.11236 17.5001 2.9004 17.4123 2.74412 17.256C2.58784 17.0997 2.50004 16.8878 2.50004 16.6668V8.33342H0.833374V6.66675L4.61337 6.66759C4.19993 5.95166 4.06728 5.10763 4.24119 4.2994C4.4151 3.49116 4.88316 2.77639 5.55449 2.29388C6.22581 1.81137 7.05248 1.59554 7.874 1.68832C8.69551 1.78109 9.45323 2.17584 10 2.79592C10.3122 2.4404 10.6968 2.15573 11.1279 1.96098C11.5591 1.76624 12.0269 1.66592 12.5 1.66675ZM10.8334 8.33342H9.16671V16.6668H10.8334V8.33342ZM7.50004 3.33342C7.06755 3.33148 6.65125 3.49774 6.33908 3.79707C6.02691 4.0964 5.84332 4.50535 5.82709 4.93754C5.81086 5.36972 5.96327 5.79129 6.25212 6.11318C6.54096 6.43508 6.94363 6.63209 7.37504 6.66259L7.50004 6.66675H9.16671V5.00009C9.16672 4.6018 9.02411 4.21668 8.7647 3.91447C8.50529 3.61225 8.14623 3.41293 7.75254 3.35259L7.62421 3.33759L7.50004 3.33342ZM12.5 3.33342C12.0796 3.33329 11.6746 3.49209 11.3663 3.778C11.0579 4.06391 10.8691 4.45579 10.8375 4.87509L10.8334 5.00009V6.66675H12.5C12.9205 6.66689 13.3255 6.50808 13.6338 6.22217C13.9421 5.93626 14.131 5.54438 14.1625 5.12509L14.1667 5.00009C14.1667 4.55806 13.9911 4.13414 13.6786 3.82158C13.366 3.50901 12.9421 3.33342 12.5 3.33342Z",fill:"url(#paint0_linear_793_5569)"}))),qg||(qg=o.createElement("defs",null,o.createElement("linearGradient",{id:"paint0_linear_793_5569",x1:.833374,y1:1.66675,x2:16.4981,y2:19.8048,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#F17B41"}),o.createElement("stop",{offset:.494792,stopColor:"#E05BA2"}),o.createElement("stop",{offset:1,stopColor:"#CD4BC9"})),o.createElement("clipPath",{id:"clip0_793_5569"},o.createElement("rect",{width:20,height:20,fill:"white"})))))}const Jg=o.forwardRef($g);var Kg;function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yg.apply(this,arguments)}function Qg(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Yg({xmlns:"http://www.w3.org/2000/svg",width:80,height:80,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 80 80",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Kg||(Kg=o.createElement("path",{d:"M73.333 66.69A3.333 3.333 0 0 1 70.027 70H9.973a3.31 3.31 0 0 1-3.306-3.31v-3.357h60v-39L40 48.333l-33.333-30v-5A3.333 3.333 0 0 1 10 10h60a3.333 3.333 0 0 1 3.333 3.333zM14.78 16.667 40 39.367l25.22-22.7zM0 50h26.667v6.667H0zm0-16.667h16.667V40H0z"})))}const Xg=o.forwardRef(Qg);var ef;function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tf.apply(this,arguments)}function nf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",tf({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 21 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ef||(ef=o.createElement("path",{d:"M18 12.5V15h2.5v1.667H18v2.5h-1.667v-2.5h-2.5V15h2.5v-2.5zm.006-10c.457 0 .827.37.827.828v7.505h-1.666V4.167H3.832v11.666L12.166 7.5l2.5 2.5v2.358l-2.5-2.5-5.977 5.975h5.977V17.5H2.993a.827.827 0 0 1-.826-.828V3.329a.833.833 0 0 1 .826-.828zM7.166 5.833a1.667 1.667 0 1 1 0 3.334 1.667 1.667 0 0 1 0-3.334"})))}const of=o.forwardRef(nf);var af;function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},lf.apply(this,arguments)}function rf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",lf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,af||(af=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 4v16m4-8h14m0 0-7 7m7-7-7-7"})))}const sf=o.forwardRef(rf);var df;function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cf.apply(this,arguments)}function uf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",cf({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,df||(df=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.5 14.667v-3.334m0-6.666V1.333M1.833 3h3.333M1.833 13h3.333m4-11L8.01 5.006c-.188.489-.282.733-.428.939a2 2 0 0 1-.47.47c-.207.147-.45.24-.94.429L3.166 8l3.006 1.156c.49.188.733.282.94.428a2 2 0 0 1 .47.471c.146.206.24.45.428.94L9.166 14l1.156-3.006c.189-.489.283-.733.429-.939q.196-.275.47-.47c.206-.147.45-.24.94-.429L15.165 8 12.16 6.844c-.488-.188-.733-.282-.938-.428a2 2 0 0 1-.471-.471c-.146-.206-.24-.45-.428-.94z"})))}const pf=o.forwardRef(uf);var hf;function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vf.apply(this,arguments)}function gf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",vf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,hf||(hf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.5 7.278 12 12m0 0L3.5 7.278M12 12v9.5m9-5.442V7.941c0-.342 0-.514-.05-.666a1 1 0 0 0-.215-.364c-.109-.119-.258-.202-.558-.368l-7.4-4.111c-.284-.158-.425-.237-.575-.268a1 1 0 0 0-.403 0c-.15.031-.292.11-.576.268l-7.4 4.11c-.3.167-.45.25-.558.369a1 1 0 0 0-.215.364C3 7.427 3 7.599 3 7.94v8.117c0 .343 0 .515.05.667a1 1 0 0 0 .215.364c.109.119.258.202.558.368l7.4 4.111c.284.158.425.237.576.267.133.028.27.028.402 0 .15-.03.292-.11.576-.267l7.4-4.11c.3-.167.45-.25.558-.369a1 1 0 0 0 .215-.364c.05-.152.05-.324.05-.667"})))}const ff=o.forwardRef(gf);var mf;function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yf.apply(this,arguments)}function wf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",yf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,mf||(mf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M14 17H8m8-4H8m12-3.012V17.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C17.72 22 16.88 22 15.2 22H8.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C4 19.72 4 18.88 4 17.2V6.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C6.28 2 7.12 2 8.8 2h3.212c.733 0 1.1 0 1.446.083.306.073.598.195.867.36.303.185.562.444 1.08.963l3.19 3.188c.518.519.777.778.963 1.081a3 3 0 0 1 .36.867c.082.346.082.712.082 1.446"})))}const bf=o.forwardRef(wf);var Cf;function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xf.apply(this,arguments)}function If(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",xf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Cf||(Cf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 12.5V6.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C17.72 2 16.88 2 15.2 2H8.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C4 4.28 4 5.12 4 6.8v10.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 22 7.12 22 8.8 22H12m2-11H8m2 4H8m8-8H8m6.5 12 2 2 4.5-4.5"})))}const jf=o.forwardRef(If);var Mf;function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},kf.apply(this,arguments)}function Tf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",kf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Mf||(Mf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.094 11.229A8 8 0 0 1 6 10c0-4.418 3.605-8 8.053-8 4.447 0 8.052 3.582 8.052 8a7.9 7.9 0 0 1-.52 2.835c-.07.182-.105.274-.12.345a1 1 0 0 0-.024.194c-.002.073.008.153.028.314l.403 3.27c.043.355.065.532.006.66a.5.5 0 0 1-.257.252c-.13.055-.306.03-.66-.022l-3.184-.467c-.167-.024-.25-.037-.326-.036a1 1 0 0 0-.2.021 3 3 0 0 0-.358.122 8.2 8.2 0 0 1-4.07.42M7.632 22C10.597 22 13 19.538 13 16.5S10.597 11 7.632 11s-5.369 2.462-5.369 5.5c0 .61.097 1.198.277 1.747.075.232.113.348.126.427.013.083.015.13.01.213-.005.08-.025.17-.065.351L2 22l2.995-.409c.163-.022.245-.034.316-.033.076 0 .115.005.19.02.07.013.173.05.381.123a5.3 5.3 0 0 0 1.75.299"})))}const Ef=o.forwardRef(Tf);var Pf;function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Of.apply(this,arguments)}function _f(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Of({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Pf||(Pf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 11.333 8.667 8 12 4.667m-4.667 6.666L4 8l3.333-3.333"})))}const Sf=o.forwardRef(_f);var Nf;function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Lf.apply(this,arguments)}function Df(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Lf({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Nf||(Nf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 11.333 7.333 8 4 4.667m4.667 6.666L12 8 8.667 4.667"})))}const Rf=o.forwardRef(Df);var Zf;function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Af.apply(this,arguments)}function Ff(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Af({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Zf||(Zf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.988 7-1.102-2.231c-.317-.642-.476-.963-.712-1.198a2 2 0 0 0-.739-.462C10.124 3 9.769 3 9.06 3H5.284c-1.106 0-1.66 0-2.082.218a2 2 0 0 0-.863.874c-.216.428-.216.988-.216 2.108V7m0 0h15.013c1.659 0 2.489 0 3.123.327.557.288 1.01.747 1.294 1.311.323.642.323 1.482.323 3.162v4.4c0 1.68 0 2.52-.323 3.162a3 3 0 0 1-1.294 1.311c-.634.327-1.464.327-3.123.327H6.864c-1.66 0-2.49 0-3.123-.327a3 3 0 0 1-1.295-1.311c-.323-.642-.323-1.482-.323-3.162zm7.408 4.5 4.938 5m1.482-2.5c0 2.21-1.77 4-3.951 4s-3.95-1.79-3.95-4 1.768-4 3.95-4 3.95 1.79 3.95 4"})))}const zf=o.forwardRef(Ff);var Bf;function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Vf.apply(this,arguments)}function Hf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Vf({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Bf||(Bf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.66,d:"M10 5a.833.833 0 1 0 0-1.667A.833.833 0 0 0 10 5m0 5.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666m0 5.834A.833.833 0 1 0 10 15a.833.833 0 0 0 0 1.667M15.834 5a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667m0 5.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666m0 5.834a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667M4.167 5a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667m0 5.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666m0 5.834a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667"})))}const Wf=o.forwardRef(Hf);var Uf;function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qf.apply(this,arguments)}function Gf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",qf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Uf||(Uf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 12a8 8 0 0 1-8 8m8-8a8 8 0 0 0-8-8m8 8h2m-10 8a8 8 0 0 1-8-8m8 8v2M4 12a8 8 0 0 1 8-8m-8 8H2m10-8V2m3 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0"})))}const $f=o.forwardRef(Gf);var Jf;function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Kf.apply(this,arguments)}function Yf(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Kf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Jf||(Jf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8 3 8 18M3 17l9-5m-4.2 9h8.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 18.72 21 17.88 21 16.2V7.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C18.72 3 17.88 3 16.2 3H7.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C3 5.28 3 6.12 3 7.8v8.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C5.28 21 6.12 21 7.8 21"})))}const Qf=o.forwardRef(Yf);var Xf;function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},em.apply(this,arguments)}function tm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",em({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Xf||(Xf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.5 5h.434c3.048 0 4.571 0 5.15.547a2 2 0 0 1 .586 1.845c-.156.781-1.4 1.66-3.888 3.42l-4.064 2.876c-2.488 1.76-3.732 2.639-3.888 3.42a2 2 0 0 0 .586 1.845c.579.547 2.102.547 5.15.547h.934M8 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0"})))}const im=o.forwardRef(tm);var nm;function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},om.apply(this,arguments)}function am(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",om({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,nm||(nm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10m0-20a15.3 15.3 0 0 0-4 10 15.3 15.3 0 0 0 4 10m0-20C6.477 2 2 6.477 2 12s4.477 10 10 10m0-20c5.523 0 10 4.477 10 10s-4.477 10-10 10M2.5 9h19m-19 6h19"})))}const lm=o.forwardRef(am);var rm;function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sm.apply(this,arguments)}function dm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",sm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,rm||(rm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 13.374c3.532.695 6 2.28 6 4.126 0 2.485-4.477 4.5-10 4.5S2 19.985 2 17.5c0-1.845 2.468-3.431 6-4.126M12 17V3l5.318 3.272c.388.24.581.358.643.509a.5.5 0 0 1-.011.407c-.07.146-.271.254-.672.47L12 10.5"})))}const cm=o.forwardRef(dm);var um;function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pm.apply(this,arguments)}function hm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",pm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,um||(um=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3h4.2c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C21 5.28 21 6.12 21 7.8v8.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V12m5 1v4m8-6v6M12 7v10M5 8V2M2 5h6"})))}const vm=o.forwardRef(hm);var gm;function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fm.apply(this,arguments)}function mm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",fm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,gm||(gm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 20h.2c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C12 17.72 12 16.88 12 15.2V8.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C9.72 4 8.88 4 7.2 4H7m0 16a2 2 0 1 1-4 0 2 2 0 0 1 4 0M7 4a2 2 0 1 1-4 0 2 2 0 0 1 4 0m10 8H7m10 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0M7 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})))}const ym=o.forwardRef(mm);var wm;function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bm.apply(this,arguments)}function Cm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",bm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,wm||(wm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M16 18.5 14.5 17M14 2H8.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C4 4.28 4 5.12 4 6.8v10.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 22 7.12 22 8.8 22h6.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 19.72 20 18.88 20 17.2V8zm1.5 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"})))}const xm=o.forwardRef(Cm);var Im;function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},jm.apply(this,arguments)}function Mm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",jm({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Im||(Im=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.49 4.589v-.498c0-.697 0-1.045-.136-1.311a1.24 1.24 0 0 0-.544-.544C9.544 2.1 9.195 2.1 8.498 2.1h-.995c-.697 0-1.046 0-1.312.136-.234.119-.425.31-.544.544-.136.266-.136.614-.136 1.311v.498m1.245 3.422v3.111m2.489-3.11v3.11M2.4 4.59h11.2m-1.244 0v6.969c0 1.045 0 1.568-.203 1.967a1.87 1.87 0 0 1-.816.816c-.4.204-.922.204-1.968.204H6.632c-1.046 0-1.569 0-1.968-.204a1.87 1.87 0 0 1-.816-.816c-.203-.399-.203-.922-.203-1.967v-6.97"})))}const km=o.forwardRef(Mm);var Tm;function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Em.apply(this,arguments)}function Pm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Em({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Tm||(Tm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m13.333 4-7.334 7.333L2.666 8"})))}const Om=o.forwardRef(Pm);var _m;function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sm.apply(this,arguments)}function Nm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Sm({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,_m||(_m=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.667 11.333H4.333m7.334-2.666H4.333M2 6h12M5.2 2h5.6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874C14 3.52 14 4.08 14 5.2v5.6c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C12.48 14 11.92 14 10.8 14H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 12.48 2 11.92 2 10.8V5.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 2 4.08 2 5.2 2"})))}const Lm=o.forwardRef(Nm);var Dm;function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rm.apply(this,arguments)}function Zm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Rm({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Dm||(Dm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.667 6.667H2M13.333 4H2m11.333 5.333H2M10.667 12H2"})))}const Am=o.forwardRef(Zm);var Fm;function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zm.apply(this,arguments)}function Bm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",zm({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Fm||(Fm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.5 6.667h10m0 0a2.5 2.5 0 1 0 5 0 2.5 2.5 0 0 0-5 0m-5 6.666h10m-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"})))}const Vm=o.forwardRef(Bm);var Hm;function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wm.apply(this,arguments)}function Um(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Wm({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Hm||(Hm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.5 10v3.5c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-7c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2.5 15.6 2.5 14.9 2.5 13.5V10m10.833-4.167L10 2.5m0 0L6.667 5.833M10 2.5v10"})))}const qm=o.forwardRef(Um);var Gm;function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$m.apply(this,arguments)}function Jm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",$m({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Gm||(Gm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m15 12.5-5-5-5 5"})))}const Km=o.forwardRef(Jm);var Ym;function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qm.apply(this,arguments)}function Xm(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Qm({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ym||(Ym=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m5 7.5 5 5 5-5"})))}const ey=o.forwardRef(Xm);var ty;function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},iy.apply(this,arguments)}function ny(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",iy({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ty||(ty=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10 8 6l-4 4"})))}const oy=o.forwardRef(ny);var ay;function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ly.apply(this,arguments)}function ry(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ly({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,ay||(ay=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m4 6 4 4 4-4"})))}const sy=o.forwardRef(ry);var dy;function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cy.apply(this,arguments)}function uy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",cy({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,dy||(dy=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9h18M3 15h18M12 3v18M7.8 3h8.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C21 5.28 21 6.12 21 7.8v8.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V7.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C5.28 3 6.12 3 7.8 3"})))}const py=o.forwardRef(uy);var hy;function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vy.apply(this,arguments)}function gy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",vy({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,hy||(hy=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M16 13H8m8 4H8m2-8H8m6-7H8.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C4 4.28 4 5.12 4 6.8v10.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 22 7.12 22 8.8 22h6.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 19.72 20 18.88 20 17.2V8z"})))}const fy=o.forwardRef(gy);var my;function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},yy.apply(this,arguments)}function wy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",yy({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,my||(my=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m16.667 5-9.166 9.167L3.334 10"})))}const by=o.forwardRef(wy);var Cy;function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xy.apply(this,arguments)}function Iy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",xy({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Cy||(Cy=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 17.003 5.833-5.833m0 0h-5m5 0v5M17.003 3 11.17 8.833m0 0h5m-5 0v-5"})))}const jy=o.forwardRef(Iy);var My;function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ky.apply(this,arguments)}function Ty(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ky({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,My||(My=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.333 10v1.333m2.667-4v4m2.667-6.666v6.666M5.2 14h5.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C14 12.48 14 11.92 14 10.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C12.48 2 11.92 2 10.8 2H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 3.52 2 4.08 2 5.2v5.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C3.52 14 4.08 14 5.2 14"})))}const Ey=o.forwardRef(Ty);var Py;function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Oy.apply(this,arguments)}function _y(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Oy({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Py||(Py=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 4.5V3A1.5 1.5 0 1 0 3 4.5zm0 0v3m0-3h3m-3 3V9A1.5 1.5 0 1 1 3 7.5zm0 0h3m0 0H9A1.5 1.5 0 1 1 7.5 9zm0 0v-3m0 0V3A1.5 1.5 0 1 1 9 4.5z"})))}const Sy=o.forwardRef(_y);var Ny;function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ly.apply(this,arguments)}function Dy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Ly({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ny||(Ny=o.createElement("path",{fill:"currentColor",d:"M13.5 2h-8a.5.5 0 0 0-.5.5V5H2.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V11h2.5a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5M10 13H3V6h7zm3-3h-2V5.5a.5.5 0 0 0-.5-.5H6V3h7z"})))}const Ry=o.forwardRef(Dy);var Zy,Ay;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fy.apply(this,arguments)}function zy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Fy({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Zy||(Zy=o.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,clipPath:"url(#a)"},o.createElement("path",{d:"M14.67 7.388v.614a6.667 6.667 0 1 1-3.954-6.094"}),o.createElement("path",{d:"M14.667 2.667 8 9.34l-2-2"}))),Ay||(Ay=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}const By=o.forwardRef(zy);var Vy,Hy;function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wy.apply(this,arguments)}function Uy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Wy({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Vy||(Vy=o.createElement("g",{clipPath:"url(#clip0_27663_66742)"},o.createElement("path",{d:"M8.00001 1.33527C11.6813 1.33527 14.6667 3.98727 14.6667 7.26127C14.6661 8.2434 14.2757 9.18515 13.5812 9.87957C12.8866 10.574 11.9448 10.9642 10.9627 10.9646H9.65201C9.03734 10.9646 8.54068 11.4613 8.54068 12.0759C8.54068 12.3573 8.65201 12.6166 8.82201 12.8093C9.00001 13.0093 9.11134 13.2686 9.11134 13.5573C9.11134 14.1726 8.60001 14.6686 8.00001 14.6686C4.31868 14.6686 1.33334 11.6833 1.33334 8.00193C1.33334 4.3206 4.31868 1.33527 8.00001 1.33527ZM7.20734 12.0759C7.20708 11.7548 7.27013 11.4368 7.3929 11.1401C7.51566 10.8434 7.69572 10.5738 7.92278 10.3467C8.14984 10.1196 8.41945 9.93958 8.71617 9.81682C9.01288 9.69406 9.3309 9.631 9.65201 9.63127H10.9627C11.5911 9.63091 12.1937 9.38122 12.6381 8.937C13.0826 8.49277 13.3326 7.89033 13.3333 7.26193C13.3333 4.76127 10.9787 2.6686 8.00001 2.6686C6.62373 2.66734 5.30024 3.19817 4.30626 4.1501C3.31229 5.10203 2.72478 6.40135 2.66658 7.7764C2.60838 9.15146 3.084 10.4958 3.99399 11.5283C4.90397 12.5608 6.17788 13.2016 7.54934 13.3166C7.32612 12.9415 7.20799 12.5131 7.20734 12.0766V12.0759ZM5.00001 8.00193C4.73479 8.00193 4.48044 7.89658 4.2929 7.70904C4.10537 7.5215 4.00001 7.26715 4.00001 7.00193C4.00001 6.73672 4.10537 6.48236 4.2929 6.29483C4.48044 6.10729 4.73479 6.00193 5.00001 6.00193C5.26523 6.00193 5.51958 6.10729 5.70712 6.29483C5.89465 6.48236 6.00001 6.73672 6.00001 7.00193C6.00001 7.26715 5.89465 7.5215 5.70712 7.70904C5.51958 7.89658 5.26523 8.00193 5.00001 8.00193ZM11 8.00193C10.7348 8.00193 10.4804 7.89658 10.2929 7.70904C10.1054 7.5215 10 7.26715 10 7.00193C10 6.73672 10.1054 6.48236 10.2929 6.29483C10.4804 6.10729 10.7348 6.00193 11 6.00193C11.2652 6.00193 11.5196 6.10729 11.7071 6.29483C11.8947 6.48236 12 6.73672 12 7.00193C12 7.26715 11.8947 7.5215 11.7071 7.70904C11.5196 7.89658 11.2652 8.00193 11 8.00193ZM8.00001 6.00193C7.73479 6.00193 7.48044 5.89658 7.2929 5.70904C7.10537 5.5215 7.00001 5.26715 7.00001 5.00193C7.00001 4.73672 7.10537 4.48236 7.2929 4.29483C7.48044 4.10729 7.73479 4.00193 8.00001 4.00193C8.26523 4.00193 8.51958 4.10729 8.70712 4.29483C8.89465 4.48236 9.00001 4.73672 9.00001 5.00193C9.00001 5.26715 8.89465 5.5215 8.70712 5.70904C8.51958 5.89658 8.26523 6.00193 8.00001 6.00193Z",fill:"currentColor"}))),Hy||(Hy=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_27663_66742"},o.createElement("rect",{width:16,height:16,fill:"white",transform:"translate(0 0.00195312)"})))))}const qy=o.forwardRef(Uy);var Gy;function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$y.apply(this,arguments)}function Jy(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",$y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Gy||(Gy=o.createElement("path",{d:"M11.36 4.48a1.14 1.14 0 0 0-.931-.48l-6.286.006A1.14 1.14 0 0 0 3 5.143v5.714a1.14 1.14 0 0 0 1.143 1.137l6.286.006c.382 0 .725-.189.931-.48L13.857 8z"})))}const Ky=o.forwardRef(Jy);var Yy,Qy,Xy;function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ew.apply(this,arguments)}function tw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ew({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Yy||(Yy=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"white"})),Qy||(Qy=o.createElement("path",{d:"M11.36 4.48C11.1543 4.18857 10.8114 4 10.4286 4L4.14286 4.00571C3.51429 4.00571 3 4.51429 3 5.14286V10.8571C3 11.4857 3.51429 11.9943 4.14286 11.9943L10.4286 12C10.8114 12 11.1543 11.8114 11.36 11.52L13.8571 8L11.36 4.48Z",fill:"currentColor"})),Xy||(Xy=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.49989 13L10.4999 1.99998L11.7654 2.8053L4.76538 13.8053L3.49989 13Z",fill:"white"})))}const iw=o.forwardRef(tw);var nw,ow;function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},aw.apply(this,arguments)}function lw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",aw({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,nw||(nw=o.createElement("circle",{cx:11,cy:11,r:11,fill:"currentColor"})),ow||(ow=o.createElement("path",{d:"M15.8348 6.27832L5.13127 9.5885C4.52935 9.78399 4.62065 10.6726 5.2494 10.7458L10.1178 11.3123C10.1757 11.3191 10.2285 11.3485 10.2647 11.3942C10.3009 11.4399 10.3174 11.4982 10.3107 11.5561L9.74419 16.4238C9.67101 17.0526 10.5222 17.3442 10.8494 16.8047L16.5216 7.14603C16.5845 7.0431 16.6143 6.92335 16.607 6.80294C16.5997 6.68253 16.5556 6.56726 16.4808 6.47267C16.4059 6.37808 16.3039 6.30874 16.1884 6.27398C16.0728 6.23923 15.9495 6.24075 15.8348 6.27832Z",fill:"white"})))}const rw=o.forwardRef(lw);var sw;function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dw.apply(this,arguments)}function cw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",dw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,sw||(sw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.374 1.955c.225-.164.337-.246.46-.277a.7.7 0 0 1 .332 0c.123.031.236.113.46.277l5.413 3.928c.226.163.338.245.407.353.06.094.095.203.102.315.008.127-.035.26-.121.525L12.36 13.43c-.086.265-.13.397-.21.495a.7.7 0 0 1-.268.195c-.119.047-.258.047-.536.047H4.655c-.279 0-.418 0-.536-.047a.7.7 0 0 1-.268-.195c-.081-.098-.125-.23-.21-.495L1.572 7.076c-.086-.265-.129-.398-.12-.525a.7.7 0 0 1 .102-.315c.068-.108.18-.19.406-.353z"})))}const uw=o.forwardRef(cw);var pw;function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hw.apply(this,arguments)}function vw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",hw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,pw||(pw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 8h.007M11 8h.007M8 8h.007M8 11h.007M8 5h.007M2 5.2v5.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C3.52 14 4.08 14 5.2 14h5.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C14 12.48 14 11.92 14 10.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C12.48 2 11.92 2 10.8 2H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 3.52 2 4.08 2 5.2"})))}const gw=o.forwardRef(vw);var fw;function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mw.apply(this,arguments)}function yw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",mw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,fw||(fw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 1.333A10.2 10.2 0 0 1 10.667 8 10.2 10.2 0 0 1 8 14.667M8 1.333A10.2 10.2 0 0 0 5.334 8 10.2 10.2 0 0 0 8 14.667M8 1.333a6.667 6.667 0 0 0 0 13.334M8 1.333a6.667 6.667 0 1 1 0 13.334M1.667 6h12.667M1.667 10h12.667"})))}const ww=o.forwardRef(yw);var bw;function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cw.apply(this,arguments)}function xw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Cw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,bw||(bw=o.createElement("path",{d:"m6.003 1.228 4.049 2.362 4.617-1.924v5.667h-1.333V3.666l-2.667 1.112v2.555H9.336V4.716L6.669 3.16v8.124l1.246.726-.672 1.152-1.29-.753-4.617 1.924V3.95zm-.667 9.994V3.16L2.669 4.716v7.617zm7.858-3.165 2.751 2.751-4.857 4.858H8.336v-2.752zm-.615 2.5.866.867.615-.616-.867-.866zm-.076 1.809-.867-.867-1.967 1.967v.867h.867z"})))}const Iw=o.forwardRef(xw);var jw;function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mw.apply(this,arguments)}function kw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Mw({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,jw||(jw=o.createElement("path",{d:"M9.5 2a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-1 0v-15a.5.5 0 0 1 .5-.5M4 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h4V4zm11 1a1 1 0 0 1 1 1v.5a.5.5 0 0 0 1 0V6a2 2 0 0 0-2-2h-.5a.5.5 0 0 0 0 1zm0 10a1 1 0 0 0 1-1v-.5a.5.5 0 0 1 1 0v.5a2 2 0 0 1-2 2h-.5a.5.5 0 0 1 0-1zm1.5-7a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-.5-.5m-4-4a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1zm.5 11.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .5-.5"})))}const Tw=o.forwardRef(kw);var Ew;function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pw.apply(this,arguments)}function Ow(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Pw({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ew||(Ew=o.createElement("path",{d:"M2.7624 11.8637C3.5599 12.5003 4.73406 12.5003 7.08073 12.5003C7.19124 12.5003 7.29722 12.5442 7.37536 12.6224C7.4535 12.7005 7.4974 12.8065 7.4974 12.917C7.4974 15.2645 7.4974 16.4378 8.13406 17.2353C8.27017 17.4064 8.42406 17.5603 8.59573 17.697C9.39323 18.3337 10.5674 18.3337 12.9141 18.3337C15.2607 18.3337 16.4349 18.3337 17.2324 17.697C17.4031 17.5609 17.5579 17.406 17.6941 17.2353C18.3307 16.4378 18.3307 15.2645 18.3307 12.917C18.3307 10.5703 18.3307 9.39616 17.6941 8.59866C17.5579 8.42798 17.4031 8.27312 17.2324 8.13699C16.4349 7.50033 15.2616 7.50033 12.9141 7.50033C12.8036 7.50033 12.6976 7.45643 12.6194 7.37829C12.5413 7.30015 12.4974 7.19417 12.4974 7.08366C12.4974 4.73699 12.4974 3.56283 11.8607 2.76533C11.7246 2.59464 11.5697 2.43978 11.3991 2.30366C10.6016 1.66699 9.4274 1.66699 7.08073 1.66699C4.73406 1.66699 3.5599 1.66699 2.7624 2.30366C2.59171 2.43978 2.43685 2.59464 2.30073 2.76533C1.66406 3.56283 1.66406 4.73699 1.66406 7.08366C1.66406 9.43033 1.66406 10.6045 2.30073 11.402C2.43684 11.5737 2.59073 11.7275 2.7624 11.8637Z",stroke:"black",strokeMiterlimit:16,strokeLinecap:"round"})))}const _w=o.forwardRef(Ow);var Sw;function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Nw.apply(this,arguments)}function Lw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Nw({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Sw||(Sw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.58 4.168h.363c2.54 0 3.809 0 4.29.456.417.394.602.975.49 1.537-.13.651-1.167 1.384-3.24 2.85l-3.388 2.397c-2.073 1.466-3.11 2.2-3.24 2.85a1.67 1.67 0 0 0 .49 1.537c.481.456 1.751.456 4.29.456h.78M6.664 4.168a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0M18.33 15.835a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"})))}const Dw=o.forwardRef(Lw);var Rw;function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Zw.apply(this,arguments)}function Aw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Zw({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Rw||(Rw=o.createElement("path",{d:"M18.33 16.667a.834.834 0 0 1-.833.833h-15a.833.833 0 0 1-.833-.833V3.333a.833.833 0 0 1 .833-.833h15a.833.833 0 0 1 .834.833zM9.165 12.5H3.331v3.333h5.833zm7.5-3.333h-5.833v6.666h5.833zm-7.5-5H3.331v6.666h5.833zm7.5 0h-5.833V7.5h5.833z"})))}const Fw=o.forwardRef(Aw);var zw;function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bw.apply(this,arguments)}function Vw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Bw({width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,zw||(zw=o.createElement("path",{d:"M9 3.5V2M5.06066 5.06066L4 4M5.06066 13L4 14.0607M13 5.06066L14.0607 4M3.5 9H2M15.8645 16.1896L13.3727 20.817C13.0881 21.3457 12.9457 21.61 12.7745 21.6769C12.6259 21.7349 12.4585 21.7185 12.324 21.6328C12.1689 21.534 12.0806 21.2471 11.9038 20.6733L8.44519 9.44525C8.3008 8.97651 8.2286 8.74213 8.28669 8.58383C8.33729 8.44595 8.44595 8.33729 8.58383 8.2867C8.74213 8.22861 8.9765 8.3008 9.44525 8.44519L20.6732 11.9038C21.247 12.0806 21.5339 12.169 21.6327 12.324C21.7185 12.4586 21.7348 12.6259 21.6768 12.7745C21.61 12.9458 21.3456 13.0881 20.817 13.3728L16.1896 15.8645C16.111 15.9068 16.0717 15.9279 16.0374 15.9551C16.0068 15.9792 15.9792 16.0068 15.9551 16.0374C15.9279 16.0717 15.9068 16.111 15.8645 16.1896Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const Hw=o.forwardRef(Vw);var Ww;function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Uw.apply(this,arguments)}function qw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Uw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,Ww||(Ww=o.createElement("path",{fill:"currentColor",strokeWidth:.25,d:"M7.992.11a.4.4 0 0 0-.383.317l-.26 1.228H4.503a.56.56 0 0 0-.427.198L.133 6.495a.56.56 0 0 0 .427.923l5.576-.004-.495 2.348-3.87.003 1.315-1.55-1.47.002L.133 9.963a.56.56 0 0 0 .427.923l4.845-.003-.096.453a.4.4 0 0 0 .391.482h4.6a.4.4 0 0 0 .391-.482l-.096-.457 4.845-.003a.56.56 0 0 0 .427-.923l-1.481-1.745-1.469.001 1.314 1.548-3.872.002-.495-2.348 5.576-.003a.56.56 0 0 0 .427-.923l-3.933-4.632a.56.56 0 0 0-.426-.198H8.65L8.391.426A.4.4 0 0 0 7.992.11M4.761 2.774h2.353l-.742 3.519-4.601.003zm4.125 0h2.362l2.983 3.513-4.604.004zm5.5 8.888-1.469.001 1.314 1.548-12.46.008 1.315-1.549-1.47.001-1.483 1.746a.56.56 0 0 0 .427.923l14.88-.01a.56.56 0 0 0 .427-.923z"})))}const Gw=o.forwardRef(qw);var $w,Jw,Kw,Yw;function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qw.apply(this,arguments)}function Xw(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",Qw({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 16",stroke:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,$w||($w=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",strokeWidth:.2,d:"M4.033 11.932a6.666 6.666 0 0 1 .173-8.09.667.667 0 1 1 1.042.832 5.333 5.333 0 1 0 5.066-1.931.667.667 0 0 1 .224-1.314 6.666 6.666 0 1 1-6.505 10.503",clipRule:"evenodd"})),Jw||(Jw=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",strokeWidth:.2,d:"M6.208 10.392a4 4 0 0 1 .065-4.868.667.667 0 1 1 1.047.826 2.667 2.667 0 1 0 2.48-.988.667.667 0 0 1 .193-1.32 4 4 0 1 1-3.785 6.352z",clipRule:"evenodd"})),Kw||(Kw=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",strokeWidth:.2,d:"M3.61 2.195a.667.667 0 0 1 .942 0L9.885 7.53a.667.667 0 0 1-.942.942L3.609 3.138a.667.667 0 0 1 0-.943",clipRule:"evenodd"})),Yw||(Yw=o.createElement("path",{fill:"currentColor",strokeWidth:.2,d:"M8.75 8.332a1 1 0 1 1 2 0 1 1 0 0 1-2 0"})))}const eb=o.forwardRef(Xw);var tb,ib;function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},nb.apply(this,arguments)}function ob(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",nb({width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,tb||(tb=o.createElement("g",{clipPath:"url(#clip0_6574_34228)"},o.createElement("path",{d:"M1.33073 8.9987C1.33073 5.3167 4.3154 2.33203 7.9974 2.33203C11.6794 2.33203 14.6641 5.3167 14.6641 8.9987C14.6641 12.6807 11.6794 15.6654 7.9974 15.6654",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M7.32885 2.36719C7.32885 2.36719 5.32885 5.00052 5.32885 9.00052M8.66219 15.6339C8.66219 15.6339 10.6622 13.0005 10.6622 9.00052C10.6622 5.00052 8.66219 2.36719 8.66219 2.36719M14.2422 11.3339H7.99552M14.2422 6.66719H1.74885",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M1.41387 12.9425C1.08454 13.1451 1.1052 13.6378 1.44387 13.6765L3.1552 13.8705L3.92254 15.4118C4.07454 15.7178 4.54454 15.5678 4.62254 15.1891L5.4592 11.1118C5.5252 10.7918 5.2372 10.5905 4.9592 10.7618L1.41387 12.9425Z",stroke:"currentColor"}))),ib||(ib=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_6574_34228"},o.createElement("rect",{width:16,height:16,fill:"white",transform:"matrix(-1 0 0 1 16 1)"})))))}const ab=o.forwardRef(ob);var lb;function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rb.apply(this,arguments)}function sb(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",rb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,lb||(lb=o.createElement("path",{d:"m10 14-4-1.4-3.1 1.2a.6.6 0 0 1-.617-.075.66.66 0 0 1-.283-.558V3.833a.62.62 0 0 1 .125-.383.76.76 0 0 1 .342-.25L6 2l4 1.4 3.1-1.2a.6.6 0 0 1 .617.075q.283.21.283.558v9.334a.62.62 0 0 1-.125.383.75.75 0 0 1-.342.25zm-.667-1.633v-7.8l-2.666-.934v7.8zm1.334 0 2-.667V3.8l-2 .767zM3.333 12.2l2-.767v-7.8l-2 .667z"})))}const db=o.forwardRef(sb);var cb;function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ub.apply(this,arguments)}function pb(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",ub({xmlns:"http://www.w3.org/2000/svg",width:17,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 17",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,cb||(cb=o.createElement("path",{d:"M8 15q2.1 0 3.717-1.275a5.8 5.8 0 0 0 2.1-3.258.5.5 0 0 0-.1-.458.65.65 0 0 0-.45-.242.72.72 0 0 0-.484.1.7.7 0 0 0-.3.4 4.44 4.44 0 0 1-1.65 2.45 4.56 4.56 0 0 1-2.833.95q-1.95 0-3.309-1.358Q3.333 10.95 3.333 9t1.358-3.308Q6.048 4.335 8 4.333a4.5 4.5 0 0 1 2.15.534 4.95 4.95 0 0 1 1.683 1.466h-1.166a.65.65 0 0 0-.476.192A.64.64 0 0 0 10 7a.65.65 0 0 0 .192.475.64.64 0 0 0 .475.192h2.666a.64.64 0 0 0 .475-.192A.65.65 0 0 0 14 7V4.333a.64.64 0 0 0-.192-.474.65.65 0 0 0-.475-.192.64.64 0 0 0-.475.192.64.64 0 0 0-.191.474v.9A5.95 5.95 0 0 0 8 3q-1.25 0-2.342.475a6.1 6.1 0 0 0-1.9 1.283 6.1 6.1 0 0 0-1.283 1.9A5.8 5.8 0 0 0 2 9q0 1.25.475 2.342a6.1 6.1 0 0 0 1.283 1.9q.81.807 1.9 1.283A5.8 5.8 0 0 0 8 15m-.667-6.267L5.667 10.4a.63.63 0 0 0-.184.467q0 .283.184.466a.63.63 0 0 0 .466.184.63.63 0 0 0 .467-.184l1.867-1.866a.67.67 0 0 0 .2-.484v-2.65a.64.64 0 0 0-.192-.474A.65.65 0 0 0 8 5.667a.64.64 0 0 0-.475.192.64.64 0 0 0-.192.474z"})))}const hb=o.forwardRef(pb);var vb;function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gb.apply(this,arguments)}function fb(e,t){let{title:i,titleId:n,...a}=e;return o.createElement("svg",gb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":n},a),i?o.createElement("title",{id:n},i):null,vb||(vb=o.createElement("path",{d:"M6.073 3.63c.399-1.166 2.011-1.201 2.484-.105l.04.106.538 1.574a2.67 2.67 0 0 0 1.517 1.607l.145.054 1.573.537c1.167.399 1.202 2.011.107 2.484l-.107.04-1.573.538a2.67 2.67 0 0 0-1.608 1.517l-.054.144-.538 1.574c-.398 1.167-2.01 1.202-2.482.107l-.042-.107-.537-1.573a2.67 2.67 0 0 0-1.517-1.608l-.144-.054L2.3 9.927c-1.166-.397-1.2-2.01-.105-2.482l.106-.042 1.574-.537a2.67 2.67 0 0 0 1.607-1.517l.054-.144zm1.262.431-.537 1.574a4 4 0 0 1-2.327 2.432l-.166.061-1.574.537 1.574.538a4 4 0 0 1 2.432 2.326l.061.167.537 1.573.538-1.573a4 4 0 0 1 2.326-2.433l.167-.06 1.573-.538-1.573-.537a4 4 0 0 1-2.433-2.327l-.06-.166zm5.334-2.729a.67.67 0 0 1 .598.373l.032.078.234.684.684.234a.667.667 0 0 1 .079 1.23l-.079.032-.684.233-.233.685a.667.667 0 0 1-1.23.078l-.032-.078-.233-.684-.685-.234a.667.667 0 0 1-.079-1.23l.079-.032.684-.233.233-.685a.67.67 0 0 1 .632-.451"})))}const mb=o.forwardRef(fb),yb="icon_icon__wTqY+",wb="icon_rotate__EXHkI";var bb=i(94553);const Cb={map:(0,bb.jsx)(s,{}),undo:(0,bb.jsx)(p,{}),redo:(0,bb.jsx)(f,{}),filter:(0,bb.jsx)(b,{}),grouping:(0,bb.jsx)(j,{}),sorting:(0,bb.jsx)(E,{}),search:(0,bb.jsx)(S,{}),settings:(0,bb.jsx)(Z,{}),export:(0,bb.jsx)(B,{}),share:(0,bb.jsx)(U,{}),arrowExpand:(0,bb.jsx)(J,{}),projectList:(0,bb.jsx)(X,{}),recycleBin:(0,bb.jsx)(ne,{}),help:(0,bb.jsx)(ue,{}),notification:(0,bb.jsx)(re,{}),table:(0,bb.jsx)(ge,{}),arrowRight2:(0,bb.jsx)(we,{}),arrowRight3:(0,bb.jsx)(je,{}),arrowRight4:(0,bb.jsx)(Pe,{}),arrowRight5:(0,bb.jsx)(Ne,{}),arrowLeft:(0,bb.jsx)(Ze,{}),arrowLeft3:(0,bb.jsx)(Ve,{}),arrowLeft4:(0,bb.jsx)(Ge,{}),folder:(0,bb.jsx)(Ye,{}),folderSingle:(0,bb.jsx)(it,{}),layer:(0,bb.jsx)(lt,{}),more:(0,bb.jsx)(pt,{}),plus:(0,bb.jsx)(mt,{}),caretBottom:(0,bb.jsx)(Ct,{}),visible:(0,bb.jsx)(Mt,{}),invisible:(0,bb.jsx)(Pt,{}),close:(0,bb.jsx)(Nt,{}),closeFilled:(0,bb.jsx)(Zt,{}),filledStar:(0,bb.jsx)(Ut,{}),star:(0,bb.jsx)(Bt,{}),point:(0,bb.jsx)(Jt,{}),line:(0,bb.jsx)(Xt,{}),polygon:(0,bb.jsx)(ni,{}),datetime:(0,bb.jsx)(_i,{}),createTime:(0,bb.jsx)(Di,{}),updateTime:(0,bb.jsx)(Fi,{}),multiLineText:(0,bb.jsx)(ui,{}),coordinate:(0,bb.jsx)(gi,{}),number:(0,bb.jsx)(wi,{}),singleChoice:(0,bb.jsx)(Ii,{}),multiChoice:(0,bb.jsx)(Ti,{}),attachment:(0,bb.jsx)(Hi,{}),formula:(0,bb.jsx)(Gi,{}),doc:(0,bb.jsx)(tn,{}),xls:(0,bb.jsx)(pn,{}),zip:(0,bb.jsx)(wn,{}),download:(0,bb.jsx)(In,{}),edit:(0,bb.jsx)(Tn,{}),mark:(0,bb.jsx)(_n,{}),info:(0,bb.jsx)(Dn,{}),movable:(0,bb.jsx)(Fn,{}),config:(0,bb.jsx)(Hn,{}),expandArrow:(0,bb.jsx)(Gn,{}),mapPin:(0,bb.jsx)(Yn,{}),mapCenter:(0,bb.jsx)(to,{}),batch:(0,bb.jsx)(ao,{}),operationSaving:(0,bb.jsx)(co,{}),networkBroken:(0,bb.jsx)(vo,{}),networkConnected:(0,bb.jsx)(yo,{}),networkConnecting:(0,bb.jsx)(Po,{}),members:(0,bb.jsx)(No,{}),inviteMember:(0,bb.jsx)(Zo,{}),plainPlus:(0,bb.jsx)(Bo,{}),union:(0,bb.jsx)(Uo,{}),chart:(0,bb.jsx)(Jo,{}),columnChart:(0,bb.jsx)(Xo,{}),scatterChart:(0,bb.jsx)(fa,{}),pieChart:(0,bb.jsx)(na,{}),lineChart:(0,bb.jsx)(ra,{}),stackedChart:(0,bb.jsx)(Ca,{}),barChart:(0,bb.jsx)(Ma,{}),comboChart:(0,bb.jsx)(Pa,{}),shrink:(0,bb.jsx)(Na,{}),checkbox:(0,bb.jsx)(Za,{}),boolean:(0,bb.jsx)(Za,{}),snapshot:(0,bb.jsx)(Ba,{}),apps:(0,bb.jsx)(Ua,{}),data:(0,bb.jsx)(Ja,{}),setting:(0,bb.jsx)(Xa,{}),earth:(0,bb.jsx)(nl,{}),compass:(0,bb.jsx)(rl,{}),treasureMap:(0,bb.jsx)(ul,{}),pushpin:(0,bb.jsx)(gl,{}),pinDistance:(0,bb.jsx)(wl,{}),shoppingBag3:(0,bb.jsx)(Il,{}),thumbUp:(0,bb.jsx)(Tl,{}),moneyDollarCircle:(0,bb.jsx)(_l,{}),moneyCNYCircle:(0,bb.jsx)(Dl,{}),swap:(0,bb.jsx)(dr,{}),lightbulbFlash:(0,bb.jsx)(Fl,{}),seeding:(0,bb.jsx)(Hl,{}),numbers:(0,bb.jsx)(Gl,{}),fileText:(0,bb.jsx)(Yl,{}),fileTextReverse:(0,bb.jsx)(tr,{}),todo:(0,bb.jsx)(ar,{}),menuCsv:(0,bb.jsx)(hr,{}),menuSync:(0,bb.jsx)(mr,{}),menuFolder:(0,bb.jsx)(Cr,{}),menuExcel:(0,bb.jsx)(Mr,{}),menuGeoJson:(0,bb.jsx)(Pr,{}),menuPaste:(0,bb.jsx)(Lr,{}),menuTable:(0,bb.jsx)(Ar,{}),warning:(0,bb.jsx)(Vr,{}),warning2:(0,bb.jsx)(qr,{}),tableSubscribed:(0,bb.jsx)(Yr,{}),tablePublished:(0,bb.jsx)(is,{}),tableSyncFail:(0,bb.jsx)(rs,{}),bigTable:(0,bb.jsx)(us,{}),bigTablePublished:(0,bb.jsx)(Is,{}),bigTableSubscribed:(0,bb.jsx)(ms,{}),ellipse:(0,bb.jsx)(Ts,{}),userGroup:(0,bb.jsx)(_s,{}),checked:(0,bb.jsx)(Rs,{}),user:(0,bb.jsx)(Bs,{}),alert:(0,bb.jsx)(Us,{}),dataList:(0,bb.jsx)(Js,{}),subscribe:(0,bb.jsx)(Xs,{}),publish:(0,bb.jsx)(nd,{}),succeeded:(0,bb.jsx)(rd,{}),sync:(0,bb.jsx)(ud,{}),form:(0,bb.jsx)(gd,{}),personal:(0,bb.jsx)(wd,{}),lock:(0,bb.jsx)(Id,{}),menu:(0,bb.jsx)(Td,{}),wechat:(0,bb.jsx)(_d,{}),timeline:(0,bb.jsx)(Dd,{}),timelinePause:(0,bb.jsx)(Fd,{}),timelinePlay:(0,bb.jsx)(Hd,{}),timelineRange:(0,bb.jsx)(Gd,{}),timelineReset:(0,bb.jsx)(Yd,{}),timelineSpeed:(0,bb.jsx)(tc,{}),description:(0,bb.jsx)(ac,{}),infoReverse:(0,bb.jsx)(dc,{}),"3d":(0,bb.jsx)(hc,{}),logo:(0,bb.jsx)(mc,{}),creator:(0,bb.jsx)(Cc,{}),updater:(0,bb.jsx)(Mc,{}),dashboard:(0,bb.jsx)(Pc,{}),fullscreen:(0,bb.jsx)(Nc,{}),download2:(0,bb.jsx)(Zc,{}),groupExpand:(0,bb.jsx)(Bc,{}),groupCollapse:(0,bb.jsx)(Uc,{}),question:(0,bb.jsx)(Jc,{}),rowHeightLow:(0,bb.jsx)(Xc,{}),rowHeightMiddle:(0,bb.jsx)(nu,{}),rowHeightHigh:(0,bb.jsx)(ru,{}),member:(0,bb.jsx)(uu,{}),hyperlink:(0,bb.jsx)(gu,{}),related:(0,bb.jsx)(Mu,{}),relatedFrom:(0,bb.jsx)(Pu,{className:wb}),relatedTo:(0,bb.jsx)(Pu,{}),annotation:(0,bb.jsx)(bu,{}),annotationFreeline:(0,bb.jsx)(Nu,{}),annotationLine:(0,bb.jsx)(Bu,{}),annotationMarker:(0,bb.jsx)(Zu,{}),annotationRectangle:(0,bb.jsx)(Uu,{}),annotationSticker:(0,bb.jsx)(Ju,{}),annotationText:(0,bb.jsx)(Xu,{}),annotationCircle:(0,bb.jsx)(np,{}),annotationForward:(0,bb.jsx)(rp,{}),lookup:(0,bb.jsx)(pp,{}),annotationPolygon:(0,bb.jsx)(fp,{}),cursor:(0,bb.jsx)(bp,{}),arrowDown:(0,bb.jsx)(jp,{}),warningPoint:(0,bb.jsx)(Ep,{}),loading:(0,bb.jsx)(Sp,{}),upload:(0,bb.jsx)(Qp,{}),circle:(0,bb.jsx)(ri,{}),eraser:(0,bb.jsx)(zp,{}),editVertex:(0,bb.jsx)(Rp,{}),scissors:(0,bb.jsx)($p,{}),move:(0,bb.jsx)(Wp,{}),arrow:(0,bb.jsx)(nh,{}),location:(0,bb.jsx)(rh,{}),chat:(0,bb.jsx)(uh,{}),focus:(0,bb.jsx)(mh,{}),focusReverse:(0,bb.jsx)(Ih,{}),noImage:(0,bb.jsx)(Th,{}),distance:(0,bb.jsx)(_h,{}),maptable:(0,bb.jsx)(Dh,{}),maptableLogo:(0,bb.jsx)(Fh,{}),embedNotFound:(0,bb.jsx)(qh,{}),iconLayerIconLocation:(0,bb.jsx)(Yh,{}),iconLayerIconCircle:(0,bb.jsx)(iv,{}),iconLayerIconSquare:(0,bb.jsx)(lv,{}),iconLayerIconDiamond:(0,bb.jsx)(cv,{}),iconLayerIconTriangle:(0,bb.jsx)(vv,{}),iconLayerIconCross:(0,bb.jsx)(yv,{}),iconLayerIconPlus:(0,bb.jsx)(xv,{}),iconLayerIconFlag:(0,bb.jsx)(kv,{}),iconLayerIconStar:(0,bb.jsx)(Ov,{}),iconLayerIconLove:(0,bb.jsx)(Lv,{}),delete:(0,bb.jsx)(Av,{}),questionMark:(0,bb.jsx)(Vv,{}),cardView:(0,bb.jsx)(Gv,{}),listView:(0,bb.jsx)(Yv,{}),groupFill:(0,bb.jsx)(ig,{}),lockFill:(0,bb.jsx)(rg,{}),userFill:(0,bb.jsx)(pg,{}),dualView:(0,bb.jsx)(fg,{}),splitView:(0,bb.jsx)(Cg,{}),document:(0,bb.jsx)(kg,{}),region:(0,bb.jsx)(_g,{}),building:(0,bb.jsx)(Dg,{}),giftFill:(0,bb.jsx)(Jg,{}),email:(0,bb.jsx)(Xg,{}),picture:(0,bb.jsx)(of,{}),alignLeft:(0,bb.jsx)(sf,{}),star2:(0,bb.jsx)(pf,{}),container:(0,bb.jsx)(ff,{}),file:(0,bb.jsx)(bf,{}),fileCheck:(0,bb.jsx)(jf,{}),message:(0,bb.jsx)(Ef,{}),doubleArrowLeft:(0,bb.jsx)(Sf,{}),doubleArrowRight:(0,bb.jsx)(Rf,{}),folderClosed:(0,bb.jsx)(zf,{}),allApp:(0,bb.jsx)(Wf,{}),geocoding:(0,bb.jsx)($f,{}),boundary:(0,bb.jsx)(Qf,{}),direction:(0,bb.jsx)(im,{}),analysis:(0,bb.jsx)(lm,{}),isochrone:(0,bb.jsx)(cm,{}),enrichment:(0,bb.jsx)(vm,{}),aggregate:(0,bb.jsx)(ym,{}),mapFilter:(0,bb.jsx)(xm,{}),remove:(0,bb.jsx)(km,{}),right:(0,bb.jsx)(Om,{}),sortTable:(0,bb.jsx)(Lm,{}),sortList:(0,bb.jsx)(Am,{}),settings2:(0,bb.jsx)(Vm,{}),share2:(0,bb.jsx)(qm,{}),arrowUp2:(0,bb.jsx)(Km,{}),arrowDown2:(0,bb.jsx)(ey,{}),collapse:(0,bb.jsx)(oy,{}),expand:(0,bb.jsx)(sy,{}),tableView:(0,bb.jsx)(py,{}),formView:(0,bb.jsx)(fy,{}),check:(0,bb.jsx)(by,{}),minimize:(0,bb.jsx)(jy,{}),statistics:(0,bb.jsx)(Ey,{}),toolboxes:(0,bb.jsx)(Sy,{}),templates:(0,bb.jsx)(Wg,{}),template:(0,bb.jsx)(Fg,{}),copy:(0,bb.jsx)(Ry,{}),guaranteed:(0,bb.jsx)(By,{}),palette:(0,bb.jsx)(qy,{}),label:(0,bb.jsx)(Ky,{}),labelOff:(0,bb.jsx)(iw,{}),navigate:(0,bb.jsx)(rw,{}),pentagon:(0,bb.jsx)(uw,{}),gridDots:(0,bb.jsx)(gw,{}),globe:(0,bb.jsx)(ww,{}),layerEdit:(0,bb.jsx)(Iw,{}),split:(0,bb.jsx)(Tw,{}),merge:(0,bb.jsx)(_w,{}),route:(0,bb.jsx)(Dw,{}),adminBoundary:(0,bb.jsx)(Fw,{}),cursorClick:(0,bb.jsx)(Hw,{}),vectorTile:(0,bb.jsx)(Gw,{}),proximityAnalysis:(0,bb.jsx)(eb,{}),global:(0,bb.jsx)(ab,{}),map1:(0,bb.jsx)(db,{}),history:(0,bb.jsx)(hb,{}),ai:(0,bb.jsx)(mb,{})},xb=(0,o.forwardRef)(((e,t)=>{let{type:i,className:n,style:o={},cursor:l,onClick:r,...s}=e;return(0,bb.jsx)("i",{...s,className:(0,a.default)(yb,n),style:{cursor:l,...o},onClick:r,"aria-label":i,ref:t,children:Cb[i]})})),Ib=xb},82845:(e,t,i)=>{"use strict";i.d(t,{q:()=>G});var n=i(57323),o=i.n(n),a=i(74720),l=i.n(a),r=i(2550),s=i(15972),d=i.n(s),c=i(17646),u=i.n(c),p=i(7070),h=i.n(p),v=i(33324),g=i.n(v),f=i(43614),m=i.n(f),y=i(19087),w=i.n(y),b=i(78587),C=i.n(b),x=i(87797);const I=[x.nn.AmapDark,x.nn.AmapDarkBlue,x.nn.AmapSatellite,x.nB.GoogleMapDark,x.nB.GoogleMapNight,x.R6.MapboxDark,x.R6.MapboxSatellite];var j=i(602),M=i(468),k=i.n(M),T=i(56356),E=i.n(T),P=i(99661),O=i(61469);class _{constructor(){o()(this,"drawMode","Point"),o()(this,"isEditing",!1),o()(this,"geometry",null),o()(this,"drawOptions",{color:"#3384FF",lineWidth:2,fontSize:P.Kt[1]}),o()(this,"minTargetZoom",4),o()(this,"maxTargetZoom",20)}getId(){var e;return null===(e=this.geometry)||void 0===e?void 0:e.getId()}convertDrawOptionsToSymbol(e){return{}}startEdit(e){this.isEditing=!0,this.geometry=e.target}stopEdit(){var e;null===(e=this.geometry)||void 0===e||e.endEdit(),this.isEditing=!1,this.geometry=null}getData(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.geometry;if(!t)return;const i=null!==(e=null===t||void 0===t?void 0:t.getProperties())&&void 0!==e?e:{};return{id:this.getId(),properties:i}}update(e){if(!this.geometry)return;const t=this.geometry.getProperties(),i=this.convertDrawOptionsToSymbol(e);this.geometry.setSymbol(i),this.geometry.setProperties({...t,...e});const n=this.getData(this.geometry);return n&&this.geometry.setProperties(n.properties),n}updateGeometry(e){this.geometry=e}remove(){setTimeout((()=>{var e;null===(e=this.geometry)||void 0===e||e.remove(),this.geometry=null}))}destroy(){this.remove()}}const S="    ";class N extends _{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),o()(this,"drawMode","Point"),o()(this,"type","marker"),o()(this,"geometry",null),o()(this,"map",null),o()(this,"drawTool",null),o()(this,"element",null),o()(this,"darkTheme",!1),this.map=i,this.drawTool=e,this.layer=t,this.drawOptions=d()({},this.drawOptions,n),this.darkTheme=a}createEditorElement(e,t){if(this.map){var i;const n=this.map.getContainer(),o=document.createElement("div"),a=document.createElement("input");a.placeholder=null!==(i=null===O.N||void 0===O.N?void 0:O.N.$t({id:"mOeXU5",defaultMessage:"Enter Text"}))&&void 0!==i?i:"",a.className="mt-input",a.style.color=this.darkTheme?"#fff":"#091e42",o.appendChild(a),o.className="markerLabelEditor";let l=e.y,r=e.x;l<20?l=Math.max(e.y,20):l>n.clientHeight-20&&(l=Math.min(e.y,n.clientHeight-20)),r<100?r=e.x:r>n.clientWidth-220&&(r=e.x-220),o.style.cssText="top: ".concat(l,"px; left: ").concat(r+110,"px;"),this.isEditing||(a.onblur=e=>{setTimeout((()=>{this.endDraw()}),100)}),a.onkeydown=e=>{"Enter"===e.key&&(a.onblur=null,this.endDraw()),"Escape"===e.key&&(a.onblur=null,this.stopEdit())},n.appendChild(o),this.element=o,t&&(a.value=t),setTimeout((()=>{var e,t;a.focus(),null===(e=this.map)||void 0===e||e.on("click",this.endDraw,this),null===(t=this.drawTool)||void 0===t||t.disable()}))}}convertDrawOptionsToSymbol(e){const{color:t}=e;return{markerType:"ellipse",markerFillOpacity:.8,markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14,markerLineColor:"#ffffff",markerFill:null!==t&&void 0!==t?t:this.drawOptions.color,textSymbol:{textFaceName:"Arial",textHorizontalAlignment:"right",textFill:this.darkTheme?"#fff":"#091e42",textSize:16,textHaloFill:this.darkTheme?"#091e42":"#fff",textHaloRadius:2},boxStyle:{symbol:{markerFill:"transparent",markerLineColor:"transparent",markerLineWidth:0}}}}onDragEnd(e){setTimeout((()=>{this.endDraw()}))}startEdit(e){var t;const i=e.target,n=i.getGeometries()[0],o=i.getGeometries()[1],a=null===(t=this.map)||void 0===t?void 0:t.coordinateToContainerPoint(n.getCoordinates());return this.isEditing=!0,i.on("dragend",this.onDragEnd,this),i.startEdit({fixAspectRatio:!0,vertexHandleSymbol:P.NY}),a&&this.createEditorElement(a,E()(o.getContent())),this.geometry=i,this}stopEdit(){var e,t,i,n,o;(null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),null===(t=this.geometry)||void 0===t||t.endEdit(),null===(i=this.geometry)||void 0===i||i.off("dragend",this.onDragEnd,this),this.isEditing)||(null===(n=this.geometry)||void 0===n||n.remove(),null===(o=this.drawTool)||void 0===o||o.enable());this.removeElement(),this.isEditing=!1,this.geometry=null}endDraw(){if(this.geometry&&this.map&&this.element){var e,t,i;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this);const o=E()(null===(t=this.element.querySelector("input"))||void 0===t?void 0:t.value);if(!o)return this.remove(),void setTimeout((()=>{var e,t;null===(e=this.drawTool)||void 0===e||e.endDraw(),null===(t=this.drawTool)||void 0===t||t.enable()}));const a=this.geometry.getGeometries()[0],l=this.geometry.getProperties(),r=this.geometry.getId(),s=this.geometry.getZIndex();this.removeElement(),this.geometry.remove();const d=this.createGeometry({id:r,properties:{...l,content:o,zIndex:s},geometry:a.toGeoJSONGeometry()});var n;if(d&&(this.geometry=d),null===(i=this.drawTool)||void 0===i||i.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!1}),!this.isEditing)null===(n=this.drawTool)||void 0===n||n.enable()}this.isEditing=!1}getCoordinates(e,t){const i=t.getBoundingClientRect(),n=new r.E9(i.left+105,i.top-70);return e.containerPointToCoordinate(n)}createGeometry(e,t){const{properties:i,geometry:n,id:o}=e,{coordinates:a}=n,l=d()({},this.drawOptions,i),s=this.convertDrawOptionsToSymbol(l),c=new r.Jx(a,{id:"".concat(o,"-marker"),symbol:k()(s,["textSymbol","boxStyle"])}).setProperties(i),u=new r.__("".concat(S).concat(i.content),a,{id:"".concat(o,"-label"),editable:!1,textSymbol:s.textSymbol,boxStyle:s.boxStyle}).setProperties(i),p=new r.JH([c,u],{id:o,zIndex:i.zIndex}).setProperties(i);return Object.assign(p,{_annotation:this}),this.geometry=p,t?(this.createEditorElement(t),void this.layer.addGeometry(this.geometry)):p}update(e){if(!this.geometry)return;const t=this.geometry.getProperties();this.geometry.setProperties({...t,...e});const i=this.getData(this.geometry);i&&this.geometry.setProperties(i.properties);const n=this.geometry.getGeometries()[0];return n.startEdit({fixAspectRatio:!0,vertexHandleSymbol:P.NY,symbol:{...n.getSymbol(),markerFill:e.color}}),i}updateGeometry(e){this.geometry=e,this.layer.addGeometry(this.geometry)}removeElement(){var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null}remove(){setTimeout((()=>{var e,t;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),null===(t=this.geometry)||void 0===t||t.remove(),this.geometry=null}))}getData(e){var t;const i=null!==e&&void 0!==e?e:this.geometry;if(!i)return;const n=i instanceof r.JH,o=null===i||void 0===i?void 0:i.getZIndex(),a=null===i||void 0===i?void 0:i.getId(),l=null!==(t=null===i||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},{color:s=this.drawOptions.color}=l;let d=S,c=null===i||void 0===i?void 0:i.toGeoJSONGeometry();if(n){const e=i.getGeometries(),t=e[0],n=e[1];d=E()(n.getContent()),c=t.toGeoJSONGeometry()}return{id:a,properties:{type:this.type,zIndex:o,color:s,content:d,height:0,width:0,radius:0,lineWidth:0},geometry:c}}}class L extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","LineString"),o()(this,"type","line"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t,lineWidth:i}=e;return{lineOpacity:1,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color,lineWidth:null!==i&&void 0!==i?i:this.drawOptions.lineWidth}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:i,id:n}=e,{coordinates:o}=i,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.Yp(o,{id:n,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const i=null!==e&&void 0!==e?e:this.geometry;if(!i)return;const n=null===i||void 0===i?void 0:i.getZIndex(),o=null===i||void 0===i?void 0:i.getId(),a=null!==(t=null===i||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color,lineWidth:r=this.drawOptions.lineWidth}=a;return{id:o,properties:{type:this.type,zIndex:n,color:l,lineWidth:r,height:0,width:0,content:"",radius:0},geometry:null===i||void 0===i?void 0:i.toGeoJSONGeometry()}}}class D extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","FreeHandLineString"),o()(this,"type","freeline"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t,lineWidth:i}=e;return{lineOpacity:1,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color,lineWidth:null!==i&&void 0!==i?i:this.drawOptions.lineWidth}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:i,id:n}=e,{coordinates:o}=i,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.Yp(o,{id:n,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const i=null!==e&&void 0!==e?e:this.geometry;if(!i)return;const n=null===i||void 0===i?void 0:i.getZIndex(),o=null===i||void 0===i?void 0:i.getId(),a=null!==(t=null===i||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color,lineWidth:r=this.drawOptions.lineWidth}=a;return{id:o,properties:{type:this.type,zIndex:n,color:l,lineWidth:r,height:0,width:0,content:"",radius:0},geometry:null===i||void 0===i?void 0:i.toGeoJSONGeometry()}}}var R=i(64505);class Z extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","Rectangle"),o()(this,"type","rectangle"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t}=e;return{lineWidth:2,lineOpacity:1,polygonOpacity:.2,polygonFill:null!==t&&void 0!==t?t:this.drawOptions.color,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color}}startEdit(e){const{target:t}=e;return t.startEdit({fixAspectRatio:!0,vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:i,id:n}=e,{coordinates:o}=i,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s="Polygon"===i.type?new r.mg(o,{id:n,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t):new r.Ae(o,t.width,t.height,{id:n,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const i=null!==e&&void 0!==e?e:this.geometry;if(!i)return;const n=null===i||void 0===i?void 0:i.getZIndex(),o=null===i||void 0===i?void 0:i.getId(),a=null!==(t=null===i||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color}=a,r=null===i||void 0===i?void 0:i.getShell(),s=r[0],d=r[1],c=r[3],u=(0,R.Z)([s.x,s.y],[d.x,d.y],{units:"meters"}),p=(0,R.Z)([s.x,s.y],[c.x,c.y],{units:"meters"});return{id:o,properties:{type:this.type,zIndex:n,color:l,height:p,width:u,content:"",radius:0,lineWidth:0},geometry:{type:"Point",coordinates:s.toArray()}}}}class A extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","Circle"),o()(this,"type","circle"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{color:i}=e;return{lineWidth:2,lineOpacity:1,markerFillOpacity:.8,markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14,markerType:t?"ellipse":null,markerLineColor:null!==i&&void 0!==i?i:this.drawOptions.color,markerFill:null!==i&&void 0!==i?i:this.drawOptions.color,lineColor:null!==i&&void 0!==i?i:this.drawOptions.color,polygonFill:null!==i&&void 0!==i?i:this.drawOptions.color,polygonOpacity:.2}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:i,id:n}=e,{coordinates:o}=i,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.Cd(o,t.radius,{id:n,symbol:l,zIndex:t.zIndex}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const i=null!==e&&void 0!==e?e:this.geometry;if(!i)return;const n=null===i||void 0===i?void 0:i.getZIndex(),o=null===i||void 0===i?void 0:i.getId(),a=null!==(t=null===i||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},l=i instanceof r.Cd?i.getRadius():0,{color:s=this.drawOptions.color}=a;return{id:o,type:"Feature",properties:{type:this.type,zIndex:n,radius:l,color:s,height:0,width:0,content:"",lineWidth:0},geometry:{type:"Point",coordinates:null===i||void 0===i?void 0:i.getCenter().toArray()}}}}function F(e,t,i){let n=0,o=0,a=0,l=0;function r(t){(t=t||window.event).preventDefault(),n=a-t.clientX,o=l-t.clientY,a=t.clientX,l=t.clientY;let i=e.offsetTop-o,r=e.offsetLeft-n;const s=e.clientWidth/2,d=e.clientHeight/2;r<=s&&(r=s),r>=window.innerWidth-s&&(r=window.innerWidth-s),i<=d&&(i=d),i>=window.innerHeight-90-d&&(i=window.innerHeight-90-d),e.style.top=i+"px",e.style.left=r+"px"}function s(){null===i||void 0===i||i(),document.onmouseup=null,document.onmousemove=null}t.onmousedown=function(e){(e=e||window.event).preventDefault(),a=e.clientX,l=e.clientY,document.onmouseup=s,document.onmousemove=r}}class z extends _{calculateTextSizeStops(e,t,i){const n=null===e||void 0===e?void 0:e.getResolution(i),o=null===e||void 0===e?void 0:e.getResolution(this.minTargetZoom),a=null===e||void 0===e?void 0:e.getResolution(this.maxTargetZoom);return[[this.minTargetZoom,t*n/o],[this.maxTargetZoom,t*n/a]]}constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),o()(this,"drawMode","Text"),o()(this,"type","text"),o()(this,"drawTool",null),o()(this,"element",null),o()(this,"map",null),o()(this,"isEditing",!1),o()(this,"geometry",null),o()(this,"stops",[]),o()(this,"threshholdZoom",13),o()(this,"minTargetZoom",4),o()(this,"maxTargetZoom",20),r.nh.registerMode("Text",{clickLimit:1,action:["click"],create:this.create.bind(this),update:()=>{},generate:this.generate.bind(this)}),this.drawTool=e,this.map=i,this.layer=t,this.drawOptions=d()({},this.drawOptions,n)}createEditorElement(e,t,i){if(this.map){var n;const o=this.map.getContainer(),a=document.createElement("div"),l=document.createElement("input"),r=document.createElement("div");r.className="geometryEditorHandler",l.placeholder=null!==(n=null===O.N||void 0===O.N?void 0:O.N.$t({id:"mOeXU5",defaultMessage:"Enter Text"}))&&void 0!==n?n:"",l.className="mt-input",l.style.color=this.drawOptions.color,l.style.textAlign="center",a.appendChild(l),t&&(a.appendChild(r),l.style.width=t.length*(i||24)+"px"),a.className="labelEditor";let s=e.y,d=e.x;s<20?s=Math.max(e.y,20):s>o.clientHeight-20&&(s=Math.min(e.y,o.clientHeight-20)),d<100?d=Math.max(e.x,100):d>o.clientWidth-100&&(d=Math.min(e.x,o.clientWidth-100)),a.style.cssText="top: ".concat(s,"px; left: ").concat(d,"px;"),this.isEditing||(l.onblur=e=>{setTimeout((()=>{this.endDraw()}),100)}),l.onkeydown=e=>{"Enter"===e.key&&(l.onblur=null,this.endDraw()),"Escape"===e.key&&(l.onblur=null,this.stopEdit())},F(a,r,(()=>{this.endMove()})),o.appendChild(a),this.element=a,t&&(l.value=t),l.style.fontSize="".concat(i,"px"),setTimeout((()=>{var e;l.focus(),null===(e=this.map)||void 0===e||e.on("click",this.endDraw,this)}))}}create(e,t,i){const{containerPoint:n}=i,o=e.unproject(t[0]),a=new r.__("",o);return this.createEditorElement(n,"",this.drawOptions.fontSize),a._setPrjCoordinates(t[0]),this.geometry=a,this.geometry.hide(),a}convertDrawOptionsToSymbol(e){const{color:t,fontSize:i=P.Kt[1]}=e,n=e.zoomLevel,o=this.calculateTextSizeStops(this.map,i,n);return this.stops=o,{textSymbol:{textFaceName:"Arial",textFill:null!==t&&void 0!==t?t:this.drawOptions.color,textSize:{base:2,stops:o}},boxStyle:{padding:[0,0],symbol:{markerLineColor:"transparent",markerFill:"transparent",markerLineWidth:0}}}}endDraw(){if(this.geometry&&this.map&&this.element){var e,t,i;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this);const n=E()(null===(t=this.element.querySelector("input"))||void 0===t?void 0:t.value);if(!n)return this.removeElement(),void setTimeout((()=>{var e;null===(e=this.drawTool)||void 0===e||e.endDraw()}));const o=this.geometry.getCoordinates(),a=this.geometry.getProperties(),l=this.geometry.getId(),r=this.geometry.getZIndex(),s=Math.round(this.isEditing?a.zoomLevel:this.map.getZoom());this.removeElement(),this.geometry.remove(),this.geometry=this.createGeometry({id:l,type:"Feature",properties:{...a,content:n,zIndex:r,zoomLevel:s},geometry:{type:"Point",coordinates:o}}),null===(i=this.drawTool)||void 0===i||i.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!1})}this.isEditing=!1}endMove(){if(this.geometry&&this.element&&this.map){var e,t;const i=E()(null===(e=this.element.querySelector("input"))||void 0===e?void 0:e.value),n=this.getCoordinates(this.map,this.element),o=this.geometry.getProperties(),a=this.getId(),l=this.geometry.getZIndex();this.geometry.remove(),this.geometry=this.createGeometry({id:a,type:"Feature",properties:{...o,content:i,zIndex:l},geometry:{type:"Point",coordinates:n}}),this.geometry.hide(),null===(t=this.drawTool)||void 0===t||t.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!0})}}createGeometry(e){const{properties:t,geometry:i,id:n}=e,{coordinates:o}=i,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.__(t.content||(null===O.N||void 0===O.N?void 0:O.N.$t({id:"QFdM/z",defaultMessage:"Empty text"}))||"",o,{id:n,textSymbol:l.textSymbol,zIndex:t.zIndex}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getCoordinates(e,t){const i=t.getBoundingClientRect(),n=new r.E9(i.left+100,i.top-68);return e.containerPointToCoordinate(n)}removeElement(){try{var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null}catch{}}generate(e){return e}update(e){var t,i;if(!this.geometry)return;const n=this.geometry.getProperties(),o=this.convertDrawOptionsToSymbol(e);this.geometry.setTextSymbol(o.textSymbol),this.geometry.setProperties({...n,...e,zoomLevel:e.fontSize?Math.round(null!==(t=null===(i=this.map)||void 0===i?void 0:i.getZoom())&&void 0!==t?t:this.threshholdZoom):n.zoomLevel});const a=this.getData(this.geometry);return a&&this.geometry.setProperties(a.properties),a}updateGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.geometry=e,t?this.geometry.hide():this.geometry.show(),this.layer.addGeometry(e)}startEdit(e){var t,i;const{target:n,containerPoint:o}=e;this.geometry=n,this.geometry.hide(),this.isEditing=!0;const a=null!==(t=null===(i=this.map)||void 0===i?void 0:i.coordinateToContainerPoint(this.geometry.getCenter()))&&void 0!==t?t:o,l=this.geometry._getCompiledSymbol().textSize;this.createEditorElement(a,this.geometry.getContent(),l)}stopEdit(){var e,t,i,n;null===(e=this.drawTool)||void 0===e||e.endDraw(),null===(t=this.drawTool)||void 0===t||t.fire("editend",{target:this.geometry}),null===(i=this.map)||void 0===i||i.off("click",this.endDraw,this),null===(n=this.geometry)||void 0===n||n.show(),this.removeElement(),this.isEditing=!1,this.geometry=null}remove(){var e,t;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),null===(t=this.geometry)||void 0===t||t.remove(),this.geometry=null}getData(e){var t,i,n,o,a;const l=null!==e&&void 0!==e?e:this.geometry;if(!l)return;const r=null!==(t=null===l||void 0===l?void 0:l.getContent())&&void 0!==t?t:"",s=null===l||void 0===l?void 0:l.getZIndex(),d=null===l||void 0===l?void 0:l.getId(),c=null!==(i=null===l||void 0===l?void 0:l.getProperties())&&void 0!==i?i:{},{type:u=this.type,color:p=this.drawOptions.color,fontSize:h=this.drawOptions.fontSize}=c;return{id:d,properties:{type:u,height:0,width:0,content:r,radius:0,zIndex:s,fontSize:h,color:p,zoomLevel:Math.round(this.isEditing?null!==(n=c.zoomLevel)&&void 0!==n?n:this.threshholdZoom:null!==(o=null===(a=this.map)||void 0===a?void 0:a.getZoom())&&void 0!==o?o:this.threshholdZoom),lineWidth:0},geometry:null===l||void 0===l?void 0:l.toGeoJSONGeometry()}}destroy(){var e;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),this.geometry=null,this.drawTool=null,this.map=null,this.isEditing=!1}}var B=i(34362),V=i.n(B);const H=[];class W extends _{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),o()(this,"drawMode","Sticker"),o()(this,"type","sticker"),o()(this,"drawTool",null),o()(this,"element",null),o()(this,"map",null),o()(this,"geometry",null),o()(this,"threshholdZoom",13),o()(this,"updateSymbol",(e=>{var t,i,n,o,a,l,s,c,u,p;const h=null!==(t=null===(i=this.geometry)||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},v=h.width,g=h.height,f=h.fontSize||24,m=null!==(n=h.zoomLevel)&&void 0!==n?n:this.threshholdZoom,y=null===(o=this.map)||void 0===o?void 0:o.getResolution(m),w=null===(a=this.map)||void 0===a?void 0:a.getResolution(this.minTargetZoom),b=null===(l=this.map)||void 0===l?void 0:l.getResolution(this.maxTargetZoom),C={base:2,stops:[[this.minTargetZoom,v*y/w],[this.maxTargetZoom,v*y/b]]},x={base:2,stops:[[this.minTargetZoom,g*y/w],[this.maxTargetZoom,g*y/b]]},I={base:2,stops:[[this.minTargetZoom,f*y/w],[this.maxTargetZoom,f*y/b]]},j=this.convertDrawOptionsToSymbol(h);let M;if(null===(s=this.geometry)||void 0===s||s.setWidth(C),null===(c=this.geometry)||void 0===c||c.setHeight(x),null===(u=this.geometry)||void 0===u||u.setTextStyle(d()({},j.textStyle,{symbol:{textSize:I}})),null!==(p=this.geometry)&&void 0!==p&&p.getMap())M=this.geometry._getCompiledSymbol();else{const e={textSize:I,width:C,height:x};M=r.fy.loadFunctionTypes(e,(()=>{var e;return H[0]=null===(e=this.map)||void 0===e?void 0:e.getZoom(),H}))}const k=M.textSize,T=M.markerWidth,E=M.markerHeight;if(this.drawOptions.fontSize=k,this.element){this.element.style.width="".concat(T,"px"),this.element.style.height="".concat(E,"px");const e=this.element.querySelector("textarea");e&&(e.style.fontSize="".concat(k,"px"))}})),r.nh.registerMode("Sticker",{clickLimit:1,action:["click"],create:this.create.bind(this),update:()=>{},generate:this.generate.bind(this)}),this.drawTool=e,this.map=i,this.layer=t,this.drawOptions=d()({},this.drawOptions,n)}createEditorElement(e,t,i,n,o){if(this.map){var a;const l=this.map.getContainer(),r=document.createElement("div"),s=document.createElement("textarea");s.placeholder=null!==(a=null===O.N||void 0===O.N?void 0:O.N.$t({id:"mOeXU5",defaultMessage:"Enter Text"}))&&void 0!==a?a:"",s.className="mt-input",s.style.background=this.drawOptions.color,s.style.color=V()(this.drawOptions.color,"#fff")?"#0065ff":"#fff";const d=document.createElement("div");d.className="geometryEditorHandler",r.appendChild(s),t&&r.appendChild(d),r.className="stickerEditor";let c=e.y,u=e.x;c<100?c=Math.max(e.y,100):c>l.clientHeight-100&&(c=Math.min(e.y,l.clientHeight-100)),u<100?u=Math.max(e.x,100):u>l.clientWidth-100&&(u=Math.min(e.x,l.clientWidth-100)),r.style.cssText="top: ".concat(c,"px; left: ").concat(u,"px;"),this.isEditing||(s.onblur=e=>{setTimeout((()=>{this.endDraw()}),100)}),s.onkeydown=e=>{"Escape"===e.key&&(s.onblur=null,this.stopEdit()),"Enter"===e.key&&e.stopPropagation()},F(r,d,(()=>{this.endMove()})),l.appendChild(r),this.element=r,t&&(s.value=t),s.style.fontSize="".concat(o||66,"px"),i&&n&&(this.element.style.width="".concat(i,"px"),this.element.style.height="".concat(n,"px")),setTimeout((()=>{var e;s.focus(),null===(e=this.map)||void 0===e||e.on("click",this.endDraw,this)}))}}create(e,t,i){const{containerPoint:n}=i,o=e.unproject(t[0]),a=new r.zC("",o,0,0);return this.createEditorElement(n),a._setPrjCoordinates(t[0]),this.geometry=a,this.geometry.hide(),a}convertDrawOptionsToSymbol(e){const{color:t,fontSize:i=P.Kt[0]}=e;return{textStyle:{verticalAlignment:"top",horizontalAlignment:"left",wrap:!0,symbol:{textFaceName:"Arial",textSize:i,textFill:V()(t,"#fff")?"#0065ff":"#fff"}},boxSymbol:{markerType:"square",markerFillOpacity:1,markerLineWidth:1,markerFill:null!==t&&void 0!==t?t:this.drawOptions.color,markerLineColor:null!==t&&void 0!==t?t:this.drawOptions.color}}}endDraw(){if(this.geometry&&this.map&&this.element){var e,t;const i=E()(null===(e=this.element.querySelector("textarea"))||void 0===e?void 0:e.value);if(!i)return this.removeElement(),void setTimeout((()=>{var e;null===(e=this.drawTool)||void 0===e||e.endDraw()}));const n=this.getCoordinates(this.map,this.element),{width:o,height:a}=this.element.getBoundingClientRect(),l=this.geometry.getProperties(),r=this.getId(),s=this.geometry.getZIndex(),d=this.map.getZoom();this.geometry.remove(),this.removeElement(),this.geometry=this.createGeometry({id:r,type:"Feature",properties:{...l,zoomLevel:d,width:o,height:a,content:i,zIndex:s,fontSize:this.drawOptions.fontSize},geometry:{type:"Point",coordinates:n}}),null===(t=this.drawTool)||void 0===t||t.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!1}),this.map.off("click",this.endDraw,this)}this.isEditing=!1}endMove(){if(this.geometry&&this.element&&this.map){var e,t;const i=E()(null===(e=this.element.querySelector("textarea"))||void 0===e?void 0:e.value),n=this.getCoordinates(this.map,this.element),{width:o,height:a}=this.element.getBoundingClientRect(),l=this.geometry.getProperties(),r=this.getId(),s=this.geometry.getZIndex();this.geometry.remove(),this.geometry=this.createGeometry({id:r,type:"Feature",properties:{...l,width:o,height:a,content:i,zIndex:s},geometry:{type:"Point",coordinates:n}}),this.geometry.hide(),null===(t=this.drawTool)||void 0===t||t.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!0})}}createGeometry(e,t){var i,n,o,a,l;const{properties:s,geometry:c,id:u}=e,{coordinates:p}=c;this.drawOptions=d()({},this.drawOptions,s);const h=this.convertDrawOptionsToSymbol(this.drawOptions),v=new r.zC(s.content||(null===O.N||void 0===O.N?void 0:O.N.$t({id:"OFPsPz",defaultMessage:"Empty text"}))||"",p,s.width,s.height,{id:u,symbol:h,textStyle:h.textStyle,boxSymbol:h.boxSymbol,zIndex:s.zIndex}).setProperties(s);return Object.assign(v,{_annotation:this}),this.geometry=v,this.updateSymbol({from:null!==(i=null!==(n=s.zoomLevel)&&void 0!==n?n:null===(o=this.map)||void 0===o?void 0:o.getZoom())&&void 0!==i?i:this.threshholdZoom,to:null!==(a=null===(l=this.map)||void 0===l?void 0:l.getZoom())&&void 0!==a?a:this.threshholdZoom}),v}getCoordinates(e,t){const i=t.getBoundingClientRect(),n=new r.E9(i.left+i.width/2,i.top+i.height/2-88);return e.containerPointToCoordinate(n)}removeElement(){var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null}generate(e){return e}update(e){if(!this.geometry)return;const t=this.geometry.getProperties(),i=this.convertDrawOptionsToSymbol(e);this.geometry.setBoxSymbol(i.boxSymbol),this.geometry.setTextStyle(i.textStyle),this.geometry.setProperties({...t,...e});const n=this.getData(this.geometry);var o,a,l,r,s,d;n&&(this.geometry.setProperties(n.properties),this.updateSymbol({from:null!==(o=null!==(a=null===(l=n.properties)||void 0===l?void 0:l.zoomLevel)&&void 0!==a?a:null===(r=this.map)||void 0===r?void 0:r.getZoom())&&void 0!==o?o:this.threshholdZoom,to:null!==(s=null===(d=this.map)||void 0===d?void 0:d.getZoom())&&void 0!==s?s:this.threshholdZoom}));if(this.element){const t=this.element.querySelector("textarea");var c;if(t)t.style.background=null!==(c=e.color)&&void 0!==c?c:this.drawOptions.color}return n}updateGeometry(e){var t,i,n;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.geometry=e;const a=this.geometry.getProperties();this.drawOptions=d()({},this.drawOptions,k()(a,["fontSize"])),o?this.geometry.hide():this.geometry.show(),this.layer.addGeometry(this.geometry),this.updateSymbol({from:null!==(t=a.zoomLevel)&&void 0!==t?t:this.threshholdZoom,to:null!==(i=null===(n=this.map)||void 0===n?void 0:n.getZoom())&&void 0!==i?i:this.threshholdZoom})}startEdit(e){var t,i;const{target:n,containerPoint:o}=e;this.geometry=n,this.geometry.hide(),this.isEditing=!0;const a=null!==(t=null===(i=this.map)||void 0===i?void 0:i.coordinateToContainerPoint(this.geometry.getCenter()))&&void 0!==t?t:o,l=this.geometry._getCompiledSymbol(),r=l.markerWidth,s=l.markerHeight;this.createEditorElement(a,this.geometry.getContent(),r,s,this.drawOptions.fontSize)}stopEdit(){var e,t,i,n;null===(e=this.drawTool)||void 0===e||e.endDraw(),null===(t=this.drawTool)||void 0===t||t.fire("editend",{target:this.geometry}),null===(i=this.map)||void 0===i||i.off("click",this.endDraw,this),this.isEditing=!1,null===(n=this.geometry)||void 0===n||n.show(),this.geometry=null,this.removeElement()}getData(e){var t,i,n;const o=null!==e&&void 0!==e?e:this.geometry;if(!o)return;const a=null!==(t=null===o||void 0===o?void 0:o.getContent())&&void 0!==t?t:"",l=null===o||void 0===o?void 0:o.getProperties(),s=o instanceof r.zC?l.width:0,d=o instanceof r.zC?l.height:0,c=null===o||void 0===o?void 0:o.getZIndex(),u=null!==(i=null===(n=this.map)||void 0===n?void 0:n.getZoom())&&void 0!==i?i:this.threshholdZoom,p=null===o||void 0===o?void 0:o.getId(),h=null!==l&&void 0!==l?l:{},{type:v=this.type,color:g=this.drawOptions.color,fontSize:f=this.drawOptions.fontSize}=h;return{id:p,properties:{type:v,height:d,width:s,content:a,radius:0,zIndex:c,fontSize:Math.round(f),color:g,zoomLevel:u,lineWidth:0},geometry:null===o||void 0===o?void 0:o.toGeoJSONGeometry()}}remove(){var e,t;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),null===(t=this.geometry)||void 0===t||t.remove(),this.geometry=null}destroy(){var e;this.removeElement(),null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.geometry=null,this.drawTool=null,this.map=null,this.isEditing=!1}}class U extends _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","Polygon"),o()(this,"type","polygon"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t}=e;return{lineWidth:2,lineOpacity:1,polygonOpacity:.2,polygonFill:null!==t&&void 0!==t?t:this.drawOptions.color,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:i,id:n}=e,{coordinates:o}=i,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.mg(o,{id:n,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const i=null!==e&&void 0!==e?e:this.geometry;if(!i)return;const n=null===i||void 0===i?void 0:i.getZIndex(),o=null===i||void 0===i?void 0:i.getId(),a=null!==(t=null===i||void 0===i?void 0:i.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color}=a;return{id:o,properties:{type:this.type,zIndex:n,color:l,lineWidth:0,height:0,width:0,content:"",radius:0},geometry:null===i||void 0===i?void 0:i.toGeoJSONGeometry()}}}const q={marker:"Point",line:"LineString",freeline:"FreeHandLineString",rectangle:"Rectangle",circle:"Circle",text:"Text",sticker:"Sticker",polygon:"Polygon"};class G{static getDrawMode(e){return e?q[e]:"Point"}constructor(e){o()(this,"drawTool",null),o()(this,"layer",null),o()(this,"drawOptions",{lineWidth:2}),o()(this,"editingGeometry",null),o()(this,"isDrawing",!1),o()(this,"isEditing",!1),o()(this,"enableEdit",!1),o()(this,"isAttached",!1),o()(this,"mode",null),o()(this,"annotation",null),o()(this,"textAnnotation",null),o()(this,"stickerAnnotaion",null),o()(this,"darkTheme",!1),o()(this,"onDrawEnd",(e=>{if(!e.geometry||!this.annotation)return;const{geometry:t,isEditing:i,keepEditing:n,containerPoint:o}=e,a=this.annotation.getData(t);if(!a)return;const l=this.annotation.createGeometry(a,o);if(l)if("text"!==this.mode&&"sticker"!==this.mode||setTimeout((()=>{this.clearDrawTool()})),l.on("click",this.onGeometryEdit,this),l.on("editend",this.onGeometryEditEnd,this),i){var r;const e=l.getId();this.props.onUpdate({...a,id:e},n),null===(r=this.annotation)||void 0===r||r.updateGeometry(l,n),n||(this.annotation=null)}else{var s,d;if(this.props.onDrawEnd(),("text"===this.mode||"sticker"===this.mode)&&!a.properties.content)return;const e=null!==(s=null===(d=this.layer)||void 0===d?void 0:d.getGeoMaxZIndex())&&void 0!==s?s:1;a.properties.zIndex=e+1,this.props.onCreate(a)}}));const{mode:t}=e;this.props=e,this.mode=t,this.init()}init(){const{mode:e,baseMapStyle:t,onDrawStart:i=w()}=this.props;this.baseMapStyle=t,this.baseMapStyle&&(this.darkTheme=I.includes(this.baseMapStyle));const n=new r.nh({mode:G.getDrawMode(e)}),o=new r.DJ("annotationLayer_".concat(m()()),null,{drawImmediate:!0,forceRenderOnZooming:!0,forceRenderOnMoving:!0,forceRenderOnRotating:!0}).setZIndex(j.Y8);n.on("drawend",this.onDrawEnd,this),n.on("editend",this.onEditEnd,this),n.on("drawstart",(()=>{i(this.mode)}),this),this.layer=o,this.drawTool=n}async attach(e){return new Promise((t=>{this.drawTool&&this.layer&&(this.drawTool.addTo(e).disable(),this.layer.addTo(e),this.textAnnotation=new z(this.drawTool,this.layer,e),this.stickerAnnotaion=new W(this.drawTool,this.layer,e),e.on("contextmenu",this.clearDrawTool,this),this.props.data&&this.setGeometries(C()(this.props.data)?this.props.data:[this.props.data]),this.isAttached=!0,t(!0))}))}createAnnotation(e,t){var i,n,o;if(!this.drawTool||!this.layer)return null;switch(e){case"marker":return new N(this.drawTool,this.layer,null===(i=this.drawTool)||void 0===i?void 0:i.getMap(),t,this.darkTheme);case"line":return new L(t);case"freeline":return new D(t);case"rectangle":return new Z(t);case"circle":return new A(t);case"text":return new z(this.drawTool,this.layer,null===(n=this.drawTool)||void 0===n?void 0:n.getMap(),t);case"sticker":return new W(this.drawTool,this.layer,null===(o=this.drawTool)||void 0===o?void 0:o.getMap(),t);case"polygon":return new U(t)}}startDraw(e,t){var i;this.stopEdit(),this.isDrawing=!0,this.mode=e,this.drawOptions=d()({},this.drawOptions,t);const n=null===(i=this.drawTool)||void 0===i?void 0:i.getMap(),o=this.createAnnotation(e,this.drawOptions);if(o&&n){var a,l,r;this.annotation=o;const e=o.drawMode,t=o.convertDrawOptionsToSymbol(this.drawOptions,!0);n.setCursor("crosshair"),null===(a=this.drawTool)||void 0===a||a.setMode(e),null===(l=this.drawTool)||void 0===l||l.setSymbol(t),null===(r=this.drawTool)||void 0===r||r.enable()}}stopDraw(){var e,t;this.isDrawing=!1,this.annotation=null;const i=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===i||void 0===i||i.setCursor("default"),null===(t=this.drawTool)||void 0===t||t.disable(),this.isEditing=!1}stopEdit(){var e,t;null===(e=this.annotation)||void 0===e||e.stopEdit(),null===(t=this.editingGeometry)||void 0===t||t.endEdit(),this.annotation=null,this.editingGeometry=null,this.isEditing=!1}updateEditingGeometry(e){if(this.annotation){this.drawOptions=d()({},this.drawOptions,e);const t=this.annotation.update(this.drawOptions);t&&this.props.onUpdate(t)}}deleteEditingGeometry(){if(this.annotation){const e=this.annotation.getId();this.annotation.remove(),this.annotation=null,e&&this.props.onDelete(e)}}clearDrawTool(){const e=l()(this.drawTool,"_clearStage");e&&e.call(this.drawTool)}onGeometryEdit(e){if(!this.enableEdit)return;if(e.domEvent.stopPropagation(),this.isDrawing)return;this.annotation&&this.annotation.isEditing&&this.annotation.stopEdit();const{target:t,containerPoint:i}=e;if(t&&i){var n,o,a;const i=l()(t,"_annotation");this.annotation=i,null===(n=this.annotation)||void 0===n||n.startEdit(e),this.clearDrawTool(),this.isEditing=!0,this.mode=t.getProperties().type,null===(o=this.drawTool)||void 0===o||o.disable(),this.props.onEdit(null===(a=this.annotation)||void 0===a?void 0:a.getData())}}onGeometryEditEnd(e){var t;const i=null===(t=this.annotation)||void 0===t?void 0:t.getData();i&&i.id&&(this.props.onUpdate(i),this.isEditing=!1)}onEditEnd(e){this.props.onEditEnd()}setEditingGeometryZIndex(e){var t,i;const n=null===(t=this.annotation)||void 0===t?void 0:t.geometry;if(!n)return;switch(e){case"top":n.bringToFront();break;case"bottom":n.bringToBack();break;case"up":n.setZIndex(n.getZIndex()+1);break;case"down":n.setZIndex(n.getZIndex()-1)}const o=null===(i=this.annotation)||void 0===i?void 0:i.getData();o&&this.props.onUpdate(o)}setGeometries(){var e,t,i,n;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const a=null===(e=this.annotation)||void 0===e?void 0:e.getId(),l=g()(h()(null!==(t=null===(i=this.layer)||void 0===i?void 0:i.getGeometries())&&void 0!==t?t:[],(e=>e.getId())).concat(o.map((e=>e.id))).filter((e=>e!==a)));null===(n=this.layer)||void 0===n||n.removeGeometry(l);const r=null===o||void 0===o?void 0:o.filter((e=>e.id!==a));u()(r,(e=>{if(e){const t=this.createAnnotation(e.properties.type,e.properties),i=null===t||void 0===t?void 0:t.createGeometry(e);i&&this.layer&&(i.on("click",this.onGeometryEdit,this),i.on("editend",this.onGeometryEditEnd,this),this.layer.addGeometry(i))}}))}toggleEnableEdit(e){this.enableEdit=e}updateBaseMapStyle(e){this.baseMapStyle=e,this.darkTheme=I.includes(this.baseMapStyle)}destroy(){var e,t,i,n,o;const a=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();a&&(a.setCursor("default"),a.off("contextmenu",this.clearDrawTool,this)),null===(t=this.annotation)||void 0===t||t.destroy(),null===(i=this.layer)||void 0===i||i.clear(),null===(n=this.drawTool)||void 0===n||n.remove(),null===(o=this.layer)||void 0===o||o.remove(),this.drawTool=null,this.layer=null,this.annotation=null,this.isAttached=!1}}},98720:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(57323),o=i.n(n),a=i(602);class l{constructor(e){o()(this,"isDestroyed",!1),o()(this,"isLoaded",!1),o()(this,"isCompleted",!1),this.props=e}}o()(l,"defaultMapOptions",{zoom:8,center:[116.397428,39.90923],minZoom:2,maxZoom:19,bearing:0,pitch:0,features:a.tR})},92940:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(57323),o=i.n(n),a=i(2550),l=i(19087),r=i.n(l),s=i(98720);class d extends a.mM{constructor(e,t){super(e,t),o()(this,"options",{bgColor:""}),o()(this,"defaultMapOptions",{...s.Z.defaultMapOptions}),o()(this,"mapInstance",new Promise((e=>e(!0)))),this.id=e,this.options=t,this.props={mapOptions:Object.assign({},this.defaultMapOptions,t.mapOptions)}}draw(e){var t;const{bgColor:i}=this.options,n=null===(t=this.getMap())||void 0===t?void 0:t.getSize();e.fillStyle=i,e.fillRect(0,0,(null===n||void 0===n?void 0:n.width)||0,(null===n||void 0===n?void 0:n.height)||0)}drawOnInteracting(e){this.draw(e)}create(){return this.props.mapOptions&&this.props.mapOptions.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center),new Promise((e=>e(this)))}resize(){var e,t;null!==(e=this.props.mapOptions)&&void 0!==e&&e.zoom&&null!==(t=this.props.mapOptions)&&void 0!==t&&t.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center)}setMapStyle(){r()()}getMapStyle(){r()()}syncViewState(){var e;const t=this.getRenderer();null===t||void 0===t||null===(e=t.syncViewState)||void 0===e||e.call(t)}getBaseMap(){return null}getProvider(){return"customize"}getCenter(){return this.getMap().getCenter().toArray()}destroy(){r()()}setZoomAndCenter(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,i=arguments.length>1?arguments[1]:void 0;const n=new a.c7(i);null===(e=this.getMap())||void 0===e||e.setCenterAndZoom(n,t)}setPitch(){r()()}setBearing(){r()()}setFeatures(){}setLanguage(e){}getContainer(){return this.getMap().getContainer()}takeScreenshot(){const e=this.getRenderer();return Promise.resolve(e.canvas.toDataURL())}}const c=d},23764:(e,t,i)=>{"use strict";i.d(t,{dR:()=>p,N$:()=>O,Dg:()=>C,IV:()=>_.I});var n=i(57323),o=i.n(n),a=(i(68414),i(15972)),l=i.n(a),r=i(70363),s=i.n(r),d=i(94908),c=i(87797),u=i(98720);class p extends u.Z{constructor(e){super(e),o()(this,"defaultProps",{version:"2.0",plugins:["AMap.Scale"]}),o()(this,"defaultMapOptions",{...u.Z.defaultMapOptions,rotateEnable:!0,pitchEnable:!0,viewMode:"3D"}),o()(this,"provider","amap"),this.props=Object.assign({},this.defaultProps,e),this.init()}init(){const{key:e,version:t,plugins:i,securityJsCode:n,serviceHost:o}=this.props;if(!e)throw new Error("AMap key is required");const a={serviceHost:"".concat(o||window.location.origin,"/_AMapService")};n&&(a.securityJsCode=n,o&&(a.serviceHost="".concat(o,"/_AMapService"))),Object.assign(window,{_AMapSecurityConfig:a,forceWebGL:!0}),window.AMap&&window.AMap.Map?(this.isLoaded=!0,this.loader=Promise.resolve()):this.loader=s().load({key:e,version:t,plugins:i}).then((()=>{this.isLoaded=!0}))}async create(e,t){var i,n,o,a;if(this.isDestroyed)return null;await this.loader;const r=l()({},this.props.mapOptions,t),s=null!==(i=null===r||void 0===r?void 0:r.center)&&void 0!==i?i:this.defaultMapOptions.center,p=-(null!==(n=null===r||void 0===r?void 0:r.bearing)&&void 0!==n?n:0),h=null!==(o=null===r||void 0===r?void 0:r.zooms)&&void 0!==o?o:[u.Z.defaultMapOptions.minZoom,u.Z.defaultMapOptions.maxZoom];if(this.map=new AMap.Map(e,{...this.defaultMapOptions,...r,zoom:this.transformStandardZoomToAmapZoom(null!==(a=null===r||void 0===r?void 0:r.zoom)&&void 0!==a?a:this.defaultMapOptions.zoom),mapStyle:this.getStyle(null===r||void 0===r?void 0:r.style),zooms:h,center:(0,d.transformWGS84ToGCJ02)(s,!0),rotation:p,layers:this.props.useTileLayer?[new AMap.TileLayer]:[]}),r.style===c.nn.AmapSatellite){const e=new AMap.TileLayer.Satellite;this.map.addLayer(e),this.currentTileLayer=e}return this.props.disableScaleControl||this.addScaleControl(),new Promise((e=>{this.map.on("complete",(()=>{this.isCompleted=!0,e(this)}))}))}get mapInstance(){return new Promise(((e,t)=>{this.loader.then((()=>{e(this.map)})).catch((e=>{t(e)}))}))}transformStandardZoomToAmapZoom(e){return e+1}transformAmapZoomToStandardZoom(e){return e-1}getContainer(){return this.map.getContainer()}on(e,t){this.map.on(e,t)}off(e,t){this.map.off(e,t)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}setCenter(e){if(!(0,d.isValidCoordinate)(e))return;const t=(0,d.transformWGS84ToGCJ02)(e,!0);(0,d.isValidCoordinate)(t)&&this.map.setCenter(t)}getCenter(){const e=this.map.getCenter(),t=[e.lng,e.lat];return(0,d.isValidCoordinate)(t)?(0,d.transformGCJ02ToWGS84)(t,!0):[116.397428,39.90923]}setPitch(e){this.map.setPitch(e,!0)}getPitch(){return this.map.getPitch()}setZoom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;this.map.setZoom(this.transformStandardZoomToAmapZoom(e))}getZoom(){var e;return this.transformAmapZoomToStandardZoom(null!==(e=this.map.getZoom())&&void 0!==e?e:0)}setZoomAndCenter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1?arguments[1]:void 0;if(!(0,d.isValidCoordinate)(t))return;const i=(0,d.transformWGS84ToGCJ02)(t,!0);(0,d.isValidCoordinate)(i)&&this.map.setZoomAndCenter(this.transformStandardZoomToAmapZoom(e),i,!0)}setBearing(e){this.map.setRotation(-e,!0)}getBearing(){return-this.map.getRotation()}getStyle(e){switch(e){case c.nn.AmapStandard:return"amap://styles/normal";case c.nn.AmapLight:return"amap://styles/whitesmoke";case c.nn.AmapDark:return"amap://styles/grey";case c.nn.AmapDarkBlue:return"amap://styles/darkblue";default:return"amap://styles/normal"}}setMapStyle(e){if(this.map){if(this.currentTileLayer&&this.map.removeLayer(this.currentTileLayer),this.map.getContainer().classList.remove("amap-blank"),"AmapBlank"===e)this.map.setMapStyle("amap://styles/normal"),this.map.setFeatures([]),this.map.getContainer().classList.add("amap-blank");else if(e===c.nn.AmapSatellite){const e=new AMap.TileLayer.Satellite;this.map.addLayer(e),this.currentTileLayer=e}else this.map.setMapStyle(this.getStyle(e));this.baseMapStyle=e}}getMapStyle(){return this.baseMapStyle}setFeatures(e){this.map&&this.map.setFeatures(e)}setLanguage(e){}getProvider(){return this.provider}destroy(){this.isLoaded&&(this.isDestroyed=!0,this.map&&this.map.getContainer()&&(this.map.getContainer().classList.remove("amap-container"),this.map.getContainer().innerHTML="",this.map.destroy(),delete this.map))}interactive(e){}resize(){var e;null===(e=this.map)||void 0===e||e.resize()}addScaleControl(){var e;const t=new AMap.Scale({position:"RB",offset:[180,20]});null===(e=this.map)||void 0===e||e.addControl(t),this.moveControlsToFront()}moveControlsToFront(){const e=document.querySelector(".amap-controls"),t=this.getContainer().closest(".maptalks-wrapper");e&&t&&t.appendChild(e)}takeScreenshot(){return new Promise(((e,t)=>{var i;const n=new AMap.CustomLayer(document.createElement("canvas"),{render:()=>{const i=this.getContainer().querySelector("canvas");i?e(i.toDataURL()):t(),setTimeout((()=>{this.map.remove(n)}))}});this.map.add(n),null===(i=this.map)||void 0===i||i.render()}))}}var h=i(90458),v=i.n(h),g=i(602),f=i(8942),m=i.n(f);const y="__baseMapsScriptId";let w=function(e){return e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE",e}({});class b{constructor(e){let{id:t=y,styleUrl:i,url:n}=e;if(o()(this,"CALLBACK","__baseMapsCallback"),o()(this,"callbacks",[]),o()(this,"done",!1),o()(this,"loading",!1),o()(this,"errors",[]),this.id=t||y,this.url=n,this.styleUrl=i,b.instance){if(!m()(this.options,b.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(b.instance.options)));return b.instance}b.instance=this}get options(){return{id:this.id,url:this.url}}get status(){return this.errors.length?w.FAILURE:this.done?w.SUCCESS:this.loading?w.LOADING:w.INITIALIZED}get failed(){return this.done&&!this.loading}createUrl(){let e=this.url;return e+="?callback=".concat(this.CALLBACK),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((i=>{i?t(i.error):e({})}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");if(t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.styleUrl){const e=document.createElement("link");e.rel="stylesheet",e.crossOrigin="anonymous",e.href=this.styleUrl,document.head.appendChild(e)}document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[]}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.onerrorEvent=e,this.callback()}setCallback(){window.__baseMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}class C extends u.Z{constructor(e){super(e),o()(this,"defaultProps",{version:"2.8.2"}),o()(this,"defaultMapOptions",{...u.Z.defaultMapOptions,style:{version:8,layers:[],sources:{}}}),o()(this,"provider","mapbox"),o()(this,"features",null),o()(this,"language",null),this.props=Object.assign({},this.defaultProps,e),this.init()}get mapInstance(){return new Promise(((e,t)=>{this.loader.then((()=>{e(this.map)})).catch((e=>{t(e)}))}))}init(){const{version:e,key:t}=this.props;if(!t)throw new Error("Mapbox key is required");const i=new b({url:"https://api.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.js"),styleUrl:"https://api.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")});window.mapboxgl&&window.mapboxgl.Map?(this.loader=Promise.resolve(),this.isLoaded=!0):this.loader=i.load().then((()=>{this.isLoaded=!0}))}async create(e,t){var i;if(this.isDestroyed)return null;await this.loader,window.mapboxgl.accessToken=this.props.key;const n=l()({},this.props.mapOptions,t);return this.features=n.features||null,this.map=new window.mapboxgl.Map({...this.defaultMapOptions,...n,container:e,antialias:!0,minZoom:(null!==(i=n.minZoom)&&void 0!==i?i:u.Z.defaultMapOptions.minZoom)-1,style:this.getStyle(n.style)}),this.map.getCanvas().style.cursor="default",this.props.disableScaleControl||this.addScaleControl(n.mapBoxScalePosition),this.addLanguagePlugin(this.props.locale,n.style),new Promise(((e,t)=>{this.map.on("style.load",(()=>{this.features&&this.setFeatures(this.features),this.isCompleted=!0,e(this)}))}))}on(e,t){this.map.on(e,t)}off(e,t){this.map.off(e,t)}addLanguagePlugin(e,t){var i;if(t===c.R6.MapboxSatellite)return;const n=null===(i=navigator)||void 0===i||null===(i=i.languages)||void 0===i?void 0:i[0],o=["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","vi","zh-Hans","zh-Hant"].includes(n)?n:"en",a="zh-CN"===e?{defaultLanguage:"zh-Hans"}:"ja-JP"===e?{defaultLanguage:"ja"}:{defaultLanguage:o},l=new(v())(a);this.language=l,this.map.addControl(l)}setBearing(e){this.map.setBearing(e)}getBearing(){return this.map.getBearing()}setPitch(e){this.map.setPitch(e)}getPitch(){return this.map.getPitch()}getCenter(){var e;if(!this.map)return(null===(e=this.props.mapOptions)||void 0===e?void 0:e.center)||u.Z.defaultMapOptions.center;const t=this.map.getCenter();return[t.lng,t.lat]}setCenter(e){this.map.setCenter({lng:e[0],lat:e[1]})}getZoom(){return this.map.getZoom()}setZoom(e){this.map.setZoom(e)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}setZoomAndCenter(e,t){this.map.jumpTo({zoom:e,center:t})}setLanguage(e){this.map&&"zh-CN"===e&&this.baseMapStyle!==c.R6.MapboxSatellite&&(this.language?this.map.setStyle(this.language.setLanguage(this.map.getStyle(),"zh-Hans")):this.addLanguagePlugin(e))}getStyle(e){switch(e){case c.R6.MapboxStreets:return"mapbox://styles/mapbox/streets-v11";case c.R6.MapboxOutdoors:return"mapbox://styles/mapbox/outdoors-v11";case c.R6.MapboxLight:return"mapbox://styles/mapbox/light-v10";case c.R6.MapboxDark:return"mapbox://styles/mapbox/dark-v10";case c.R6.MapboxSatellite:return"mapbox://styles/mapbox/satellite-v9";default:return"mapbox://styles/mapbox/streets-v11"}}setMapStyle(e){var t,i;e===c.R6.MapboxSatellite&&this.language?(null===(i=this.map)||void 0===i||i.removeControl(this.language),this.language=null):this.map&&this.addLanguagePlugin(this.props.locale,e);null===(t=this.map)||void 0===t||t.setStyle(this.getStyle(e)),this.baseMapStyle=e}getMapStyle(){return this.baseMapStyle}setFeatures(e){if(!this.map)return;const t=g.tR.filter((t=>!e.includes(t))),i=[],n=[];t.forEach((e=>{g.ak[e]&&i.push(...g.ak[e])})),e.forEach((e=>{g.ak[e]&&n.push(...g.ak[e])})),this.map.isStyleLoaded()&&(i.forEach((e=>{var t;(null===(t=this.map)||void 0===t?void 0:t.getLayer(e))&&this.map.setLayoutProperty(e,"visibility","none")})),n.forEach((e=>{var t;(null===(t=this.map)||void 0===t?void 0:t.getLayer(e))&&this.map.setLayoutProperty(e,"visibility","visible")}))),this.features=e}getContainer(){return this.map.getContainer()}getProvider(){return this.provider}destroy(){this.isLoaded&&(this.map.remove(),this.isDestroyed=!0)}interactive(e){e?this.map.dragPan.enable():this.map.dragPan.disable()}resize(){this.map.resize()}addScaleControl(e){const t=new window.mapboxgl.ScaleControl;this.map.addControl(t,e||"bottom-right"),this.moveControlsToFront()}moveControlsToFront(){const e=document.querySelector(".mapboxgl-control-container"),t=this.getContainer().closest(".maptalks-wrapper");e&&t&&t.appendChild(e)}takeScreenshot(){return new Promise(((e,t)=>{this.map._render();const i=this.getContainer().querySelector("canvas");i?e(i.toDataURL()):t()}))}}var x=i(60933),I=i(13307),j=i.n(I);const M=[{featureType:"landscape.man_made",elementType:"all",stylers:[{color:"#faf5ed"},{lightness:"0"},{gamma:"1"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5a6"}]},{featureType:"road",elementType:"all",stylers:[{weight:"1.00"},{gamma:"1.8"},{saturation:"0"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ffb200"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{lightness:"0"},{gamma:"1"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{hue:"#b000ff"},{saturation:"23"},{lightness:"-4"},{gamma:"0.80"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a0daf2"}]}],k=[{featureType:"water",stylers:[{visibility:"on"},{color:"#b5cbe4"}]},{featureType:"landscape",stylers:[{color:"#efefef"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#83a5b0"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#bdcdd3"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e3eed3"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",stylers:[{lightness:20}]}],T=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],E=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],P=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];class O extends u.Z{constructor(e){var t;super(e),t=this,o()(this,"defaultProps",{version:"weekly"}),o()(this,"defaultMapOptions",{zoom:u.Z.defaultMapOptions.zoom,minZoom:u.Z.defaultMapOptions.minZoom,maxZoom:u.Z.defaultMapOptions.maxZoom,center:{lng:u.Z.defaultMapOptions.center[0],lat:u.Z.defaultMapOptions.center[1]},streetViewControl:!1,clickableIcons:!1,disableDefaultUI:!0,fullscreenControl:!1,isFractionalZoomEnabled:!0,draggableCursor:"default"}),o()(this,"provider","google"),o()(this,"setZoomAndCenter",j()((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,i=arguments.length>1?arguments[1]:void 0;t.map.moveCamera({zoom:t.transformStandardZoomToGoogleZoom(e),center:{lng:i[0],lat:i[1]}})}),10)),this.props=Object.assign({},this.defaultProps,e),this.init()}get mapInstance(){return new Promise(((e,t)=>{this.loader.then((()=>{e(this.map)})).catch((e=>{t(e)}))}))}init(){const{key:e,version:t}=this.props;if(!e)throw new Error("GoogleMap key is required");const i=new x.aN({apiKey:e,version:t,language:"zh-CN"===this.props.locale?"zh-CN":"en"});window.google&&window.google.maps?(this.isLoaded=!0,this.loader=Promise.resolve()):this.loader=i.importLibrary("maps").then((()=>{this.isLoaded=!0}))}async create(e,t){if(this.isDestroyed)return null;await this.loader;const i=l()({},this.props.mapOptions,t);return this.map=new google.maps.Map("string"===typeof e?document.getElementById(e):e,{...this.defaultMapOptions,...this.transformToGoogleMapOptions(i),styles:this.getStyle(i.style)}),this.baseMapStyle=i.style,new Promise((e=>{this.map.addListener("tilesloaded",(()=>{this.isCompleted=!0,e(this)}))}))}transformToGoogleMapOptions(e){if(e){var t,i,n;const{center:o,zoom:a,minZoom:l,maxZoom:r}=e;return{zoom:this.transformStandardZoomToGoogleZoom(null!==(t=null!==a&&void 0!==a?a:this.defaultMapOptions.zoom)&&void 0!==t?t:1),minZoom:null!==(i=null!==l&&void 0!==l?l:this.defaultMapOptions.minZoom)&&void 0!==i?i:1,maxZoom:null!==(n=null!==r&&void 0!==r?r:this.defaultMapOptions.maxZoom)&&void 0!==n?n:1,center:o?{lng:o[0],lat:o[1]}:this.defaultMapOptions.center}}}getContainer(){return this.map.getDiv()}on(e,t){this.map.addListener(e,t)}off(e,t){google.maps.event.clearListeners(this.map,e)}addListener(e,t){return google.maps.event.addListener(this.map,e,t)}removeListener(e){google.maps.event.removeListener(e)}setCenter(e){this.map.moveCamera({center:{lng:e[0],lat:e[1]}})}getCenter(){const e=this.map.getCenter();return e?[e.lng(),e.lat()]:[null===(t=this.defaultMapOptions.center)||void 0===t?void 0:t.lng,null===(i=this.defaultMapOptions.center)||void 0===i?void 0:i.lat];var t,i}zoomIn(){var e;this.map.moveCamera({zoom:null!==(e=this.map.getZoom())&&void 0!==e?e:2})}zoomOut(){var e;this.map.moveCamera({zoom:null!==(e=this.map.getZoom())&&void 0!==e?e:0})}setZoom(e){this.map.moveCamera({zoom:this.transformStandardZoomToGoogleZoom(e)})}getZoom(){var e;return this.transformGoogleZoomToStandardZoom(null!==(e=this.map.getZoom())&&void 0!==e?e:1)}setPitch(e){this.map.setTilt(e)}getPitch(){var e;return null!==(e=this.map.getTilt())&&void 0!==e?e:0}setBearing(e){return this.map.setHeading(e)}getBearing(){var e;return null!==(e=this.map.getHeading())&&void 0!==e?e:0}getStyle(e){switch(e){case c.nB.GoogleMapAtlas:return M;case c.nB.GoogleMapLight:return k;case c.nB.GoogleMapGrey:return T;case c.nB.GoogleMapDark:return E;case c.nB.GoogleMapNight:return P;case c.nB.GoogleMapSatellite:default:return[]}}setMapStyle(e){this.map&&(e===c.nB.GoogleMapSatellite?this.map.setOptions({mapTypeId:"satellite",styles:[]}):this.map.setOptions({mapTypeId:"roadmap",styles:this.getStyle(e)}),this.baseMapStyle=e)}getMapStyle(){return this.baseMapStyle}getProvider(){return this.provider}destroy(){this.isLoaded&&(this.map.getDiv().innerHTML="",this.isDestroyed=!0)}interactive(e){}setFeatures(e){if(!this.map)return;const t=structuredClone(this.getStyle(this.baseMapStyle));e.includes("bg")||t.forEach((e=>{var t,i;null!==(t=e.featureType)&&void 0!==t&&t.includes("landscape")&&(e.stylers=[{visibility:"off"}]),null!==(i=e.featureType)&&void 0!==i&&i.includes("water")&&(e.stylers=[{visibility:"off"}])})),e.includes("road")||t.forEach((e=>{var t;null!==(t=e.featureType)&&void 0!==t&&t.includes("road")&&(e.stylers=[{visibility:"off"}])})),e.includes("building")||t.push({featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.medical",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.school",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]}),e.includes("point")||(t.forEach((e=>{var t;null!==(t=e.featureType)&&void 0!==t&&t.includes("poi")&&(e.stylers=[{visibility:"off"}])})),t.push({featureType:"poi",elementType:"labels",stylers:[{visibility:"off",color:"#ffffff"}]})),this.map.setOptions({mapTypeId:this.baseMapStyle===c.nB.GoogleMapSatellite?"satellite":"roadmap",styles:t})}setLanguage(e){}resize(){google.maps.event.trigger(this.map,"resize")}takeScreenshot(){return Promise.resolve("")}transformStandardZoomToGoogleZoom(e){return e+1}transformGoogleZoomToStandardZoom(e){return e-1}}var _=i(95131)},87797:(e,t,i)=>{"use strict";i.d(t,{R6:()=>a,nB:()=>o,nn:()=>n});let n=function(e){return e.AmapStandard="AmapStandard",e.AmapLight="AmapLight",e.AmapDark="AmapDark",e.AmapDarkBlue="AmapDarkBlue",e.AmapSatellite="AmapSatellite",e}({}),o=function(e){return e.GoogleMapAtlas="GoogleMapAtlas",e.GoogleMapLight="GoogleMapLight",e.GoogleMapGrey="GoogleMapGrey",e.GoogleMapDark="GoogleMapDark",e.GoogleMapNight="GoogleMapNight",e.GoogleMapSatellite="GoogleMapSatellite",e}({}),a=function(e){return e.MapboxStreets="MapboxStreets",e.MapboxOutdoors="MapboxOutdoors",e.MapboxLight="MapboxLight",e.MapboxDark="MapboxDark",e.MapboxSatellite="MapboxSatellite",e}({});n.AmapDark,n.AmapDarkBlue,n.AmapSatellite,o.GoogleMapDark,o.GoogleMapNight,a.MapboxDark,a.MapboxSatellite},95131:(e,t,i)=>{"use strict";i.d(t,{I:()=>p,a:()=>u});var n=i(41989),o=i.n(n),a=i(25806),l=i.n(a),r=i(87797);const s=[1,19];var d=function(e){return e[e.R=6378137]="R",e[e.SIZE=256]="SIZE",e[e.MAX_ZOOM=20]="MAX_ZOOM",e}(d||{});const c=2*d.R*Math.PI/(d.SIZE*Math.pow(2,d.MAX_ZOOM));function u(e){var t;return null!==(t=o()([s[1]-Math.log(e/c)/Math.LN2,s[0]]))&&void 0!==t?t:0}function p(e){return e?l()(r.nn,e)?"amap":l()(r.nB,e)?"google":l()(r.R6,e)?"mapbox":"customize":"mapbox"}},34197:(e,t,i)=>{"use strict";i.d(t,{g:()=>l});var n=i(57435),o=i(2550),a=i(95620);function l(e){let{active:t,getDirection:i,baseMapProvider:l,method:s,map:d,projectId:c}=e;const[u,p]=(0,n.useState)(),[h,v]=(0,n.useState)(),g=(0,a.Z)(),f=(0,n.useRef)(),m=(0,n.useRef)(),y=(0,n.useRef)(),w=g.$t({id:"route.start",defaultMessage:"Start"}),b=g.$t({id:"route.end",defaultMessage:"End"}),[C,x]=(0,n.useState)(),[I,j]=(0,n.useState)(),[M,k]=(0,n.useState)(!1),T=(0,n.useRef)([]),E=(0,n.useCallback)((()=>{T.current.forEach((e=>{e.remove()}))}),[]),P=(0,n.useCallback)((e=>{if(!m.current)return;0===m.current.getCount()?p(e.coordinate.toArray()):v(e.coordinate.toArray());const[t,i]=function(e,t){const i=new o.Jx(e,{symbol:{markerType:"ellipse",markerFill:"#0065FF",markerLineColor:"#fff",markerLineWidth:2,markerWidth:12,markerHeight:12}}),n=document.createElement("div");n.innerHTML=t,n.style.color="#fff",n.style.backgroundColor="#0065FF",n.style.padding="0px 4px",n.style.borderRadius="4px",n.style.whiteSpace="nowrap";const a=new o.ui.UIMarker(e,{content:n,dy:20});return[i,a]}(e.coordinate,0===m.current.getCount()?w:b);m.current.addGeometry(t),i.addTo(m.current.getMap()),T.current.push(t,i)}),[b,w]),O=(0,n.useCallback)((e=>{m.current&&e&&(x(e.distance),j(e.duration),y.current&&m.current.removeGeometry(y.current),y.current=r(e.coordinates),m.current.addGeometry(y.current))}),[]),_=(0,n.useCallback)(((e,t)=>{var i,n,a,l;p(e),v(t),null===(i=m.current)||void 0===i||i.clear(),E(),null===(n=f.current)||void 0===n||n.enable(),null===(a=f.current)||void 0===a||a.fire("drawend",{coordinate:new o.c7(e)}),null===(l=f.current)||void 0===l||l.fire("drawend",{coordinate:new o.c7(t)})}),[E]),S=(0,n.useCallback)((()=>{var e,t;p(void 0),v(void 0),x(void 0),j(void 0),null===(e=f.current)||void 0===e||e.enable(),null===(t=m.current)||void 0===t||t.clear(),E()}),[E]);return(0,n.useEffect)((()=>{t&&null!==d&&void 0!==d&&d.mapTalksMap&&(f.current||m.current||(f.current=new o.nh({mode:"Point",symbol:{markerType:"ellipse",markerFill:"#0065FF",markerLineColor:"#fff",markerLineWidth:2,markerWidth:12,markerHeight:12}}).addTo(d.mapTalksMap),m.current=new o.DJ("direction").addTo(d.mapTalksMap),y.current=r(),f.current.on("drawend",P)))}),[t,d,w,P]),(0,n.useEffect)((()=>{t&&f.current&&f.current.setSymbol({markerType:"ellipse",markerFill:"#0065FF",markerLineColor:"#fff",markerLineWidth:2,markerWidth:12,markerHeight:12})}),[t,u,b,w]),(0,n.useEffect)((()=>{t&&f.current&&u&&h&&(f.current.disable(),"amap"!==l&&"mapbox"!==l||(k(!0),null===i||void 0===i||i({origin:u,destination:h,type:null!==s&&void 0!==s?s:"driving",service:l,projectId:c}).then(O).finally((()=>k(!1)))))}),[t,h,u,i,s,l,c,O]),(0,n.useEffect)((()=>{var e,i,n;t||(null===(e=f.current)||void 0===e||e.remove(),null===(i=m.current)||void 0===i||i.remove(),null===(n=y.current)||void 0===n||n.remove(),f.current=void 0,m.current=void 0,y.current=void 0,E(),p(void 0),v(void 0),x(void 0),j(void 0));return()=>{var e,t,i;null===(e=f.current)||void 0===e||e.remove(),null===(t=m.current)||void 0===t||t.remove(),null===(i=y.current)||void 0===i||i.remove(),E(),f.current=void 0,m.current=void 0,y.current=void 0}}),[t,E]),{distance:C,duration:I,isLoading:M,getData:(0,n.useCallback)((()=>{var e;const t=null===(e=y.current)||void 0===e?void 0:e.toGeoJSON();if(t)return{type:"FeatureCollection",features:[t]}}),[]),resetDirection:S,loadHistory:_}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new o.Yp(e,{symbol:{lineColor:"#0065FF",lineWidth:5,lineJoin:"round",lineCap:"round"}})}},61924:(e,t,i)=>{"use strict";i.d(t,{ZX:()=>g,br:()=>v,OO:()=>k,$N:()=>x,h_:()=>u,g3:()=>X,rm:()=>ie,zy:()=>j,Ly:()=>y});var n=i(57435),o=i(6895),a=i(95315),l=i(94553);const r=(0,n.forwardRef)(((e,t)=>{let{container:i,children:o,className:r,id:s,placeholder:d,style:c,...u}=e;const[p]=(0,n.useState)({className:r,id:s,style:{width:"100%",height:"100%",...c}}),[h,v]=(0,n.useState)(null);(0,n.useImperativeHandle)(t,(()=>null!==h&&void 0!==h?h:null),[h]);const g=(0,n.useCallback)((e=>{if(null!==e&&null===h){const t=new a.Z({container:i||e,...u});v(t)}}),[h,u,i]);return(0,n.useEffect)((()=>{if(h&&u.baseMap){const e="customize"===u.baseMap.getProvider()?"customize":"built-in";h.setBaseMap(u.baseMap,e)}}),[u.baseMap,h]),(0,n.useEffect)((()=>{var e;h&&h.setLayers(null!==(e=u.layers)&&void 0!==e?e:[])}),[u.layers,h]),(0,n.useEffect)((()=>{h&&u.geometryEditor&&h.setGeometryEditor(u.geometryEditor)}),[u.geometryEditor,h]),(0,n.useEffect)((()=>{h&&u.annotation&&h.setAnnotation(u.annotation)}),[u.annotation,h]),(0,n.useEffect)((()=>{var e;null!==h&&void 0!==h&&h.deckLayer&&(null===(e=h.deckLayer)||void 0===e||e.setProps({...u.deckProps}))}),[u.deckProps,null===h||void 0===h?void 0:h.deckLayer]),(0,n.useEffect)((()=>{u.locale&&h&&h.setLanguage(u.locale)}),[u.locale,h]),(0,n.useEffect)((()=>()=>{null===h||void 0===h||h.destroy()}),[h]),(0,l.jsx)("div",{...p,ref:g,onContextMenu:e=>e.preventDefault()})})),s={width:"100%",height:"100%",position:"relative"},d={width:"50%",height:"100%",position:"absolute",overflow:"hidden",top:0,bottom:0};function c(e,t){const{dualMap:i,children:a,placeholder:c,subMapRef:u,onViewStateSync:p,syncOptions:h}=e,[v,g]=(0,n.useState)(null),[f,m]=(0,n.useState)(null),y=(0,n.useRef)(v),w=(0,n.useRef)(h);(0,n.useImperativeHandle)(t,(()=>null!==v&&void 0!==v?v:null),[v]);const b=(0,n.useCallback)((e=>{null===p||void 0===p||p(e);const t=w.current;var i,n;null!==t&&void 0!==t&&t.viewport&&(null===u||void 0===u||null===(i=u.current)||void 0===i||i.setViewState(e));null!==t&&void 0!==t&&t.viewport||null===t||void 0===t||!t.zoom||(null===u||void 0===u||null===(n=u.current)||void 0===n||n.setViewState({zoom:e.zoom}))}),[p,u]),C=(0,n.useCallback)((e=>{const t=w.current;var i,n;null!==t&&void 0!==t&&t.viewport&&(null===y||void 0===y||null===(i=y.current)||void 0===i||i.setViewState(e));null!==t&&void 0!==t&&t.viewport||null===t||void 0===t||!t.zoom||(null===y||void 0===y||null===(n=y.current)||void 0===n||n.setViewState({zoom:e.zoom}))}),[]),x=(0,n.useMemo)((()=>v?(0,l.jsx)(o.Ib,{value:{map:v,setMap:g,subMap:f,setSubMap:m},children:a}):null!==c&&void 0!==c?c:null),[v,f,c,a]);return(0,n.useEffect)((()=>{w.current=h}),[h]),(0,n.useEffect)((()=>{y.current=v}),[v]),(0,n.useEffect)((()=>{u&&(u.current=f)}),[u,f]),i?(0,l.jsxs)("div",{style:s,children:[(0,l.jsx)("div",{style:{...d},children:(0,l.jsx)(r,{ref:g,...e,onViewStateSync:b})}),(0,l.jsx)("div",{style:{...d,left:"50%"},children:(0,l.jsx)(r,{ref:m,...i,onViewStateSync:C})}),x]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r,{ref:g,...e}),x]})}const u=(0,n.forwardRef)(c);var p=i(4738),h=i(33718);i(11286);const v=e=>{let{name:t,className:i,active:o,persistentActive:a,icon:r,title:s,children:d,showClose:c,onClick:u,onClose:v}=e;const[g,f]=(0,n.useState)(null!==a&&void 0!==a?a:o),m=(0,p.useMediaQuery)({query:"(max-width: 767px)"}),y=n.useRef(null);(0,n.useEffect)((()=>{f(null!==a&&void 0!==a?a:o)}),[o,a]);return(0,n.useEffect)((()=>{if(!y.current)return;const e=y.current.querySelector(".mtmap-controls__panel");if(!e)return;const t=new ResizeObserver((()=>{var t;const{height:i}=e.getBoundingClientRect(),n=null===(t=y.current)||void 0===t?void 0:t.querySelector(".mtmap-controls__close");n&&(n.style.top="-".concat(i-30,"px"))}));return t.observe(e),()=>{t.disconnect()}}),[]),(0,l.jsxs)("div",{ref:y,className:(0,h.default)("mtmap-controls__block",i),"data-testid":"".concat(t,"Control"),children:[(0,l.jsx)("div",{className:(0,h.default)("mtmap-controls__item mtmap-controls__label",{active:g}),"aria-label":m?void 0:s,"data-balloon-pos":"left",onClick:()=>{null===u||void 0===u||u(!g,t)},children:r}),d&&(0,l.jsx)("div",{className:(0,h.default)("mtmap-controls__panel",{hide:!g}),children:d}),c&&d?(0,l.jsx)("span",{className:(0,h.default)("mtmap-controls__close",{hide:!g}),onClick:()=>{null===u||void 0===u||u(!1,t),null===v||void 0===v||v()},children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M14 3.209 12.791 2 8 6.791 3.209 2 2 3.209 6.791 8 2 12.791 3.209 14 8 9.209 12.791 14 14 12.791 9.209 8z",clipRule:"evenodd"})})}):null]})},g=(0,n.forwardRef)(((e,t)=>{let{children:i,className:o,defaultActiveControls:a,style:r}=e;const[s,d]=(0,n.useState)(a);function c(e,t){if(e&&t)d((e=>e?[...e,t]:[t]));else{const e=null===s||void 0===s?void 0:s.filter((e=>e!==t));d(e)}}return(0,n.useImperativeHandle)(t,(()=>({setActiveControl:d}))),(0,l.jsx)("div",{id:"map-panel-controls",className:(0,h.default)("mtmap-controls",o),style:r,"data-testid":"mapControls",children:n.Children.map(i,(e=>n.isValidElement(e)&&n.cloneElement(e,{active:null!==s&&void 0!==s&&s.includes(e.props.name)?"true":void 0,onClick:c})))})}));var f=i(55349),m=i.n(f);const y=e=>{var t,i;let{step:a=1}=e;const{map:r}=(0,o.fx)(),s=null===r||void 0===r||null===(t=r.mapTalksMap)||void 0===t?void 0:t.getMaxZoom(),d=null===r||void 0===r||null===(i=r.mapTalksMap)||void 0===i?void 0:i.getMinZoom(),c=(0,n.useCallback)((()=>{var e;const t=null===r||void 0===r||null===(e=r.mapTalksMap)||void 0===e?void 0:e.getZoom();var i;m()(t)||m()(s)||(null===r||void 0===r||null===(i=r.mapTalksMap)||void 0===i||i.setZoom(Math.min(t+a,s)))}),[r,a,s]),u=(0,n.useCallback)((()=>{var e;const t=null===r||void 0===r||null===(e=r.mapTalksMap)||void 0===e?void 0:e.getZoom();var i;m()(t)||m()(d)||(null===r||void 0===r||null===(i=r.mapTalksMap)||void 0===i||i.setZoom(Math.max(t-a,d)))}),[r,a,d]);return(0,l.jsxs)("div",{className:"mtmap-controls__block",children:[(0,l.jsx)("div",{className:"mtmap-controls__item",onClick:c,"aria-label":"zoom in",children:(0,l.jsx)("svg",{style:{width:"12px",height:"12px"},width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.06691 5.93359V0.0664062H5.93358V5.93359H0.0668945V8.06693H5.93358V13.9331H8.06691V8.06693H13.9336V5.93359H8.06691Z"})})}),(0,l.jsx)("div",{className:"mtmap-controls__item",onClick:u,"aria-label":"zoom out",children:(0,l.jsx)("svg",{style:{width:"12px",height:"12px"},width:"16",height:"4",viewBox:"0 0 16 4",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("rect",{x:"0.533203",y:"0.933594",width:"14.9333",height:"2.13333"})})})]})};var w=i(95620);const b=()=>(0,l.jsx)("span",{className:"mtmap-controls__spin",children:(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"})})}),C=()=>(0,l.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("g",{clipPath:"url(#clip0_9916_40456)",children:(0,l.jsx)("path",{d:"M2.17502 1.72458L16.2788 6.42558C16.3518 6.44977 16.4156 6.49583 16.4615 6.5575C16.5075 6.61918 16.5333 6.69349 16.5356 6.77036C16.5379 6.84723 16.5165 6.92295 16.4743 6.98725C16.4321 7.05155 16.3712 7.10133 16.2998 7.12983L9.75002 9.74958L6.43127 16.3871C6.39749 16.4547 6.34409 16.5105 6.27806 16.5472C6.21203 16.5839 6.13644 16.5998 6.06121 16.5929C5.98597 16.5859 5.9146 16.5564 5.85644 16.5081C5.79828 16.4599 5.75604 16.3952 5.73527 16.3226L1.69502 2.18283C1.6763 2.11714 1.67588 2.04759 1.6938 1.98168C1.71173 1.91577 1.74731 1.856 1.79672 1.80884C1.84612 1.76167 1.90747 1.7289 1.97414 1.71405C2.04081 1.6992 2.11026 1.70284 2.17502 1.72458Z",fill:"currentColor"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_9916_40456",children:(0,l.jsx)("rect",{width:"18",height:"18",fill:"white"})})})]}),x=e=>{const{active:t,name:i="location",onLocationGet:a,onGeoLocationDeny:r,onGetLocation:s}=e,[d,c]=(0,n.useState)(t),[u,p]=(0,n.useState)(!1),{map:h,subMap:g}=(0,o.fx)(),f=(0,w.Z)();return(0,l.jsx)(v,{name:i,onClick:function(){if(s)return c(!1),p(!0),void s().then((e=>{if(!e||e.length<2)return c(!1),void p(!1);c(!0),p(!1),a?null===a||void 0===a||a(e,16):(null===h||void 0===h||h.setZoomAndCenter(16,e),null===g||void 0===g||g.setZoomAndCenter(16,e))})).catch((()=>{c(!1),p(!1)}));null===navigator.userAgent.match(/Android/i)&&navigator.permissions.query({name:"geolocation"}).then((e=>{"denied"!==e.state||null===r||void 0===r||r()})),c(!1),p(!0),navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:i}=e.coords,n=[i,t];c(!0),p(!1),a?null===a||void 0===a||a(n,16):(null===h||void 0===h||h.setZoomAndCenter(16,n),null===g||void 0===g||g.setZoomAndCenter(16,n))}),(()=>{c(!1),p(!1)}),{timeout:1e4,enableHighAccuracy:!0,maximumAge:0})},persistentActive:d,icon:u?(0,l.jsx)(b,{}):(0,l.jsx)(C,{}),title:f.$t({id:"JByBQZ",defaultMessage:"Show your location"})})},I=()=>(0,l.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.666992 8.99935C0.666992 4.39935 4.39199 0.666016 8.99199 0.666016C13.6003 0.666016 17.3337 4.39935 17.3337 8.99935C17.3337 13.5993 13.6003 17.3327 8.99199 17.3327C4.39199 17.3327 0.666992 13.5993 0.666992 8.99935ZM12.3087 5.66602H14.767C13.967 4.29102 12.692 3.22435 11.1587 2.69935C11.6587 3.62435 12.042 4.62435 12.3087 5.66602ZM9.00033 2.36602C9.69199 3.36602 10.2337 4.47435 10.592 5.66602H7.40866C7.76699 4.47435 8.30866 3.36602 9.00033 2.36602ZM2.33366 8.99935C2.33366 9.57435 2.41699 10.1327 2.55033 10.666H5.36699C5.30033 10.116 5.25033 9.56602 5.25033 8.99935C5.25033 8.43268 5.30033 7.88268 5.36699 7.33268H2.55033C2.41699 7.86601 2.33366 8.42435 2.33366 8.99935ZM3.23366 12.3327H5.69199C5.95866 13.3743 6.34199 14.3743 6.84199 15.2993C5.30866 14.7743 4.03366 13.716 3.23366 12.3327ZM3.23366 5.66602H5.69199C5.95866 4.62435 6.34199 3.62435 6.84199 2.69935C5.30866 3.22435 4.03366 4.28268 3.23366 5.66602ZM9.00033 15.6327C8.30866 14.6327 7.76699 13.5243 7.40866 12.3327H10.592C10.2337 13.5243 9.69199 14.6327 9.00033 15.6327ZM6.91699 8.99935C6.91699 9.56602 6.97533 10.116 7.05033 10.666H10.9503C11.0253 10.116 11.0837 9.56602 11.0837 8.99935C11.0837 8.43268 11.0253 7.87435 10.9503 7.33268H7.05033C6.97533 7.87435 6.91699 8.43268 6.91699 8.99935ZM11.1587 15.2993C11.6587 14.3743 12.042 13.3743 12.3087 12.3327H14.767C13.967 13.7077 12.692 14.7743 11.1587 15.2993ZM12.7503 8.99935C12.7503 9.56602 12.7003 10.116 12.6337 10.666H15.4503C15.5837 10.1327 15.667 9.57435 15.667 8.99935C15.667 8.42435 15.5837 7.86601 15.4503 7.33268H12.6337C12.7003 7.88268 12.7503 8.43268 12.7503 8.99935Z",fill:"currentColor"})});function j(e){const{map:t}=(0,o.fx)(),{name:i="3d",onToggle:a,persistentActive:r}=e,[s,d]=(0,n.useState)(r),c=(0,w.Z)();return(0,l.jsx)(v,{name:i,onClick:function(e){if(a){(null===a||void 0===a?void 0:a(e))&&d(e)}else null===t||void 0===t||t.toggle3D(e)},persistentActive:s,icon:(0,l.jsx)(I,{}),title:c.$t({id:"fisnYt",defaultMessage:"3D map"})})}const M=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",children:(0,l.jsx)("path",{d:"M12 3.2h1.067v3.2h-1.066V4.265H9.867V3.199zm-8.533 0h2.134v1.066H3.467v2.133H2.401V3.2zm8.534 8.533V9.599h1.066v3.2h-3.2v-1.066zm-8.534 0h2.134v1.066H2.4V9.6h1.066z"})});function k(e){const{name:t="fitBounds",onFit:i,persistentActive:n}=e,o=(0,w.Z)();return(0,l.jsx)(v,{name:t,onClick:()=>{null===i||void 0===i||i()},persistentActive:n,icon:(0,l.jsx)(M,{}),title:o.$t({id:"hHXYmd",defaultMessage:"Zoom to fit"})})}var T=i(18878),E=i.n(T),P=i(68429),O=i(50239),_=i(95775),S=i(59680),N=i(10925),L=i(17778),D=i(53029);const R="Measurement_wrapper__4AgxX",Z="Measurement_title__JwQ2x",A="Measurement_proBadge__1RXxV",F="Measurement_tips__Vc+wN",z="Measurement_value__qShRo",B="Measurement_radioGroup__9iK-Y",V="Measurement_subTitle__iYjfR",H="Measurement_resetButton__hOrps",W="Measurement_history__RkdKu",U="Measurement_historyList__0kgKx";var q=i(91671),G=i(2550);var $=i(34197);function J(e){let{theme:t,locale:i,active:o,map:a,type:l,method:r,baseMapProvider:s,projectId:d,getDirection:c}=e;const{lastMeasure:u,distanceTool:p}=(e=>{let{theme:t="light",locale:i="en-US",active:o,map:a}=e;const[l,r]=(0,n.useState)(0),s=(0,n.useMemo)((()=>({...Y(t),language:["zh-CN","en-US"].includes(i)?i:"en-US"})),[t,i]),d=(0,n.useMemo)((()=>o?new G.kg(s):void 0),[s,o]),c=(0,n.useCallback)((()=>d?K(d.getLastMeasure()):0),[d]);return(0,n.useEffect)((()=>{o&&null!==a&&void 0!==a&&a.mapTalksMap&&d&&d.addTo(a.mapTalksMap)}),[o,d,a]),(0,n.useEffect)((()=>{if(!d)return;const e=()=>r(c());return d.addEventListener("drawend",e),()=>{d.removeEventListener("drawend",e)}}),[d,c]),(0,n.useEffect)((()=>(o||(null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove(),r(0)),()=>{null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove()})),[d,o]),{distanceTool:d,lastMeasure:l,getLastMeasure:c}})((0,n.useMemo)((()=>({theme:t,locale:i,active:o&&"distance"===l,map:a,projectId:d})),[o,i,a,t,l,d])),{lastMeasure:h,areaTool:v}=function(e){let{theme:t,locale:i,active:o,map:a}=e;const[l,r]=(0,n.useState)(0),s=(0,n.useMemo)((()=>{const e=Y(t),n=["zh-CN","en-US"].includes(i)?i:"en-US";return{...e,symbol:{...e.symbol,polygonFill:"#0065FF",polygonOpacity:.3},language:n}}),[t,i]),d=(0,n.useMemo)((()=>o?new G.Hp(s):void 0),[s,o]),c=(0,n.useCallback)((()=>d?K(d.getLastMeasure(),!0):0),[d]);return(0,n.useEffect)((()=>{o&&null!==a&&void 0!==a&&a.mapTalksMap&&d&&d.addTo(a.mapTalksMap)}),[o,d,a]),(0,n.useEffect)((()=>{if(!d)return;const e=()=>r(c());return d.addEventListener("drawend",e),()=>{d.removeEventListener("drawend",e)}}),[d,c]),(0,n.useEffect)((()=>(o||(null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove(),r(0)),()=>{null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove()})),[d,o]),{areaTool:d,lastMeasure:l,getLastMeasure:c}}((0,n.useMemo)((()=>({theme:t,locale:i,active:o&&"area"===l,map:a,projectId:d})),[o,i,a,t,l,d])),{distance:g,duration:f,isLoading:m,loadHistory:y,resetDirection:w}=(0,$.g)((0,n.useMemo)((()=>({theme:t,locale:i,active:o&&"route"===l,map:a,method:r,baseMapProvider:s,projectId:d,getDirection:c})),[o,i,a,t,l,r,s,d,c]));return{lastDistanceMeasure:u,lastAreaMeasure:h,distanceTool:p,areaTool:v,distance:g,duration:f,isLoading:m,loadHistory:y,resetDirection:w}}function K(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(e,t,i){const n=i?t?["ft\xb2","mi\xb2"]:["ft","mi"]:t?["m\xb2","km\xb2"]:["m","km"],o=i?t?5280**2:5280:t?1e6:1e3,a=(e=i?t?10.764*e:3.28*e:e)>o;e=a?e/o:e;const l=(0,q.P)(e,2,"commaNumber");return"".concat(l," ").concat(a?n[1]:n[0])}const n=i(e,t,!1),o=i(e,t,!0);return"".concat(n,"(").concat(o,")")}function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";const t="dark"===e?"#091E42":"#FFF";return{symbol:{lineColor:"#0065FF",lineWidth:2},vertexSymbol:{markerType:"ellipse",markerFill:"#fff",markerLineColor:"#0065FF",markerLineWidth:2,markerWidth:10,markerHeight:10},labelOptions:{textSymbol:{textFaceName:"monospace",textFill:"#000",textLineSpacing:1,textHorizontalAlignment:"right",textDx:15,markerLineColor:t,markerFill:"#000"},boxStyle:{padding:[6,2],symbol:{markerType:"square",markerFill:"#FFF",markerFillOpacity:.9}}},clearButtonSymbol:[{markerType:"square",markerFill:"dark"===e?"#FFF":"#091E42",markerLineWidth:2,markerWidth:0,markerHeight:0,markerDx:0},{markerType:"x",markerWidth:0,markerHeight:0,markerLineColor:t,markerDx:0}]}}const Q=(e,t)=>{const{name:i="measurement",theme:a,active:r,locale:s,baseMapProvider:d,enableRoute:c,projectId:u,history:p,onClick:h,onActiveChange:g,getDirection:f,checkRights:m}=e,{map:y}=(0,o.fx)(),[b,C]=(0,n.useState)("distance"),[x,I]=(0,n.useState)("driving"),{lastDistanceMeasure:j,distanceTool:M,lastAreaMeasure:k,distance:T,duration:N,isLoading:W,loadHistory:U,resetDirection:q}=J((0,n.useMemo)((()=>({theme:a,locale:s,map:y,active:r,type:b,method:x,baseMapProvider:d,projectId:u,getDirection:f})),[s,a,y,r,b,x,d,u,f])),G=(0,w.Z)();function $(){null===h||void 0===h||h(!1,i),g(!1)}function K(){g(!r),null===h||void 0===h||h(!r,i)}const Y=(0,n.useMemo)((()=>{const e=[{value:"distance",label:G.$t({id:"measurement.distance",defaultMessage:"Distance"})},{value:"area",label:G.$t({id:"measurement.area",defaultMessage:"Area"})}];return c&&e.push({value:"route",label:(0,l.jsxs)(O.Z,{align:"center",children:[G.$t({id:"measurement.route",defaultMessage:"Route"}),(0,l.jsx)(D.Z,{className:A})]})}),e}),[G,c]),Q=[{value:"driving",label:G.$t({id:"measurement.driving",defaultMessage:"Driving"})},{value:"walking",label:G.$t({id:"measurement.walking",defaultMessage:"Walking"})},{value:"bicycling",label:G.$t({id:"measurement.bicycling",defaultMessage:"Bicycling"})}];(0,n.useImperativeHandle)(t,(()=>({distanceTool:{open:()=>K(),close:()=>$(),endDraw:()=>null===M||void 0===M?void 0:M.endDraw()},type:b,active:r}))),(0,n.useEffect)((()=>{r||(C("distance"),I("driving"))}),[r]);return(0,l.jsx)(v,{showClose:!0,name:i,onClick:K,onClose:$,active:r,icon:(0,l.jsx)(P.Z,{type:"distance"}),title:G.$t({id:"XsDoHr",defaultMessage:"Measurement"}),children:(0,l.jsxs)("div",{className:R,children:[(0,l.jsx)("div",{className:Z,children:G.$t({id:"XsDoHr",defaultMessage:"Measurement"})}),(0,l.jsx)(_.ZP.Group,{size:"small",options:Y,optionType:"button",className:B,value:b,onChange:e=>(async e=>{if("route"===e){if(!await m())return;C(e)}else C(e)})(e.target.value),disabled:W}),"route"===b&&(0,l.jsxs)(S.Z,{spinning:W,indicator:(0,l.jsx)(L.Z,{}),children:[(0,l.jsxs)(O.Z,{align:"center",justify:"space-between",style:{marginBottom:6},children:[(0,l.jsx)("div",{className:V,children:G.$t({id:"lRiViJ",defaultMessage:"Travel method"})}),T&&N&&(0,l.jsx)("span",{className:H,onClick:q,children:G.$t({id:"Ks6VyE",defaultMessage:"clear"})})]}),(0,l.jsx)(_.ZP.Group,{size:"small",options:Q,optionType:"button",value:x,style:{marginBottom:10},onChange:e=>I(e.target.value)}),(0,l.jsxs)(O.Z,{align:"center",justify:"space-between",children:[(0,l.jsxs)("div",{className:V,children:[G.$t({id:"YILem4",defaultMessage:"Travel time"}),":"]}),(0,l.jsx)("div",{className:z,children:N?"".concat(E()(N)?Math.round(N/60):N," min"):""})]}),(0,l.jsxs)(O.Z,{align:"center",justify:"space-between",children:[(0,l.jsxs)("div",{className:V,children:[G.$t({id:"Y/tOfN",defaultMessage:"Travel distance"}),":"]}),(0,l.jsx)("div",{className:z,children:T?"".concat(E()(T)?(Math.round(T/1e3*100)/100).toFixed(2):T," km"):""})]}),(null===p||void 0===p?void 0:p.length)&&(0,l.jsx)(ee,{history:p,onClick:function(e){U(e.origin,e.destination)}})]}),("distance"===b||"area"===b)&&(0,l.jsx)("div",{className:F,children:G.$t({id:"DJB2vn",defaultMessage:"Click to start measurement, double click to end"})}),"distance"===b&&(0,l.jsxs)(O.Z,{align:"center",justify:"space-between","data-testid":"measureDistance",children:[(0,l.jsxs)("div",{children:[G.$t({id:"measurement.distance",defaultMessage:"Distance"}),":"]}),(0,l.jsx)("div",{className:z,children:j})]}),"area"===b&&(0,l.jsxs)(O.Z,{align:"center",justify:"space-between","data-testid":"measureDistance",children:[(0,l.jsxs)("div",{children:[G.$t({id:"measurement.area",defaultMessage:"Area"}),":"]}),(0,l.jsx)("div",{className:z,children:k})]})]})})},X=(0,n.forwardRef)(Q);function ee(e){let{history:t,onClick:i}=e;const n=(0,w.Z)();return(0,l.jsxs)("div",{className:W,children:[(0,l.jsx)("h3",{children:n.$t({id:"djJp6c",defaultMessage:"History"})}),(0,l.jsx)("ul",{className:U,children:t.map(((e,t)=>(0,l.jsxs)("li",{onClick:()=>i(e),children:[(0,l.jsx)(N.Z.Text,{ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.originName,destroyOnHidden:!0}},children:e.originName}),(0,l.jsx)(P.Z,{type:"arrowRight5"}),(0,l.jsx)(N.Z.Text,{ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.destinationName,destroyOnHidden:!0}},children:e.destinationName})]},t)))})]})}const te={control:"regionMatchResult_control__Th6Yq",title:"regionMatchResult_title__Xa+vF",divider:"regionMatchResult_divider__cQmKv",text:"regionMatchResult_text__3GRch",tip:"regionMatchResult_tip__DpdJm"};function ie(e){var t,i;let{totalItems:o,notMatchedItems:a}=e;const r=(0,w.Z)(),[s,d]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{null!==a&&void 0!==a&&a.length?d(!0):d(!1)}),[a]),(0,l.jsxs)(v,{name:"regionMatchResult",onClick:function(){d(!s)},active:s,icon:(0,l.jsx)(P.Z,{type:"info"}),title:r.$t({id:"TXlHZX",defaultMessage:"Match results"}),className:te.control,children:[(0,l.jsx)("div",{className:te.title,children:r.$t({id:"TXlHZX",defaultMessage:"Match results"})}),(0,l.jsx)("div",{className:te.title,children:r.$t({id:"i1NSyk",defaultMessage:"Total: {count} row(s)"},{count:null!==(t=null===o||void 0===o?void 0:o.length)&&void 0!==t?t:""})}),null!==a&&void 0!==a&&a.length?(0,l.jsx)("div",{className:te.divider}):null,(0,l.jsx)("div",{className:te.title,children:r.$t({id:"L85JMq",defaultMessage:"Failed: {count} row(s)"},{count:null!==(i=null===a||void 0===a?void 0:a.length)&&void 0!==i?i:""})}),null===a||void 0===a?void 0:a.slice(0,5).map(((e,t)=>(0,l.jsxs)("div",{className:te.text,children:[t+1,". ",e.regionName]},e.rowId))),a&&(null===a||void 0===a?void 0:a.length)>5?(0,l.jsx)("div",{className:te.tip,children:r.$t({id:"+n5dHE",defaultMessage:"Only show the first 5 items"})}):null]})}},99661:(e,t,i)=>{"use strict";i.d(t,{D9:()=>d,DM:()=>n,Kt:()=>a,NY:()=>c,kD:()=>r,v:()=>o,v2:()=>s});const n=["#E55D3C","#FFD233","#5EC298","#33C6E1","#3384FF","#8476CD","#505F79","#ffffff"],o=[2,6,10],a=[40,64,96],l={markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#3384FF",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14},r={...l,markerFillOpacity:.6,markerLineWidth:1},s={...l,markerType:"ellipse"},d={...l,markerType:"square"},c={markerType:"ellipse",markerFill:"#fff",markerLineColor:"#fff",markerLineWidth:0,markerWidth:0,markerHeight:0,opacity:0}},602:(e,t,i)=>{"use strict";i.d(t,{Y8:()=>n,ak:()=>o,tR:()=>a});const n=99,o={bg:["landcover","national-park","landuse","pitch-outline","water-shadow","water","waterway","hillshade","land-structure-polygon","land-structure-line","cliff","gate-fence-hedge","contour-line","contour-label","aeroway-polygon","aeroway-line","admin-1-boundary-bg","admin-0-boundary-bg","admin-1-boundary","admin-0-boundary","admin-0-boundary-disputed"],road:["tunnel-street-minor-low","tunnel-street-minor-case","tunnel-primary-secondary-tertiary-case","tunnel-major-link-case","tunnel-motorway-trunk-case","tunnel-construction","tunnel-path","tunnel-steps","tunnel-major-link","tunnel-pedestrian","tunnel-street-minor","tunnel-primary-secondary-tertiary","tunnel-oneway-arrow-blue","tunnel-motorway-trunk","tunnel-oneway-arrow-white","ferry","ferry-auto","road-path-bg","road-steps-bg","turning-feature-outline","road-pedestrian-case","road-minor-low","road-street-low","road-minor-case","road-street-case","road-secondary-tertiary-case","road-primary-case","road-major-link-case","road-motorway-trunk-case","road-construction","road-path","road-steps","road-major-link","road-pedestrian","road-pedestrian-polygon-fill","road-pedestrian-polygon-pattern","road-polygon","road-minor","road-street","road-secondary-tertiary","road-primary","road-oneway-arrow-blue","road-motorway-trunk","road-rail","road-rail-tracks","level-crossing","road-oneway-arrow-white","turning-feature","golf-hole-line","bridge-path-bg","bridge-steps-bg","bridge-pedestrian-case","bridge-street-minor-low","bridge-street-minor-case","bridge-primary-secondary-tertiary-case","bridge-major-link-case","bridge-motorway-trunk-case","bridge-construction","bridge-path","bridge-steps","bridge-major-link","bridge-pedestrian","bridge-street-minor","bridge-primary-secondary-tertiary","bridge-oneway-arrow-blue","bridge-motorway-trunk","bridge-rail","bridge-rail-tracks","bridge-major-link-2-case","bridge-motorway-trunk-2-case","bridge-major-link-2","bridge-motorway-trunk-2","bridge-oneway-arrow-white","aerialway","road-label","road-number-shield","golf-hole-label"],building:["building-outline","building"],point:["building-number-label","road-exit-shield","waterway-label","natural-line-label","natural-point-label","water-line-label","water-point-label","poi-label","transit-label","airport-label","settlement-subdivision-label","settlement-label","state-label","country-label"]},a=Object.keys(o)},6895:(e,t,i)=>{"use strict";i.d(t,{Ib:()=>r,fx:()=>s});var n=i(57435),o=i(19087),a=i.n(o);const l=(0,n.createContext)({map:null,setMap:a(),subMap:null,setSubMap:a()}),r=l.Provider;function s(){const e=(0,n.useContext)(l);if(null==e)throw new Error("No context provided: useMapContext() can only be used in a descendant of <MapContainer>");return e}},95315:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});var n=i(57323),o=i.n(n),a=i(2550),l=i(15972),r=i.n(l),s=i(88264),d=i(88716),c=i.n(d),u=i(74720),p=i.n(u),h=i(13307),v=i.n(h),g=i(98720),f=i(61469);const m={1:1,2:2,3:2,4:3,5:4,6:4,7:5,8:6,9:6,10:7,11:8,12:8,13:9,14:10,15:10};function y(e){if(e)return e<2?1:e>14?10:m[Math.floor(e)]}var w=i(56765),b=i(95131);class C extends a.mh{constructor(e,t){super(e,{...C.defaultOptions}),o()(this,"baseMap",null),o()(this,"isReady",null),this.isReady=new Promise(((e,t)=>{this.on("resourceload",(()=>{e()})),this.on("fail",(()=>{t()}))})),this.baseMap=t}resize(){this.getRenderer().onResize()}syncViewState(){this.getRenderer().syncViewState()}getBaseMap(){return this.getRenderer().baseMap}}o()(C,"defaultOptions",{renderer:"gl",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0});class x extends a.jG.CanvasRenderer{constructor(){super(...arguments),o()(this,"baseMap",null),o()(this,"isLoaded",!1),o()(this,"containerHTMLClassName","maptalks-basemap-layer")}onAdd(){if(!this.baseMap){var e;const t=this.getMap(),i=t.getContainer(),n=p()(t.getPanels(),"backStatic"),o=document.createElement("div");o.className=this.containerHTMLClassName,o.style.cssText="width: ".concat(i.clientWidth,"px; height: ").concat(i.clientHeight,"px;"),n.appendChild(o),null===(e=this.layer.baseMap)||void 0===e||e.create(o,{zoom:(0,b.a)(t.getResolution(t.getZoom()))}).then((e=>{var i;this.isLoaded=!0,t.on("zooming",this.syncViewState,this),t.on("zoomend",this.syncViewState,this),t.on("moving",this.syncViewState,this),t.on("moveend",this.syncViewState,this),t.on("dragrotating",this.syncViewState,this),t.on("dragrotateend",this.syncViewState,this),this.baseMap=e,null===(i=this.layer)||void 0===i||i.fire("resourceload",{})})).catch((e=>{var t;null===(t=this.layer)||void 0===t||t.fire("fail",{}),console.warn(e)}))}}syncViewState(){const e=this.getMap();if(this.baseMap&&e){const t=e.getCenter().toArray(),i=e.getZoom(),n=e.getPitch(),o=e.getBearing(),a=e.getResolution(i);this.baseMap.setZoomAndCenter((0,b.a)(a),t),this.baseMap.setPitch(n),this.baseMap.setBearing(o)}}draw(){this.completeRender()}onResize(){var e;null===(e=this.baseMap)||void 0===e||e.mapInstance.then((()=>{const e=this.getMap(),t=null===e||void 0===e?void 0:e.getContainer();if((null===t||void 0===t?void 0:t.clientWidth)+(null===t||void 0===t?void 0:t.clientHeight)>0){var i;const n=p()(e.getPanels(),"backStatic").querySelector(".".concat(this.containerHTMLClassName));n&&(n.style.cssText="width: ".concat(t.clientWidth,"px; height: ").concat(t.clientHeight,"px;")),null===(i=this.baseMap)||void 0===i||i.resize()}}))}remove(){const e=this.getMap();e.off("zooming",this.syncViewState,this),e.off("zoomend",this.syncViewState,this),e.off("moving",this.syncViewState,this),e.off("moveend",this.syncViewState,this),e.off("dragrotating",this.syncViewState,this),e.off("dragrotateend",this.syncViewState,this);const t=p()(e.getPanels(),"backStatic");var i;(this.baseMap&&(this.baseMap.destroy(),this.baseMap=null),t)&&(null===(i=t.querySelector(".".concat(this.containerHTMLClassName)))||void 0===i||i.remove());super.remove()}drawOnInteracting(){this.draw()}hitDetect(){return!1}}C.registerRenderer("gl",x);var I=i(21999),j=i(5550),M=i(93611);const k=window.devicePixelRatio||1;class T extends a.mM{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,{...T.canvasLayerOptions,...i}),this.props=t}setProps(e){Object.assign(this.props,e,{id:this.id});const t=this.getRenderer();return t&&(t.setOptions(this.options),t.setToRedraw(),setTimeout((()=>{t.setToRedraw()}))),this}setToRedraw(){var e;null===(e=this.getRenderer())||void 0===e||e.setToRedraw()}getProps(){return this.props}getCanvas(){var e;return null===(e=this.getRenderer())||void 0===e?void 0:e.canvas}getBounds(){var e;return null===(e=this.getRenderer().currentViewport)||void 0===e?void 0:e.getBounds()}getViewport(){return this.getRenderer().currentViewport}getDeckInstance(){return this.getRenderer().deckInstance}}o()(T,"canvasLayerOptions",{renderer:"gl",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0});class E extends a.jG.CanvasRenderer{constructor(){super(...arguments),o()(this,"isProxyed",!1),o()(this,"deckProps",{}),o()(this,"currentViewport",null),o()(this,"onVisibilityChange",(()=>{"visible"===document.visibilityState&&this.onDebounceRedraw()}))}needToRedraw(){return!!this.options.animation||super.needToRedraw()}onAdd(){this.prepareCanvas(),document.addEventListener("visibilitychange",this.onVisibilityChange,!1);const e=this.getMap(),t=this.gl,i=this.layer.getProps(),n={_customRender:()=>{"ontouchstart"in window||navigator.maxTouchPoints>0||(this.setCanvasUpdated(),null!==i&&void 0!==i&&i._customRender&&i._customRender(""))},parameters:{depthMask:!0,depthTest:!0,blend:!0,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],polygonOffsetFill:!0,depthFunc:t.LEQUAL,blendEquation:t.FUNC_ADD},onLoad:()=>{setTimeout((()=>{this.setToRedraw()}))},userData:{setToRedraw:()=>{this.setToRedraw()}}};this.deckInstance||(this.deckProps=Object.assign(n,i,{gl:this.gl,width:!1,height:!1,viewState:P(e),useDevicePixels:k}),this.deckInstance=new I.Z(n),e.on("mousemove",this.onMouseMove,this),e.on("mousedown",this.onMouseDown,this),e.on("touchstart",this.onMouseDown,this),e.on("click",this.onMouseClick,this),e.on("zoomend",this.onDebounceRedraw,this),e.on("resize",this.onDebounceRedraw,this))}draw(){this.prepareCanvas();const e=this.getMap();this.deckInstance&&this.deckInstance.isInitialized&&(this.deckInstance.setProps({viewState:P(e),...this.layer.getProps()}),this.repaintDeck()),this.completeRender()}onDebounceRedraw(){setTimeout((()=>{this.setToRedraw()}),800)}onMouseClick(e){let t={};e.offsetCenter||(t={type:"click",offsetCenter:e.containerPoint,srcEvent:e.domEvent}),this.deckInstance._onEvent(t),this.deckInstance._lastPointerDownInfo=null}onMouseMove(e){let t={};e.offsetCenter||(t={offsetCenter:e.containerPoint,srcEvent:e.domEvent}),this.deckInstance._onPointerMove(t),this.setToRedraw()}onMouseDown(e){let t={};e.offsetCenter||(t={offsetCenter:e.containerPoint,srcEvent:e.domEvent}),this.deckInstance._onPointerDown(t)}repaintDeck(){const e=this.getMap();if(this.deckInstance){const t=function(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new j.Z({id:"maptalks",x:0,y:0,width:e.width,height:e.height,repeat:n,...P(t),nearZMultiplier:i?.02:.1})}(this.deckInstance,e,!0,this.deckProps.repeat);this.deckInstance._drawLayers("maptalks-deck-repaint",{viewports:[t],clearCanvas:!1}),this.currentViewport=t}}createContext(){var e,t;if(null!==(e=this.canvas)&&void 0!==e&&e.gl&&null!==(t=this.canvas)&&void 0!==t&&t.gl.wrap){var i;this.gl=null===(i=this.canvas)||void 0===i?void 0:i.gl.wrap()}else{var n,o;const e=this.layer,t=(null===(n=e.options)||void 0===n?void 0:n.glOptions)||{alpha:!0,depth:!0,antialias:!0,stencil:!0};var a;if(t.preserveDrawingBuffer=!0,null!==(o=e.options)&&void 0!==o&&o.customCreateGLContext)this.gl=this.gl||(null===(a=e.options)||void 0===a?void 0:a.customCreateGLContext(this.canvas,t));else this.gl=this.gl||(0,M.kr)(this.canvas,t)}}resizeCanvas(e){if(!this.canvas)return;const t=this.getMap(),i=e||t.getSize(),n=Math.floor(i.width*k),o=Math.floor(i.height*k);var a;this.canvas.width===n&&this.canvas.height===o||(this.canvas.height=o,this.canvas.width=n,null===(a=this.gl)||void 0===a||a.viewport(0,0,n,o),setTimeout((()=>{this.clearCanvas()})))}clearCanvas(){this.canvas&&this.gl&&this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}remove(){if(this.deckInstance){const e=this.getMap();e.off("mousemove",this.onMouseMove,this),e.off("mousedown",this.onMouseDown,this),e.off("click",this.onMouseClick,this),e.off("zoomend",this.onDebounceRedraw,this),e.off("resize",this.onDebounceRedraw,this),this.deckInstance.finalize()}document.removeEventListener("visibilitychange",this.onVisibilityChange),super.remove()}prepareCanvas(){const e=super.prepareCanvas(),t=this.getMap();return!this.isProxyed&&this.canvas&&((0,M.nB)(t,this.canvas,k),this.isProxyed=!0),e}drawOnInteracting(){this.draw()}hitDetect(){return!1}}function P(e){const t=e.getMaxZoom(),i=e.getMinZoom(),n=e.getCenter(),o=e.getPitch(),a=e.getBearing(),l=e.getZoom(),r=e.getResolution(l);return{latitude:n.y,longitude:n.x,zoom:i<2?l:(0,b.a)(r),bearing:a,pitch:o,maxZoom:t,minZoom:i}}T.registerRenderer("gl",E);class O{constructor(e){o()(this,"layers",[]),o()(this,"isReady",null),o()(this,"mapTalksMap",null),o()(this,"baseMap",null),o()(this,"baseMapLayer",null),o()(this,"baseMapType","built-in"),o()(this,"deckLayer",null),o()(this,"geometryEditor",null),o()(this,"annotation",null),o()(this,"geofence",null),o()(this,"defaultMapOptions",{...g.Z.defaultMapOptions,centerCross:!1,attribution:!1,panAnimation:!1}),o()(this,"defaultDeckProps",{controller:!1,getCursor:()=>"default"}),this.props=e,this.init()}init(){const{onError:e,disableVerticalRepeat:t=!0}=this.props;this.isReady=new Promise(((i,n)=>{try{var o;const{container:l,mapOptions:s,baseMap:d,locale:c="zh-CN",layers:u=[],onReady:h,onViewStateChange:g,onViewStateSync:m}=this.props,w=new a.D5(l,{...this.defaultMapOptions,...r()({},null===d||void 0===d||null===(o=d.props)||void 0===o?void 0:o.mapOptions,s)});this.mapTalksMap=w,this.createBaseMapLayer().then((()=>{i({mapTalksMap:w})})).catch((t=>{n(t),null===e||void 0===e||e(t)})),this.createGeometryEditor(),this.createDeckLayer(u),(0,f.K)(c),this.createAnnotationLayer(),this.resolution=y(w.getZoom()),w.on("moveend zoomend dragrotateend pitchend touchend",v()((()=>{const e=null===w||void 0===w?void 0:w.getZoom(),t=null===w||void 0===w?void 0:w.getCenter().toArray().slice(0,2);this.resolution=y(e),null===g||void 0===g||g({zoom:e,resolution:this.resolution,center:t,pitch:null===w||void 0===w?void 0:w.getPitch(),bearing:null===w||void 0===w?void 0:w.getBearing()})}),30)),w.on("zooming moving dragrotating",(()=>{const e=null===w||void 0===w?void 0:w.getZoom();this.resolution=y(e);const t=null===w||void 0===w?void 0:w.getCenter().toArray().slice(0,2);null===m||void 0===m||m({zoom:e,resolution:this.resolution,center:t,pitch:null===w||void 0===w?void 0:w.getPitch(),bearing:null===w||void 0===w?void 0:w.getBearing()})})),w.on("moveend zoomend",(()=>{const e=w.getExtent(),{ymin:i,ymax:n}=e,o=p()(w,"_originCenter");i>n&&o&&t&&w._setPrjCenter(o)})),null===h||void 0===h||h(this)}catch(l){n(l),null===e||void 0===e||e(l)}}))}resize(){var e;null===(e=this.baseMapLayer)||void 0===e||e.resize()}setZoomAndCenter(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=arguments.length>1?arguments[1]:void 0;null===(e=this.mapTalksMap)||void 0===e||e.setCenterAndZoom(new a.c7(n),i),null===(t=this.baseMapLayer)||void 0===t||t.syncViewState()}setFeatures(e){var t;null===(t=this.baseMap)||void 0===t||t.setFeatures(e)}setCenter(e){var t,i;null===(t=this.mapTalksMap)||void 0===t||t.setCenter(new a.c7(e)),null===(i=this.baseMapLayer)||void 0===i||i.syncViewState()}setViewState(e){this.mapTalksMap&&this.baseMapLayer&&this.mapTalksMap.setView(e)}getViewState(){var e;return null===(e=this.mapTalksMap)||void 0===e?void 0:e.getView()}getCenter(){var e;return null===(e=this.mapTalksMap)||void 0===e?void 0:e.getCenter().toArray().slice(0,2)}getZoom(){var e,t;return null!==(e=null===(t=this.mapTalksMap)||void 0===t?void 0:t.getZoom())&&void 0!==e?e:0}zoomIn(){var e;null===(e=this.mapTalksMap)||void 0===e||e.zoomIn()}zoomOut(){var e;null===(e=this.mapTalksMap)||void 0===e||e.zoomOut()}toggle3D(e){var t,i,n,o,a;e?(null===(i=this.mapTalksMap)||void 0===i||i.setPitch(60),null===(n=this.mapTalksMap)||void 0===n||n.setBearing(60)):(null===(o=this.mapTalksMap)||void 0===o||o.setPitch(0),null===(a=this.mapTalksMap)||void 0===a||a.setBearing(0));null===(t=this.baseMapLayer)||void 0===t||t.syncViewState()}is3D(){var e;return 0!==(null===(e=this.mapTalksMap)||void 0===e?void 0:e.getPitch())}destroy(){var e,t,i,n,o;null===(e=this.baseMap)||void 0===e||e.destroy(),null===(t=this.baseMapLayer)||void 0===t||t.remove(),null===(i=this.mapTalksMap)||void 0===i||i.remove(),null===(n=this.geometryEditor)||void 0===n||n.destroy(),null===(o=this.deckLayer)||void 0===o||o.remove(),this.removeGeometryEditor(),this.removeAnnotation(),this.mapTalksMap=null,this.baseMapLayer=null,this.baseMap=null,this.geometryEditor=null,this.deckLayer=null}setLanguage(e){(0,f.K)(e)}async setBaseMap(e,t){const{onError:i}=this.props;if(!this.isReady&&await this.isReady,this.mapTalksMap){if(this.baseMapLayer&&this.removeBaseMapLayer(),t&&(this.props.baseMapType=t),e.props.mapOptions){var n,o,a,l;const t=null!==(n=e.props.mapOptions.center)&&void 0!==n?n:this.mapTalksMap.getCenter().toArray().slice(0,2);this.props.mapOptions=r()({},this.props.mapOptions,{center:t,zoom:null!==(o=e.props.mapOptions.zoom)&&void 0!==o?o:this.mapTalksMap.getZoom(),pitch:null!==(a=e.props.mapOptions.pitch)&&void 0!==a?a:this.mapTalksMap.getPitch(),bearing:null!==(l=e.props.mapOptions.bearing)&&void 0!==l?l:this.mapTalksMap.getBearing()})}else{var s,d,c;const t=null===(s=this.mapTalksMap)||void 0===s?void 0:s.getCenter().toArray().slice(0,2),i={zoom:this.mapTalksMap.getZoom(),center:t,pitch:null!==(d=this.mapTalksMap.getPitch())&&void 0!==d?d:0,bearing:null!==(c=this.mapTalksMap.getBearing())&&void 0!==c?c:0};e.props.mapOptions=r()({},i),this.props.mapOptions=r()({},this.props.mapOptions,i)}this.props.baseMap=e,await this.createBaseMapLayer().catch((e=>{null===i||void 0===i||i(e)}))}}setLayers(e){if(!this.deckLayer)return void console.warn("deckLayer is not created");this.layers=e.map((e=>e.clone({})));const t=this.layers.some((e=>e instanceof w.Fw));this.deckLayer.setOptions({animation:t}),this.geofence?this.updateGeofence():this.deckLayer.setProps({layers:e})}restoreLayers(){c()(this.layers)||this.setLayers(this.layers)}createDeckLayer(e){var t;const{deckProps:i}=this.props;if(this.deckLayer)return this.deckLayer;const n=new T("deck",{...this.defaultDeckProps,getTooltip:()=>null,...i,layers:e});return null===(t=this.mapTalksMap)||void 0===t||t.addLayer(n),this.deckLayer=n,n}async createBaseMapLayer(){if(this.baseMapLayer)return this.baseMapLayer;if(!this.mapTalksMap||!this.props.baseMap)return null;const{baseMap:e,baseMapType:t="built-in"}=this.props;return new Promise(((i,n)=>{var o,l,s,d,c,u,p,h;const v=r()({},e.props.mapOptions,this.props.mapOptions);if(null===(o=this.mapTalksMap)||void 0===o||o.setCenter(new a.c7(null!==(l=v.center)&&void 0!==l?l:g.Z.defaultMapOptions.center)),null===(s=this.mapTalksMap)||void 0===s||s.setZoom(null!==(d=v.zoom)&&void 0!==d?d:g.Z.defaultMapOptions.zoom),null===(c=this.mapTalksMap)||void 0===c||c.setPitch(null!==(u=v.pitch)&&void 0!==u?u:g.Z.defaultMapOptions.pitch),null===(p=this.mapTalksMap)||void 0===p||p.setBearing(null!==(h=v.bearing)&&void 0!==h?h:g.Z.defaultMapOptions.bearing),"built-in"===t){var f,m;const t=new C("baseMap",e);null===(f=this.mapTalksMap)||void 0===f||f.addLayer(t),this.baseMapLayer=t,this.baseMap=t.baseMap,null===(m=t.isReady)||void 0===m||m.then((()=>{i(this.baseMap)})).catch((()=>{this.removeBaseMapLayer(),n()}))}else{var y;null===(y=this.mapTalksMap)||void 0===y||y.addLayer(e),this.baseMapLayer=e,this.baseMap=e,i(this.baseMap)}}))}removeBaseMapLayer(){this.baseMapLayer&&this.mapTalksMap?(this.mapTalksMap.removeLayer(this.baseMapLayer),this.baseMapLayer=null,this.baseMap=null):console.warn("baseMapLayer or mapTalksMap is not initialized")}async createGeometryEditor(){const{geometryEditor:e}=this.props;return e&&this.mapTalksMap&&this.props.baseMap?(await e.attach(this.mapTalksMap),void(this.geometryEditor=e)):null}async setGeometryEditor(e){if(!this.isReady&&await this.isReady,!this.mapTalksMap)return null;this.geometryEditor&&this.geometryEditor.destroy(),e&&(await e.attach(this.mapTalksMap),this.geometryEditor=e)}async removeGeometryEditor(){!this.isReady&&await this.isReady,this.geometryEditor&&(this.geometryEditor.destroy(),this.geometryEditor=null)}async createAnnotationLayer(){const{annotation:e}=this.props;return e&&this.mapTalksMap&&this.props.baseMap?(await e.attach(this.mapTalksMap),void(this.annotation=e)):null}async setAnnotation(e){if(!this.isReady&&await this.isReady,!this.mapTalksMap)return null;this.annotation&&this.annotation.destroy(),e&&(await e.attach(this.mapTalksMap),this.annotation=e)}async removeAnnotation(){!this.isReady&&await this.isReady,this.annotation&&(this.annotation.destroy(),this.annotation=null)}async fitBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?new Promise((i=>{setTimeout((()=>{if(this.mapTalksMap){var n,o;null===(n=this.mapTalksMap)||void 0===n||n.setCenter(e.getCenter()),null===(o=this.mapTalksMap)||void 0===o||o.fitExtent(e,t);const a=this.mapTalksMap.getCenter(),l=this.mapTalksMap.getZoom();i({longitude:a.x,latitude:a.y,zoom:l})}else i(void 0)}),300)})):Promise.resolve(void 0)}getBbox(){var e;const t=null===(e=this.deckLayer)||void 0===e?void 0:e.getBounds();return t||null}calculateBbox(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=null===(i=this.deckLayer)||void 0===i?void 0:i.getViewport();if(!a)return null;const l={targetZ:0},r=a.unproject([0+n,0+o],l),s=a.unproject([e+n,0+o],l),d=a.unproject([0+n,t+o],l),c=a.unproject([e+n,t+o],l);return[Math.min(r[0],s[0],d[0],c[0]),Math.min(r[1],s[1],d[1],c[1]),Math.max(r[0],s[0],d[0],c[0]),Math.max(r[1],s[1],d[1],c[1])]}async setGeofence(e){if(!this.isReady&&await this.isReady,!this.mapTalksMap)return null;this.geofence&&this.geofence.destroy(),e&&(e.attachTo(this.mapTalksMap),this.geofence=e)}async updateGeofence(){if(!this.isReady&&await this.isReady,!this.mapTalksMap||!this.geofence||!this.deckLayer)return null;const e=new s.Z({id:"geofence",data:[this.geofence.getExtent()],getPolygon:e=>e,operation:"mask"});this.deckLayer.setProps({layers:[...this.layers,e]})}removeGeofence(){var e;this.geofence&&(this.geofence.destroy(),this.geofence=null,null===(e=this.deckLayer)||void 0===e||e.setProps({layers:this.layers}))}}},40978:(e,t,i)=>{"use strict";i.d(t,{cG:()=>f,Zn:()=>m,be:()=>w,HF:()=>y,vs:()=>b});var n=i(37383),o=i(57323),a=i.n(o);class l{constructor(e){a()(this,"i",0),this.raw=e}peek(){if(this.i>this.raw.length)throw new Error("unexpected EOF");return this.raw[this.i]}skipWs(){if(!(this.i>=this.raw.length))for(let e=this.i;e<this.raw.length;e++){if(!r(this.raw.charAt(e)))return;this.i+=1}}scanStart(){this.skipWs();const e=this.peek();if("("!==e)throw new Error("expect '(' got ".concat(e));this.i++}scanContinue(){this.skipWs();const e=this.peek(),t=","===e;if(!t&&")"!==e)throw new Error("expect ',' or ')' got ".concat(e));return this.i++,t}scanCircle(){this.scanStart();const[e,t]=this.scanCoordinate();if(!t){const e=this.peek();throw new Error("expect ',' got ".concat(e))}this.i++,this.skipWs();const i=this.scanNumber(),n=this.peek();if(")"!==n)throw new Error("expect ')' got ".concat(n));return this.i++,[e[0],e[1],i]}scanCirlces(){this.scanStart();const e=[];for(;;){const t=this.scanCircle();e.push(t);if(!this.scanContinue())break}return e}scanNumber(){this.skipWs();let e="",t=this.peek();for(;s(t);)this.i+=1,e+=t,t=this.peek();const i=Number(e);if(Number.isNaN(i))throw new Error("number parse error ".concat(e));return i}scanCoordinate(){if(this.skipWs(),this.i>this.raw.length)throw new Error("unexpected EOF");const e=this.scanNumber();this.skipWs();const t=this.scanNumber();this.skipWs();const i=this.peek(),n=","===i;if(!n&&")"!==i)throw new Error("expect ',' or ')' got ".concat(i));return this.i++,[[e,t],n]}scanCoordinates(e){if(this.scanStart(),e)try{this.scanStart()}catch(i){e=!1}const t=[];for(;;){const[i,n]=this.scanCoordinate();if(t.push(i),!n){if(e){if(this.scanContinue()){this.scanStart();continue}}return t}if(e)throw new Error("expect ')' got ','")}}scanPolyData(e){this.scanStart();const t=[];for(;;){const i=this.scanCoordinates(!1);if(e){if(i.length<4)throw new Error("a polygon ring must have at least 4 points, got ".concat(i.length));if(i[0][0]!==i[i.length-1][0]||i[0][1]!==i[i.length-1][1])throw new Error("a polygon ring must be closed")}else if(i.length<2)throw new Error("must have at least 2 points, got ".concat(i.length));if(t.push(i),!this.scanContinue())return t}}scanMultiPolyData(){this.scanStart();const e=[];for(;;){const t=this.scanPolyData(!0);if(e.push(t),!this.scanContinue())return e}}scanIndent(){if(this.skipWs(),this.i>=this.raw.length)throw new Error("unexpected EOF");let e="",t=0;for(t=this.i;t<this.raw.length;t++){const i=this.raw.charAt(t);if(!d(i))break;e+=i.toUpperCase(),this.i+=1}if(0===e.length)throw new Error("indent not found");return e}scanGeometry(){const e=this.scanIndent();let t;switch(e){case"CIRCLE":t={type:"Circle",coordinates:this.scanCircle()};break;case"MULTICIRCLE":t={type:"MultiCircle",coordinates:this.scanCirlces()};break;case"POINT":{const e=this.scanCoordinates(!1);if(1!==e.length)throw new Error("expect 1 got ".concat(e.length," points"));t={type:"Point",coordinates:e[0]};break}case"MULTIPOINT":t={type:"MultiPoint",coordinates:this.scanCoordinates(!0)};break;case"LINESTRING":{const e=this.scanCoordinates(!1);if(e.length<2)throw new Error("must have at least 2 points, got ".concat(e.length));t={type:"LineString",coordinates:e};break}case"POLYGON":t={type:"Polygon",coordinates:this.scanPolyData(!0)};break;case"MULTIPOLYGON":t={type:"MultiPolygon",coordinates:this.scanMultiPolyData()};break;case"MULTILINESTRING":t={type:"MultiLineString",coordinates:this.scanPolyData(!1)};break;default:throw new Error("unknown geometry ".concat(e))}if(this.i+1<=this.raw.length)throw new Error("expect EOF");return t}}function r(e){return 1===e.length&&[" ","\n","\t","\r"].includes(e)}function s(e){return[".","-","0","1","2","3","4","5","6","7","8","9"].includes(e)}function d(e){return 1===e.length&&e.match(/[a-zA-Z]/i)}i(58205);var c=i(40517),u=(i(67045),i(80128)),p=i(80593),h=i(50294);function v(e){switch(e.type){case"Point":return e;case"Circle":{const t=e.coordinates;return{type:"Point",coordinates:[t[0],t[1]]}}case"LineString":{const t=c.Tu(e.coordinates),i=(0,u.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"Polygon":{const t=c.yu(e.coordinates),i=(0,p.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"MultiPoint":{const t=c.ot(e.coordinates),i=(0,u.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"MultiLineString":{const t=c._R(e.coordinates),i=(0,u.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"MultiPolygon":{const t=e.coordinates,i=t.reduce(((e,t)=>(0,h.Z)(c.yu(t))>(0,h.Z)(c.yu(e))?t:e),t[0]),n=c.yu(i),o=(0,u.Z)(n).geometry.coordinates;return{type:"Point",coordinates:[o[0],o[1]]}}default:return console.info("Unknown geometry type",e.type),e}}var g=i(59423);const f=n.default.GCJ02,m=n.default.WGS84;n.default.BD09MC;function y(e){return function(e){return new l(e).scanGeometry()}(e)}function w(e){return v(e)}function b(e,t,i){return(0,g.Z)(e,t,i)}},59423:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(37383);const{transform:o}=n.default;function a(e,t,i){if("Point"!==e.type)return console.info("Unknown geometry type",e.type),e;return{type:"Point",coordinates:o(e.coordinates,t,i)}}},40585:(e,t,i)=>{"use strict";i.d(t,{$:()=>R,g:()=>Z});var n=i(57323),o=i.n(n),a=i(2550),l=i(86117),r=i(43614),s=i.n(r),d=i(43069),c=i(51090),u=i(40590),p=i(94648),h=i(88716),v=i.n(h),g=i(40517),f=i(22787),m=i(82505),y=i(7070),w=i.n(y),b=i(78587),C=i.n(b),x=i(74720),I=i.n(x),j=i(90013),M=i.n(j),k=i(61469);function T(e){const t={type:"Feature",geometry:void 0,properties:null};function i(e){return!t.geometry||!!t.geometry&&t.geometry.type===e}if(e.forEach((e=>{var n,o,a,l;if("GeometryCollection"===e.geometry.type)return;const r=e.geometry,s=r.coordinates;switch(r.type){case"Point":case"MultiPoint":if(!i("MultiPoint"))return;t.geometry={type:"MultiPoint",coordinates:(null===(n=t.geometry)||void 0===n?void 0:n.coordinates)||[]},"Point"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"LineString":case"MultiLineString":if(!i("MultiLineString"))return;t.geometry={type:"MultiLineString",coordinates:(null===(o=t.geometry)||void 0===o?void 0:o.coordinates)||[]},"LineString"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Polygon":case"MultiPolygon":if(!i("MultiPolygon"))return;t.geometry={type:"MultiPolygon",coordinates:(null===(a=t.geometry)||void 0===a?void 0:a.coordinates)||[]},"Polygon"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Circle":case"MultiCircle":if(!i("MultiCircle"))return;t.geometry={type:"MultiCircle",coordinates:(null===(l=t.geometry)||void 0===l?void 0:l.coordinates)||[]},"Circle"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s)}})),void 0!==t.geometry){if(1===t.geometry.coordinates.length)switch(t.geometry.type){case"MultiPoint":t.geometry.type="Point",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiLineString":t.geometry.type="LineString",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiPolygon":t.geometry.type="Polygon",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiCircle":t.geometry.type="Circle",t.geometry.coordinates=t.geometry.coordinates[0]}return t}}const E={markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#0065ff",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:10,markerHeight:10},P={...E,markerWidth:14,markerHeight:14,markerFillOpacity:.6,markerLineWidth:1},O={...E,markerWidth:14,markerHeight:14,markerType:"ellipse"},_={...E,markerWidth:14,markerHeight:14,markerType:"square"},S={lineColor:"#0065ff",lineWidth:2,lineOpacity:1,polygonFill:"#0065ff",polygonOpacity:.2},N={lineColor:"#0065ff",lineWidth:2,lineOpacity:1,polygonFill:"#0065ff",polygonOpacity:.2,markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#0065ff",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:10,markerHeight:10,markerPlacement:"vertex"},L={vertexHandleSymbol:P,centerHandleSymbol:{...O,markerWidth:0,markerHeight:0},newVertexHandleSymbol:_},D={centerHandleSymbol:O,vertexHandleSymbol:{...P,markerHeight:0,markerWidth:0},newVertexHandleSymbol:{..._,markerHeight:0,markerWidth:0}};class R{constructor(e){o()(this,"drawTool",null),o()(this,"layer",null),o()(this,"tooltip",null),o()(this,"snap",null),o()(this,"editMode",null),o()(this,"drawMode","Point"),o()(this,"status","idle"),o()(this,"onlyOnePoint",!1),o()(this,"autoFinish",!1),o()(this,"history",new A),o()(this,"defaultOptions",{symbol:{...N}}),o()(this,"shortcutBinding",(e=>{var t,i,n,o;null!==(t=this.drawTool)&&void 0!==t&&t.isEnabled()&&("Escape"===e.key&&this.clearDrawTool(),"z"===(null===(i=e.key)||void 0===i?void 0:i.toLowerCase())&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.undo()),"y"===(null===(n=e.key)||void 0===n?void 0:n.toLowerCase())&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.redo()),"Enter"===e.key&&"idle"!==this.status&&(null===(o=this.drawTool)||void 0===o||o.endDraw()))})),o()(this,"onMouseMove",(e=>{var t,i,n;const o=null===(t=this.drawTool)||void 0===t?void 0:t.getMap();if(!o||this.editMode||null===(i=this.drawTool)||void 0===i||!i.isEnabled())return;const l=o.getContainer(),r=this.drawMode,s=null===(n=this.drawTool)||void 0===n?void 0:n.getCurrentGeometry();if("Circle"===r&&s&&s instanceof a.Cd){var d;if(s.getRadius()>1e5)null===(d=this.drawTool)||void 0===d||d.endDraw(),s.setRadius(1e5)}if(this.tooltip){var c;const t=this.tooltip,i=e.containerPoint.x,n=e.containerPoint.y+20;if(i<5||i>l.offsetWidth-5)return void(t.style.display="none");if(n<20||n>l.offsetHeight-5)return void(t.style.display="none");t.style.display="block",t.style.left="".concat(i,"px"),t.style.top="".concat(n,"px"),t.innerHTML=null!==(c=this.getTooltipContent(r,s))&&void 0!==c?c:""}else{var u;const e=document.createElement("div"),t={position:"absolute",transform:"translate(-50%, -50%)",backgroundColor:"#fff",borderRadius:"4px",padding:"2px 6px",color:"#505F79",fontSize:"12px",userSelect:"none",pointerEvents:"none",whiteSpace:"nowrap"};e.classList.add("tooltipStyle"),Object.assign(e.style,t),e.textContent=null!==(u=this.getTooltipContent(r,s))&&void 0!==u?u:"",this.tooltip=e,l.appendChild(e)}})),o()(this,"onDrawEnd",(e=>{const{geometry:t}=e,{onDrawEnd:i}=this.props,n=s()("geometry_");if("cut"!==this.editMode){if("Point"===t.getType()){var o;this.onlyOnePoint&&this.clear();const e=new a.Jx(t.getCoordinates(),{symbol:E});null===(o=this.layer)||void 0===o||o.addGeometry(e),e.setId(n)}else{var l;t.setSymbol(S),null===(l=this.layer)||void 0===l||l.addGeometry(t).bringToFront(),t.setId(n)}this.status="idle",this.history.update(),null===i||void 0===i||i(t)}else this.doCut(t)})),o()(this,"onCircleChange",(e=>{if(e.target instanceof a.Cd){var t;this.lastEditingCircle=e.target.getId();let i=e.target.getRadius();i>1e5&&(i=1e5,this.exitEdit(),e.target.setRadius(i),this.startEditVertex()),null===(t=this.onCircleRadiusChange)||void 0===t||t.call(this,i)}})),this.props=e,this.init()}init(){const{options:e,onDrawStart:t}=this.props,i=new a.nh({...this.defaultOptions,...e});this.drawMode=e.mode,this.onlyOnePoint=!!e.onlyOnePoint,this.autoFinish=!!e.autoFinish;const n=new a.DJ(s()("editorLayer_"));document.addEventListener("keydown",this.shortcutBinding),i.on("drawend",this.onDrawEnd),i.on("drawstart",(e=>{var i,n;(e.tempGeometry instanceof a.mg||e.tempGeometry instanceof a.Yp)&&null!==(i=this.layer)&&void 0!==i&&i.getCount()&&(null===(n=this.snap)||void 0===n||n.effectGeometry(e.tempGeometry));this.status="drawing",null===t||void 0===t||t()})),this.layer=n,this.drawTool=i,this.history.setLayer(n)}async attach(e){return new Promise((t=>{var i,n,o,a,r;null===(i=this.drawTool)||void 0===i||i.addTo(e),null===(n=this.layer)||void 0===n||n.addTo(e),e.on("mousemove",this.onMouseMove),e.on("contextmenu",this.clearDrawTool,this),e.setCursor("crosshair");const s=new l.O(e,{tolerance:15,fiterGeometries:()=>{var e,t;return null!==(e=null===(t=this.layer)||void 0===t?void 0:t.getGeometries())&&void 0!==e?e:[]}});this.snap=s,null===this||void 0===this||null===(o=this.layer)||void 0===o||o.on("addgeo removegeo clear",(()=>{var e,t;s.effectGeometry(null!==(e=null===(t=this.layer)||void 0===t?void 0:t.getGeometries())&&void 0!==e?e:[])})),null===(a=(r=this.props).onAttached)||void 0===a||a.call(r),t(!0)}))}undo(){var e;"idle"===this.status||"Point"===this.drawMode?this.history.undo():null===(e=this.drawTool)||void 0===e||e.undo()}redo(){var e;"idle"===this.status||"Point"===this.drawMode?this.history.redo():null===(e=this.drawTool)||void 0===e||e.redo()}doCut(e){var t;const i=I()(e.toGeoJSONGeometry(),"coordinates");null===(t=this.layer)||void 0===t||t.forEach((e=>{const t=I()(e.toGeoJSONGeometry(),"coordinates"),n=e.getType();var o;"Point"!==n&&"MultiPoint"!==n||("Point"===n?(0,f.Z)((0,g.xm)(t),(0,g.yu)(i))&&(null===(o=this.layer)||void 0===o||o.removeGeometry(e)):t.forEach((t=>{if((0,f.Z)((0,g.xm)(t),(0,g.yu)(i))){var n;null===(n=this.layer)||void 0===n||n.removeGeometry(e)}else{var o;const e=new a.Jx(t,{symbol:E});null===(o=this.layer)||void 0===o||o.addGeometry(e)}})));if("LineString"===n||"MultiLineString"===n){var l;null===(l=this.layer)||void 0===l||l.removeGeometry(e);const o=(0,g.yu)(i);("LineString"===n?[t]:t).forEach((e=>{const t=(0,c.Z)((0,g.Tu)(e),o);if(0===t.features.length&&!(0,p.Z)((0,g.Tu)(e),o)){var i;const t=new a.Yp(e,{symbol:S});null===(i=this.layer)||void 0===i||i.addGeometry(t)}t.features.forEach((e=>{const t=(0,u.Z)(e);if(!(0,f.Z)(t,o)){var i;const t=new a.Yp(e.geometry.coordinates,{symbol:S});null===(i=this.layer)||void 0===i||i.addGeometry(t)}}))}))}if("Polygon"===n||"MultiPolygon"===n){var r;const o="Polygon"===n?(0,g.yu)(t):(0,g.tw)(t);if(!(0,m.Z)(o,(0,g.yu)(i)))return;const l=(0,d.Z)(o,(0,g.yu)(i));if("Polygon"===(null===l||void 0===l?void 0:l.geometry.type)){var s;const e=new a.mg(null===l||void 0===l?void 0:l.geometry.coordinates,{symbol:S});null===(s=this.layer)||void 0===s||s.addGeometry(e)}"MultiPolygon"===(null===l||void 0===l?void 0:l.geometry.type)&&(null===l||void 0===l||l.geometry.coordinates.forEach((e=>{var t;const i=new a.mg(e,{symbol:S});null===(t=this.layer)||void 0===t||t.addGeometry(i)}))),null===(r=this.layer)||void 0===r||r.removeGeometry(e)}}))}setMode(){var e,t,i,n;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";null===(e=this.drawTool)||void 0===e||e.setSymbol(N),null===(t=this.drawTool)||void 0===t||t.setMode(o),this.drawMode=o,null===(i=this.tooltip)||void 0===i||i.remove(),this.tooltip=null,null===(n=this.layer)||void 0===n||n.clear(),this.history.clear(),this.exitEdit()}clear(){var e;null===(e=this.layer)||void 0===e||e.clear(),this.history.update()}clearDrawTool(){const e=I()(this.drawTool,"_clearStage");e&&e.call(this.drawTool)}emit(e){switch(e){case"editVertex":return this.startEditVertex();case"move":return this.startMove();case"cut":return this.startCut();case"delete":return this.startDelete()}}startEdit(e){var t,i,n,o,a;const l=null===(t=this.drawTool)||void 0===t?void 0:t.getMap();null===(i=this.tooltip)||void 0===i||i.remove(),this.tooltip=null,null===(n=this.drawTool)||void 0===n||n.disable(),null===l||void 0===l||l.setCursor("pointer"),this.editMode=e,null===(o=(a=this.props).onEditStart)||void 0===o||o.call(a),this.status="editing",null===l||void 0===l||l.off("click",this.deleteGeometry,this)}startEditVertex(){var e;this.startEdit("editVertex"),null===(e=this.layer)||void 0===e||e.forEach((e=>{if("Point"!==e.getType()&&"MultiPoint"!==e.getType()){if(e.startEdit(L),e instanceof a.Cd){var t;if(!this.lastEditingCircle)this.lastEditingCircle=e.getId(),null===(t=this.onCircleRadiusChange)||void 0===t||t.call(this,e.getRadius());e.on("shapechange",this.onCircleChange,this)}}else e.config({draggable:!0})}))}startMove(){var e;this.startEdit("move"),null===(e=this.layer)||void 0===e||e.forEach((e=>{"Point"===e.getType()||"MultiPoint"===e.getType()?(e.config({draggable:!0}),e.setSymbol(E)):e.startEdit(D)}))}startDelete(){var e,t;this.startEdit("delete");const i=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===i||void 0===i||i.on("click",this.deleteGeometry,this),null===(t=this.layer)||void 0===t||t.forEach((e=>{"Point"===e.getType()||"MultiPoint"===e.getType()?e.setSymbol(E):e.endEdit()}))}deleteGeometry(e){var t;null===(t=this.layer)||void 0===t||t.forEach((t=>{if(t instanceof a.Kk||t instanceof a.vZ||t instanceof a.mn){var i,n;const o=t.filter((t=>!t.containsPoint(e.containerPoint)));null===(i=this.layer)||void 0===i||i.removeGeometry(t),t.setGeometries(o.getGeometries()),null===(n=this.layer)||void 0===n||n.addGeometry(t)}else{var o;if(t.containsPoint(e.containerPoint))null===(o=this.layer)||void 0===o||o.removeGeometry(t)}}))}startCut(){var e,t,i;this.startEdit("cut"),null===(e=this.drawTool)||void 0===e||e.setMode("Polygon"),null===(t=this.drawTool)||void 0===t||t.enable(),null===(i=this.layer)||void 0===i||i.forEach((e=>{"Point"===e.getType()||"MultiPoint"===e.getType()?e.setSymbol(E):e.endEdit()}))}exitEdit(){var e,t,i;let n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const o=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===(t=this.drawTool)||void 0===t||t.enable(),this.editMode=null,null===o||void 0===o||o.setCursor("crosshair"),null===o||void 0===o||o.off("click",this.deleteGeometry,this),null===(i=this.layer)||void 0===i||i.forEach((e=>{if("Point"===e.getType()||"MultiPoint"===e.getType())e.setSymbol(E);else if(e.endEdit(),e instanceof a.Cd)try{e.off("shapechange",this.onCircleChange)}catch(t){}})),this.status="idle",this.lastEditingCircle&&(this.lastEditingCircle=void 0),n?this.history.clear():this.history.update()}setEditableData(e){var t,i;this.setMode(Z(e.type));const n=e.type,o=e.coordinates,l="Polygon"===n,r="Point"===n||"MultiPoint"===n;if(!o||0===o.length)return;let d=r?new a.mn(C()(o[0])?o:[o]):l?new a.mg(o,{enableSimplify:!1}):a.QZ.toGeometry(e);var c;("Circle"===n&&(d=new a.Cd([o[0],o[1]],o[2])),"MultiCircle"===n)?o.forEach(((e,t)=>{var i;const n=new a.Cd([e[0],e[1]],e[2]);n.setSymbol(S),n.setId(s()("editableGeometry_")),0===t&&(d=n),null===(i=this.layer)||void 0===i||i.addGeometry(n)})):(r?d.setSymbol(E):d.setSymbol(S),d.setId(s()("editableGeometry_")),null===(c=this.layer)||void 0===c||c.addGeometry(d).bringToFront());null===(t=(i=this.props).onEditStart)||void 0===t||t.call(i),this.history.setOrginalGeometries([d.toGeoJSON()])}setOnDrawEnd(e){this.props.onDrawEnd=e}getData(){var e;const t=null===(e=this.layer)||void 0===e?void 0:e.getGeometries().filter((e=>"tooltip"!==e.getId()));if(v()(t))return null;if("Circle"===this.drawMode){return{type:"FeatureCollection",features:[T(w()(t,(e=>({type:"Feature",geometry:{type:"Circle",coordinates:e.getCenter().toArray().concat(e.getRadius())}}))))]}}return{type:"FeatureCollection",features:[T(w()(t,(e=>e.toGeoJSON())))]}}getExtent(){var e;return null===(e=this.layer)||void 0===e?void 0:e.getExtent()}disable(){var e,t,i,n;const o=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===(t=this.drawTool)||void 0===t||t.disable(),null===(i=this.tooltip)||void 0===i||i.remove(),this.tooltip=null,null===o||void 0===o||o.resetCursor(),null===(n=this.layer)||void 0===n||n.forEach((e=>{e.endEdit()}))}destroy(){var e,t,i,n,o,a;const l=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();l&&(l.off("contextmenu",this.clearDrawTool,this),l.off("mousemove",this.onMouseMove,this),l.resetCursor()),document.removeEventListener("keydown",this.shortcutBinding),null===(t=this.layer)||void 0===t||t.clear(),null===(i=this.drawTool)||void 0===i||i.remove(),null===(n=this.layer)||void 0===n||n.remove(),null===(o=this.snap)||void 0===o||o.dispose(),null===(a=this.tooltip)||void 0===a||a.remove(),this.drawTool=null,this.layer=null,this.tooltip=null,this.snap=null,this.history.clear(),this.lastEditingCircle&&(this.lastEditingCircle=void 0)}getTooltipContent(e,t){const i=I()(t,"_coordinates");if("Point"===e)return null===k.N||void 0===k.N?void 0:k.N.$t({id:"KXix+B",defaultMessage:"Click to draw"});if("LineString"===e||"Polygon"===e)return(null===i||void 0===i?void 0:i.length)>2?null===k.N||void 0===k.N?void 0:k.N.$t({id:"aGlOcW",defaultMessage:"Double-click to finish drawing"}):(null===i||void 0===i?void 0:i.length)>0?null===k.N||void 0===k.N?void 0:k.N.$t({id:"YrGnxZ",defaultMessage:"Click to continue drawing"}):null===k.N||void 0===k.N?void 0:k.N.$t({id:"JK/E9W",defaultMessage:"Click to draw starting point"});if("Circle"===e){if(i){const e=(I()(t,"_radius")/1e3).toFixed(2)+" km";return(null===k.N||void 0===k.N?void 0:k.N.$t({id:"Oae9KV",defaultMessage:"Click to finish circle<br/>Radius:"}))+e}return null===k.N||void 0===k.N?void 0:k.N.$t({id:"8Gihqg",defaultMessage:"Click to mark the center"})}return null===k.N||void 0===k.N?void 0:k.N.$t({id:"w4yNRa",defaultMessage:"Click to start drawing"})}on(e,t){var i;null===(i=this.drawTool)||void 0===i||i.on(e,t)}off(e,t){var i;null===(i=this.drawTool)||void 0===i||i.off(e,t)}updateCircleRadius(e){var t;if(!this.lastEditingCircle)return;const i=null===(t=this.layer)||void 0===t?void 0:t.getGeometryById(this.lastEditingCircle);i&&i instanceof a.Cd&&i.setRadius(e)}setOnCircleRadiusChange(e){this.onCircleRadiusChange=e}}function Z(e){return"Point"===e||"MultiPoint"===e?"Point":"Polygon"===e||"MultiPolygon"===e?"Polygon":"LineString"===e||"MultiLineString"===e?"LineString":"Circle"===e||"MultiCircle"===e?"Circle":void 0}class A{constructor(){o()(this,"history",[]),o()(this,"pointer",-1),o()(this,"layer",null),o()(this,"originalGeometries",[]),o()(this,"updateTrigger",null),this.history=[],this.pointer=-1}updateLayer(){if(!this.layer)return;this.layer.clear();const e=M()(this.history[this.pointer],"id");v()(e)&&!v()(this.originalGeometries)&&-1===this.pointer&&e.push(...this.originalGeometries),null===e||void 0===e||e.forEach((e=>{var t;e&&e.id&&(null===(t=this.layer)||void 0===t||t.removeGeometry(e.id));if("Point"===e.geometry.type||"MultiPoint"===e.geometry.type){var i;const t=e.geometry.coordinates,n=new a.mn(C()(t[0])?t:[t],{symbol:E});null===(i=this.layer)||void 0===i||i.addGeometry(n)}else{var n;const t=a.QZ.toGeometry(e);t.setSymbol(S),null===(n=this.layer)||void 0===n||n.addGeometry(t)}}))}getLayerGeometries(){var e,t;return null!==(e=null===(t=this.layer)||void 0===t?void 0:t.getGeometries().map((e=>e.toGeoJSON())))&&void 0!==e?e:[]}on(e,t){"update"===e&&(this.updateTrigger=t)}setLayer(e){this.layer=e}setOrginalGeometries(e){this.originalGeometries=e}canUndo(){return this.pointer>=0}canRedo(){return this.pointer<this.history.length-1}update(){var e;const t=this.getLayerGeometries();this.pointer<this.history.length-1&&(this.history=this.history.slice(0,this.pointer+1)),this.history.push(t),this.pointer=this.history.length-1,null===(e=this.updateTrigger)||void 0===e||e.call(this)}undo(){var e;this.pointer>0?this.pointer--:this.pointer=-1,this.updateLayer(),null===(e=this.updateTrigger)||void 0===e||e.call(this)}redo(){var e;this.pointer<this.history.length-1?this.pointer++:this.pointer=this.history.length-1,this.updateLayer(),null===(e=this.updateTrigger)||void 0===e||e.call(this)}clear(){var e;this.history=[],this.pointer=-1,null===(e=this.updateTrigger)||void 0===e||e.call(this)}getHistory(){return this.history}getPointer(){return this.pointer}}},28967:(e,t,i)=>{"use strict";i.d(t,{z:()=>l});var n=i(57323),o=i.n(n),a=i(32603);class l extends a.Z{constructor(e){super(e),o()(this,"configManager",null);const{data:t,configManager:i}=e;t&&i&&(this.configManager=i(t))}renderLayers(){return null}}l.layerName="BaseLayer"},94096:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});const n=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"]},95094:(e,t,i)=>{"use strict";i.d(t,{X:()=>v});var n=i(21740),o=i(55349),a=i.n(o),l=i(88716),r=i.n(l),s=i(38981),d=i.n(s),c=i(40978),u=i(46131);const p=[255,255,255,255],h={enable:!0,direction:"bottom,middle",fontColor:"#000000",fontSize:12,strokeColor:"#000000",strokeWeight:0,backgroundColor:"#fff",backgroundOpacity:0,visibleRange:[1,19],collisionEnabled:!0};function v(e,t){const{labelConfig:i,fieldConfig:o}=e,{enable:l,direction:s,fontColor:v,fontSize:g,strokeWeight:f,strokeColor:m,backgroundColor:y,backgroundOpacity:w,visibleRange:b}=Object.assign({},h,i),C=v?(0,n.Z)(v,{format:"array",alpha:255}):p;return{fontSettings:{fontSize:32,sdf:!0},characterSet:"auto",getLabelVisible(e){if(b){const t=e+1;return l&&t>=b[0]&&t<=b[1]}return l},getClusterTotalPoints(e){var t,i;return d()(null!==(t=null!==(i=(0,u.oe)(e,"point_count_abbreviated"))&&void 0!==i?i:(0,u.oe)(e,"point_count"))&&void 0!==t?t:"1")},getClusterFontSize(e){var t;const i=null!==(t=(0,u.oe)(e,"point_count"))&&void 0!==t?t:1;return Math.max(12,Math.min(24,i))},getText:e=>(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID")),getValue:e=>(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID)),getTextSize:()=>g,getTextPixelOffset(e){const t=(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID"));if(t){const e=t.split(/\r\n|\r|\n/).length;return[0,g*e]}return[0,0]},getTextBackgroundColor(e){let t=(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID"));return e.path&&(t=(0,u.oe)(e.path[0],"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID"))),y&&!r()(t)?(0,n.Z)(y,{format:"array",alpha:255*(null!==w&&void 0!==w?w:0)}):[0,0,0,0]},getTextAnchor(){const[,e]=s.split(",");return"start"===e?"start":"end"===e?"end":"middle"},getAlignmentBaseline(){const[e]=s.split(",");return"top"===e?"top":"bottom"===e?"bottom":"center"},getTextColor:()=>C,getPathLayerPosition(e,t){var i,n;const a=null===o||void 0===o?void 0:o.groupByFieldID,l=a?null===(i=e.properties)||void 0===i?void 0:i[a]:"default",r=null===t||void 0===t?void 0:t.find((e=>e.name===String(l))),s={type:"LineString",coordinates:(null===r||void 0===r?void 0:r.path)||[]};return((null===r||void 0===r||null===(n=r.path)||void 0===n?void 0:n.length)||0)<=1?null===r||void 0===r?void 0:r.path:(0,c.be)(s).coordinates},getTextOutlineWidth:()=>f,getTextOutlineColor:()=>m?(0,n.Z)(m,{format:"array",alpha:255}):[0,0,0,0],getTextBackgroundVisible:()=>l&&!a()(w)&&w>0,getCollisionEnabled:()=>i.collisionEnabled}}},38942:(e,t,i)=>{"use strict";i.d(t,{I:()=>m});var n=i(48828),o=i(86183),a=i(48744),l=i(21740),r=i(55349),s=i.n(r),d=i(53813),c=i.n(d),u=i(18878),p=i.n(u),h=i(46131),v=i(94096);const g=[217,217,217,190],f={colors:v.O,fillMethod:"quantize",thresholds:[],aggregateBy:"sum",fillOpacity:1,reverse:!1};function m(e,t){const{regionConfig:i,fieldConfig:r,outlineConfig:d}=e;let u=null;const{colors:v=[],fillMethod:m,thresholds:y,fillOpacity:w,labelVisible:b,labelTypes:C=["name","value"],disableLabelOffset:x}=Object.assign({},f,i);if(null!==r&&void 0!==r&&r.regionIndexStatsID&&null!==r&&void 0!==r&&r.regionDimensionID){const e=c()(t.features);null===e||void 0===e||e.map((e=>{const t=I(e);return s()(t)||(e.properties={...e.properties,aggregationValue:t}),e}));const i=(0,h.ge)(e,"aggregationValue",m);"quantize"===m&&(u=(0,n.Z)().domain(i).range(v)),"quantile"===m&&(u=(0,o.Z)().domain(i).range(v)),"customize"===m&&null!==y&&void 0!==y&&y.length&&(u=(0,a.Z)().domain((0,h.VM)(y)).range(v))}function I(e){if(null===r||void 0===r||!r.regionIndexStatsID)return null;const t=(0,h.oe)(e,"aggregationValue"),n=(0,h.oe)(e,"aggregationMethod")||(null===i||void 0===i?void 0:i.indexStatsMethod)||"sum";return t?(0,h.Bb)(t,n):null}function j(e){if(null===r||void 0===r||!r.regionIndexStatsID||!r.regionDimensionID)return"";const t=(0,h.oe)(e,"name")||"",n=function(e){var t;if(null===r||void 0===r||!r.regionIndexStatsID)return null;const n=(0,h.oe)(e,"aggregationValue"),o=(null===i||void 0===i?void 0:i.indexStatsMethod)||"sum",a=(0,h.oe)(e,"aggregationMethod")||o;if(null!==e&&void 0!==e&&null!==(t=e.properties)&&void 0!==t&&t.indexStatsColumn&&n){var l;const t=JSON.parse(null===e||void 0===e||null===(l=e.properties)||void 0===l?void 0:l.indexStatsColumn),i=(0,h.Bb)(n,a);return"count"===o||"nonEmptyCount"===o?Math.round(Number(i)):(0,h.V2)(t)(i)}return null}(e),o=s()(n)?"":p()(n)?(0,h.IG)(n)||"":n,a=null===C||void 0===C?void 0:C.includes("value"),l=null===C||void 0===C?void 0:C.includes("name");return l||a?a&&!l?o:!a&&l&&o?t:o?[t,o].join("\n"):"":""}const M=255*w,k=null!==r&&void 0!==r&&r.regionIndexStatsID&&null!==v&&void 0!==v&&v[0]?(0,l.Z)(v[0],{format:"array",alpha:M}):g;return{labelVisible:b,getLabelText:j,getRegionLineWidth(){var e;return null!==(e=null===d||void 0===d?void 0:d.strokeWeight)&&void 0!==e?e:1},getRegionLineColor(){var e;return null!==d&&void 0!==d&&null!==(e=d.colors)&&void 0!==e&&e[0]?(0,l.Z)(d.colors[0],{format:"array",alpha:255}):[197,197,197,255]},getRegionTextPixelOffset(e){const t=j(e);if(t&&!x){return[0,12*t.split(/\r\n|\r|\n/).length]}return[0,0]},getRegionFillColor:e=>u?s()(I(e))?g:(0,l.Z)(u(I(e)),{format:"array",alpha:M}):k}}},85604:(e,t,i)=>{"use strict";i.d(t,{R:()=>f});var n=i(21740),o=i(7070),a=i.n(o),l=i(89063),r=i.n(l),s=i(74720),d=i.n(s),c=i(40978),u=i(46131),p=i(94096);const h=["quantize","quantile","ordinal"],v={colors:p.O,fillMethod:"quantize",thresholds:[],aggregateBy:"sum",fillOpacity:1,reverse:!1},g={"wb-ADM0-RUS":[96.929428,62.496485],"cas-ADM0-RUS":[96.929428,62.496485],"wb-ADM0-USA":[-101.521326,40.136646],"cas-ADM0-USA":[-101.521326,40.136646],"china-ADM1-620000":[95.80377432760952,39.9249797139299],"china-ADM1-440000":[113.23221342594672,23.97241585811284],"china-ADM1-460000":[109.51471182760952,19.097513407738262],"china-ADM1-820000":[113.56977488617486,22.11434993155663],"china-ADM1-340000":[117.96303841985457,30.480578696479114],"china-ADM1-150000":[116.7438145609832,44.15161594984701],"china-ADM1-130000":[114.92959525321854,38.00261295287253],"china-ADM1-110000":[116.67320891598014,40.65494511417716],"china-ADM1-120000":[117.25292748255883,38.92641173770371],"china-ADM1-330000":[120.6667050223441,28.936992304623317]};function f(e){const{fillConfig:t,fieldConfig:i,visibilityConfig:o}=e,{colors:l,fillOpacity:s,fillMethod:p,aggregateBy:f}=Object.assign({},v,t),m=a()(l,(e=>/^#([0-9a-f]{3}){1,2}$/i.test(e)?(0,n.Z)(e,{format:"array",alpha:255*s}):[255,255,255,255]));return{getColorRange:()=>m,getColorScaleType:()=>h.includes(p)?p:"quantize",getColorValue(e){var t;let n=r()(e);if(null!==i&&void 0!==i&&i.fillID){const t=a()(e,(e=>{var t;return null!==(t=(0,u.oe)(e,i.fillID))&&void 0!==t?t:0}));n=(0,u.Bb)(t,f)}return null!==(t=n)&&void 0!==t?t:0},getPosition(e){const t=d()(e,"properties.id");return t&&g[t]?g[t]:(0,c.be)(e.geometry).coordinates},getVisible:e=>null===o||void 0===o||!o.visibleRange||e>=o.visibleRange[0]&&e<=o.visibleRange[1]}}},46131:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>b,G2:()=>g,IG:()=>I,V2:()=>j,VM:()=>y,fi:()=>m,ge:()=>f,oe:()=>w,pE:()=>C,s8:()=>x});var n=i(74720),o=i.n(n),a=i(7070),l=i.n(a),r=(i(75538),i(78587),i(75091),i(99540)),s=i.n(r),d=i(81659),c=i.n(d),u=i(11181),p=i(21740),h=i(91671),v=i(42015);i(97102);const g=201;function f(e,t,i){let n=Number.MAX_SAFE_INTEGER,o=0,a=[];return a=l()(e,(e=>{const i=parseFloat(w(e,t));return n=i<n?i:n,o=i>o?i:o,i})).filter((e=>!Number.isNaN(e))),"quantize"===i||"continuous"===i?[n,o]:a}function m(e,t){if(!e||null===t||void 0===t||!t.textQuantiles)return;const i=t.textQuantiles[e.id];return i?Object.keys(i):void 0}function y(e){const t=[...null!==e&&void 0!==e?e:[]];return t.pop(),t.shift(),t}function w(e,t){return o()(null===e||void 0===e?void 0:e.properties,null!==t&&void 0!==t?t:"")}function b(e,t){if(!(null===e||void 0===e?void 0:e.every((e=>null===e)))||"count"===t||"nonEmptyCount"===t)return(0,v.Bb)(e,t)}function C(e,t){const[i,n,o,a]=e,[l,r]=t,s=(0,p.Z)(i,{alpha:l,format:"object"}),d=(0,p.Z)(n,{alpha:l,format:"object"}),c=(0,p.Z)(o,{alpha:r,format:"object"}),h=(0,p.Z)(a,{alpha:r,format:"object"});return{colorLow:s,colorHigh:d,bivariateColorLow:c,bivariateColorHigh:h,mixedColorLow:(0,u.Jp)({r:s.red,g:s.green,b:s.blue,a:s.alpha},{r:c.red,g:c.green,b:c.blue,a:c.alpha}),mixedColorHigh:(0,u.Jp)({r:d.red,g:d.green,b:d.blue,a:d.alpha},{r:h.red,g:h.green,b:h.blue,a:h.alpha})}}function x(e){const t=o()(e,"red",o()(e,"r")),i=o()(e,"green",o()(e,"g")),n=o()(e,"blue",o()(e,"b")),a=o()(e,"alpha",o()(e,"a"));return"rgba(".concat(t,", ").concat(i,", ").concat(n,", ").concat(a,")")}function I(e){return function(e){const t=[{value:1e9,symbol:"b"},{value:1e6,symbol:"m"},{value:1e3,symbol:"k"}];if(e<1e3)return e.toString();for(const i of t)if(e>=i.value){const t=e/i.value,n=Math.floor(t).toString().length,o=Math.max(0,4-n);return t.toFixed(o).replace(/\.?0+$/,"")+i.symbol}return e.toString()}(function(e){if(0!==e&&e>-.1&&e<1){let t,i=e;for(t=0;t<10&&i>-.1&&i<1;t++)i*=10;return parseFloat(e.toFixed(t+2))}return parseFloat(s()(e).toFixed(3))}(e))}function j(e){var t,i,n,o,a,l;return c()(h.P,"number"===(null===e||void 0===e?void 0:e.type)||"lookup"===(null===e||void 0===e?void 0:e.type)||"formula"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.precision:null===e||void 0===e||null===(i=e.typeOptions)||void 0===i?void 0:i.numberPrecision,"number"===(null===e||void 0===e?void 0:e.type)||"lookup"===(null===e||void 0===e?void 0:e.type)||"formula"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(n=e.typeOptions)||void 0===n?void 0:n.format:null===e||void 0===e||null===(o=e.typeOptions)||void 0===o?void 0:o.numberFormat,"currency"===(null===e||void 0===e||null===(a=e.typeOptions)||void 0===a?void 0:a.format)?null===e||void 0===e||null===(l=e.typeOptions)||void 0===l?void 0:l.numberPrefix:void 0)}},56765:(e,t,i)=>{"use strict";i.d(t,{zi:()=>l.z,K7:()=>g,tn:()=>r,mU:()=>m,cH:()=>C,zP:()=>w,dX:()=>k,eE:()=>E,J1:()=>j,nr:()=>U,cD:()=>q,Fw:()=>F,l7:()=>qe});var n=i(93232),o=i(36741),a=i(9626),l=i(28967);class r extends l.z{shouldUpdateState(e){let{changeFlags:t}=e;return null!==t.somethingChanged}renderGeoJsonLayer(){var e;const{id:t=r.layerName,data:i,autoHighlight:n=!0,pickable:a=!0,extensionPack:l}=this.props,s=this.configManager,d="".concat(t,"-geojson");if(!s)return;const c=null!==(e=s.config.bivariateFillConfig)&&void 0!==e&&e.enable?s.getBlendColor:s.getFillColor,u={center:s.getPointRadius,outside:e=>s.getPointRadius(e)+s.getLineWidth(e)/2,inside:e=>s.getPointRadius(e)-s.getLineWidth(e)/2};return new o.Z({id:d,data:i,autoHighlight:n,pickable:a,...l,getFillColor:c,getPointRadius:u[s.strokeAlign||"center"],getLineWidth:s.getLineWidth,getLineColor:s.getLineColor,getElevation:s.getElevation,elevationScale:s.getElevationScale(),extruded:s.getExtruded(),pointRadiusUnits:s.pointRadiusUnits,lineWidthMinPixels:s.lineWidthMinPixels,lineCapRounded:s.lineCapRounded,lineWidthUnits:s.lineWidthUnits,stroked:s.stroked,filled:s.filled,updateTriggers:{getFillColor:c,getPointRadius:s.getPointRadius,getLineWidth:s.getLineWidth,getLineColor:s.getLineColor,getElevation:s.getElevation}})}renderTextLayer(){const{id:e=r.layerName,data:t,extensionPack:i}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const s=[];o.getCollisionEnabled()&&s.push(new n.Z),null!==i&&void 0!==i&&i.extensions&&s.push(...i.extensions);const{setToRedraw:d}=this.context.userData;"function"===typeof d&&o.getLabelVisible(this.context.viewport.zoom)&&d();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...i,extensions:s,getPosition:o.getPosition,getRadius:o.getPointRadius,getText:o.getText,getPixelOffset:o.getTextPixelOffset,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){return[this.renderGeoJsonLayer(),this.renderTextLayer()]}}r.layerName="CommonLayer";var s=i(57323),d=i.n(s),c=i(99259),u=i(82253),p=i(74932),h=i(74720),v=i.n(h);class g extends u.Z{constructor(e){super(e),d()(this,"configManager",null);const{data:t,configManager:i}=e;t&&i&&(this.configManager=i(t))}initializeState(){const{data:e}=this.props;e&&this.initClusterIndex(e.features)}shouldUpdateState(e){let{changeFlags:t}=e;return t.somethingChanged}updateState(e){let{props:t,changeFlags:i}=e;(i.propsChanged||i.dataChanged)&&this.state.clusterIndex&&t.data&&this.state.clusterIndex.load(this.processData(t.data.features))}getPickingInfo(e){let{info:t}=e;const i=this.configManager;var n,o,a;return t.object&&i?{...t,object:{...t.object,count:null!==(n=null===(o=t.object)||void 0===o||null===(o=o.properties)||void 0===o?void 0:o.point_count)&&void 0!==n?n:1,cluster:null===(a=t.object)||void 0===a||null===(a=a.properties)||void 0===a?void 0:a.cluster,colorValue:i.getClusterColorValue(t.object)}}:t}initClusterIndex(e){if(this.state.clusterIndex)return;const t=new p.Z({map:e=>{var t,i;return{...e,points:[null!==(t=v()(e,null!==(i=null===e||void 0===e?void 0:e.fillFieldID)&&void 0!==i?i:""))&&void 0!==t?t:0]}},reduce:(e,t)=>(e.points=[...e.points,...t.points],e)});e&&t.load(this.processData(e)),Object.assign(this.state,{clusterIndex:t})}processData(e){return e.filter((e=>"Point"===e.geometry.type))}getClusters(){const{viewport:e}=this.context,{clusterIndex:t}=this.state;let i=this.context.viewport.getBounds();if(!i){const t=e.unproject([0,0]),n=e.unproject([e.width,e.height]);i=[t[0],n[1],n[0],t[1]]}return t.getClusters(i,Math.floor(e.zoom))}renderClusterLayer(){var e;const{id:t=g.layerName,pickable:i,autoHighlight:n,data:o,extensionPack:a,onSetColorDomain:l}=this.props,r=this.configManager;if(!r||!o)return null;this.initClusterIndex(null===o||void 0===o?void 0:o.features);const s=this.getClusters(),d=r.getRadiusRange(),u=r.getClusterDomain(s);return null===(e=r.fillScale)||void 0===e||e.domain(u),null===l||void 0===l||l(u),new c.Z({id:"".concat(t,"-cluster"),data:s,pickable:i,autoHighlight:n,radiusUnits:"pixels",parameters:{depthMask:!1},...a,radiusMinPixels:d[0],radiusMaxPixels:d[1],getPosition:e=>e.geometry.coordinates,getRadius:e=>{var t,i;return null!==(t=null===(i=e.properties)||void 0===i?void 0:i.point_count)&&void 0!==t?t:d[0]},getFillColor:e=>r.getClusterFillColor(e,u),updateTriggers:{getFillColor:r.getClusterFillColor}})}renderTextLayer(){const{id:e=g.layerName,extensionPack:t}=this.props,i=this.configManager,o="".concat(e,"-text");if(!i)return;const l=this.getClusters(),r=[];i.getCollisionEnabled()&&r.push(new n.Z),null!==t&&void 0!==t&&t.extensions&&r.push(...t.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&i.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:o,data:l,pickable:!1,parameters:{depthTest:!1},...t,extensions:r,getPosition:i.getPosition,getRadius:i.getPointRadius,getText:e=>i.getClusterTotalPoints(e),getSize:e=>i.getClusterFontSize(e),getColor:i.getTextColor,outlineWidth:i.getTextOutlineWidth(),outlineColor:i.getTextOutlineColor(),fontSettings:i.fontSettings,characterSet:i.characterSet,updateTriggers:{getRadius:i.getPointRadius,getPosition:i.getPosition,getText:i.getClusterTotalPoints,getColor:i.getTextColor}})}renderLayers(){return[this.renderClusterLayer(),this.renderTextLayer()]}}d()(g,"layerName","ClusterLayer");var f=i(81057);class m extends l.z{initializeState(e){super.initializeState(e),Object.assign(this.state,{visible:!1,aggregator:null})}renderGridLayer(){const{id:e=m.layerName,data:t,pickable:i,autoHighlight:n,onSetColorDomain:o}=this.props,a=this.configManager;if(!a||!t)return;return new f.Z({id:"".concat(e,"-grid"),data:t.features,getPosition:a.getPosition,colorRange:a.getColorRange(),pickable:i,autoHighlight:n,visible:this.state.visible,cellSize:a.getCellSize(),coverage:a.getCoverage(),colorScaleType:a.getColorScaleType(),extruded:a.getExtruded(),elevationScale:a.getElevationScale(),elevationRange:a.getElevationRange(),getElevationValue:e=>{var t;return a.getElevationValue(e,v()(null===(t=this.state.aggregator)||void 0===t?void 0:t.state.layerData,"data"))},getColorValue:a.getColorValue,onSetColorDomain:e=>{null===o||void 0===o||o(e)},updateTriggers:{getPosition:a.getPosition,getElevationValue:a.getElevationValue,getColorValue:a.getColorValue}})}renderLayers(){const e=this.renderGridLayer(),t=null===e||void 0===e?void 0:e.clone({id:"".concat(e.id,"-shadow"),visible:!1,onSetElevationDomain:()=>{this.setState({aggregator:t.state.cpuAggregator,visible:!0})}});return[t,e]}}d()(m,"layerName","GridLayer");var y=i(75770);class w extends l.z{renderHeatMapLayer(){const{id:e=w.layerName,data:t,extensionPack:i}=this.props,n=this.configManager;if(n&&t)return new y.Z({id:"".concat(e,"-heatmap"),data:t.features,...i,getPosition:n.getPosition,getWeight:n.getWeight,colorRange:n.getColorRange(),radiusPixels:n.radiusPixels,threshold:n.threshold,weightsTextureSize:1024,debounceTimeout:800,updateTriggers:{getPosition:n.getPosition,getWeight:n.getWeight}})}renderLayers(){return[this.renderHeatMapLayer()]}}w.layerName="HeatmapLayer";var b=i(98639);class C extends l.z{renderH3Layer(){const{id:e,data:t,pickable:i,autoHighlight:n,extensionPack:o}=this.props,a=this.configManager;if(t&&a)return new b.Z({id:"".concat(e,"-h3"),data:t.features,autoHighlight:n,pickable:i,...o,getHexagons:e=>{var t,i;return null!==(t=null===(i=e.properties)||void 0===i?void 0:i.hexIds)&&void 0!==t?t:[]},getFillColor:e=>a.getFillColor(e),lineWidthMinPixels:a.lineWidthMinPixels,lineWidthUnits:a.lineWidthUnits,getLineWidth:a.getLineWidth,getLineColor:e=>a.getLineColor(e),extruded:a.getExtruded(),elevationScale:a.getElevationScale(),getElevation:e=>a.getElevation(e),stroked:a.stroked,filled:a.filled,updateTriggers:{getFillColor:a.getFillColor,getLineWidth:a.getLineWidth,getLineColor:a.getLineColor,getElevation:a.getElevation}})}renderTextLayer(){const{id:e=C.layerName,data:t,extensionPack:i}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new n.Z),null!==i&&void 0!==i&&i.extensions&&r.push(...i.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&o.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...i,extensions:r,getPosition:o.getPosition,getRadius:o.getPointRadius,getText:o.getText,getPixelOffset:o.getTextPixelOffset,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){return[this.renderH3Layer(),this.renderTextLayer()]}}d()(C,"layerName","H3ClusterLayer");var x=i(39986),I=i(4105);class j extends l.z{renderLineLayer(){const{id:e=j.layerName,data:t,pickable:i,autoHighlight:n,extensionPack:o}=this.props,a=this.configManager;return a&&t?new x.Z({id:"".concat(e,"-odLine"),data:t.features,pickable:i,autoHighlight:n,...o,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition,getColor:a.getFillColor,getWidth:a.getOdLineWidth,updateTriggers:{getColor:a.getFillColor,getWidth:a.getOdLineWidth,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition}}):null}renderArcLayer(){const{id:e=j.layerName,data:t,pickable:i,autoHighlight:n,extensionPack:o}=this.props,a=this.configManager;return a&&t?new I.Z({id:"".concat(e,"-odArc"),data:null===t||void 0===t?void 0:t.features,pickable:i,autoHighlight:n,...o,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition,getSourceColor:a.getSourceColor,getTargetColor:a.getTargetColor,getWidth:a.getOdLineWidth,updateTriggers:{getSourceColor:a.getSourceColor,getTargetColor:a.getTargetColor,getWidth:a.getOdLineWidth,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition}}):null}renderLayers(){var e;return["arc"===(null===(e=this.configManager)||void 0===e?void 0:e.getODLineType())?this.renderArcLayer():this.renderLineLayer()]}}d()(j,"layerName","ODLineLayer");var M=i(66688);class k extends l.z{initializeState(e){super.initializeState(e),Object.assign(this.state,{visible:!1,aggregator:null})}renderHexagonLayer(){const{id:e=k.layerName,data:t,pickable:i,autoHighlight:n}=this.props,o=this.configManager;if(!o||!t)return;return new M.Z({id:"".concat(e,"-hexagon"),data:t.features,getPosition:o.getPosition,pickable:i,autoHighlight:n,visible:this.state.visible,colorRange:o.getColorRange(),radius:o.getCellSize(),coverage:o.getCoverage(),colorScaleType:o.getColorScaleType(),extruded:o.getExtruded(),elevationScale:o.getElevationScale(),elevationRange:o.getElevationRange(),getElevationValue:e=>{var t;return o.getElevationValue(e,v()(null===(t=this.state.aggregator)||void 0===t?void 0:t.state.layerData,"data"))},getColorValue:o.getColorValue,onSetColorDomain:e=>{var t,i;null===(t=(i=this.props).onSetColorDomain)||void 0===t||t.call(i,e)},updateTriggers:{getPosition:o.getPosition,getElevationValue:o.getElevationValue,getColorValue:o.getColorValue}})}renderLayers(){const e=this.renderHexagonLayer(),t=null===e||void 0===e?void 0:e.clone({id:"".concat(e.id,"-shadow"),visible:!1,onSetElevationDomain:()=>{this.setState({aggregator:t.state.cpuAggregator,visible:!0})}});return[t,e]}}k.layerName="Hexagonayer";var T=i(90286);class E extends l.z{renderIconLayer(){var e;const{id:t=E.layerName,data:i,autoHighlight:n,extensionPack:o}=this.props,a=this.configManager,l="".concat(t,"-icon");if(!a)return;const{setToRedraw:r}=this.context.userData;return"function"===typeof r&&null!==i&&void 0!==i&&null!==(e=i.features)&&void 0!==e&&e.length&&setTimeout((()=>{r()}),500),new T.Z({id:l,data:null===i||void 0===i?void 0:i.features,pickable:!0,autoHighlight:n,sizeMaxPixels:100,sizeMinPixels:1,sizeScale:1,sizeUnits:"pixels",...o,getIcon:a.getFillIcon,getPosition:a.getPosition,getColor:a.getFillColor,getSize:e=>a.getPointRadius(e),updateTriggers:{getIcon:a.getFillIcon,getPosition:a.getPosition,getColor:a.getFillColor,getSize:a.getPointRadius}})}renderTextLayer(){const{id:e=E.layerName,data:t,extensionPack:i}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new n.Z),null!==i&&void 0!==i&&i.extensions&&r.push(...i.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&o.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...i,extensions:r,isIconLayer:!0,getPosition:o.getPosition,getRadius:o.getPointRadius,getText:o.getText,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getPixelOffset:o.getTextPixelOffset,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){return[this.renderIconLayer(),this.renderTextLayer()]}}d()(E,"layerName","IconLayer");var P=i(39723),O=i(34929),_=i(43179),S=i.n(_),N=i(29449),L=i(17646),D=i.n(L),R=i(54057),Z=i(8455),A=i(93611);class F extends l.z{constructor(){super(...arguments),d()(this,"animate",(()=>{var e;const t=this.configManager;if(!t)return;this.state.animationId=window.requestAnimationFrame(this.animate);const i=(0,A.IH)(null!==(e=this.state.currentTime)&&void 0!==e?e:0,t.getTripsSpeed());this.setState({currentTime:i})}))}initializeState(e){var t;super.initializeState(e),null!==(t=this.configManager)&&void 0!==t&&t.getTripsAnimation()&&!this.state.animationId&&(this.state.animationId=window.requestAnimationFrame(this.animate))}updateState(e){let{props:t,oldProps:i,context:n,changeFlags:o}=e;const a=this.configManager;if(o.propsChanged&&a){const{tripsConfig:e}=a.config;a.getTripsAnimation()&&!this.state.animationId&&(this.state.animationId=window.requestAnimationFrame(this.animate)),!a.getTripsAnimation()&&this.state.animationId&&(window.cancelAnimationFrame(this.state.animationId),this.state.animationId=void 0),(null===e||void 0===e?void 0:e.currentTime)!==this.state.manualUpdatedTime&&this.setState({currentTime:null===e||void 0===e?void 0:e.currentTime,manualUpdatedTime:null===e||void 0===e?void 0:e.currentTime})}if(o.dataChanged&&t.data&&a){const{fieldConfig:e}=a.config;let i,n;const o=null===e||void 0===e?void 0:e.groupByFieldID,l={};if(D()(t.data.features,(t=>{var a,r,s;const d=null===(a=t.properties)||void 0===a?void 0:a[null!==(r=null===e||void 0===e?void 0:e.timestampID)&&void 0!==r?r:""],c=o?null===(s=t.properties)||void 0===s?void 0:s[o]:"default";if("Point"===t.geometry.type&&null!==e&&void 0!==e&&e.timestampID&&d){const a=S()(d).valueOf();t.properties={...t.properties,[e.timestampID]:a},i=i?Math.min(i,a):a,n=n?Math.max(n,a):a,l[c]?(l[c].timestamps.push(a),l[c].path.push(t)):l[c]={id:null!==o&&void 0!==o?o:c,timestamps:[a],path:[t]}}})),i&&n)for(const[,t]of Object.entries(l))Object.assign(t,this.preProcess(t.path,[i,n],t.timestamps));this.setState({pathData:Object.values(l)})}super.updateState({props:t,oldProps:i,context:n,changeFlags:o})}finalizeState(e){this.state.animationId&&window.cancelAnimationFrame(this.state.animationId),super.finalizeState(e)}preProcess(e,t,i){const n=this.configManager,[o,a]=t;if(F.scaleTimestamp=(0,N.Z)(t,[0,Math.min(1e4,t[1])]),!e||!n)return;const l=n.getTripsSpeed(),r=Math.floor((a-o)/l),s=o,d={[s]:this.getHead(s,i,e).position};let c=s;for(let u=1;u<r;u++)c=(0,A.IH)(c,l),d[c]=this.getHead(c,i,e).position;return{headPositions:d,scaledTimestamps:i.map((e=>Math.max(F.scaleTimestamp(e),0)))}}getCurrentSegment(e,t){if(!t||!t.length||void 0===e)return[0,0];let i=0,n=t.length-1;for(;i<=n;){const o=Math.floor((i+n)/2),a=t[o];if(a===e)return o;a<e?i=o+1:n=o-1}return n<0?i:i>=t.length?n:[n,i]}getHead(e,t,i){const n=this.configManager;if(void 0===e||!i||!t||!t.length||null===n||void 0===n||!n.config)return{position:[0,0],angle:0};const o=this.getCurrentSegment(e,t),{tripsConfig:a}=n.config;if(Array.isArray(o)){const[n,l]=o,r=i[n],s=i[l],d=null!==a&&void 0!==a&&a.iconRotation?(()=>{const[e,t]=r.geometry.coordinates,[i,n]=s.geometry.coordinates,o=Math.abs((n-t)/(i-e)),a=i>e&&n>t?1:i<e&&n>t?2:i<e&&n<t?3:4,l=Math.atan(o)*(180/Math.PI);return 1===a?270+l:2===a?90-l:3===a?90+l:4===a?-1*l-90:0})():0,c={type:"Feature",geometry:{type:"LineString",coordinates:i.slice(n,l+1).map((e=>e.geometry.coordinates))}},u=(0,R.Z)(c),p=Math.max((0,N.Z)([t[n],t[l]],[0,u])(e),0);return{position:(0,Z.Z)(c,p).geometry.coordinates,angle:Number.isNaN(d)?0:d}}return{position:i[o].geometry.coordinates,angle:0}}renderTripsLayer(){var e;const{id:t=F.layerName,data:i,pickable:n,autoHighlight:o}=this.props,a=this.configManager;if(!a||!i)return;const l=F.scaleTimestamp(null!==(e=this.state.currentTime)&&void 0!==e?e:0);return new P.Z({id:"".concat(t,"-trips"),data:this.state.pathData,pickable:n,autoHighlight:o,widthUnits:"pixels",currentTime:l,capRounded:a.getCapRounded(),jointRounded:a.getJointRounded(),fadeTrail:a.getFadeTrail(),trailLength:a.getTrailLength(),getWidth:a.getTripWidth,getPath:a.getTripsPath,getColor:a.getTripColor,getTimestamps:a.getScaledTimestamps,updateTriggers:{getPath:a.getTripsPath,getColor:a.getTripColor,getWidth:a.getTripWidth,getTimestamps:a.getScaledTimestamps}})}renderTextLayer(){const{id:e=F.layerName,data:t}=this.props,i=this.configManager;if(!i||!t||!i.getLabelVisible(this.context.viewport.zoom))return;const n=i.getTripsIconSize(),o=null===i||void 0===i?void 0:i.getTripsIcon();return new O.Z({id:"".concat(e,"-text"),data:this.state.pathData,fontSettings:i.fontSettings,characterSet:i.characterSet,backgroundPadding:[5,5],getPixelOffset:()=>[0,o?-n/2:0],getBackgroundColor:i.getTextBackgroundColor,background:i.getTextBackgroundVisible(),outlineWidth:i.getTextOutlineWidth(),outlineColor:i.getTextOutlineColor(),visible:i.getLabelVisible(this.context.viewport.zoom),getText:i.getTripsText,getPosition:e=>{var t,i,n;return null!==(t=null===(i=e.headPositions)||void 0===i?void 0:i[null!==(n=this.state.currentTime)&&void 0!==n?n:0])&&void 0!==t?t:this.getHead(this.state.currentTime,e.timestamps,e.path).position},getColor:i.getTextColor,getSize:i.getTextSize,getTextAnchor:i.getTextAnchor,getAlignmentBaseline:i.getAlignmentBaseline,updateTriggers:{getPosition:this.state.currentTime,getText:i.getTripsText,getPixelOffset:n,getColor:i.getTextColor,getSize:i.getTextSize,getAlignmentBaseline:i.getAlignmentBaseline,getTextAnchor:i.getTextAnchor,getBackgroundColor:i.getTextBackgroundColor}})}renderIconLayer(){const{id:e=F.layerName,data:t,extensionPack:i}=this.props,n=this.configManager,o=null===n||void 0===n?void 0:n.getTripsIcon();if(n&&t&&o)return new T.Z({id:"".concat(e,"-icon"),data:this.state.pathData,pickable:!1,autoHighlight:!1,sizeMaxPixels:200,sizeMinPixels:0,sizeScale:1,sizeUnits:"pixels",...i,getIcon:n.getTripsIcon,getAngle:e=>{const{angle:t}=this.getHead(this.state.currentTime,e.timestamps,e.path);return t},getPosition:e=>{const{position:t}=this.getHead(this.state.currentTime,e.timestamps,e.path);return t},getSize:n.getTripsIconSize,updateTriggers:{getIcon:n.getTripsIcon,getSize:n.getTripsIconSize,getPosition:this.state.currentTime,getAngle:this.state.currentTime}})}renderLayers(){const e=this.renderTripsLayer(),t=this.renderTextLayer();return[e,this.renderIconLayer(),t]}}d()(F,"layerName","TripsLayer"),d()(F,"scaleTimestamp",(e=>e));var z=i(27469),B=i(97102),V=i.n(B),H=i(7070),W=i.n(H);class U extends l.z{initializeState(e){super.initializeState(e)}updateState(e){let{props:t,oldProps:i,context:n,changeFlags:o}=e;const a=this.configManager;if(o.dataChanged&&t.data&&a){const{fieldConfig:e}=a.config,i=null===e||void 0===e?void 0:e.groupByFieldID,n=null===e||void 0===e?void 0:e.sortByFieldID,o=this.processPathData(t.data.features,i,n);this.setState({pathData:o});const{wayPoints:l,allPoints:r,startPoints:s,endPoints:d}=this.processWayPoints(t.data.features,o);this.setState({wayPoints:l,allPoints:r,startPoints:s,endPoints:d})}super.updateState({props:t,oldProps:i,context:n,changeFlags:o})}processPathData(e,t,i){if(!i)return[];const n=e.filter((e=>{var t;return"Point"===(null===(t=e.geometry)||void 0===t?void 0:t.type)})),o=V()(n,(e=>{var i;return t?null===(i=e.properties)||void 0===i?void 0:i[t]:"default"}));return W()(o,((e,t)=>({path:(0,A.w5)(e,i).map((e=>{var t;return null===(t=e.geometry)||void 0===t?void 0:t.coordinates})),name:t})))}processWayPoints(e,t){const i=e.filter((e=>{var t;return"Point"===(null===(t=e.geometry)||void 0===t?void 0:t.type)})),n=t.map((e=>e.path[0])),o=t.map((e=>e.path[e.path.length-1]));return{startPoints:i.filter((e=>{var t;return n.includes(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)})),endPoints:i.filter((e=>{var t;return o.includes(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)})),wayPoints:i.filter((e=>{var t,i;return!n.includes(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)&&!o.includes(null===(i=e.geometry)||void 0===i?void 0:i.coordinates)})),allPoints:i}}renderPathLayer(){const{id:e=U.layerName,data:t,pickable:i,autoHighlight:n}=this.props,{configManager:o}=this;if(o)return new z.Z({id:"".concat(e,"-path"),data:this.state.pathData,pickable:i,autoHighlight:n,capRounded:o.pathCapRounded,jointRounded:o.pathJointRounded,widthUnits:o.pathLineWidthUnits,getPath:e=>e.path,getColor:e=>o.getPathLayerLineColor(e,null===t||void 0===t?void 0:t.features),getWidth:e=>o.getPathLayerLineWidth(e,null===t||void 0===t?void 0:t.features),updateTriggers:{getPath:e=>e.path,getWidth:e=>o.getPathLayerLineWidth(e,null===t||void 0===t?void 0:t.features),getColor:e=>o.getPathLayerLineColor(e,null===t||void 0===t?void 0:t.features)}})}renderPointLayer(e,t,i){const{id:n=U.layerName,pickable:a,autoHighlight:l}=this.props,{configManager:r}=this;if(!r)return;const s=()=>({wayPoints:r.getPathWayPointsFillColor,startPoints:r.getPathStartPointsFillColor,endPoints:r.getPathEndPointsFillColor}[t]()),d=()=>({wayPoints:r.pathWayPointSize,startPoints:r.pathEndpointSize,endPoints:r.pathEndpointSize}[t]);return new o.Z({id:"".concat(n,"-").concat(t,"-geojson"),data:e,visible:i,pickable:a,autoHighlight:l,stroked:!1,pointRadiusUnits:"pixels",getFillColor:s,getPointRadius:d,updateTriggers:{getFillColor:s,getPointRadius:d}})}renderTextLayer(){const{id:e=U.layerName,data:t,extensionPack:i}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new n.Z),null!==i&&void 0!==i&&i.extensions&&r.push(...i.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&o.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...i,extensions:r,getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getPixelOffset:o.getTextPixelOffset,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){var e,t,i;return[this.renderPathLayer(),this.renderTextLayer(),this.renderPointLayer(this.state.wayPoints,"wayPoints",null===(e=this.configManager)||void 0===e?void 0:e.getPathWayPointVisible),this.renderPointLayer(this.state.startPoints,"startPoints",null===(t=this.configManager)||void 0===t?void 0:t.getPathEndPointVisible),this.renderPointLayer(this.state.endPoints,"endPoints",null===(i=this.configManager)||void 0===i?void 0:i.getPathEndPointVisible)]}}d()(U,"layerName","PathLayer");class q extends l.z{initializeState(e){super.initializeState(e)}renderRegionLayer(){const{data:e,id:t=q.layerName,pickable:i,autoHighlight:n,extensionPack:a}=this.props,l=this.configManager;if(l)return new o.Z({id:"".concat(t,"-geojson"),data:e,pickable:i,...a,autoHighlight:n,stroked:!0,filled:!0,lineCapRounded:!0,lineWidthUnits:"pixels",getFillColor:l.getRegionFillColor,getLineWidth:l.getRegionLineWidth,getLineColor:l.getRegionLineColor,updateTriggers:{getFillColor:l.getRegionFillColor,getLineWidth:l.getRegionLineWidth,getLineColor:l.getRegionLineColor}})}renderTextLayer(){const{id:e=q.layerName,data:t,extensionPack:i}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new n.Z),null!==i&&void 0!==i&&i.extensions&&r.push(...i.extensions);return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...i,extensions:r,getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getLabelText,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getPixelOffset:o.getRegionTextPixelOffset,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.labelVisible,fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getLabelText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getRegionTextPixelOffset}})}renderLayers(){return[this.renderRegionLayer(),this.renderTextLayer()]}}d()(q,"layerName","RegionLayer");var G=i(85604),$=i(48828),J=i(86183),K=i(48744),Y=i(21740),Q=i(55349),X=i.n(Q),ee=i(36827),te=i.n(ee),ie=i(46131),ne=i(94096);const oe="".concat("https://icon-cdn.maptable.com","/assets/mapicons"),ae=["location","circle","square","diamond","triangle","cross","plus","flag","star","love"],le=256,re=[0,0,0,0],se={colors:ne.O,fillMethod:"quantize",thresholds:[],aggregateBy:"sum",fillOpacity:1,reverse:!1},de=te()(ie.ge);function ce(e,t){var i;const{fillConfig:n,fieldConfig:o}=e;let a=null,l=null;const{colors:r=[],fillMethod:s,thresholds:d,aggregateBy:c,fillOpacity:u}=Object.assign({},se,n);if(null!==o&&void 0!==o&&o.fillID){const e=n.domain?n.domain:(0,ie.ge)(t.features,o.fillID,s);"quantize"===s&&(a=(0,$.Z)().domain(e).range(r)),"quantile"===s&&(a=(0,J.Z)().domain(e).range(r)),"customize"===s&&(a=(0,K.Z)().domain((0,ie.VM)(d)).range(r))}const p=255*u,h=(null===r||void 0===r||null===(i=r[0])||void 0===i?void 0:i.length)>1?(0,Y.Z)(r[0],{format:"array",alpha:p}):re;function v(e){var t;if(null!==o&&void 0!==o&&o.fillID&&e){var i,n;const t=null!==(i=e.properties.points)&&void 0!==i?i:[(0,ie.oe)(e,o.fillID)];return null!==(n=(0,ie.Bb)(t,c))&&void 0!==n?n:0}return null!==(t=e.properties.point_count)&&void 0!==t?t:1}function g(e){if(!e||ae.includes(e))return{url:"".concat(oe,"/").concat(e||"location",".png"),width:le,height:le,mask:!0};{const t=e.match(/w_(\d+).*h_(\d+)/),i=Number(null===t||void 0===t?void 0:t[1]),n=Number(null===t||void 0===t?void 0:t[2]),o=le,a=n*(o/i);return{url:e.replace("w_".concat(i,",h_").concat(n),""),width:o,height:a,mask:!1}}}return{filled:!0,fillScale:a,getFillColor:e=>a?X()((0,ie.oe)(e,null===o||void 0===o?void 0:o.fillID))?re:(0,Y.Z)(a((0,ie.oe)(e,null===o||void 0===o?void 0:o.fillID)),{format:"array",alpha:p}):h,getFillIcon:e=>{var t,i;const o=null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.choicesId;return g(null===n||void 0===n||null===(i=n.icons)||void 0===i?void 0:i[o])},getBigDataTableIcon:e=>{var t;const i=(0,ie.oe)(e,null===o||void 0===o?void 0:o.fillID);return g(null===n||void 0===n||null===(t=n.icons)||void 0===t?void 0:t[i])},getClusterColorValue:v,getClusterDomain:function(e){let t=[];return t=null!==o&&void 0!==o&&o.fillID?de(e.map((e=>{var t;const i=null!==(t=e.properties.points)&&void 0!==t?t:[(0,ie.oe)(e,o.fillID)];var a;return i?{...e,properties:{...e.properties,clusterValue:(0,ie.Bb)(i,null!==(a=null===n||void 0===n?void 0:n.aggregateBy)&&void 0!==a?a:"sum")}}:e})),"clusterValue"):de(e,"point_count",null===n||void 0===n?void 0:n.fillMethod),t&&0!==t.length?t:[0,1]},getClusterFillColor:function(e,t){const i=v(e);return a?(0,Y.Z)(a(i),{format:"array",alpha:p}):X()(i)?re:("quantize"===s&&(l=(0,$.Z)().domain(t).range(r)),"quantile"===s&&(l=(0,J.Z)().domain(t).range(r)),l?(0,Y.Z)(l(i),{format:"array",alpha:p}):h)},getPathLayerLineColor(e,t){const i=null===o||void 0===o?void 0:o.groupByFieldID;if(!i)return h;const n=(t||[]).find((t=>{var n;return String(null===(n=t.properties)||void 0===n?void 0:n[i])===e.name}));return n?this.getFillColor(n):re}}}const ue={radius:100,fixedToMeter:!1,radiusRange:[10,100]};function pe(e,t){const{radiusConfig:i,fieldConfig:n}=e;let o=null;const{radius:a,fixedToMeter:l,radiusRange:r}=Object.assign({},ue,i);if(null!==n&&void 0!==n&&n.radiusID&&!X()(r)){const e=i.domain?i.domain:(0,ie.ge)(t.features,n.radiusID,"quantize");o=(0,N.Z)().domain(e).range(r)}const s=null!==l&&void 0!==l&&l;return{radiusScale:o,pointRadiusUnits:s?"meters":"pixels",pathLineWidthUnits:s?"meters":"pixels",getPointRadius:e=>o?X()((0,ie.oe)(e,null===n||void 0===n?void 0:n.radiusID))?0:o((0,ie.oe)(e,null===n||void 0===n?void 0:n.radiusID)):a,getRadiusRange:()=>r}}const he=[255,255,255,255],ve={colors:ne.O,strokeMethod:"quantize",thresholds:[],widthRange:[1,10],strokeWeight:1,reverse:!1,strokeOpacity:1};function ge(e,t){var i;const{outlineConfig:n,fieldConfig:o}=e;let a=null,l=null;const{colors:r,strokeWeight:s,strokeOpacity:d,strokeMethod:c,thresholds:u,widthRange:p}=Object.assign({},ve,n);if(null!==o&&void 0!==o&&o.outlineID){const e=null!==n&&void 0!==n&&n.domain?null===n||void 0===n?void 0:n.domain:(0,ie.ge)(t.features,null===o||void 0===o?void 0:o.outlineID,c);"quantize"!==c||X()(r)||(l=(0,$.Z)().domain(e).range(r)),"quantile"!==c||X()(r)||(l=(0,J.Z)().domain(e).range(r)),"customize"!==c||X()(r)||(l=(0,K.Z)().domain((0,ie.VM)(u)).range(r))}if(null!==o&&void 0!==o&&o.outlineWidthID){const e=(0,ie.ge)(t.features,o.outlineWidthID,"continuous");p&&(a=(0,N.Z)().domain(e).range(p))}const h=255*d,v=s,g=(null===r||void 0===r||null===(i=r[0])||void 0===i?void 0:i.length)>1?(0,Y.Z)(r[0],{format:"array",alpha:h}):he;return{outlineWidthScale:a,outlineStrokeScale:l,getLineWidth:e=>a?a((0,ie.oe)(e,null===o||void 0===o?void 0:o.outlineWidthID)):v,getLineColor:e=>l?X()((0,ie.oe)(e,null===o||void 0===o?void 0:o.outlineID))?he:(0,Y.Z)(l((0,ie.oe)(e,null===o||void 0===o?void 0:o.outlineID)),{format:"array",alpha:h}):g,lineWidthMinPixels:0,lineWidthMaxPixels:100,lineCapRounded:!0,lineJointRounded:!0,lineWidthUnits:"pixels",stroked:!0,strokeAlign:null===n||void 0===n?void 0:n.align}}var fe=i(95094),me=i(18937),ye=i(41176),we=i(89063),be=i.n(we),Ce=i(18765),xe=i.n(Ce);const Ie={enable:!1,height:100,multiplier:1,scale:"linear",heightRange:[0,100],aggregateBy:"sum"};function je(e,t){const{elevationConfig:i,fieldConfig:n}=e;let o=null,a=null;const{enable:l,multiplier:r,scale:s,heightRange:d,aggregateBy:c,height:u}=Object.assign({},Ie,i);if(null!==n&&void 0!==n&&n.elevationID){const e=xe()(t.features,(e=>"Polygon"===e.geometry.type||"MultiPolygon"===e.geometry.type)),a=i.domain?i.domain:(0,ie.ge)(e,n.elevationID,"quantize");"linear"===s&&(o=(0,N.Z)().domain(a).range(d)),"log"===s&&(o=(0,me.Z)().domain(a).range(d)),"sqrt"===s&&(o=(0,ye._b)().domain(a).range(d))}return{getExtruded:()=>l,getElevationScale:()=>r,getElevation:e=>o?null!==n&&void 0!==n&&n.elevationID?o((0,ie.oe)(e,null===n||void 0===n?void 0:n.elevationID)):o(u):u,getElevationRange:()=>d,getElevationValue(e,t){var i,r;if(!l)return 0;let s=null!==(i=be()(e))&&void 0!==i?i:0;if(null!==n&&void 0!==n&&n.elevationID&&c){var d;const i=W()(e,(e=>{var t;return null!==(t=(0,ie.oe)(e,n.elevationID))&&void 0!==t?t:0}));if(s=null!==(d=(0,ie.Bb)(i,c))&&void 0!==d?d:0,o&&t)return a=a||function(e){const t=W()(e,(e=>{var t;const i=W()(e.points,(e=>{var t;return null!==(t=(0,ie.oe)(e.source,null===n||void 0===n?void 0:n.elevationID))&&void 0!==t?t:0}));return null!==(t=(0,ie.Bb)(i,c))&&void 0!==t?t:0}));return[Math.min(...t),Math.max(...t)]}(t),o.domain(a),o(s)}return null!==(r=s)&&void 0!==r?r:0}}}const Me={threshold:.05};function ke(e){var t;const{heatmapConfig:i,radiusConfig:n,fieldConfig:o}=e,{threshold:a}=Object.assign({},Me,i);return{radiusPixels:null!==(t=null===n||void 0===n?void 0:n.radius)&&void 0!==t?t:30,threshold:a,getWeight(e){var t;return null!==o&&void 0!==o&&o.weightID?null!==(t=(0,ie.oe)(e,null===o||void 0===o?void 0:o.weightID))&&void 0!==t?t:0:1}}}const Te={cellSize:10,coverage:1};function Ee(e){const{gridConfig:t}=e,{cellSize:i,coverage:n}=Object.assign({},Te,t);return{getCellSize:()=>1e3*(null!==i&&void 0!==i?i:Te.cellSize),getCoverage:()=>n}}var Pe=i(40978);const Oe=[255,255,255,255],_e={width:1,widthRange:[1,1],originColor:"#08519c",destinationColor:"#eff3ff",type:"line"};function Se(e,t,i){const{odLineConfig:n,fieldConfig:o}=e;let a=null;const{widthRange:l,width:r,originColor:s,destinationColor:d,type:c}=Object.assign({},_e,n);if(null!==o&&void 0!==o&&o.outlineID&&l){const e=n.domain?n.domain:(0,ie.ge)(t.features,o.outlineID,"continuous");a=(0,N.Z)().domain(e).range(l)}return{getODLineType:()=>c,getTargetPosition(e){if(null!==o&&void 0!==o&&o.destinationID)try{const t=(0,ie.oe)(e,o.destinationID);return(0,Pe.be)(t).coordinates}catch{return(0,Pe.be)(e.geometry).coordinates}return(0,Pe.be)(e.geometry).coordinates},getOdLineWidth:e=>a?a((0,ie.oe)(e,null===o||void 0===o?void 0:o.outlineID)):r,getSourceColor(t){var n,a;return(0,ie.oe)(t,null===o||void 0===o?void 0:o.fillID)&&i.fillScale?(0,Y.Z)(i.fillScale((0,ie.oe)(t,null===o||void 0===o?void 0:o.fillID)),{format:"array",alpha:255*(null!==(n=null===(a=e.fillConfig)||void 0===a?void 0:a.fillOpacity)&&void 0!==n?n:1)}):s?(0,Y.Z)(s,{format:"array",alpha:255}):Oe},getTargetColor(t){var n,a;return(0,ie.oe)(t,null===o||void 0===o?void 0:o.fillID)&&i.fillScale?(0,Y.Z)(i.fillScale((0,ie.oe)(t,null===o||void 0===o?void 0:o.fillID)),{format:"array",alpha:255*(null!==(n=null===(a=e.fillConfig)||void 0===a?void 0:a.fillOpacity)&&void 0!==n?n:1)}):d?(0,Y.Z)(d,{format:"array",alpha:255}):Oe}}}var Ne=i(88406),Le=i(22732),De=i(33194);const Re=[255,255,255,255],Ze={enable:!1,colors:ne.O,fillMethod:"quantize",thresholds:[],fillOpacity:1,reverse:!1};function Ae(e,t){const{fieldConfig:i,fillConfig:n}=e;let o=null,a=null,l=null;const r=Object.assign({},Ze,e.bivariateFillConfig);if(null!==i&&void 0!==i&&i.fillID&&null!==i&&void 0!==i&&i.bivariateFillID&&r.enable){const s=r.domain?r.domain:(0,ie.ge)(t.features,i.bivariateFillID,r.fillMethod),d=n.domain?n.domain:(0,ie.ge)(t.features,i.fillID,n.fillMethod);l=function(e,t){const{mixedColorHigh:i,mixedColorLow:n,colorHigh:o,bivariateColorHigh:a}=(0,ie.pE)([e.colors[0],e.colors[e.colors.length-1],t.colors[0],t.colors[t.colors.length-1]],[e.fillOpacity,t.fillOpacity]),l=(0,De.Z)((0,ie.s8)(n),(0,ie.s8)(o)),r=(0,De.Z)((0,ie.s8)(a),(0,ie.s8)(i));return(e,t)=>{var i;const n=(0,De.Z)(l(e),r(e)),o=null===(i=(0,Le.ZP)(n(t)))||void 0===i?void 0:i.clamp().rgb();return o?[o.r,o.g,o.b,255*o.opacity]:Re}}(e.fillConfig,e.bivariateFillConfig);const c=[...(0,Ne.Z)(0,1,1/n.colors.length),1];"quantize"===n.fillMethod&&(o=(0,$.Z)().domain(d).range(c)),"quantile"===n.fillMethod&&(o=(0,J.Z)().domain(d).range(c)),"customize"===n.fillMethod&&(o=(0,K.Z)().domain((0,ie.VM)(n.thresholds)).range(c)),"quantize"===r.fillMethod&&(a=(0,$.Z)().domain(s).range(c)),"quantile"===r.fillMethod&&(a=(0,J.Z)().domain(s).range(c)),"customize"===r.fillMethod&&(a=(0,K.Z)().domain((0,ie.VM)(r.thresholds)).range(c))}return{getBlendColor(e){var t,n,r,s,d,c,u,p;const h=null!==(t=(0,ie.oe)(e,null===i||void 0===i?void 0:i.bivariateFillID))&&void 0!==t?t:0,v=null!==(n=(0,ie.oe)(e,null===i||void 0===i?void 0:i.fillID))&&void 0!==n?n:0,g=null!==(r=null===(s=o)||void 0===s?void 0:s(v))&&void 0!==r?r:0,f=null!==(d=null===(c=a)||void 0===c?void 0:c(h))&&void 0!==d?d:0;return null!==(u=null===(p=l)||void 0===p?void 0:p(g,f))&&void 0!==u?u:Re}}}const Fe={fadeTrail:!0,trailLength:120,capRounded:!1,jointRounded:!1,animation:!1,speed:1,currentTime:!1,iconSize:20};function ze(e,t,i){const{fieldConfig:n,tripsConfig:o,outlineConfig:a}=e,{fadeTrail:l,trailLength:r,animation:s,capRounded:d,jointRounded:c,speed:u,icon:p,iconSize:h}=Object.assign({},Fe,o);return{getTripColor(e){let{path:t}=e;return i.getFillColor(t[0])},getTripWidth(){var e;return null!==(e=null===a||void 0===a?void 0:a.strokeWeight)&&void 0!==e?e:0},getCapRounded:()=>d,getJointRounded:()=>c,getFadeTrail:()=>l,getTrailLength:()=>r,getTripsAnimation:()=>s,getTripsSpeed:()=>u,getTripsPath(e){let{path:t}=e;return W()(t,(e=>e.geometry.coordinates))},getTimestamps(e){let{path:t}=e;return null!==n&&void 0!==n&&n.timestampID?W()(t,(e=>(0,ie.oe)(e,null===n||void 0===n?void 0:n.timestampID))):[]},getScaledTimestamps(e){let{scaledTimestamps:t}=e;return t},getTripsIcon:()=>p,getTripsIconSize:()=>h,getTripsText(e){let{path:t,id:i}=e;return(0,ie.oe)(t[0],"".concat(null===n||void 0===n?void 0:n.labelID,"-labelFieldID"))}}}const Be=[0,0,0,0],Ve={colors:ne.O,waypointOpacity:.8,waypointSize:4,isCustomEndpointColor:!1,endpointSize:4,endpointOpacity:.8},He={radius:100,fixedToMeter:!1,radiusRange:[10,100]};function We(e,t){var i,n,o;const{pathConfig:a,fieldConfig:l,radiusConfig:r,fillConfig:s}=e,{colors:d,waypointOpacity:c,endpointOpacity:u}=Object.assign({},Ve,a),{radius:p,radiusRange:h}=Object.assign({},He,r);let v=null;const{aggregateBy:g}=s,f=255*c,m=255*u,y=Array.isArray(d)&&(null===d||void 0===d||null===(i=d[0])||void 0===i?void 0:i.length)>1?(0,Y.Z)(d[0],{format:"array",alpha:f}):"string"===typeof d?(0,Y.Z)(d,{format:"array",alpha:f}):Be;return function(e){const i=null===l||void 0===l?void 0:l.groupByFieldID;if(!i)return v;const n=t.features.filter((e=>{var t;return"Point"===(null===(t=e.geometry)||void 0===t?void 0:t.type)})),o=V()(n,(e=>{var t;return null===(t=e.properties)||void 0===t?void 0:t[i]})),a=W()(o,((n,o)=>{const a=(t.features||[]).filter((e=>{var t;return String(null===(t=e.properties)||void 0===t?void 0:t[i])===o&&"Point"===e.geometry.type}));if(!a)return 1;const r=W()(a,(e=>{var t;return null!==(t=(0,ie.oe)(e,l.radiusID))&&void 0!==t?t:0}));return(0,ie.Bb)(r,e)||1}));v=(0,N.Z)().domain([Math.min(...a),Math.max(...a)]).range(null!==h&&void 0!==h?h:[10,100])}(g),{filled:!0,pathWayPointSize:a.waypointSize,pathEndpointSize:a.endpointSize,pathCapRounded:!0,pathJointRounded:!0,getPathWayPointVisible:null!==(n=a.showWaypoint)&&void 0!==n&&n,getPathEndPointVisible:null!==(o=a.isCustomEndpointColor)&&void 0!==o&&o,getPathLayerLineWidth:function(e,t){if(null===l||void 0===l||!l.radiusID||!v)return p;const i=null===l||void 0===l?void 0:l.groupByFieldID;if(!i)return p;const{aggregateBy:n}=s,o=(t||[]).filter((t=>{var n;return String(null===(n=t.properties)||void 0===n?void 0:n[i])===e.name&&"Point"===t.geometry.type}));if(!o)return p;const a=W()(o,(e=>{var t;return null!==(t=(0,ie.oe)(e,l.radiusID))&&void 0!==t?t:0})),r=(0,ie.Bb)(a,n);return v(r||1)},getPathStartPointsFillColor:()=>a.startPointColor?(0,Y.Z)(a.startPointColor,{format:"array",alpha:m}):Be,getPathEndPointsFillColor:()=>a.endpointColor?(0,Y.Z)(a.endpointColor,{format:"array",alpha:m}):Be,getPathWayPointsFillColor:()=>y}}var Ue=i(38942);function qe(e,t){return i=>{var n;const o=null!==(n=null===t||void 0===t?void 0:t.extensions)&&void 0!==n?n:[];return{...[G.R,ce,pe,ge,fe.X,je,ke,Ee,Se,Ae,ze,We,Ue.I,...o].reduce(((t,n)=>(Object.assign(t,n(e,i,t)),t)),{}),config:e}}}},9626:(e,t,i)=>{"use strict";i.d(t,{g:()=>g});var n=i(57323),o=i.n(n),a=i(32603),l=i(55788),r=i(34929);const[s,d,c,u]=[0,1,2,3];class p extends l.Z{getShaders(){const e=super.getShaders();let t=e.vs;return t=t.replaceAll("padding.","_padding."),t=t.replace("void main(void) {","void main(void) {\n  vec4 _padding = padding + instancePixelOffsets.xyxy * vec4(1.0, 1.0, -1.0, -1.0);"),{...e,vs:t}}}o()(p,"layerName","EnhancedTextBackgroundLayer");class h extends r.Z{filterSubLayer(e){let{layer:t,renderPass:i}=e;if(t.id.includes("fill"))return!0;const n=t.id.includes("background");return"collision"===i?n:!n}}o()(h,"layerName","EnhancedTextLayer");const v={...r.Z.defaultProps};class g extends a.Z{calculatePixelOffset(){const{getTextAnchor:e,getAlignmentBaseline:t,getSize:i,getRadius:n=1,isIconLayer:o,getPixelOffset:a}=this.props,l="function"===typeof e?e():e,r="function"===typeof t?t():t,s="function"===typeof i?i():i,d="middle"===l?0:"start"===l?1:-1,c="center"===r?0:"bottom"===r?1:-1,u=s/4,p=1.25*s,h=1.25*(o?1/3:1);return"function"===typeof n?(e,t)=>{const[i,o]="function"===typeof a?a(e,t):[0,0],l=(t?n(e,t):1)*h;return[d*(l+u+i),c*(l+p+o)]}:()=>[d*(n*h+u),c*(n*h+p)]}calculateBackgroundPadding(){const{getTextAnchor:e,getAlignmentBaseline:t,getSize:i}=this.props,n="function"===typeof e?e():e,o="function"===typeof t?t():t,a="function"===typeof i?i():i,l=2*a,r=a,p=[0,0,0,0];return"top"===o?p[d]=r:"bottom"===o?p[u]=r:(p[d]=.5*r,p[u]=.5*r),"start"===n?p[s]=l:"end"===n?p[c]=l:(p[s]=.5*l,p[c]=.5*l),p}renderTextLayer(e,t){let{updateTriggers:i={},...n}=t;const{data:o,characterSet:a,fontFamily:l,fontSettings:r,fontWeight:s,outlineColor:d,outlineWidth:c,sizeScale:u,getAlignmentBaseline:v,getColor:g,getPosition:f,getTextAnchor:m,getSize:y,updateTriggers:w,background:b,getBackgroundColor:C}=this.props;return new h(this.getSubLayerProps({id:e,data:o,characterSet:a,fontFamily:l,fontSettings:r,fontWeight:s,outlineColor:d,outlineWidth:c,sizeScale:u,getSize:y,getAlignmentBaseline:v,getColor:g,getPosition:f,getTextAnchor:m,background:b,getBackgroundColor:C,updateTriggers:{...w,...i,getPixelOffset:[w.getRadius,w.getTextAnchor,w.getAlignmentBaseline,w.getSize,u]}}),{_subLayerProps:{background:{type:p,getCollisionPriority:1},characters:{getCollisionPriority:1}}},n)}renderLayers(){const{getText:e,updateTriggers:t,background:i}=this.props,n=this.calculatePixelOffset(),o=this.calculateBackgroundPadding(),a=i?"fill":"transparent";return this.renderTextLayer("".concat(t.getText,"-").concat(a),{backgroundPadding:o,getText:e,getPixelOffset:n,background:!0})}}o()(g,"layerName","PointLabelLayer"),o()(g,"defaultProps",v)},93611:(e,t,i)=>{"use strict";i.d(t,{IH:()=>r,kr:()=>a,nB:()=>l,w5:()=>d});var n=i(55349),o=i.n(n);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;function i(e){console.log(e.statusMessage)}e&&e.addEventListener&&e.addEventListener("webglcontextcreationerror",i,!1);let n=e.getContext("webgl2",t);return n=n||e.getContext("experimental-webgl2",t),n||(n=e.getContext("webgl",t),n=n||e.getContext("experimental-webgl",t)),e.removeEventListener&&e.removeEventListener("webglcontextcreationerror",i,!1),n};function l(e,t,i){Object.defineProperty(t,"clientWidth",{get:()=>t.width/i}),Object.defineProperty(t,"clientHeight",{get:()=>t.height/i}),Object.defineProperty(t,"parentElement",{get:()=>e.getContainer().querySelector(".maptalks-canvas-layer")})}function r(e,t){const i=s(e),n=s(t),o=Math.max(i,n),a=Math.pow(10,o);return(e*a+t*a)/a}function s(e){if(e%1!==0){const t=e.toString().split(".");if(2===t.length)return t[1].length}return 0}function d(e,t){var i,n;return null!==(i=null===(n=e.filter((e=>{var i;return!o()(null===(i=e.properties)||void 0===i?void 0:i[t])})))||void 0===n?void 0:n.sort(((e,i)=>{var n,o;const a=new Date(null===(n=e.properties)||void 0===n?void 0:n[t]),l=new Date(null===(o=i.properties)||void 0===o?void 0:o[t]);var r,s;return isNaN(a.getTime())||isNaN(l.getTime())?parseInt(null===(r=e.properties)||void 0===r?void 0:r[t])-parseInt(null===(s=i.properties)||void 0===s?void 0:s[t]):a.getTime()-l.getTime()})))&&void 0!==i?i:[]}},61469:(e,t,i)=>{"use strict";i.d(t,{K:()=>d,N:()=>s});var n=i(64201),o=i(21778),a=i(23502),l=i.n(a);const r=(0,n.Sn)();let s=null;async function d(e){const t=(await async function(e){switch(e){case"en-US":return i.e(401).then(i.t.bind(i,27641,19));case"ja-JP":return i.e(967).then(i.t.bind(i,656,19));default:return i.e(327).then(i.t.bind(i,25691,19))}}(e)).default;return s=(0,o.d)({locale:e,messages:{...l()(t,(e=>"__NOT_TRANSLATED__"===e))}},r),{intl:s}}},94908:(e,t,i)=>{"use strict";i.d(t,{isValidCoordinate:()=>r,transformGCJ02ToWGS84:()=>l,transformWGS84ToGCJ02:()=>a});i(57323),i(80128),i(40517);var n=i(37383),o=(i(58205),i(57764));function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return n.default.transform(e,n.default.WGS84,n.default.GCJ02);return!t||(0,o.$)(e)?n.default.transform(e,n.default.WGS84,n.default.GCJ02):e}function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return n.default.transform(e,n.default.GCJ02,n.default.WGS84);return!t||(0,o.$)(e)?n.default.transform(e,n.default.GCJ02,n.default.WGS84):e}function r(e){if(!e||!Array.isArray(e))return!1;const[t,i]=e;return"number"===typeof t&&"number"===typeof i&&(!isNaN(t)&&!isNaN(i)&&!(t<-180||t>180||i<-90||i>90))}},57764:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var n=i(40517),o=i(22787);const a=(e,t)=>e>=119.3&&e<=124.5&&t>=21.8&&t<=25.3||(e>=113.8&&e<=114.5&&t>=22.1&&t<=22.6||e>=113.5&&e<=113.6&&t>=22.1&&t<=22.2),l=[[125.58839973,53.54714207],[129.2662002,49.55520405],[135.09,48.46],[133.42875043,44.63343451],[129.51,42.42],[125.40941331,40.54131566],[121.58,36.82],[123.35596532,29.66701186],[118.45,24.44],[116.21310015,22.69956384],[114.92862948,22.59018828],[114.69627683,22.39192848],[114.19524526,22.55964984],[114.09111587,22.52215452],[113.91677972,22.41891965],[113.71716877,22.31163189],[113.56918245,22.22062318],[113.51755783,22.20434412],[113.54311308,22.14799659],[113.56866834,22.08932798],[113.39737263,21.99057105],[112.11201474,21.74283406],[110.42237361,21.25453652],[111.4120249,18.68123209],[108.83210058,18.04226732],[107.46459293,21.51802018],[105.35262605,23.18026555],[102.85310565,22.35430024],[101.7982473,21.21864169],[100.50703361,21.37159309],[97.53,23.85],[98.68,27.54],[97.17,27.77],[92.81650152,26.83707646],[90.45641823,27.99544544],[88.76,27.12],[82.86935815,29.80621868],[79.23690964,33.24518669],[77.48355782,35.44051904],[76.23318539,37.22053026],[74.58871629,38.73533281],[73.12,39.81],[75.06606578,40.72854254],[77.83367076,41.4887545],[79.97194236,42.34467564],[80.72671603,43.78696634],[79.90952679,44.64301945],[81.23,45.32],[87.35,49.09],[95.27540337,45.28116598],[105.39785766,41.99802896],[114.48378989,47.62177024],[120.19919986,53.3571649],[125.58839973,53.54714207]];function r(e){const[t,i]=e;if(!(t>=73&&t<=135&&i>=18&&i<=53))return!1;if(a(t,i))return!1;const r=n.yu([l]),s=n.xm([t,i]);return(0,o.Z)(s,r)}},6404:(e,t,i)=>{"use strict";i.d(t,{RI:()=>v,Vq:()=>p});var n=i(33718),o=i(89166),a=i(91100),l=i(71105),r=i(15905),s=i(95620),d=i(68429),c=i(27954),u=i(94553);function p(e){const t=(0,s.Z)(),{width:i=400,variant:l="",visible:r,...p}=e,h={};"plain"===l&&(h.footer=null,h.closable=!1);let v=e.footer;return"plain"!==l&&null!==e.footer&&(v=e.footer||(0,u.jsxs)("div",{className:(0,n.default)(c.Z.footer,e.footerClassName,{[c.Z.centered]:e.centered||e.footCentered}),children:[e.footerAddon&&(0,u.jsx)("div",{className:c.Z.footerAddon,children:e.footerAddon}),e.onCancel&&null!==e.cancelText&&(0,u.jsx)(o.ZP,{size:"middle",onClick:e.onCancel,...e.cancelButtonProps,children:e.cancelText||t.$t({id:"47FYwb",defaultMessage:"Cancel"})}),e.onOk&&(0,u.jsx)(o.ZP,{size:"middle",type:"primary",onClick:e.onOk,...e.okButtonProps,children:e.okText||t.$t({id:"N2IrpM",defaultMessage:"Confirm"})})]})),(0,u.jsxs)(a.Z,{...h,...p,open:r,width:i,footer:null,zIndex:e.zIndex||1030,transitionName:"dialog-animation",closeIcon:(0,u.jsx)(d.Z,{type:"close"}),className:(0,n.default)(c.Z.dialog,e.className,"plain"===l&&c.Z.plain),wrapClassName:(0,n.default)(c.Z.dialog,e.wrapClassName),children:[(0,u.jsx)("div",{className:c.Z.body,children:e.children}),v]})}const h=e=>(0,u.jsx)(o.ZP,{...e});function v(e){const{items:t,isInline:i=!1,renderItem:o=h}=e;return(0,u.jsxs)(l.Z,{gutter:12,className:(0,n.default)(e.className,c.Z.buttonGroup),"data-inline":i,children:[e.children&&(0,u.jsx)(r.Z,{style:{marginRight:"auto"},children:e.children}),t.map(((e,t)=>(0,u.jsx)(r.Z,{children:o(e)},t)))]})}},56912:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(47752),o=i(71105),a=i(15905),l=i(68429),r=i(11546),s=i(47587),d=i(53029),c=i(95620);const u="fieldTypeSelector_nameWrapper__Tzh-f",p="fieldTypeSelector_content__5iUKG",h="fieldTypeSelector_name__joXHP",v="fieldTypeSelector_icon__Cpdmh";var g=i(94553);const{Option:f}=s.Select,m=e=>{let{onChange:t,options:i=[],value:m,multiple:y,defaultOptions:w=[],notFoundContent:b,getPopupContainer:C,testID:x="field-select",...I}=e;const j=(0,c.Z)(),M=[...w,...i];return(0,g.jsx)(s.Select,{defaultActiveFirstOption:!1,onChange:t,value:m,mode:y?"multiple":void 0,getPopupContainer:C||(e=>e.parentNode),notFoundContent:b,"data-testid":x,placeholder:j.$t({id:"dUZ/2a",defaultMessage:"Select a field"}),...I,children:M.map((e=>{var t,i;return(0,g.jsx)(f,{value:e.id,disabled:e.disabled,name:e.name,children:(0,g.jsx)(n.Z,{title:e.tooltip,destroyOnHidden:!0,mouseLeaveDelay:0,children:(0,g.jsxs)(o.Z,{justify:"space-between",align:"middle",children:[(0,g.jsx)("div",{className:u,children:(0,g.jsxs)("span",{className:p,children:[e.type?null!==(t=e.typeOptions)&&void 0!==t&&t.textCoordinateType?(0,g.jsx)(l.Z,{className:v,type:r.Z9.multiLineText.icon}):(0,g.jsx)(l.Z,{className:v,type:null===(i=r.Z9[e.type])||void 0===i?void 0:i.icon}):null,(0,g.jsx)("span",{className:h,children:e.name})]})}),e.shouldPro&&(0,g.jsx)(a.Z,{children:(0,g.jsx)(d.Z,{})})]})})},e.id)}))})}},45818:(e,t,i)=>{"use strict";i.d(t,{BQ:()=>v,sz:()=>w,L0:()=>y,t1:()=>u,xu:()=>c});var n=i(95620),o=i(15525),a=i(44459);const l={aggregateHelpDocFeiShu:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-ZK0Qdl8LBo0NvrxA61vcbHGRnwk","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc#part-FiSxdx1lros4Bhxlf7VcnqYnnNf","lark-en-US":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh","lark-zh-CN":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh"},aggregateHelpDoc:{"en-US":"https://maptable.feishu.cn/wiki/U7snwsjCdiGoh7kEsJMcHOvVnFe?fromScene=spaceOverview&v=1.0.10.7392#share-DHVTdCLJCoaeYFxHNbxcMYCynnh","zh-CN":"https://maptable.feishu.cn/wiki/AyEkw6SxHiMQVykBB4acuCsCnKe"},visualTypeFeiShu:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-WGB9dynKyoznKfxc02YcRI4an0f","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc#share-MBGzdn6FqocE51xe1ZXcdxD1nWd"},visualType:{"en-US":"https://maptable.feishu.cn/wiki/KG4rw1qGfieOIsk2H6ccoPBxn6f#V00ddc0pAoWU2DxTf9XcQtcinjg","zh-CN":"https://maptable.feishu.cn/wiki/L46hwHWrxib1m2krdPrc86xnnph#share-SFqXdMUTaonPZpxA3S3cqGGsnLf"},coordinateType:{"en-US":"https://maptable.feishu.cn/wiki/OTcBwMV5SiNTjukm8dXcLd6Vnrd?fromScene=spaceOverview#share-GB0qdlTTnoFzUpxHCc8c9ynLnee","zh-CN":"https://maptable.feishu.cn/wiki/Q8EmwPqz9ikID0kCh7DcK7HJnAe?fromScene=spaceOverview","lark-en-US":"https://maptable.sg.larksuite.com/wiki/TCAtwPNtXi7EyakQ6hzueaVZsTg?fromScene=spaceOverview#share-PlV6dUbRtob1epxOviQlLmBngec","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/TCAtwPNtXi7EyakQ6hzueaVZsTg?fromScene=spaceOverview#share-PlV6dUbRtob1epxOviQlLmBngec"},sampleData:{"en-US":"https://maptable.feishu.cn/wiki/WMi0wpOCJiyHBIkCTN1cpVJFnWc?from=from_copylink","zh-CN":"https://maptable.feishu.cn/wiki/WMi0wpOCJiyHBIkCTN1cpVJFnWc?from=from_copylink"},extensionUsingForMap:{"en-US":"https://maptable.feishu.cn/wiki/U7snwsjCdiGoh7kEsJMcHOvVnFe","zh-CN":"https://maptable.feishu.cn/wiki/ItXVwNfluiF34fkxfXpcRaUYnqd"},extensionUsingForTable:{"en-US":"https://maptable.feishu.cn/wiki/SDgjwcdURigH29kBJVec9NUJnbb","zh-CN":"https://maptable.feishu.cn/wiki/QOuhwd9cgirjXfkFRc3cJrrwnag"},fieldType:{"en-US":"https://maptable.feishu.cn/wiki/FmqKwIy2IiWsp3kUWFsc6HZ7nvh","zh-CN":"https://maptable.feishu.cn/wiki/NLHwwoeHniv2ofkI6vpcUPPAnCc"},lookupField:{"en-US":"https://maptable.feishu.cn/wiki/FmqKwIy2IiWsp3kUWFsc6HZ7nvh#part-UltZdZpFwoxjprxAhRkcBxWSnRe","zh-CN":"https://maptable.feishu.cn/wiki/XPjFwpx5Li7UW8kYPDLc2YPTnOh"},syncTable:{"en-US":"https://maptable.feishu.cn/wiki/TG0XwKdddiel0Lkfaz6cDTVXnAb?fromScene=spaceOverview#share-IhIbdKb0eonEIox2e0VcdmbDn7G","zh-CN":"https://maptable.feishu.cn/wiki/UKNYw9jPDiX3Qwkkgk3c5FT4nsf?fromScene=spaceOverview#part-MxBAd2M2XolZo1xcXYqcASofnOe"},splitMode:{"en-US":"https://maptable.feishu.cn/wiki/MpKMw0qbsiG9Q6kWfSqcDXQlnKd","zh-CN":"https://maptable.feishu.cn/wiki/TSfywcxFoi9DbykNattcF94InDh"},addView:{"en-US":"https://maptable.feishu.cn/wiki/TIkwwwJN5ir1clkK9sTcTEymnie","zh-CN":"https://maptable.feishu.cn/wiki/UX1ewWW7gi3qkTkqxUjcrwOjnWd"},filterGroup:{"en-US":"https://maptable.feishu.cn/wiki/MsBrwSQgsi0NFzk2lglcgXvRnOb?fromScene=spaceOverview#part-CxiHdGeVaoxXwZxaacucmifSnFh","zh-CN":"https://maptable.feishu.cn/wiki/OoKRw3W5qinqXAkJlIPcWPWunxb?fromScene=spaceOverview#part-Uw9ndwIPxoQhQRxngiCcDmLGnmb"},importData:{"en-US":"https://maptable.feishu.cn/wiki/TG0XwKdddiel0Lkfaz6cDTVXnAb","zh-CN":"https://maptable.feishu.cn/wiki/UKNYw9jPDiX3Qwkkgk3c5FT4nsf"},importField:{"en-US":"https://maptable.feishu.cn/wiki/TG0XwKdddiel0Lkfaz6cDTVXnAb?fromScene=spaceOverview#share-VMpideKhioUTYyxZezHctv6AnXM","zh-CN":"https://maptable.feishu.cn/wiki/UKNYw9jPDiX3Qwkkgk3c5FT4nsf?fromScene=spaceOverview#share-Da6fdRhJ4o4Xk7xfUEHcRsDmnxv"},appendData:{"en-US":"https://maptable.feishu.cn/wiki/EBlCwhmvMi6TdFkrIbLcE62AnNb","zh-CN":"https://maptable.feishu.cn/wiki/FGyHw0893i2DHvkv6atcBacZnTf"},streamField:{"en-US":"https://maptable.feishu.cn/wiki/FmqKwIy2IiWsp3kUWFsc6HZ7nvh","zh-CN":"https://maptable.feishu.cn/wiki/NLHwwoeHniv2ofkI6vpcUPPAnCc"},mapToken:{"en-US":"https://maptable.feishu.cn/wiki/SDgjwcdURigH29kBJVec9NUJnbb#part-BK53dNN2bo2WWWxc6zrcPDTsn8e","zh-CN":"https://maptable.feishu.cn/wiki/QOuhwd9cgirjXfkFRc3cJrrwnag#M6jMd1jJGoX8FFx5GZYc1ENnnEc"},projectPermission:{"en-US":"https://maptable.feishu.cn/wiki/Ter9wpDf0iGYETkQbADclgH9nRb#part-W1rndalQIowFu0x5acicnaw5nSd","zh-CN":"https://maptable.feishu.cn/wiki/UdtywzlLvin5TakyA5yckGjwnPh#part-TwZudj2oHov2aRx8eYGcJs16nQc"},rolePermission:{"en-US":"https://maptable.feishu.cn/wiki/Ter9wpDf0iGYETkQbADclgH9nRb","zh-CN":"https://maptable.feishu.cn/wiki/UdtywzlLvin5TakyA5yckGjwnPh"},dataConnection:{"en-US":"https://maptable.feishu.cn/wiki/VCBdwAiAvij7GVkPfWTcCAumnOg","zh-CN":"https://maptable.feishu.cn/wiki/NgjZwSfuDiGvROkV8cecEjfKnRd"},regionExtension:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-MzUAdpGA5oNphZxhfFdcWcN9nse","zh-CN":"https://maptable.feishu.cn/wiki/Xf00w94D0iyrTjkfcZNcQJvenKe","lark-en-US":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh","lark-zh-CN":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh"},boundariesExtension:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-RcPtddtdYoss08xOiSVcM3uQnBb","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc#part-BHvhdcR6EogTMmxVTBdcGgKtnkf","lark-en-US":"https://maptable.larksuite.com/wiki/NdZUwzsOEiFhrCk0C6uuBLJusld","lark-zh-CN":"https://maptable.larksuite.com/wiki/NdZUwzsOEiFhrCk0C6uuBLJusld"},analysisExtension:{"en-US":"https://maptable.feishu.cn/wiki/H61lw7ijfitQUskjg6AcdeCZnde","zh-CN":"https://maptable.feishu.cn/wiki/BjyzwVuxviTAYckYFL3c3JhbnWb","lark-en-US":"https://maptable.larksuite.com/wiki/GuT6w8P9sid5akkvvAxu06g0s3f","lark-zh-CN":"https://maptable.larksuite.com/wiki/GuT6w8P9sid5akkvvAxu06g0s3f"},feishuQuota:{"en-US":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f","zh-CN":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f"},dashboardPricing:{"en-US":"https://maptable.feishu.cn/wiki/W1PqwMwKeicrQYk1ekCcBl88n6e","zh-CN":"https://maptable.feishu.cn/wiki/W1PqwMwKeicrQYk1ekCcBl88n6e","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd"},dashboardActiveUsers:{"en-US":"https://maptable.feishu.cn/wiki/SNRRwYVBki86umk9aJCcxzMbn4b?fromScene=spaceOverview#share-JgG0dTyWsoqDhex8snucfac8nAc","zh-CN":"https://maptable.feishu.cn/wiki/W1PqwMwKeicrQYk1ekCcBl88n6e?fromScene=spaceOverview#part-AYk9dj588o8XVmx6fficbkzvnIb","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd#share-TTfPdLpqhor0ymxFqEqlp1sLgeb","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd#share-TTfPdLpqhor0ymxFqEqlp1sLgeb"},dashboardIcon:{"zh-CN":"https://maptable.feishu.cn/wiki/QPmswiYUjiTsBmkJgKpcyRq4nRc","en-US":"https://maptable.feishu.cn/wiki/QPmswiYUjiTsBmkJgKpcyRq4nRc","lark-en-US":"https://maptable.sg.larksuite.com/wiki/IB81wwfjwiXT83kwxh8lWRESgge","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/IB81wwfjwiXT83kwxh8lWRESgge"},dashboardHeatmap:{"zh-CN":"https://maptable.feishu.cn/wiki/Jw67wZXDSibPn2khFF7cAndwnyf","en-US":"https://maptable.feishu.cn/wiki/Jw67wZXDSibPn2khFF7cAndwnyf","lark-en-US":"https://maptable.sg.larksuite.com/wiki/ImJ7wk2oviVW1kkwiVQl16f4gjq","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/ImJ7wk2oviVW1kkwiVQl16f4gjq"},dashboardRegion:{"en-US":"https://maptable.feishu.cn/wiki/NbmTw3CDLiGFQwkCtzIcVaObnsd","zh-CN":"https://maptable.feishu.cn/wiki/NbmTw3CDLiGFQwkCtzIcVaObnsd","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe"},credits:{"en-US":"https://maptable.feishu.cn/wiki/H3sNwdO5OiBYQ0kIka5cblyinwc","zh-CN":"https://maptable.feishu.cn/wiki/C3y9wenwxiYjzvkszQSc2Gmin4b","feishu-en-US":"https://maptable.feishu.cn/wiki/EwuSw0ZcZihBVlklhfKcSMLHnib?fromScene=spaceOverview#share-UT3gd9ArOomjgyxR8TZc1szbnTf","feishu-zh-CN":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f?fromScene=spaceOverview#share-PXcsdFgzKolGGOx1KJVcvdi5nbf"},addData:{"en-US":"https://maptable.feishu.cn/wiki/B1oKwPsuRifYkLkdDuzcoHQ2nHg?fromScene=spaceOverview#share-FwyMdXxVVoki2Kx8pdEcdTZOnIf","zh-CN":"https://maptable.feishu.cn/wiki/HDv8wZbABiOXuIkxtOYco1ypnmc?fromScene=spaceOverview#share-Otb2dMoS7oHmPuxeosPcJPCdnce","feishu-en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe?fromScene=spaceOverview#share-M8NwduGGLoOrv9xX8qycCZnXnEB","feishu-zh-CN":"https://maptable.feishu.cn/wiki/S92tw5cX2iJWUakVYCVcxqE6ng9?fromScene=spaceOverview"},howToBuyFeishu:{"en-US":"https://maptable.feishu.cn/wiki/EwuSw0ZcZihBVlklhfKcSMLHnib?fromScene=spaceOverview","zh-CN":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f?fromScene=spaceOverview#GcRad02cwoHcbyxHivMcDyLQnfn"},conv2vector:{"en-US":"https://maptable.feishu.cn/wiki/H3sNwdO5OiBYQ0kIka5cblyinwc","zh-CN":"https://maptable.feishu.cn/wiki/C3y9wenwxiYjzvkszQSc2Gmin4b","feishu-en-US":"https://maptable.feishu.cn/wiki/Ye9OwMPoMiRjnGk52X7c8BF2nSh?fromScene=spaceOverview","feishu-zh-CN":"https://maptable.feishu.cn/wiki/Md0UwFv77iaceaku8vvcquiSnRb?fromScene=spaceOverview"},paymentStatus:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc","lark-en-US":"https://maptable.larksuite.com/wiki/JVCLw39jiiTSRfkinPZu2HXOsCd","lark-zh-CN":"https://maptable.larksuite.com/wiki/JVCLw39jiiTSRfkinPZu2HXOsCd","dashboard-en-US":"https://maptable.feishu.cn/wiki/VjykwUa0WiejfAkJiMBcj9EhnV6","dashboard-zh-CN":"https://maptable.feishu.cn/wiki/ETtOwMd9biUEMTkcWgPcfLe1nlc"},selectMembers:{"en-US":"https://maptable.feishu.cn/wiki/X2t5wUZHBiuHjekPgvVcM4CcnQF?fromScene=spaceOverview#share-Vd9JdPRGqoOrlCxQYiRcpUpxnWe","zh-CN":"https://maptable.feishu.cn/wiki/F4GIwx5roilAdZkYCDWcG7llnMf?fromScene=spaceOverview#share-IZzcdCVU4oMhRGx8iGNcSdaInth","lark-en-US":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe?fromScene=spaceOverview#share-DxpodLLLEo2mtCxqI1mlgSGPgmc","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe?fromScene=spaceOverview#share-DxpodLLLEo2mtCxqI1mlgSGPgmc","dashboard-lark-en-US":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe","dashboard-lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe"},geocoding:{"en-US":"https://maptable.feishu.cn/wiki/Vu7fwccvziJ7KJkLFunclaSsnE6","zh-CN":"https://maptable.feishu.cn/wiki/MvYUwHHBripOk8kTOUic9287nZg?fromScene=spaceOverview","feishu-en-US":"https://maptable.feishu.cn/wiki/Ud3gwbqboiHcRYkH2IPc0Bsfnmc","feishu-zh-CN":"https://maptable.feishu.cn/wiki/MR4Awbap8iusJgk8WyQc8Lpznbh?fromScene=spaceOverview"},geocodingExtension:{"en-US":"https://maptable.feishu.cn/wiki/SDgjwcdURigH29kBJVec9NUJnbb?fromScene=spaceOverview#share-F3ycdabgHoehSLxF7Bccj95en1X","zh-CN":"https://maptable.feishu.cn/wiki/QOuhwd9cgirjXfkFRc3cJrrwnag?fromScene=spaceOverview#share-VIk9dQglHoG0jWx106EcjfT7nSf","feishu-en-US":"https://maptable.feishu.cn/wiki/Qi2iw7gJqii71fkJSj5ciCIZnkb","feishu-zh-CN":"https://maptable.feishu.cn/wiki/MwHawIjPPiccZKkN5encLgqJncc"},regionPerformance:{"en-US":"https://maptable.feishu.cn/wiki/MJZYwdHUKiuMLakSV2lcMDgXnDe?fromScene=spaceOverview#share-DfB4dUxXEocYwAxLfXGckcxBn3e ","zh-CN":"https://maptable.feishu.cn/wiki/NbmTw3CDLiGFQwkCtzIcVaObnsd?fromScene=spaceOverview#share-JQObdQD5Eo3tiVxI11HcK5FbnAt","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe"}},r=!0,s=!1,d=!1;function c(e,t,i){return p(e,t,i)}function u(e,t){return p(e,t,void 0,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}function p(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i||!t)return i;const o="zh-CN"===e?"zh-CN":"en-US";let a;if(r){var c,u,p;if(!n)a=null===(c=l[t])||void 0===c?void 0:c["dashboard-lark-"+o];if(!a)a=null===(u=l[t])||void 0===u?void 0:u["dashboard-"+o];if(!n&&!a)a=null===(p=l[t])||void 0===p?void 0:p["lark-"+o]}else if(d){var h;a=null===(h=l[t])||void 0===h?void 0:h["lark-"+o]}var v,g;!a&&(s||r||d)&&(a=null===(v=l[t])||void 0===v?void 0:v["feishu-"+o]);a||(a=null===(g=l[t])||void 0===g?void 0:g[o]);return a}var h=i(94553);const v=e=>{let{text:t,linkUrl:i,link:l,isFeishuDashboard:r,useRouterLink:s,className:d,values:c}=e;const u=p((0,n.Z)().locale,l,i,r);function v(e){e.stopPropagation()}return(0,h.jsx)(o.Z,{...t,values:{...c,a:e=>s&&u?(0,h.jsx)(a.rU,{to:u,onClick:v,children:e}):(0,h.jsx)("a",{href:u,className:d,target:"_blank",rel:"noreferrer",onClick:v,children:e})}})};var g=i(47752),f=i(68429);const m="helpLink_linkIcon__oDcD6",y=e=>{let{text:t,link:i,linkUrl:o,style:a,className:l,secondary:r,isFeishuDashboard:s}=e;const d=p((0,n.Z)().locale,i,o,s);return(0,h.jsx)(g.Z,{title:(0,h.jsxs)("span",{children:[(0,h.jsx)(v,{text:t,link:i,linkUrl:o}),r&&(0,h.jsxs)("span",{children:[" ",r]})]}),className:l,children:(0,h.jsx)(f.Z,{type:"info",className:m,style:a,onClick:e=>{d&&(window.open(d,"_blank"),null===e||void 0===e||e.stopPropagation())}})})},w=e=>{const{link:t,linkUrl:i,isFeishuDashboard:o,onClick:a,...l}=e,r=p((0,n.Z)().locale,t,i,o);return(0,h.jsx)(f.Z,{type:"info",className:m,...l,onClick:e=>{a&&e?a(e):(null===e||void 0===e||e.stopPropagation(),r&&window.open(r,"_blank"))}})}},70645:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(33718);const o="proBadge_wrap__h0QOQ";var a=i(94553);const l=e=>{let{text:t="Pro",className:i}=e;return(0,a.jsx)("span",{className:(0,n.default)(o,i),children:t})}},53029:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n.Z});var n=i(70645)},47587:(e,t,i)=>{"use strict";i.d(t,{Select:()=>p});var n=i(57435),o=i(93293),a=i(33718),l=i(68429);const r="select_container__hgfaG",s="select_selectSuffixIcon__vUGj8";var d=i(94553);const c=(0,d.jsx)(l.Z,{type:"caretBottom",className:s});function u(e,t){const{suffixIcon:i=c,className:n,...l}=e;return(0,d.jsx)(o.Z,{...l,suffixIcon:i,className:(0,a.default)(r,n),ref:t})}const p=(0,n.forwardRef)(u);p.OptGroup=o.Z.OptGroup,p.Option=o.Z.Option},20935:(e,t,i)=>{"use strict";i.d(t,{J:()=>h,Z:()=>v});var n=i(50239),o=i(10925),a=i(47752),l=i(95620),r=i(7070),s=i.n(r),d=i(68429),c=i(47587);const u={viewItem:"tableViewSelector_viewItem__ySfNy",icon:"tableViewSelector_icon__4WwAi"};var p=i(94553);const h="MT_LAYER_EMPTY_VIEW_OPTION_ID",v=e=>{let{viewOptions:t,testID:i,onChange:r,...v}=e;const g=(0,l.Z)();return(0,p.jsx)(c.Select,{"data-testid":i,...v,onChange:r,children:s()(t,(e=>(0,p.jsx)(c.Select.Option,{value:e.id,name:e.name,disabled:e.disabled,children:(0,p.jsxs)(n.Z,{justify:"space-between",children:[(0,p.jsxs)("div",{className:u.viewItem,children:[e.id!==h&&(0,p.jsx)(d.Z,{type:e.isPersonal?"userFill":e.isLocked?"lockFill":"groupFill",className:u.icon}),(0,p.jsx)(o.Z.Paragraph,{className:u.viewName,title:e.name,ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.name,placement:"right",destroyOnHidden:!0}},children:e.name})]}),e.noCoordinateColumn&&e.id!==h?(0,p.jsx)(a.Z,{title:g.$t({id:"LfmLIs",defaultMessage:"No location field"}),children:(0,p.jsx)(n.Z,{align:"center",children:(0,p.jsx)(d.Z,{type:"warning"})})}):null]})},e.id)))})}},29697:(e,t,i)=>{"use strict";i.d(t,{$J:()=>r,At:()=>d,Cf:()=>c,HU:()=>u,R6:()=>l,Sr:()=>p,f8:()=>s,nB:()=>a,nn:()=>o});var n=i(79129);let o=function(e){return e.AmapStandard="AmapStandard",e.AmapLight="AmapLight",e.AmapDark="AmapDark",e.AmapDarkBlue="AmapDarkBlue",e.AmapSatellite="AmapSatellite",e}({}),a=function(e){return e.GoogleMapAtlas="GoogleMapAtlas",e.GoogleMapLight="GoogleMapLight",e.GoogleMapGrey="GoogleMapGrey",e.GoogleMapDark="GoogleMapDark",e.GoogleMapNight="GoogleMapNight",e.GoogleMapSatellite="GoogleMapSatellite",e}({}),l=function(e){return e.MapboxStreets="MapboxStreets",e.MapboxOutdoors="MapboxOutdoors",e.MapboxLight="MapboxLight",e.MapboxDark="MapboxDark",e.MapboxSatellite="MapboxSatellite",e}({});const r=[o.AmapDark,o.AmapDarkBlue,o.AmapSatellite,a.GoogleMapDark,a.GoogleMapNight,l.MapboxDark,l.MapboxSatellite],s=[o.AmapStandard,o.AmapLight,a.GoogleMapAtlas,a.GoogleMapLight,a.GoogleMapGrey,l.MapboxStreets,l.MapboxOutdoors,l.MapboxLight],d=["google"],c={AmapStandard:{label:(0,n.Em)({id:"amap.style.standard",defaultMessage:"Standard"})},AmapLight:{label:(0,n.Em)({id:"amap.style.light",defaultMessage:"Light"})},AmapDark:{label:(0,n.Em)({id:"amap.style.dark",defaultMessage:"Dark"})},AmapDarkBlue:{label:(0,n.Em)({id:"amap.style.darkBlue",defaultMessage:"Dark Blue"})},AmapSatellite:{label:(0,n.Em)({id:"amap.style.satellite",defaultMessage:"Satellite"})}},u={GoogleMapAtlas:{label:(0,n.Em)({id:"google.map.atlas",defaultMessage:"Atlas"})},GoogleMapLight:{label:(0,n.Em)({id:"google.map.light",defaultMessage:"Light"})},GoogleMapGrey:{label:(0,n.Em)({id:"google.map.grey",defaultMessage:"Grey"})},GoogleMapDark:{label:(0,n.Em)({id:"google.map.dark",defaultMessage:"Dark"})},GoogleMapNight:{label:(0,n.Em)({id:"google.map.night",defaultMessage:"Night"})},GoogleMapSatellite:{label:(0,n.Em)({id:"google.map.satellite",defaultMessage:"Satellite"})}},p={MapboxStreets:{label:(0,n.Em)({id:"mapbox.style.streets",defaultMessage:"Streets"})},MapboxOutdoors:{label:(0,n.Em)({id:"mapbox.style.outdoors",defaultMessage:"Outdoors"})},MapboxLight:{label:(0,n.Em)({id:"mapbox.style.light",defaultMessage:"Light"})},MapboxDark:{label:(0,n.Em)({id:"mapbox.style.dark",defaultMessage:"Dark"})},MapboxSatellite:{label:(0,n.Em)({id:"mapbox.style.satellite",defaultMessage:"Satellite"})}}},96271:(e,t,i)=>{"use strict";i.d(t,{BE:()=>G,BK:()=>$,Cq:()=>Q,DE:()=>h,Er:()=>K,FA:()=>F,Hd:()=>q,Jp:()=>Y,N3:()=>te,P8:()=>J,R$:()=>X,T_:()=>W,Ws:()=>M,bT:()=>H,lK:()=>ee,lw:()=>U,wn:()=>Z});var n,o=i(18263),a=i.n(o),l=i(74933),r=i.n(l),s=i(15288),d=i.n(s),c=i(65066),u=i.n(c),p=i(98968);const h=["maptableGreen1","maptableGreen2","maptablePink1","maptablePink2","maptablePink3","maptableBlue1"],v=["maptableBluePurple","maptableCyanBlack","maptableCyanGray","maptableRdBu"],g=["#E3F2E2","#BDDFD2","#99CDC2","#59A6A8","#3F9392","#267F7E","#086B6D","#00585D","#004548"],f=["#cdfcd7","#a9e4c9","#88cdba","#68b4ac","#499c9e","#35848d","#216d7d","#13546a","#073e58"],m=["#fff8bb","#ffe5a8","#ffd297","#ffbd89","#ffa87f","#ff927c","#ff7d7b","#f6677d","#ea5383"],y=["#f4e9a2","#fccf91","#ffb487","#fc9984","#f38088","#dd6c8f","#be5f98","#94559e","#5e4fa1"],w=["#eefc50","#ffc849","#fe946d","#f16b87","#db4486","#b61d7f","#850092","#520099","#130083"],b=["#59eefb","#4dd6ef","#40bde3","#34a4d7","#278bca","#4566c4","#5a3fbe","#6b0bb8","#7b00b3"],C=["#0083f8","#00a5cc","#00c5a1","#76c26d","#ffbe46","#ffa148","#ff824e","#e04a9f","#b900f8"],x=["#73c2a9","#c7dcc4","#eec4b4","#d46165","#c19280","#a7c39b","#7c6548","#442a1a","#050505"],I=["#55c5cb","#fcbe7b","#e8aad1","#81c679","#d3a0d0","#cfd385","#8dd2b7","#caa9aa","#b3b3b3"],j=["#1a79b3","#56e0c7","#8cc5dd","#bbe1e1","#bdf1d2","#ffffc5","#ffe1a0","#ffc07d","#fc9381","#ef5850","#e0203f"].reverse(),M=g.length,k={maptableGreen1:{3:g.slice(0,3),4:g.slice(0,4),5:g.slice(0,5),6:g.slice(0,6),7:g.slice(0,7),8:g.slice(0,8),9:g.slice(0,9)},maptableGreen2:{3:f.slice(0,3),4:f.slice(0,4),5:f.slice(0,5),6:f.slice(0,6),7:f.slice(0,7),8:f.slice(0,8),9:f.slice(0,9)},maptablePink1:{3:m.slice(0,3),4:m.slice(0,4),5:m.slice(0,5),6:m.slice(0,6),7:m.slice(0,7),8:m.slice(0,8),9:m.slice(0,9)},maptablePink2:{3:y.slice(0,3),4:y.slice(0,4),5:y.slice(0,5),6:y.slice(0,6),7:y.slice(0,7),8:y.slice(0,8),9:y.slice(0,9)},maptablePink3:{3:w.slice(0,3),4:w.slice(0,4),5:w.slice(0,5),6:w.slice(0,6),7:w.slice(0,7),8:w.slice(0,8),9:w.slice(0,9)},maptableBlue1:{3:b.slice(0,3),4:b.slice(0,4),5:b.slice(0,5),6:b.slice(0,6),7:b.slice(0,7),8:b.slice(0,8),9:b.slice(0,9)},maptableBluePurple:{3:C.slice(0,3),4:C.slice(0,4),5:C.slice(0,5),6:C.slice(0,6),7:C.slice(0,7),8:C.slice(0,8),9:C.slice(0,9)},maptableCyanBlack:{3:x.slice(0,3),4:x.slice(0,4),5:x.slice(0,5),6:x.slice(0,6),7:x.slice(0,7),8:x.slice(0,8),9:x.slice(0,9)},maptableCyanGray:{3:I.slice(0,3),4:I.slice(0,4),5:I.slice(0,5),6:I.slice(0,6),7:I.slice(0,7),8:I.slice(0,8),9:I.slice(0,9)},maptableRdBu:{3:j.slice(0,3),4:j.slice(0,4),5:j.slice(0,5),6:j.slice(0,6),7:j.slice(0,7),8:j.slice(0,8),9:j.slice(0,9),10:j.slice(0,10),11:j.slice(0,11)}},T=["#008080","#31968c","#78ac99","#a3c2a6","#cdd8b3","#f7eec1","#f4d1a3","#efb386","#e7966a","#dd7750","#d25836"].reverse(),E=["#009b9d","#00acad","#40bdbd","#8ccdcf","#c2dfe0","#f1f1f1","#ebd4e2","#e5b7d3","#ef9ac4","#d77ab7","#cf5aaa"].reverse(),P={BrBG:{3:T.slice(0,3),4:T.slice(0,4),5:T.slice(0,5),6:T.slice(0,6),7:T.slice(0,7),8:T.slice(0,8),9:T.slice(0,9),10:T.slice(0,10),11:T.slice(0,11)},PiYG:{3:E.slice(0,3),4:E.slice(0,4),5:E.slice(0,5),6:E.slice(0,6),7:E.slice(0,7),8:E.slice(0,8),9:E.slice(0,9),10:E.slice(0,10),11:E.slice(0,11)}},O={...p.Z,...k,...P},{sequential:_=[],singlehue:S=[],diverging:N=[],qualitative:L=[]}=null!==(n=null===p.Z||void 0===p.Z?void 0:p.Z.schemeGroups)&&void 0!==n?n:{},D=["BuGn","PuBu","PuBuGn","PuRd","RdPu","Pastel1","Set3","RdBu"],R=[...h,...S,..._,...N,...L,...v].filter((e=>!D.includes(e))),Z=a()(3,12);function A(e,t){if(N.includes(e)){var i;const n=null===(i=O[e])||void 0===i?void 0:i[t];return n?[...n].reverse():n}return O[e][t]}const F=d()(r()(Z),(e=>u()(d()(r()(R),(t=>A(t,e)))))),z=["Set1","Set2","Spectral","YlGn","YlGnBu","YlOrBr","YlOrRd","Accent","Dark2","Paired","Pastel2","maptableCyanBlack","maptableCyanGray"],B=[...h,"Oranges","PRGn","RdYlGn","maptableBluePurple","maptableRdBu"],V=[...h,"Blues","Purples","Oranges","PRGn","RdYlBu","RdYlGn",...v],H="Blues",W=d()(r()(Z),(e=>u()(d()(r()(R.filter((e=>B.includes(e)))),(t=>A(t,e)))))),U=d()(r()(Z),(e=>u()(d()(r()(R.filter((e=>V.includes(e)))),(t=>A(t,e)))))),q=d()(r()(Z),(e=>u()(d()(r()(R.filter((e=>V.includes(e)))),(t=>A(t,e)))))),G=d()(r()(Z),(e=>u()(d()(r()(R.filter((e=>!z.includes(e)))),(t=>A(t,e))))));function $(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,i=arguments.length>1?arguments[1]:void 0;const n=null!==(e=i||["PiYG","PRGn","PuOr",H][Math.floor(5*Math.random())])&&void 0!==e?e:H;return{colors:F[t][n],colorScheme:n}}const J={redLighter:"#FADADA",salmonLighter:"#FBE7E2",orangeLighter:"#FEF0E3",yellowLighter:"#FFF8E0",greenLighter:"#E7F6F0",cyanLighter:"#E0F6FB",blueLighter:"#E0EDFF",purpleLighter:"#EDEAF8",lilacLighter:"#F6E5FC",greyLighter:"#EDEEF2"},K={redLight:"#F5B6B6",salmonLight:"#F6C6BB",orangeLight:"#FDDCBE",yellowLight:"#FFEFB8",greenLight:"#C7EADB",cyanLight:"#B8EBF4",blueLight:"#B8D4FF",purpleLight:"#D4CFEE",lilacLight:"#EFCFFB",greyLight:"#E1E4EA"},Y={...J,...K},Q={redDark:"#E64C4C",salmonDark:"#E55939",orangeDark:"#F99439",yellowDark:"#FFC80A",greenDark:"#5EC298",cyanDark:"#46CBE2",blueDark:"#3384FF",purpleDark:"#8476CD",lilacDark:"#C043EF",greyDark:"#505F79"},X={...Y,...Q};function ee(e){return e&&"object"===typeof e&&"id"in e&&"bgColor"in e}const te=["#7E4C1E","#86281F","#275C3D","#2A5A72","#244AA3","#92235D","#78238B","#4F3B98","#06152E"]},57316:(e,t,i)=>{"use strict";i.d(t,{CS:()=>u,G1:()=>c,Q0:()=>h,T_:()=>l,_d:()=>p,by:()=>r,rm:()=>d,wU:()=>s,zT:()=>a});var n=i(65235),o=i.n(n);const a={"year/month/day":"YYYY/MM/DD","month/day/year":"MM/DD/YYYY",detail:"YYYY-M-DD"},l={"12-hour-clock":"h:mm","24-hour-clock":"HH:mm",hidden:""};function r(e){return[{value:"year/month/day",label:e.$t({id:"bZ7AbK",defaultMessage:"yyyy/mm/dd"})+"\uff08".concat(o()().format(a["year/month/day"]),"\uff09")},{value:"month/day/year",label:e.$t({id:"idHCOe",defaultMessage:"mm/dd/yyyy"})+"\uff08".concat(o()().format(a["month/day/year"]),")")},{value:"detail",label:e.$t({id:"Nz8Nyb",defaultMessage:"Detailed format"})+"\uff08".concat(o()().format(a.detail),"\uff09")}]}function s(e){return[{value:"hidden",label:e.$t({id:"VA/Z1S",defaultMessage:"Hide"})},{value:"12-hour-clock",label:e.$t({id:"XYZkZB",defaultMessage:"12h"})},{value:"24-hour-clock",label:e.$t({id:"54iQNA",defaultMessage:"24h"})}]}function d(e){return[{value:!1,label:e.$t({id:"VA/Z1S",defaultMessage:"Hide"})},{value:!0,label:e.$t({id:"K7AkdL",defaultMessage:"Show"})}]}const c="YYYY-MM-DDTHH:mm:ssZ";function u(e){return[{value:"number",label:e.$t({id:"kFkPWB",defaultMessage:"Number"})},{value:"percentage",label:e.$t({id:"4Ugzf2",defaultMessage:"Percentage (%)"})},{value:"commaNumber",label:e.$t({id:"YaPTLX",defaultMessage:"Thousands sep. (1,000)"})}]}const p=[{value:0,label:"1"},{value:1,label:"1.0"},{value:2,label:"1.00"},{value:3,label:"1.000"},{value:4,label:"1.0000"},{value:5,label:"1.00000"}],h=1e4},11546:(e,t,i)=>{"use strict";i.d(t,{AR:()=>h,CJ:()=>c,J1:()=>p,L8:()=>u,OU:()=>d,Qd:()=>r,Vj:()=>s,Z9:()=>l,aE:()=>g,n_:()=>f,t1:()=>v});var n=i(58674),o=i.n(n);const a=["multiLineText","coordinate","number","singleChoice","multiChoice","datetime","attachment","boolean","createTime","updateTime","formula","creator","updater","member","hyperlink","related","lookup"],l={multiLineText:{type:"multiLineText",icon:"multiLineText",computable:!0,bigTableType:"string",sortType:"alphabetically"},coordinate:{type:"coordinate",icon:"coordinate",bigTableType:"string",computable:!0},number:{type:"number",icon:"number",needConfirm:!0,computable:!0,bigTableType:"number",sortType:"numeric"},singleChoice:{type:"singleChoice",icon:"singleChoice",computable:!0,bigTableType:"string",sortType:"order"},multiChoice:{type:"multiChoice",icon:"multiChoice",bigTableType:"string",sortType:"order"},datetime:{type:"datetime",icon:"datetime",needConfirm:!0,computable:!0,bigTableType:"datetime",sortType:"numeric"},attachment:{type:"attachment",icon:"attachment",needConfirm:!0,bigTableType:"string",sortType:"alphabetically"},member:{type:"member",icon:"member",needConfirm:!1,computable:!1,generated:!1,bigTableType:"string",sortType:"order"},hyperlink:{type:"hyperlink",icon:"hyperlink",needConfirm:!1,computable:!0,generated:!1,bigTableType:"string",sortType:"order"},formula:{type:"formula",icon:"formula",computable:!0,bigTableType:"any",sortType:"alphabetically"},boolean:{type:"boolean",icon:"checkbox",computable:!0,bigTableType:"boolean",sortType:"boolean"},createTime:{type:"createTime",icon:"createTime",needConfirm:!0,computable:!0,generated:!0,bigTableType:"meta",sortType:"numeric"},updateTime:{type:"updateTime",icon:"updateTime",needConfirm:!0,computable:!0,generated:!0,bigTableType:"meta",sortType:"numeric"},creator:{type:"creator",icon:"creator",needConfirm:!0,computable:!1,generated:!0,bigTableType:"meta"},updater:{type:"updater",icon:"updater",needConfirm:!0,computable:!1,generated:!0,bigTableType:"meta"},related:{type:"related",icon:"related",needConfirm:!0},lookup:{type:"lookup",icon:"lookup",needConfirm:!0,computable:!0}},r=["multiLineText","datetime","number"],s=["multiLineText","singleChoice","multiChoice","coordinate","datetime","number","formula","lookup"],d=["multiLineText","number","datetime"],c=["creator","updater","createTime","updateTime"],u=["formula","creator","updater","createTime","updateTime","lookup"],p=["creator","updater","member","singleChoice","multiChoice","attachment","related","lookup"],h=["multiLineText","coordinate","number","singleChoice","multiChoice","datetime","attachment","boolean","createTime","updateTime","creator","updater","member","formula","hyperlink","related"],v=(o()(a,"multiLineText","coordinate","number","singleChoice","multiChoice","datetime","attachment","boolean","hyperlink"),o()(a,"related","lookup")),g=["formula","lookup"],f=["formula"]},32820:(e,t,i)=>{"use strict";i.d(t,{B:()=>n});const n=(0,i(79129).vU)({days:{id:"UA5qaX",defaultMessage:"{days, plural, one {# day} other {# days}}"}})},56043:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});const n="all_record"},36441:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});const n="china-ADM1-nineDashLine"},10260:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var n=i(88716),o=i.n(n);const a=(()=>{function e(e){return!!e&&("and"in e&&Array.isArray(e.and))}function t(e){return!!e&&("or"in e&&Array.isArray(e.or))}function i(i){return i?e(i)?0===i.and.length?null:1===i.and.length?i.and[0]:i:t(i)?0===i.or.length?null:1===i.or.length?i.or[0]:i:i:null}function n(i){return i?e(i)?[i,...i.and.flatMap(n)]:t(i)?[i,...i.or.flatMap(n)]:[i]:[]}function a(i,n){return!!i&&(e(i)?i.and.every((e=>a(e,n))):t(i)?0===i.or.length||i.or.some((e=>a(e,n))):"op"in i&&n(i))}return{isEmpty:function i(n){return!n||("object"!==typeof n||(e(n)?!n.and.length||n.and.every(i):t(n)?!n.or.length||n.or.every(i):!("op"in n)&&!("id"in n)))},flat:n,compact:i,map:function i(n,o){return n?e(n)?{...n,and:n.and.map((e=>i(e,o))).filter(Boolean)}:t(n)?{...n,or:n.or.map((e=>i(e,o))).filter(Boolean)}:"op"in n||"id"in n?o(n):null:null},filter:function i(n,o){if(!n)return null;if(!e(n)&&!t(n))return o(n)?n:null;const a="and"in n?n.and:n.or,l=[];for(const r of a)if(e(r)||t(r)){const e=i(r,o);e&&l.push(e)}else r&&o(r)&&l.push(r);return"and"in n?{...n,and:l}:{...n,or:l}},filterGroup:function i(n,o){if(!n)return null;if(!o(n))return null;if(!e(n)&&!t(n))return n;const a="and"in n?n.and:n.or,l=[];for(const r of a)if(e(r)||t(r)){const e=i(r,o);e&&l.push(e)}else l.push(r);return"and"in n?{...n,and:l}:{...n,or:l}},every:function i(n,o){return!n||(e(n)?n.and.every((e=>i(e,o))):t(n)?n.or.every((e=>i(e,o))):o(n))},and:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];const o=i.filter((e=>!!e));if(0===o.length)return null;let a=o[0];for(let s=1;s<o.length;s++)l=a,r=o[s],a={and:[...e(l)?l.and:[l],...e(r)?r.and:[r]]};var l,r;return a},or:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const o=i.filter((e=>!!e));if(0===o.length)return null;let a=o[0];for(let s=1;s<o.length;s++)l=a,r=o[s],a={or:[...t(l)?l.or:[l],...t(r)?r.or:[r]]};var l,r;return a},append:function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];const l=o.filter((e=>!!e));return 0===l.length?i:e(i)?{...i,and:[...i.and,...l]}:t(i)?{...i,or:[...i.or,...l]}:{and:[i,...l]}},size:function(i,n){var a;return function i(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return 0;if("object"!==typeof n)return 0;if("filter"in n&&o()(null===n||void 0===n?void 0:n.filter))return 0;if(e(n)||t(n)){const t=a>0&&!l?1:0,o=(e,t)=>e+i(t,a+1,l);return(e(n)?n.and.reduce(o,0):n.or.reduce(o,0))||t}return"id"in n||"op"in n?1:0}(i,0,null!==(a=null===n||void 0===n?void 0:n.ignoreEmptyGroup)&&void 0!==a&&a)},mutate:function i(n,o){if(!n.id||!o.id)return{result:n,found:!1};if(n.id===o.id)return{result:o,found:!0};if(!e(n)&&!t(n))return{result:n,found:!1};const a=n.id,l="and"in n?n.and:n.or;let r=!1;const s=l.map((e=>{if(r)return e;const t=i(e,o);return t.found?(r=!0,t.result):e}));return{result:"and"in n?{id:a,and:s}:{id:a,or:s},found:r}},test:(e,t)=>a(i(e),t),conjunction:function(e){return"or"in e?"or":"and"},flipTo:function(i,n){if(!i)return null;if(e(i)){const{and:e,...t}=i;return"or"===n?{...t,or:e}:i}if(t(i)){const{or:e,...t}=i;return"and"===n?{...t,and:e}:i}return i},find:function(e,t){return n(e).find(t)},depth:function(i){const n=i=>i?e(i)?1+Math.max(...i.and.map(n)):t(i)?1+Math.max(...i.or.map(n)):0:0;return Math.max(n(i),1)},groups:function i(n){return n?e(n)?n.and.reduce(((e,t)=>[...e,...i(t)]),[n]):t(n)?n.or.reduce(((e,t)=>[...e,...i(t)]),[n]):[]:[]},remove:function e(t,i){return t.id===i?null:"and"in t?{...t,and:t.and.map((t=>e(t,i))).filter(Boolean)}:"or"in t?{...t,or:t.or.map((t=>e(t,i))).filter(Boolean)}:t},children:function(i){return e(i)?[...i.and]:t(i)?[...i.or]:[]}}})()},36639:(e,t,i)=>{"use strict";i.d(t,{K:()=>n.K,n:()=>o.n});var n=i(10260),o=i(30720)},30720:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});const n=(0,i(79129).vU)({is:{id:"filter.op.is",defaultMessage:"is"},isNot:{id:"filter.op.isNot",defaultMessage:"is not"},equals:{id:"filter.op.eq",defaultMessage:"equal to"},notEqual:{id:"filter.op.neq",defaultMessage:"not equal to"},startsWith:{id:"filter.op.startsWith",defaultMessage:"begins with"},endsWith:{id:"filter.op.endsWith",defaultMessage:"ends with"},lessThan:{id:"filter.op.lt",defaultMessage:"less than"},lessThanOrEqual:{id:"filter.op.lte",defaultMessage:"less than or equal to"},greaterThan:{id:"filter.op.gt",defaultMessage:"greater than"},greaterThanOrEqual:{id:"filter.op.gte",defaultMessage:"greater or equal to"},contains:{id:"filter.op.contains",defaultMessage:"contains"},containsAny:{id:"filter.op.containsAny",defaultMessage:"has any of"},containsAll:{id:"filter.op.containsAll",defaultMessage:"has all of"},notContains:{id:"filter.op.notContiains",defaultMessage:"has none of"},empty:{id:"filter.op.empty",defaultMessage:"is empty"},isNull:{id:"filter.op.isNull",defaultMessage:"is empty"},isNotNull:{id:"filter.op.isNotNull",defaultMessage:"is not empty"},inArea:{id:"filter.op.inArea",defaultMessage:"is in area"},isAfter:{id:"filter.op.after",defaultMessage:"is after"},isBefore:{id:"filter.op.before",defaultMessage:"is before"}})},89983:(e,t,i)=>{"use strict";i.d(t,{HF:()=>h,Of:()=>b,U6:()=>f,Ws:()=>v,Zn:()=>u,aP:()=>m,be:()=>y,fI:()=>p,pM:()=>g,vs:()=>w});var n=i(37383),o=(i(82086),i(40517)),a=(i(6778),i(27222),i(69820),i(17527),i(67045),i(22787)),l=(i(88716),i(52675),i(75279)),r=i(89148),s=i(56824),d=i(73352);const{GCJ02:c,WGS84:u,BD09MC:p}=n.default;function h(e){try{return(0,r.l)(e)}catch{return}}function v(e){return(0,l._)(e)}function g(e){if(1===e.features.length&&"Point"===e.features[0].geometry.type)return e.features[0].geometry.coordinates}function f(e){if(1===e.features.length)return v(e.features[0].geometry);const t=e.features[0].geometry.type.toUpperCase()+" ",i=e.features.map((e=>v(e.geometry))).join(",").replaceAll(t,"");return"MULTI".concat(t,"(").concat(i,")")}function m(e,t){try{const i=h(e),n=h(t);return!(!i||!n)&&(0,s.w1)(i,n)}catch(i){return!1}}function y(e){return(0,s.bP)(e)}function w(e,t,i){return(0,d.Z)(e,t,i)}function b(e,t){return(0,a.Z)(o.xm(e),o.yu([t]))}},89148:(e,t,i)=>{"use strict";i.d(t,{l:()=>a});var n=i(57323),o=i.n(n);function a(e){return new l(e).scanGeometry()}class l{constructor(e){o()(this,"i",0),this.raw=e}peek(){if(this.i>this.raw.length)throw new Error("unexpected EOF");return this.raw[this.i]}skipWs(){if(!(this.i>=this.raw.length))for(let e=this.i;e<this.raw.length;e++){if(!r(this.raw.charAt(e)))return;this.i+=1}}scanStart(){this.skipWs();const e=this.peek();if("("!==e)throw new Error("expect '(' got ".concat(e));this.i++}scanContinue(){this.skipWs();const e=this.peek(),t=","===e;if(!t&&")"!==e)throw new Error("expect ',' or ')' got ".concat(e));return this.i++,t}scanCircle(){this.scanStart();const[e,t]=this.scanCoordinate();if(!t){const e=this.peek();throw new Error("expect ',' got ".concat(e))}this.i++,this.skipWs();const i=this.scanNumber(),n=this.peek();if(")"!==n)throw new Error("expect ')' got ".concat(n));return this.i++,[e[0],e[1],i]}scanCirlces(){this.scanStart();const e=[];for(;;){const t=this.scanCircle();e.push(t);if(!this.scanContinue())break}return e}scanNumber(){this.skipWs();let e="",t=this.peek();for(;s(t);)this.i+=1,e+=t,t=this.peek();const i=Number(e);if(Number.isNaN(i))throw new Error("number parse error ".concat(e));return i}scanCoordinate(){if(this.skipWs(),this.i>this.raw.length)throw new Error("unexpected EOF");const e=this.scanNumber();this.skipWs();const t=this.scanNumber();this.skipWs();const i=this.peek(),n=","===i;if(!n&&")"!==i)throw new Error("expect ',' or ')' got ".concat(i));return this.i++,[[e,t],n]}scanCoordinates(e){if(this.scanStart(),e)try{this.scanStart()}catch(i){e=!1}const t=[];for(;;){const[i,n]=this.scanCoordinate();if(t.push(i),!n){if(e){if(this.scanContinue()){this.scanStart();continue}}return t}if(e)throw new Error("expect ')' got ','")}}scanPolyData(e){this.scanStart();const t=[];for(;;){const i=this.scanCoordinates(!1);if(e){if(i.length<4)throw new Error("a polygon ring must have at least 4 points, got ".concat(i.length));if(i[0][0]!==i[i.length-1][0]||i[0][1]!==i[i.length-1][1])throw new Error("a polygon ring must be closed")}else if(i.length<2)throw new Error("must have at least 2 points, got ".concat(i.length));if(t.push(i),!this.scanContinue())return t}}scanMultiPolyData(){this.scanStart();const e=[];for(;;){const t=this.scanPolyData(!0);if(e.push(t),!this.scanContinue())return e}}scanIndent(){if(this.skipWs(),this.i>=this.raw.length)throw new Error("unexpected EOF");let e="",t=0;for(t=this.i;t<this.raw.length;t++){const i=this.raw.charAt(t);if(!d(i))break;e+=i.toUpperCase(),this.i+=1}if(0===e.length)throw new Error("indent not found");return e}scanGeometry(){const e=this.scanIndent();let t;switch(e){case"CIRCLE":t={type:"Circle",coordinates:this.scanCircle()};break;case"MULTICIRCLE":t={type:"MultiCircle",coordinates:this.scanCirlces()};break;case"POINT":{const e=this.scanCoordinates(!1);if(1!==e.length)throw new Error("expect 1 got ".concat(e.length," points"));t={type:"Point",coordinates:e[0]};break}case"MULTIPOINT":t={type:"MultiPoint",coordinates:this.scanCoordinates(!0)};break;case"LINESTRING":{const e=this.scanCoordinates(!1);if(e.length<2)throw new Error("must have at least 2 points, got ".concat(e.length));t={type:"LineString",coordinates:e};break}case"POLYGON":t={type:"Polygon",coordinates:this.scanPolyData(!0)};break;case"MULTIPOLYGON":t={type:"MultiPolygon",coordinates:this.scanMultiPolyData()};break;case"MULTILINESTRING":t={type:"MultiLineString",coordinates:this.scanPolyData(!1)};break;default:throw new Error("unknown geometry ".concat(e))}if(this.i+1<=this.raw.length)throw new Error("expect EOF");return t}}function r(e){return 1===e.length&&[" ","\n","\t","\r"].includes(e)}function s(e){return[".","-","0","1","2","3","4","5","6","7","8","9"].includes(e)}function d(e){return 1===e.length&&e.match(/[a-zA-Z]/i)}},75279:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var n=i(58205),o=i.n(n);function a(e){return"Circle"===e.type?"CIRCLE (".concat(e.coordinates[0]," ").concat(e.coordinates[1],", ").concat(e.coordinates[2],")"):"MultiCircle"===e.type?"MULTICIRCLE (".concat(e.coordinates.map((e=>"(".concat(e[0]," ").concat(e[1],", ").concat(e[2],")"))).join(", "),")"):o().stringify(e)}},73352:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(37383);const{transform:o}=n.default;function a(e,t,i){if("Point"!==e.type)return console.info("Unknown geometry type",e.type),e;return{type:"Point",coordinates:o(e.coordinates,t,i)}}},56824:(e,t,i)=>{"use strict";i.d(t,{bP:()=>d,w1:()=>u});var n=i(40517),o=i(82505),a=i(80128),l=(i(31890),i(52675),i(62953)),r=i(82086),s=i(64505);i(22787);function d(e){switch(e.type){case"Point":return e;case"Circle":{const t=e.coordinates;return{type:"Point",coordinates:[t[0],t[1]]}}case"LineString":{const t=n.Tu(e.coordinates),i=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"Polygon":{const t=n.yu(e.coordinates),i=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"MultiPoint":{const t=n.ot(e.coordinates),i=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"MultiLineString":{const t=n._R(e.coordinates),i=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}case"MultiPolygon":{const t=n.tw(e.coordinates),i=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[i[0],i[1]]}}default:return console.info("Unknown geometry type",e.type),e}}function c(e,t){const[i,n,a]=t.coordinates;if("Point"===e.type){return(0,s.Z)([i,n],e.coordinates,{units:"kilometers"})<=a/1e3}const d=a/1e3,c=d/111.32,u=d/(111.32*Math.cos(n*(Math.PI/180))),p=i-u,h=i+u,v=n-c,g=n+c,[f,m,y,w]=(0,r.Z)(e);if(y<p||f>h||w<v||m>g)return!1;if(f>=p&&y<=h&&m>=v&&w<=g){if([[f,m],[f,w],[y,m],[y,w]].every((e=>(0,s.Z)([i,n],e,{units:"kilometers"})<=d)))return!0}let b=Math.round(16+6*Math.sqrt(d));return b=Math.max(16,Math.min(b,64)),(0,o.Z)(e,(0,l.Z)([i,n],d,{steps:b,units:"kilometers"}).geometry)}function u(e,t){if("MultiCircle"===t.type){return t.coordinates.map((e=>({type:"Circle",coordinates:e}))).some((t=>c(e,t)))}return"Circle"===t.type?c(e,t):(0,o.Z)(e,t)}},74110:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});let n=function(e){return e.table="table",e.bigTable="bigTable",e.group="group",e.snapshot="snapshot",e}({})},42015:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>I,HC:()=>E,OE:()=>h,Pd:()=>M,RG:()=>b,hW:()=>T,om:()=>g,qT:()=>v,rS:()=>k,uE:()=>x,y0:()=>C});var n=i(79129),o=i(27077),a=i(42514),l=i(6200),r=i(35546),s=i(70323),d=i(89063),c=i.n(d);const u="".concat("https://icon-cdn.maptable.com","/assets/boundary_data"),p={ADM0:"admin0",ADM1:"admin1",ADM2:"admin2",ADM3:"admin3"};(0,n.Em)({id:"qIy+j6",defaultMessage:"Admin0"}),(0,n.Em)({id:"Qxkkdf",defaultMessage:"Admin1"}),(0,n.Em)({id:"8IvwT/",defaultMessage:"Admin2"}),(0,n.Em)({id:"Lci7UK",defaultMessage:"Admin3"});function h(e){return"ADM0"===e?"admin1":"ADM1"===e?"admin2":"ADM2"===e?"admin3":"admin1"}const v=["china","usa","canada","uk","france","germany","italy","brazil","japan","mexico","singapore","indonesia","malaysia","vietnam","thailand","philippines","austria","belgium","denmark","finland","sweden","greece","netherlands","poland","portugal","spain","bangladesh","congoKinshasa","egypt","pakistan","zambia","australia","russia","southKorea","turkey","saudiArabia","switzerland","argentina","ireland","israel","unitedArabEmirates","norway","southAfrica"],g=["china"],f={},m={},y={};async function w(e,t){if(!t[e]){const i=await fetch(e),n=await i.json();t[e]=n}return t[e]}const b=async e=>{if(!e)return[];const t="".concat(e,"/index");return w("".concat(u,"/").concat(t,".json"),f)},C=async()=>w("".concat(u,"/index.json"),m),x=async(e,t)=>w("".concat(u,"/").concat(e,"/").concat(p[t],".json"),y);function I(e,t){switch(t){case"sum":return(0,o.Z)(e);case"min":return(0,a.Z)(e);case"max":return(0,l.Z)(e);case"mean":return(0,r.Z)(e);case"median":return(0,s.Z)(e);case"nonEmptyCount":return c()(e.filter((e=>null!=e)));default:return c()(e)}}const j={CHN:"china",USA:"usa",CAN:"canada",GBR:"uk",FRA:"france",DEU:"germany",ITA:"italy",BRA:"brazil",JPN:"japan",MEX:"mexico",SGP:"singapore",IDN:"indonesia",MYS:"malaysia",VNM:"vietnam",THA:"thailand",PHL:"philippines",AUT:"austria",BEL:"belgium",DNK:"denmark",FIN:"finland",SWE:"sweden",GRC:"greece",NLD:"netherlands",POL:"poland",PRT:"portugal",ESP:"spain",BGD:"bangladesh",COG:"congoKinshasa",EGY:"egypt",PAK:"pakistan",ZMB:"zambia",AUS:"australia",RUS:"russia",KOR:"southKorea",TUR:"turkey",SAU:"saudiArabia",CHE:"switzerland",ARG:"argentina",IRL:"ireland",ISR:"israel",ARE:"unitedArabEmirates",NOR:"norway",ZAF:"southAfrica"};function M(e){return j[e]}const k=[{label:(0,n.Em)({id:"jqdzk6",defaultMessage:"World"}),value:"world"},{label:(0,n.Em)({id:"1q/ois",defaultMessage:"China"}),value:"china"},{label:(0,n.Em)({id:"whQZpU",defaultMessage:"USA"}),value:"usa"},{label:(0,n.Em)({id:"3Rh+pv",defaultMessage:"Japan"}),value:"japan"},{label:(0,n.Em)({id:"PGzyr2",defaultMessage:"Germany"}),value:"germany"},{label:(0,n.Em)({id:"9N69Wd",defaultMessage:"UK"}),value:"uk"},{label:(0,n.Em)({id:"9KADbj",defaultMessage:"France"}),value:"france"},{label:(0,n.Em)({id:"VzQxqn",defaultMessage:"Italy"}),value:"italy"},{label:(0,n.Em)({id:"2abiy0",defaultMessage:"Canada"}),value:"canada"},{label:(0,n.Em)({id:"zJ+Qdi",defaultMessage:"Brazil"}),value:"brazil"},{label:(0,n.Em)({id:"QXG+La",defaultMessage:"Mexico"}),value:"mexico"},{label:(0,n.Em)({id:"rhaGlx",defaultMessage:"Singapore"}),value:"singapore"},{label:(0,n.Em)({id:"vQOevT",defaultMessage:"Indonesia"}),value:"indonesia"},{label:(0,n.Em)({id:"b7zond",defaultMessage:"Malaysia"}),value:"malaysia"},{label:(0,n.Em)({id:"+ieU8R",defaultMessage:"Vietnam"}),value:"vietnam"},{label:(0,n.Em)({id:"dQZuWX",defaultMessage:"Thailand"}),value:"thailand"},{label:(0,n.Em)({id:"RRQ7fk",defaultMessage:"Philippines"}),value:"philippines"},{label:(0,n.Em)({id:"ZwXv1C",defaultMessage:"Austria"}),value:"austria"},{label:(0,n.Em)({id:"o5InVy",defaultMessage:"Belgium"}),value:"belgium"},{label:(0,n.Em)({id:"OjT4Gq",defaultMessage:"Denmark"}),value:"denmark"},{label:(0,n.Em)({id:"OIc/xw",defaultMessage:"Finland"}),value:"finland"},{label:(0,n.Em)({id:"cOtCHW",defaultMessage:"Sweden"}),value:"sweden"},{label:(0,n.Em)({id:"yil/vB",defaultMessage:"Greece"}),value:"greece"},{label:(0,n.Em)({id:"hT/s2i",defaultMessage:"Netherlands"}),value:"netherlands"},{label:(0,n.Em)({id:"SZjU9E",defaultMessage:"Poland"}),value:"poland"},{label:(0,n.Em)({id:"67jBS8",defaultMessage:"Portugal"}),value:"portugal"},{label:(0,n.Em)({id:"GL9Msi",defaultMessage:"Spain"}),value:"spain"},{label:(0,n.Em)({id:"gEWjsM",defaultMessage:"Bangladesh"}),value:"bangladesh"},{label:(0,n.Em)({id:"fIBorD",defaultMessage:"Congo-Kinshasa"}),value:"congoKinshasa"},{label:(0,n.Em)({id:"BIR9MS",defaultMessage:"Egypt"}),value:"egypt"},{label:(0,n.Em)({id:"u5SBAU",defaultMessage:"Pakistan"}),value:"pakistan"},{label:(0,n.Em)({id:"t50FYQ",defaultMessage:"Zambia"}),value:"zambia"},{label:(0,n.Em)({id:"D4A2LZ",defaultMessage:"Australia"}),value:"australia"},{label:(0,n.Em)({id:"OhkbDU",defaultMessage:"Russia"}),value:"russia"},{label:(0,n.Em)({id:"tnrxhT",defaultMessage:"South Korea"}),value:"southKorea"},{label:(0,n.Em)({id:"k/pu+/",defaultMessage:"Turkey"}),value:"turkey"},{label:(0,n.Em)({id:"cbMqh0",defaultMessage:"Saudi Arabia"}),value:"saudiArabia"},{label:(0,n.Em)({id:"ERkh0f",defaultMessage:"Switzerland"}),value:"switzerland"},{label:(0,n.Em)({id:"wHkOq4",defaultMessage:"Argentina"}),value:"argentina"},{label:(0,n.Em)({id:"fGxzwb",defaultMessage:"Ireland"}),value:"ireland"},{label:(0,n.Em)({id:"vwXIZQ",defaultMessage:"Israel"}),value:"israel"},{label:(0,n.Em)({id:"eMHa+3",defaultMessage:"United Arab Emirates"}),value:"unitedArabEmirates"},{label:(0,n.Em)({id:"mdq/wu",defaultMessage:"Norway"}),value:"norway"},{label:(0,n.Em)({id:"XR8z3v",defaultMessage:"South Africa"}),value:"southAfrica"}],T=k,E=["singapore","israel"]},19735:(e,t,i)=>{"use strict";i.d(t,{G:()=>l,O:()=>r});var n=i(34362),o=i.n(n),a=i(96271);const l=e=>null===e||void 0===e?void 0:e.map((e=>e.color.bgColor)),r=(e,t)=>{if(e)return"string"===typeof e?"bg"===t?a.R$[e]||void 0:o()(Object.keys(a.Cq),e)?"#fff":void 0:"bg"===t?e.bgColor||void 0:e.textColor||"#fff"}},91671:(e,t,i)=>{"use strict";function n(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)}i.d(t,{E:()=>n,P:()=>a});const o={CNY:"zh-CN",USD:"en-US",EUR:"de-DE",GBP:"en-GB",AED:"ar-AE",AUD:"en-AU",BRL:"pt-BR",CAD:"en-CA",CHF:"de-CH",HKD:"zh-HK",INR:"en-IN",IDR:"id-ID",JPY:"ja-JP",KRW:"ko-KR",MOP:"zh-MO",MXN:"es-MX",MYR:"ms-MY",PHP:"en-PH",PLN:"pl-PL",RUB:"ru-RU",SGD:"en-SG",THB:"th-TH",TRY:"tr-TR",TWD:"zh-TW",VND:"vi-VN"};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"number",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD";const a={minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:"commaNumber"===i||"currency"===i,notation:(arguments.length>4?arguments[4]:void 0)?"compact":"standard"};if(null===e||"undefined"===typeof e||Number.isNaN(e))return;var l;if(String(e).toUpperCase().includes("E"))return null===e||void 0===e||null===(l=e.toExponential)||void 0===l?void 0:l.call(e,0===t?0:t-1);const r="currency"===i;if("percentage"===i)return(100*e).toLocaleString(void 0,a)+"%";if(r){const t=o[n]||"en-US";return e.toLocaleString(t,{...a,style:"currency",currency:n})}return"number"===typeof e?e.toLocaleString("en-US",a):e}},29630:(e,t,i)=>{"use strict";i(33382)},13424:(e,t,i)=>{"use strict";i(8264),i(56356),i(42015)},93033:(e,t,i)=>{"use strict";i(57323),i(55349),i(17646),i(56356),i(468),i(53813),i(82813),i(42015),i(46131),i(29630),i(13424)},61343:(e,t,i)=>{"use strict";i.d(t,{gd:()=>h,k7:()=>v});i(8942);var n=i(74720),o=i.n(n),a=i(34362),l=i.n(a),r=(i(55349),i(17646),i(56356),i(22787),i(468),i(53813),i(82813),i(42015));i(46131),i(40978),i(13424),i(29630),i(93033);const s="".concat("https://icon-cdn.maptable.com","/assets/boundary_data"),d={};const c=async(e,t)=>async function(e){if(!d[e]){const t=await fetch(e).then((e=>e.json()));d[e]=Promise.resolve(t)}return d[e]}("".concat(s,"/").concat(e,"/").concat(t,".json")),u=["china-ADM1-110000","china-ADM1-120000","china-ADM1-310000","china-ADM1-500000","china-ADM2-110000-0","china-ADM2-120000-0","china-ADM2-310000-0","china-ADM2-500000-0"],p=["china-ADM1-810000","china-ADM1-820000","china-ADM1-710000"];async function h(e){const{regionConfig:t}=e,{aggregateBy:i}=t||{};if("admin0"===i){const t=await async function(e){const{regionConfig:t}=e,{regionId:i}=t||{},n=i,o=await c(n,"admin0"),a=o.features.filter((e=>{var t;return"cas-ADM0-ATA"!==(null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.id)}));return{...o,features:a}}(e);return t}if("admin2"===i){const t=await async function(e){const{regionConfig:t}=e,{country:i,level:n="admin1",regionId:o}=t||{};if(i&&n){const e=await c(i,"admin2");return o&&r.qT.includes(o)?e:{type:"FeatureCollection",features:e.features.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.parentId)===o}))}}}(e);return t}if("admin3"===i){const t=await async function(e){const{regionConfig:t}=e,{country:i,regionId:n}=t||{},o=await c(i,"admin3"),a=l()(n,"ADM2");if(n)return{type:"FeatureCollection",features:o.features.filter((e=>{var t,i,o;return a?(null===(o=e.properties)||void 0===o?void 0:o.parentId)===n:l()(n,null===(t=e.properties)||void 0===t?void 0:t.gid1)&&"0"!==(null===(i=e.properties)||void 0===i?void 0:i.gid1)}))};return o}(e);return t}{const t=await async function(e){const{regionConfig:t}=e,{level:i="admin1",regionId:n}=t||{},o=null===n||void 0===n?void 0:n.split("-")[0];let a=i;const l=n;if(o&&i){n&&(u.includes(n)||p.includes(n))&&(a="admin1");const e=await c(o,a);return"admin1"===a&&n&&r.qT.includes(n)?e:"admin1"===a&&n&&(u.includes(n)||p.includes(n))?{type:"FeatureCollection",features:e.features.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.id)===n}))}:"admin2"===a?{type:"FeatureCollection",features:e.features.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.parentId)===l}))}:e}}(e);return t}}function v(e){const{object:t,layer:i}=e,n=!o()(t,"properties.aggregationValue"),a=o()(i,"props.data.mapInfo.regionConfig.dimension"),l=o()(i,"props.data.mapInfo.regionConfig.country"),s=o()(t,"properties.level");return!("ADM0"===s&&"region"===a||"ADM3"===s||"ADM2"===s&&!r.om.includes(l)||n||r.HC.includes(l))}},98238:(e,t,i)=>{"use strict";function n(e,t){if(!e.has(t))return t;for(let i=2;i<e.size+2;i++){const n="".concat(t," ").concat(i);if(!e.has(n))return n}return t}i.d(t,{D8:()=>n,DB:()=>a,NZ:()=>l});const o=["\xa5","$","\u20ac","\xa3","\u20b1","\u20b9","z\u0142","\u20b8","\u20a9","\u20bd","\u20ba","\u20b4","\u20ab","\u20ad","\u20ae","\u20af","\u20b0","\u20b2","\u20b3","\u20b4","\u20b5","\u20b6","\u20b7","\u20b8","\u20b9","\u20ba","\u20bb","\u20bc","\u20bd","\u20be","\u20bf","NT$","RM","MOP$","dh","R$","RM","Rp"];function a(e){return o.some((t=>String(e).startsWith(t)))}const l=e=>{if(null===e||void 0===e)return 0;let t;if("string"===typeof e)t=e;else{if(Array.isArray(e))return 5*e.length;if("object"===typeof e)return 100;t=String(e)}let i=0;for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);i+=e>=19968&&e<=40959?2:1}return i}},91722:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});class n{constructor(e,t){this.url=e,this.options=t}async createWorker(){return new Worker(this.url,this.options)}}},61124:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(13226),o=i.n(n),a=i(74797),l=i(22963);const r=(0,l.Fs)({baseURL:o()(a.Z.baseApiURL,"api","admin")});class s extends l.tr{async getQuota(){{const{data:e}=await this.fetch.get("quota/",{baseURL:"".concat(a.Z.baseApiURL,"/config/")});return e.detail}}async getWhiteList(){const{data:e}=await this.fetch.get("trial/whitelist/");return e.detail}async addPhoneOrEmailToWhiteList(e){const{data:t}=await this.fetch.post("trial/whitelist/",{phoneOrEmail:e});return t}async getBalance(e){const{data:t}=await this.fetch.get("balance/".concat(encodeURI(e),"/"));return t.detail}async recharge(e,t,i){const{data:n}=await this.fetch.post("balance/".concat(encodeURI(e),"/recharge/"),{amount:t,type:i});return n.detail}async getPageOrgs(e,t,i,n,o){const a=t?"&id=".concat(t):"",l=i?"&plan=".concat(i):"",r=o?"&isSubscription=".concat(o):"",s=n?n.reduce(((e,t)=>e+"&order="+t),""):"",{data:d}=await this.fetch.get("org/?page=".concat(e).concat(a).concat(l).concat(s).concat(r));return{orgs:d.detail,extra:d.extra}}async updateOrg(e,t){const{data:i}=await this.fetch.patch("org/".concat(e,"/"),t);return i}async getPageUsers(e,t,i,n,o,a,l){const r=t?"&id=".concat(t):"",s=i?"&plan=".concat(i):"",d=o?"&isSubscription=".concat(o):"",c=a?"&phone=".concat(a):"",u=l?"&email=".concat(l):"",p=n?n.reduce(((e,t)=>e+"&order="+t),""):"",{data:h}=await this.fetch.get("user/?page=".concat(e).concat(r).concat(s).concat(p).concat(d).concat(c).concat(u));return{users:h.detail,extra:h.extra}}async updateUser(e,t){const{data:i}=await this.fetch.patch("user/".concat(e,"/"),t);return i}async addMaintainInfo(e){const{data:t}=await this.fetch.post("broadcast/maintain/",e);return t}async deleteMaintainInfo(){const{data:e}=await this.fetch.delete("broadcast/maintain/");return e}async reportIssue(e){const{data:t}=await this.fetch.post("issue/",e);return t}async listIssues(e){const{data:t}=await this.fetch.get("issue/?page=".concat(e,"&size=10"));return t}async deleteThirdpartyConfig(e){const{data:t}=await this.fetch.delete("thirdparty/config/".concat(e.thirdpartyType,"/").concat(e.thirdpartyAppId,"/"));return t.detail}async setThirdpartyConfig(e){const{data:t}=await this.fetch.post("thirdparty/config/",e);return t.detail}async sendCard(e,t){const{data:i}=await this.fetch.post("thirdparty/card/".concat(e,"/").concat(t,"/"));return i}async listThirdpartyConfig(e){const{data:t}=await this.fetch.get("thirdparty/config/?page=".concat(e,"&size=10"));return t}async listThirdpartyUserPlan(e,t,i,n){const o=i?"&thirdpartyType=".concat(i):"",a=n?"&includeFree=".concat(n):"",{data:l}=await this.fetch.get("/plan/user/?page=".concat(e).concat(t).concat(o).concat(a),{});return l}async listThirdpartyOrgPlan(e,t,i,n){const o=i?"&thirdpartyType=".concat(i):"",a=n?"&includeFree=".concat(n):"",{data:l}=await this.fetch.get("/plan/org/?page=".concat(e).concat(t).concat(o).concat(a),{});return l}async getAppDetail(){const{data:e}=await this.fetch.get("config/detail/",{baseURL:o()(a.Z.baseApiURL,"api")});return e.detail}async listPendingEdu(){const{data:e}=await this.fetch.get("user/edu/");return e.detail}async verifyEdu(e){const{data:t}=await this.fetch.patch("user/edu/",e);return t.detail}async templates(){const{data:e}=await this.fetch.get("templates/list/");return e.detail}}const d=new s(r)},4511:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(34362),o=i.n(n),a=i(56439),l=i.n(a),r=i(74797),s=i(22963),d=i(3254),c=i.n(d);async function u(e,t,i,n,o){var a;const{url:l,signedUrl:r}=i;return await c().put(r,e,{signal:o,headers:null!==(a=i.headers)&&void 0!==a?a:{"Content-Type":"application/octet-stream","Content-Disposition":"attachment; filename=".concat(t)},onUploadProgress:n}),{url:l}}var p=i(40522),h=i(15328),v=i(72494);const g=(0,s.Fs)({baseURL:"".concat(r.Z.baseApiURL,"/file/")});class f extends s.tr{async getSignedUrlForUpload(e,t,i){const{data:n}=await this.fetch.post("/upload/",{type:e,fileName:t,extra:i});return n}async finishUpload(e){const{data:t}=await this.fetch.patch("/upload/",{fileID:e});return t}async getSignedUrlForDownload(e,t,i){let n=null;i&&(n="image/resize,m_fill,w_".concat(Math.floor(i),",h_").concat(Math.floor(i)));const{data:o}=await this.fetch.post(null!==t&&void 0!==t&&t.userToken?"/shared/download/":"/download/",{url:e,process:n,params:t});return o}async getFileContent(e){const{data:t}=await this.fetch.get(e,{responseType:"blob"});return t}async generateThumbnail(e){return await this.fetch.post("/thumbnail/".concat(e,"/"),{key:e}),!0}async uploadFile(e,t,i,n){if(t.size>v.f0)throw new Error((0,h.wv)({id:"I0vR3W",defaultMessage:"File size exceeds 100M limit"}));if("attachment"===e&&o()(p.q6,(0,p.lm)(t.name))&&t.size>v.Kr)throw new Error((0,h.wv)({id:"jb/5MP",defaultMessage:"Image size exceeds 100M limit"}));const a=l()(t.name,"."),r=a.pop(),s=encodeURIComponent(a.join("."))+(r?".".concat(r):""),{detail:d}=await this.getSignedUrlForUpload(e,s),{url:c}=await u(t,s,d,i,n);return await this.finishUpload(d.fileID),"attachment"===e&&o()(p.q6,(0,p.lm)(t.name))&&await this.generateThumbnail(d.fileID),{fileID:d.fileID,fileName:t.name,fileSize:t.size,fileExt:(0,p.lm)(t.name),fileType:t.type||"unknown",url:c}}async uploadBuffer(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/octet-stream",a=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;if(t.byteLength>v.f0)throw new Error((0,h.wv)({id:"I0vR3W",defaultMessage:"File size exceeds 100M limit"}));const s=new File([t],i,{type:n});let d=i;if(i.includes(".")){const e=l()(i,"."),t=e.pop();d=encodeURIComponent(e.join("."))+(t?".".concat(t):"")}else d=encodeURIComponent(i);const{detail:c}=await this.getSignedUrlForUpload(e,d),{url:g}=await u(s,d,c,a,r);return await this.finishUpload(c.fileID),"attachment"===e&&o()(p.q6,(0,p.lm)(i))&&await this.generateThumbnail(c.fileID),{fileID:c.fileID,fileName:i,fileSize:t.byteLength,fileExt:(0,p.lm)(i),fileType:n,url:g}}}const m=new f(g)},98868:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(73187),o=i(74797),a=i(22963),l=i(98403);const r=(0,a.Fs)({baseURL:"".concat(o.Z.baseApiURL,"/projects/")});class s extends a.tr{async create(e){const{data:t}=await this.fetch.post("",{...e,timezone:(0,l.vd)()});return t}async update(e,t,i,n,o,a,l,r,s,d){const{data:c}=await this.fetch.patch("".concat(e,"/"),{name:i,themeColor:n,desc:o,icon:t,timezone:a,defaultView:l,roleInherited:r,mapConfig:s,weekStartOnMonday:d});return c}async getLayerNodes(e){const{data:t}=await this.fetch.get("".concat(e,"/layernodes/"));return t}async getLayerTables(e){const{data:t}=await this.fetch.get("".concat(e,"/tables/"));return t}async delete(e){const{data:t}=await this.fetch.delete("".concat(e,"/"));return t}async duplicate(e,t){const{data:i}=await this.fetch.post("".concat(e,"/duplicate/"),{name:t});return i}async transfer(e,t,i){const{data:n}=await this.fetch.post("".concat(e,"/transfer/"),{toOrgID:t,toUserID:i});return n}async deleteRecycle(e){const{data:t}=await this.fetch.delete("/recycle/".concat(e,"/"));return t}async recover(e){const{data:t}=await this.fetch.post("/recycle/".concat(e,"/recover/"));return t}async invite(e,t){const{data:i}=await this.fetch.post("".concat(e,"/members/invitations/"),{members:t});return i}async getMembers(e){const{data:t}=await this.fetch.get("".concat(e,"/members/"));return t.detail}async updateMember(e,t){const{data:i}=await this.fetch.put("".concat(e,"/members/"),{members:t});return i}async deleteMember(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/members/").concat(t,"/"));return i}async updateLastOpenTime(e){const{data:t}=await this.fetch.patch("".concat(e,"/open"));return t}async updateFavorite(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/favorite"),{isFavorite:t});return i}async shareProject(e,t,i,n,o,a,l){const{data:r}=await this.fetch.patch("".concat(t,"/share/").concat(e,"/"),{toggle:i,togglePassword:n,toggleExport:o,resetToken:a,resetPassword:l});return r}async getSharedProject(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/"),{params:{userToken:n},ignoreError:!0});return o.detail}async getSharedTables(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/tables/"),{params:{userToken:n},ignoreError:!0});return o.detail}async getSharedLayerNodes(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/layernodes/"),{params:{userToken:n},ignoreError:!0});return o}async getSharedAnnotations(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/annotations/"),{params:{userToken:n},ignoreError:!0});return o}async getSharedMembers(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/members/"),{params:{userToken:n},ignoreError:!0});return o.detail}async getSharedBasemaps(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/basemaps/"),{params:{userToken:n},ignoreError:!0});return o}async createCustomizeBaseMap(e,t){const{data:i}=await this.fetch.post("".concat(e,"/basemap/"),t);return i}async updateCustomizeBaseMap(e,t,i){const{data:n}=await this.fetch.patch("".concat(e,"/basemap/").concat(t,"/"),i);return n}async getCustomizeBaseMap(e){const{data:t}=await this.fetch.get("".concat(e,"/basemap/"));return t.detail}async deleteCustomizeBaseMap(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/basemap/").concat(t,"/"));return i}async installExtension(e,t){const{data:i}=await this.fetch.post("".concat(e,"/extension/"),t);return i}async updateExtension(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/extension/"),t);return i}async getExtensions(e){const{data:t}=await this.fetch.get("".concat(e,"/extension/"));return t}async uninstallExtension(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/extension/").concat(t,"/"));return i}async getIcons(e){const{data:t}=await this.fetch.get("".concat(e,"/mapicons/"));return t}async getSharedIcons(e){const{token:t,type:i,userToken:n}=e,{data:o}=await this.fetch.get("shared/".concat(i,"/").concat(t,"/mapicons/"),{params:{userToken:n},ignoreError:!0});return o}async updateIcon(e,t){const{data:i}=await this.fetch.put("".concat(e,"/mapicons/"),t);return i}async addIcon(e,t){const{data:i}=await this.fetch.post("".concat(e,"/mapicons/"),t);return i}async getTemplates(e){try{const{data:t}=await this.fetch.get("templates/",{params:{type:e},ignoreError:!0});return t.detail}catch{}}async getStatistics(e){try{const{data:t}=await this.fetch.get("".concat(e,"/statistics/"));return t.detail}catch{return null}}async updateStatistics(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/statistics/"),{statistics:t});return i}async updateAilyConfig(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/statistics/aily/"),{config:t});return i.detail}async summaryByAily(e,t){const{data:i}=await this.fetch.post("".concat(e,"/statistics/aily/"),t);return i.detail}async summaryTables(e,t){const i=new Uint8Array(n.ZP.gzip(JSON.stringify({tables:t}))).buffer,{data:o}=await this.fetch.post("".concat(e,"/summary/"),i,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return o.detail}async export(e){const{data:t}=await this.fetch.post("".concat(e,"/export/"));return t}}const d=new s(r)},6686:(e,t,i)=>{"use strict";i.d(t,{IK:()=>p,ZP:()=>v,uh:()=>h});var n=i(84527),o=i.n(n),a=i(74797),l=i(30731),r=i(22963),s=i(72494),d=i(69151),c=i(22601);const u=(0,r.Fs)({baseURL:"".concat(a.Z.baseApiURL,"/tablenodes/")}),p="needPassword";class h extends r.tr{async gets(e,t){if(!t.token&&!t.projectId)throw new Error("invalid options");let i="gets/";const n={ids:[...new Set(e)]};t.projectId?n.p=t.projectId:(i="shared/".concat(t.type,"/").concat(t.token,"/gets/"),n.userToken=t.token);const{data:o}=await this.fetch.get(i,{params:n});return o.detail?o.detail.map((e=>{const t=[];for(const i of e.columns||[]){const e=(0,d.UH)(i),n=(0,d.po)(i);(0,c.xm)(e,n)&&t.push({...i,type:e,typeOptions:n})}return{...e,columns:t}})):[]}async create(e){const{data:t}=await this.fetch.post("",e);return t}async importData(e){const{data:t}=await this.fetch.post("import/",e);return t}async appendData(e){const{data:t}=await this.fetch.post("append/",e);return t}async move(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/move/"),o()(t,["parentID","prevID","projectID"]));return i}async update(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/"),t);return i}async deleteNode(e){const{data:t}=await this.fetch.delete("".concat(e,"/"));return t}async sync(e,t){const{data:i}=await this.fetch.post("".concat(e,"/sync/"),{sharePassword:t});return i.detail}async deleteRecycle(e){const{data:t}=await this.fetch.delete("recycle/".concat(e,"/"));return t}async recover(e){const{data:t}=await this.fetch.post("recycle/".concat(e,"/recover/"));return t}async getBigTableRow(e,t){const{data:i}=await this.fetch.get("bt/".concat(e,"/rows/").concat(t,"/"),{ignoreError:!0});return i.detail}async getBigTableExportInfo(e,t){const{data:i}=await this.fetch.get("bt/".concat(e,"/export/"),{params:{viewID:t}});return i.detail}async bigTableExport(e,t,i){const{data:n}=await this.fetch.post("bt/".concat(e,"/export/"),{exportID:t,viewID:i});return n.detail}async postRow(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{data:n}=await this.fetch.post("".concat(e,"/rows/"),{cells:i,prevRowId:t});return n}async addRows(e,t){const{data:i}=await this.fetch.post("".concat(e,"/rows/create/"),{rows:t});return i}async moveViewRows(e,t,i){const{data:n}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/rows/move/"),{items:i});return n}async deleteRows(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/rows/"),{data:{rowIDs:t}});return i}async shareRow(e,t,i,n,o,a){const{data:l}=await this.fetch.patch("".concat(e,"/rows/").concat(t,"/share/"),{toggle:i,togglePassword:n,resetToken:o,resetPassword:a});return l}async getColumns(e){const{data:t}=await this.fetch.get("".concat(e,"/columns/"));return t.detail}async createColumn(e,t,i,n,o,a){const{data:l}=await this.fetch.post("".concat(e,"/columns/"),{name:t,type:i,prevColumnID:n,typeOptions:o,autoRename:a});return l}async updateViewColumn(e,t,i,n){const{data:a}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/columns/"),{columnIDs:i,...o()(n,["isHidden","width","required","title","desc","statsOption","allowAddChoice"])});return a}async moveViewColumn(e,t,i,n){const{data:o}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/columns/").concat(i,"/move/"),{prevColumnID:n});return o}async updateColumn(e,t,i,n,o,a,l){const{data:r}=await this.fetch.patch("".concat(e,"/columns/").concat(t,"/"),{name:i,type:n,typeOptions:o,desc:a,state:l});return r}async deleteColumns(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/columns/"),{data:{columnIDs:t}});return i}async geocodingColumn(e){const{id:t,columnID:i,type:n,outputColumnID:o,regeo:a,destCity:l,destProvince:r,destDistrict:s,skipNotEmptyOutput:d,overwriteEmpty:c,createLayer:u,processID:p,key:h}=e,{data:v}=await this.fetch.post("".concat(t,"/columns/").concat(i,"/geocode/"),{type:n,outputColumnID:o,processID:p,regeo:a,destCity:l,destProvince:r,destDistrict:s,skipNotEmptyOutput:d,overwriteEmpty:c,createLayer:u,key:h});return v}async geocodingCount(e){const{id:t,columnID:i,type:n,outputColumnID:o,regeo:a,skipNotEmptyOutput:l}=e,{data:r}=await this.fetch.get("".concat(t,"/columns/").concat(i,"/geocode/"),{params:{type:n,output:o,skip:l,regeo:a}});return r.detail}async regionBoundaryColumn(e){const{id:t,columnID:i,level:n,country:o,outputColumnID:a,inArea:l,areaColumnID:r,skipNotEmptyOutput:s,overwriteEmpty:d,processID:c,createLayer:u}=e,{data:p}=await this.fetch.post("".concat(t,"/columns/").concat(i,"/region/"),{level:n,country:o,outputColumnID:a,inArea:l,areaColumnID:r,processID:c,skipNotEmptyOutput:s,overwriteEmpty:d,createLayer:u});return p}async regionBoundaryCount(e){const{id:t,columnID:i,outputColumnID:n,skipNotEmptyOutput:o}=e,{data:a}=await this.fetch.get("".concat(t,"/columns/").concat(i,"/region/"),{params:{output:n,skip:o}});return a.detail}async patchCell(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{data:n}=await this.fetch.patch("".concat(e,"/rows/").concat(t,"/cells/"),{cells:i});return n}async createView(e,t,i,n,o){const{data:a}=await this.fetch.post("".concat(e,"/views/"),{fromViewID:n,name:t,type:i,state:o});return a}async deleteView(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/views/").concat(t,"/"));return i}async updateView(e,t,i){const n=1===Object.keys(i||{}).length&&"filter"in i;let a=(0,l.OV)(i.filter);n&&!a&&(a={filterCondition:"and",filters:[],filter:{and:[]}});const{data:r}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/"),{...o()(i,["groups","name","orders","desc","rowHeight","backgroundColor","state","ownerID"]),...a});return r}async moveView(e,t,i){const{data:n}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/move/"),{prevViewID:i});return n}async shareView(e,t,i,n,o,a,l,r){const{data:s}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/share/"),{toggle:i,togglePassword:n,toggleExport:o,resetToken:a,resetPassword:l,allowSubscribe:r});return s}async subscribeView(e,t,i,n,o){const{data:a}=await this.fetch.post("".concat(e,"/views/").concat(t,"/subscribe/"),{projectID:i,subscribe:n,sharePassword:o});return a.detail}async getShareViewInfo(e,t){const{data:i}=await this.fetch.get("view/share/".concat(e,"/"),{params:{sharePassword:t},ignoreError:!0});return i.detail}async getViewDetail(e,t){const{data:i}=await this.fetch.get("".concat(e,"/views/").concat(t,"/detail/"));return i}async addAttachment(e,t,i,n){const{data:o}=await this.fetch.post("".concat(e,"/rows/").concat(t,"/cells/").concat(i,"/attachments"),n);return o}async deleteAttachment(e,t,i,n){const{data:o}=await this.fetch.delete("".concat(e,"/rows/").concat(t,"/cells/").concat(i,"/attachments/").concat(n,"/"));return o}async updateAttachment(e,t,i,n,o){const{data:a}=await this.fetch.patch("".concat(e,"/rows/").concat(t,"/cells/").concat(i,"/attachments/").concat(n,"/"),{name:o});return a}async pasteCells(e,t){const{data:i}=await this.fetch.post("".concat(e,"/pasteCells/"),t);return i}async updateCells(e,t){const{data:i}=await this.fetch.post("".concat(e,"/updateCells/"),t);return i}static transformRLS(e){if(!e)return e;if("filter"in e)return e;const{enabled:t,filterCondition:i,rowFilters:n,filter:o}=e;return n?{enabled:t,filter:(0,l.n8)({filterCondition:i,filters:n,filter:o})}:{enabled:t}}static toDeprecatedRLS(e){if(!e||!e.filter)return e;const{filters:t,...i}=(0,l.OV)(e.filter)||{};return{enabled:e.enabled,...i,rowFilters:t}}async getMembers(e){var t;const{data:i}=await this.fetch.get("".concat(e,"/members/"));return null===(t=i.detail)||void 0===t?void 0:t.map((e=>({...e,rowLevelPermissions:h.transformRLS(e.rowLevelPermissions)})))}async updateMember(e,t){const{data:i}=await this.fetch.put("".concat(e,"/members/"),{members:null===t||void 0===t?void 0:t.map((e=>({...e,rowLevelPermissions:h.toDeprecatedRLS(e.rowLevelPermissions)})))});return i}async deleteMember(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/members/").concat(t,"/"));return i}async copy(e,t){const{data:i}=await this.fetch.post("".concat(e,"/copies/"),{...t},{timeout:s.KI});return i.detail}async getSnapshots(e,t){const{data:i}=await this.fetch.get("".concat(e,"/snapshots/"),{params:{projectID:t}});return i.detail}async deleteSnapshot(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/snapshots/").concat(t,"/"));return i.detail}async createSnapshot(e,t){const{data:i}=await this.fetch.post("".concat(e,"/snapshots/"),t,{timeout:s.KI});return i}async restoreSnapshot(e,t,i){const{data:n}=await this.fetch.post("".concat(e,"/snapshots/").concat(i,"/restore/"),{projectID:t},{timeout:s.KI});return n}async restoreRows(e,t){const{data:i}=await this.fetch.post("".concat(e,"/rows/restore/"),{rowIDs:t});return i}async restoreColumns(e,t){const{data:i}=await this.fetch.post("".concat(e,"/columns/restore/"),{columnIDs:t});return i}static transformView(e){if(!e)return null;if(!("filter"in e)&&!("filters"in e)&&!("filterCondition"in e))return e;const{filterCondition:t,filters:i,filter:n,...o}=e;return{...o,filter:(0,l.n8)({filterCondition:t,filters:i,filter:n})}}async getPartial(e,t,i){var n;const{data:o}=await this.fetch.get("".concat(e,"/partial/"),{params:{viewID:null!==t&&void 0!==t?t:void 0,lastSegmentRowID:i,size:5e3}}),a=o.detail;return a?{...a,views:null===(n=a.views)||void 0===n?void 0:n.map(h.transformView).filter(Boolean)}:a}async getBigtableRows(e,t,i,n){const{data:o}=await this.fetch.get("bt/".concat(e,"/rows/"),{params:{viewID:n,startRow:t,endRow:i}});return o}async getDataItemDetail(e){const{data:t}=await this.fetch.get("".concat(e,"/dataItem/"));return t.detail}async getSourceDataItemDetail(e){const{data:t}=await this.fetch.get("".concat(e,"/sourceDataItem/"));return t.detail}async getSharedRow(e,t){const{data:i}=await this.fetch.get("shared/row/".concat(e,"/"),{params:{userToken:t},ignoreError:!0});return i.detail}async getSharedView(e,t,i){const{type:n,token:o}=e,{data:a}=await this.fetch.get("shared/".concat(n,"/").concat(o,"/views/").concat(t,"/"),{params:{userToken:i},ignoreError:!0});return a.detail}async getSharedViewDetail(e,t,i){const{type:n,token:o}=e,{data:a}=await this.fetch.get("shared/".concat(n,"/").concat(o,"/views/").concat(t,"/detail/"),{params:{userToken:i},ignoreError:!0});return a.detail}async getSharedPartial(e,t,i,n){const{type:o,token:a}=e,{data:l}=await this.fetch.get("shared/".concat(o,"/").concat(a,"/").concat(t,"/partial/"),{params:{userToken:i,lastSegmentRowID:n,size:5e3}});return l.detail}async getSharedBigtableRows(e,t,i,n,o){const{type:a,token:l,userToken:r}=e,{data:s}=await this.fetch.get("shared/".concat(a,"/").concat(l,"/bt/").concat(t,"/rows/"),{params:{userToken:r,startRow:i,endRow:n,viewID:o}});return s}async getSharedBigtableRow(e,t,i){const{type:n,token:o,userToken:a}=e,{data:l}=await this.fetch.get("shared/".concat(n,"/").concat(o,"/bt/").concat(t,"/rows/").concat(i,"/"),{ignoreError:!0,params:{userToken:a}});return l.detail}async getFormulaType(e,t){var i;const{data:n}=await this.fetch.post("".concat(e,"/formula_type/"),{source:t});return null===(i=n.detail)||void 0===i?void 0:i.type}async aggregate(e,t,i,n){const{data:o}=await this.fetch.post("".concat(e,"/aggregate/"),{name:t,groupByColumnID:i,accumulators:n});return o}async enrichment(e,t,i,n,o,a,l){const{data:r}=await this.fetch.post("".concat(e,"/enrichment/"),{coordinateColumnID:t,outputColumnID:i,method:n,sourceID:o,sourceField:a,sourcePartitions:l});return r}async getRelatedColumnFilterOptions(e,t){const{data:i}=await this.fetch.get("".concat(e,"/columns/").concat(t,"/options/"));return i.detail}async getShareRelatedColumnFilterOptions(e,t,i,n){const{type:o,token:a}=e,{data:l}=await this.fetch.get("shared/".concat(o,"/").concat(a,"/").concat(t,"/").concat(i,"/options/"),{params:{userToken:n}});return l.detail}async createRegionAggregate(e,t){const{country:i,accumulators:n,columnID:o,name:a,type:l,specifyMatchColumnID:r}=t,{data:s}=await this.fetch.post("/".concat(e,"/region_aggregate/"),{country:i,accumulators:n,columnID:o,name:a,type:l,specifyMatchColumnID:r});return s}}const v=new h(u)},3207:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/users/")});class l extends o.tr{async info(){const{data:e}=await this.fetch.get("info/");return e.detail}async update(e){const{data:t}=await this.fetch.patch("info/",e);return t.detail}async match(e){const{data:t}=await this.fetch.get("match/",{params:{phoneOrEmail:e},ignoreError:!0});return t}async search(e,t){const{data:i}=await this.fetch.get("search/",{params:{q:e,orgID:t}});return i}async survey(e){var t;const{data:i}=await this.fetch.post("survey/",{...e});return null===(t=i.detail)||void 0===t?void 0:t.id}async getOpenInfo(e){const{data:t}=await this.fetch.post("open/ids/",{ids:e});return t}async deleteMe(){const{data:e}=await this.fetch.delete("info/",{ignoreError:!0});return e}async bind(e){var t;const{data:i}=await this.fetch.post("bind/",e);return null===(t=i.detail)||void 0===t?void 0:t.id}async eduVerify(e){const{data:t}=await this.fetch.post("edu/",e);return t.detail}async unsubscribe(e){const{data:t}=await this.fetch.post("unsubscribe/".concat(e,"/"),{},{ignoreError:!0});return t}}const r=new l(a)},2496:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/workspaces/")});class l extends o.tr{async get(){const{data:e}=await this.fetch.get("");return e.detail}async getDetail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{data:i}=await this.fetch.get("".concat(e,"/").concat(t,"/"),{ignoreError:!0});return i.detail}async getPublicInfo(e,t){const{data:i}=await this.fetch.get("open/".concat(e,"/").concat(t,"/info/"));return i.detail}async getWorkspaceRoles(e,t){const{data:i}=await this.fetch.get("".concat(e,"/").concat(t,"/roles/"));return i}async getQuota(e,t,i,n){const o=i?i.join():void 0,{data:a}=await this.fetch.get("".concat(e,"/").concat(t,"/quota/"),{params:{items:o,async:n}});return a.detail}async getMapTokens(e,t){const{data:i}=await this.fetch.get("".concat(e,"/").concat(t,"/maptokens/"));return i.detail}async setMapToken(e,t,i,n){const{data:o}=await this.fetch.patch("".concat(e,"/").concat(t,"/maptokens/"),{mapType:i,token:n});return o.detail}async deleteMapToken(e,t,i){const{data:n}=await this.fetch.delete("".concat(e,"/").concat(t,"/maptokens/").concat(i,"/"));return n.detail}async updateCustomColors(e,t,i){const{data:n}=await this.fetch.patch("".concat(e,"/").concat(t,"/"),{customColorPalette:i});return n}async canTrial(e,t){const{data:i}=await this.fetch.get("".concat(e,"/").concat(t,"/trial/"));return i.detail}}const r=new l(a)},98194:(e,t,i)=>{"use strict";i.d(t,{q:()=>o});var n=i(94553);function o(e){let{size:t=48}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:"none",viewBox:"0 0 48 48",children:(0,n.jsx)("path",{stroke:"#97a0af",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M40 21v-7.4c0-3.36 0-5.04-.654-6.324a6 6 0 0 0-2.622-2.622C35.44 4 33.76 4 30.4 4H17.6c-3.36 0-5.04 0-6.324.654a6 6 0 0 0-2.622 2.622C8 8.56 8 10.24 8 13.6v20.8c0 3.36 0 5.04.654 6.324a6 6 0 0 0 2.622 2.622C12.56 44 14.24 44 17.6 44H23m21 0-3-3m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})})}},81422:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var n=i(57435),o=i(33718),a=i(19087),l=i.n(a),r=i(98248),s=i(10485),d=i(96271);const c="colorPicker_currentColor__htq7X",u="colorPicker_disabled__wmTnR",p="colorPicker_popover__bf8Ln",h="colorPicker_colorWrapper__hFAex",v="colorPicker_picker__hOedR",g="colorPicker_presets__mwdpK",f="colorPicker_preset__y+FIX",m="colorPicker_active__-+dlu";var y=i(94553);const w=e=>{let{color:t,className:i,withPreset:a=!0,disabled:w,onChange:b=l()}=e;const[C,x]=(0,n.useState)(t);return(0,n.useEffect)((()=>{x(t)}),[t]),(0,y.jsx)(s.Z,{placement:"bottomLeft",classNames:{root:p},content:(0,y.jsxs)("div",{className:v,children:[a&&(0,y.jsx)("div",{className:g,children:d.N3.map(((e,t)=>(0,y.jsx)("div",{className:(0,o.default)(f,{[m]:e===C}),style:{backgroundColor:e},onClick:()=>b(e)},t)))}),(0,y.jsx)(r.AI,{color:C,disableAlpha:!0,onChange:function(e){x(e.hex)},onChangeComplete:e=>{b(e.hex)}})]}),trigger:w?[]:"click",children:(0,y.jsx)("div",{className:h,children:(0,y.jsx)("div",{"data-testid":"color-pick-area",className:(0,o.default)(c,i,{[u]:w}),style:{backgroundColor:C}})})})}},16128:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(94553);const o=e=>{let{colors:t,colorKey:i}=e;return(0,n.jsx)("div",{"data-color-key":i,style:{width:"100%",borderRadius:2,height:12,background:"linear-gradient(90deg, ".concat(null===t||void 0===t?void 0:t.map(((e,i)=>"".concat(e," ").concat(0===i?0:(i/(t.length-1)*100).toFixed(2),"%"))).join(", "),")")}})}},73468:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n=i(33718),o=i(57435),a=i(95620);const l=i.p+"static/media/loading.90670de99ef870c5b288.svg";var r=i(30423),s=i(21101),d=i(74909),c=i(28137);const u=function(){const e=(0,r.I)();return{logout:(0,o.useCallback)((()=>{e(s.N.setAuth(!1)),e(d.Nw.clearWorkspace()),(0,c.jv)()}),[e])}};var p=i(38441);const h="loading_loading__GEW1R",v="loading_hide__5BFLA",g="loading_tip__Mox6k",f="loading_btn__SyZtZ";var m=i(94553);const y=e=>{let{hide:t=!1,enableLoadingTip:i}=e;const[r,s]=(0,o.useState)(!1),d=(0,a.Z)(),{logout:c}=u();(0,o.useEffect)((()=>{if(!t&&i){const e=setTimeout((()=>{s(!0)}),1e4);return()=>clearTimeout(e)}s(!1)}),[t,i]);const y=(0,o.useCallback)((()=>{window.open(p.bt,"_blank")}),[]);return(0,m.jsxs)("div",{className:(0,n.default)(h,{[v]:t}),children:[(0,m.jsx)("img",{src:l,alt:"Loading..."}),r&&(0,m.jsx)("div",{className:g,children:d.$t({id:"gfOyUk",defaultMessage:"Loading is taking too long. Please try <logout>clearing your cache</logout> and logging in again, or <contact>contact us</contact> for assistance."},{logout:e=>(0,m.jsx)("span",{className:f,onClick:c,children:e}),contact:e=>(0,m.jsx)("span",{className:f,onClick:y,children:e})})})]})}},75202:(e,t,i)=>{"use strict";i.d(t,{g:()=>p});var n=i(57435),o=i(33718),a=i(95620),l=i(64496),r=i(44387),s=i(50239),d=i(68429);const c={wrap:"showMore_wrap__J57xL",inner:"showMore_inner__erqxS",trigger:"showMore_trigger__QG0r8"};var u=i(94553);function p(e){const{active:t=!1,maxHeight:i=280,children:p}=e,h=(0,a.Z)(),[v,g]=(0,n.useState)(!1),[f,{height:m}]=(0,l.Z)();return(0,r.Z)((()=>{t&&m>i&&g(!0)})),t?(0,u.jsxs)("div",{ref:f,className:(0,o.default)(c.wrap),children:[(0,u.jsx)("div",{className:c.inner,style:{maxHeight:v?"none":i+20},children:p}),(0,u.jsxs)(s.Z,{className:c.trigger,align:"center",onClick:()=>g((e=>!e)),children:[v?h.$t({id:"qyJtWy",defaultMessage:"Show less"}):h.$t({id:"aWpBzj",defaultMessage:"Show more"}),v?(0,u.jsx)(d.Z,{type:"arrowUp2",cursor:"pointer"}):(0,u.jsx)(d.Z,{type:"arrowDown2",cursor:"pointer"})]})]}):p}},63856:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(57435),o=i(47752);const a={tooltip:"TooltipIfNeed_tooltip__fkhoS",ellipsis:"TooltipIfNeed_ellipsis__mrlsu",pre:"TooltipIfNeed_pre__0Xf+h"};var l=i(94553);function r(e){const{text:t,reRender:i=!1}=e,r=(0,n.useRef)(null),[s,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const{offsetWidth:e,scrollWidth:t}=r.current||{offsetWidth:0,scrollWidth:0};d(e<t)}),[t,i]);const c=(0,n.useMemo)((()=>s?{}:{open:!1}),[s]);return t?(0,l.jsx)(o.Z,{classNames:{root:a.tooltipRoot},styles:{root:{maxWidth:680}},title:(0,l.jsx)("pre",{className:a.pre,children:t}),...c,children:(0,l.jsx)("div",{ref:r,className:a.ellipsis,style:{maxWidth:"100%"},onClick:e.onClick,children:t})}):null}},645:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(57435),o=i(94553);const a=e=>{const t=(0,n.useMemo)((()=>(0,n.lazy)((()=>Promise.all([i.e(24),i.e(32),i.e(408),i.e(760)]).then(i.bind(i,43760))))),[]);return(0,o.jsx)(n.Suspense,{children:(0,o.jsx)(t,{...e})})}},78731:(e,t,i)=>{"use strict";i.d(t,{X8:()=>M,TR:()=>P,h$:()=>k,Zt:()=>E,rT:()=>T});var n=i(15972),o=i.n(n),a=i(79129),l=i(18263),r=i.n(l),s=i(29697),d=i(95436);const c=i.p+"static/media/amap-standard.81603d51180fb2de262b.jpg",u=i.p+"static/media/amap-dark.43e1c8a00b32293ca260.jpg",p=i.p+"static/media/amap-dark-blue.106c2759973bd7292268.jpg",h=i.p+"static/media/amap-satellite.4ef520bc7f0c505f7859.jpg",v=i.p+"static/media/googlemap-atlas.8b4d6d2e19db8d4bca84.jpg",g=i.p+"static/media/googlemap-dark.e72320e26d9a0ed759ec.jpg",f=i.p+"static/media/googlemap-grey.08b020ac4e6e6c9a14b5.jpg",m=i.p+"static/media/googlemap-light.05a4861665a9056d5280.jpg",y=i.p+"static/media/googlemap-night.483f44c0548ef95ff24f.jpg",w=i.p+"static/media/googlemap-satellite.bc5868ebd3ec4813dc2d.jpg",b=i.p+"static/media/mapbox-streets.1ee0ed19eaa9ec50d32d.jpg",C=i.p+"static/media/mapbox-outdoors.115a0685c251aa3c4f73.jpg",x=i.p+"static/media/mapbox-light.5139600e9d413e6b05d1.jpg",I=i.p+"static/media/mapbox-dark.deb842168dca303b3842.jpg",j=i.p+"static/media/mapbox-satellite.42ffa811eefdf6c46994.jpg",M=o()({},s.Cf,{AmapStandard:{icon:c},AmapLight:{icon:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMDAwMDAwMDAwMEBAQEBAYFBQUFBgkGBwYHBgkOCAoICAoIDgwPDAsMDwwWEQ8PERYZFRQVGR4bGx4mJCYyMkMBAwMDAwMDAwMDAwQEBAQEBgUFBQUGCQYHBgcGCQ4ICggICggODA8MCwwPDBYRDw8RFhkVFBUZHhsbHiYkJjIyQ//CABEIAKAA0AMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAAABAIDBQEGBwn/2gAIAQEAAAAA/S1ji67bFUFysaR0SvlEGcpF63YoQz/QWnK4zVLS86qrF6nG2cXdpaS1ewYT4wpO1ScyqZOvY8zmu6Tskm+p3LvKJJuNNLXJeDfe+geTz/R9YjGyShB3xOZqu6rNTPfMp+h4oasou8XmxBNv5/Tb6R/patlu2ZHbNYcqvrtsV7bgP3sIdbnNXGX5I9LTdGluyggzRKvko+X9FkVldgbbVggx2pu0po5CZbiKkJh3R0ikossa5epZyFkY+bIki7Rpeqb5RxiBr4VmIh62/IypwmE9FxLInuNzVsmxfjed09BzyNsJdAc0sXtLGs5xW5hpJA7XjBIAtcz16aH9ZphyllrFbUxVeTAAAORmQt0dhvJ87KHLAAAAACE2dWzCp7zoBOAAABCYxXrYcudC5ptTPAAA5yRdrZFEoyJegFkVAAAITOOMqqHSWugos0AABzlmhC7OnTo0rQA//8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oACAECEAAAAFgBpkFRqXIa1iNxkLFWsLAuhkhTQlZg2AJNAAimbQQsX//EABcBAQEBAQAAAAAAAAAAAAAAAAABAgP/2gAIAQMQAAAAmNambUcnRtGbXLXPtbJjj16ONnaklSYze1xqicR1zdnOznRL10k5SgNa5gAWHXGQmkLP/8QAKxAAAwABBAIBAwQBBQAAAAAAAQIDBAAFERITIRAUIjEgIzAyQRU0QFFx/9oACAEBAAEIAOxb+gn3Xya7BRwvlWoacgSH76Vg45ElHPFCw9hVbtBy3ibj1Hn/AE8IdD0QdO4otOItkebinw1UV1m3mQHrp2DVbTOqAs23PR8ib6zqE2M9Pak0HWmIm9J0N3xcGD422LSCL2f6qnk7NnWujjxxq8aLSaoMmYyJTCSIKE8knT/lX1RBJH4Wh4PMUJxc8/MxythpUYEMQQwDAelUfDfa5OsnJVKaWLORS4oVUBdzxy/XOmENGVBuSriYYwI6sTTnImnWoBDzGRJsY4MnTy3olAUXow40TxxpGCdk1VeqgaQgTbUBziZYHjfXh1NAgodZOTJJNx5p+MCXmGvKT+OLWLaXGmn9UEaL2msgDy2JumFbJbEXGwsbGuXjujFstySeo51Nmw3RKNEsGtBEmizdqsXYPpf2adNL932F18fZD5io6FqBpq7FuR1GL/tsrVrrIgF8/j0jZlH7rrEbyrT6iaKvIloVpShWS/l9bqaDb8kyjkXxm7wpvG4WmZNt9xjFBI2EcaGtx587VYDk9yuM1UJeVRgvKS2koZXUFgCpdFohUz7zQGv9webLwVoF4MqrrggcnHPXFyNb1m0Oa04jOyAhTWO+OJqs0cp2GsbieKGXzaQKlHppD27EOyopZ8sQyCzHBAGMhG34PlZci2fnPaxExleb9rJpjkDvJ7PY8uSlVM6ypSZOJcKAoZy7Dko/M17IHKkdjPyKzaUxkrotEZG4ZfWLMa3fFfGzadpbdmWgciWBtxzTRRLBbqotYLBY468rrjn0O4l0TWaytD3KVLN0lhbXHDrR7Ze4GgMosTz1UAKAAlGmeVu3ZuYrJ2VXkJDxKLTtU0MMgkD2V5c+Qr9x4Hfr9q2RlI0nNZMmrEzljDW9wplwiY7VN5YGPOlMTHrWdnPSX3atP2GYOp/Ep8fe79DwxbHR0YWpm42Knixr5NbklyeATpQRyT8dVuDUl1UMJx7NNgbRSyhWm7VJjfXpF1R+gGkVirCs+07KpypVrQIv0/U8NMyHC6pZg7JObgAKXQccaZlkrcrvlzlMuPJLYuOH3B8jJZ3B+B97dv0YNqf0t4FVuxU8HnX2nkpZfIQ64l0r3V7W6nU2KnllBY+u3LQEsl2bIuDpFYOCaSdnLqVYcchHb85MBmYzxaeLjIFucvIa9GJ+G9/YPkAt6FlP1GMyToPGVY0Xg8TYq6kUHV3XVJsSKyRksrVVJl+WPPoKvsHWQCaGoFVNDMaJABJFUPv4HIcjW5U8GJKI+CwUclV4HJ+ISFXKmcUl2KPRXyZTTqRNiSQo5ZUC6shP7i6GOxcZKo65Mu8R5vSmr0QzGphGxUV9wg0HTKit+6q67y9bLLEljYu6YiipkAQGAUuygbrkefLchG7jn4H3Ht+iZYOvVHv3CUdJQXzXvnq0Xsc3PR8dHnhbvl3k60hlOehK2R2ZQSSeTSdJ0+pxp2W6B0YmnA1j16/t1zJFFjy8li4E9zpl4mYmYm35hzZO7S6SCqs7IJ5T6NVyH9aY8noAP0/VkTUDNxMvNqhx8nY8x+9MmOybQ0w5ntG0mP1CbdHEZykBt+QHV5FWQ8NrowpUzWgY9S57oH1jA5MXhrImiqsXLKWZCAAABwzFVTNY42OmGg/zpm6jnSjgfqj08qd8nc8m7Np2agIfHk0Z+NstLV6Rnk45l0vHGyfIoec91zpgKU3WLcC62wK0R0GE9wOn02VL7TLHy4e1yICzJ2psteWvBdvVFDZFcqCN4cDJfvQgchSeR9x7n+MgEEFJrMEL8P6AbSu6Hskd43GPHC54t4ktiul1vM7nXJxVSSF7ngMlLT5Knye9dQH7H/gofyp1jI1bIdZeR4SlpnLnuwEa3g8aNKgP/ej/AIP6vG/Xt/I3plb5jT2yMyMgDAsM/Bd3Pr38N+D+iHjNAKDDAcMf/MmPZfIP4iAwKlSSOD8TtwSH21UNbqrxdOx0PXr4X+o+UDFlCRNCgFWmCeBXhFZaJGL+l/iP2sD8n/B1g3GNlws2bzjZbozyWqhpj370PlHM3V1vZqQWkJZlpnWcPrnVn+irgNDLxP1EEfn5YdgRpTyPaIXdUU7cfC2sbCdmDWyENsNXab9G95CdXDiSGj9AyShFuUh5YzIdDNyh5I/Hz//EADsQAQABAgQDBQYDBwMFAAAAAAECABEDITFBElFhECIycYEEEyBCUqGRscEFMDNykrLRU8LhI0BiguL/2gAIAQEACT8A/q2rULSXe29F+rSSxIGed7HrWt73tXqU8MZlHDqP1Va8oRWXqVatcL2qcP6ge1lkXz8yoQIZ2lGSryy7ORUrSloVxXv9LQ+COom7TYKiRwklHvay4ixRaOHlbq6tTQ44ZbeIo93jYRf3vyh1qHBisGMvaD+Ir12qXFK3g5PKVNzeBkWqVsKWcZBZae8ferRg+K/ytF3eT+h2aTyf5j/NDeVi13LO97UZBWnvMLE8r3j2/wCn/uKLBTca2idnO9RZSYgRKSTtHaNFko7szvnKVR4lQDrUuHElEcSZrx6/bsAmA4htM5nWm0F/HzotKIuH5lYbwRimneU2jVvdoWDS1aOjRqh+Nayyv9LRazp2bxh/d2SpfB+pUxXu5d7XyonZAjaKdMlrDxP6GsHEfQPzaDCDK9+KVeaua9VrEJnOKJ9qb1P3mvEWybcmoXscRcpeb69i+4UMOS34FyIy6cqL74mGf3FTJziiBt0a0ftXgmrHpLVPWt3Lo099LKbX5daLzNdjzouvdlbmVkXrlH+6raXzbf5akPlG35rUzlI1/E0qRKAxsS50Eo+8vrey8uyMeGE+GbL9K+qpcMiH23rFlB6OvnWLaLlJhEFKhODr3zx2oZTTjBMyN7l68EwSW1gzo6BQGG5LLR6US4HuwxZN1foeXSvBiaJlwp8td4/BK33NRKLYun/1XiPvXk05jGX6fr2fNiQj+bU7GFEi23dWpDf5rZ1ON3NzzWtJFk51K5L2jfJyjmfeo1xd67a+WdfVSESsCBEvYiWftRqt/wAaAw4ZlzW36VNjGLs20qLOBrLdalxxeWtL3cuH6elRJRkWR0akyJ54WI2zTMH/AMj7lDdzI/5q0edsr2pekXd5UcPXUoOHSV6gBPJlp+BTfceZXzY9/wCmL/mlkYq4kZO96wGWHnmatuRXtEcLFg5QkZtYoy34DVoWMZRHP5nNqL+NDUHMvRLxFqgyelSkxsIP8Mem8n7Vcju87UnE5+laFPmOjWaZSdnodaZK7Od6jGS2kGUiKOT1RpZYgXjO1jEOZ1NymxR/KPLnWvLlWcd+tKxfC1rDOL+ZX0yl+Lb/AG1hs8SE8w5JUWMgbjteTWEe8gjGZk5dSjvjt8nWVStwSH71IfJrItkb0ARLZ1lDfZrDKk9mr2yIMS8+vUKOCMvFzfOixFuX65NZI8UZGsXmVliYecgLRmbSL7dnjka8jlQyk6RN6lfitkaRelfUCcxrCnaGDDviRiLtn51jRfIqU18go4LWz+Zv1otSgyjl61eLG9+JuRDWVYPHCRHDw4K3y382sYxMa/ERjpDlnzrFXCc4jY4eha2XbpFyy30v8GHGGJGItpXJEq7wt48g7JXDXmVLhnBvCfJ/xzKiRxMPxwOeydGu9OWh+r0qV7ufYRvGZxSkXWO9qvwxxGMTpEt2GWdSC8QzL6UVkWtUuHjykmyN2sGIezJKFi3etYKVO3fXOyHwC1kkpEnnGzlXyZj0cqa9TmVtJKSOLEtGSZWdYvRqLGQ2nF1ilPDE1k0vCbc+r2eDECUX0zKuoZu3l2NPZpM+5WUsT/qS9cj4LcTnJO1sBer52qcWcFliR3IsaG07B6N6bHZ/7dHn2d1iWT/Uj9H/ADtT3C8ZYchGCZJQWNxuv42qHDGaBLxWrDMW8uFZHEnlevkQnHbonKrWkXKgynjPFY5QqfDh4Xelhs73iZtgqV62R9DX7Va0ci1RlH+bs0Mjr1+CVm9r1hlvqKe78pbOXQq0eCLaHIKxiOLCVzhRu0w4op3wzfMqcWPD3paIvPpXBxRbIxL002xLWlFe7M/zVjZ6J0dKFOEC5wt/xaLFwltZ2lQSjKHDdzJBRbDxLobRkah5mZQOHwEI3zOaNYXAxeF3Gh4YxIm9rU5QwmK9Z5Wqcid+Jt+T2eb5fEd7dawmeHh4ZC42Ipre9e2ezezYMC6M2aBukBr9pkxjrGL9rpX7axYR4Vu4INjpxV+28LElbKONhTw3qZ3vWFh4iviwsVknkUI9cuxtLKRfwpLZ9Su7P6X9OZWeJhlnnKNN+GDPDpeNkOWkZRzPWrXMkqwGgVFlKTYDPWpXvNniyN58vSudZuxza1W78QJ1rEYwvkHKpMrls29IkV4U5NAQl4mnOAD1tvUmLvZtZrG95E+XECR969ktzlhS4fs3r2v3bwseHFixzbOpevd4pqMZDbqVFnG1tQn98moE8SWcPli2bp5utYEu/G7I+VNpcnrXtQyM2E/Fn5XvXtuAfyPFfyq7JO9iy5dKco5U8q02Etbr+8LjQAyXLr2/K38tmpyim42r2mUg2n3vzrGSeKCcK2JajZrE4ZT+UkwkPMHOseUrgTlPNbFvTSpiZ8yiIsba1wmXnnWa8/8AslWLa/PsQ4UX0qIyi962Vq7mOHDC7lPpfZoRK17Nn4oNudv3l+T2o8f1aX69Gr2unUTZ61n7R7Na7vKDkPxmSWKXg5dniDPr+70SrXMntUU8WtzS0h1KAJ+zzLxbx5lxzNKOKI24jM+IWV8qgDQl99ipcKjn+tYpOSXAQv8Au9JZPweEl3vJyaL7k4PC2d7mt6txXyQsSeSbS7Ob26jesSzuFS4hbpKpSjGJbgHKsSOIpnBTi+M+BteizuVrJtUlxLZBpUbR5X39K/jeyJhT6wc4vpV2LlIrOOJnfr/zrW7+lArl5tWG7dpvan4P/8QAHxEAAgICAQUAAAAAAAAAAAAAAAERMCAxAhASQEGB/9oACAECAQE/ACKlRGHaNZ8djgbr11SkjKLIeK2MWKk+jXsi+BeExO7/xAAjEQEAAgICAgIDAQEAAAAAAAABABECMRAhEiADUTBBYSJS/9oACAEDAQE/ALjmDUOTg4vjKxY7/tdvHjaPp1HLEg3398PQsPlx/ZMcvItjth6/JfjDys6mIj3wtCynJuKaxl/fs/6EnQB9cORjVxz/AJFXklwy+4zfNRoF9Kuau2GeNyh7GBXCWTNfHuYAaep8jo9NTJxb2zr/AIhkaqGeLLHTw/wj1H8WKnW4v6vv8zofQx6mR30e4LolPjymmK7ubbdz/9k="},AmapDark:{icon:u},AmapDarkBlue:{icon:p},AmapSatellite:{icon:h}}),k=o()({},s.HU,{GoogleMapAtlas:{icon:v},GoogleMapLight:{icon:m},GoogleMapGrey:{icon:f},GoogleMapDark:{icon:g},GoogleMapNight:{icon:y},GoogleMapSatellite:{icon:w}}),T=o()({},s.Sr,{MapboxStreets:{icon:b},MapboxOutdoors:{icon:C},MapboxLight:{icon:x},MapboxDark:{icon:I},MapboxSatellite:{icon:j}}),E=(s.nn,s.nB,s.R6,[{key:"amap",msg:(0,a.Em)({id:"basemap.amap.short",defaultMessage:"Amap"})},{key:"mapbox",msg:(0,a.Em)({id:"zeDMyV",defaultMessage:"Mapbox"})},{key:"google",msg:(0,a.Em)({id:"lzgH40",defaultMessage:"Google"})},{key:"customize",msg:(0,a.Em)({id:"Sjo1P4",defaultMessage:"Custom"})}]),P=((0,a.Em)({id:"myq2ZL",defaultMessage:"Normal"}),(0,a.Em)({id:"/sPrWg",defaultMessage:"Additive"}),(0,a.Em)({id:"vgZYnf",defaultMessage:"Subtractive"}),{bg:(0,a.Em)({id:"8o8Qs2",defaultMessage:"Area"}),road:(0,a.Em)({id:"bEzgqy",defaultMessage:"Road"}),building:(0,a.Em)({id:"oS/nae",defaultMessage:"Building"}),point:(0,a.Em)({id:"map.features.point",defaultMessage:"Label"})});r()(d.E[0],d.E[1]+1).map((e=>({key:e,label:e,value:e})))},83580:(e,t,i)=>{"use strict";i.d(t,{Vq:()=>n.Vq,RI:()=>n.RI,Ph:()=>o.Select});var n=i(6404),o=i(47587);i(57435);i(94553);i(68429)},74797:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o,i:()=>n});const n=i(88505).ZP,o={antdPrefix:"mt",baseApiURL:"".concat("https://maptable.com/api").concat("/thirdparty"),requestParams:null,useDevToggle:["blue","local"].includes("production")}},22601:(e,t,i)=>{"use strict";i.d(t,{Rp:()=>s,Xn:()=>p,cd:()=>u,fP:()=>r,go:()=>l,wn:()=>v,xm:()=>h});var n=i(84527),o=i.n(n),a=i(36639);const l=1e6,r={is:{key:"is"},isNot:{key:"isNot"},equals:{key:"equals",mark:"="},notEqual:{key:"notEqual",mark:"\u2260"},startsWith:{key:"startsWith"},endsWith:{key:"endsWith"},lessThan:{key:"lessThan",mark:"<"},lessThanOrEqual:{key:"lessThanOrEqual",mark:"\u2264"},greaterThan:{key:"greaterThan",mark:">"},greaterThanOrEqual:{key:"greaterThanOrEqual",mark:"\u2265"},contains:{key:"contains"},containsAny:{key:"contains"},containsAll:{key:"containsAll"},notContains:{key:"notContains"},empty:{key:"empty"},isNull:{key:"isNull"},isNotNull:{key:"isNotNull"},inArea:{key:"inArea"},inRange:{key:"inRange"},notInRange:{key:"notInRange"},isAfter:{key:"isAfter"},isBefore:{key:"isBefore"}};let s=function(e){return e.is="is",e.isNot="isNot",e.equals="equals",e.notEqual="notEqual",e.startsWith="startsWith",e.endsWith="endsWith",e.lessThan="lessThan",e.lessThanOrEqual="lessThanOrEqual",e.greaterThan="greaterThan",e.greaterThanOrEqual="greaterThanOrEqual",e.contains="contains",e.containsAll="containsAll",e.notContains="notContains",e.empty="empty",e.inRange="inRange",e.inArea="inArea",e.isNull="isNull",e.isNotNull="isNotNull",e.notInRange="notInRange",e.isBefore="isBefore",e.isAfter="isAfter",e}({});const d=["number"],c=["empty","notEmpty","isNull","isNotNull"],u=Object.keys(r),p=e=>!!e&&c.includes(e),h=(e,t)=>{if("lookup"===e&&t){var i,n;const o=["original","distinct"].includes(t.lookupResultType);e="formula"===t.lookupColumnType&&null!==t&&void 0!==t&&null!==(i=t.lookupColumnTypeOptions)&&void 0!==i&&i.expectedType?null===t||void 0===t||null===(n=t.lookupColumnTypeOptions)||void 0===n?void 0:n.expectedType:o?t.lookupColumnType:"number"}switch(e){case"multiLineText":case"hyperlink":return o()(r,["equals","notEqual","startsWith","endsWith","contains","notContains","isNull","isNotNull"]);case"number":return o()(r,["equals","notEqual","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","isNull","isNotNull"]);case"multiChoice":case"member":return o()(r,["equals","notEqual","containsAny","containsAll","notContains","isNull","isNotNull"]);case"singleChoice":case"creator":case"updater":case"related":return o()(r,["equals","notEqual","containsAny","notContains","isNull","isNotNull"]);case"datetime":case"createTime":case"updateTime":return o()(r,["is","isAfter","isBefore","isNull","isNotNull"]);case"boolean":return o()(r,["equals"]);case"coordinate":return o()(r,["inArea","isNull","isNotNull"]);default:return o()(r,["isNull","isNotNull"])}};function v(e,t,i){const n=d.indexOf(e)>-1?t.mark:null;return n||(t.key in a.n?i.$t(a.n[t.key]):t.key)}},13484:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n={id:"hex",name:"Hex",type:"coordinate",mode:"normal",desc:"",isPrimary:!0}},38441:(e,t,i)=>{"use strict";i.d(t,{NQ:()=>r,Ox:()=>l,R2:()=>s,U8:()=>o,bt:()=>n,y2:()=>a,zP:()=>d});const n="https://maptable.com?chat=open",o="https://maptable.feishu.cn/wiki/C3y9wenwxiYjzvkszQSc2Gmin4b",a="https://maptable.feishu.cn/wiki/H3sNwdO5OiBYQ0kIka5cblyinwc",l="https://maptable.feishu.cn/wiki/L0xdwI5zkiFjqzkkhlvcp5tTnud",r="https://join.slack.com/t/maptablecommunity/shared_invite/zt-2do6x443n-VA6TCMylCHELt3SyEKEF0g",s="https://maptable.feishu.cn/docs/doccnwCgXR9wsasiC9LgIOYb4cc",d="https://maptable.feishu.cn/wiki/NneZwUVyVi3eSjkqtEqcz6gyn4H"},95436:(e,t,i)=>{"use strict";i.d(t,{BE:()=>d,Br:()=>y,Cq:()=>h,D0:()=>l,E:()=>u,Gr:()=>o,LW:()=>r,My:()=>v,dC:()=>w,fg:()=>b,iO:()=>a,jm:()=>m,lf:()=>f,mf:()=>s,r0:()=>c,ry:()=>g,z3:()=>p});var n=i(29697);const o=10,a=100,l={height:"1px",backgroundColor:"#0065ff",pointerEvents:"none",position:"absolute"},r={position:"absolute",pointerEvents:"none",color:"#0065ff"},s=40,d={size:{height:500,width:800},zoomLevel:8,baseMapStyle:n.nn.AmapLight},c=18,u=[2,19],p=0,h=100,v=5e3,g=[116.397,39.903],f=[-102.995,40.216],m=["location","circle","square","diamond","triangle","cross","plus","flag","star","love"],y=["car","taxi","metro","train","airplane","rocket","motor","bike","scooter","ship","truck","walking"],w=160,b="".concat("https://icon-cdn.maptable.com","/assets/mapicons")},33766:(e,t,i)=>{"use strict";i.d(t,{Jd:()=>a,zq:()=>l});var n=i(14083),o=i(20491);o.JC.NewMapLayer,o.JC.NewMapFolder,o.JC.NewMapLayer,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.NewMapLayer,o.JC.NewMapFolder,o.JC.NewMapLayer,o.JC.MapFolderRename,o.JC.MapFolderDelete,[{action:"fitBounds",key:"fitBounds"},{action:"showThisLayerOnly",key:"showThisLayerOnly"},{isDivider:!0},{action:"openLayerSetting",key:"openLayerSetting"},{key:"divider",isDivider:!0},{action:"editItem",key:"editItem",permission:o.JC.MapLayerRename},{action:"replicate",key:"duplicate",permission:o.JC.NewMapLayer},null,{isDivider:!0},{action:"conv2vector",key:"conv2vector",permission:o.JC.NewMapLayer,tooltip:(0,n.Em)({id:"8z1uai",defaultMessage:"Vector tiles significantly improve map layer loading performance when processing large-scale datasets. <a>Learn more about Vector tiles.</a>"}),link:"conv2vector",plan:"ent"},{action:"vtRecreate",key:"vtRecreate",permission:o.JC.NewMapLayer,plan:"ent"},{action:"publishLayer",key:"publishLayer",permission:o.JC.MapShare},{action:"deleteItem",key:"delete",type:"danger",permission:o.JC.MapLayerDelete}].filter(Boolean),o.JC.NewTable,o.JC.NewFolder,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,(0,n.Em)({id:"N455eL",defaultMessage:"Subscribe to publicly shared data tables from other collaborators to keep synced tables aligned with the source data. <a>Learn more about Maptable sync table.</a>"}),o.JC.ImportData,o.JC.TableFolderRename,o.JC.NewTable,o.JC.TableFolderDelete,o.ST.MenuItemRename,o.ST.MenuItemMember,o.ST.MenuItemDuplicate,o.ST.MenuItemDelete,o.ST.MenuItemRename,o.ST.MenuItemMember,o.ST.MenuItemSync,o.ST.MenuItemSync,o.ST.MenuItemDelete,o.ST.MenuItemRename,o.ST.MenuItemMember,o.ST.MenuItemDelete,o.JC.ProjectEdit,o.JC.Collaborator,o.ST.DataEdit,o.ST.DataEdit;const a="MT_LAYER_EMPTY_VIEW_OPTION_ID";function l(e,t){return{id:a,name:t||e.$t({id:"z0AHt3",defaultMessage:"Do not use view"})}}},72494:(e,t,i)=>{"use strict";i.d(t,{EH:()=>n,Ie:()=>a,KI:()=>o,Kr:()=>r,f0:()=>l});const n=3e4,o=18e5,a=365,l=104857600,r=20971520},20491:(e,t,i)=>{"use strict";i.d(t,{JC:()=>a,ST:()=>l,bp:()=>n,vA:()=>o});let n=function(e){return e.owner="owner",e.admin="admin",e.editable="editable",e.readonly="readonly",e}({});function o(e,t){return e?t.$t({id:"permission.role.".concat(e),defaultMessage:[]}):""}let a=function(e){return e.ProjectPage="readonly",e.ProjectEdit="admin",e.ProjectDuplicate="admin",e.Collaborator="readonly",e.CollaboratorEdit="admin",e.CollaboratorInvite="admin",e.CollaboratorRemove="admin",e.CollaboratorQuit="readonly",e.ProjectDelete="admin",e.ProjectTransfer="owner",e.ProjectRecycleBinPage="readonly",e.ProjectSetting="admin",e.RecycleBinRecover="admin",e.RecycleBinDelete="admin",e.TableSiderPlusButton="editable",e.NewTable="editable",e.NewFolder="editable",e.ImportData="editable",e.TableFolderRename="editable",e.TableFolderDelete="editable",e.MapSiderPlusButton="editable",e.NewMapLayer="editable",e.NewMapFolder="editable",e.MapSetting="editable",e.MapFolderRename="editable",e.MapFolderDelete="editable",e.MapLayerRename="editable",e.MapLayerSetting="editable",e.MapLayerViewTable="readonly",e.MapLayerDelete="admin",e.MapShare="admin",e.ProjectShare="admin",e.SiderHelp="readonly",e.TreeItemDraggable="editable",e.MapSearch="readonly",e.DashboardEdit="admin",e.DashboardShare="admin",e.TableViewCreate="editable",e.AnnotationEditable="editable",e.CreateH3Tile="admin",e}({}),l=function(e){return e.TablePage="readonly",e.MemberInvite="admin",e.ProjectRecycleBinActions="admin",e.MenuItemRename="editable",e.MenuItemMember="readonly",e.MenuItemDuplicate="admin",e.MenuItemDelete="admin",e.MenuItemSync="admin",e.GridHideColumn="editable",e.GridFilter="editable",e.GridSorting="editable",e.GridGrouping="editable",e.GridRowHeight="editable",e.GridSearch="readonly",e.GridExport="editable",e.GridSnapshot="editable",e.LayerControl="readonly",e.MapFilter="readonly",e.MapNearBy="readonly",e.MapExport="editable",e.ViewShare="editable",e.FormFieldEdit="editable",e.RowShare="editable",e.InfoWindowConfig="admin",e.DetailPanelConfig="admin",e.DetailPanelShare="editable",e.DataEdit="editable",e.MapLayerSetting="editable",e.LockView="admin",e.ReassignView="admin",e.LockField="admin",e.LockTable="admin",e}({})},22138:(e,t,i)=>{"use strict";i.d(t,{$:()=>r,$8:()=>m,$A:()=>s,$i:()=>p,Af:()=>b,Bs:()=>y,Ek:()=>a,GD:()=>g,HT:()=>u,HW:()=>h,JT:()=>d,Ld:()=>c,V2:()=>C,VR:()=>l,Wr:()=>E,fX:()=>w,g:()=>I,gU:()=>T,iK:()=>v,iu:()=>k,o3:()=>n,ob:()=>f,tM:()=>P,tZ:()=>x,vS:()=>j,wO:()=>M,z6:()=>o});const n="MT_TOKEN",o="MT_REFRESH_TOKEN",a="MT_LAST_REFRESH_TOKEN_TIMESTAMP",l="MT_TOKEN_EXPIRES_TIME",r="MT_IS_AUTH",s="MT_USER_TYPE",d="MT_HIDDEN_LAYER_IDS",c="MT_HIDDEN_CHANGE_FIELD_TYPE_CONFIRM_MODAL",u="MT_COPY_CACHE",p="MT_COPY_CACHE_RAW",h="MT_MAP_FILTERS",v="MT_APPS",g="MT_COORDINATES_EDITOR_CONFIG",f="MT_CURRENT_WORKSPACE",m="MT_NOTIFIED_WORKSPACE_QUOTAS",y="MT_SELECTED_VIEWS",w="MT_SELECTED_DASHBOARDS",b="MT_ANNOTATION_VISIBLE",C="MT_MAP_STAT_VISIBLE",x="MT_SHOWED_ANNOTATION_NOTIFICATION",I="MT_THEME",j="MT_DUAL_VIEWS",M="MT_DUAL_MAP_LAYER_STATE",k="MT_ACTIVE_LABEL_LAYERS_ID",T="MT_DASHBOARD_PLATFORM",E="MT_HIDDEN_LEGEND_PROJECT_IDS",P="MT_MEASUREMENT_HISTORY"},13334:(e,t,i)=>{"use strict";i.d(t,{rF:()=>n});const n=3},11846:(e,t,i)=>{"use strict";i.d(t,{F:()=>a,z:()=>l});var n=i(57435);const o={annotationText:!1,annotationSticker:!1,circleGeometry:!1,duplicateProject:!1,copyMoreCell:!1,publicLayer:!1,editPoi:!0,enableAIExtension:!1,googleMaps:!1,addRoute:!1,vtLayer:!1,vtSpatialAnalysis:!1,searchPoi:!0,detailPanelModal:!0},a=i(74797).Z.useDevToggle?{annotationText:!0,annotationSticker:!0,circleGeometry:!1,duplicateProject:!0,copyMoreCell:!0,publicLayer:!0,editPoi:!0,enableAIExtension:!0,googleMaps:!0,addRoute:!0,vtLayer:!0,vtSpatialAnalysis:!0,searchPoi:!0,detailPanelModal:!0}:o;window.__TOGGLES__=a;const l=(0,n.createContext)(o)},82394:(e,t,i)=>{"use strict";i.d(t,{WK:()=>m,bZ:()=>f});var n=i(57435),o=i(88716),a=i.n(o),l=i(468),r=i.n(l),s=i(15972),d=i.n(s),c=i(33718),u=i(95620),p=i(98506),h=i(68429),v=i(27954),g=i(94553);function f(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,i]=(0,n.useState)(e),o=(0,n.useCallback)((()=>{i(!0)}),[i]),a=(0,n.useCallback)((()=>{i(!1)}),[i]);return(0,n.useMemo)((()=>({visible:t,open:o,close:a})),[a,o,t])}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{connectUrl:t="mailto:contact@maptable.com"}=e,i=(0,u.Z)(),{title:o,content:l,okText:s,cancelText:f}=function(e){var t,i;const n=(0,u.Z)(),{messageIds:o}=e,a=n.$t({id:"N2IrpM",defaultMessage:"Confirm"}),l=n.$t({id:"47FYwb",defaultMessage:"Cancel"});return{title:null!==o&&void 0!==o&&o.title?n.$t({id:o.title,defaultMessage:[]}):e.title,content:null!==o&&void 0!==o&&o.content?n.$t({id:o.content,defaultMessage:[]}):e.content,okText:null!==o&&void 0!==o&&o.okText?n.$t({id:o.okText,defaultMessage:[]}):null!==(t=e.okText)&&void 0!==t?t:a,cancelText:null!==o&&void 0!==o&&o.cancelText?n.$t({id:o.cancelText,defaultMessage:[]}):null!==(i=e.cancelText)&&void 0!==i?i:l}}(e),{modal:m}=p.Z.useApp();return(0,n.useCallback)((function(){var n;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p=d()({},e.messageValues,u.messageValues);let y=l;var w;!a()(p)&&null!==(n=e.messageIds)&&void 0!==n&&n.content&&(y=i.$t({id:null===(w=e.messageIds)||void 0===w?void 0:w.content,defaultMessage:[]},d()({},p,{highlight:e=>(0,g.jsx)("strong",{children:e}),connect:e=>(0,g.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:e})})));return new Promise(((t,i)=>{const n=u.content?(0,g.jsx)("div",{className:v.Z.content,children:u.content}):y&&(0,g.jsx)("div",{className:v.Z.content,children:y}),a=m.confirm(d()({},{className:(0,c.default)(v.Z.confirmDialog,e.className,u.className),transitionName:"dialog-animation",title:o,content:n,width:400,okText:s,closable:!0,closeIcon:(0,g.jsx)(h.Z,{type:"close",onClick:()=>{var t;i("close"),a.destroy(),null===(t=e.onCancel)||void 0===t||t.call(e)}}),icon:null,zIndex:1030,okButtonProps:{type:"primary"},cancelText:f,onOk:()=>{var i;t(!0),a.destroy(),null===(i=e.onOk)||void 0===i||i.call(e)},onCancel:()=>{var t;i("cancel"),a.destroy(),null===(t=e.onCancel)||void 0===t||t.call(e)}},null===e.onCancel?{cancelButtonProps:{style:{display:"none"}}}:{},r()(e,["className"]),r()(u,["className","content"])))}))}),[o,s,f,l,e,i,t,m])}},41122:(e,t,i)=>{"use strict";i.d(t,{$:()=>o,y:()=>a});var n=i(89614);function o(e,t){var i,o;const a=n.Z.useFormInstance();return null!==(i=null!==(o=n.Z.useWatch(e,a))&&void 0!==o?o:a.getFieldValue(e))&&void 0!==i?i:t}const a=n.Z.useFormInstance},57830:(e,t,i)=>{"use strict";i.d(t,{F:()=>h});var n=i(57435),o=i(38981),a=i.n(o),l=i(99540),r=i.n(l),s=i(13682),d=i.n(s),c=i(11145),u=i(44459),p=i(1414);function h(){const e=(0,c.s0)(),{workspaceId:t,projectId:i,tableNodeId:o,workspaceType:l="uw",shareToken:s}=(0,c.UO)(),[h,v]=(0,u.lr)(),g=h.get("from"),f=(0,n.useCallback)((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uw";const n=(0,p.Gn)("/".concat(i,"/:workspaceId"),{workspaceId:a()(t)});e("".concat(n).concat(g?"?from=".concat(g):""),{replace:!0})}),[e,g]),[m,y]=(0,n.useState)(void 0),[w,b]=(0,n.useState)(!1),{pathname:C}=(0,c.TH)();(0,n.useEffect)((()=>{C&&d()(C,"/s/")&&(d()(C,"/s/p/")?y("project"):d()(C,"/s/m/")||d()(C,"/s/embed/")?y("map"):d()(C,"/s/d/")?y("dashboard"):d()(C,"/s/r/")?y("row"):d()(C,"/s/t/")?(b(!0),y("view")):y("view"))}),[C]);const x=(0,n.useCallback)((n=>{const o=(0,p.Gn)("/".concat(l,"/:workspaceId/p/:projectId/t/:tableNodeId"),{workspaceId:null!==t&&void 0!==t?t:null,projectId:null!==i&&void 0!==i?i:null,tableNodeId:a()(n)});e(o,{replace:!0})}),[e,i,t,l]),I=(0,n.useCallback)((e=>{v({v:e})}),[v]);const j=(0,n.useCallback)((e=>{e?h.append("exp",e):h.delete("exp"),v(h)}),[h,v]),M=r()(t),k=C.startsWith("/s/embed/"),T=C.startsWith("/s/"),[E,P]=(0,n.useMemo)((()=>{const e=h.get("loc");if(e){const[t,i,n]=e.split(",");return[[i,t].join(","),r()(n.replace("z",""))]}return[null,null]}),[h]);return{orgId:"w"===l?M:void 0,workspaceId:M,setWorkspaceIdAndType:f,projectId:r()(i),tableNodeId:r()(o),setTableNodeId:x,workspaceType:l,viewId:h.get("v"),setView:I,shareType:m,shareToken:s,password:h.get("p")||"",isTableView:w,isEmbedPage:k,isSharePage:T,dashboardId:h.get("d")?r()(h.get("d")):null,zoomLevel:P,center:E,setDashboardId:function(e){let t={};h.forEach(((e,i)=>{t={...t,[i]:e}})),v({...t,d:a()(e)})},setExportingId:j,exportingId:h.get("exp")||void 0,from:g}}},65270:(e,t,i)=>{"use strict";i.d(t,{F:()=>o});var n=i(4738);function o(){const e=(0,n.useMediaQuery)({maxWidth:550}),t=(0,n.useMediaQuery)({maxWidth:767}),i=(0,n.useMediaQuery)({minWidth:1024}),o=(0,n.useMediaQuery)({maxWidth:960});return{small:e,isMobile:t,isDesktop:i,isPad:(0,n.useMediaQuery)({maxWidth:1200}),isMinWindow:(0,n.useMediaQuery)({maxHeight:600}),isMiddleScreen:o}}},12167:(e,t,i)=>{"use strict";i.d(t,{rr:()=>p,o1:()=>u,UP:()=>c});var n=i(57435),o=i(11145),a=(i(23903),i(53182),i(18765),i(62618),i(88716),i(40279),i(13682)),l=i.n(a),r=i(30423),s=(i(68885),i(1714),i(67661),i(57830));i(30731),i(58590);const d=(0,n.createContext)({sharingParams:void 0});function c(){const{pathname:e}=(0,o.TH)(),t=(0,r.v)((t=>l()(e,"/s/")?t.user.sharedUser:void 0));return{userToken:null===t||void 0===t?void 0:t.token}}function u(){return(0,n.useContext)(d)}function p(){const{shareType:e,shareToken:t}=(0,s.F)(),i=(0,r.v)((e=>e.user.sharedUser));return{shareParams:(0,n.useMemo)((()=>({token:t,type:e,userToken:null===i||void 0===i?void 0:i.token})),[t,e,null===i||void 0===i?void 0:i.token])}}},67661:(e,t,i)=>{"use strict";i.d(t,{mJ:()=>k,Ui:()=>M,Cc:()=>j});var n=i(57435),o=i(30289),a=i(7070),l=i.n(a),r=(i(18765),i(17646),i(23903)),s=i.n(r),d=(i(74720),i(82959)),c=i.n(d),u=i(33324),p=i.n(u),h=i(88716),v=i.n(h),g=i(55349),f=i.n(g),m=(i(62618),i(74110)),y=i(30423),w=i(68885),b=(i(42538),i(1714));i(57830),i(34362),i(8942),i(53926),i(38981),i(53813),i(68429),i(15328);i(94553);i(11846);i(69151);var C=i(65557),x=(i(74909),i(44839)),I=i(43498);function j(e,t){const i=(0,y.v)((t=>(0,I.tH)(t,e))),o=(0,n.useCallback)((e=>s()(i,(t=>t.id===e))),[i]),a=(0,n.useMemo)((()=>s()(i,(e=>e.id===t))),[t,i]);return{tableNodes:i,tableNode:a,getTableNode:o}}function M(e,t,i,a){const r=(0,y.I)(),s=(0,y.v)((i=>t||(0,x.Y)(i,e))),d=(0,y.v)((e=>e.map.isInitTableNodesReady)),u=(0,y.v)((t=>{var i;return null===(i=t.project.entities[e])||void 0===i?void 0:i.tableNodes})),h=(0,y.v)(b.TW.selectAll),g=(0,y.v)((e=>{var t;return null===(t=e.user.sharedUser)||void 0===t?void 0:t.token})),f=p()(c()(l()(null===s||void 0===s?void 0:s.filter((e=>{var t;return!(null!==(t=e.mapInfo)&&void 0!==t&&t.vectorTile)})),(e=>{var t;return null===(t=e.mapInfo)||void 0===t?void 0:t.tableNodeID})))),{token:m,type:I}=null!==i&&void 0!==i?i:{};a&&!d&&r(C.Nw.setIsInitTableNodesReady(!0));const j=f.every((e=>!!h.find((t=>t.id===e)))),M=(0,n.useMemo)((()=>{if(!j)return[];const e=[];return null===s||void 0===s||s.forEach((t=>{var i,n,o;if(null!==(i=t.vtInfo)&&void 0!==i&&i.publicLayer)return;const a=null===(n=t.mapInfo)||void 0===n?void 0:n.tableNodeID,l=null===(o=t.mapInfo)||void 0===o?void 0:o.viewID;var r;a&&l&&(null!==e&&void 0!==e&&e.some((e=>e.id===a&&e.viewId===l))||null!==(r=h.find((e=>e.id===a)))&&void 0!==r&&null!==(r=r.views)&&void 0!==r&&r.some((e=>e.id===l&&e.columns))||e.push({id:a,viewId:l}))})),e}),[s,h,j]);return(0,o.ZP)(v()(u)||v()(f)||j?null:["tableNodesForMapLayers",f,m,I,g],(t=>{let[i,n,o,a,l]=t;return r(C.Nw.setIsInitTableNodesReady(!1)),r((0,w.ro)({projectId:e,tableNodeIds:n,shareParams:{token:o,type:a},userToken:l})).finally((()=>{r(C.Nw.setIsInitTableNodesReady(!0))}))})),(0,o.ZP)(v()(M)||a?null:["tableNodeViewsForMapLayers",M,m,I,g],(e=>{let[t,i,n,o,a]=e;return r(C.Nw.setIsInitTableNodesReady(!1)),r((0,w.FH)({tableViewIds:i,shareParams:{token:n,type:o},userToken:a})).finally((()=>{r(C.Nw.setIsInitTableNodesReady(!0))}))})),(0,n.useEffect)((()=>{!d&&j&&(null===s||void 0===s?void 0:s.length)>0&&r(C.Nw.setIsInitTableNodesReady(!0))}),[r,d,null===s||void 0===s?void 0:s.length,j]),{isReady:d}}function k(e,t,i){const a=(0,y.I)(),l=(0,y.v)((i=>{var n;return null===(n=i.project.entities[e])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===t))})),r=(0,y.v)((e=>f()(t)?void 0:b.TW.selectById(e,t))),s=(0,y.v)((e=>f()(t)?void 0:b.DG.selectById(e,t))),d=(0,y.v)((e=>e.tableNode.selectedViews&&l?e.tableNode.selectedViews[l.id]:void 0)),{error:c,data:u,mutate:p}=(0,o.ZP)(l?["tableNode/".concat(l.id,"/").concat(d),l.id,l.type,d,i]:null,(t=>{let[i,n,o,l,r]=t;const s=o===m.e.bigTable?w.Zl:w.ZL;return a(s({projectId:e,id:n,viewId:l,shareParams:{type:null===r||void 0===r?void 0:r.type,token:null===r||void 0===r?void 0:r.token},userToken:null===r||void 0===r?void 0:r.userToken}))}));return(0,n.useEffect)((()=>{null!==r&&void 0!==r&&r.hasAppendRows&&null!==r&&void 0!==r&&r.id&&a((0,w.o0)({projectId:e,id:null===r||void 0===r?void 0:r.id}))}),[a,null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.hasAppendRows,e]),(0,n.useEffect)((()=>{null!==s&&void 0!==s&&s.id&&(a(b.Nw.synced({id:null===s||void 0===s?void 0:s.id,projectID:e})),p())}),[a,p,null===s||void 0===s?void 0:s.id,e]),{error:c,isFetching:l&&!c&&!u||(!0===(null===r||void 0===r?void 0:r.more)||!0===(null===r||void 0===r?void 0:r.syncing))&&r.type!==m.e.bigTable,data:r}}},54034:(e,t,i)=>{"use strict";i.d(t,{v3:()=>H});var n=i(57435),o=i(95620),a=i(55349),l=i.n(a),r=i(18878),s=i.n(r),d=i(36999),c=i.n(d),u=i(39427),p=i.n(u),h=i(74720),v=i.n(h),g=i(55690),f=i(48828),m=i(86183),y=i(56765),w=i(17646),b=i.n(w),C=i(7070),x=i.n(C),I=i(53813),j=i.n(I),M=i(23903),k=i.n(M),T=i(96271),E=i(46131),P=i(62618),O=i.n(P),_=i(13307),S=i.n(_),N=i(30423),L=i(84377),D=i(1714),R=i(27052),Z=i(49210),A=i(30731),F=i(17181),z=i(14210);const B=[2,48,80],V=[1,4,8];function H(e){let{projectId:t,visLayers:i,dataLayers:a,layerNodes:r,onSetColorDomain:d,showOutlineLegend:c=!0}=e;const u=(0,o.Z)(),p=(0,N.v)((e=>r||(t?e.project.layerNodes[t]:void 0))),h=(0,n.useMemo)((()=>{const e=null===p||void 0===p?void 0:p.reduce(((e,t)=>("group"===t.type&&e.push({order:t.order,children:O()(p.filter((e=>e.parentID===t.id)),"order")}),t.parentID||"group"===t.type||e.push(t),e)),[]);return O()(e,"order").flatMap((e=>"children"in e?e.children:e))}),[p]),v=(0,N.v)((e=>t?e.map.hiddenLayerIds[t]:void 0)),g=(0,N.v)(L.zO),[w,C]=(0,n.useState)([]),I=(0,N.v)(R.EM.selectAll),M=(0,N.v)(D.TW.selectAll);return d.current=(e,t,i)=>{const n=G(u,t,i);C((t=>{const i=t.findIndex((t=>t.id===e));return-1!==i&&Object.assign(t[i],{legends:n}),[...t]}))},(0,n.useMemo)((()=>{const e=x()(h,(e=>{var t,n,o;if("group"===e.type)return;const r=k()(i,(t=>t.id===e.id));if(!r)return{id:e.id,title:e.name,layerType:e.type,parentID:e.parentID,visible:!(null!==v&&void 0!==v&&v.includes(e.id))};if(!(r instanceof y.zi)&&!(r instanceof y.K7))return void console.warn("Layer ".concat(r.id," is not supported in legend"));if(!r.configManager||!r.props.data)return;const d="region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType),p=k()(a,(e=>e.id===r.id)),h=r.props.data.features,w=r.configManager,C=r.props.customProps.name,T=r.props.customProps.layerType,P=r.props.customProps.tableNodeID,O=k()(M,(e=>e.id===P)),_=r.props.customProps.isVectorTile?null===(n=r.props.customProps.vtInfo)||void 0===n?void 0:n.columns:null===O||void 0===O?void 0:O.columns,S=r.props.customProps.members,N=g[r.id]?(0,z.T)({mapInfo:g[r.id],columns:_,customizeIcons:I}):w.config,L=k()(_,(e=>e.id===N.fieldConfig.regionIndexStatsID)),D=k()(_,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.fillID)})),R=k()(_,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.bivariateFillID)})),A=k()(_,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.outlineID)})),F=k()(_,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.outlineWidthID)})),H=k()(_,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.radiusID)})),W=function(e){let{intl:t,features:i,layerType:n,layerConfig:o,configManager:a,isVectorTile:r,fillFieldTypeOptions:d,outlineFieldTypeOptions:c,members:u,showOutlineLegend:p,tableNode:h}=e;const{fillConfig:v,outlineConfig:g,bivariateFillConfig:y,flowConfig:w,fieldConfig:C,pathConfig:I,odLineConfig:M}=o;let k=function(e){var t;let{layerType:i,intl:n,flowConfig:o,fillConfig:a,fieldConfig:l,features:r,typeOptions:s,members:d,configManager:c,isVectorTile:u}=e;const p=null===a||void 0===a?void 0:a.fillMethod,h=null===l||void 0===l?void 0:l.fillFieldType,v=null!==(t=null===a||void 0===a?void 0:a.thresholds)&&void 0!==t?t:[],g=j()((null===a||void 0===a?void 0:a.icons)||{}),f=U(i,a,o),m=q({layerType:i,colors:f,intl:n,fillID:l.fillID,fillConfig:a,fillType:"fill",features:r,fieldConfig:l,fillFieldType:h,typeOptions:s,fillMethod:p,icons:g,members:d,fillScale:c.fillScale,thresholds:v,isVectorTile:u});return m}({layerType:n,intl:t,flowConfig:w,fillConfig:v,fieldConfig:C,features:i,typeOptions:d,members:u,configManager:a,isVectorTile:r});const T=function(e){var t;let{layerType:i,intl:n,flowConfig:o,outlineConfig:a,fieldConfig:l,features:r,typeOptions:s,members:d,configManager:c,isVectorTile:u}=e;if(!["pointLinePolygon"].includes(i))return[];const p=null===l||void 0===l?void 0:l.outlineWidthID,h=null===a||void 0===a?void 0:a.strokeWeight,v=null===a||void 0===a?void 0:a.strokeOpacity;if(0===v)return[];if(!p&&0===h)return[];const g=null===a||void 0===a?void 0:a.strokeMethod,f=null===l||void 0===l?void 0:l.outlineFillFieldType,m=null!==(t=null===a||void 0===a?void 0:a.thresholds)&&void 0!==t?t:[],y=U(i,a,o),w=q({layerType:i,colors:y,intl:n,fillID:l.outlineID,fillConfig:a,fillType:"outline",features:r,fieldConfig:l,fillFieldType:f,typeOptions:s,fillMethod:g,members:d,fillScale:c.outlineStrokeScale,thresholds:m,isVectorTile:u});return w}({layerType:n,intl:t,flowConfig:w,outlineConfig:g,fieldConfig:C,features:i,typeOptions:c,members:u,configManager:a,isVectorTile:r}),P=function(e,t,i){const{odLineConfig:n,outlineConfig:o}=t;let a=[];if(null===e||void 0===e||!e.outlineWidthID)return a;if(null!==n&&void 0!==n&&n.widthRange&&null!==o&&void 0!==o&&o.colors){var l,r,s,d,c,u;const t=null===(l=i.outlineWidthScale)||void 0===l?void 0:l.domain(),n=$(Math.floor(null===(r=i.outlineWidthScale)||void 0===r?void 0:r.invert(V[0])),t),p=$(Math.floor(null===(s=i.outlineWidthScale)||void 0===s?void 0:s.invert(V[1])),t),h=$(Math.floor(null===(d=i.outlineWidthScale)||void 0===d?void 0:d.invert(V[2])),t),v=e.outlineID?"#c1c7d0":null!==(c=null===(u=o.colors)||void 0===u?void 0:u[0])&&void 0!==c?c:"#c1c7d0";a=[{color:v,value:n,name:"".concat(n)},{color:v,value:p,name:"".concat(p)},{color:v,value:h,name:"".concat(h)}]}return a}(C,o,a),O=function(e,t,i,n){let o=[];if(null===e||void 0===e||!e.radiusID||"icon"===n)return o;const{radiusConfig:a}=t;if(null!==a&&void 0!==a&&a.radiusRange&&!a.fixedToMeter){var l,r,s,d;const e=null===(l=i.radiusScale)||void 0===l?void 0:l.domain(),t=$(Math.floor(null===(r=i.radiusScale)||void 0===r?void 0:r.invert(B[0])),e),n=$(Math.floor(null===(s=i.radiusScale)||void 0===s?void 0:s.invert(B[1])),e),a=$(Math.floor(null===(d=i.radiusScale)||void 0===d?void 0:d.invert(B[2])),e),c="#c1c7d0";o=[{color:c,value:t,name:"".concat(t)},{color:c,value:n,name:"".concat(n)},{color:c,value:a,name:"".concat(a)}]}return o}(C,o,a,n);(function(e,t){const i=null===e||void 0===e?void 0:e.enable;return i&&s()(null===t||void 0===t?void 0:t.fillOpacity)&&s()(null===e||void 0===e?void 0:e.fillOpacity)})(y,v)&&(k=function(e,t){let i=[];if(null===t||void 0===t||!t.colors||null===e||void 0===e||!e.colors||!t.fillOpacity||!e.fillOpacity)return i;const{mixedColorHigh:n,mixedColorLow:o,colorHigh:a,bivariateColorHigh:l}=(0,E.pE)([t.colors[0],t.colors[t.colors.length-1],e.colors[0],e.colors[e.colors.length-1]],[t.fillOpacity,e.fillOpacity]);return i=[{color:(0,E.s8)(o),name:"bottomLeft"},{color:(0,E.s8)(a),name:"bottomRight"},{color:(0,E.s8)(l),name:"topLeft"},{color:(0,E.s8)(n),name:"topRight"}],i}(y,v));"region"===n&&(k=function(e){var t;let{layerConfig:i,features:n,intl:o}=e;const a=[],{regionConfig:r}=i,s=(null===r||void 0===r?void 0:r.fillMethod)||"quantize",d=null!==(t=null===r||void 0===r?void 0:r.thresholds)&&void 0!==t?t:[],c=null===r||void 0===r?void 0:r.indexStatsMethod,u=null===r||void 0===r?void 0:r.colors;if(!u||null===u||void 0===u||!u.length||!n||0===n.length)return[];let p=null;const h=function(){let{features:e,propertyPath:t,method:i,indexStatsMethod:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return[];let o=Number.MAX_SAFE_INTEGER,a=0,l=[];return l=x()(e,(e=>{const i=(0,E.oe)(e,t),l=(0,E.oe)(e,"aggregationMethod")||n,r=parseFloat((0,E.Bb)(i||[],l));return o=r<o?r:o,a=r>a?r:a,r})),"quantize"===i||"continuous"===i?[o,a]:l}({features:n,propertyPath:"aggregationValue",method:s,indexStatsMethod:c});"quantize"===s&&(p=(0,f.Z)().domain(h).range(u));"quantile"===s&&(p=(0,m.Z)().domain(h).range(u));if("customize"===s){const e=[];0===d.length&&(p=(0,m.Z)().domain(h).range(u),e.push(...u.map((e=>{const[t,i]=p.invertExtent(e);return[(0,Z.SH)(t),(0,Z.SH)(i)]}))));for(let t=0;t<d.length-1;t++)e.push([d[t],d[t+1]]);return a.push(...x()(u,((t,i)=>{var n,a;const r=null===(n=e[i])||void 0===n?void 0:n[0],s=null===(a=e[i])||void 0===a?void 0:a[1];return{color:t,values:[r,s],name:l()(r)||l()(s)?"":"".concat(0===i?o.$t({id:"mFYgAX",defaultMessage:"Less"}):(0,Z.IG)(r),"-").concat(i===u.length-1?o.$t({id:"I5NMJ8",defaultMessage:"More"}):(0,Z.IG)(s))}}))),a}return b()(u,(e=>{var t;const i=null===(t=p)||void 0===t?void 0:t.invertExtent(e);a.push({color:e,values:i,name:l()(null===i||void 0===i?void 0:i[0])||l()(null===i||void 0===i?void 0:i[1])?"":"".concat((0,Z.IG)(i[0]),"-").concat((0,Z.IG)(i[1]))})})),a}({layerConfig:o,features:i,intl:t}));let _=[],S=[];if("path"===n){var N,L;if(null!==I&&void 0!==I&&I.isCustomEndpointColor&&I.startPointColor&&I.endpointColor&&(_=[{color:I.startPointColor,name:t.$t({id:"wwoByg",defaultMessage:"Origin"})},{color:I.endpointColor,name:t.$t({id:"3K+cZG",defaultMessage:"Dest."})}]),null!==I&&void 0!==I&&I.showWaypoint&&null!==(N=I.colors)&&void 0!==N&&N[0])_=[..._,{color:null===(L=I.colors)||void 0===L?void 0:L[0],name:t.$t({id:"UYcDWF",defaultMessage:"Waypoint"})}]}"odLine"===n&&null!==M&&void 0!==M&&M.originColor&&null!==M&&void 0!==M&&M.destinationColor&&!C.fillID&&(S=[{color:null===M||void 0===M?void 0:M.originColor,name:t.$t({id:"wwoByg",defaultMessage:"Origin"})},{color:null===M||void 0===M?void 0:M.destinationColor,name:t.$t({id:"3K+cZG",defaultMessage:"Dest."})}],k=[]);return{legends:[...k],endpointsLegends:_,odLineLegends:S,outlineWidthFieldLegends:p?[...P]:[],outlineFillFieldLegends:p?[...T]:[],radiusLegends:O}}({intl:u,features:h,visLayer:r,layerType:T,layerConfig:N,configManager:w,isVectorTile:r.props.customProps.isVectorTile,fillFieldTypeOptions:null===D||void 0===D?void 0:D.typeOptions,outlineFieldTypeOptions:null===A||void 0===A?void 0:A.typeOptions,members:S,showOutlineLegend:c,tableNode:O}),G=null===(o=N.bivariateFillConfig)||void 0===o?void 0:o.enable;return{...W,fillField:d?L:D,bivariateFillField:R,outlineField:A,outlineWidthField:F,radiusField:H,title:C,id:r.id,isBivariate:G,layerType:T,layerDesc:null===p||void 0===p?void 0:p.mapInfo.layerDesc}})).filter((e=>void 0!==e));C(e)}),[i,a,h,v,g,u,I,M,c]),w}function W(e,t,i){const n=[],o=[];for(let a=0;a<t.length-1;a++)o.push([t[a],t[a+1]]);return n.push(...x()(i,((t,n)=>{var a,r;const s=null===(a=o[n])||void 0===a?void 0:a[0],d=null===(r=o[n])||void 0===r?void 0:r[1];return{color:t,values:[s,d],name:l()(s)||l()(d)?"":"".concat(0===n?e.$t({id:"mFYgAX",defaultMessage:"Less"}):(0,Z.IG)(s),"-").concat(n===i.length-1?e.$t({id:"I5NMJ8",defaultMessage:"More"}):(0,Z.IG)(d))}}))),n}function U(e,t,i){const n=null===i||void 0===i?void 0:i.colorScheme;return"flow"===e&&n?T.FA[7][n]:j()((null===t||void 0===t?void 0:t.colors)||[])}function q(e){let{layerType:t,colors:i,intl:n,fillID:o,fillConfig:a,features:r,fieldConfig:d,fillType:u,fillFieldType:p,typeOptions:h,fillMethod:f,icons:m,members:y,fillScale:w,thresholds:C,isVectorTile:I}=e,j=[];if("heatmap"===t)return i.forEach((e=>{j.push({color:e,name:n.$t({id:"WEDRDw",defaultMessage:"Heatmap"})})})),j;if(o&&a){var M;const{legends:e,length:o}=function(e){let{features:t,fieldConfig:i,layerType:n,fillType:o,fillMethod:a,intl:r}=e,s=0;const d=[],c="fill"===o?null===i||void 0===i?void 0:i.fillID:null===i||void 0===i?void 0:i.outlineID;b()(t,(e=>{l()(v()(e.properties,c))&&s++})),s&&("ordinal"===a&&"icon"===n?d.push({color:"#FFF",name:"".concat(r.$t({id:"UG5qoS",defaultMessage:"No data"}),"(").concat(s,")"),icon:"location"}):d.push({color:"transparent",name:"".concat(r.$t({id:"UG5qoS",defaultMessage:"No data"}),"(").concat(s,")")}));return{legends:d,length:s}}({features:r,fieldConfig:d,layerType:t,fillType:u,fillMethod:f,intl:n});if(!I&&o===r.length)return j;if("string"===p){var E,P;const e=null!==(E=a._uniqDomain)&&void 0!==E?E:[],i=null!==(P=a.colors)&&void 0!==P?P:[],n=(0,g.Z)().domain(e).range(i),o=x()(e,((e,i)=>{const o={color:n(e)||"",values:[0,1],name:e};if("icon"===t){const e=(null===m||void 0===m?void 0:m[i])||"location";o.icon=e}return o}));j.push(...o)}if("user"===p){var O;const e=null!==(O=a._uniqDomain)&&void 0!==O?O:[],t=a.colors,i=(0,g.Z)().domain(e).range(t),n=x()(e,(e=>{const t=i(e),n=e?String(e).split(","):[],o=x()(n,(e=>{var t;const i=k()(y,(t=>t.id===Number(e)||t.id===e));return null!==(t=null===i||void 0===i?void 0:i.name)&&void 0!==t?t:""}));return{color:t||"",values:n.map((e=>s()(e)?Number(e):e)),name:(null===o||void 0===o?void 0:o.join(", "))||""}}));j.push(...n)}if("singleChoice"===p||"lookup"===p&&(null!==h&&void 0!==h&&h.choices||null!==h&&void 0!==h&&null!==(M=h.lookupColumnTypeOptions)&&void 0!==M&&M.choices)){var _,S;const e=a.colorScheme===F.nC,i=(null===h||void 0===h?void 0:h.choices)||(null===h||void 0===h||null===(_=h.lookupColumnTypeOptions)||void 0===_?void 0:_.choices)||[],n=i.map((e=>e.id)),o=null!==(S=a.colors)&&void 0!==S?S:[];j.push(...x()(n,((n,a)=>{var l,r,s;const d=i.find((e=>e.id===n)),u=d?[(0,A.SD)(c()(d.id)),(0,A.SD)(c()(d.id))]:void 0,p=null===d||void 0===d?void 0:d.color,h=p?(0,T.lK)(null===d||void 0===d?void 0:d.color)?p.bgColor:T.R$[p]:"#fff",v={color:e?h:null!==(l=null!==(r=o[a])&&void 0!==r?r:o[a%o.length])&&void 0!==l?l:"#fff",values:u,name:null!==(s=null===d||void 0===d?void 0:d.name)&&void 0!==s?s:""};return"icon"===t&&d&&m&&(v.icon=m[d.id]||"location"),v})))}else"quantile"!==f&&"quantize"!==f||"string"===p?"customize"===f&&C.length&&i&&j.push(...W(n,C,i)):j.push(...x()(i,((e,i)=>{var n;const o=null===w||void 0===w?void 0:w.invertExtent(e);return{color:e,values:o,icon:"icon"===t?null!==(n=null===m||void 0===m?void 0:m[i])&&void 0!==n?n:"location":void 0,name:l()(null===o||void 0===o?void 0:o[0])||l()(null===o||void 0===o?void 0:o[1])?"":"".concat((0,Z.IG)(o[0]),"-").concat((0,Z.IG)(o[1]))}})));j.push(...e)}else j=[{icon:"icon"===t?null===m||void 0===m?void 0:m[0]:void 0,color:i[0],name:"fill"===u?n.$t({id:"HKEVKu",defaultMessage:"Fill Color"}):n.$t({id:"aEhjYg",defaultMessage:"Outline"})}];return j}const G=S()(((e,t,i)=>{var n,o;const a=[],{fillMethod:r,thresholds:s}=t.fillConfig,d=null!==(n=null===(o=t.fillConfig.colors)||void 0===o?void 0:o.filter((e=>e)))&&void 0!==n?n:[];let c;return"quantize"===r&&(c=(0,f.Z)().domain(i).range(d)),"quantile"===r&&(c=(0,m.Z)().domain(i).range(d)),"customize"===r&&null!==s&&void 0!==s&&s.length&&a.push(...W(e,s,d)),c&&b()(d,(e=>{var t;const i=null===(t=c)||void 0===t?void 0:t.invertExtent(e);i&&a.push({color:e,name:p()(i,(e=>!l()(e)&&!Number.isNaN(e)))?"".concat((0,Z.IG)(i[0]),"-").concat((0,Z.IG)(i[1])):""})})),a}),30,{leading:!0,trailing:!0});function $(e,t){if(t){return e<t[0]?"-":e}return e}},14210:(e,t,i)=>{"use strict";i.d(t,{T:()=>Je,r:()=>$e});var n=i(57435),o=i(27371),a=i(95620),l=i(7070),r=i.n(l),s=i(15972),d=i.n(s),c=i(77995),u=i.n(c),p=i(55349),h=i.n(p),v=i(468),g=i.n(v),f=i(74720),m=i.n(f),y=i(15288),w=i.n(y),b=i(15609),C=i.n(b),x=i(13682),I=i.n(x),j=i(23903),M=i.n(j),k=i(56765),T=i(74110),E=i(89983),P=i(30423),O=i(12167),_=i(76592),S=i(65557),N=i(27052),L=i(95436),D=i(33625),R=i(41711),Z=i(90874),A=i(57323),F=i.n(A),z=i(28967),B=i(91986),V=i(17646),H=i.n(V);class W extends z.z{static transformToFlowMapData(e,t){const i=[],n=[],o=t.config;return H()(e.features,(e=>{var a;const l=e,r=t.getPosition(e),s=t.getTargetPosition(e),d=r.join(),c=s.join();var u,p;-1===i.findIndex((e=>e.id===d))&&i.push({id:d,position:r,name:null===(u=l.properties)||void 0===u?void 0:u.name});-1===i.findIndex((e=>e.id===c))&&i.push({id:c,position:s,name:null===(p=l.properties)||void 0===p?void 0:p.name});n.push({dest:c,origin:d,count:null!==o&&void 0!==o&&null!==(a=o.fieldConfig)&&void 0!==a&&a.weightID?t.getWeight(l):0})})),{locations:i,flows:n}}renderLayers(){var e;const{id:t,data:i,pickable:n}=this.props,o=this.configManager;if(!o||!i)return null;const a=W.transformToFlowMapData(i,o);return[new B.$G({id:"".concat(t,"-flow"),data:a,fadeOpacityEnabled:!0,pickable:n,opacity:o.flowOpacity,darkMode:o.darkMode,colorScheme:null!==(e=o.colorScheme)&&void 0!==e?e:"Blues",fadeEnabled:o.fadeEnabled,fadeAmount:o.fadeAmount,locationTotalsEnabled:o.locationtotalsEnabled,clusteringEnabled:o.clusteringEnabled,clusteringAuto:o.clusteringAuto,clusteringLevel:o.clusteringLevel,getLocationId:o.getLocationId,getLocationLon:o.getLocationLon,getLocationLat:o.getLocationLat,getFlowDestId:o.getFlowDestId,getFlowOriginId:o.getFlowOriginId,getFlowMagnitude:o.getFlowMagnitude,getLocationName:o.getLocationName,updateTriggers:{getLocationId:o.getLocationId,getLocationLon:o.getLocationLon,getLocationLat:o.getLocationLat,getFlowDestId:o.getFlowDestId,getFlowOriginId:o.getFlowOriginId,getFlowMagnitude:o.getFlowMagnitude,getLocationName:o.getLocationName}})]}}F()(W,"layerName","FlowLayer");const U=e=>{var t;const{flowConfig:i,fillConfig:n}=e;return{flowOpacity:null!==(t=null===n||void 0===n?void 0:n.fillOpacity)&&void 0!==t?t:.8,darkMode:i.darkMode,colorScheme:i.colorScheme,fadeEnabled:i.fadeEnabled,fadeAmount:100*i.fadeAmount,locationtotalsEnabled:i.locationTotalsEnabled,clusteringEnabled:i.clusteringEnabled,clusteringAuto:i.clusteringAuto,clusteringLevel:i.clusteringLevel,getLocationId:e=>e.id,getLocationLon:e=>e.position[0],getLocationLat:e=>e.position[1],getFlowDestId:e=>e.dest,getFlowOriginId:e=>e.origin,getFlowMagnitude:e=>e.count,getLocationName:e=>e.name}};var q=i(49492),G=i(17096),$=i(25625),J=i(64359),K=i(44219),Y=i(37588),Q=i.n(Y),X=i(8942),ee=i.n(X),te=i(30731),ie=i(22138),ne=i(74797);const oe={name:"Maptable H3 Tile",version:"1.0",id:"maptableH3Tile",module:"maptable",extensions:[],mimeTypes:["application/vnd.maptable-h3-tile"],category:"geometry",parse:async e=>ae(e),parseSync:ae,worker:!1,options:{}};function ae(e){if(!e)return null;try{return JSON.parse((new TextDecoder).decode(e))}catch{return null}}(0,K.fh)([oe]);const le={...G.Z.defaultProps};class re extends G.Z{initializeState(){super.initializeState(),this.setState({binary:!0,data:null,tileJSON:null})}updateState(e){var t;let{props:i,oldProps:n,context:o,changeFlags:a}=e;if(a.dataChanged){const e=this.props.data;this.setState({data:e})}null!==(t=this.state)&&void 0!==t&&t.data&&super.updateState({props:i,oldProps:n,context:o,changeFlags:a})}getTileData(e){const t=(0,$.z0)(this.state.data,e);if(!t)return Promise.reject("Invalid URL");const i=this.getLoadOptions(),{fetch:n}=this.props,{signal:o}=e;return n(t,{propName:"data",layer:this,loadOptions:i,signal:o})}renderSubLayers(e){if(null===e.data||0===e.data.length)return null;const t={...e,getHexagon:e=>e.hex,highPrecision:!0};return new J.ZP(t)}}F()(re,"layerName","H3TileLayer"),F()(re,"defaultProps",le);class se extends z.z{renderLayers(){var e,t,i;const n=function(e){var t,i,n,o,a,l;const{id:r,customProps:s}=e,{tableNodeID:d,vtParams:c,shareParams:u,vtInfo:p}=s;if(!r||!d)return null;const h=null===u||void 0===u?void 0:u.userToken,v="".concat(ne.Z.baseApiURL,"/layernodes").concat(h?"/shared":"")+"/h3/".concat(d,"/").concat(r,"/{z}/{x}/{y}/?v=").concat(null!==(t=null===c||void 0===c?void 0:c.recreateAt)&&void 0!==t?t:0).concat(h?"&userToken="+h:"")+(null!==(i=ne.Z.requestParams)&&void 0!==i&&i.cors_disable_token?"&cors_disable_token="+ne.Z.requestParams.cors_disable_token:"");return{id:"".concat(r,"-h3t"),data:v,loadOptions:{fetch:{method:"GET",headers:{Authorization:Q().get(ie.o3)}}},maxZoom:null!==(n=null===p||void 0===p||null===(o=p.metadata)||void 0===o?void 0:o.maxzoom)&&void 0!==n?n:0,minZoom:null!==(a=null===p||void 0===p||null===(l=p.metadata)||void 0===l?void 0:l.minzoom)&&void 0!==a?a:0}}(this.props);if(!this.configManager||!n)return null;const{pickable:o,autoHighlight:a,customProps:l}=this.props,r=this.configManager,{setToRedraw:s}=this.context.userData,d=function(e){const{layerFilter:t,timeline:i}=e,n=(0,q.ls)(t);return{...(0,Z.Xq)(i),getFilterValue:e=>{const t=[n?(0,te.lv)(e,n,!0):1,1];if(null!==i&&void 0!==i&&i.columnId){const n=e[i.columnId];t[1]=null!==n&&void 0!==n?n:0}return t}}}(l),{timeline:c,layerFilter:u}=l;ee()(null===(e=this.state.filter)||void 0===e?void 0:e.timelineColumnId,null===c||void 0===c?void 0:c.columnId)&&ee()(null===(t=this.state.filter)||void 0===t?void 0:t.layerFilter,u)||this.setState({filter:{timelineColumnId:null===c||void 0===c?void 0:c.columnId,layerFilter:u}}),ee()(this.state.config,r.config)||this.setState({config:r.config});const p=null!==(i=r.config.bivariateFillConfig)&&void 0!==i&&i.enable?r.getBlendColor:r.getFillColor,h={...n,onViewportLoad:()=>{setTimeout((()=>{null===s||void 0===s||s()}))},lineWidthMinPixels:0,lineWidthUnits:r.lineWidthUnits,getFillColor:e=>p({properties:e}),getLineWidth:e=>r.getLineWidth({properties:e}),getLineColor:e=>r.getLineColor({properties:e}),getElevation:e=>r.getElevation({properties:e}),extruded:r.getExtruded(),elevationScale:r.getElevationScale(),stroked:!0,filled:!0,pickable:o,autoHighlight:a,updateTriggers:{getFillColor:this.state.config,getLineWidth:this.state.config,getLineColor:this.state.config,getElevation:this.state.config,getFilterValue:this.state.filter},...d};return[new re(h)]}}F()(se,"layerName","H3tLayer");var de=i(84377),ce=i(55690),ue=i(75538),pe=i.n(ue),he=i(46131),ve=i(78587),ge=i.n(ve),fe=i(75091),me=i.n(fe),ye=i(21740),we=i(17181);const be=(e,t,i)=>{const{fieldConfig:n,fillConfig:o,outlineConfig:a}=e;if(null!==n&&void 0!==n&&n.fillID&&"singleChoice"===n.fillFieldType){var l;const e=o.colorScheme===we.nC,t=null!==(l=o._ordinalDomain)&&void 0!==l?l:[],a=e?o._ordinalColors:o.colors,r=(0,ce.Z)().domain(t).range(a);i.getFillColor=e=>{return h()((0,he.oe)(e,null===n||void 0===n?void 0:n.fillID))?[255,255,255,255]:(0,ye.Z)(r((0,he.oe)(e,null===n||void 0===n?void 0:n.fillID)),{format:"array",alpha:255*(null!==(t=o.fillOpacity)&&void 0!==t?t:1)});var t}}if(null!==n&&void 0!==n&&n.outlineID&&"singleChoice"===n.outlineFillFieldType){var r;const e=(null===a||void 0===a?void 0:a.colorScheme)===we.nC,t=null!==(r=null===a||void 0===a?void 0:a._ordinalDomain)&&void 0!==r?r:[],o=e?null===a||void 0===a?void 0:a._ordinalColors:null===a||void 0===a?void 0:a.colors,l=(0,ce.Z)().domain(t).range(o);i.getLineColor=e=>{return h()((0,he.oe)(e,null===n||void 0===n?void 0:n.outlineID))?[255,255,255,255]:(0,ye.Z)(l((0,he.oe)(e,null===n||void 0===n?void 0:n.outlineID)),{format:"array",alpha:255*(null!==(t=null===a||void 0===a?void 0:a.strokeOpacity)&&void 0!==t?t:1)});var t}}},Ce=(e,t,i)=>{const{fieldConfig:n,fillConfig:o,outlineConfig:a}=e;if(null!==n&&void 0!==n&&n.fillID&&"string"===n.fillFieldType){var l,r;const e=null!==(l=o._uniqDomain)&&void 0!==l?l:[],t=null!==(r=o.colors)&&void 0!==r?r:[],a=(0,ce.Z)().domain(e).range(t);i.getFillColor=e=>{return h()((0,he.oe)(e,null===n||void 0===n?void 0:n.fillID))?[255,255,255,255]:(0,ye.Z)(a((0,he.oe)(e,null===n||void 0===n?void 0:n.fillID)),{format:"array",alpha:255*(null!==(t=o.fillOpacity)&&void 0!==t?t:1)});var t}}if(null!==n&&void 0!==n&&n.outlineID&&"string"===n.outlineFillFieldType){var s;const e=null!==(s=null===a||void 0===a?void 0:a._uniqDomain)&&void 0!==s?s:[],t=null===a||void 0===a?void 0:a.colors,o=(0,ce.Z)().domain(e).range(t);i.getLineColor=e=>{return h()((0,he.oe)(e,null===n||void 0===n?void 0:n.outlineID))?[255,255,255,255]:(0,ye.Z)(o((0,he.oe)(e,null===n||void 0===n?void 0:n.outlineID)),{format:"array",alpha:255*(null!==(t=null===a||void 0===a?void 0:a.strokeOpacity)&&void 0!==t?t:1)});var t}}},xe=(e,t,i)=>{const{fieldConfig:n,fillConfig:o,outlineConfig:a}=e;if(null!==n&&void 0!==n&&n.fillID&&"user"===n.fillFieldType){var l;const e=null!==(l=o._uniqDomain)&&void 0!==l?l:[],t=o.colors,a=(0,ce.Z)().domain(e).range(t);i.getFillColor=e=>{const t=(0,he.oe)(e,null===n||void 0===n?void 0:n.fillID);if(h()(t))return[255,255,255,255];{var i;const e=ge()(t)?pe()(t,","):me()(t)?t.id:t;return(0,ye.Z)(a(e),{format:"array",alpha:255*(null!==(i=o.fillOpacity)&&void 0!==i?i:1)})}}}if(null!==n&&void 0!==n&&n.outlineID&&"user"===n.outlineFillFieldType){var r;const e=null!==(r=null===a||void 0===a?void 0:a._ordinalDomain)&&void 0!==r?r:[],t=null===a||void 0===a?void 0:a.colors,o=(0,ce.Z)().domain(e).range(t);i.getLineColor=e=>{const t=(0,he.oe)(e,null===n||void 0===n?void 0:n.outlineID);if(h()(t))return[255,255,255,255];{var i;const e=ge()(t)?pe()(t,","):me()(t)?t.id:t;return(0,ye.Z)(o(e),{format:"array",alpha:255*(null!==(i=null===a||void 0===a?void 0:a.strokeOpacity)&&void 0!==i?i:1)})}}}};var Ie=i(13484),je=i(78062),Me=i(40978);function ke(e){const t=function(e){if(!e)return;const t=(0,je.rS)(e);return Array.isArray(t)?"POINT(".concat(t[1],"  ").concat(t[0],")"):void 0}(e);if(t)return(0,Me.HF)(t)}var Te=i(69151),Ee=i(22601),Pe=i(62502),Oe=i(33718),_e=i(41439),Se=i(47752),Ne=i(68429),Le=i(65270);const De="sider_sider__cBw26",Re="sider_siderBody__HlKNE",Ze="sider_wrap__IUkNn",Ae="sider_collapseSide__j6IuM",Fe="sider_isFloat__5yc+F",ze="sider_header__PL5L6",Be="sider_siderBtn__XysiD",Ve="sider_siderIcon__OtFEG";var He=i(94553);const We=240,Ue=220;function qe(){const{isMobile:e}=(0,Le.F)();return{width:e?Ue:We}}function Ge(e){const{isFloat:t,type:i,visible:n,id:o}=e,a=(0,P.v)((e=>e.project.tableSiderVisible)),l=(0,P.v)((e=>e.project.mapSiderVisible)),r=null!==n&&void 0!==n?n:"map"===i?l:a,{width:s}=qe();return(0,He.jsx)("div",{id:o,className:(0,Oe.default)(Ze,t?Fe:"",r?"":Ae),"data-testid":"leftSideBar",children:(0,He.jsx)(_e.Z.Sider,{className:(0,Oe.default)(De),width:s,children:(0,He.jsx)("div",{className:Re,children:e.children})})})}Ge.Header=function(e){let{visible:t,children:i,className:n,buttonClassName:o,onSiderToggle:l}=e;const r=(0,a.Z)();return(0,He.jsxs)("div",{className:(0,Oe.default)(ze,n),children:[i,(0,He.jsx)("div",{className:(0,Oe.default)(Be,o),onClick:l,"data-testid":"collapsedBtn","data-open":t,children:(0,He.jsx)(Se.Z,{title:t?r.$t({id:"eOJ4QU",defaultMessage:"Collapse sidebar"}):r.$t({id:"CbhFih",defaultMessage:"Pin sidebar"}),children:(0,He.jsx)(Ne.Z,{className:Ve,type:"doubleArrowLeft"})})})]})};function $e(e){var t,i,l;const{projectId:s,layers:c=[],disableInfoWindow:p,getInfoWindowIds:v,map:f,onSetColorDomain:y,activeLabels:w,isDualView:b,mapId:C,enablePickingMultiObjects:x}=e,I=(0,P.I)(),j=(0,a.Z)(),M=(0,P.v)((e=>e.map.editor)),A=(0,O.o1)(),F=(0,P.v)((e=>e.map.timeline)),z=(0,P.v)((e=>e.project.mapSiderVisible)),B=(0,P.v)((e=>e.project.layerSettingsVisible)),V=(0,P.v)((e=>e.map.spatialAnalysis)),H=(0,P.v)((e=>e.map.stat)),{width:G}=qe(),{isMobile:$}=(0,Le.F)(),J=(0,n.useMemo)((()=>({x:z?B?2*G:G:0,y:0})),[B,z,G]),[K,Y]=(0,n.useState)(new Map),Q=(0,n.useRef)(K),X=(0,P.v)(de.pi),ee=(0,P.v)(N.EM.selectAll),te=(0,P.v)((e=>e.map.tripsLayerTimeLine)),ie=(0,P.v)((e=>e.layerNode.vtLayersParams)),ne=null===f||void 0===f||null===(t=f.deckLayer)||void 0===t?void 0:t.getDeckInstance(),oe=(0,n.useCallback)((e=>{var t,i;const n=e.object;let a=null===(t=n.properties)||void 0===t?void 0:t.layerID;!a&&null!==(i=e.layer)&&void 0!==i&&i.id&&(a=e.layer.id);const l=c.find((e=>e.id===a));if(!l)return;if("cluster"===l.mapInfo.layerType&&f&&e.coordinate&&(f.setCenter(e.coordinate),f.zoomIn()),l.mapInfo.vectorTile&&"heatmap"===l.mapInfo.layerType)return;if(M.isOpen&&M.isEditing&&("Polygon"===n.geometry.type||"MultiPolygon"===n.geometry.type))return a!==M.layerNodeID&&a&&(I(_.Nw.updateSelectedKeys({keys:[a]})),I(S.Nw.updateEditor({layerNodeID:a}))),void I(S.Nw.updateEditorSelectedFeatures(n));if(M.isOpen||M.isAdding||p||!e.layer||l.isAnalysis)return;if("custom"===H.filterType&&e.coordinate&&H.coordinates&&!(0,E.Of)(e.coordinate,H.coordinates))return;const[r,s=C]=e.layer.id&&"string"===typeof e.layer.id?e.layer.id.split(":"):[e.layer.id];if(("clickOtherPOI"===l.infoWindowCloseWay||$)&&I(R.Nw.removeAll()),I(_.Nw.updateSelectedKeys({keys:[r]})),I(S.Nw.updateEditor({layerNodeID:r})),!n||n.cluster)return;const d=ae(l,e,r),u=v();if(d.properties&&!(u.indexOf(d.properties.id)>=0))if(u.length>=L.Gr)o.ZP.error(j.$t({id:"fstDfY",defaultMessage:"Only{count}information windows can be opened"},{count:L.Gr}));else{const{x:t,y:i}=e,n=x?null===ne||void 0===ne?void 0:ne.pickMultipleObjects({x:t,y:i,depth:L.iO}):void 0,o=null===n||void 0===n?void 0:n.map((t=>{const i=c.find((e=>{var i;return e.id===(null===(i=t.object.properties)||void 0===i?void 0:i.layerID)}));if(!i)return;const n=ae(i,t,r);return{geometry:d.geometry,...n.properties,position:(0,D.DE)(e,s,b,J),from:s}})).filter(Boolean),a={geometry:d.geometry,...d.properties,position:(0,D.DE)(e,s,b,J),from:s,list:o};I(R.Nw.add(a)),Pe.g_.emit({tableNodeId:l.tableNodeId,rowId:d.properties.rowID,cellId:d.properties.cellID})}}),[M.isOpen,M.isAdding,M.isEditing,M.layerNodeID,p,H.filterType,H.coordinates,f,C,$,c,I,v,j,b,J,ne,x]);function ae(e,t,i){const n=t.object;if("h3Tile"===e.mapInfo.layerType&&n.hex){var o,a;n.properties={id:n.hex,name:n.hex,tableNodeType:T.e.bigTable,geometry:ke(n.hex)};const t=[{...Ie.A,value:n.hex},...null!==(o=null===(a=e.vtInfo)||void 0===a||null===(a=a.columns)||void 0===a?void 0:a.map((e=>{let t=m()(n,e.id);return"datetime"===e.type&&(t*=Ee.go),{...e,value:t}})))&&void 0!==o?o:[]];Object.assign(n.properties,{...n.properties,layerType:"h3t",layerID:i,tableNodeID:e.tableNodeId,vtInfo:e.vtInfo,editable:!1,cells:t})}else if(e.mapInfo.vectorTile){var l;const t=(null===(l=e.vtInfo)||void 0===l||null===(l=l.columns)||void 0===l?void 0:l.map((e=>{let t=m()(n.properties,e.id);return"datetime"===e.type&&(t*=Ee.go),{...e,value:t}})))||[];Object.assign(n.properties,{...n.properties,layerType:"vt",layerID:e.id,tableNodeID:e.tableNodeId,rowID:n.properties.id,cellID:e.mapInfo.coordinateFieldID,latCellID:e.mapInfo.latitudeFieldID,vtInfo:e.vtInfo,cells:t})}return n}const le=(0,n.useCallback)((e=>{Y((()=>{const t=new Map(r()(e,(e=>[e.id,e])));return Q.current=t,t}))}),[]),re=(0,n.useCallback)((()=>{var e;null===f||void 0===f||null===(e=f.deckLayer)||void 0===e||e.setToRedraw()}),[f]),ce=(0,n.useCallback)(((e,t)=>{I(t?S.Nw.setSpatialAnalysisOverlayVtData(e):S.Nw.setSpatialAnalysisVtData(e))}),[I]),ue=(0,n.useMemo)((()=>function(e){return Array.from(e.values())}(K)),[K]),pe=(0,P.v)((e=>e.map.mapConfig.zoomLevel)),he=(0,n.useMemo)((()=>c.map((e=>{var t,i,n,o;const a=X[e.id]?u()({},e.mapInfo,g()(X[e.id],de.ji),((e,t,i)=>{if(Array.isArray(e)&&Array.isArray(t)&&"colors"===i)return t})):e.mapInfo,l=null===ue||void 0===ue||null===(t=ue.find((t=>t.id===e.id)))||void 0===t?void 0:t.active,r=e.columns,d=e.members,c=Je({mapInfo:a,columns:r,labelVisible:l,customizeIcons:ee,tripsLayerTimeline:te,zoom:pe}),p=(null===(i=V.config)||void 0===i?void 0:i.overlayLayerId)===e.id,h=p||(null===(n=V.config)||void 0===n?void 0:n.layerId)===e.id?e=>{ce(e,p)}:void 0;return function(e){var t;const{layer:i,config:n,customProps:o,pickable:a,currentZoom:l,enableGeofence:r,onClick:s,onSetColorDomain:d}=e,c=(0,k.l7)(n,{extensions:[U,be,Ce,xe,q.RS]}),u=i.mapInfo.layerType,p=i.mapInfo.vectorTile,{timeline:h}=o,v=(0,Z.c3)(r),g=(0,Z.Xq)(h),f=function(e,t){if(t&&e)return e>=t[0]&&e<=t[1];return!0}(l,null===(t=n.visibilityConfig)||void 0===t?void 0:t.visibleRange),m={id:i.id,data:i,configManager:c,autoHighlight:!0,visible:f,customProps:o,pickable:a,onClick:s};switch(u){case"heatmap":return p?new q.Vm(m):new k.zP({...m,extensionPack:g});case"grid":return new k.mU({...m,onSetColorDomain:d});case"hexagon":return new k.dX({...m,onSetColorDomain:d});case"odLine":return new k.J1({...m,extensionPack:g});case"h3":return new k.cH({...m,extensionPack:g});case"cluster":return new k.K7({...m,onSetColorDomain:d,extensionPack:(0,Z.Q9)(v,g)});case"flow":return new W({...m});case"icon":return p?new q.ng({...m}):new k.eE({...m,extensionPack:(0,Z.Q9)(v,g)});case"h3Tile":return new se(m);case"trips":return new k.Fw({...m,extensionPack:(0,Z.Q9)(v,g)});case"path":return new k.nr({...m,extensionPack:(0,Z.Q9)(v,g)});case"region":return new k.cD({...m,extensionPack:(0,Z.Q9)(v,g)});default:return p?new q.Nn({...m,extensionPack:v}):new k.tn({...m,extensionPack:(0,Z.Q9)(v,g)})}}({layer:{...e,mapInfo:a},projectId:s,config:c,currentZoom:pe,pickable:!M.isOpen||M.isEditing,enableGeofence:"custom"===H.filterType,onClick:oe,onSetColorDomain(t){var i;null===y||void 0===y||null===(i=y.current)||void 0===i||i.call(y,e.id,c,t),I(_.Nw.setAggregateLayerData({id:e.id,colorDomain:t}))},customProps:{projectId:s,name:e.name,coordId:e.mapInfo.coordinateFieldID,layerType:e.mapInfo.layerType,tableNodeID:e.tableNodeId,vtInfo:e.vtInfo,layerFilter:e.layerFilter,timezone:e.timezone,shareParams:A.sharingParams,members:d,timeline:F.enable&&F.range?{range:F.range,columnId:null===(o=e.timelineColumn)||void 0===o?void 0:o.id}:void 0,vtParams:ie[e.id],isVectorTile:e.mapInfo.vectorTile||!1,isDualView:b,mapInfo:a,setVtFeatures:h}})}))),[c,s,oe,y,F.enable,F.range,ue,X,A.sharingParams,M.isEditing,M.isOpen,ee,I,te,ie,b,null===(i=V.config)||void 0===i?void 0:i.layerId,null===(l=V.config)||void 0===l?void 0:l.overlayLayerId,ce,pe,H.filterType]);return(0,n.useEffect)((()=>{setTimeout((()=>{re()}),300)}),[he,re]),(0,n.useEffect)((()=>{Y(new Map),c.forEach((e=>{const t=X[e.id]?d()({},e.mapInfo,g()(X[e.id],de.ji)):e.mapInfo;Y((i=>{const n={id:e.id,label:e.name,active:!h()(null===t||void 0===t?void 0:t.labelFieldID),disabled:h()(null===t||void 0===t?void 0:t.labelFieldID)};var o;Q.current.has(e.id)&&(n.active=!h()(null===t||void 0===t?void 0:t.labelFieldID)&&!(null===(o=Q.current.get(e.id))||void 0===o||!o.active));return null!==w&&void 0!==w&&w.includes(e.id)&&(n.active=!0),i.set(e.id,n),i}))}))}),[c,w,X]),{visLayers:he,layersLabel:ue,updateLayersLabel:le}}function Je(e){var t,i,n,o,a,l,r,s,d,c,u,p,h,v,g,f,m,y,b,x,j,k,T,E,P,O,_,S,N,D,R,Z,A,F,z,B,V,H,W,U,G,$,J,K,Y,Q,X,ee,te,ie,ne,oe,ae,le,re,se,de,ce,ue,pe,he,ve,ge,fe,me,ye,we,be,Ce,xe,Ie,je,Me,ke,Ee,Pe,Oe,_e,Se,Ne,Le,De,Re,Ze,Ae,Fe,ze,Be,Ve,He,We,Ue,qe,Ge,$e,Je,Ye,Qe,Xe,et,tt,it,nt,ot,at,lt,rt,st,dt,ct,ut,pt,ht,vt,gt,ft,mt;const{mapInfo:yt,columns:wt,labelVisible:bt=!1,customizeIcons:Ct,tripsLayerTimeline:xt,zoom:It}=e,jt=yt.vectorTile,Mt=w()(yt.fillConfig.icons,(e=>{const t=I()(e,"c:")?C()(e,"c:"):e;if(L.jm.includes(t))return t;const i=null===Ct||void 0===Ct?void 0:Ct.find((e=>e.id===t));return i?"svg"===i.ext?i.imageUrl:"".concat(i.imageUrl,"?w_").concat(i.width,",h_").concat(i.height):"location"})),kt=M()(wt,(e=>e.id===yt.fillFieldID)),Tt=(0,Te.Ql)(kt),Et=M()(wt,(e=>e.id===yt.outlineFieldID)),Pt=(0,Te.Ql)(Et),Ot=function(e,t,i){if(!e)return;if(L.Br.includes(e))return{imageUrl:"".concat(L.fg,"/").concat(e,".png"),width:L.dC,height:L.dC};{const n=null===t||void 0===t?void 0:t.find((t=>t.id===C()(e,"c:")));if(!n)return;return{...n,imageUrl:"".concat(n.imageUrl,"?w_").concat(null!==i&&void 0!==i?i:n.width,",h_").concat(null!==i&&void 0!==i?i:n.height),height:null!==i&&void 0!==i?i:n.height,width:null!==i&&void 0!==i?i:n.width}}}(null===(t=yt.tripsConfig)||void 0===t?void 0:t.icon,Ct,null===(i=yt.tripsConfig)||void 0===i?void 0:i.iconSize),_t=(0,Te.Ql)(M()(wt,(e=>e.id===yt.groupByFieldID))),St="region"===yt.layerType;return{visibilityConfig:{visibleRange:null!==(n=null===(o=yt.visibilityConfig)||void 0===o?void 0:o.visibleRange)&&void 0!==n?n:L.E},fieldConfig:{fillID:yt.fillFieldID,fillFieldType:Tt,bivariateFillID:yt.bivariateFillFieldID,destinationID:yt.destinationFieldID,elevationID:yt.heightFieldID,labelID:yt.labelFieldID,outlineID:yt.outlineFieldID,outlineFillFieldType:Pt,outlineWidthID:yt.outlineWidthFieldID,radiusID:yt.radiusFieldID,weightID:yt.weightFieldID,timestampID:yt.timestampFieldID,groupByFieldID:yt.groupByFieldID,groupByFieldType:_t,sortByFieldID:yt.sortByFieldID,regionDimensionID:yt.regionDimensionFieldID,regionIndexStatsID:yt.regionIndexStatsFieldID,specifyByFieldID:yt.specifyByFieldID},fillConfig:{colors:yt.fillConfig.colors,icons:Mt,fillMethod:null!==(a=yt.fillConfig.fillMethod)&&void 0!==a?a:"quantile",fillOpacity:yt.fillConfig.fillOpacity,colorScheme:yt.fillConfig.colorScheme,aggregateBy:yt.fillConfig.aggregateBy,reverse:null!==(l=yt.fillConfig.reverse)&&void 0!==l&&l,thresholds:yt.fillConfig.thresholds,_ordinalDomain:yt.fillConfig._ordinalDomain,_ordinalColors:yt.fillConfig._ordinalColors,_uniqDomain:yt.fillConfig._uniqDomain,domain:jt&&yt.fillConfig.fillMethod&&null!==(r=yt.fillConfig)&&void 0!==r&&r._quantiles?(0,q.HG)(yt.fillConfig.fillMethod,null===(s=yt.fillConfig)||void 0===s?void 0:s._quantiles,yt.fillConfig.colors.length):void 0},radiusConfig:{radius:yt.radiusConfig.radius,radiusRange:yt.radiusConfig.radiusRange,fixedToMeter:null!==(d=yt.radiusConfig.fixedToMeter)&&void 0!==d&&d,domain:jt&&null!==(c=yt.radiusConfig)&&void 0!==c&&c._quantiles?(0,q.HG)("quantize",null===(u=yt.radiusConfig)||void 0===u?void 0:u._quantiles):void 0},bivariateFillConfig:{colors:null!==(p=null===(h=yt.bivariateFillConfig)||void 0===h?void 0:h.colors)&&void 0!==p?p:["#08519c"],colorScheme:null===(v=yt.bivariateFillConfig)||void 0===v?void 0:v.colorScheme,enable:null!==(g=yt.fillConfig.bivariate)&&void 0!==g&&g,fillMethod:null!==(f=null===(m=yt.bivariateFillConfig)||void 0===m?void 0:m.fillMethod)&&void 0!==f?f:"quantile",fillOpacity:null!==(y=null===(b=yt.bivariateFillConfig)||void 0===b?void 0:b.fillOpacity)&&void 0!==y?y:.8,reverse:null!==(x=null===(j=yt.bivariateFillConfig)||void 0===j?void 0:j.reverse)&&void 0!==x&&x,thresholds:null!==(k=null===(T=yt.bivariateFillConfig)||void 0===T?void 0:T.thresholds)&&void 0!==k?k:[],domain:jt&&yt.bivariateFillConfig.fillMethod&&null!==(E=yt.bivariateFillConfig)&&void 0!==E&&E._quantiles?(0,q.HG)(yt.bivariateFillConfig.fillMethod,null===(P=yt.bivariateFillConfig)||void 0===P?void 0:P._quantiles,yt.bivariateFillConfig.colors.length):void 0},outlineConfig:yt.outlineConfig?{strokeOpacity:yt.outlineConfig.strokeOpacity,colors:St?["#c5c5c5"]:yt.outlineConfig.colors,colorScheme:yt.outlineConfig.colorScheme,reverse:null!==(O=yt.outlineConfig.reverse)&&void 0!==O&&O,strokeMethod:yt.outlineConfig.strokeMethod,strokeWeight:yt.outlineConfig.strokeWeight,thresholds:yt.outlineConfig.thresholds,widthRange:yt.odLineConfig.widthRange,align:yt.outlineConfig.align,_ordinalDomain:yt.outlineConfig._ordinalDomain,_ordinalColors:yt.outlineConfig._ordinalColors,_uniqDomain:yt.outlineConfig._uniqDomain,domain:jt&&yt.outlineConfig.strokeMethod&&null!==(_=yt.outlineConfig)&&void 0!==_&&_._quantiles&&yt.outlineConfig.colors?(0,q.HG)(yt.outlineConfig.strokeMethod,null===(S=yt.outlineConfig)||void 0===S?void 0:S._quantiles,yt.outlineConfig.colors.length):void 0,_widthFiledQuantiles:yt.outlineConfig._widthFiledQuantiles}:{},labelConfig:{enable:bt,direction:yt.labelConfig.direction||"bottom,middle",fontColor:yt.labelConfig.fillColor||"#091E42",fontSize:yt.labelConfig.fontSize||13,strokeWeight:null!==(N=yt.labelConfig.strokeWeight)&&void 0!==N?N:0,strokeColor:null!==(D=yt.labelConfig.strokeColor)&&void 0!==D?D:"#000",backgroundColor:null!==(R=yt.labelConfig.backgroundColor)&&void 0!==R?R:"#fff",backgroundOpacity:null!==(Z=yt.labelConfig.backgroundOpacity)&&void 0!==Z?Z:0,visibleRange:null!==(A=yt.labelConfig.visibleRange)&&void 0!==A?A:L.E,collisionEnabled:!(null!==(F=yt.labelConfig.collisionDisabled)&&void 0!==F&&F)},elevationConfig:{aggregateBy:null===(z=yt.heightConfig)||void 0===z?void 0:z.aggregateBy,enable:null!==(B=null===(V=yt.heightConfig)||void 0===V?void 0:V.toggle)&&void 0!==B&&B,height:null===(H=yt.heightConfig)||void 0===H?void 0:H.height,heightRange:null===(W=yt.heightConfig)||void 0===W?void 0:W.heightRange,multiplier:(null!==(U=null===(G=yt.heightConfig)||void 0===G?void 0:G.multiplier)&&void 0!==U?U:1)*Ke(It),scale:null===($=yt.heightConfig)||void 0===$?void 0:$.scale,domain:jt&&null!==(J=yt.heightConfig)&&void 0!==J&&J._quantiles?(0,q.HG)("quantize",null===(K=yt.heightConfig)||void 0===K?void 0:K._quantiles):void 0},odLineConfig:{destinationColor:yt.odLineConfig.destinationColor,originColor:yt.odLineConfig.originColor,type:yt.odLineConfig.type,widthRange:yt.odLineConfig.widthRange,width:yt.odLineConfig.width,domain:jt&&null!==(Y=yt.outlineConfig)&&void 0!==Y&&Y._quantiles?(0,q.HG)("continuous",null===(Q=yt.outlineConfig)||void 0===Q?void 0:Q._quantiles):void 0},gridConfig:{cellSize:yt.radiusConfig.gridSize,coverage:yt.radiusConfig.coverage},heatmapConfig:{threshold:null!==(X=null===(ee=yt.heatmapConfig)||void 0===ee?void 0:ee.threshold)&&void 0!==X?X:.03},flowConfig:{darkMode:null!==(te=null===(ie=yt.flowConfig)||void 0===ie?void 0:ie.darkMode)&&void 0!==te&&te,colorScheme:null!==(ne=null===(oe=yt.flowConfig)||void 0===oe?void 0:oe.colorScheme)&&void 0!==ne?ne:"Blues",fadeEnabled:null!==(ae=null===(le=yt.flowConfig)||void 0===le?void 0:le.fadeEnabled)&&void 0!==ae&&ae,fadeAmount:null!==(re=null===(se=yt.flowConfig)||void 0===se?void 0:se.fadeAmount)&&void 0!==re?re:.5,locationTotalsEnabled:null!==(de=null===(ce=yt.flowConfig)||void 0===ce?void 0:ce.locationTotalsEnabled)&&void 0!==de&&de,clusteringEnabled:null===(ue=null===(pe=yt.flowConfig)||void 0===pe?void 0:pe.clusteringEnabled)||void 0===ue||ue,clusteringAuto:null===(he=null===(ve=yt.flowConfig)||void 0===ve?void 0:ve.clusteringAuto)||void 0===he||he,clusteringLevel:null!==(ge=null===(fe=yt.flowConfig)||void 0===fe?void 0:fe.clusteringLevel)&&void 0!==ge?ge:5},tripsConfig:{fadeTrail:null===(me=null===(ye=yt.tripsConfig)||void 0===ye?void 0:ye.fadeTrail)||void 0===me||me,trailLength:null!==(we=null===(be=yt.tripsConfig)||void 0===be?void 0:be.trailLength)&&void 0!==we?we:3e3,capRounded:null!==(Ce=null===(xe=yt.tripsConfig)||void 0===xe?void 0:xe.capRounded)&&void 0!==Ce&&Ce,jointRounded:null!==(Ie=null===(je=yt.tripsConfig)||void 0===je?void 0:je.jointRounded)&&void 0!==Ie&&Ie,animation:null!==(Me=null===xt||void 0===xt?void 0:xt.playing)&&void 0!==Me&&Me,speed:(null!==(ke=null===xt||void 0===xt?void 0:xt.speed)&&void 0!==ke?ke:1)*(null!==(Ee=null===xt||void 0===xt?void 0:xt.multiplier)&&void 0!==Ee?Ee:1),currentTime:null!==(Pe=null===xt||void 0===xt?void 0:xt.manualUpdatedTime)&&void 0!==Pe?Pe:0,icon:null!==(Oe=yt.tripsConfig)&&void 0!==Oe&&Oe.icon&&Ot?{url:Ot.imageUrl,width:Ot.width,height:Ot.height}:void 0,iconSize:null===(_e=yt.tripsConfig)||void 0===_e?void 0:_e.iconSize,iconRotation:null===(Se=yt.tripsConfig)||void 0===Se?void 0:Se.iconRotation},pathConfig:{showWaypoint:null!==(Ne=null===(Le=yt.pathConfig)||void 0===Le?void 0:Le.showWaypoint)&&void 0!==Ne&&Ne,colors:null!==(De=null===(Re=yt.pathConfig)||void 0===Re?void 0:Re.colors)&&void 0!==De?De:[],waypointOpacity:null!==(Ze=null===(Ae=yt.pathConfig)||void 0===Ae?void 0:Ae.waypointOpacity)&&void 0!==Ze?Ze:.8,waypointSize:null!==(Fe=null===(ze=yt.pathConfig)||void 0===ze?void 0:ze.waypointSize)&&void 0!==Fe?Fe:8,isCustomEndpointColor:null!==(Be=null===(Ve=yt.pathConfig)||void 0===Ve?void 0:Ve.isCustomEndpointColor)&&void 0!==Be&&Be,endpointColor:null!==(He=null===(We=yt.pathConfig)||void 0===We?void 0:We.endpointColor)&&void 0!==He?He:"#e64c4c",startPointColor:null!==(Ue=null===(qe=yt.pathConfig)||void 0===qe?void 0:qe.startPointColor)&&void 0!==Ue?Ue:"#3384ff",endpointSize:null!==(Ge=null===($e=yt.pathConfig)||void 0===$e?void 0:$e.endpointSize)&&void 0!==Ge?Ge:4,endpointOpacity:null!==(Je=null===(Ye=yt.pathConfig)||void 0===Ye?void 0:Ye.endpointOpacity)&&void 0!==Je?Je:.8},regionConfig:{country:null!==(Qe=null===yt||void 0===yt||null===(Xe=yt.regionConfig)||void 0===Xe?void 0:Xe.country)&&void 0!==Qe?Qe:"china",level:null!==(et=null===yt||void 0===yt||null===(tt=yt.regionConfig)||void 0===tt?void 0:tt.level)&&void 0!==et?et:"admin1",regionId:null===yt||void 0===yt||null===(it=yt.regionConfig)||void 0===it?void 0:it.regionId,dimension:null!==(nt=null===yt||void 0===yt||null===(ot=yt.regionConfig)||void 0===ot?void 0:ot.dimension)&&void 0!==nt?nt:"region",indexStatsMethod:null!==(at=null===yt||void 0===yt||null===(lt=yt.regionConfig)||void 0===lt?void 0:lt.indexStatsMethod)&&void 0!==at?at:"sum",aggregateBy:null!==(rt=null===yt||void 0===yt||null===(st=yt.regionConfig)||void 0===st?void 0:st.aggregateBy)&&void 0!==rt?rt:"admin1",colors:null!==(dt=null===yt||void 0===yt||null===(ct=yt.regionConfig)||void 0===ct?void 0:ct.colors)&&void 0!==dt?dt:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801"],labelVisible:null===(ut=null===yt||void 0===yt||null===(pt=yt.regionConfig)||void 0===pt?void 0:pt.labelVisible)||void 0===ut||ut,labelTypes:(null===yt||void 0===yt||null===(ht=yt.regionConfig)||void 0===ht?void 0:ht.labelTypes)||["name","value"],fillMethod:(null===yt||void 0===yt||null===(vt=yt.regionConfig)||void 0===vt?void 0:vt.fillMethod)||"quantize",thresholds:null===yt||void 0===yt||null===(gt=yt.regionConfig)||void 0===gt?void 0:gt.thresholds,reverse:null!==(ft=null===yt||void 0===yt||null===(mt=yt.regionConfig)||void 0===mt?void 0:mt.reverse)&&void 0!==ft&&ft,disableLabelOffset:!0}}}function Ke(e,t){return t||!e?1:Math.pow(2,Math.max(8-e,0))}},2715:(e,t,i)=>{"use strict";i.d(t,{P:()=>u});var n=i(57435),o=i(59267),a=i.n(o),l=i(11145),r=i(30423),s=i(58590),d=i(57830),c=i(9217);function u(e,t){const i=(0,l.s0)(),{workspaceType:o}=(0,d.F)(),u=(0,r.v)((e=>e.user.userId)),p=(0,r.v)(s.Hx.selectAll),h=(0,r.v)((e=>null==t?void 0:s.Hx.selectById(e,t))),{data:v,isLoading:g}=(0,c.Dp)(null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.id,u);return(0,n.useEffect)((()=>{null!==v&&void 0!==v&&v.detail&&function(e,t,i){null==i||a()(i)||t.some((e=>e.id===i))||e()}((()=>{i("/".concat(o,"/").concat(null===e||void 0===e?void 0:e.id),{replace:!0})}),v.detail.projects||[],t)}),[i,o,null===e||void 0===e?void 0:e.id,t,v]),{projects:p,isLoading:g,project:h,currentWorkspace:v}}},70:(e,t,i)=>{"use strict";i.d(t,{HP:()=>w,Pl:()=>y});var n=i(23903),o=i.n(n),a=i(30289),l=i(55349),r=i.n(l),s=i(57435),d=i(62618),c=i.n(d),u=i(53182),p=i.n(u),h=i(30423),v=i(57830),g=i(67661),f=i(12167),m=i(68885);function y(e,t,i){var n,l,d;const c=(0,h.I)(),{viewId:u,projectId:p,tableNodeId:y,shareToken:w,shareType:b}=(0,v.F)(),C=null!==i&&void 0!==i?i:p,x=null!==e&&void 0!==e?e:y,{data:I}=(0,g.mJ)(C,x),j=(0,h.v)((e=>{var t;return e.tableNode.selectedViews&&I?null===(t=e.tableNode)||void 0===t?void 0:t.selectedViews[I.id]:void 0})),M=null!==(n=null!==(l=null!==t&&void 0!==t?t:u)&&void 0!==l?l:j)&&void 0!==n?n:null===I||void 0===I||null===(d=I.views)||void 0===d?void 0:d[0].id,k=(0,s.useMemo)((()=>{var e,t;return null!==(e=o()(null===I||void 0===I?void 0:I.views,(e=>e.id===M)))&&void 0!==e?e:null===I||void 0===I||null===(t=I.views)||void 0===t?void 0:t[0]}),[M,null===I||void 0===I?void 0:I.views]),{userToken:T}=(0,f.UP)();return(0,a.ZP)(k&&r()(k.columns)?["view",k,x,w,b,T]:null,(e=>{let[t,i,n,o,a,l]=e;return c((0,m.AB)({id:n,viewId:i.id,token:o,type:a,userToken:l}))})),{view:k}}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table";const i=p()(c()(e,"order").filter((e=>e.type===t&&!e.isLocked&&!e.isPersonal)));return null!==i&&void 0!==i?i:p()(e)}},30423:(e,t,i)=>{"use strict";i.d(t,{I:()=>o,v:()=>a});var n=i(82583);const o=()=>(0,n.I0)(),a=n.v9},81987:(e,t,i)=>{"use strict";i.d(t,{q:()=>c});var n=i(57435),o=i(23903),a=i.n(o),l=i(16108),r=i(30423),s=i(57830),d=i(20491);function c(){const{projectId:e,workspaceType:t}=(0,s.F)(),[i,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),p=(0,r.v)((e=>e.workspace.workspaceRoles));(0,n.useEffect)((()=>{let e=!1,t=!1;null===p||void 0===p||p.forEach((i=>{"org"===i.type&&"owner"===i.role&&(e=!0),"project"===i.type&&"owner"===i.role&&(t=!0)})),o(e),u(t)}),[p,e]);const h=(0,n.useCallback)(((i,n,o)=>{if(!n)return console.warn("".concat(n," is not valid expectedRole, checkPermission will always return false")),!1;const l="uw"===t&&"table"===o,r=l?"project":o,s=l&&null!==e&&void 0!==e?e:i,c="uw"===t&&"datafile"===o?{id:0,type:"datafile",role:"admin"}:a()(p,(e=>e.id===s&&e.type===r));switch(null===c||void 0===c?void 0:c.role){case d.bp.readonly:return n===d.bp.readonly;case d.bp.editable:return n===d.bp.readonly||n===d.bp.editable;case d.bp.admin:return n===d.bp.readonly||n===d.bp.editable||n===d.bp.admin;case d.bp.owner:return n===d.bp.readonly||n===d.bp.editable||n===d.bp.admin||n===d.bp.owner;default:return!1}}),[p,t,e]),v=(0,n.useCallback)((e=>{var t;if(e)return null===(t=a()(p,(t=>t.id===e&&"table"===t.type)))||void 0===t?void 0:t.rowLevelPermissions}),[p]);return{workspaceRoles:p,checkPermission:h,checkOrgPermission:(e,t)=>h(e,t,l.d.org),checkTablePermission:(e,t)=>h(e,t,l.d.table),checkProjectPermission:(e,t)=>h(e,t,l.d.project),checkDataFilePermission:(e,t)=>h(e,t,l.d.datafile),getTableRowLevelPermission:v,isOrgOwner:i,isProjectOwner:c}}},9217:(e,t,i)=>{"use strict";i.d(t,{Dp:()=>j,_O:()=>I});var n=i(57435),o=i(30289),a=i(11145),l=i(1414),r=i(88716),s=i.n(r),d=i(30423),c=i(81837),u=(i(57830),i(55349)),p=i.n(u),h=i(59267),v=i.n(h),g=i(23903),f=i.n(g),m=i(46481),y=i(74909),w=i(8343);const b={user:"uw",org:"w"},C=i.n(w)()(b);const x=(0,m.P1)([(e,t)=>y.MY.selectAll(e),(e,t)=>t.workspaceId,(e,t)=>t.workspaceType],((e,t,i)=>{var n;const o=null!==(n=function(e){return C[e]}(i))&&void 0!==n?n:"user";return p()(t)||v()(t)?f()(e,(e=>e.type===o)):f()(e,(e=>e.id===t&&e.type===o))}));(0,m.P1)((e=>e.workspace.workspaceRoles),(e=>e.workspace.workspace),((e,t)=>{var i;return"user"===(null===t||void 0===t?void 0:t.type)?"admin":null===e||void 0===e||null===(i=e.find((e=>e.id===(null===t||void 0===t?void 0:t.id))))||void 0===i?void 0:i.role})),(0,m.P1)([e=>{var t;return null!==(t=e.workspace.current)&&void 0!==t&&t.user&&e.workspace.current.user!==e.user.userId?void 0:e.workspace.current}],(e=>e));function I(e,t,i){const r=(0,d.I)(),u=(0,a.s0)(),p=(0,d.v)(y.MY.selectAll),h=(0,d.v)((e=>e.user.isAuth)),v=(0,d.v)((i=>x(i,{workspaceId:t,workspaceType:e}))),g=(0,d.v)((e=>{var t;return null===(t=y.MY.selectAll(e))||void 0===t||null===(t=t.find((e=>"user"===e.type)))||void 0===t?void 0:t.id})),{pathname:f}=(0,a.TH)(),m=(0,l.LX)("/uw/:workspaceId/p/:projectId/t/:tableNodeId",f),w=(0,l.LX)("/uw/:workspaceId/p/:projectId/map",f),b=f.startsWith("/s/"),C=s()(p);(0,o.ZP)(C&&h&&!b&&!i?"getWorkspaces":null,(()=>r((0,c.fX)())));const I=!b&&!C&&!v;return(0,n.useEffect)((()=>{if(I)if(m||w){var t;const{tableNodeId:i,projectId:n}=null!==(t=null===m||void 0===m?void 0:m.params)&&void 0!==t?t:{},o="/".concat(e,"/").concat(g,"/p");u(w?"".concat(o,"/").concat(w.params.projectId,"/map"):i?"".concat(o,"/").concat(n,"/t/").concat(i):"".concat(o,"/").concat(n,"/t/"),{replace:!0})}else u("/uw/")}),[m,g,e,I,u,w]),{workspaces:p,workspace:v,userWorkspaceId:g}}function j(e,t,i){const n=(0,d.I)(),a=(0,d.v)((e=>e.workspace.workspace)),{error:l,isLoading:r}=(0,o.ZP)(e&&t&&i?["workspaceDetail",e,t,i]:null,(e=>{let[t,i,o,a]=e;return n((0,c.F9)({type:i,id:o,userId:a}))}));return{data:a,isLoading:r,error:l}}},25394:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(18765),o=i.n(n),a=i(7070),l=i.n(a),r=i(43179),s=i.n(r),d=i(49163),c=i(68885),u=i(1714);const p=(0,d.Gx)(c.ZL,c.Zl),h=e=>t=>i=>{if(p(i)){const t=e.getState(),i=l()(o()(u.TW.selectEntities(t),(e=>{const t=s()(null===e||void 0===e?void 0:e.lastRetrievedAt).add(10,"day");return s()().isAfter(t)})),"id");e.dispatch(u.Nw.cleanCacheByIds(i))}return t(i)}},28137:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>h,jv:()=>u});var n=i(74720),o=i.n(n),a=i(37588),l=i.n(a),r=i(21101),s=i(22138),d=i(3705),c=i(93707);function u(){l().set(s.$,"false"),l().remove(s.$A),l().remove(s.o3),l().remove(s.z6),l().remove(s.Ek)}const p=e=>function(t){if(t&&"object"===typeof t&&"name"in t){if("NetworkError"!==t.name||!navigator.onLine)return"AuthError"===t.name?(u(),e(r.N.setAuth(!1)),window.location.pathname.startsWith("/s/")?void 0:{redirectUrl:"/"}):void("QuotaLimitError"!==t.name||e(c.Nw.updateQuotaLimitDialogConfig({quotaError:JSON.parse(t.message)})));e(c.Nw.networkStatus(d.Ie.NETWORK_ERROR))}};const h=e=>{let{dispatch:t}=e;const i=p(t);return e=>t=>{if(!t)return e(t);const n=o()(t,"error");if(!n)return e(t);const a=i(n),l=null===a||void 0===a?void 0:a.redirectUrl;if(!l)return e(t);window.location.href=l}}},95151:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(74720),o=i.n(n),a=i(49163),l=i(93707);const r=e=>t=>i=>{if(!(0,a.Lz)(i))return t(i);const n=o()(i.meta,"syncWithWebSocket"),r=o()(i.meta,"requestID");return n&&(0,a.zR)(i)?e.dispatch(l.Nw.addFetching({requestId:i.meta.requestId,actionType:i.type})):r&&(e.dispatch(l.Nw.addWsSyncedData({requestId:r,payload:i.payload})),e.dispatch(l.Nw.removeFetching(r))),(0,a.Iv)(i)&&i.meta.requestId&&e.dispatch(l.Nw.removeFetching(i.meta.requestId)),t(i)}},1667:(e,t,i)=>{"use strict";i.d(t,{Z:()=>we});var n=i(49163),o=i(37750);const a=new Map;var l=i(74720),r=i.n(l),s=i(23903),d=i.n(s),c=i(15288),u=i.n(c),p=i(1714),h=i(68885);const v={action:h.I,undoAction:h.yG,redoAction:h.LU,getRedoPayload:function(e,t,i){const{wsSyncedData:n}=i,{id:o,rowId:a,cells:l}=e;return{id:o,rowId:a,cells:u()(l,((e,t)=>r()(null===n||void 0===n?void 0:n.updateCells,t,null)))}},getUndoPayload:function(e,t){var i;const{id:n,rowId:o,cells:a}=e,l=p.TW.selectById(t,n),s=d()(null===l||void 0===l?void 0:l.rows,(e=>e.id===o)),c=s?u()(a,((e,t)=>r()(null===s||void 0===s?void 0:s.cells,t,null))):null!==(i=e.prevCells)&&void 0!==i?i:{};return{id:n,rowId:o,cells:c}}};var g=i(58590);const f={action:h.xQ,undoAction:h.e7,redoAction:h.Ic,getUndoPayload:(e,t)=>{var i;const{projectID:n,id:o}=e,a=g.Hx.selectById(t,n);return{id:o,projectID:n,name:null===(i=d()(null===a||void 0===a?void 0:a.tableNodes,(e=>e.id===o)))||void 0===i?void 0:i.name}},getRedoPayload:e=>e};var m=i(63679),y=i.n(m),w=i(62618),b=i.n(w),C=i(18765),x=i.n(C);const I={action:h.V6,undoAction:h.Ps,redoAction:h.xf,getUndoPayload:(e,t)=>{const{id:i,moveInfo:n}=e,{projectID:o}=n,a=g.Hx.selectById(t,o),l=d()(null===a||void 0===a?void 0:a.tableNodes,(e=>e.id===i)),s=b()(x()(null===a||void 0===a?void 0:a.tableNodes,(e=>e.parentID===(null===l||void 0===l?void 0:l.parentID))),"order"),c=y()(s,(e=>e.id===(null===l||void 0===l?void 0:l.id)));return{id:i,moveInfo:{projectID:o,parentID:null===l||void 0===l?void 0:l.parentID,prevID:r()(s,"".concat(c-1,".id"))}}},getRedoPayload:e=>e};var j=i(37756),M=i.n(j);const k={action:h.JD,undoAction:h.OW,redoAction:h.e,getUndoPayload:e=>e,getFulfilledUndoPayload(e,t,i,n){var o;const{id:a,columnId:l,rowId:r}=i,{wsSyncedData:s}=n,c=p.TW.selectById(t,a),u=t.user.userId,h=d()(null===c||void 0===c?void 0:c.rows,(e=>e.id===r)),v=null!==(o=M()(x()(null===h||void 0===h?void 0:h.cells[l],(e=>e.uploaderID===u))))&&void 0!==o?o:M()(null===s||void 0===s?void 0:s.attachments);return{id:a,rowId:r,columnId:l,fileId:null===v||void 0===v?void 0:v.fileID,attachments:null===s||void 0===s?void 0:s.attachments}},getRedoPayload:(e,t,i)=>{var n;const{id:o,columnId:a,rowId:l}=e,{wsSyncedData:r}=i,s=p.TW.selectById(t,o),c=d()(null===s||void 0===s?void 0:s.rows,(e=>e.id===l)),u=null!==(n=null===c||void 0===c?void 0:c.cells[a])&&void 0!==n?n:null===r||void 0===r?void 0:r.attachments;return{id:o,rowId:l,cells:{[a]:u}}}};const T={action:h.OW,undoAction:h.e,redoAction:h.e,getUndoPayload:function(e,t){var i;const{id:n,columnId:o,rowId:a}=e,l=p.TW.selectById(t,n),r=d()(null===l||void 0===l?void 0:l.rows,(e=>e.id===a)),s=null!==(i=null===r||void 0===r?void 0:r.cells[o])&&void 0!==i?i:e.attachments;return{id:n,rowId:a,cells:{[o]:s}}},getRedoPayload:function(e,t,i){var n,o;const{id:a,columnId:l,rowId:r}=e,{wsSyncedData:s}=i,c=p.TW.selectById(t,a),u=d()(null===c||void 0===c?void 0:c.rows,(e=>e.id===r)),h=null!==(n=null!==(o=null===u||void 0===u?void 0:u.cells[l])&&void 0!==o?o:e.attachments)&&void 0!==n?n:null===s||void 0===s?void 0:s.attachments;return{id:a,rowId:r,cells:{[l]:h}}}};function E(e,t){const{id:i,rowIDs:n}=e;return{id:i,rowIDs:n}}const P={action:h.M5,undoAction:h.D9,redoAction:h.IK,getRedoPayload:E,getUndoPayload:E};var O=i(88716),_=i.n(O),S=i(70);function N(e,t){var i;const{id:n,prevRowId:o,viewId:a}=e,l=p.TW.selectById(t,n),r=t.tableNode.currentView,s=(0,S.HP)(l.views),d=null!==(i=null===l||void 0===l?void 0:l.views.find((e=>e.id===r||e.id===a)))&&void 0!==i?i:s,c=[];if(d){const e=b()(d.rows,"order");if(!_()(e)){const t=e.findIndex((e=>e.id===o));if(-1!==t){const i=e[t+1].id;c.push(i)}else c.push(e[0].id)}}return{id:n,rowIDs:c}}const L={action:h.v,undoAction:h.vD,redoAction:h.rD,getRedoPayload:N,getFulfilledUndoPayload:N};function D(e){const{id:t,columnIds:i}=e;return{id:t,columnIds:i}}const R={action:h.ih,undoAction:h.E,redoAction:h.r7,getRedoPayload:D,getUndoPayload:D};function Z(e,t){const{id:i,prevColumnId:n}=e;let o=null;const a=t.tableNode.currentView,l=p.TW.selectById(t,i),r=null===l||void 0===l?void 0:l.views.find((e=>e.id===a));if(r){const e=b()(r.columns,"order"),t=e.findIndex((e=>e.id===n));o=e[t+1].id}return{id:i,columnIds:[o]}}const A={action:h.wy,undoAction:h.QR,redoAction:h.eT,getRedoPayload:Z,getFulfilledUndoPayload:Z};function F(e,t){const i=p.TW.selectById(t,e.id),n=null===i||void 0===i?void 0:i.columns.find((t=>t.id===e.columnId));var o;if(n)return{columnId:e.columnId,id:e.id,name:n.name,type:n.type,typeOptions:n.typeOptions,pasteCellsParams:{destColumnIDs:[e.columnId],destRowIDs:null!==(o=null===i||void 0===i?void 0:i.rows.map((e=>e.id)))&&void 0!==o?o:[],source:null===i||void 0===i?void 0:i.rows.map((t=>[t.cells[e.columnId]])),sourceColumns:[{isPrimary:n.isPrimary,id:e.columnId,name:n.name,type:n.type,typeOptions:n.typeOptions}]}}}const z={action:h.Gw,undoAction:h.KV,redoAction:h.be,getRedoPayload:F,getUndoPayload:F};var B=i(7070),V=i.n(B),H=i(17646),W=i.n(H);const U={action:h.Sq,undoAction:h.UQ,redoAction:h.ZJ,getRedoPayload:function(e,t){const{id:i,params:n}=e,o=p.TW.selectById(t,i),a=[];W()(n.destRowIDs,(e=>{var t;const i=null===o||void 0===o||null===(t=o.rows)||void 0===t?void 0:t.find((t=>t.id===e)),l=V()(n.destColumnIDs,(e=>null===i||void 0===i?void 0:i.cells[e]));a.push(l)}));const l=V()(n.destColumnIDs,(e=>null===o||void 0===o?void 0:o.columns.find((t=>t.id===e))));return{id:i,params:{...n,source:a,sourceColumns:l}}},getUndoPayload:function(e,t){const{id:i,params:n,destCells:o}=e,a=p.TW.selectById(t,i),l=[];W()(n.destRowIDs,(e=>{var t;const i=null===a||void 0===a||null===(t=a.rows)||void 0===t?void 0:t.find((t=>t.id===e)),r=V()(n.destColumnIDs,(t=>{var n;return null!==(n=null===i||void 0===i?void 0:i.cells[t])&&void 0!==n?n:null===o||void 0===o?void 0:o[e][t]}));l.push(r)}));const r=V()(n.destColumnIDs,(e=>null===a||void 0===a?void 0:a.columns.find((t=>t.id===e))));return{id:i,params:{...n,source:l,sourceColumns:r}}}};const q={action:h.mc,undoAction:h.pt,redoAction:h.x6,getRedoPayload:(e,t)=>e,getUndoPayload:function(e,t){const{id:i,viewId:n,items:o}=e,a=p.TW.selectById(t,i),l=t.tableNode.currentView,r=null===a||void 0===a?void 0:a.views.find((e=>e.id===l));if(!r)return{id:i,viewId:n,items:[]};const s=o.map((e=>{let{rowID:t,cells:i}=e;const n=b()(r.rows,"order"),o=n.findIndex((e=>e.id===t)),l=o<=0?void 0:n[o-1].id,s={};if(i){const e=d()(null===a||void 0===a?void 0:a.rows,(e=>e.id===t));e&&W()(i,((t,i)=>{s[i]=e.cells[i]}))}return{rowID:t,prevRowID:l,cells:i?s:void 0}})).reverse();return{...e,items:s}}};const G={action:h.Yg,undoAction:h.O7,redoAction:h.Lu,getRedoPayload:(e,t)=>e,getUndoPayload:function(e,t){const{id:i,viewId:n,columnId:o}=e,a=p.TW.selectById(t,i),l=null===a||void 0===a?void 0:a.views.find((e=>e.id===n));if(!l)return e;const r=b()(l.columns,"order"),s=r.findIndex((e=>e.id===o)),d=s<=0?void 0:r[s-1].id;return{...e,prevColumnId:d}}};var $=i(15972),J=i.n($),K=i(84527),Y=i.n(K),Q=i(65301),X=i.n(Q),ee=i(41012);const te={action:ee.hS,undoAction:ee.cE,redoAction:ee.Pf,getRedoPayload:(e,t)=>e,getUndoPayload:function(e,t){var i,n;const{id:o,viewId:a,columnIds:l,params:r}=e,s=p.TW.selectById(t,o),d=null===s||void 0===s?void 0:s.views.find((e=>e.id===a));if(!d||0===(null===(i=d.columns)||void 0===i?void 0:i.length)||0===l.length)return e;const c=null===(n=d.columns)||void 0===n?void 0:n.filter((e=>e.id===l[0]));return 0===(null===c||void 0===c?void 0:c.length)?e:{...e,params:J()({},r,Y()(null===c||void 0===c?void 0:c[0],X()(r)))}}};var ie=i(2954),ne=i.n(ie),oe=i(27831),ae=i.n(oe),le=i(89063),re=i.n(le);const se={action:h.W0,undoAction:h.fV,redoAction:h.V2,getUndoPayload:function(e,t){const{id:i,params:n,destCells:o}=e,{destColumnIDs:a,destRowIDs:l}=n,r=p.TW.selectById(t,i);if(r){const e=V()(l,(e=>V()(a,(t=>{var i,n;const a=null===(i=r.rows)||void 0===i?void 0:i.find((t=>t.id===e));return null!==(n=null===a||void 0===a?void 0:a.cells[t])&&void 0!==n?n:null===o||void 0===o?void 0:o[e][t]})))),t=V()(a,(e=>r.columns.find((t=>t.id===e))));return{id:i,params:{...n,source:e,sourceColumns:t}}}return e},getRedoPayload:function(e,t,i){const{wsSyncedData:n}=i,o=V()(n.addedRows,(e=>e.id)),a=V()(n.addedColumns,(e=>e.id)),l=V()(ne()(e.params.source,o.length),(e=>ne()(e,a.length))),r=ae()(e.params.sourceColumns,re()(l[0]));return Object.assign(e,{params:{...e.params,source:l,sourceColumns:r},addedRowIds:o,addedColumnIds:a})},getFulfilledUndoPayload:function(e,t,i,n){const{wsSyncedData:o}=n,a=V()(o.addedColumns,(e=>e.id)),l=V()(o.addedRows,(e=>e.id));return Object.assign(i,{addedColumnIds:a,addedRowIds:l})}},de=se;var ce=i(95475),ue=i(50810);const pe={action:ce.Bh,undoAction:ce.Ai,redoAction:ce.Wp,getRedoPayload:function(e,t){var i;const{projectId:n}=e,o=ue.s.getSelectors().selectAll(t.annotation.annotations);return{projectId:n,annotationId:null===(i=M()(o))||void 0===i?void 0:i.id}},getFulfilledUndoPayload:function(e,t){var i;const{projectId:n}=e,o=ue.s.getSelectors().selectAll(t.annotation.annotations);return{projectId:n,annotationId:null===(i=M()(o))||void 0===i?void 0:i.id}}};const he={action:ce.Dl,undoAction:ce.x4,redoAction:ce.wB,getRedoPayload:function(e,t){const{projectId:i,annotationId:n}=e;return{projectId:i,annotationId:n}},getUndoPayload:function(e,t){const{projectId:i,annotationId:n}=e;return{projectId:i,annotationId:n}}};const ve={action:ce._E,undoAction:ce.v,redoAction:ce.AL,getRedoPayload:function(e,t){const{projectId:i,annotation:n}=e;return{projectId:i,annotation:n}},getUndoPayload:function(e,t){const{projectId:i,annotation:n}=e;return n.id?{projectId:i,annotation:ue.s.getSelectors().selectById(t.annotation.annotations,n.id)}:{projectId:i,annotation:n}}};var ge=i(80778);const fe=[v,f,I,k,T,P,L,R,A,z,U,q,G,te,de,pe,he,ve,{action:ge.Qw,undoAction:ge.d3,redoAction:ge.fu,getRedoPayload:(e,t,i)=>{const{wsSyncedData:n}=i,{id:o,appendRowIDs:a}=null!==n&&void 0!==n?n:{};return{id:o,rowIDs:a}},getFulfilledUndoPayload:(e,t,i,n)=>{const{wsSyncedData:o}=n,{id:a,appendRowIDs:l}=null!==o&&void 0!==o?o:{};return{tableNodeId:a,rowIds:l}}},{action:ge.cT,undoAction:ge.CZ,redoAction:ge.u0,getRedoPayload:(e,t,i)=>{const{deleteRowIds:n,prevRowId:o}=e,{wsSyncedData:a}=i,{id:l,tableNodeID:r}=null!==a&&void 0!==a?a:{};return{tableNodeId:r,rowIds:[l],prevRowId:o,deleteRowIds:n}},getFulfilledUndoPayload:(e,t,i,n)=>{const{deleteRowIds:o,prevRowId:a}=e,{wsSyncedData:l}=n,{id:r,tableNodeID:s}=null!==l&&void 0!==l?l:{};return{tableNodeId:s,prevRowId:a,deleteRowIds:o,rowIds:[r]}}}],me=(0,n.Gx)(...fe.map((e=>e.action)));function ye(e){return fe.find((t=>[t.action.pending.match(e),t.action.fulfilled.match(e),t.action.rejected.match(e)].some((e=>e))))}const we=e=>t=>i=>{if(me(i)){const t=ye(i);t&&function(e,t,i){const{dispatch:n,getState:l}=i,r=t.action;if(r.pending.match(e)){var s,d;const i=null===(s=t.getUndoPayload)||void 0===s?void 0:s.call(t,null!==(d=e.meta.arg)&&void 0!==d?d:{},l());a.set(e.meta.requestId,i),n(o.N.clearRedo())}if(r.fulfilled.match(e)&&a.has(e.meta.requestId)){const i=a.get(e.meta.requestId),r=t.getFulfilledUndoPayload?t.getFulfilledUndoPayload(e.meta.arg,l(),i,e.payload):i,s=t.getRedoPayload(e.meta.arg,l(),e.payload);n(o.N.appendUndo({originalActionType:e.type,undoAction:t.undoAction,redoAction:t.redoAction,undoPayload:r,redoPayload:s,pathname:document.location.pathname})),a.delete(e.meta.requestId)}r.rejected.match(e)&&a.delete(e.meta.requestId)}(i,t,e)}return t(i)}},26436:(e,t,i)=>{"use strict";i.d(t,{cq:()=>O,ev:()=>b,fw:()=>P});var n=i(57323),o=i.n(n);let a=function(e){return e[e.LeftParen=0]="LeftParen",e[e.RightParen=1]="RightParen",e[e.Comma=2]="Comma",e[e.Minus=3]="Minus",e[e.Plus=4]="Plus",e[e.Divide=5]="Divide",e[e.Multiply=6]="Multiply",e[e.Mod=7]="Mod",e[e.Equal=8]="Equal",e[e.Greater=9]="Greater",e[e.GreaterEqual=10]="GreaterEqual",e[e.Less=11]="Less",e[e.LessEqual=12]="LessEqual",e[e.Variable=13]="Variable",e[e.FunctionName=14]="FunctionName",e[e.String=15]="String",e[e.Number=16]="Number",e[e.EOF=17]="EOF",e[e.Concat=18]="Concat",e}({});function l(e,t){return{id:e,message:t}}const r=l("bad_syntax","Syntax error"),s=l("missing_operand","Missing operand"),d=l("missing_right_paren","Expression missing right parenthesis"),c=l("unknown_char","Unknown character"),u=l("fn_left_paren","Function must be followed by left parenthesis"),p=l("fn_right_paren","Function calls missing right parenthesis"),h=l("fn_max_params","Maximum support for function calls is 256 parameters"),v=l("incomplete_number","Number incomplete"),g=l("incomplete_string","String incomplete"),f=l("var_name","Variable name error");class m{constructor(e){o()(this,"source",[]),o()(this,"tokens",[]),o()(this,"start",0),o()(this,"current",0);for(const t of e)this.source.push(t)}scanTokens(){for(;!this.isAtEnd();){this.start=this.current;const e=this.scanToken();if(void 0!==e)return[void 0,e]}return this.tokens.push({type:a.EOF,range:{start:this.current,end:this.current}}),[this.tokens,void 0]}scanToken(){const e=this.advance();switch(e){case"(":case"\uff08":this.addToken(a.LeftParen,void 0);break;case")":case"\uff09":this.addToken(a.RightParen,void 0);break;case",":case"\uff0c":this.addToken(a.Comma,void 0);break;case"-":case"\uff0d":this.addToken(a.Minus,void 0);break;case"+":case"\uff0b":this.addToken(a.Plus,void 0);break;case"/":case"\uff0f":this.addToken(a.Divide,void 0);break;case"*":case"\uff0a":this.addToken(a.Multiply,void 0);break;case"%":case"\uff05":this.addToken(a.Mod,void 0);break;case"=":case"\uff1d":this.addToken(a.Equal,void 0);break;case">":case"\uff1e":this.match("=")||this.match("\uff1d")?this.addToken(a.GreaterEqual,void 0):this.addToken(a.Greater,void 0);break;case"<":case"\uff1c":this.match("=")||this.match("\uff1d")?this.addToken(a.LessEqual,void 0):this.addToken(a.Less,void 0);break;case" ":case"\t":case"\r":case"\n":break;case'"':case"\u201c":case"\u201d":{const[e,t]=this.stringValue(['"',"\u201c","\u201d"]);if(void 0!==t)return t;this.addToken(a.String,e);break}case"'":case"\u2018":case"\u2019":{const[e,t]=this.stringValue(["'","\u2018","\u2019"]);if(void 0!==t)return t;this.addToken(a.String,e);break}case"$":case"\uff04":{const e=this.peek();if(!this.isAlpha(e))return{pos:{start:this.current-1,end:this.current-1},err:f};this.addToken(a.Variable,this.identifierValue().slice(1));break}case"&":this.addToken(a.Concat,void 0);break;default:if(this.isDigit(e)){const[e,t]=this.numberValue();if(void 0!==t)return t;this.addToken(a.Number,e)}else{if(!this.isAlpha(e))return{pos:{start:this.current-1,end:this.current-1},err:c};this.addToken(a.FunctionName,this.identifierValue())}}}stringValue(e){const t=this.current-1;for(;!e.includes(this.peek())&&!this.isAtEnd();)this.advance();return this.isAtEnd()?["",{pos:{start:t,end:this.current-1},err:g}]:(this.advance(),[this.source.slice(this.start+1,this.current-1).join(""),void 0])}identifierValue(){for(;this.isAlphaNumeric(this.peek());)this.advance();return this.source.slice(this.start,this.current).join("")}numberValue(){const e=this.current-1;for(;this.isDigit(this.peek());)this.advance();if("."===this.peek()){if(!this.isDigit(this.peekNext()))return[0,{pos:{start:e,end:this.current},err:v}];for(this.advance();this.isDigit(this.peek());)this.advance()}const t=parseFloat(this.source.slice(this.start,this.current).join(""));return isNaN(t)?[0,{pos:{start:e,end:this.current},err:v}]:[t,void 0]}isAtEnd(){return this.current>=this.source.length}advance(){return this.current+=1,this.source[this.current-1]}match(e){return!this.isAtEnd()&&(this.source[this.current]===e&&(this.current++,!0))}lexemeSubstitution(e){switch(e){case"\uff08":return"(";case"\uff09":return")";case"\uff0c":return",";case"\uff0d":return"-";case"\uff0b":return"+";case"\uff0f":return"/";case"\uff0a":return"*";case"\uff1d":return"=";case"\uff1e":return">";case"\uff1c":return"<";case"\uff04":return"$";case">\uff1d":case"\uff1e=":case"\uff1e\uff1d":return">=";case"<\uff1d":case"\uff1c=":case"\uff1c\uff1d":return"<=";default:return e}}addToken(e,t){const i={type:e,lexeme:this.lexemeSubstitution(this.source.slice(this.start,this.current).join("")),literal:t,range:{start:this.start,end:this.current-1}};this.tokens.push(i)}peek(){return this.isAtEnd()?"\0":this.source[this.current]}peekNext(){return this.current+1>=this.source.length?"\0":this.source[this.current+1]}isAlpha(e){return 1===e.length&&!!e.match(/[a-zA-Z_]/i)}isDigit(e){return 1===e.length&&!!e.match(/[0-9]/i)}isAlphaNumeric(e){return 1===e.length&&!!e.match(/[0-9a-zA-Z_]/i)}}class y{constructor(e){o()(this,"tokens",[]),o()(this,"current",0),this.tokens=e}parse(){const[e,t]=this.expression();return t?[void 0,t]:this.isAtEnd()?[e,void 0]:[void 0,{pos:this.pos(),err:r}]}expression(){let e;const[t,i]=this.comparison();if(e=t,i)return[void 0,i];for(;this.match([a.Equal]);){const t=this.previous(),[i,n]=this.comparison();if(n)return[void 0,n];e={left:e,operator:t,right:i}}return[e,void 0]}comparison(){let e;const[t,i]=this.addition();if(e=t,i)return[void 0,i];for(;this.match([a.Greater,a.GreaterEqual,a.Less,a.LessEqual]);){const t=this.previous(),[i,n]=this.addition();if(n)return[void 0,n];e={left:e,operator:t,right:i}}return[e,void 0]}addition(){let e;const[t,i]=this.multiplication();if(e=t,i)return[void 0,i];for(;this.match([a.Plus,a.Minus,a.Concat]);){const t=this.previous(),[i,n]=this.multiplication();if(n)return[void 0,n];e={left:e,operator:t,right:i}}return[e,void 0]}multiplication(){let e;const[t,i]=this.unary();if(e=t,i)return[void 0,i];for(;this.match([a.Multiply,a.Divide,a.Mod]);){const t=this.previous(),[i,n]=this.unary();if(n)return[void 0,n];e={left:e,operator:t,right:i}}return[e,void 0]}unary(){if(this.match([a.Minus,a.Plus])){const e=this.previous(),[t,i]=this.unary();return i?[void 0,{pos:this.pos(),err:s}]:[{operator:e,operand:t},void 0]}return this.primary()}primary(){if(this.match([a.Number,a.String]))return[{val:this.previous().literal},void 0];if(this.match([a.Variable]))return[{name:this.previous()},void 0];if(this.match([a.LeftParen])){let e;const[t,i]=this.expression();return e=i,e?[void 0,e]:(e=this.consume(a.RightParen,{pos:this.pos(),err:d}),[{expression:t},void 0])}if(this.match([a.FunctionName])){const e=this.previous(),t=e.range;let i=this.consume(a.LeftParen,{pos:t,err:u});if(i)return[void 0,i];const n=[];if(!this.check(a.RightParen)){const e=()=>{const e=this.pos();if(e.start+=1,e.end+=1,n.length>=256)return{pos:e,err:h};const[t,i]=this.expression();if(i)return i;n.push(t)},t=e();if(t)return[void 0,t];for(;this.match([a.Comma]);){const t=e();if(t)return[void 0,t]}}return i=this.consume(a.RightParen,{pos:this.pos(),err:p}),i?[void 0,i]:[{callee:e,arguments:n},void 0]}switch(this.previous().type){case a.Minus:case a.Divide:case a.Plus:case a.Multiply:case a.Mod:case a.Concat:return[void 0,{pos:this.pos(),err:s}];default:return[void 0,{pos:this.pos(),err:r}]}}pos(){const e=this.peek();return{start:e.range.start,end:e.range.end}}peek(){return this.tokens[this.current]}previous(){return 0===this.current?this.peek():this.tokens[this.current-1]}isAtEnd(){return this.peek().type===a.EOF}advance(){return this.isAtEnd()||(this.current+=1),this.previous()}check(e){return!this.isAtEnd()&&this.peek().type===e}consume(e,t){if(!this.check(e))return t;this.advance()}match(e){for(const t of e)if(this.check(t))return this.advance(),!0;return!1}}function w(e,t){if("left"in e)w(e.left,t),t(e.operator.lexeme),w(e.right,t);else if("operand"in e)t(e.operator.lexeme),w(e.operand,t);else if("callee"in e){t(e.callee.lexeme),t("(");const i=e.arguments;for(let e=0;e<i.length;e++)w(i[e],t),e<i.length-1&&t(",");t(")")}else"expression"in e?(t("("),w(e.expression,t),t(")")):"val"in e&&null!=e.val?"string"===typeof e.val?t('"'.concat(e.val,'"')):t("".concat(e.val)):"name"in e&&t(e.name.lexeme)}function b(e){const t=new m(e),[i,n]=t.scanTokens();if(n)return n;const o=new y(i),[a,l]=o.parse();if(l)return l;const r=[];return w(a,(e=>{r.push(e)})),r}var C=i(17646),x=i.n(C),I=i(78587),j=i.n(I),M=i(13226),k=i.n(M),T=i(75348),E=i.n(T);function P(e){const t=[];return x()(e,(e=>{if(e.childNodes&&e.childNodes.length){const i=e.getAttribute("data-id");if(!i)return t.push(...P(e.childNodes));t.push("$c_".concat(i))}else{const i=e.textContent||"";i&&t.push(k()(i,/\r\n|\r|\t|\n|\u00a0|\u2424|\u200b/g,""))}})),t}function O(e,t){return j()(e)?E()(e,t):e.indexOf(t)}},55519:(e,t,i)=>{"use strict";i.d(t,{g:()=>v});var n=i(57435),o=i(33718),a=i(68429),l=i(53029);const r="folder_accordion__TA7me",s="folder_open__EtN00",d="folder_title__MHzbH",c="folder_content__4-wv4",u="folder_hide__dMzk8",p="folder_icon__WE28l";var h=i(94553);const v=(0,n.forwardRef)(((e,t)=>{var i;const{title:v,children:g,className:f,testId:m,isPro:y}=e,[w,b]=(0,n.useState)(null!==(i=e.defaultOpen)&&void 0!==i&&i);return(0,n.useImperativeHandle)(t,(()=>({open:()=>b(!0),close:()=>b(!1)}))),(0,h.jsxs)("div",{className:(0,o.default)(r,f,{[s]:w}),"data-testid":m,"aria-expanded":w,children:[(0,h.jsxs)("div",{className:d,onClick:function(){var t;b((e=>!e)),null===(t=e.onOpenChange)||void 0===t||t.call(e,!w)},children:[(0,h.jsxs)("div",{children:[v," ",y&&(0,h.jsx)(l.Z,{})]}),(0,h.jsx)("div",{className:p,children:(0,h.jsx)(a.Z,{type:w?"collapse":"expand"})})]}),(0,h.jsx)("div",{className:(0,o.default)(c,{[u]:!w}),children:g})]})}))},70546:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});var n=i(89614),o=i(33718);const a={formItem:"formItem_formItem__C3FQe"};var l=i(94553);function r(e){let{children:t,name:i,className:r,...s}=e;return(0,l.jsx)(n.Z.Item,{name:i,className:(0,o.default)(a.formItem,r),...s,children:t})}},17738:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n.x});var n=i(70546)},38256:(e,t,i)=>{"use strict";i.d(t,{ge:()=>Ne,gt:()=>Ee.g,xJ:()=>Pe.x,$1:()=>Te,gG:()=>Ge,iR:()=>Ve});var n=i(57435),o=i(11347),a=i(14840),l=i(10485),r=i(95620),s=i(64493),d=i.n(s),c=i(15609),u=i.n(c),p=i(33718),h=i(96271),v=i(68429),g=i(98248),f=i(53029),m=i(30423),y=i(27052),w=i(95436),b=i(27371),C=i(75605),x=i(59680),I=i(7070),j=i.n(I),M=i(56439),k=i.n(M),T=i(54864),E=i(15525),P=i(64496);const O={container:"uploader_container__LCCsN",filelist:"uploader_filelist__pFb0B",default:"uploader_default__btfQ2",dashed:"uploader_dashed__Yjlia",content:"uploader_content__zF1NL",iconWrap:"uploader_iconWrap__6o9Xd",title:"uploader_title__zT-Gq",description:"uploader_description__pRaBz"};var _=i(1716),S=i(49210);const N="upload-file_item__kHDpb",L="upload-file_icon__RKCML",D="upload-file_content__zi7JA",R="upload-file_name__wCcrR",Z="upload-file_size__RgqK1",A="upload-file_action__O8ncT";var F=i(94553);function z(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065ff",fillOpacity:".15",d:"M27.494 4.361H10.592a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33H32.74a2.338 2.338 0 0 0 2.33-2.33v-21.37l-7.575-7.577Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M27.494 9.604a2.34 2.34 0 0 0 2.33 2.333h5.244L27.494 4.36v5.243ZM6.74 23.525h17.808c1.446 0 2.17.723 2.17 2.17v5.785c0 1.446-.724 2.17-2.17 2.17H6.74c-1.447 0-2.17-.724-2.17-2.17v-5.786c0-1.446.723-2.17 2.17-2.17ZM11.645 8.355h11.073V9.91H11.645V8.355Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M13.2 8.354v11.073h-1.555V8.355l1.554-.001Zm3.615 0v11.073H15.26V8.354h1.555Zm3.616 0v11.073h-1.555V8.354h1.555Zm3.616 0v11.073h-1.555V8.354h1.555Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M11.645 11.786h11.073v1.555H11.645v-1.555Zm0 3.432h11.7v1.555h-11.7v-1.555Zm0 3.433h12.402v1.555H11.645V18.65Z"}),(0,F.jsx)("path",{fill:"#fff",d:"m9.644 29.243.425.633-1.784 2.411h-.857l2.216-3.044Zm.033.44L7.46 26.78h.86l1.809 2.476 2.26 3.032h-.852l-1.86-2.603Zm.143-.509 1.627-2.403h.86l-2.088 2.976-.4-.573Zm3.99 1.663a.79.79 0 0 0 .18.543.616.616 0 0 0 .481.193h.51v.712h-.645a1.198 1.198 0 0 1-.955-.383 1.576 1.576 0 0 1-.338-1.085V24.56h.767v6.277Zm3.24 1.53-.422-.087a3.614 3.614 0 0 1-.783-.258 2.864 2.864 0 0 1-.645-.409l.441-.542c.29.196.604.354.935.47.294.107.605.164.918.168.424.025.847-.067 1.222-.266a.856.856 0 0 0 .434-.767.675.675 0 0 0-.21-.542 1.142 1.142 0 0 0-.53-.246 7.694 7.694 0 0 0-.887-.105h-.302a5.242 5.242 0 0 1-.915-.159 1.266 1.266 0 0 1-.614-.4 1.275 1.275 0 0 1-.246-.844c-.01-.32.08-.636.257-.903.189-.261.452-.46.755-.568.382-.14.787-.207 1.194-.197.242 0 .484.023.723.07.24.04.475.103.703.188.215.086.419.196.61.328l-.442.526a3.717 3.717 0 0 0-.819-.362 2.84 2.84 0 0 0-.797-.125 1.905 1.905 0 0 0-1.085.26.837.837 0 0 0-.381.735.586.586 0 0 0 .202.499c.154.114.334.188.524.215.288.043.579.072.87.085h.052a.2.2 0 0 0 .046 0h.065c.332.013.662.061.985.142.268.073.507.227.683.442.202.274.3.611.277.95.01.328-.087.649-.277.915a1.723 1.723 0 0 1-.808.577c-.412.142-.846.21-1.282.199l-.452.01ZM22.464 30.052l-1.654 2.236h-.857l2.068-2.84-2.036-2.668h.86l1.62 2.218 1.507-2.226h.86l-1.954 2.785 2.035 2.731h-.851l-1.598-2.236Z"})]})}function B(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065ff",fillOpacity:".15",d:"M27.494 4.361H10.592a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33H32.74a2.338 2.338 0 0 0 2.33-2.33v-21.37l-7.575-7.577Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M27.494 9.604a2.34 2.34 0 0 0 2.33 2.333h5.244L27.494 4.36v5.243ZM6.57 23.525h17.808c1.446 0 2.17.724 2.17 2.17v5.785c0 1.446-.724 2.17-2.17 2.17H6.57c-1.446 0-2.17-.724-2.17-2.17v-5.785c0-1.446.724-2.17 2.17-2.17ZM11.645 8.355h11.073V9.91H11.645V8.355Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M13.2 8.353v11.074h-1.555V8.353h1.554Zm3.615 0v11.074H15.26V8.353h1.555Zm3.616 0v11.074h-1.555V8.353h1.555Zm3.616 0v11.074h-1.555V8.353h1.555Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M11.645 11.787h11.073v1.555H11.645v-1.555Zm0 3.431h11.7v1.555h-11.7v-1.555Zm0 3.434h12.402v1.554H11.645v-1.554Z"}),(0,F.jsx)("path",{fill:"#fff",d:"m13.007 30.504-.51-.49c-.385.427-.686.583-1.175.583-.5 0-.915-.197-1.186-.582-.239-.333-.333-.728-.333-1.373s.094-1.04.333-1.373c.27-.385.687-.582 1.186-.582.489 0 .79.145 1.175.572l.51-.479c-.53-.572-.978-.759-1.685-.759-1.29 0-2.267.874-2.267 2.621 0 1.747.977 2.62 2.267 2.62.707 0 1.154-.186 1.685-.758ZM17.606 29.703c0-.957-.614-1.3-1.508-1.383l-.822-.073c-.644-.052-.894-.312-.894-.749 0-.52.395-.842 1.144-.842.53 0 .998.124 1.362.405l.49-.489c-.459-.374-1.114-.55-1.842-.55-1.092 0-1.882.56-1.882 1.497 0 .842.53 1.29 1.529 1.373l.842.072c.593.052.853.302.853.75 0 .602-.52.904-1.363.904-.634 0-1.185-.166-1.59-.593l-.5.5c.562.54 1.238.738 2.1.738 1.239 0 2.08-.572 2.08-1.56ZM22.05 26.084h-.811l-1.404 4.108-1.394-4.108h-.81l1.871 5.116h.666l1.882-5.116Z"})]})}function V(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065FF",fillOpacity:".15",d:"M27.725 4.4H10.823a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33h22.146a2.337 2.337 0 0 0 2.33-2.33v-21.37L27.726 4.4Z"}),(0,F.jsx)("path",{fill:"#5493EA",d:"M27.725 9.643a2.34 2.34 0 0 0 2.33 2.332h5.243L27.725 4.4v5.243ZM6.97 23.564h17.808c1.447 0 2.17.724 2.17 2.17v5.785c0 1.447-.724 2.17-2.17 2.17H6.97c-1.446 0-2.17-.723-2.17-2.17v-5.785c0-1.446.724-2.17 2.17-2.17ZM12.959 9.84h11.073v1.555H12.96V9.84Zm0 3.431h11.073v1.555H12.96v-1.555Zm0 3.432h14.763v1.555H12.96v-1.555Zm0 3.433h18.066v1.555H12.96v-1.555Z"}),(0,F.jsx)("path",{fill:"#fff",d:"M10.763 25.2v-.762h-.77v.763h.77Zm-.047 6.794v-5.446h-.686v5.418c0 .452-.152.678-.628.678h-.37v.594h.494c.818 0 1.19-.537 1.19-1.244ZM14.864 29.799c0-.867-.562-1.178-1.38-1.253l-.752-.066c-.59-.047-.818-.283-.818-.679 0-.47.361-.763 1.046-.763.486 0 .914.113 1.247.368l.447-.443c-.418-.34-1.018-.5-1.684-.5-1 0-1.722.51-1.722 1.357 0 .763.485 1.168 1.398 1.244l.771.066c.543.047.78.273.78.678 0 .547-.475.82-1.246.82-.58 0-1.085-.15-1.456-.537l-.457.452c.514.49 1.133.669 1.922.669 1.133 0 1.903-.518 1.903-1.413ZM18.832 28.838c0-.716-.095-1.366-.57-1.847-.324-.32-.771-.528-1.342-.528-.571 0-1.018.208-1.342.528-.476.48-.57 1.13-.57 1.847 0 .716.094 1.366.57 1.846.324.32.77.528 1.342.528.57 0 1.018-.207 1.341-.528.476-.48.571-1.13.571-1.846Zm-.685 0c0 .518-.028 1.093-.37 1.432-.22.217-.524.339-.857.339-.333 0-.628-.122-.847-.34-.343-.338-.38-.913-.38-1.431s.037-1.093.38-1.432c.219-.217.514-.34.847-.34.333 0 .637.123.856.34.343.339.371.914.371 1.432ZM23.031 31.155v-2.967c0-.537-.152-.97-.485-1.291-.285-.283-.695-.434-1.199-.434-.523 0-.98.189-1.313.566v-.509h-.685v4.636h.685V28.3c0-.81.457-1.235 1.16-1.235.705 0 1.152.415 1.152 1.235v2.855h.685Z"})]})}function H(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065FF",fillOpacity:".15",d:"M27.725 4.4H10.823a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33h22.146a2.337 2.337 0 0 0 2.33-2.33v-21.37L27.726 4.4Z"}),(0,F.jsx)("path",{fill:"#5493EA",d:"M27.725 9.643a2.34 2.34 0 0 0 2.33 2.332h5.243L27.725 4.4v5.243ZM7.504 23.6h22.193c1.803 0 2.704.714 2.704 2.142v5.715c0 1.428-.901 2.143-2.704 2.143H7.504c-1.802 0-2.703-.715-2.703-2.143v-5.715c0-1.428.901-2.142 2.703-2.142Z"}),(0,F.jsx)("path",{fill:"#fff",d:"M9.636 31.26V26.51h-.663v.543c-.374-.487-.786-.6-1.29-.6-.468 0-.88.16-1.122.404-.458.459-.561 1.171-.561 1.92 0 .75.103 1.463.56 1.922.244.244.646.412 1.113.412.496 0 .916-.122 1.29-.6v.722c0 .787-.374 1.415-1.262 1.415-.533 0-.766-.159-1.103-.459l-.44.431c.487.44.87.619 1.562.619 1.206 0 1.916-.834 1.916-1.978Zm-.673-2.483c0 .862-.14 1.724-1.14 1.724-1 0-1.15-.862-1.15-1.724s.15-1.725 1.15-1.725c1 0 1.14.863 1.14 1.725ZM13.908 28.992v-.309c0-1.368-.701-2.23-1.888-2.23-1.169 0-1.889.871-1.889 2.361 0 1.631.795 2.362 2.01 2.362.786 0 1.216-.244 1.683-.712l-.458-.403c-.365.365-.673.525-1.206.525-.879 0-1.355-.581-1.355-1.594h3.103Zm-.673-.506h-2.43c.018-.375.037-.515.14-.768a1.143 1.143 0 0 1 1.075-.694c.486 0 .897.272 1.075.694.102.253.121.393.14.768ZM17.92 28.814c0-.712-.093-1.359-.56-1.837-.318-.318-.757-.524-1.318-.524s-1 .206-1.318.524c-.468.478-.561 1.125-.561 1.837 0 .713.093 1.36.56 1.837.319.319.758.525 1.319.525.56 0 1-.206 1.318-.525.467-.478.56-1.124.56-1.837Zm-.672 0c0 .516-.028 1.087-.365 1.425a1.177 1.177 0 0 1-.841.337c-.327 0-.617-.122-.832-.337-.337-.338-.374-.91-.374-1.425s.037-1.087.374-1.424c.215-.216.505-.338.832-.338.327 0 .626.122.841.338.337.337.365.909.365 1.424ZM19.148 25.197v-.76h-.757v.76h.757Zm-.047 6.757v-5.417h-.673v5.389c0 .45-.15.674-.617.674h-.364v.59h.486c.804 0 1.168-.533 1.168-1.236ZM23.176 29.77c0-.862-.551-1.171-1.355-1.246l-.739-.066c-.58-.047-.804-.281-.804-.675 0-.468.356-.759 1.029-.759.476 0 .897.113 1.224.366l.44-.44c-.412-.338-1-.497-1.655-.497-.982 0-1.692.506-1.692 1.35 0 .758.477 1.161 1.374 1.236l.757.066c.533.047.767.272.767.675 0 .543-.468.815-1.225.815-.57 0-1.065-.15-1.43-.534l-.449.45c.505.487 1.113.665 1.889.665 1.112 0 1.87-.515 1.87-1.406ZM27.075 28.814c0-.712-.093-1.359-.56-1.837-.319-.318-.758-.524-1.319-.524-.56 0-1 .206-1.318.524-.467.478-.56 1.125-.56 1.837 0 .713.093 1.36.56 1.837.318.319.757.525 1.318.525s1-.206 1.318-.525c.468-.478.561-1.124.561-1.837Zm-.673 0c0 .516-.028 1.087-.365 1.425a1.177 1.177 0 0 1-.84.337c-.328 0-.618-.122-.833-.337-.336-.338-.374-.91-.374-1.425s.038-1.087.374-1.424c.215-.216.505-.338.832-.338.327 0 .626.122.841.338.337.337.365.909.365 1.424ZM31.2 31.12v-2.952c0-.534-.15-.966-.477-1.284-.28-.281-.682-.431-1.178-.431-.514 0-.962.187-1.29.562v-.506h-.673v4.61h.673V28.28c0-.806.45-1.228 1.14-1.228.693 0 1.132.413 1.132 1.228v2.84h.673Z"}),(0,F.jsx)("path",{fill:"#5493EA",d:"M12.959 9.84h11.073v1.555H12.96V9.84Zm0 3.431h11.073v1.555H12.96v-1.555Zm0 3.432h14.763v1.555H12.96v-1.555Zm0 3.433h18.066v1.555H12.96v-1.555Z"})]})}function W(e){let{type:t}=e;switch(t){case"xlsx":return(0,F.jsx)(z,{});case"csv":return(0,F.jsx)(B,{});case"json":return(0,F.jsx)(V,{});case"geojson":return(0,F.jsx)(H,{});default:return(0,F.jsx)(v.Z,{type:"file"})}}function U(e){var t;const i=e.name.split("."),n=null===(t=i[i.length-1])||void 0===t?void 0:t.toLowerCase();if(!n)return"file";switch(n){case"csv":return"csv";case"json":return"json";case"geojson":return"geojson";case"xls":case"xlsx":return"xlsx";default:return"file"}}function q(e){let{file:t,onRemove:i}=e;return(0,F.jsxs)("div",{className:N,children:[(0,F.jsx)("div",{className:L,children:(0,F.jsx)(W,{type:U(t)})}),(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)("div",{className:R,children:t.fileName||t.name}),(0,F.jsx)("div",{className:Z,children:(0,S.kK)(t.size||0)}),(0,F.jsx)(_.Z,{percent:t.percent,status:"active",style:"done"===t.status?{display:"none"}:void 0})]}),(0,F.jsx)("div",{className:A,children:(0,F.jsx)("button",{onClick:i,children:(0,F.jsx)(v.Z,{type:"recycleBin"})})})]})}const G=(e,t,i,n)=>(0,F.jsx)(q,{file:t,onRemove:n.remove});function $(e){const{description:t,className:i,testId:n="uploader",fileList:o,children:a,...l}=e;return(0,F.jsx)(C.default.Dragger,{...l,itemRender:G,fileList:o,className:(0,p.default)(O.container,i,null!==o&&void 0!==o&&o.length?O.filelist:O.default),children:a||(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(J,{}),(0,F.jsxs)("div",{className:O.content,"data-testid":n,children:[(0,F.jsx)("div",{className:O.iconWrap,children:(0,F.jsx)(K,{})}),(0,F.jsx)("p",{className:O.title,children:(0,F.jsx)(E.Z,{id:"uploader.title",defaultMessage:"<b>Click to upload</b> or drag and drop",values:{b:e=>(0,F.jsx)("b",{children:e})}})}),t&&(0,F.jsx)("p",{className:O.description,children:t})]})]})})}function J(){const[e,{height:t,width:i}]=(0,P.Z)();return(0,F.jsx)("div",{className:O.dashed,ref:e,children:i&&t?(0,F.jsx)("svg",{viewBox:"0 0 ".concat(i," ").concat(t),fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)("rect",{x:"0.5",y:"0.5",width:i-1,height:t-1,rx:"8",fill:"#fafbfc",stroke:"currentColor",strokeDasharray:"8 8"})}):null})}function K(e){let{size:t=20}=e;return(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:"none",viewBox:"0 0 20 20",children:(0,F.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.667",d:"M6.666 13.333 9.999 10m0 0 3.334 3.333M9.999 10v7.5m6.667-3.548a4.583 4.583 0 0 0-2.917-8.12.516.516 0 0 1-.445-.25 6.25 6.25 0 1 0-9.816 7.58"})})}const Y="customIconUploader_customIconList__jlxlu",Q="customIconUploader_customIcon__wUO-I",X="customIconUploader_customIconImage__z3z5D",ee="customIconUploader_active__l9lWq",te="customIconUploader_deleteIcon__SrbDb",ie="customIconUploader_customIconUploader__vpacz",ne="customIconUploader_small__y38wl",oe="customIconUploader_uploadBtn__7qqfz",ae="customIconUploader_iconUpload__9kfyp",le="customIconUploader_badgeSm__VwS7y",re=["jpg","jpeg","png","webp"],se=e=>{let{projectId:t,activeIcon:i,icons:o,enableDelete:a,emoji:l,onSelectedIcon:r}=e;const s=(0,m.I)(),[d,c]=(0,n.useState)(l?i:u()(i,"c:"));return(0,F.jsx)("div",{className:Y,children:j()(o,(e=>(0,F.jsxs)("div",{className:(0,p.default)(Q,{[ee]:d===e.id}),onClick:()=>{return t=e.id,void(d===t?(c(""),r(null)):(c(t),r(t)));var t},children:[(0,F.jsx)("div",{className:X,children:(0,F.jsx)("img",{src:e.imageUrl,alt:"icon"})}),a&&(0,F.jsx)(v.Z,{type:"delete",className:te,onClick:i=>{var n;null===i||void 0===i||i.stopPropagation(),n=e.id,s({type:"icons/remove",payload:n}),t&&s((0,T.wo)({projectID:t,icons:o.filter((e=>e.id!==n)).map((e=>e.id))}))}})]},e.id)))})},de=e=>{let{projectId:t,activeIcon:i,icons:o,disabled:a,onSelectedIcon:l,onClick:s}=e;const d=(0,m.I)(),[c,u]=(0,n.useState)(!1),h=o.length,g=(0,r.Z)();return(0,F.jsx)("div",{onClick:s,children:(0,F.jsxs)(x.Z,{spinning:c,children:[h>0&&(0,F.jsx)(se,{projectId:t,activeIcon:i,icons:o,onSelectedIcon:e=>{l(e?"c:".concat(e):null)},enableDelete:!0}),(0,F.jsx)($,{testId:"iconUploader",className:(0,p.default)(ie,{[ne]:h>0}),accept:re.map((e=>".".concat(e))).join(","),beforeUpload:function(e,t){const i=k()(e.name,".").pop();return h>=10?(b.ZP.error(g.$t({id:"aLPNCo",defaultMessage:"The number of icons has reached the limit"})),C.default.LIST_IGNORE):e.size>1048576?(b.ZP.error(g.$t({id:"SJW82r",defaultMessage:"File size cannot exceed 1Mb"})),C.default.LIST_IGNORE):i&&re.includes(i.toLocaleLowerCase())?"":(b.ZP.error(g.$t({id:"HW/VI/",defaultMessage:"File format not supported"})),C.default.LIST_IGNORE)},customRequest:function(e){const i=e.file;u(!0),d((0,T.P8)({file:i})).then((e=>{const{payload:i}=e;i&&t&&d((0,T.Ug)({projectID:t,fileID:i})).then((e=>{e.payload&&d({type:"icons/list",payload:e.payload.detail})}))})).catch((()=>{b.ZP.error(g.$t({id:"W7540A",defaultMessage:"File upload failed. Please try again."}))})).finally((()=>{u(!1)}))},multiple:!1,description:g.$t({id:"doQgGn",defaultMessage:"Support PNG, JPG, JPEG, WebP formats, up to 10 custom icons"}),disabled:a,children:h>0&&(0,F.jsxs)("div",{className:oe,children:[(0,F.jsx)(v.Z,{type:"plainPlus",className:ae}),g.$t({id:"p4N05H",defaultMessage:"Upload"}),(0,F.jsx)(f.Z,{className:le})]})})]})})},ce="iconPicker_colorPalette__tOOS+",ue="iconPicker_active__bI6lY",pe="iconPicker_subTitle__W9vHF",he="iconPicker_iconSelect__3O6h4",ve="iconPicker_icon__b8zpu",ge="iconPicker_colorPicker__dXZU4",fe="iconPicker_colorPickerButton__8E5B9",me="iconPicker_disabled__lTVQJ",ye="iconPicker_iconPickerButton__uBiVG",we="iconPicker_currentColor__L6+OI",be="iconPicker_feishuColorPalette__1MMOs",Ce="iconPicker_iconAndColorPickerTabs__EtkhP",xe="iconPicker_wide__alKZt",Ie="iconPicker_customizeIconTabTitle__0P5c3",je="iconPicker_maptableColorPalette__6sqOr",Me="iconPicker_iconColorPicker__U+Rhq",ke=(h.Cq,h.Er,h.P8,e=>{const{projectId:t,color:i,icon:s,optionIndex:c,choiceId:h,showIcon:b=!1,isThirdPartyTable:C,enableCustomizedIcon:x=!1,showProBadge:I=!0,className:j,overlayClassName:M,disabled:k,disableCustomColor:T,onIconChange:E,onColorChange:P,onUseCustomizeIcon:O}=e,[_,S]=(0,n.useState)(!1),[N,L]=(0,n.useState)("location"),[D,R]=(0,n.useState)(i),Z=(0,m.v)(y.EM.selectAll),A=(0,r.Z)();(0,n.useEffect)((()=>{R(i),L(s||"location")}),[i,s]);const z=()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:pe,children:A.$t({id:"kk4TVW",defaultMessage:"Icon"})}),(0,F.jsx)("div",{className:he,children:w.jm.map((e=>(0,F.jsx)(n.Fragment,{children:(0,F.jsx)(v.Z,{className:(0,p.default)(ve,e===N?ue:void 0),style:{color:D&&D},type:"iconLayerIcon".concat(d()(e)),onClick:()=>{return L(t=e),null===E||void 0===E||E(t,h),void S(!1);var t}})},e)))})]}),B=n.memo((()=>{if(w.jm.includes(N))return(0,F.jsx)(v.Z,{"data-icon":"builtin",className:(0,p.default)(fe,{[me]:k}),style:{color:D||"#fff"},type:"iconLayerIcon".concat(d()(N)),onClick:k?void 0:()=>S(!0)});{var e;const t=u()(N,"c:"),i=null===(e=Z.find((e=>e.id===t)))||void 0===e?void 0:e.imageUrl;return i?(0,F.jsx)("div",{className:ye,style:{backgroundImage:"url(".concat(i,")")},"data-icon":"custom"}):(0,F.jsx)(v.Z,{"data-icon":"builtin",className:fe,style:{color:D&&D},type:"iconLayerIconLocation",onClick:k?void 0:()=>S(!0)})}}));return(0,F.jsx)(l.Z,{content:()=>{const e=(0,n.useMemo)((()=>{const e=u()(N,"c:");return w.jm.includes(e)?"builtinIcon":"customizeIcon"}),[]),[i,l]=(0,n.useState)(e);return b?(0,F.jsx)(o.Z,{defaultActiveKey:e,activeKey:i,className:(0,p.default)(Ce,{[xe]:C}),onTabClick:async e=>{if("builtinIcon"===e)l(e);else{const e=await(null===O||void 0===O?void 0:O());l(e?"customizeIcon":"builtinIcon")}},items:[{key:"builtinIcon",label:A.$t({id:"O4QELA",defaultMessage:"Default icons"}),children:(0,F.jsxs)("div",{className:(0,p.default)(ce,C?be:je),children:[!T&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:Me,children:(0,F.jsx)(g.AI,{color:D,disableAlpha:!0,onChangeComplete:e=>{null===P||void 0===P||P(e.hex,c)}})}),(0,F.jsx)(a.Z,{})]}),(0,F.jsx)(z,{})]})},{key:"customizeIcon",disabled:!x,label:(0,F.jsxs)("span",{children:[(0,F.jsx)("span",{className:Ie,children:A.$t({id:"i1TbWq",defaultMessage:"Customize icons"})}),I&&(0,F.jsx)(f.Z,{})]}),children:(0,F.jsx)(de,{projectId:t,activeIcon:N,icons:Z,onSelectedIcon:e=>{S(!1),L(null!==e&&void 0!==e?e:"location"),null===E||void 0===E||E(null!==e&&void 0!==e?e:"location",h)}})}]}):(0,F.jsx)("div",{className:(0,p.default)(ce,C?be:je),children:(0,F.jsx)("div",{className:Me,children:(0,F.jsx)(g.AI,{color:D,disableAlpha:!0,onChangeComplete:e=>{null===P||void 0===P||P(e.hex,c)}})})})},placement:"right",open:_,trigger:k?[]:"click",onOpenChange:S,classNames:{root:M},children:(0,F.jsx)("div",{className:(0,p.default)(ge,j),children:b?(0,F.jsx)(B,{}):(0,F.jsx)("div",{className:(0,p.default)(we,{[me]:k}),style:{backgroundColor:D&&D},onClick:()=>k?void 0:S(!0)})})})}),Te=n.memo(ke);var Ee=i(55519),Pe=i(70546),Oe=i(49633),_e=i(17738);const Se={horizontal:"boolean_horizontal__kCqPq"};function Ne(e){let{name:t,disabled:i,className:n,onChange:o,...a}=e;return(0,F.jsx)(_e.Z,{name:t,valuePropName:"checked",className:(0,p.default)(Se.horizontal,n),...a,children:(0,F.jsx)(Oe.Z,{size:"small",disabled:i,onChange:o})})}var Le=i(30541),De=i(50239),Re=i(34221),Ze=i(71105),Ae=i(15905),Fe=i(18878),ze=i.n(Fe);const Be={inputNumber:"slider_inputNumber__Dq084"};function Ve(e){let{name:t,rangeName:i,min:n,max:o,step:a=1,controls:l=!0,range:r=!1,rangeValue:s,label:d,formatter:c,parser:u,onRangeChange:p,hidden:h=!1}=e;return r&&Array.isArray(s)?(0,F.jsxs)(_e.Z,{label:d,hidden:h,children:[(0,F.jsx)(_e.Z,{name:i,noStyle:!0,children:(0,F.jsx)(Le.Z,{min:n,max:o,step:a,range:!0})}),(0,F.jsxs)(De.Z,{justify:"space-between",children:[(0,F.jsx)(_e.Z,{noStyle:!0,children:(0,F.jsx)(Re.Z,{min:n,max:s[1],size:"small",value:s[0],"data-testid":"".concat(Array.isArray(i)?i.join("_"):i,"_min"),onChange:e=>{ze()(e)&&e<s[1]?null===p||void 0===p||p([e,s[1]]):ze()(e)&&(null===p||void 0===p||p([s[1],s[1]]))}})}),(0,F.jsx)(_e.Z,{noStyle:!0,children:(0,F.jsx)(Re.Z,{min:s[0],max:o,size:"small",value:s[1],"data-testid":"".concat(Array.isArray(i)?i.join("_"):i,"_max"),onChange:e=>{ze()(e)&&e>s[0]?null===p||void 0===p||p([s[0],e]):ze()(e)&&(null===p||void 0===p||p([s[0],s[0]]))}})})]})]}):(0,F.jsx)(_e.Z,{label:d,hidden:h,children:(0,F.jsxs)(Ze.Z,{gutter:4,align:"middle",children:[(0,F.jsx)(Ae.Z,{span:18,children:(0,F.jsx)(_e.Z,{name:t,noStyle:!0,children:(0,F.jsx)(Le.Z,{min:n,max:o,step:a})})}),(0,F.jsx)(Ae.Z,{span:6,children:(0,F.jsx)(_e.Z,{name:t,noStyle:!0,children:(0,F.jsx)(Re.Z,{size:"small",min:n,max:o,"data-testid":"".concat(Array.isArray(t)?t.join("_"):t,"_input"),formatter:c,parser:u,controls:l,className:Be.inputNumber})})})]})})}i(81422);var He=i(99540),We=i.n(He),Ue=i(13226),qe=i.n(Ue);function Ge(e){let{name:t,label:i,hidden:n=!1}=e;const o=(0,r.Z)();return(0,F.jsx)(Ve,{name:t,label:null!==i&&void 0!==i?i:o.$t({id:"PHutSR",defaultMessage:"Opacity"}),min:0,max:1,step:.1,controls:!1,formatter:e=>"".concat(100*We()(e),"%"),parser:e=>We()(qe()(null!==e&&void 0!==e?e:"","%",""))/100,hidden:n})}i(91671),i(87522)},4285:(e,t,i)=>{"use strict";i.d(t,{u:()=>p,y:()=>c});var n=i(50239),o=i(57435),a=i(79129),l=i(95620),r=i(83580),s=i(38256),d=i(94553);const c=["top,end","top,middle","top,start","center,end","center,middle","center,start","bottom,end","bottom,middle","bottom,start"],u=[{label:(0,a.Em)({id:"NKBALi",defaultMessage:"Above left"})},{label:(0,a.Em)({id:"bDMypK",defaultMessage:"Above center"})},{label:(0,a.Em)({id:"w3Anpd",defaultMessage:"Above right"})},{label:(0,a.Em)({id:"MDOlVv",defaultMessage:"Center left"})},{label:(0,a.Em)({id:"QPmWTa",defaultMessage:"Center"})},{label:(0,a.Em)({id:"84/Bfw",defaultMessage:"Center right"})},{label:(0,a.Em)({id:"tUgLVg",defaultMessage:"Below left"})},{label:(0,a.Em)({id:"sty7Qy",defaultMessage:"Below center"})},{label:(0,a.Em)({id:"lMRC6w",defaultMessage:"Below right"})}];function p(){const e=(0,l.Z)(),t=(0,o.useMemo)((()=>u.map(((t,i)=>({value:c[i],label:(0,d.jsx)(h,{index:i,children:e.$t(t.label)})})))),[e]);return(0,d.jsx)(s.xJ,{name:["labelConfig","direction"],label:e.$t({id:"/wvSvu",defaultMessage:"Placement"}),children:(0,d.jsx)(r.Ph,{"data-testid":"label-direction-selector",getPopupContainer:e=>e.parentNode,options:t})})}function h(e){let{index:t,children:i}=e;return(0,d.jsxs)(n.Z,{align:"center",gap:6,children:[(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Array.from({length:9}).map(((e,i)=>(0,d.jsx)("rect",{x:i%3*6+2,y:6*Math.floor(i/3)+2,width:"4",height:"4",fill:i===t?"#505F79":"#C1C7D0"},i)))}),i]})}},17181:(e,t,i)=>{"use strict";i.d(t,{UU:()=>b,_u:()=>y,fR:()=>f,nC:()=>w,rT:()=>m,re:()=>g});var n=i(15972),o=i.n(n),a=i(56043),l=i(96271),r=i(74720),s=i.n(r),d=i(55349),c=i.n(d),u=i(5512),p=i.n(u),h=i(95436),v=i(4285);function g(e){var t,i,n,r,d,u,g,f,m,y,w,C,x,I,j,M,k,T,E,P,O,_,S,N,L,D,R,Z,A,F,z,B,V,H,W,U,q,G,$,J,K,Y,Q,X,ee,te,ie,ne,oe,ae,le,re,se,de,ce,ue,pe,he,ve,ge,fe,me,ye,we,be,Ce,xe,Ie,je,Me,ke,Te,Ee,Pe,Oe,_e,Se,Ne,Le,De,Re,Ze,Ae,Fe,ze,Be,Ve,He,We,Ue,qe;const{labelConfig:Ge,fillConfig:$e,bivariateFillConfig:Je,outlineConfig:Ke,radiusConfig:Ye,odLineConfig:Qe,heightConfig:Xe,flowConfig:et,heatmapConfig:tt,tripsConfig:it,pathConfig:nt,regionConfig:ot,visibilityConfig:at}=null!==e&&void 0!==e?e:{},{coordinateType:lt,destCoordinateType:rt}=function(e){const t="region"===(null===e||void 0===e?void 0:e.layerType)?"admin":null!==e&&void 0!==e&&e.layerSubType&&b.includes(null===e||void 0===e?void 0:e.layerSubType)?"wkt":c()(null===e||void 0===e?void 0:e.latitudeFieldID)?"coord":"lng-lat",i=c()(null===e||void 0===e?void 0:e.destLatitudeFieldID)?"coord":"lng-lat";return{coordinateType:t,destCoordinateType:i}}(e),st=p()(l.DE),dt=st?s()(l.FA[7],st,["#0065ff"]):["#0065ff"];return o()({},e,{viewID:null===e||void 0===e?void 0:e.viewID,coordinateType:lt,destCoordinateType:rt,regionIndexStatsFieldID:null!==(t=null===e||void 0===e?void 0:e.regionIndexStatsFieldID)&&void 0!==t?t:a.N,specifyByFieldID:null===e||void 0===e?void 0:e.specifyByFieldID,visibilityConfig:{visibleRange:null!==(i=null===at||void 0===at?void 0:at.visibleRange)&&void 0!==i?i:h.E},labelConfig:{fillColor:null!==(n=null===Ge||void 0===Ge?void 0:Ge.fillColor)&&void 0!==n?n:"#000000",fontSize:null!==(r=null===Ge||void 0===Ge?void 0:Ge.fontSize)&&void 0!==r?r:15,direction:null!==Ge&&void 0!==Ge&&Ge.direction&&v.y.includes(null===Ge||void 0===Ge?void 0:Ge.direction)?null===Ge||void 0===Ge?void 0:Ge.direction:"bottom,middle",strokeWeight:null!==(d=null===Ge||void 0===Ge?void 0:Ge.strokeWeight)&&void 0!==d?d:4,strokeColor:null!==(u=null===Ge||void 0===Ge?void 0:Ge.strokeColor)&&void 0!==u?u:"#FFFFFF",backgroundColor:null!==(g=null===Ge||void 0===Ge?void 0:Ge.backgroundColor)&&void 0!==g?g:"#FFFFFF",backgroundOpacity:null!==(f=null===Ge||void 0===Ge?void 0:Ge.backgroundOpacity)&&void 0!==f?f:0,visibleRange:null!==(m=null===Ge||void 0===Ge?void 0:Ge.visibleRange)&&void 0!==m?m:h.E,items:null!==(y=null===Ge||void 0===Ge?void 0:Ge.items)&&void 0!==y?y:[],collisionDisabled:null!==(w=null===Ge||void 0===Ge?void 0:Ge.collisionDisabled)&&void 0!==w&&w},fillConfig:{colors:null!==(C=null===$e||void 0===$e?void 0:$e.colors)&&void 0!==C?C:dt,fillOpacity:null!==(x=null===$e||void 0===$e?void 0:$e.fillOpacity)&&void 0!==x?x:1,fillMethod:null!==(I=null===$e||void 0===$e?void 0:$e.fillMethod)&&void 0!==I?I:"quantile",reverse:null!==(j=null===$e||void 0===$e?void 0:$e.reverse)&&void 0!==j&&j,aggregateBy:null!==(M=null===$e||void 0===$e?void 0:$e.aggregateBy)&&void 0!==M?M:"sum",bivariate:null!==(k=null===$e||void 0===$e?void 0:$e.bivariate)&&void 0!==k&&k,_step:null!==(T=null===$e||void 0===$e||null===(E=$e.colors)||void 0===E?void 0:E.length)&&void 0!==T?T:7,icons:null!==(P=null===$e||void 0===$e?void 0:$e.icons)&&void 0!==P?P:{},colorScheme:null!==(O=null===$e||void 0===$e?void 0:$e.colorScheme)&&void 0!==O?O:st,thresholds:null!==(_=null===$e||void 0===$e?void 0:$e.thresholds)&&void 0!==_?_:[]},bivariateFillConfig:{colors:null!==(S=null===Je||void 0===Je?void 0:Je.colors)&&void 0!==S?S:["#0065ff"],_step:null!==(N=null===Je||void 0===Je||null===(L=Je.colors)||void 0===L?void 0:L.length)&&void 0!==N?N:7,colorScheme:null===Je||void 0===Je?void 0:Je.colorScheme,fillMethod:null!==(D=null===Je||void 0===Je?void 0:Je.fillMethod)&&void 0!==D?D:"quantile",reverse:null!==(R=null===Je||void 0===Je?void 0:Je.reverse)&&void 0!==R&&R,thresholds:null!==(Z=null===Je||void 0===Je?void 0:Je.thresholds)&&void 0!==Z?Z:[],fillOpacity:null!==(A=null===Je||void 0===Je?void 0:Je.fillOpacity)&&void 0!==A?A:.7},outlineConfig:{strokeWeight:null!==(F=null===Ke||void 0===Ke?void 0:Ke.strokeWeight)&&void 0!==F?F:1,strokeOpacity:null!==(z=null===Ke||void 0===Ke?void 0:Ke.strokeOpacity)&&void 0!==z?z:0,align:null!==(B=null===Ke||void 0===Ke?void 0:Ke.align)&&void 0!==B?B:"center",colors:null!==(V=null===Ke||void 0===Ke?void 0:Ke.colors)&&void 0!==V?V:["#c5c5c5"],_step:null!==(H=null===Ke||void 0===Ke||null===(W=Ke.colors)||void 0===W?void 0:W.length)&&void 0!==H?H:7,colorScheme:null===Ke||void 0===Ke?void 0:Ke.colorScheme,thresholds:null!==(U=null===Ke||void 0===Ke?void 0:Ke.thresholds)&&void 0!==U?U:[],strokeMethod:null!==(q=null===Ke||void 0===Ke?void 0:Ke.strokeMethod)&&void 0!==q?q:"quantile",reverse:null!==(G=null===Ke||void 0===Ke?void 0:Ke.reverse)&&void 0!==G&&G},radiusConfig:{radius:null!==($=null===Ye||void 0===Ye?void 0:Ye.radius)&&void 0!==$?$:25,radiusRange:null!==(J=null===Ye||void 0===Ye?void 0:Ye.radiusRange)&&void 0!==J?J:[h.z3,h.Cq],fixedToMeter:null!==(K=null===Ye||void 0===Ye?void 0:Ye.fixedToMeter)&&void 0!==K&&K,gridSize:null!==(Y=null===Ye||void 0===Ye?void 0:Ye.gridSize)&&void 0!==Y?Y:1,coverage:null!==(Q=null===Ye||void 0===Ye?void 0:Ye.coverage)&&void 0!==Q?Q:1},odLineConfig:{type:null!==(X=null===Qe||void 0===Qe?void 0:Qe.type)&&void 0!==X?X:"line",widthRange:null!==(ee=null===Qe||void 0===Qe?void 0:Qe.widthRange)&&void 0!==ee?ee:[0,100],width:null!==(te=null===Qe||void 0===Qe?void 0:Qe.width)&&void 0!==te?te:1,originColor:null!==(ie=null===Qe||void 0===Qe?void 0:Qe.originColor)&&void 0!==ie?ie:"#78238b",destinationColor:null!==(ne=null===Qe||void 0===Qe?void 0:Qe.destinationColor)&&void 0!==ne?ne:"#d5a722"},heightConfig:{toggle:null!==(oe=null===Xe||void 0===Xe?void 0:Xe.toggle)&&void 0!==oe&&oe,multiplier:null!==(ae=null===Xe||void 0===Xe?void 0:Xe.multiplier)&&void 0!==ae?ae:1,scale:null!==(le=null===Xe||void 0===Xe?void 0:Xe.scale)&&void 0!==le?le:"linear",heightRange:null!==(re=null===Xe||void 0===Xe?void 0:Xe.heightRange)&&void 0!==re?re:[0,100],height:null!==(se=null===Xe||void 0===Xe?void 0:Xe.height)&&void 0!==se?se:10,aggregateBy:null!==(de=null===Xe||void 0===Xe?void 0:Xe.aggregateBy)&&void 0!==de?de:"sum"},flowConfig:{fadeEnabled:null!==(ce=null===et||void 0===et?void 0:et.fadeEnabled)&&void 0!==ce&&ce,fadeAmount:null!==(ue=null===et||void 0===et?void 0:et.fadeAmount)&&void 0!==ue?ue:.5,locationTotalsEnabled:null===(pe=null===et||void 0===et?void 0:et.locationTotalsEnabled)||void 0===pe||pe,clusteringEnabled:null===(he=null===et||void 0===et?void 0:et.clusteringEnabled)||void 0===he||he,clusteringAuto:null===(ve=null===et||void 0===et?void 0:et.clusteringAuto)||void 0===ve||ve,clusteringLevel:null!==(ge=null===et||void 0===et?void 0:et.clusteringLevel)&&void 0!==ge?ge:5,colorScheme:null===et||void 0===et?void 0:et.colorScheme,darkMode:null!==(fe=null===et||void 0===et?void 0:et.darkMode)&&void 0!==fe&&fe},heatmapConfig:{threshold:null!==(me=null===tt||void 0===tt?void 0:tt.threshold)&&void 0!==me?me:.05},tripsConfig:{fadeTrail:null===(ye=null===it||void 0===it?void 0:it.fadeTrail)||void 0===ye||ye,trailLength:null!==(we=null===it||void 0===it?void 0:it.trailLength)&&void 0!==we?we:3e3,capRounded:null!==(be=null===it||void 0===it?void 0:it.capRounded)&&void 0!==be&&be,jointRounded:null!==(Ce=null===it||void 0===it?void 0:it.jointRounded)&&void 0!==Ce&&Ce,icon:null!==(xe=null===it||void 0===it?void 0:it.icon)&&void 0!==xe?xe:null,iconRotation:null!==(Ie=null===it||void 0===it?void 0:it.iconRotation)&&void 0!==Ie&&Ie,iconSize:null!==(je=null===it||void 0===it?void 0:it.iconSize)&&void 0!==je?je:20},pathConfig:{showWaypoint:null===(Me=null===nt||void 0===nt?void 0:nt.showWaypoint)||void 0===Me||Me,colors:null!==(ke=null===nt||void 0===nt?void 0:nt.colors)&&void 0!==ke?ke:["#0065ff"],waypointOpacity:null!==(Te=null===nt||void 0===nt?void 0:nt.waypointOpacity)&&void 0!==Te?Te:.8,waypointSize:null!==(Ee=null===nt||void 0===nt?void 0:nt.waypointSize)&&void 0!==Ee?Ee:7,isCustomEndpointColor:null===(Pe=null===nt||void 0===nt?void 0:nt.isCustomEndpointColor)||void 0===Pe||Pe,startPointColor:null!==(Oe=null===nt||void 0===nt?void 0:nt.startPointColor)&&void 0!==Oe?Oe:"#3384ff",endpointColor:null!==(_e=null===nt||void 0===nt?void 0:nt.endpointColor)&&void 0!==_e?_e:"#e64c4c",endpointOpacity:null!==(Se=null===nt||void 0===nt?void 0:nt.endpointOpacity)&&void 0!==Se?Se:.8,endpointSize:null!==(Ne=null===nt||void 0===nt?void 0:nt.endpointSize)&&void 0!==Ne?Ne:7},regionConfig:{country:null!==(Le=null===ot||void 0===ot?void 0:ot.country)&&void 0!==Le?Le:"china",level:null!==(De=null===ot||void 0===ot?void 0:ot.level)&&void 0!==De?De:"admin1",regionId:null!==(Re=null===ot||void 0===ot?void 0:ot.regionId)&&void 0!==Re?Re:"china",aggregateBy:null!==(Ze=null===ot||void 0===ot?void 0:ot.aggregateBy)&&void 0!==Ze?Ze:"admin1",dimension:null!==(Ae=null===ot||void 0===ot?void 0:ot.dimension)&&void 0!==Ae?Ae:"region",_step:null!==(Fe=null===ot||void 0===ot||null===(ze=ot.colors)||void 0===ze?void 0:ze.length)&&void 0!==Fe?Fe:7,indexStatsMethod:null!==(Be=null===ot||void 0===ot?void 0:ot.indexStatsMethod)&&void 0!==Be?Be:"count",colors:null!==(Ve=null===ot||void 0===ot?void 0:ot.colors)&&void 0!==Ve?Ve:dt,colorScheme:null!==(He=null===ot||void 0===ot?void 0:ot.colorScheme)&&void 0!==He?He:st,labelVisible:null===(We=null===ot||void 0===ot?void 0:ot.labelVisible)||void 0===We||We,labelTypes:(null===ot||void 0===ot?void 0:ot.labelTypes)||["name","value"],fillMethod:null!==(Ue=null===ot||void 0===ot?void 0:ot.fillMethod)&&void 0!==Ue?Ue:"quantile",reverse:null!==(qe=null===ot||void 0===ot?void 0:ot.reverse)&&void 0!==qe&&qe}})}const f=7,m=3,y=11,w="FIELDCOLORS";const b=["line","polygon"]},27685:(e,t,i)=>{"use strict";i.d(t,{Yg:()=>l,eX:()=>a});var n=i(57435);const o=(0,n.createContext)({projectId:NaN,isVectorTile:!1,isPublicLayer:!1,isThirdPartyTable:!1,isBigTable:!1,isPro:!1,isEnt:!1,isLark:!1,form:{},coordinateType:"coord",destCoordinateType:"coord",fields:[],coordinateFields:[],textCoordinateFields:[],labelFields:[],numberFields:[],h3Fields:[],timestampFields:[],dateTimeFields:[],enableCustomizedIcon:!1,showProBadge:!0,manualUpdate:()=>{}}),a=o.Provider;function l(){return(0,n.useContext)(o)}},87522:(e,t,i)=>{"use strict";i.d(t,{$k:()=>m,Kd:()=>b,cI:()=>f,mG:()=>y});var n=i(89614),o=i(57435),a=i(98864),l=i.n(a),r=i(49623),s=i.n(r),d=i(13682),c=i.n(d),u=i(23502),p=i.n(u),h=i(41122),v=i(17181),g=i(27685);function f(e){const[t]=n.Z.useForm(),i=(0,o.useRef)(!1),[a,l]=(0,o.useState)(void 0);return(0,o.useEffect)((()=>{null!==e&&void 0!==e&&e.mapInfo&&!i.current&&(i.current=!0,l({...(0,v.re)(null===e||void 0===e?void 0:e.mapInfo),layerName:null===e||void 0===e?void 0:e.name}))}),[null===e||void 0===e?void 0:e.mapInfo,null===e||void 0===e?void 0:e.name]),{form:t,initialValues:a}}const m=h.$,y=(e,t,i)=>{const{isLoading:n,form:a}=(0,g.Yg)();(0,o.useEffect)((()=>{if(n||null===e||void 0===e||!e.length||null===a||void 0===a||!a.getFieldValue||null===a||void 0===a||!a.setFieldValue)return;const o=a.getFieldValue(t);e.length&&o&&!e.find((e=>e.id===o))&&a.setFieldsValue({[t]:i})}),[e,t,n,a,i])},w=["layerName","coordinateType","destCoordinateType"];function b(e){return l()(e,((e,t,i)=>{if(w.includes(i))return e;s()(t)?e[i]=p()(t,((e,t)=>c()(t,"_"))):e[i]=t}),{})}},73004:(e,t,i)=>{"use strict";i(97780)},90874:(e,t,i)=>{"use strict";i.d(t,{Q9:()=>r,Xq:()=>a,c3:()=>l});var n=i(24099),o=i(60206);function a(e){const t=[[0,1],[1,1]];null!==e&&void 0!==e&&e.range&&null!==e&&void 0!==e&&e.columnId&&(t[1]=e.range);return{getFilterValue:e=>{var t,i,n,o;return[null!==(t=null===(i=e.properties)||void 0===i?void 0:i.filterValue)&&void 0!==t?t:1,null!==(n=null===(o=e.properties)||void 0===o?void 0:o.timelineValue)&&void 0!==n?n:1]},filterRange:t,extensions:[new n.Z({filterSize:2})]}}function l(e){return{extensions:[new o.Z],maskByInstance:!0,maskId:e?"geofence":""}}function r(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(((e,t)=>{var i,n;return null===(i=e.extensions)||void 0===i||i.push(...null!==(n=t.extensions)&&void 0!==n?n:[]),delete t.extensions,Object.assign(e,t),e}),{extensions:[]})}},49492:(e,t,i)=>{"use strict";i.d(t,{Vm:()=>R,ng:()=>D,Nn:()=>L,HG:()=>F,RS:()=>z,ls:()=>Z});var n=i(57323),o=i.n(n),a=i(28967),l=i(75770),r=i(93232),s=i(29449),d=i(88716),c=i.n(d),u=i(8942),p=i.n(u),h=i(46131),v=i(36639),g=i(9626),f=i(89983),m=i(90874),y=i(30731),w=i(13334),b=i(17481),C=i(98173),x=i(36741),I=i(97780),j=i(6100),M=i(64274),k=i.n(M);const T={id:"pmt",module:"pmt",name:"PMTiles",version:"latest",extensions:["pmtiles"],mimeTypes:["application/x-protobuf"],worker:!0,category:"geometry",options:{pmt:{raster:!1},mvt:{},image:{}}};function E(e,t){var i,n;if(t&&null!==t&&void 0!==t&&null!==(i=t.pmt)&&void 0!==i&&i.raster){const t=new Blob([e],{type:"image/png"});URL.createObjectURL(t);return createImageBitmap(t)}if(null!==t&&void 0!==t&&null!==(n=t.pmt)&&void 0!==n&&n.tileCompression){const i=function(e,t){if(t===I.Rj.None||t===I.Rj.Unknown)return e;if(t===I.Rj.Gzip)return(0,j.iF)(new Uint8Array(e));throw Error("Compression method not supported")}(e,t.pmt.tileCompression);return k()(i,t)}}const P={...x.Z.defaultProps,onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,binary:!0,raster:!1,loaders:[T]};class O extends I.JJ{async getZxyOffset(e,t,i,n){const o=(0,I.Av)(e,t,i),a=await this.cache.getHeader(this.source);if(e<a.minZoom||e>a.maxZoom)return;let l=a.rootDirectoryOffset,r=a.rootDirectoryLength;for(let s=0;s<=3;s++){const e=await this.cache.getDirectory(this.source,l,r,a),t=(0,I.QV)(e,o);if(!t)return;if(t.runLength>0)return{offset:t.offset,length:t.length};l=a.leafDirectoryOffset+t.offset,r=t.length}throw Error("Maximum directory depth exceeded")}}class _ extends C.Z{initializeState(){super.initializeState();const e=void 0===this.context.viewport.resolution&&this.props.binary,t=this.props.raster;this._updateTileData=async()=>{const e=this.props.data,t=this.props.raster,i=new O(e),n=await i.getHeader();this.setState({data:e,pmtiles:i,raster:t,header:n})},this.setState({binary:e,raster:t,data:null})}getTileData(e,t){const{index:i,signal:n}=e,{data:o,binary:a,raster:l,pmtiles:r,header:s}=this.state,{x:d,y:c,z:u}=i;let p=this.getLoadOptions();const{fetch:h}=this.props;return r.getZxyOffset(u,d,c,n).then((e=>{var t;if(!e)return new Promise((e=>e(null)));const r=e.offset+s.tileDataOffset,d=e.length;return p={...p,mimeType:"application/x-protobuf",pmt:{workerUrl:"https://maptable-public.oss-cn-hangzhou.aliyuncs.com/assets/pmt-worker.js",coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:i,raster:l,tileCompression:s.tileCompression,...null===(t=p)||void 0===t?void 0:t.pmt},gis:a?{format:"binary"}:{},fetch:{headers:{Range:"bytes=".concat(r,"-").concat(r+d-1)}}},h(o,{propName:"data",layer:this,loadOptions:p,signal:n})}))}getRenderedFeatures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return super.getRenderedFeatures(e)}}o()(_,"layerName","PMTilesLayer"),o()(_,"defaultProps",P);const S=_;i(57435);function N(e){var t,i,n,o;const{id:a,customProps:l}=e,{vtInfo:r,vtParams:s,layerType:d}=l;if(!a||null===s||void 0===s||!s.signedUrl||!r)return null;const c=function(e,t,i){var n;const o=null!==(n=null===i||void 0===i?void 0:i.recreateAt)&&void 0!==n?n:0,a="heatmap"===t?"h":"p";return"".concat(e,"-pmt-").concat(a,"-").concat(o)}(a,d,s);return{id:c,data:"".concat(s.signedUrl),maxZoom:null!==(t=null===(i=r.metadata)||void 0===i?void 0:i.maxzoom)&&void 0!==t?t:0,minZoom:null!==(n=null===(o=r.metadata)||void 0===o?void 0:o.minzoom)&&void 0!==n?n:0}}class L extends a.z{constructor(){super(...arguments),o()(this,"isIconLayer",!1)}initializeState(e){super.initializeState(e),Object.assign(this.state,{data:[]})}pmtToGeojson(e){var t;if(!e||c()(e))return;const i=null===(t=e.map((e=>null===e||void 0===e?void 0:e.dataInWGS84)))||void 0===t||null===(t=t.flat())||void 0===t?void 0:t.filter((e=>!!e));setTimeout((()=>{this.updateData(i)}))}formatLabel(e){const{vtInfo:t,timezone:i,members:n,mapInfo:o}=this.props.customProps;return o&&o.labelFieldID?e.map((e=>{var a,l;if(null===t||void 0===t||!t.columns||null!==(a=o.labelConfig.items)&&void 0!==a&&a.length&&o.labelConfig.items.every((e=>e.hiddenLabel)))return{...e,properties:{...e.properties,label:""}};const{label:r}=(0,b.tP)({columns:t.columns,cells:e.properties,items:o.labelConfig.items,labelFieldIDs:o.labelFieldID?[o.labelFieldID].concat(null!==(l=o.extraLabelFieldIDs)&&void 0!==l?l:[]):[],timezone:i,members:n});return{...e,properties:{...e.properties,label:r}}})):e}updateData(e){const{setToRedraw:t}=this.context.userData,i=this.formatLabel(e);this.setState({data:i}),"function"===typeof t&&setTimeout((()=>{t()}))}renderTextLayer(){const{setToRedraw:e}=this.context.userData,{id:t=L.layerName,customProps:i,extensionPack:n}=this.props,{mapInfo:o}=i,a="".concat(t,"-text"),l=this.configManager;if(!l)return;const s=A(i);l.getCollisionEnabled()&&s.extensions.push(new r.Z),null!==n&&void 0!==n&&n.extensions&&s.extensions.push(...n.extensions),"function"===typeof e&&l.getLabelVisible(this.context.viewport.zoom)&&e();return new g.g({id:a,data:this.state.data,pickable:!1,parameters:{depthTest:!1},...n,...s,getRadius:l.getPointRadius,getPosition:l.getPosition,getText:e=>{var t,i;return null!==(t=null===(i=e.properties)||void 0===i?void 0:i.label)&&void 0!==t?t:""},getSize:l.getTextSize,getTextAnchor:l.getTextAnchor,getAlignmentBaseline:l.getAlignmentBaseline,getPixelOffset:l.getTextPixelOffset,getColor:l.getTextColor,getBackgroundColor:l.getTextBackgroundColor,background:l.getTextBackgroundVisible(),outlineWidth:l.getTextOutlineWidth(),outlineColor:l.getTextOutlineColor(),visible:l.getLabelVisible(this.context.viewport.zoom),fontSettings:l.fontSettings,characterSet:l.characterSet,updateTriggers:{getRadius:this.state.config,getPosition:this.state.config,getText:o,getColor:this.state.config,getSize:this.state.config,getAlignmentBaseline:this.state.config,getTextAnchor:this.state.config,getFilterValue:this.state.filter,getBackgroundColor:this.state.config,getPixelOffset:this.state.config}})}updateVtFeatures(e,t){if(!this.state.pmtLayer)return;const i=this.state.pmtLayer.getRenderedFeatures();e(null===i||void 0===i?void 0:i.map((e=>({type:e.type,bbox:e.bbox,geometry:{type:e.geometry.type,coordinates:[...e.geometry.coordinates]},properties:{}})))),"function"===typeof t&&setTimeout((()=>{t()}))}updateState(e){var t;let{props:i,oldProps:n,changeFlags:o}=e;if(!o.propsChanged||!this.state.pmtLayer)return;this.updateData(null!==(t=this.state.data)&&void 0!==t?t:[]);const{customProps:{setVtFeatures:a}}=i;if(a&&"function"===typeof a){if(!o.viewportChanged){const{customProps:{setVtFeatures:e}}=n;if(e)return}a(void 0),setTimeout((()=>{this.updateVtFeatures(a)}))}}getPickingInfo(e){var t,i,n;let{info:o}=e;const{mapInfo:a,timezone:l,members:r,vtInfo:s}=this.props.customProps;if(!a||null===s||void 0===s||!s.columns)return o;const{tooltip:d}=(0,b.tP)({columns:s.columns,cells:null===(t=o.object)||void 0===t?void 0:t.properties,labelFieldIDs:a.labelFieldID?[a.labelFieldID].concat(null!==(i=a.extraLabelFieldIDs)&&void 0!==i?i:[]):[],items:a.labelConfig.items,timezone:l,members:r});return{...o,object:{...o.object,properties:{...null===(n=o.object)||void 0===n?void 0:n.properties,tooltip:d}}}}renderLayers(){var e,t,i;const n=N(this.props);if(!this.configManager||!n)return null;const{pickable:o,autoHighlight:a,customProps:l,extensionPack:r}=this.props,s=this.configManager,{setToRedraw:d}=this.context.userData,c=A(l);null!==r&&void 0!==r&&r.extensions&&c.extensions.push(...r.extensions);const{timeline:u,layerFilter:h,setVtFeatures:v}=l;p()(null===(e=this.state.filter)||void 0===e?void 0:e.timelineColumnId,null===u||void 0===u?void 0:u.columnId)&&p()(null===(t=this.state.filter)||void 0===t?void 0:t.layerFilter,h)||this.setState({filter:{timelineColumnId:null===u||void 0===u?void 0:u.columnId,layerFilter:h}}),p()(this.state.config,s.config)||this.setState({config:s.config});const g=null!==(i=s.config.bivariateFillConfig)&&void 0!==i&&i.enable?s.getBlendColor:s.getFillColor;let m={...n,onViewportLoad:e=>{s.getLabelVisible(this.context.viewport.zoom)&&this.pmtToGeojson(e),v&&this.updateVtFeatures(v,d)},lineWidthMinPixels:0,lineWidthUnits:s.lineWidthUnits,getFillColor:g,getLineWidth:s.getLineWidth,getLineColor:s.getLineColor,getPointRadius:s.getPointRadius,getElevation:s.getElevation,extruded:s.getExtruded(),elevationScale:s.getElevationScale(),pointRadiusUnits:s.pointRadiusUnits,stroked:!0,filled:!0,pickable:o,autoHighlight:a,uniqueIdProperty:"id",updateTriggers:{getFillColor:this.state.config,getPointRadius:this.state.config,getLineWidth:this.state.config,getLineColor:this.state.config,getElevation:this.state.config,getFilterValue:this.state.filter},...r,...c};this.isIconLayer&&(m={...m,pointType:"icon",stroked:!1,filled:!1,iconSizeMaxPixels:100,iconSizeMinPixels:1,iconSizeScale:1,iconSizeUnits:"pixels",getIcon:s.getBigDataTableIcon,getPosition:e=>(0,f.be)(e.geometry).coordinates,getIconColor:e=>s.getFillColor(e),getIconSize:e=>s.getPointRadius(e),updateTriggers:{getIcon:this.state.config,getPosition:this.state.config,getIconColor:this.state.config,getIconSize:this.state.config,getFilterValue:this.state.filter}});const y=new S(m);this.setState({pmtLayer:y});return[y,this.renderTextLayer()]}}o()(L,"layerName","PmtLayer");class D extends L{constructor(){super(...arguments),o()(this,"isIconLayer",!0)}}o()(D,"layerName","PmtIconLayer");class R extends L{renderLayers(){var e,t;const{id:i,pickable:n,customProps:o,extensionPack:a}=this.props,r=this.configManager,s=N(this.props);if(!i||!r||!s)return null;const{timeline:d,layerFilter:c}=o;p()(null===(e=this.state.filter)||void 0===e?void 0:e.timelineColumnId,null===d||void 0===d?void 0:d.columnId)&&p()(null===(t=this.state.filter)||void 0===t?void 0:t.layerFilter,c)||this.setState({filter:{timelineColumnId:null===d||void 0===d?void 0:d.columnId,layerFilter:c}}),p()(this.state.config,r.config)||this.setState({config:r.config});const u=new S({...s,getFillColor:[0,0,0,0],getLineWidth:0,onViewportLoad:e=>{this.pmtToGeojson(e)}}),h=A(o);null!==a&&void 0!==a&&a.extensions&&h.extensions.push(...a.extensions);const v={id:"".concat(s.id,"-heatmap"),data:this.state.data,pickable:n,getPosition:r.getPosition,getWeight:r.getWeight,weightsTextureSize:512,colorRange:r.getColorRange(),radiusPixels:r.radiusPixels,threshold:r.threshold,updateTriggers:{getWeight:this.state.config,getPosition:this.state.config,getFilterValue:this.state.filter},...a,...h};return[u,new l.Z(v)]}}function Z(e){const t=e?v.K.and(...[e.view,e.row,e.layer,e.legend,e.extension].filter(Boolean)):void 0;return v.K.isEmpty(t)?void 0:t}function A(e){const{layerFilter:t,timeline:i}=e,n=Z(t);return{...(0,m.Xq)(i),getFilterValue:e=>{const t=[n?(0,y.lv)(e.properties,n,!0):1,1];if(null!==i&&void 0!==i&&i.columnId){const n=e.properties[i.columnId];t[1]=null!==n&&void 0!==n?n:0}return t}}}function F(e,t,i){let n=[];const o=t[0][0],a=t[0][w.rF-1];return i&&i>2&&t.length>i-w.rF&&(n=t[i-w.rF]),"quantize"===e||"continuous"===e?[o,a]:n}o()(R,"layerName","PmtHeatmapLayer");const z=(e,t,i)=>{const{fieldConfig:n,outlineConfig:o}=e;if(null!==n&&void 0!==n&&n.outlineID&&null!==o&&void 0!==o&&o._widthFiledQuantiles&&null!==o&&void 0!==o&&o.widthRange){const e=F("continuous",o._widthFiledQuantiles),t=(0,s.Z)().domain(e).range(o.widthRange);i.getLineWidth=e=>{return t?t((0,h.oe)(e,null===n||void 0===n?void 0:n.outlineWidthID)):null!==(i=null===o||void 0===o?void 0:o.strokeWeight)&&void 0!==i?i:1;var i}}}},39342:(e,t,i)=>{"use strict";i.d(t,{Jn:()=>p,m6:()=>h});var n=i(7070),o=i.n(n),a=i(56439),l=i.n(a),r=i(99540),s=i.n(r),d=(i(35257),i(78587),i(39698),i(29697)),c=(i(89983),i(25806)),u=i.n(c);i(73004);function p(e){return e?o()(l()(e,","),s()):[116.395645,39.907921]}function h(e){return e?u()(d.nn,e)||u()(d.nB,e)||u()(d.R6,e)?"built-in":"customize":"built-in"}},68955:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var n=i(98506),o=i(74797),a=i(65886),l=i(94553);function r(e){let{children:t,locale:i}=e;return(0,l.jsx)(o.i,{prefixCls:o.Z.antdPrefix,button:{autoInsertSpace:!1},locale:i,wave:{disabled:!0},theme:a.u,children:(0,l.jsx)(n.Z,{style:{height:"100%"},children:t})})}},44839:(e,t,i)=>{"use strict";i.d(t,{M:()=>u,Y:()=>c});var n=i(46481),o=i(18765),a=i.n(o),l=i(34362),r=i.n(l),s=i(88716),d=i.n(s);const c=(0,n.P1)([(e,t)=>e.map.hiddenLayerIds[t],(e,t)=>e.project.layerNodes[t]],((e,t)=>a()(t,(t=>"map"===t.type&&!r()(e,t.id))))),u=(0,n.P1)(((e,t)=>c(e,t)),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!d()(e)&&!d()(t)&&(e.length===t.length&&e.every(((e,i)=>e.id===t[i].id&&e.version===t[i].version&&e.stale===t[i].stale)))}})},84377:(e,t,i)=>{"use strict";i.d(t,{eH:()=>v,ji:()=>p,pi:()=>g,zO:()=>f});var n=i(46481),o=i(7070),a=i.n(o),l=i(39427),r=i.n(l),s=i(88716),d=i.n(s),c=i(8942),u=i.n(c);const p=["tableNodeID","viewID","coordinateFieldID","latitudeFieldID","labelFieldID","extraLabelFieldIDs","fillFieldID","bivariateFillFieldID","radiusFieldID","outlineFieldID","outlineWidthFieldID","weightFieldID","destinationFieldID","destLatitudeFieldID","heightFieldID","timestampFieldID","groupByFieldID","sortByFieldID","regionDimensionFieldID","regionIndexStatsFieldID","regionConfig"],h=["layerType","fillConfig","bivariateFillConfig","labelConfig","outlineConfig","radiusConfig","heightConfig","odLineConfig","flowConfig","heatmapConfig","tripsConfig","pathConfig","visibilityConfig","regionConfig"],v=(0,n.P1)((e=>e.project.previewMapInfos),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!(!d()(e)||!d()(t))||!d()(t)&&r()(t,((t,i)=>r()(p,(n=>{var o;return t[n]===(null===(o=e[i])||void 0===o?void 0:o[n])}))))}}),g=(0,n.P1)((e=>e.project.previewMapInfos),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!(!d()(e)||!d()(t))||!d()(t)&&r()(t,((t,i)=>r()(h,(n=>{var o;return u()(t[n],null===(o=e[i])||void 0===o?void 0:o[n])}))))}}),f=(0,n.P1)([e=>e.project.previewMapInfos,e=>e.project.computedPreviewMapInfos],((e,t)=>Object.fromEntries(a()(e,((e,i)=>{var n,o,a,l,r,s,d,c;const u=t[i];return u?[i,{...e,fillConfig:{...e.fillConfig,_ordinalDomain:u.fillConfig._ordinalDomain,_uniqDomain:u.fillConfig._uniqDomain,_quantiles:null===(n=u.fillConfig)||void 0===n?void 0:n._quantiles},outlineConfig:{...e.outlineConfig,_ordinalDomain:null===(o=u.outlineConfig)||void 0===o?void 0:o._ordinalDomain,_uniqDomain:null===(a=u.outlineConfig)||void 0===a?void 0:a._uniqDomain,_quantiles:null===(l=u.outlineConfig)||void 0===l?void 0:l._quantiles,_widthFiledQuantiles:null===(r=u.outlineConfig)||void 0===r?void 0:r._widthFiledQuantiles},bivariateFillConfig:{...e.bivariateFillConfig,_quantiles:null===(s=u.bivariateFillConfig)||void 0===s?void 0:s._quantiles},radiusConfig:{...e.radiusConfig,_quantiles:null===(d=u.radiusConfig)||void 0===d?void 0:d._quantiles},heightConfig:{...e.heightConfig,_quantiles:null===(c=u.heightConfig)||void 0===c?void 0:c._quantiles}}]:[i,e]})))))},17547:(e,t,i)=>{"use strict";i.d(t,{C:()=>l});var n=i(46481),o=i(1714),a=i(30731);const l=(0,n.P1)([(e,t)=>{var i;return null===(i=o.TW.selectById(e,t.tableNodeId))||void 0===i?void 0:i.columns},(e,t)=>{var i;return null===(i=o.TW.selectById(e,t.tableNodeId))||void 0===i?void 0:i.views},(e,t)=>t.viewId],(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;if(!e||!t)return null;const n=t.find((e=>e.id===i))||t[0];return n?(0,a.hu)(n.filter,e):null}))},43498:(e,t,i)=>{"use strict";i.d(t,{H8:()=>y,eD:()=>b,kq:()=>m,tH:()=>w});var n=i(8942),o=i.n(n),a=i(88716),l=i.n(a),r=i(18765),s=i.n(r),d=i(7070),c=i.n(d),u=i(46481),p=i(74110),h=i(1714),v=i(30731),g=i(58590),f=i(17547);const m=(0,u.P1)([f.C,(e,t)=>h.TW.selectById(e,t.tableNodeId),(e,t)=>t],((e,t,i)=>{var n;if(!t)return;if(!e&&null!==i&&void 0!==i&&i.viewId&&null!==(n=t.views)&&void 0!==n&&n.length){var o;const e=null===(o=t.views)||void 0===o?void 0:o.find((e=>e.id===i.viewId));if(e){var a;const i=c()(e.rows,(e=>e.id)),n=(null===(a=t.rows)||void 0===a?void 0:a.filter((e=>i.includes(e.id))))||[];return{...t,rows:n}}}if(!e||t.type===p.e.bigTable)return t;const l=new v.VQ(e,{mondayFirst:null===i||void 0===i?void 0:i.mondayFirst,timezone:null===i||void 0===i?void 0:i.timezone}),r=t.rows.filter((e=>l.test(e.cells)));return{...t,rows:r}})),y=(0,u.P1)((e=>h.TW.selectAll(e)),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!l()(e)&&!l()(t)&&o()(e,t)}}),w=(0,u.P1)([(e,t)=>g.Hx.selectById(e,t)],(e=>s()(null===e||void 0===e?void 0:e.tableNodes,(e=>e.type===p.e.table||e.type===p.e.bigTable)))),b=(0,u.P1)([(e,t)=>{var i;return h.TW.selectById(e,null!==(i=t.tableNodeId)&&void 0!==i?i:NaN)},(e,t)=>t.viewId],((e,t)=>(0,v.bs)(null===e||void 0===e?void 0:e.columns,null===e||void 0===e?void 0:e.views,t)));(0,u.P1)([(e,t)=>h.TW.selectById(e,null!==t&&void 0!==t?t:NaN)],(e=>s()(null===e||void 0===e?void 0:e.views,(e=>"table"===e.type))))},95475:(e,t,i)=>{"use strict";i.d(t,{Bh:()=>y,Dl:()=>x,fy:()=>h,Wp:()=>b,wB:()=>j,AL:()=>k,Ai:()=>w,x4:()=>I,v:()=>T,_E:()=>M});var n=i(40365),o=i(74797),a=i(22963);const l=(0,a.Fs)({baseURL:"".concat(o.Z.baseApiURL,"/projects/")});class r extends a.tr{async get(e){const{data:t}=await this.fetch.get("".concat(e,"/annotations/"));return t.detail}async create(e,t){const{data:i}=await this.fetch.post("".concat(e,"/annotations/"),t);return i}async update(e,t){const{data:i}=await this.fetch.patch("".concat(e,"/annotations/").concat(t.id,"/"),t);return i}async delete(e,t){const{data:i}=await this.fetch.delete("".concat(e,"/annotations/").concat(t,"/"));return i}async restore(e,t){const{data:i}=await this.fetch.post("".concat(e,"/annotations/").concat(t,"/"));return i}}const s=new r(l),d="annotation",{createAsyncAction:c,createUndoRedoActions:u}=(0,n.w)({typePrefix:d,syncWithWebSocket:!0}),{createAsyncAction:p}=(0,n.w)({typePrefix:d}),h=p("get",(async(e,t)=>s.get(e)));function v(e){return c(e,(async(e,t)=>{const{projectId:i,annotationId:n}=e;return await s.withRequestId(t.requestId).restore(i,n)}))}const g="deleteAnnotation";const f="createAnnotation",m=u(f,(async(e,t)=>{const{projectId:i,annotation:n}=e;return await s.withRequestId(t.requestId).create(i,n)}))({undo:function(e){return c(e,(async(e,t)=>{const{projectId:i,annotationId:n}=e;return s.withRequestId(t.requestId).delete(i,n)}))}("undo_".concat(f)),redo:v("redo_".concat(f))}),y=m.action,w=m.undoAction,b=m.redoAction,C=u(g,(async(e,t)=>{const{projectId:i,annotationId:n}=e;return s.withRequestId(t.requestId).delete(i,n)}))({undo:v("redo_".concat(g))}),x=C.action,I=C.undoAction,j=C.redoAction,{action:M,redoAction:k,undoAction:T}=u("updateAnnotation",(async(e,t)=>{const{projectId:i,annotation:n}=e;return s.withRequestId(t.requestId).update(i,n)}))()},50810:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});const n=(0,i(49163).HF)({})},71331:(e,t,i)=>{"use strict";i.d(t,{N:()=>d,Z:()=>s});var n=i(49163),o=i(50810);const a={list:function(e,t){var i;const n=null===(i=t.payload[0])||void 0===i?void 0:i.projectID;e.projectId===n&&o.s.setAll(e.annotations,t.payload)},create:function(e,t){e.projectId===t.payload.projectID&&(o.s.addOne(e.annotations,t.payload),t.payload.tempID&&o.s.removeOne(e.annotations,t.payload.tempID))},update:function(e,t){e.projectId===t.payload.ProjectID&&o.s.updateOne(e.annotations,{id:t.payload.id,changes:t.payload.updatedFields})},restore:function(e,t){e.projectId===t.payload.projectID&&o.s.upsertOne(e.annotations,t.payload)},delete:function(e,t){e.projectId===t.payload.projectID&&o.s.removeOne(e.annotations,t.payload.id)},clear:function(e){o.s.removeAll(e.annotations),e.projectId=null},setProjectId:function(e,t){e.projectId=t.payload}},l={annotations:o.s.getInitialState(),projectId:null},r=(0,n.oM)({name:"annotation",initialState:l,reducers:a,extraReducers(e){}}),s=r,d=r.actions},3705:(e,t,i)=>{"use strict";i.d(t,{Ie:()=>d,XZ:()=>s,ll:()=>c});var n=i(37588),o=i.n(n),a=i(53926),l=i.n(a),r=i(22138);let s=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.NO_AUTH=4]="NO_AUTH",e[e.OVER_MAX_RETRY_COUNT=5]="OVER_MAX_RETRY_COUNT",e}({}),d=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e[e.NETWORK_ERROR=2]="NETWORK_ERROR",e}({});const c={updateWSReadyState:function(e,t){e.wsReadyState=t.payload},appInitialized:function(e,t){e.initialized=e.initialized||t.payload},clearFetchingList:function(e){e.fetchingList=[],e.isNetworkFetching=!1},networkStatus:function(e,t){e.networkStatus=t.payload},addFetching:function(e,t){const{requestId:i,actionType:n}=t.payload;e.fetchingList.push({[i]:n}),e.isNetworkFetching=!0},removeFetching:function(e,t){const i=e.fetchingList.findIndex((e=>e[t.payload]));-1!==i&&e.fetchingList.splice(i,1),0===e.fetchingList.length&&(e.isNetworkFetching=!1)},addWsSyncedData:function(e,t){const{requestId:i,payload:n}=t.payload;Object.assign(e.wsSyncedData,{[i]:n})},resolveWsSyncedData:function(e,t){delete e.wsSyncedData[t.payload]},clearWsSyncedData:function(e){e.wsSyncedData={}},installExtension:function(e,t){const i=t.payload;l().set(r.iK,{...l().get(r.iK,{}),[i.instanceId]:i}),e.extensions=l().get(r.iK,{})},removeExtension:function(e,t){const i=t.payload,n=l().get(r.iK,{});delete n[i],l().set(r.iK,n),e.extensions=n},updateExtensionConfig:function(e,t){const i=t.payload;l().set(r.iK,{...l().get(r.iK,{}),[i.instanceId]:i}),e.extensions=l().get(r.iK,{})},updateQuotaLimitDialogConfig:function(e,t){e.quotaLimitDialogConfig=t.payload},toggleFullScreen:function(e,t){e.isFullScreen=t.payload},setLocale:function(e,t){e.locale=t.payload},setNewLocale:function(e,t){e.newLocale=t.payload},changeTheme:function(e,t){e.theme=t.payload,l().set(r.g,t.payload)},updateSharedBanner:function(e,t){e.sharedBanner=t.payload,o().set("MT_SHARED_BANNER",t.payload?"1":"0",{expires:7})}}},93707:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>f,ZP:()=>g});var n=i(53926),o=i.n(n),a=i(49163),l=i(37588),r=i.n(l),s=i(3705),d=i(20535),c=i(21101),u=i(22138);let p=function(e){return e.LIGHT="LIGHT",e.DARK="DARK",e}({});const h={wsReadyState:null,initialized:!1,fetchingList:[],wsSyncedData:{},isNetworkFetching:!1,networkStatus:s.Ie.ONLINE,quotaLimitDialogConfig:void 0,extensions:o().get(u.iK,{}),isFullScreen:!1,locale:"zh-CN",newLocale:void 0,theme:o().get(u.g,p.LIGHT),sharedBanner:"1"===r().get("MT_SHARED_BANNER")},v=(0,a.oM)({name:"app",initialState:h,reducers:s.ll,extraReducers(e){e.addCase(d.Nw.arrive,((e,t)=>{const{detail:i}=t.payload;"quota"===i.level&&i.detail&&i.payload.params&&(e.quotaLimitDialogConfig={quotaError:{...i.payload.params,id:i.detail}})})),e.addCase(c.N.loggedIn,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.googleLogin,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.wechatBind,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.wechatLogin,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.update,((e,t)=>{t.payload.updatedFields.locale&&(e.newLocale=t.payload.updatedFields.locale)}))}}),g=v,f=v.actions},46331:(e,t,i)=>{"use strict";i.d(t,{$1:()=>u,P8:()=>c,Ws:()=>r,ip:()=>d,ut:()=>s});var n=i(49163),o=i(98868),a=i(40365);const{createAsyncAction:l}=(0,a.w)({typePrefix:"basemap"}),r=(l("createCustomizeBaseMap",(async e=>{const{projectId:t,data:i}=e;return await o.Z.createCustomizeBaseMap(t,i)})),l("updateCustomizeBaseMap",(async e=>{const{projectId:t,baseMapId:i,data:n}=e;return await o.Z.updateCustomizeBaseMap(t,i,n)})),l("deleteCustomizeBaseMap",(async e=>{const{projectId:t,baseMapId:i}=e;return await o.Z.deleteCustomizeBaseMap(t,i)})),l("list",(async e=>{const{projectID:t}=e;return await o.Z.getCustomizeBaseMap(t)}))),s=(0,n.PH)("basemap/list"),d=(0,n.PH)("basemap/create"),c=(0,n.PH)("basemap/delete"),u=(0,n.PH)("basemap/update")},5129:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});const n={updateCurrentEditCellId:function(e,t){e.currentEditCellId=t.payload}},o=(0,i(49163).oM)({name:"cell",initialState:{currentEditCellId:""},reducers:n}),a=o;o.actions},98825:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>d,ZP:()=>s});var n=i(49163);const o=(0,n.HF)({sortComparer:(e,t)=>-e.createTime.localeCompare(t.createTime)});const a={create:function(e,t){o.addOne(e,t.payload)},update:function(e,t){const{dataFileID:i,updatedFields:n}=t.payload;o.updateOne(e,{id:i,changes:n})},recover:function(e,t){const{datafile:i}=t.payload;o.addOne(e,i)},setDataFiles:function(e,t){o.removeAll(e),o.addMany(e,t.payload.dataFiles)},delete:function(e,t){o.removeOne(e,t.payload.id)},deleteRecycle:function(e,t){}},l=o.getInitialState(),r=(0,n.oM)({name:"datafile",initialState:l,reducers:a,extraReducers(e){e.addMatcher(n.Iv,((e,t)=>{throw t.error}))}}),s=r,d=r.actions;o.getSelectors((e=>e.dataFile))},92922:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>s,wl:()=>d});var n=i(49163);const o=(0,n.HF)({});const a={list:function(e,t){o.setAll(e,t.payload)},install:function(e,t){o.addOne(e,t.payload)},uninstall:function(e,t){o.removeOne(e,t.payload.id)},update:function(e,t){o.updateOne(e,{id:t.payload.id,changes:t.payload})}},l=o.getInitialState({ids:[],entities:{}}),r=(0,n.oM)({name:"extension",initialState:l,reducers:a}),s=r,d=(r.actions,o.getSelectors((e=>e.extension)))},54864:(e,t,i)=>{"use strict";i.d(t,{Gv:()=>c,P8:()=>u,Ug:()=>r,wo:()=>s,wu:()=>d});var n=i(98868),o=i(4511),a=i(40365);const{createAsyncAction:l}=(0,a.w)({typePrefix:"icons"}),r=l("add",(async e=>{const{projectID:t,fileID:i}=e;return await n.Z.addIcon(t,{fileID:i})})),s=l("update",(async e=>{const{projectID:t,icons:i}=e;return await n.Z.updateIcon(t,{icons:i})})),d=l("list",(async e=>{const{projectID:t}=e;return await n.Z.getIcons(t)})),c=l("getSharedIcons",(async e=>{const{sharingParams:t}=e;return await n.Z.getSharedIcons(t)})),u=l("uploadIcon",(async e=>{const{file:t}=e;return(await o.Z.uploadFile("avatar",t,e.uploadChange)).fileID}))},27052:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>s,EM:()=>d});var n=i(49163);const o=(0,n.HF)({});const a={list:function(e,t){o.setAll(e,t.payload)},create:function(e,t){o.addOne(e,t.payload)},remove:function(e,t){o.removeOne(e,t.payload)}},l=o.getInitialState({ids:[],entities:{}}),r=(0,n.oM)({name:"icons",initialState:l,reducers:a,extraReducers(e){}}),s=r,d=(r.actions,o.getSelectors((e=>e.icons)))},41711:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>u,ZP:()=>c,qg:()=>p});var n=i(49163),o=i(56717),a=i.n(o);const l=(0,n.HF)({sortComparer:(e,t)=>e.order-t.order});const r={add:function(e,t){const{id:i}=t.payload;let n=e.entities[i];e.order+=.01,n?(n.order=e.order,l.updateOne(e,{id:i,changes:n})):(n=t.payload,n.order||(n.order=e.order),l.addOne(e,n))},removeByLayerID:function(e,t){const i=e.entities,n=[];a()(i).forEach((e=>{e&&t.payload.ids.indexOf(e.layerID)>-1&&n.push(e.id)})),l.removeMany(e,n)},updatePoi:function(e,t){const{id:i}=t.payload;l.updateOne(e,{id:i,changes:t.payload})},removeAll:function(e){l.removeAll(e)},setInfoWindowInvisible:function(e,t){!0===t.payload&&l.removeAll(e),e.disableInfoWindow=t.payload}},s=l.getInitialState({order:0,disableInfoWindow:!1}),d=(0,n.oM)({name:"infoWindows",initialState:s,reducers:{remove:l.removeOne,clear:l.removeAll,...r}}),c=d,u=d.actions,p=l.getSelectors((e=>e.infoWindow))},66168:(e,t,i)=>{"use strict";i.d(t,{Oi:()=>C,X5:()=>y,IK:()=>j,JZ:()=>k,Fz:()=>T,Ab:()=>M,lZ:()=>w,Q$:()=>b,Vx:()=>x,pA:()=>I});var n=i(49163),o=i(84527),a=i.n(o),l=i(73187),r=i(74797),s=i(22963);const d=(0,s.Fs)({baseURL:"".concat(r.Z.baseApiURL,"/layernodes/")});class c extends s.tr{async create(e){if(!e.vtInfo){const{data:t}=await this.fetch.post("",e);return t.detail}const t=new Uint8Array(l.ZP.gzip(JSON.stringify(e))).buffer,{data:i}=await this.fetch.post("",t,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return i.detail}async move(e){const{data:t}=await this.fetch.patch("".concat(e.id,"/move/"),a()(e,["parentID","prevID","projectID"]));return t}async update(e){const{data:t}=await this.fetch.patch("/".concat(e.id,"/"),a()(e,["mapInfo","name","projectID","groupMode","infoWindowConfig"]));return t}async deleteNode(e){return await this.fetch.delete("/".concat(e.id,"/?projectID=").concat(e.projectID)),e.id}async getDetail(e){const{data:t}=await this.fetch.get("/".concat(e,"/"));return t}async getVtSignedUrl(e){const{data:t}=await this.fetch.get("/vt/".concat(e,"/"),{ignoreError:!0});return t.detail}async getSharedVtSignedUrl(e,t){const{data:i}=await this.fetch.get("/shared/vt/".concat(e,"/"),{params:{userToken:t},ignoreError:!0});return i.detail}async vtConvert(e,t,i){const n={projectID:t,vectorTileInfo:i};if(!i){const{data:t}=await this.fetch.post("/vt/".concat(e,"/convert/"),n);return t}const o=new Uint8Array(l.ZP.gzip(JSON.stringify(n))).buffer,{data:a}=await this.fetch.post("/vt/".concat(e,"/convert/"),o,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return a}async vtRecreate(e,t,i){const n={projectID:t,vectorTileInfo:i};if(!i){const{data:t}=await this.fetch.patch("/vt/".concat(e,"/"),n);return t}const o=new Uint8Array(l.ZP.gzip(JSON.stringify(n))).buffer,{data:a}=await this.fetch.patch("/vt/".concat(e,"/"),o,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return a}async h3Recreate(e,t){const{data:i}=await this.fetch.patch("/h3/".concat(e,"/").concat(t,"/recreate/"));return i}async getVtCreatePercent(e){const{data:t}=await this.fetch.get("/vt/".concat(e.tableNodeID,"/").concat(e.id,"/percent/"));return t.detail}async createRegionAggregate(e){const{data:t}=await this.fetch.post("/region_aggregate/",e);return t}async getPublicLayerCategory(){const{data:e}=await this.fetch.get("/public/list/",{ignoreError:!0});return e.detail}async getPublicLayers(){const{data:e}=await this.fetch.get("/public/list/",{ignoreError:!0});return e.detail}async getPublicLayer(e){const{data:t}=await this.fetch.get("/public/layer/".concat(e,"/"),{ignoreError:!0});return t.detail}async publishPublicLayer(e,t){const{data:i}=await this.fetch.post("/public/layer/".concat(e,"/"),t);return i.detail}async updatePublicLayer(e,t){const{data:i}=await this.fetch.patch("/public/".concat(e,"/"),t);return i.detail}async usePublicLayer(e,t,i,n){const{data:o}=await this.fetch.post("/public/".concat(e,"/"),{name:i,parentID:n,projectID:t});return o.detail}async newLayerID(){const{data:e}=await this.fetch.get("/id/");return e.detail}}const u=new c(d);var p=i(40365),h=i(72494);const v="layerNode",{createAsyncAction:g}=(0,p.w)({typePrefix:v,syncWithWebSocket:!0}),f=(0,p.w)({typePrefix:v,syncWithWebSocket:!1}).createAsyncAction,m=(0,p.w)({typePrefix:v,syncWithWebSocket:!0,timeoutTime:h.KI}).createAsyncAction,y=(0,n.PH)("".concat(v,"/delete")),w=(0,n.PH)("".concat(v,"/preview")),b=(0,n.PH)("".concat(v,"/previewComputed")),C=(f("create",(async e=>await u.create(e))),f("create",(async e=>await u.create(e)))),x=(g("move",(async(e,t)=>await u.withRequestId(t.requestId).move(e))),g("update",(async(e,t)=>await u.withRequestId(t.requestId).update(e)))),I=f("update",(async e=>await u.update(e))),j=g("deleteNode",(async(e,t)=>await u.withRequestId(t.requestId).deleteNode(e))),M=(g("getDetail",(async(e,t)=>await u.withRequestId(t.requestId).getDetail(e))),f("getTileLayerCreatePercent",(async e=>await u.getVtCreatePercent(e))),f("tileLayerConvert",(async e=>await u.vtConvert(e.id,e.projectID,e.vtInfo))),f("tileLayerRecreate",(async e=>{var t;return"h3Tile"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)?await u.h3Recreate(e.projectID,e.id):await u.vtRecreate(e.id,e.projectID,e.vtInfo)})),f("getVtSignedUrl",(async e=>{const{id:t}=e;if(t)return await u.getVtSignedUrl(t)}))),k=f("getSharedVtSignedUrl",(async e=>{const{id:t,userToken:i}=e;if(t&&i)return await u.getSharedVtSignedUrl(t,i)})),T=f("getSignedUrlByLayers",(async(e,t)=>{let{dispatch:i,getState:n}=t;const{layers:o,userToken:a}=e,l=a?k:M,r=n();return await Promise.all(o.filter((e=>{var t;return!(null!==(t=r.layerNode.vtLayersParams[e.id])&&void 0!==t&&t.signedUrl)})).map((e=>i(l({id:e.id,userToken:a})))))}));m("createRegionAggregate",(async(e,t)=>0===(await u.withRequestId(t.requestId).createRegionAggregate(e)).code))},76592:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>y,ZP:()=>m});var n=i(49163),o=i(7070),a=i.n(o),l=i(88716),r=i.n(l),s=i(17481);const d=(0,n.HF)(),c=(0,n.HF)(),u=(0,n.HF)();function p(e,t){e.vtLayersParams[t.id]={...e.vtLayersParams[t.id],recreateAt:Date.now()}}const h={create:function(e,t){if(!t.payload.mapInfo)return;const i=(0,s.GC)(t.payload.id,t.payload.mapInfo,t.payload.name);d.setOne(e.creatingLayers,{...i,layerNode:t.payload})},update:function(e,t){},move:function(e,t){},refreshStaleLayer:function(e,t){},h3Recreate:function(e,t){const i=t.payload;null!==i&&void 0!==i&&i.mapInfo&&(d.updateOne(e.creatingLayers,{id:i.id,changes:{layerNode:i}}),p(e,i))},vtRecreate:function(e,t){const{layerNodes:i}=t.payload,n=a()(null===i||void 0===i?void 0:i.filter((e=>e.mapInfo)),(e=>({id:e.id,changes:{layerNode:e}})));r()(n)||(d.updateMany(e.creatingLayers,n),null===n||void 0===n||n.forEach((t=>{p(e,t.changes.layerNode)})))},updateSelectedKeys:function(e,t){e.selectedKeys=t.payload.keys},setCreatingLayer:function(e,t){const i=d.getSelectors().selectById(e.creatingLayers,t.payload.id);null!==i&&void 0!==i&&i.layerNode||d.setOne(e.creatingLayers,t.payload)},removeCreatingLayer:function(e,t){d.removeOne(e.creatingLayers,t.payload)},setTilePercent:function(e,t){c.setOne(e.tilePercents,t.payload)},removeTilePercent:function(e,t){const i=c.getSelectors().selectById(e.tilePercents,t.payload);i&&i.timeout&&clearTimeout(i.timeout),c.removeOne(e.tilePercents,t.payload)},setAggregateLayerData:function(e,t){u.setOne(e.aggregateLayers,t.payload)},vtSignedUrl:function(e,t){var i,n;const{id:o,url:a}=t.payload,l=e.vtLayersParams[o],r=null!==(i=null===l||void 0===l?void 0:l.signedUrl)&&void 0!==i?i:a,s=null!==(n=null===l||void 0===l?void 0:l.recreateAt)&&void 0!==n?n:Date.now();e.vtLayersParams[o]={signedUrl:r,recreateAt:s}},regionAggregate:function(e,t){},setLayerReadyState:function(e,t){var i;const{projectId:n,layerId:o,ready:a}=t.payload;e.layersReadyState=null!==(i=e.layersReadyState)&&void 0!==i?i:[];const l=e.layersReadyState.findIndex((e=>e.projectId===n&&e.layerId===o));-1===l?e.layersReadyState.push({projectId:n,layerId:o,ready:a}):e.layersReadyState[l].ready=a},setCreatingVtLayer:function(e,t){e.creatingVtLayer=t.payload}};var v=i(66168);const g={selectedKeys:[],creatingLayers:d.getInitialState(),tilePercents:c.getInitialState(),aggregateLayers:u.getInitialState(),vtLayersParams:{},layersReadyState:[]},f=(0,n.oM)({name:"layerNode",initialState:g,reducers:h,extraReducers(e){e.addCase(v.IK.rejected,((e,t)=>{throw t.error})).addCase(v.Vx.rejected,((e,t)=>{throw t.error})).addCase(v.Ab.fulfilled,((e,t)=>{const{id:i}=t.meta.arg;i&&t.payload&&h.vtSignedUrl(e,{type:"layerNode/vtSignedUrl",payload:{id:i,url:String(t.payload)}})})).addCase(v.JZ.fulfilled,((e,t)=>{const{id:i,userToken:n}=t.meta.arg;i&&n&&t.payload&&h.vtSignedUrl(e,{type:"layerNode/vtSignedUrl",payload:{id:i,url:String(t.payload)}})}))}}),m=f,y=f.actions;d.getSelectors((e=>e.layerNode.creatingLayers)),c.getSelectors((e=>e.layerNode.tilePercents))},65557:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>b,ZP:()=>w});var n=i(53926),o=i.n(n),a=i(49163),l=i(15288),r=i.n(l),s=i(36639),d=i(22138),c=i(27371),u=i(65147),p=i(82505),h=i(33324),v=i.n(h),g=i(15328);const f={updateEditor:function(e,t){Object.assign(e.editor,t.payload)},updateEditorSelectedFeatures:function(e,t){var i;const n=t.payload;if(null!==(i=e.editor.selectedFeatures)&&void 0!==i&&i.length&&"dissolve"===e.editor.editingMode)if(-1===e.editor.selectedFeatures.findIndex((e=>{var t,i;return(null===(t=e.properties)||void 0===t?void 0:t.id)===(null===(i=n.properties)||void 0===i?void 0:i.id)}))){e.editor.selectedFeatures.some((e=>(0,p.Z)((0,u.Z)(e,{precision:6}),(0,u.Z)(n,{precision:6}))))?e.editor.selectedFeatures.push(n):null!==g.gs&&void 0!==g.gs&&g.gs.$t&&c.ZP.info(g.gs.$t({id:"xlTjiO",defaultMessage:"Please select adjacent polygons to dissolve"}))}else e.editor.selectedFeatures=e.editor.selectedFeatures.filter((e=>{var t,i;return(null===(t=e.properties)||void 0===t?void 0:t.id)!==(null===(i=n.properties)||void 0===i?void 0:i.id)}));else{var o;if(null!==(o=e.editor.selectedFeatures)&&void 0!==o&&o.length)return;e.editor.selectedFeatures=[n]}},updateHiddenLayers:function(e,t){const{ids:i,hidden:n,projectId:a}=t.payload;e.hiddenLayerIds[a]||(e.hiddenLayerIds[a]=[]);const l=o().get(d.JT,{});l[a]=[...e.hiddenLayerIds[a]],i.forEach((e=>{const t=l[a].findIndex((t=>t===e));n?l[a].push(e):-1!==t&&l[a].splice(t,1)})),e.hiddenLayerIds[a]=v()([...l[a]]),o().set(d.JT,l)},updatePoiDetail:function(e,t){Object.assign(e.poiDetail,t.payload)},clearPoiDetail:function(e){Object.assign(e.poiDetail,{visible:!1,tableNodeId:void 0,rowId:void 0,id:void 0,labelFieldId:void 0,newCreated:!1})},updateMapFilters:function(e,t){const{id:i,type:n,filter:a,persistence:l=!0}=t.payload;if(!i)return;e.filters[i]?("layer"!==n||s.K.isEmpty(a)||(e.filters[i].layer=a),"legend"!==n||s.K.isEmpty(a)||(e.filters[i].legend=a),"arbitrary"!==n||s.K.isEmpty(a)||(e.filters[i].arbitrary=a)):e.filters[i]={[n]:a},l&&o().set(d.HW,r()(e.filters,(e=>({layer:e.layer}))))},removeMapFilters:function(e,t){const{id:i,type:n,persistence:a=!0}=t.payload;n?e.filters[i]&&delete e.filters[i][n]:delete e.filters[i],a&&o().set(d.HW,r()(e.filters,(e=>({layer:e.layer}))))},clearMapFilters:function(e,t){const{type:i,persistence:n=!0}=t.payload;for(const o in e.filters)delete e.filters[o][i];n&&o().set(d.HW,r()(e.filters,(e=>({layer:e.layer}))))},updateBaseMap:function(e,t){e.baseMap=t.payload},setIsInitTableNodesReady:function(e,t){e.isInitTableNodesReady=t.payload},toggleTimeline:function(e,t){e.timeline.enable=t.payload,e.timeline.isOpen=t.payload,t.payload||(e.timeline.layers=[])},toggleTimelineOpen:function(e,t){e.timeline.isOpen=t.payload},updateTimelineFilters:function(e,t){e.timeline.layers=t.payload},updateTimelineRange:function(e,t){e.timeline.range=t.payload},updateMapConfig:function(e,t){Object.assign(e.mapConfig,{...e.mapConfig,...t.payload})},updateMapConfigStaging:function(e,t){e.mapConfigStaging?Object.assign(e.mapConfigStaging,{...e.mapConfigStaging,...t.payload}):e.mapConfigStaging={...t.payload}},clearMapConfigStaging:function(e){e.mapConfigStaging=null},updateActiveLabels:function(e,t){e.activeLabels=t.payload,o().set(d.iu,t.payload)},updateAnnotationStatus:function(e,t){Object.assign(e.annotationStatus,t.payload),o().set(d.Af,e.annotationStatus.visible)},updateExtensionPanelVisible:function(e,t){e.extensionPanelVisible=t.payload},updateSpatialAnalysisVisible:function(e,t){e.spatialAnalysis.isOpen=t.payload,t.payload||(e.spatialAnalysis.isLoading=!1,e.spatialAnalysis.config=void 0)},updateSpatialAnalysisConfig:function(e,t){e.spatialAnalysis.config&&t.payload?Object.assign(e.spatialAnalysis.config,t.payload):e.spatialAnalysis.config=t.payload},setSpatialAnalysisConfig:function(e,t){e.spatialAnalysis.config=t.payload},setSpatialAnalysisLoading:function(e,t){e.spatialAnalysis.isLoading=t.payload},setSpatialAnalysisAnalyzing:function(e,t){e.spatialAnalysis.isAnalyzing=t.payload},setSpatialAnalysisProgress:function(e,t){e.spatialAnalysis.progress=t.payload},setSpatialAnalysisGridCount:function(e,t){e.spatialAnalysis.gridCount=t.payload},setSpatialAnalysisVtData:function(e,t){e.spatialAnalysis.vtData=t.payload},setSpatialAnalysisOverlayVtData:function(e,t){e.spatialAnalysis.overlayVtData=t.payload},updateTripsLayerTimeline:function(e,t){e.tripsLayerTimeLine={...e.tripsLayerTimeLine,...t.payload}},setTheme:function(e,t){e.theme=t.payload},updateStatVisible:function(e,t){e.stat.isOpen=t.payload,o().set(d.V2,t.payload)},updateStatFilterType:function(e,t){e.stat.center=void 0,e.stat.filterType=t.payload},updateStatCoordinates:function(e,t){e.stat.coordinates=t.payload},updateStatCustomCenter:function(e,t){e.stat.center=t.payload,e.stat.filterType="custom"},updateStatPreview:function(e,t){e.stat.preview=t.payload},setProximityAnalysisProgress:function(e,t){e.stat.progress=t.payload}};const m={editor:{enable:!1,isNew:!0},filters:r()(o().get(d.HW,{}),(function(e){return Array.isArray(e)?{layer:s.K.and(...e.filter((e=>e&&"layer"===e.type)).map((e=>({id:e.id,op:e.relation,field:e.field,value:e.value}))))}:e})),hiddenLayerIds:o().get(d.JT,{}),poiDetail:{visible:!1},baseMap:null,isInitTableNodesReady:!1,timeline:{enable:!1,layers:[]},tripsLayerTimeLine:{active:!1,playing:!1,speed:1e4,multiplier:1},mapConfig:{},activeLabels:o().get(d.iu),annotationStatus:{selected:!1,visible:o().get(d.Af,!0)},extensionPanelVisible:!1,spatialAnalysis:{isOpen:!1,isLoading:!1,isAnalyzing:!1,gridCount:0,progress:0},stat:{isOpen:o().get(d.V2,!1),progress:0}},y=(0,a.oM)({name:"map",initialState:m,reducers:f}),w=y,b=y.actions},91017:(e,t,i)=>{"use strict";i.d(t,{TH:()=>c,SF:()=>p,zJ:()=>u});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/notifications/")});class l extends o.tr{async get(e,t){const{data:i}=await this.fetch.get("",{params:{page:e,mode:t}});return i}async markAsRead(e){const{data:t}=await this.fetch.post("/".concat(e,"/"));return t}}const r=new l(a);var s=i(40365);const{createAsyncAction:d}=(0,s.w)({typePrefix:"notification"}),c=d("get",(async e=>{const{page:t,mode:i}=e;return await r.get(t,i)})),u=d("markAsRead",(async e=>await r.markAsRead(e))),p=d("markAllAsRead",(async()=>await r.markAsRead(0)))},20535:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>E,ZP:()=>T,tu:()=>P});var n=i(49163),o=i(18878),a=i.n(o),l=i(2542),r=i.n(l),s=(i(55349),i(13682)),d=i.n(s),c=i(17646),u=i.n(c),p=i(75348),h=i.n(p),v=i(20491),g=i(15328);function f(e,t){var i;let n=e.content;var o;d()(n,"notify.")&&(n=null!==(o=t.$t({id:n,defaultMessage:[]}))&&void 0!==o?o:"");const a={};return u()(null===(i=e.payload)||void 0===i?void 0:i.params,((e,i)=>{a[i]=e;try{h()(e,".")>0&&(a[i]=t.$t({id:e,defaultMessage:[]}))}catch(n){}})),r()(n)({...e.payload,...a,role:(0,v.vA)(e.payload.role,t),roleRows:e.payload.roleRows?t.$t({id:"zp4Cgx",defaultMessage:"Specify rows"}):t.$t({id:"Wa/fqf",defaultMessage:"All rows"})})}function m(e){var t;"Notification"in window&&g.gs&&("granted"===Notification.permission&&new Notification(null!==(t=g.gs.$t({id:"NAidKb",defaultMessage:"Notifications"}))&&void 0!==t?t:"",{body:f(e,g.gs)}))}const y=(0,n.HF)(),w=(0,n.HF)(),b=(0,n.HF)(),C=(0,n.HF)();const x={arrive:function(e,t){const{detail:i,unreadCount:n,popup:o}=t.payload;e.unreadCount=n,o&&(e.newestNotification=i,m(i))},update:function(e,t){var i;const{detail:n,unreadCount:o,popup:a}=t.payload;e.unreadCount=o,y.setOne(e.updatedNotifications,n),a&&(e.newestNotification=n,m(n));const{progressID:l,progressRate:r}=n.payload;l&&("processing"===n.level&&r?w.setOne(e.notificationProgress,{id:l,rate:r}):"processing"===n.level||r||w.removeOne(e.notificationProgress,l),a&&"url"===n.level&&n.detail&&(null===(i=P.selectById(e,l))||void 0===i?void 0:i.id)===l&&(C.removeOne(e.downloads,l),window.open("/download/".concat(encodeURIComponent(btoa(n.detail))),"_blank")))},reset:function(e){e.newestNotification=null},resetUpdated:function(e,t){y.removeOne(e.updatedNotifications,t.payload)},removeProgressFinished:function(e,t){b.removeOne(e.progressFinished,t.payload)},setDownloading:function(e,t){C.setOne(e.downloads,{id:t.payload})}};var I=i(81837),j=i(91017),M=i(1714);const k=(0,n.oM)({name:"notification",initialState:{unreadCount:0,newestNotification:null,updatedNotifications:{ids:[],entities:{}},notificationProgress:{ids:[],entities:{}},progressFinished:{ids:[],entities:{}},downloads:{ids:[],entities:{}}},reducers:x,extraReducers(e){e.addCase(I.F9.fulfilled,((e,t)=>{const{detail:i}=t.payload;a()(i.unreadNotificationsCount)&&(e.unreadCount=i.unreadNotificationsCount)})),e.addCase(j.zJ.fulfilled,((e,t)=>{const{detail:i}=t.payload;e.unreadCount=i.unreadCount})).addCase(j.SF.fulfilled,((e,t)=>{const{detail:i}=t.payload;e.unreadCount=i.unreadCount})).addCase(j.TH.fulfilled,((e,t)=>{const{extra:i}=t.payload;e.unreadCount=i.unreadCount})).addCase(M.Nw.bigtableExport,((e,t)=>{b.setOne(e.progressFinished,{id:t.payload,rate:0})}))}}),T=k,E=k.actions,P=(y.getSelectors((e=>e.notification.updatedNotifications)),w.getSelectors((e=>e.notification.notificationProgress)),w.getSelectors((e=>e.notification.progressFinished)),C.getSelectors((e=>e.downloads)))},96576:(e,t,i)=>{"use strict";i.d(t,{N:()=>r,Z:()=>l});var n=i(49163);const o={create:function(e,t){},invited:function(e,t){},update:function(e,t){},delete:function(e,t){}},a=(0,n.oM)({name:"org",initialState:{},reducers:o,extraReducers(e){e.addMatcher(n.Iv,((e,t)=>{throw t.error}))}}),l=a,r=a.actions},42538:(e,t,i)=>{"use strict";i.d(t,{$L:()=>h,th:()=>f,mr:()=>m,NV:()=>v,SQ:()=>g,Zw:()=>y,pJ:()=>w,hW:()=>b});var n=i(74797),o=i(22963);const a=(0,o.Fs)({baseURL:"".concat(n.Z.baseApiURL,"/")});class l extends o.tr{async getInvitations(e,t){const{data:i}=await this.fetch.get("".concat(t,"/").concat(e,"/invitations/"));return i.detail}async inviteMember(e,t,i){const{data:n}=await this.fetch.post("".concat(t,"s/").concat(e,"/members/invitations/"),{members:i});return n}async deleteInvitation(e,t,i){const{data:n}=await this.fetch.delete("".concat(t,"/").concat(e,"/invitations/").concat(i,"/"));return n}async resendInvitation(e,t,i){const{data:n}=await this.fetch.post("".concat(t,"/").concat(e,"/invitations/").concat(i,"/resend/"));return n}}const r=new l(a);var s=i(98868),d=i(40365);const c="project",{createAsyncAction:u}=(0,d.w)({typePrefix:c}),p=(0,d.w)({typePrefix:c,syncWithWebSocket:!0}).createAsyncAction,h=p("create",(async(e,t)=>await s.Z.withRequestId(t.requestId).create(e))),v=p("update",(async(e,t)=>{const{projectId:i,icon:n,name:o,desc:a,timezone:l,defaultView:r,mapConfig:d,roleInherited:c,themeColor:u,weekStartOnMonday:p}=e;return await s.Z.withRequestId(t.requestId).update(i,n,o,u,a,l,r,c,d,p)})),g=u("update",(async e=>{const{projectId:t,icon:i,name:n,desc:o,timezone:a,defaultView:l,mapConfig:r,roleInherited:d,themeColor:c}=e;return await s.Z.update(t,i,n,c,o,a,l,d,r)})),f=(u("getLayerNodes",(async e=>await s.Z.getLayerNodes(e))),u("getLayerTables",(async e=>await s.Z.getLayerTables(e))),u("delete",(async e=>await s.Z.delete(e)))),m=u("duplicate",(async e=>{const{projectId:t,name:i}=e;return await s.Z.duplicate(t,i)})),y=(u("deleteRecycle",(async e=>await s.Z.deleteRecycle(e))),u("recover",(async e=>await s.Z.recover(e))),p("transfer",(async(e,t)=>{const{projectId:i,toOrgID:n,toUserID:o}=e;return await s.Z.withRequestId(t.requestId).transfer(i,n,o)})),u("inviteMembers",(async e=>{const{projectId:t,members:i}=e;return await s.Z.invite(t,i)})),u("getMembers",(async e=>await s.Z.getMembers(e)))),w=(u("updateMember",(async e=>{const{projectId:t,members:i}=e;return(await s.Z.updateMember(t,i)).detail})),u("deleteMember",(async e=>{const{projectId:t,memberId:i}=e;return(await s.Z.deleteMember(t,i)).detail})),u("deleteInvitation",(async e=>{const{id:t,invitationID:i}=e;return await r.deleteInvitation(t,"project",i)})),u("resendInvitation",(async e=>{const{id:t,invitationID:i}=e;return await r.resendInvitation(t,"project",i)})),u("getSharedLayerNodes",(async e=>{const{sharingParams:t}=e;return await s.Z.getSharedLayerNodes(t)})),u("getSharedAnnotations",(async e=>{const{sharingParams:t}=e;return await s.Z.getSharedAnnotations(t)}))),b=u("getSharedBasempas",(async e=>{const{sharingParams:t}=e;return await s.Z.getSharedBasemaps(t)}));p("shareProject",(async(e,t)=>{const{type:i,id:n,toggle:o,togglePassword:a,toggleExport:l,resetToken:r,resetPassword:d}=e;return await s.Z.withRequestId(t.requestId).shareProject(i,n,o,a,l,r,d)})),u("updateLastOpenTime",(async e=>{const{projectId:t}=e;return s.Z.updateLastOpenTime(t)})),u("updateProjectFavorite",(async e=>{const{projectID:t,isFavorite:i}=e;return s.Z.updateFavorite(t,i)}))},58590:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>P,ZP:()=>E,Hx:()=>O});var n=i(49163),o=i(53926),a=i.n(o),l=i(18765),r=i.n(l),s=i(17646),d=i.n(s),c=i(88716),u=i.n(c),p=i(63679),h=i.n(p),v=i(76592),g=i(66168),f=i(22138),m=i(95436),y=i(1714),w=i(46331);const b=(0,n.HF)({sortComparer:(e,t)=>-e.createTime.localeCompare(t.createTime)});var C=i(70093);const x=(e,t,i)=>{t.forEach((t=>{"map"===t.type&&(e.zIndexMap[t.id]=i.count--),t.children&&x(e,t.children,i)}))};function I(e,t){const{projectID:i,updatedFields:n}=t.payload;if(i&&n&&b.updateOne(e,{id:i,changes:n}),n.quota){if(n.quota.id&&e.currentProjectId&&n.quota.id!==e.currentProjectId)return;e.currentProjectQuota=n.quota}}const j={create:function(e,t){b.addOne(e,t.payload)},recover:function(e,t){const{project:i}=t.payload;b.addOne(e,i)},update:I,setProject:function(e,t){b.getSelectors().selectById(e,t.payload.id)?b.updateOne(e,{id:t.payload.id,changes:t.payload}):b.addOne(e,t.payload),t.payload.quota&&(e.currentProjectQuota=t.payload.quota)},setProjects:function(e,t){b.removeAll(e),b.addMany(e,t.payload.projects),e.currentWorkspace=t.payload.workspace},duplicate:function(e){e.isDuplicating=!1},setMembers:function(e,t){e.members=t.payload},setLayerNodes:function(e,t){e.layerNodes[t.payload.id]=t.payload.layerNodes},updateZIndexMap:function(e,t){const{payload:i}=t;let n=0;var o;e.layerNodes[i.projectID]&&(null===(o=e.layerNodes[i.projectID])||void 0===o||o.forEach((e=>{"map"===e.type&&n++})),x(e,i.treeData,{count:n}))},delete:function(e,t){b.removeOne(e,t.payload.id)},deleteRecycle:function(e,t){},updateCoordinateEditor:function(e,t){t.payload.config?(a().set(f.GD,{...e.coordinateEditor.config,...t.payload.config}),Object.assign(e.coordinateEditor.config,t.payload.config)):Object.assign(e.coordinateEditor,t.payload)},updateMultiLineTextEditor:function(e,t){Object.assign(e.multiLineTextEditor,t.payload)},updateTableSiderVisible:function(e,t){e.currentProjectId&&C.t.set(e.currentProjectId,"table:sider",t.payload),e.tableSiderVisible=t.payload},updateMapSiderVisible:function(e,t){e.mapSiderVisible=t.payload,e.currentProjectId&&C.t.set(e.currentProjectId,"map:sider",t.payload)},updateLayerSettingsVisible:function(e,t){e.layerSettingsVisible=t.payload},updateCurrentProjectId:function(e,t){var i,n;e.currentProjectId=t.payload,t.payload&&(e.mapSiderVisible=null===(i=C.t.get(t.payload,"map:sider"))||void 0===i||i,e.tableSiderVisible=null===(n=C.t.get(t.payload,"table:sider"))||void 0===n||n)},updateCurrentTableNodeId:function(e,t){e.currentTableNodeId=t.payload},userInfoUpdate:function(e,t){I(e,t)},updateDualViews:function(e,t){var i;e.currentProjectId&&(e.dualViews={...e.dualViews,[e.currentProjectId]:{...null===(i=e.dualViews)||void 0===i?void 0:i[e.currentProjectId],...t.payload}},a().set(f.vS,e.dualViews))}};var M=i(42538);const k=b.getInitialState({currentWorkspace:void 0,layerNodes:{},previewMapInfos:{},computedPreviewMapInfos:{},zIndexMap:{},coordinateEditor:{visible:!1,config:a().get(f.GD,m.BE)},multiLineTextEditor:{visible:!1},mapSiderVisible:!0,layerSettingsVisible:!1,tableSiderVisible:!0,currentProjectId:null,members:void 0,customizeBaseMap:[],isDuplicating:!1,dualViews:a().get(f.vS)}),T=(0,n.oM)({name:"project",initialState:k,reducers:j,extraReducers(e){e.addCase(M.$L.rejected,((e,t)=>{throw t.error})).addCase(M.NV.rejected,((e,t)=>{throw t.error})).addCase(M.th.rejected,((e,t)=>{throw t.error})).addCase(M.mr.pending,((e,t)=>{e.isDuplicating=!0})),e.addCase(y.Nw.create,((e,t)=>{const{payload:i}=t,n=e.entities[i.projectID];if(!n)return e;n.tableNodes?n.tableNodes.push(i):n.tableNodes=[i]})).addCase(y.Nw.update,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.entities[n.projectID])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n.id));o&&Object.assign(o,n.updatedFields)})).addCase(y.Nw.move,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.entities[n.projectID])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n.id));o&&Object.assign(o,{order:n.order,parentID:n.parentID})})).addCase(y.Nw.delete,((e,t)=>{const{payload:i}=t,n=e.entities[i.projectID],o=e.layerNodes[i.projectID];n&&i.recycleTableNode&&(n.recycleTableNodes=[i.recycleTableNode,...n.recycleTableNodes||[]]),d()(i.ids,(e=>{const t=h()(null===n||void 0===n?void 0:n.tableNodes,(t=>t.id===e));var i;-1!==t&&(null===n||void 0===n||null===(i=n.tableNodes)||void 0===i||i.splice(t,1))})),d()(i.layerNodeIDs,(e=>{const t=h()(o,(t=>t.id===e));-1!==t&&o.splice(t,1)}))})).addCase(y.Nw.deleteRecycle,((e,t)=>{const{payload:i}=t,n=e.entities[i.projectID];var o;n&&Object.assign(n,{...n,recycleTableNodes:null===n||void 0===n||null===(o=n.recycleTableNodes)||void 0===o?void 0:o.filter((e=>e.id!==i.tableNodeID))})})).addCase(y.Nw.recoverRecycle,((e,t)=>{var i;const{payload:n}=t,o=e.entities[n.projectID];if(!o)return e;o.tableNodes?o.tableNodes=[...o.tableNodes,...n.tableNodes]:o.tableNodes=n.tableNodes;const a=e.layerNodes[n.projectID];u()(a)?e.layerNodes[n.projectID]=n.layerNodes:d()(n.layerNodes,(e=>{a.push(e)})),Object.assign(o,{...o,recycleTableNodes:null===o||void 0===o||null===(i=o.recycleTableNodes)||void 0===i?void 0:i.filter((e=>e.id!==n.recycleID))})})).addCase(y.Nw.syncStart,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.entities[n.projectID])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n.id));o&&Object.assign(o,{syncing:!0})})).addCase(y.Nw.sync,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.entities[n.projectID])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n.id));null!==o&&void 0!==o&&o.syncing&&Object.assign(o,{syncing:!1})})).addCase(y.Nw.synced,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.entities[n.projectID])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n.id));null!==o&&void 0!==o&&o.syncing&&Object.assign(o,{syncing:!1})})),e.addCase(v.Nw.create,((e,t)=>{const i=t.payload,n=e.layerNodes[i.projectID]||[];e.layerNodes[i.projectID]=[...n,i]})).addCase(v.Nw.refreshStaleLayer,((e,t)=>{var i;const n=t.payload.layerId;if(!n)return;const o=null===(i=e.layerNodes[t.payload.projectId])||void 0===i?void 0:i.find((e=>e.id===n));o&&o.stale&&(o.stale=!1,delete e.previewMapInfos[n],delete e.computedPreviewMapInfos[n])})).addCase(v.Nw.update,((e,t)=>{var i;const{projectID:n,layerNodeID:o,updatedFields:a}=t.payload;n&&o&&(e.layerNodes[n]=null===(i=e.layerNodes[n])||void 0===i?void 0:i.map((e=>e.id===o?{...e,...a,stale:!0,version:Date.now()}:e)))})).addCase(v.Nw.vtRecreate,((e,t)=>{var i;const{projectID:n,layerNodes:o}=t.payload;null!==o&&void 0!==o&&o.length&&(e.layerNodes[n]=null===(i=e.layerNodes[n])||void 0===i?void 0:i.map((e=>{const t=null===o||void 0===o?void 0:o.find((t=>t.id===e.id));return null!==t&&void 0!==t&&t.mapInfo?{...e,mapInfo:t.mapInfo,vtInfo:t.vtInfo,stale:!0,version:Date.now()}:e})))})).addCase(v.Nw.h3Recreate,((e,t)=>{var i;const{id:n,projectID:o,vtInfo:a}=t.payload,l=null===(i=e.layerNodes[o])||void 0===i?void 0:i.find((e=>e.id===n));l&&(Object.assign(l,{vtInfo:a}),e.layerNodes={...e.layerNodes})})).addCase(v.Nw.move,((e,t)=>{var i;const{payload:n}=t,o=null===(i=e.layerNodes[n.projectID])||void 0===i?void 0:i.find((e=>e.id===n.id));o&&Object.assign(o,{order:n.order,parentID:n.parentID}),e.layerNodes={...e.layerNodes}})).addCase(g.X5,((e,t)=>{const{payload:i}=t,n=i.ids;e.layerNodes[i.projectID]=r()(e.layerNodes[i.projectID],(e=>n.indexOf(e.id)<=-1))})).addCase(g.lZ,((e,t)=>{const i=t.payload;i.mapInfo?e.previewMapInfos={[i.id]:i.mapInfo}:(delete e.previewMapInfos[i.id],delete e.computedPreviewMapInfos[i.id])})).addCase(g.Q$,((e,t)=>{const i=t.payload;i.id&&i.mapInfo&&(e.computedPreviewMapInfos={[i.id]:i.mapInfo})})),e.addCase(M.Zw.fulfilled,((e,t)=>{e.members=t.payload})).addCase(M.Zw.rejected,((e,t)=>{e.members=void 0})),e.addCase(w.ut,((e,t)=>{e.customizeBaseMap=t.payload})).addCase(w.ip,((e,t)=>{e.customizeBaseMap=[...e.customizeBaseMap,t.payload]})).addCase(w.P8,((e,t)=>{e.customizeBaseMap=r()(e.customizeBaseMap,(e=>e.id!==t.payload.id))})).addCase(w.$1,((e,t)=>{e.customizeBaseMap=e.customizeBaseMap.map((e=>e.id===t.payload.id?{...e,...t.payload.updatedFields}:e))}))}}),E=T,P=T.actions,O=b.getSelectors((e=>e.project))},68885:(e,t,i)=>{"use strict";i.d(t,{JD:()=>ce,wy:()=>O.wy,v:()=>_.v,ZG:()=>_.ZG,r8:()=>Z,OW:()=>ue,Sq:()=>be,ih:()=>O.ih,M5:()=>_.M5,Ed:()=>$,AB:()=>de,o0:()=>Me,iX:()=>Ie,aL:()=>je,Yn:()=>ee,Zl:()=>Y,ro:()=>te,ZL:()=>K,yf:()=>X,FH:()=>ie,ZN:()=>A,mc:()=>_.mc,V6:()=>U,Yg:()=>O.Yg,W0:()=>ge,eT:()=>O.eT,rD:()=>_.rD,ZJ:()=>Ce,r7:()=>O.r7,IK:()=>_.IK,x6:()=>_.x6,xf:()=>q,Lu:()=>O.Lu,V2:()=>me,LU:()=>ae,be:()=>O.be,Ic:()=>B,qp:()=>ke,QR:()=>O.QR,vD:()=>_.vD,UQ:()=>xe,E:()=>O.E,D9:()=>_.D9,pt:()=>_.pt,Ps:()=>G,O7:()=>O.O7,fV:()=>fe,yG:()=>le,KV:()=>O.mZ,e7:()=>V,Y5:()=>he,e:()=>pe,I:()=>oe,Gw:()=>O.Gw,Cv:()=>O.Cv,tu:()=>H,xQ:()=>z,NK:()=>re,Uk:()=>O.hS});var n=i(43179),o=i.n(n),a=i(7070),l=i.n(a),r=i(15972),s=i.n(r),d=i(17646),c=i.n(d),u=i(88716),p=i.n(u),h=i(37756),v=i.n(h),g=i(74110),f=i(72494),m=i(6686),y=i(22963),w=i(74797);const b=(0,y.Fs)({baseURL:"".concat(w.Z.baseApiURL,"/inference/"),timeout:f.KI});class C extends y.tr{async convertColumns(e){const{data:t}=await this.fetch.post("columns/convert/",e);return t}async inferenceData(e){const{data:t}=await this.fetch.post("inference/",e);return t}}const x=new C(b),I=(0,y.Fs)({baseURL:"".concat(w.Z.baseApiURL,"/dataenrichment/")});class j extends y.tr{async list(){const{data:e}=await this.fetch.get("/");return e.detail}}const M=new j(I);var k=i(4511),T=i(3207),E=i(40365),P=i(1714),O=i(41012),_=i(80778);const S="tableNode",{createAsyncAction:N,createUndoRedoActions:L}=(0,E.w)({typePrefix:S,syncWithWebSocket:!0}),D=(0,E.w)({typePrefix:S,syncWithWebSocket:!0,timeoutTime:f.KI}).createAsyncAction,R=(0,E.w)({typePrefix:S,syncWithWebSocket:!1}).createAsyncAction,Z=N("create",(async(e,t)=>await m.ZP.withRequestId(t.requestId).create(e))),A=(R("inferenceTableNodeFile",(async e=>{const{sheetsOptions:t,name:i,type:n,url:o}=e,{detail:a}=await x.inferenceData({sheetsOptions:t,name:i,type:n,url:o});return a})),D("importTableNodeFile",(async(e,t)=>{const{sheetsOptions:i,name:n,projectID:o,sheets:a,type:l,url:r,importID:s,createLayer:d}=e;return await m.ZP.withRequestId(t.requestId).importData({importID:s,sheetsOptions:i,createLayer:d,name:n,projectID:o,sheets:a,type:l,url:r})}))),F=(D("appendTableNode",(async(e,t)=>{const{sheetsOptions:i,tableNodeID:n,columns:o,type:a,url:l,importID:r,mergeStrategy:s,indexColumnID:d}=e;return await m.ZP.withRequestId(t.requestId).appendData({sheetOptions:p()(i)?{firstRowAsHeader:!0}:i[0],tableNodeID:n,importID:r,columns:o,type:a,url:l,mergeStrategy:s,indexColumnID:d})})),D("geocodingColumn",(async(e,t)=>await m.ZP.withRequestId(t.requestId).geocodingColumn(e))),D("regionBoundaryColumn",(async(e,t)=>await m.ZP.withRequestId(t.requestId).regionBoundaryColumn(e))),L("updateName",(async(e,t)=>{const{id:i,name:n,projectID:o}=e;return await m.ZP.withRequestId(t.requestId).update(i,{name:n,projectID:o})}))()),z=F.action,B=F.redoAction,V=F.undoAction,H=N("update",(async(e,t)=>{const{id:i,tableNode:n}=e;return await m.ZP.withRequestId(t.requestId).update(i,n)})),W=L("move",(async(e,t)=>{const{id:i,moveInfo:n}=e;return await m.ZP.withRequestId(t.requestId).move(i,n)}))(),U=W.action,q=W.redoAction,G=W.undoAction,$=(N("deleteRecycle",(async(e,t)=>await m.ZP.withRequestId(t.requestId).deleteRecycle(e))),N("recoverRecycle",(async(e,t)=>await m.ZP.withRequestId(t.requestId).recover(e))),N("deleteNode",(async(e,t)=>await m.ZP.withRequestId(t.requestId).deleteNode(e)))),J=(D("syncTableNode",(async(e,t)=>{let{dispatch:i,requestId:n}=t;await i(P.Nw.syncStart(e));const o=await m.ZP.withRequestId(n).sync(e.id,e.sharePassword);if(o.needPassword)throw new Error(m.IK+":"+o.shareToken);return o})),(e,t)=>{const i=t().tableNode.entities[e],n=!(null===i||void 0===i||!i.lastRetrievedAt)&&o()().isBefore(o()(null===i||void 0===i?void 0:i.lastRetrievedAt).add(1,"day"));if(i&&n&&!i.more)return!1}),K=R("getDetail",(async(e,t)=>{var i,n;const{id:o,viewId:a,shareParams:l,userToken:r,projectId:s,withData:d}=e,c=t.getState(),u=c.tableNode.entities[o];if(c.tableNode.fetchingTableNodeIds.includes(o))return;t.dispatch(P.Nw.updateFetchingTableNodeIds({id:o,isFetching:!0}));const p=await Q({projectId:s,id:o,viewId:a,shareParams:l,userToken:r,lastSegmentRowID:null!==(i=null===u||void 0===u?void 0:u.lastRowID)&&void 0!==i?i:null===(n=v()(null===u||void 0===u?void 0:u.rows))||void 0===n?void 0:n.id},t.dispatch);return d?t.getState().tableNode.entities[o]:p}),{condition:(e,t)=>{let{getState:i}=t;const{id:n}=e;return J(n,i)}}),Y=R("getTableNodeBigTableDetail",(async(e,t)=>{var i;const n=null!==(i=e.shareParams)&&void 0!==i&&i.token?ee:X;await t.dispatch(n(e))}),{condition:(e,t)=>{let{getState:i}=t;const{id:n}=e;return J(n,i)}});async function Q(e,t){var i,n,o;const a=null!==(i=e.shareParams)&&void 0!==i&&i.token?ee:X,l=(await t(a(e))).payload,r=null!==(n=null===l||void 0===l?void 0:l.lastRowID)&&void 0!==n?n:null===(o=v()(l.rows))||void 0===o?void 0:o.id;if(l.more&&r&&l.type!==g.e.bigTable){const i={...e,lastSegmentRowID:r};await Q(i,t)}}const X=R("getDetailPartial",(async(e,t)=>{var i;const{id:n,viewId:o,lastSegmentRowID:a,projectId:l}=e;return(null===(i=t.getState().project.entities[l])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n)))?await m.ZP.withRequestId(t.requestId).getPartial(n,o,a):{}})),ee=R("getSharedTableNodePartial",(async(e,t)=>{var i;const{id:n,lastSegmentRowID:o,shareParams:a,userToken:l,projectId:r}=e,s=null===(i=t.getState().project.entities[r])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===n));return null!==a&&void 0!==a&&a.type&&null!==a&&void 0!==a&&a.token&&l&&s?await m.ZP.withRequestId(t.requestId).getSharedPartial({type:a.type,token:a.token},n,l,o):{}})),te=R("getTableNodeDetailByIds",(async(e,t)=>{let{dispatch:i}=t;const{tableNodeIds:n,shareParams:o,projectId:a,userToken:r}=e;return await Promise.all(l()(n,(e=>i(K({projectId:a,id:e,shareParams:o,userToken:r})))))})),ie=R("getTableNodeDetailByIds",(async(e,t)=>{let{dispatch:i}=t;const{tableViewIds:n,shareParams:o,userToken:a}=e;return await Promise.all(l()(n,(e=>{let{id:t,viewId:n}=e;return i(de({id:t,viewId:n,type:null===o||void 0===o?void 0:o.type,token:null===o||void 0===o?void 0:o.token,userToken:a}))})))})),ne=L("updateCells",(async(e,t)=>{const{id:i,rowId:n,cells:o}=e;return await m.ZP.withRequestId(t.requestId).patchCell(i,n,o)}))(),oe=ne.action,ae=ne.redoAction,le=ne.undoAction,re=(N("createView",(async(e,t)=>{const{id:i,fromViewID:n,name:o,type:a,state:l}=e;return await m.ZP.withRequestId(t.requestId).createView(i,o,a,n,l)})),N("deleteView",(async(e,t)=>{const{id:i,viewId:n}=e;return await m.ZP.withRequestId(t.requestId).deleteView(i,n)})),N("updateView",(async(e,t)=>{const{id:i,viewId:n,params:o}=e;return await m.ZP.withRequestId(t.requestId).updateView(i,n,o)}))),se=(N("moveView",(async(e,t)=>{const{id:i,viewId:n,prevViewID:o}=e;return await m.ZP.withRequestId(t.requestId).moveView(i,n,o)})),N("shareView",(async(e,t)=>{const{id:i,viewId:n,toggle:o,togglePassword:a,toggleExport:l,resetToken:r,resetPassword:s,allowSubscribe:d}=e;return await m.ZP.withRequestId(t.requestId).shareView(i,n,o,a,l,r,s,d)})),N("getViewDetail",(async(e,t)=>{const{id:i,viewId:n}=e;return await m.ZP.withRequestId(t.requestId).getViewDetail(i,n)}))),de=(N("getSharedViewDetail",(async(e,t)=>{const{shareParams:i,viewId:n,userToken:o}=e;return await m.ZP.withRequestId(t.requestId).getSharedViewDetail({type:i.type,token:i.token},n,o)})),N("getAnyViewDetail",(async(e,t)=>{const{id:i,viewId:n,token:o,type:a,userToken:l}=e;if(o){if(!a||!l)return;return await m.ZP.withRequestId(t.requestId).getSharedViewDetail({type:a,token:o},n,l)}return await m.ZP.withRequestId(t.requestId).getViewDetail(i,n)}))),ce=(R("getSharedView",(async(e,t)=>{const{shareParams:i,viewId:n,userToken:o}=e;return await m.ZP.withRequestId(t.requestId).getSharedView({type:i.type,token:i.token},n,o)})),N("addAttachment",(async(e,t)=>{const{id:i,rowId:n,columnId:o,file:a}=e,l=await k.Z.uploadFile("attachment",a);return await m.ZP.withRequestId(t.requestId).addAttachment(i,n,o,l),{...l}}))),ue=N("deleteAttachment",(async(e,t)=>{const{id:i,rowId:n,columnId:o,fileId:a}=e;return await m.ZP.withRequestId(t.requestId).deleteAttachment(i,n,o,a),{id:i,rowId:n,columnId:o,fileId:a}})),pe=N("updateAttachments",(async(e,t)=>{const{id:i,rowId:n,cells:o}=e;return await m.ZP.withRequestId(t.requestId).patchCell(i,n,o)})),he=N("updateAttachment",(async(e,t)=>{const{id:i,rowId:n,columnId:o,fileId:a,name:l}=e;return await m.ZP.withRequestId(t.requestId).updateAttachment(i,n,o,a,l),{id:i,rowId:n,columnId:o,fileId:a,name:l}})),ve=(N("updateRowsCells",(async(e,t)=>{const{id:i,params:n}=e;return await m.ZP.withRequestId(t.requestId).updateCells(i,n)})),"pasteCells");const ge=L(ve,(async(e,t)=>{const{id:i,params:n}=e;return await m.ZP.withRequestId(t.requestId).pasteCells(i,n)}))().action,fe=N("undo_".concat(ve),(async(e,t)=>{const{id:i,params:n,addedRowIds:o,addedColumnIds:a}=e;return p()(o)||await m.ZP.deleteRows(i,o),p()(a)||await m.ZP.deleteColumns(i,a),await m.ZP.withRequestId(t.requestId).pasteCells(i,n)})),me=N("redo_".concat(ve),(async(e,t)=>{const{id:i,params:n,addedRowIds:o,addedColumnIds:a}=e;return p()(o)||await m.ZP.restoreRows(i,o),p()(a)||await m.ZP.restoreColumns(i,a),await m.ZP.withRequestId(t.requestId).pasteCells(i,n)})),ye="deleteCells",we=L(ye,(async(e,t)=>{const{id:i,params:n}=e,o=[];return c()(n.destRowIDs,(e=>{const t=l()(n.destColumnIDs,(e=>null));o.push(t)})),await m.ZP.withRequestId(t.requestId).pasteCells(i,s()({},n,{source:o,sourceColumns:[]}))}))({undo:function(e){return N(e,(async(e,t)=>{const{id:i,params:n}=e;return await m.ZP.withRequestId(t.requestId).pasteCells(i,n)}))}("undo_".concat(ye))}),be=we.action,Ce=we.redoAction,xe=we.undoAction,Ie=(R("getMembers",(e=>m.ZP.getMembers(e))),R("updateMember",(async e=>{const{id:t,members:i}=e;return(await m.ZP.updateMember(t,i)).detail})),R("deleteMember",(async e=>{const{id:t,memberId:i}=e;return(await m.ZP.deleteMember(t,i)).detail})),R("duplicate",(async e=>{const{data:t}=e;return await m.ZP.copy(t.id,t)})),R("createSnapshot",(async e=>{const{id:t,projectID:i,name:n}=e;return await m.ZP.createSnapshot(t,{projectID:i,name:n})})),R("restoreSnapshot",(async(e,t)=>{const{id:i,projectID:n,snapshotID:o}=e;return await m.ZP.restoreSnapshot(i,n,o)})),R("convertColumns",(async e=>(await x.convertColumns(e)).detail)),R("getColumns",(async e=>await m.ZP.getColumns(e))),N("getBigTableRows",(async(e,t)=>{const{id:i,startRow:n,endRow:o,viewId:a}=e;return await m.ZP.withRequestId(t.requestId).getBigtableRows(i,n,o,a)}))),je=N("getSharedBigTableRows",(async(e,t)=>{const{shareParams:i,id:n,startRow:o,endRow:a,viewId:l}=e;return await m.ZP.withRequestId(t.requestId).getSharedBigtableRows(i,n,o,a,l)})),Me=R("getAppendRows",(async(e,t)=>{const{id:i,projectId:n}=e,o=t.getState().tableNode.entities[i];if(!o||!o.hasAppendRows)return;if(await t.dispatch(P.Nw.setLoadAppendRows(i)),o.type!==g.e.table)return;const a=[];return c()(o.views,(e=>{"table"===e.type&&a.push(t.dispatch(se({id:i,viewId:e.id})))})),a.push(t.dispatch(K({projectId:n,id:i}))),await Promise.all(a)})),ke=N("shareRow",(async(e,t)=>{const{id:i,rowId:n,toggle:o,togglePassword:a,resetToken:l,resetPassword:r}=e;return await m.ZP.withRequestId(t.requestId).shareRow(i,n,o,a,l,r)}));R("getUsersInfo",(async e=>(await T.Z.getOpenInfo(e)).detail)),D("aggregate",(async(e,t)=>{const{id:i,name:n,groupByColumnID:o,accumulators:a}=e;return(await m.ZP.withRequestId(t.requestId).aggregate(i,n,o,a)).detail})),R("enrichmentList",(async()=>await M.list())),R("getBigTableRow",(async e=>await m.ZP.getBigTableRow(e.id,e.rowId))),D("enrichment",(async(e,t)=>{const{id:i,coordinateColumnID:n,outputColumnID:o,method:a,sourceID:l,sourceField:r,sourcePartitions:s}=e;return(await m.ZP.withRequestId(t.requestId).enrichment(i,n,o,a,l,r,s)).detail})),D("createRegionAggregate",(async(e,t)=>{const{country:i,tableNodeID:n,accumulators:o,columnID:a,name:l,type:r,specifyMatchColumnID:s}=e,d=await m.ZP.withRequestId(t.requestId).createRegionAggregate(n,{country:i,accumulators:o,columnID:a,name:l,type:r,specifyMatchColumnID:s});return null===d||void 0===d?void 0:d.detail}))},41012:(e,t,i)=>{"use strict";i.d(t,{Cv:()=>E,E:()=>w,Gw:()=>O,Lu:()=>v,O7:()=>g,Pf:()=>u,QR:()=>j,Yg:()=>h,be:()=>S,cE:()=>p,eT:()=>M,hS:()=>c,ih:()=>y,mZ:()=>_,r7:()=>b,wy:()=>I});var n=i(6686),o=i(40365);const a="tableNode",{createAsyncAction:l,createUndoRedoActions:r}=(0,o.w)({typePrefix:a,syncWithWebSocket:!0}),s=(0,o.w)({typePrefix:a,syncWithWebSocket:!1}).createAsyncAction;function d(e){return l(e,(async(e,t)=>{const{id:i,columnIds:o}=e;return await n.ZP.withRequestId(t.requestId).restoreColumns(i,o)}))}const{action:c,redoAction:u,undoAction:p}=r("updateViewColumns",(async(e,t)=>{const{id:i,viewId:o,columnIds:a,params:l}=e;return await n.ZP.withRequestId(t.requestId).updateViewColumn(i,o,a,l)}))(),{action:h,redoAction:v,undoAction:g}=r("moveViewColumn",(async(e,t)=>{const{id:i,viewId:o,columnId:a,prevColumnId:l}=e;return await n.ZP.withRequestId(t.requestId).moveViewColumn(i,o,a,l)}))(),f="deleteColumns";const m=r(f,(async(e,t)=>{const{id:i,columnIds:o}=e;return await n.ZP.withRequestId(t.requestId).deleteColumns(i,o)}))({undo:d("undo_".concat(f))}),y=m.action,w=m.undoAction,b=m.redoAction,C="createColumn",x=r(C,(async(e,t)=>{const{id:i,name:o,type:a,prevColumnId:l,typeOptions:r,autoRename:s=!0}=e;return await n.ZP.withRequestId(t.requestId).createColumn(i,o,a,l,r,s)}))({undo:function(e){return l(e,(async(e,t)=>{const{id:i,columnIds:o}=e;return await n.ZP.withRequestId(t.requestId).deleteColumns(i,o)}))}("undo_".concat(C)),redo:d("redo_".concat(C))}),I=x.action,j=x.undoAction,M=x.redoAction,k="updateColumn";function T(e){return l(e,(async(e,t)=>{const{id:i,columnId:o,name:a,desc:l,type:r,typeOptions:s,pasteCellsParams:d}=e;return"formula"===r?await n.ZP.withRequestId(t.requestId).updateColumn(i,o,a,r,s,l):(await n.ZP.updateColumn(i,o,a,r,s,l),await n.ZP.withRequestId(t.requestId).pasteCells(i,d))}))}const E=s("updateColumnNoSync",(async e=>{const{id:t,columnId:i,name:o,type:a,typeOptions:l,desc:r,state:s}=e;return await n.ZP.updateColumn(t,i,o,a,l,r,s)})),P=r("updateColumn",(async(e,t)=>{const{id:i,columnId:o,name:a,type:l,typeOptions:r,desc:s,state:d}=e;return await n.ZP.withRequestId(t.requestId).updateColumn(i,o,a,l,r,s,d)}))({undo:T("undo_".concat(k)),redo:T("redo_".concat(k))}),O=P.action,_=P.undoAction,S=P.redoAction},80778:(e,t,i)=>{"use strict";i.d(t,{CZ:()=>O,D9:()=>u,IK:()=>p,M5:()=>c,Qw:()=>j,ZG:()=>C,cT:()=>P,d3:()=>M,fu:()=>k,mc:()=>y,pt:()=>b,rD:()=>m,u0:()=>_,v:()=>g,vD:()=>f,x6:()=>w});var n=i(6686),o=i(40365);const{createAsyncAction:a,createUndoRedoActions:l}=(0,o.w)({typePrefix:"tableNode",syncWithWebSocket:!0});function r(e){return a(e,(async(e,t)=>{const{id:i,rowIDs:o}=e;return await n.ZP.withRequestId(t.requestId).restoreRows(i,o)}))}const s="deleteRows";const d=l(s,(async(e,t)=>{const{id:i,rowIDs:o}=e;return await n.ZP.withRequestId(t.requestId).deleteRows(i,o)}))({undo:r("undo_".concat(s))}),c=d.action,u=d.undoAction,p=d.redoAction,h="createRow",v=l(h,(async(e,t)=>{const{id:i,prevRowId:o,cells:a}=e;return await n.ZP.withRequestId(t.requestId).postRow(i,o,a)}))({undo:function(e){return a(e,(async(e,t)=>{const{id:i,rowIDs:o}=e;return await n.ZP.withRequestId(t.requestId).deleteRows(i,o)}))}("undo_".concat(h)),redo:r("redo_".concat(h))}),g=v.action,f=v.undoAction,m=v.redoAction,{action:y,redoAction:w,undoAction:b}=l("moveViewRows",(async(e,t)=>{const{id:i,viewId:o,items:a}=e;return await n.ZP.withRequestId(t.requestId).moveViewRows(i,o,a)}))(),C=a("createRowWithoutUndoRedo",(async(e,t)=>{const{id:i,prevRowId:o,cells:a}=e;return await n.ZP.withRequestId(t.requestId).postRow(i,o,a)})),x=(a("createRows",(async(e,t)=>{const{id:i,rows:o}=e;return await n.ZP.withRequestId(t.requestId).addRows(i,o)})),"splitPolygon"),I=l(x,(async(e,t)=>{const{tableNodeId:i,rows:o}=e;return await n.ZP.withRequestId(t.requestId).addRows(i,o)}))({undo:a("undo_".concat(x),(async(e,t)=>await n.ZP.withRequestId(t.requestId).deleteRows(e.tableNodeId,e.rowIds))),redo:r("redo_".concat(x))}),j=I.action,M=I.undoAction,k=I.redoAction,T="dissolvePolygon",E=l(T,(async(e,t)=>{const{id:i,prevRowId:o,cells:a,deleteRowIds:l}=e;return l&&await n.ZP.deleteRows(i,l),await n.ZP.withRequestId(t.requestId).postRow(i,o,a)}))({undo:a("undo_".concat(T),(async(e,t)=>{const{tableNodeId:i,rowIds:o,deleteRowIds:a}=e;return a&&await n.ZP.restoreRows(i,a),await n.ZP.withRequestId(t.requestId).deleteRows(i,o)})),redo:a("redo_".concat(T),(async(e,t)=>{const{tableNodeId:i,rowIds:o,deleteRowIds:a}=e;return a&&await n.ZP.deleteRows(i,a),await n.ZP.withRequestId(t.requestId).restoreRows(i,o)}))}),P=E.action,O=E.undoAction,_=E.redoAction},1714:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>le,TG:()=>se,ZP:()=>ae,qX:()=>de,TW:()=>re,DG:()=>ue,Em:()=>ce});var n=i(49163),o=i(53926),a=i.n(o),l=i(17646),r=i.n(l),s=i(93707),d=i(76592),c=i(3705),u=i(22138),p=i(34362),h=i.n(p),v=i(88716),g=i.n(v),f=i(23903),m=i.n(f),y=i(468),w=i.n(y),b=i(7070),C=i.n(b),x=i(82959),I=i.n(x),j=i(90013),M=i.n(j),k=i(63679),T=i.n(k),E=i(74110),P=i(11546),O=i(6686);const _=(0,n.HF)(),S=(0,n.HF)({selectId:e=>"".concat(e.tableNodeId,"_").concat(e.row.id)}),N=(0,n.HF)(),L=(0,n.HF)(),D=(0,n.HF)(),R=(0,n.HF)();function Z(e,t){var i;const n={id:t.id,cells:null!==(i=t.cells)&&void 0!==i?i:{}},o=T()(e.rows,(e=>e.id===t.id));var a,l;-1!==o?e.rows[o]=n:null===(a=e.rows)||void 0===a||null===(l=a.push)||void 0===l||l.call(a,n);r()(t.addedViewRows,(t=>{const i=e.views.find((e=>e.id===t.viewID));if(!i)return;i.rows||(i.rows=[]);const n=T()(i.rows,(e=>e.id===t.id));-1!==n?i.rows[n]=t:i.rows.push(t)}))}function A(e,t){e.columns.push({id:t.id,name:t.name,type:t.type,mode:t.mode,typeOptions:t.typeOptions,isPrimary:!1,desc:null}),e.columns=M()(e.columns,"id"),r()(t.addedViewColumns,(t=>{const i=e.views.find((e=>e.id===t.viewID));null!==i&&void 0!==i&&i.columns&&i.columns.push(t)}));const i=t.updatedCells;i&&r()(null===e||void 0===e?void 0:e.rows,(e=>{Object.assign(e.cells,i[e.id])}))}function F(e,t){var i;if(e.type===E.e.bigTable)return;const n=null===(i=e.rows)||void 0===i?void 0:i.find((e=>e.id===t.rowID));null!==n&&void 0!==n&&n.cells&&Object.assign(n.cells,t.updateCells)}function z(e,t){var i;const n=null===e||void 0===e||null===(i=e.columns)||void 0===i?void 0:i.find((e=>e.id===t.id));n&&Object.assign(n,t)}function B(e,t){r()(t,(t=>{const i=e.columns.find((e=>e.id===t));null!==i&&void 0!==i&&i.typeOptions&&(i.typeOptions={...i.typeOptions,valid:!1})}))}function V(e,t,i){const{tableNodeID:n,columnID:o}=t;i?L.setOne(e.updatingColumns,{id:o,tableNodeID:n,columnID:o}):L.removeOne(e.updatingColumns,o)}function H(e,t){const{payload:i}=t,{tableNodeID:n,updatedCells:o,invalidedColumns:a,addedColumn:l}=i,s=e.entities[n];s&&(o&&r()(null===s||void 0===s?void 0:s.rows,(e=>{Object.assign(e.cells,o[e.id])})),l&&A(s,l),a&&B(s,a))}function W(e,t){const{payload:i}=t;if(i.id){const t=e.entities[i.id];t&&F(t,i)}}function U(e,t){if(!t.tableNodeID)return;const i=e.entities[t.tableNodeID];if(!i)return;const n=i.views.find((e=>e.id===t.viewID));n&&Object.assign(n,O.uh.transformView(t.updatedFields))}function q(e,t){const{payload:i}=t,{tableNodeID:n,columnID:o,invalidedColumns:a}=i,l=e.entities[n];l&&(a&&B(l,a),m()(l.columns,(e=>e.id===o))&&J(e,l,{id:l.id,needRefresh:!0}),l.lastUpdatedAt=Date.now())}function G(e,t,i){const{rowID:n,updateCells:o}=i;Y(e,t,[{tableNodeId:t.id,row:{id:n,cells:o},type:"update"}])}function $(e,t,i){Y(e,t,C()(i,(e=>({row:e,tableNodeId:t.id,type:"update"}))))}function J(e,t,i){i.needRefresh?(N.setOne(e.tableNeedRefresh,{...i,isBigTable:!0}),i.purgeCache?(e.bigTableNeedReSort=!1,e.bigTableNeedReFilter=!1):Q(e,t)):N.removeOne(e.tableNeedRefresh,i.id)}function K(e,t){N.setOne(e.tableNeedRefresh,{id:t,needRefresh:!0})}function Y(e,t,i){g()(i)||(S.setMany(e.bigTableRowsChange,i),Q(e,t))}function Q(e,t){g()(t.views)||(g()(t.views[0].orders)||(e.bigTableNeedReSort=!0),t.views[0].filter&&(e.bigTableNeedReFilter=!0))}function X(e,t){const{id:i,isFetching:n}=t.payload;n?e.fetchingTableNodeIds.push(i):e.fetchingTableNodeIds=e.fetchingTableNodeIds.filter((e=>e!==i))}const ee={setDetail:function(e,t){const{payload:i}=t,n=e.entities[i.id],o=Date.now();if(n){if("segmentStart"===i.segmentType&&_.updateOne(e,{id:i.id,changes:w()({...i,lastRetrievedAt:o},["segmentType"])}),"segmentFrame"===i.segmentType){const t={more:i.more,lastRetrievedAt:o};if(i.rows&&(t.rows=M()((n.rows||[]).concat(i.rows),"id")),i.columns&&(t.columns=M()((n.columns||[]).concat(i.columns),"id")),i.views){const e=n.views||[],o=M()(e.concat(i.views),"id");t.views=o.map((e=>{const t=i.views.find((t=>t.id===e.id));return t&&t.rows?t:t||e}))}_.updateOne(e,{id:i.id,changes:t})}}else _.addOne(e,w()({...i,lastRetrievedAt:o},["segmentType"]));i.more||X(e,{type:"tableNode/updateFetchingTableNodeIds",payload:{id:i.id,isFetching:!1}})},shareRow:function(e,t){var i;const{id:n,rowID:o,shareConfig:a}=t.payload,l=e.entities[n];if(!l||"bigTable"===l.type)return;const r=null===(i=l.rows)||void 0===i?void 0:i.find((e=>e.id===o));r&&Object.assign(r,{...r,shareConfig:a})},createRow:function(e,t){const{payload:i}=t,n=e.entities[i.tableNodeID];n&&(Z(n,i),K(e,n.id))},deleteRows:function(e,t){const{payload:i}=t,n=e.entities[i.id];n&&(!function(e,t){const i=e.rows||[];if(!i.length)return;const n=new Set(t.deletedRowIDs);n.size&&(e.rows=i.filter((e=>!n.has(e.id))))}(n,i),K(e,n.id))},deleteBigTableUpdatedRows:function(e,t){S.removeMany(e.bigTableRowsChange,t.payload.map((e=>"".concat(e.tableNodeId,"_").concat(e.row.id))))},createColumn:function(e,t){const{payload:i}=t;if(i.tableNodeID){const t=e.entities[i.tableNodeID];t&&A(t,i)}},updateColumn:function(e,t){const{payload:i}=t,{tableNodeID:n,columnID:o,updatedFields:a,updatedCells:l,invalidedColumns:s}=i;if(n){const t=e.entities[n];if(!t)return;z(t,{id:o,...a}),l&&r()(t.rows,(e=>{Object.assign(e.cells,l[e.id])})),B(t,s)}},updatingColumn:function(e,t){const{payload:i}=t;V(e,i,!0)},updatedColumn:function(e,t){const{payload:i}=t;V(e,i,!1)},recomputeColumn:function(e,t){H(e,t)},geocodeColumn:function(e,t){H(e,t)},regionBoundaryColumn:function(e,t){H(e,t)},deleteColumns:function(e,t){const{payload:i}=t;if(i.tableNodeID){const t=e.entities[i.tableNodeID];null!==t&&void 0!==t&&t.columns&&(t.columns=t.columns.filter((e=>!h()(i.columnIDs,e.id)))),null===t||void 0===t||t.views.forEach((e=>{var t,n;e.columns&&(e.columns=null!==(t=null===(n=e.columns)||void 0===n?void 0:n.filter((e=>!h()(i.columnIDs,e.id))))&&void 0!==t?t:[])}))}},updateViewColumns:function(e,t){const{payload:i}=t;if(i.tableNodeID){var n;const t=null===(n=e.entities[i.tableNodeID])||void 0===n||null===(n=n.views.find((e=>e.id===i.viewID)))||void 0===n||null===(n=n.columns)||void 0===n?void 0:n.filter((e=>i.columnIDs.includes(e.id)));t&&t.forEach((e=>Object.assign(e,i.updatedFields)))}},updateCells:W,updateCellsInClient:W,setAll:function(e,t){_.setAll(e,t.payload)},upsertMany:function(e,t){_.upsertMany(e,t.payload)},create:function(e,t){},update:function(e,t){const{id:i,updatedColumns:n}=t.payload;if(n){const t=e.entities[i];if(!t)return;r()(n,(e=>{z(t,e)}))}},move:function(e,t){},moveViewRow:function(e,t){const{payload:i}=t;if(i.tableNodeID){const t=e.entities[i.tableNodeID];if(t){var n;const o=t.views.find((e=>e.id===i.viewID));if(null===o||void 0===o||!o.rows)return;const a=null===o||void 0===o||null===(n=o.rows)||void 0===n?void 0:n.map((e=>{const t=i.results[e.id];return{...e,order:void 0!==t?t:e.order}}));Object.assign(o.rows,a),K(e,t.id)}}},moveViewColumn:function(e,t){const{payload:i}=t;if(i.tableNodeID){const t=e.entities[i.tableNodeID];if(t){var n;const e=null===(n=t.views.find((e=>e.id===i.viewID)))||void 0===n||null===(n=n.columns)||void 0===n?void 0:n.find((e=>e.id===i.columnID));e&&(e.order=i.order)}}},sync:function(e,t){const{id:i}=t.payload;_.removeOne(e,i),D.setOne(e.tableNodeSync,{id:i})},synced:function(e,t){const i=t.payload.id;D.removeOne(e.tableNodeSync,i);const n=e.entities[i];n&&null!==n&&void 0!==n&&n.syncing&&(n.syncing=!1)},syncStart:function(e,t){const{id:i}=t.payload,n=e.entities[i];n&&(n.syncing=!0)},delete:function(e,t){const{ids:i}=t.payload;_.removeMany(e,i)},deleteRecycle:function(e,t){},recoverRecycle:function(e,t){},createView:function(e,t){const{payload:i}=t;if(i.view){const t=e.entities[i.tableNodeID];t&&t.views.push(i.view)}},deleteView:function(e,t){const{payload:i}=t;if(i.tableNodeID){const t=e.entities[i.tableNodeID];if(t){const e=T()(t.views,(e=>e.id===i.viewID));-1!==e&&t.views.splice(e,1)}}},updateView:function(e,t){const{payload:i}=t;U(e,i)},setViewDetail:function(e,t){const{payload:i}=t;if(i.id){var n;const t=null===(n=e.entities[i.id])||void 0===n?void 0:n.views.find((e=>e.id===i.viewID));t&&Object.assign(t,{rows:i.viewRows,columns:i.viewColumns})}},appendCellAttachment:function(e,t){const{tableNodeID:i,rowID:n,columnID:o,attachment:a}=t.payload,l=e.entities[i],r=null===l||void 0===l?void 0:l.rows.find((e=>e.id===n));if(!r)return;const s=null===r||void 0===r?void 0:r.cells[o];s?s.push(a):r.cells[o]=[a]},deleteCellAttachment:function(e,t){const{tableNodeID:i,rowID:n,columnID:o,fileID:a}=t.payload,l=e.entities[i],r=null===l||void 0===l?void 0:l.rows.find((e=>e.id===n));if(!r)return;const s=null===r||void 0===r?void 0:r.cells[o],d=T()(s,(e=>e.fileID===a));-1!==d&&s.splice(d,1)},updateAttachment:function(e,t){const{tableNodeID:i,rowID:n,columnID:o,fileID:a,name:l}=t.payload,r=e.entities[i],s=null===r||void 0===r?void 0:r.rows.find((e=>e.id===n));if(!s)return;const d=null===s||void 0===s?void 0:s.cells[o],c=T()(d,(e=>e.fileID===a));-1!==c&&(d[c].fileName=l)},pasteCells:function(e,t){const{updatedRows:i,tableNodeID:n,addedRows:o,addedColumns:a,updatedColumns:l}=t.payload||{},s=e.entities[n];s&&(o&&(r()(o,(e=>{Z(s,e)})),K(e,s.id)),a&&r()(a,(e=>{A(s,e)})),l&&r()(l,(e=>{z(s,e)})),r()(i,(e=>{F(s,{id:n,rowID:e.id,updateCells:e.cells})})))},updateRowsCells:function(e,t){const{updatedRows:i,tableNodeID:n}=t.payload,o=e.entities[n];o&&r()(i,(e=>{F(o,{id:n,rowID:e.id,updateCells:e.cells})}))},updateSearchResults:function(e,t){e.searchResults=t.payload},restoreRows:function(e,t){const{id:i,rows:n,needRefresh:o}=t.payload,a=e.entities[i];a&&(o?(_.removeOne(e,i),D.setOne(e.tableNodeSync,{id:i})):a.rows.push(...n),K(e,a.id))},clearRows:function(e,t){const{payload:i}=t,n=e.entities[i.id];n&&(n.rows.splice(0),K(e,n.id))},clipRows:function(e,t){var i;const{payload:n}=t,o=e.entities[n.id];if(!o||null===(i=n.rowIDs)||void 0===i||!i.length)return;const a=o.rows||[];if(!a.length)return;const l=new Set(n.rowIDs);l.size&&(o.rows=a.filter((e=>l.has(e.id))),K(e,o.id))},restoreColumns:function(e,t){const{payload:i}=t;if(i.tableNodeID){const t=e.entities[i.tableNodeID],{addedColumns:n,addedViewColumns:o}=i;if(t&&n){t.columns.push(...n);const e=i.updatedCells;e&&r()(null===t||void 0===t?void 0:t.rows,(t=>{Object.assign(t.cells,e[t.id])})),r()(o,(e=>{var i;const n=t.views.find((t=>t.id===e.viewID));null===n||void 0===n||null===(i=n.columns)||void 0===i||i.push(e)}))}}},recomputeLookupColumn:function(e,t){const{payload:i}=t,{tableNodeID:n,columnID:o,columnTypeOptions:a,updatedCells:l}=i,s=e.entities[n];s&&(o&&a&&z(s,{id:o,typeOptions:a}),l&&r()(null===s||void 0===s?void 0:s.rows,(e=>{Object.assign(e.cells,l[e.id])})))},enrichment:function(e,t){const{payload:i}=t,{tableNodeID:n,updatedCells:o}=i,a=e.entities[n];a&&o&&r()(null===a||void 0===a?void 0:a.rows,(e=>{Object.assign(e.cells,o[e.id])}))},createRowBigTable:function(e,t){const{payload:i}=t,n=e.entities[i.tableNodeID];n&&(Y(e,n,[{tableNodeId:n.id,row:{...i},type:"add"}]),n.lastUpdatedAt=Date.now())},deleteRowsBigTable:function(e,t){const{payload:i}=t,n=e.entities[i.id];n&&!g()(i.deletedRowIDs)&&(Y(e,n,C()(i.deletedRowIDs,(e=>({row:{id:e,cells:{}},tableNodeId:n.id,type:"remove"})))),n.lastUpdatedAt=Date.now())},appendRowsBigTable:function(e,t){const{id:i,addedColumns:n,addedViewColumns:o,updatedColumns:a}=t.payload,l=e.entities[i];l&&(null===n||void 0===n||n.forEach((e=>{A(l,{...e,addedViewColumns:o})})),null===a||void 0===a||a.forEach((e=>{z(l,e)})),J(e,l,{id:l.id,needRefresh:!0}),l.lastUpdatedAt=Date.now())},createRowsBigTable:function(e,t){const{id:i}=t.payload,n=e.entities[i];n&&(J(e,n,{id:n.id,needRefresh:!0}),n.lastUpdatedAt=Date.now())},restoreRowsBigTable:function(e,t){const{id:i,rows:n}=t.payload,o=e.entities[i];o&&Y(e,o,C()(n,(e=>({tableNodeId:o.id,row:e,type:"add"}))))},createColumnBigTable:function(e,t){const{payload:i}=t;if(!i.tableNodeID)return;const n=e.entities[i.tableNodeID];n&&(A(n,i),P.CJ.includes(i.type)&&J(e,n,{id:n.id,needRefresh:!0}),n.lastUpdatedAt=Date.now())},updateColumnBigTable:function(e,t){var i,n;const{payload:o}=t,{tableNodeID:a,columnID:l,updatedFields:s,invalidedColumns:d}=o;if(!a)return;const c=e.entities[a];c&&(z(c,{id:l,...s}),(null!==(i=o.updatedFields)&&void 0!==i&&i.type||null!==(n=o.updatedFields)&&void 0!==n&&n.typeOptions)&&J(e,c,{id:c.id,needRefresh:!0}),r()(d,(e=>{var t;const i=T()((null===c||void 0===c?void 0:c.columns)||[],(t=>t.id===e)),n=null===c||void 0===c||null===(t=c.columns[i])||void 0===t?void 0:t.typeOptions;-1!==i&&n&&Object.assign(n,{...n,valid:!1})})),c.lastUpdatedAt=Date.now())},recomputeColumnBigTable:function(e,t){q(e,t)},geocodeColumnBigTable:function(e,t){q(e,t)},regionBoundaryColumnBigTable:function(e,t){q(e,t)},updateCellsBigTable:function(e,t){const{payload:i}=t;if(!i.id)return;const n=e.entities[i.id];n&&(G(e,n,i),n.lastUpdatedAt=Date.now())},updateRowsCellsBigTable:function(e,t){const{updatedRows:i,tableNodeID:n}=t.payload,o=e.entities[n];o&&$(e,o,i)},clearRowsBigTable:function(e,t){const{payload:i}=t,n=e.entities[i.id];n&&(J(e,n,{id:n.id,needRefresh:!0,purgeCache:!0}),n.lastUpdatedAt=Date.now())},clipRowsBigTable:function(e,t){const{payload:i}=t,n=e.entities[i.id];n&&!g()(i.rowIDs)&&(J(e,n,{id:n.id,needRefresh:!0,purgeCache:!0}),n.lastUpdatedAt=Date.now())},pasteCellsBigTable:function(e,t){const{updatedRows:i,tableNodeID:n,updatedColumns:o}=t.payload||{},a=e.entities[n];a&&(o&&r()(o,(e=>{z(a,e)})),$(e,a,i),a.lastUpdatedAt=Date.now())},appendCellAttachmentBigTable:function(e,t){const{tableNodeID:i,rowID:n,columnID:o,attachments:a}=t.payload,l=e.entities[i];l&&G(e,l,{id:l.id,rowID:n,updateCells:{[o]:a}})},deleteCellAttachmentBigTable:function(e,t){const{tableNodeID:i,rowID:n,columnID:o,attachments:a}=t.payload,l=e.entities[i];l&&G(e,l,{id:l.id,rowID:n,updateCells:{[o]:a}})},updateAttachmentBigTable:function(e,t){const{tableNodeID:i,rowID:n,columnID:o,attachments:a}=t.payload,l=e.entities[i];l&&G(e,l,{id:l.id,rowID:n,updateCells:{[o]:a}})},updateViewBigTable:function(e,t){const{payload:i}=t;U(e,i);const{tableNodeID:n,updatedFields:o}=i,a=e.entities[n];a&&(o.orders||o.filter||"filterCondition"in o||"filters"in o)&&J(e,a,{id:n,needRefresh:!0,purgeCache:!0})},enrichmentBigTable:function(e,t){const{payload:i}=t,{tableNodeID:n,columnID:o}=i,a=e.entities[n];a&&(m()(a.columns,(e=>e.id===o))&&J(e,a,{id:a.id,needRefresh:!0}),a.lastUpdatedAt=Date.now())},bigtableExport:function(e,t){},rowLevelPermissionsChange:function(e,t){const{tableNodeID:i}=t.payload,n=e.entities[i];n&&("bigTable"!==n.type?(_.removeOne(e,i),D.setOne(e.tableNodeSync,{id:i})):J(e,n,{id:i,needRefresh:!0,purgeCache:!0}))},updateCellRangeSelection:function(e,t){e.cellRangeSelection=t.payload},updateExtensionPanelVisible:function(e,t){e.extensionPanelVisible=t.payload},expireAllCache:function(e){const t=I()(C()(e.entities,(e=>{if(e)return{id:e.id,changes:{lastRetrievedAt:0}}})));_.updateMany(e,t)},cleanCacheByIds:function(e,t){_.removeMany(e,t.payload)},setCurrentView:function(e,t){e.currentView=t.payload.viewId,t.payload.id&&(e.selectedViews||(e.selectedViews={}),e.selectedViews[t.payload.id]=t.payload.viewId,a().set(u.Bs,e.selectedViews))},appendRows:function(e,t){const{id:i,addedColumns:n,addedViewColumns:o,updatedColumns:a,needRefresh:l}=t.payload,r=e.entities[i];if(r){if(l)return _.removeOne(e,i),void D.setOne(e.tableNodeSync,{id:i});r.more=!0,r.hasAppendRows=!0,null===n||void 0===n||n.forEach((e=>{A(r,{...e,addedViewColumns:o})})),null===a||void 0===a||a.forEach((e=>{z(r,e)}))}},createRows:function(e,t){const{id:i}=t.payload,n=e.entities[i];n&&(n.more=!0,n.hasAppendRows=!0)},setLoadAppendRows:function(e,t){const i=t.payload,n=e.entities[i];n&&(n.hasAppendRows=!1)},setTableRefreshed:function(e,t){N.removeOne(e.tableNeedRefresh,t.payload)},updateFetchingTableNodeIds:X,cleanCacheByIdsNotIn:function(e,t){const i=e.ids.filter((e=>!t.payload.includes(e)));i.length>0&&_.removeMany(e,i)},setFilterColId:function(e,t){e.filterColId=null===t.payload?null:{[t.payload]:t.payload}},setGroupColId:function(e,t){e.groupColId=null===t.payload?null:{[t.payload]:t.payload}},setSortColId:function(e,t){e.sortColId=null===t.payload?null:{[t.payload.colId]:t.payload.order}},setHideColId:function(e,t){e.hideColId=null===t.payload?null:{[t.payload]:t.payload}},regionAggregate:function(e,t){var i;const{payload:n}=t;(null===n||void 0===n||null===(i=n.layerIDs)||void 0===i?void 0:i.length)>0&&(e.defaultActiveRegionLayerId=n.layerIDs[0])},resetDefaultActiveRegionLayerId:function(e){e.defaultActiveRegionLayerId=void 0},moveView:function(e,t){const{tableNodeID:i,viewID:n,order:o}=t.payload,a=e.entities[i];if(!a)return;const l=a.views.find((e=>e.id===n));l&&(l.order=o)},importTable:function(e,t){t.payload.transferInfo&&R.setOne(e.transferAddress,t.payload.transferInfo)},resetTransferAddress:function(e,t){R.removeOne(e.transferAddress,t.payload)}};var te=i(68885);const ie=_.getInitialState({ids:[],entities:{},bigTableRowsChange:{ids:[],entities:{}},tableNeedRefresh:{ids:[],entities:{}},transferAddress:{ids:[],entities:{}},updatingColumns:{ids:[],entities:{}},tableNodeSync:{ids:[],entities:{}},searchResults:[],cellRangeSelection:null,extensionPanelVisible:!1,bigTableNeedReFilter:!1,bigTableNeedReSort:!1,currentView:void 0,selectedViews:a().get(u.Bs),fetchingTableNodeIds:[],filterColId:null,groupColId:null,sortColId:null,hideColId:null,defaultActiveRegionLayerId:void 0});function ne(e){return te.I.pending.match(e)||te.e.pending.match(e)}const oe=(0,n.oM)({name:"tableNode",initialState:ie,reducers:{clear:_.removeAll,...ee},extraReducers(e){e.addCase(te.ZL.rejected,((e,t)=>{throw t.error})).addCase(te.v.rejected,((e,t)=>{throw t.error})).addCase(te.I.rejected,((e,t)=>{throw t.error})).addCase(te.r8.rejected,((e,t)=>{throw t.error})).addCase(te.tu.rejected,((e,t)=>{throw t.error})).addCase(te.V6.rejected,((e,t)=>{throw t.error})).addCase(te.JD.rejected,((e,t)=>{throw t.error})).addCase(te.Ed.rejected,((e,t)=>{throw t.error})).addCase(te.yf.fulfilled,((e,t)=>{const{payload:i}=t;null!==i&&void 0!==i&&i.id&&ee.setDetail(e,{type:"tableNode/setDetail",payload:i})})).addCase(te.Yn.fulfilled,((e,t)=>{const{payload:i}=t;null!==i&&void 0!==i&&i.id&&ee.setDetail(e,{type:"tableNode/setDetail",payload:i})})).addCase(te.ZN.fulfilled,((e,t)=>{const{wsSyncedData:i}=t.payload;null!==i&&void 0!==i&&i.tableNodeIDs&&ee.importTable(e,{type:"tableNode/importTable",payload:i})})),e.addCase(s.Nw.networkStatus,((e,t)=>{t.payload===c.Ie.OFFLINE&&ee.expireAllCache(e)})),e.addCase(te.mc.pending,((e,t)=>{const{id:i,items:n}=t.meta.arg;r()(n,(t=>{t.cells&&ee.updateCellsInClient(e,{type:"tableNode/updateCellsInClient",payload:{id:i,rowID:t.rowID,updateCells:t.cells}})}))})),e.addCase(d.Nw.regionAggregate,((e,t)=>{var i;const{payload:n}=t;(null===n||void 0===n||null===(i=n.layerIDs)||void 0===i?void 0:i.length)>0&&(e.defaultActiveRegionLayerId=n.layerIDs[0])})),e.addMatcher(ne,((e,t)=>{const{id:i,rowId:n,cells:o}=t.meta.arg;ee.updateCellsInClient(e,{type:"tableNode/updateCellsInClient",payload:{id:i,rowID:n,updateCells:o}})}))}}),ae=oe,le=oe.actions,re=_.getSelectors((e=>e.tableNode)),se=S.getSelectors((e=>e.tableNode.bigTableRowsChange)),de=N.getSelectors((e=>e.tableNode.tableNeedRefresh)),ce=(R.getSelectors((e=>e.tableNode.transferAddress)),L.getSelectors((e=>e.tableNode.updatingColumns))),ue=D.getSelectors((e=>e.tableNode.tableNodeSync))},5272:(e,t,i)=>{"use strict";i.d(t,{K:()=>s,Y:()=>r});var n=i(37756),o=i.n(n),a=i(40365);const{createAsyncAction:l}=(0,a.w)({typePrefix:"undoRedo"}),r=l("undo",(async(e,t)=>{const i=t.getState(),n=o()(i.undoRedo.undo);null!==n&&void 0!==n&&n.undoAction&&await t.dispatch(null===n||void 0===n?void 0:n.undoAction(n.undoPayload))})),s=l("redo",(async(e,t)=>{const i=t.getState(),n=o()(i.undoRedo.redo);null!==n&&void 0!==n&&n.redoAction&&await t.dispatch(null===n||void 0===n?void 0:n.redoAction(n.redoPayload))}))},37750:(e,t,i)=>{"use strict";i.d(t,{N:()=>s,Z:()=>r});var n=i(49163);const o={appendUndo:function(e,t){e.undo.length>=20&&e.undo.shift(),e.undo.push(t.payload)},clear:function(e){e.undo=[],e.redo=[]},clearRedo:function(e){e.redo=[]}};var a=i(5272);const l=(0,n.oM)({name:"undoRedo",initialState:{undo:[],redo:[]},reducers:o,extraReducers(e){e.addCase(a.Y.fulfilled,(e=>{const t=e.undo.pop();t&&e.redo.push(t)})),e.addCase(a.K.fulfilled,(e=>{const t=e.redo.pop();t&&e.undo.push(t)}))}}),r=l,s=l.actions},25111:(e,t,i)=>{"use strict";i.d(t,{Cq:()=>v,u9:()=>w,h$:()=>g,Nq:()=>f,Ed:()=>y,Hx:()=>m});var n=i(76806),o=i(74797),a=i(22963),l=i(48466);const r=(0,a.Fs)({baseURL:"".concat(o.Z.baseApiURL,"/auth/")});class s extends a.tr{async login(e,t){const{data:i}=await this.fetch.post("login/",{phoneOrEmail:e,code:t});return(0,l.l)(i.extra.token,i.extra.refreshToken,i.extra.userType),{...i.detail,token:i.extra.token,refreshToken:i.extra.refreshToken,userType:i.extra.userType,locale:i.extra.locale,email:i.extra.email}}async register(e){const{data:t}=await this.fetch.post("register/",e);return(0,l.l)(t.extra.token,t.extra.refreshToken,t.extra.userType),{...t.detail,token:t.extra.token,refreshToken:t.extra.refreshToken,userType:t.extra.userType,locale:t.extra.locale,email:t.extra.email}}async verifyUserExist(e){const{data:t}=await this.fetch.get("exists/",{params:{user:e}});return t.detail}async captcha(){const{data:e}=await this.fetch.get("captcha/");return e.detail}async recaptcha(){const{data:e}=await this.fetch.get("recaptcha/");return e.detail}async getCode(e,t,i,n,o){const{data:a}=await this.fetch.post("code/",{phoneOrEmail:e,challenge:t,validate:i,seccode:n,usage:o});return a}async validateInviteCode(e){const{data:t}=await this.fetch.get("validateRegistrationCode/",{params:{code:e}});return t}async wechatUrl(e){const{data:t}=await this.fetch.get("wechat/url/".concat(e,"/"));return t.detail}async wechatLogin(e,t){const{data:i}=await this.fetch.post("wechat/login/",{code:e,state:t});return{...i.detail,token:i.extra.token,refreshToken:i.extra.refreshToken,isNewUser:i.extra.isNewUser,userType:i.extra.userType,locale:i.extra.locale,email:i.extra.email}}async wechatBind(e,t,i,n,o,a){const{data:l}=await this.fetch.post("wechat/bind/",{phoneOrEmail:e,code:t,token:i,surveyID:n,locale:o,fromEdu:a});return{...l.detail,token:l.extra.token,refreshToken:l.extra.refreshToken,isNewUser:l.extra.isNewUser,userType:l.extra.userType,locale:l.extra.locale,email:l.extra.email}}async sharedLogin(e,t){var i;const{data:o}=await this.fetch.post("shared_login/",{shareType:e.type,shareToken:e.token,sharePassword:t});let a;if(null!==o&&void 0!==o&&null!==(i=o.extra)&&void 0!==i&&i.token){a=(0,n.Z)(o.extra.token).id}return{id:a,token:o.extra.token||"",errorType:o.extra.errorType}}async googleLogin(e,t){const{data:i}=await this.fetch.post("gmail/login/",{token:e,fromEdu:t});return{...i.detail,token:i.extra.token,refreshToken:i.extra.refreshToken,isNewUser:i.extra.isNewUser,userType:i.extra.userType,locale:i.extra.locale,email:i.extra.email}}async survey(e){var t;const{data:i}=await this.fetch.post("survey/",e);return null===(t=i.detail)||void 0===t?void 0:t.id}}const d=new s(r);var c=i(4511),u=i(3207),p=i(40365);const{createAsyncAction:h}=(0,p.w)({typePrefix:"user"}),v=h("getCode",(async e=>{const{phoneOrEmail:t,challenge:i,validate:n,seccode:o,usage:a}=e;return await d.getCode(t,i,n,o,a)})),g=h("matchPhoneOrEmail",(async e=>(await u.Z.match(e)).detail)),f=(h("search",(async e=>{const{query:t,orgId:i}=e;return(await u.Z.search(t,i)).detail})),h("update",(async e=>{const{name:t,avatar:i,locale:n,featuresGuideConfig:o,avatarBgColor:a}=e;return await u.Z.update({name:t,locale:n,avatar:i,featuresGuideConfig:o,avatarBgColor:a})}))),m=(h("uploadAvatar",(async e=>{const{avatar:t}=e,{url:i}=await c.Z.uploadFile("avatar",t);return i})),h("validateInviteCode",(async e=>{const{detail:t}=await d.validateInviteCode(e);return{valid:t}})),h("wechatLogin",(async e=>{const{code:t,state:i}=e,n=await d.wechatLogin(t,i);return n.isNewUser||(0,l.l)(n.token,n.refreshToken,n.userType),n}))),y=h("wechatBind",(async e=>{const{phoneOrEmail:t,code:i,token:n,surveyID:o,locale:a,fromEdu:r}=e,s=await d.wechatBind(t,i,n,o,a,r);return(0,l.l)(s.token,s.refreshToken,s.userType),s})),w=h("googleLogin",(async e=>{const{credential:t,fromEdu:i}=e,n=await d.googleLogin(t,i);return(0,l.l)(n.token,n.refreshToken,n.userType),n}))},21101:(e,t,i)=>{"use strict";i.d(t,{N:()=>p,Z:()=>u});var n=i(49163),o=i(32089),a=i(23903),l=i.n(a),r=i(81837);const s={loggedIn:function(e,t){let{payload:i}=t;return{...e,userType:i.userType,email:i.email,isAuth:!0}},googleLogin:function(e,t){},wechatLogin:function(e,t){},wechatBind:function(e,t){},setAuth:function(e,t){return{...e,isAuth:t.payload}},setUserType:function(e,t){return{...e,userType:t.payload}},setIsNewUser:function(e,t){return{...e,isNewUser:t.payload}},update:function(e,t){},setSessionId:function(e,t){e.sessionId=t.payload},setSharedUser:function(e,t){return{...e,sharedUser:t.payload}},setSharedUserSessionId:function(e,t){e.sharedUser&&(e.sharedUser={...e.sharedUser,sessionId:t.payload})}};var d=i(25111);const c=(0,n.oM)({name:"user",initialState:{isAuth:!1,isNewUser:!1,userType:null},reducers:s,extraReducers(e){e.addCase(d.Cq.rejected,((e,t)=>{throw t.error})),e.addCase(d.h$.rejected,((e,t)=>{})),e.addCase(d.u9.fulfilled,((e,t)=>{var i;e.isNewUser=null!==(i=t.payload.isNewUser)&&void 0!==i&&i,e.userType=t.payload.userType,e.email=t.payload.email,e.isAuth=!0})).addCase(d.u9.rejected,((e,t)=>{if("errors.auth.registerLock"!==t.error.message)throw t.error})),e.addCase(d.Ed.fulfilled,((e,t)=>{e.isAuth=!0,e.userType=t.payload.userType,e.email=t.payload.email})),e.addCase(d.Hx.fulfilled,((e,t)=>{t.payload.isNewUser||(e.isAuth=!0,e.userType=t.payload.userType,e.email=t.payload.email)})),e.addCase(r.fX.fulfilled,((e,t)=>{const i=l()(t.payload,(e=>"user"===e.type));e.username=null===i||void 0===i?void 0:i.name,e.userId=null===i||void 0===i?void 0:i.id,o.e((e=>{e.setUser({username:null===i||void 0===i?void 0:i.name,userId:null===i||void 0===i?void 0:i.id,userType:null===i||void 0===i?void 0:i.type})}))}))}}),u=c,p=c.actions},81837:(e,t,i)=>{"use strict";i.d(t,{F9:()=>v,fN:()=>f,fX:()=>h,hn:()=>g});var n=i(18878),o=i.n(n),a=i(2496),l=i(40365),r=i(58590),s=i(98825),d=i(74909),c=i(1714),u=i(91017);const{createAsyncAction:p}=(0,l.w)({typePrefix:"workspace"}),h=p("get",(async()=>await a.Z.get())),v=p("getDetail",(async(e,t)=>{var i;const{type:n,id:l}=e,{project:d}=t.getState();(null===(i=d.currentWorkspace)||void 0===i?void 0:i.type)===n&&d.currentWorkspace.id===l||(t.dispatch(r.Nw.setProjects({workspace:e,projects:[]})),t.dispatch(s.Nw.setDataFiles({dataFiles:[]})));const c=await a.Z.getDetail(n,l);return t.dispatch(r.Nw.setProjects({workspace:e,projects:c.detail.projects||[]})),t.dispatch(s.Nw.setDataFiles({dataFiles:c.detail.dataFiles||[]})),o()(c.detail.unreadNotificationsCount)||t.dispatch(u.TH({page:1,mode:"newestFirst"})),{...c,id:l}})),g=p("getWorkspaceRoles",(async(e,t)=>{const{type:i,id:n}=e;if(!i||!n)return;const{detail:o}=await a.Z.getWorkspaceRoles(i,n);if("user"!==i){const e=o.filter((e=>"table"===e.type)).map((e=>e.id));t.dispatch(c.Nw.cleanCacheByIdsNotIn(e))}return o})),f=p("getPublicInfo",(async(e,t)=>{const{type:i,id:n}=e;if(!i||!n)return;const o=await a.Z.getPublicInfo(i,n);return await t.dispatch(d.Nw.planUpdate({id:n,type:i,plan:o.plan,planExpired:o.planExpired})),o}));p("workspaceFullQuota",(async(e,t)=>{const{type:i,id:n}=e;return await a.Z.withRequestId(t.requestId).getQuota(i,n,void 0,!0)}))},74909:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>b,ZP:()=>w,Uz:()=>m,MY:()=>C});var n=i(49163),o=i(53926),a=i.n(o),l=i(6686),r=i(22138);const s=(0,n.HF)({selectId:e=>"".concat(e.type,"_").concat(e.id)}),d=(0,n.HF)({selectId:e=>"".concat(e.type,"-").concat(e.id)});const c={planChange:function(e,t){const{payload:i}=t,n=m(i.type,i.id);s.updateOne(e,{id:n,changes:{plan:i.plan,planTrialing:i.planTrialing,lastUpdate:Date.now()}})},planUpdate:function(e,t){const{payload:i}=t;if(!i.id||!i.type||!i.plan||!i.planExpired)return;const n=m(i.type,i.id);s.updateOne(e,{id:n,changes:{plan:i.plan,planExpired:i.planExpired}})},roleChange:function(e){var t,i;e.workspaceRoleChanged={type:null===(t=e.workspace)||void 0===t?void 0:t.type,id:null===(i=e.workspace)||void 0===i?void 0:i.id}},clearRoleChange:function(e){e.workspaceRoleChanged=void 0},clearWorkspace:function(e){e.current=void 0,a().remove(r.ob),s.removeAll(e)},setWorkspaceQuotaNotified:function(e,t){e.notifiedQuotas||(e.notifiedQuotas={}),e.notifiedQuotas[t.payload]=(new Date).toISOString(),a().set(r.$8,e.notifiedQuotas)},setWorkspaceUnsubscribed:function(e,t){e.unsubscribeOrderNo=t.payload},update:function(e,t){var i;const{payload:n}=t;null!==(i=e.workspace)&&void 0!==i&&i.detail&&Object.assign(e.workspace.detail,n.updatedFields)},quota:function(e,t){t.payload&&d.setOne(e.workspaceQuotas,t.payload)}};var u=i(21101),p=i(96576),h=i(58590),v=i(98825),g=i(81837);const f=s.getInitialState({ids:[],entities:{},workspaceQuotas:{ids:[],entities:{}},current:a().get(r.ob),workspace:void 0,workspaceRoles:void 0,workspaceRoleChanged:void 0,notifiedQuotas:a().get(r.$8)}),m=(e,t)=>"".concat(e,"_").concat(t),y=(0,n.oM)({name:"workspace",initialState:f,reducers:c,extraReducers(e){e.addCase(p.N.create,((e,t)=>{s.addOne(e,t.payload)})).addCase(p.N.delete,((e,t)=>{let{payload:i}=t;s.removeOne(e,m("org",i.id))})).addCase(p.N.update,((e,t)=>{var i;const n=m("org",t.payload.ID);e.entities[n]&&s.updateOne(e,{id:n,changes:t.payload.updatedFields}),(null===(i=e.workspace)||void 0===i?void 0:i.id)===t.payload.ID&&(e.workspace.detail={...e.workspace.detail,...t.payload.updatedFields})})).addCase(p.N.invited,((e,t)=>{const i=m("org",t.payload.orgWorkspace.id);e.entities[i]||s.addOne(e,t.payload.orgWorkspace)})).addCase(u.N.update,((e,t)=>{const i=m("user",t.payload.userID);if(e.entities[i]){var n,o,a,l;if(t.payload.updatedFields.featuresGuideConfig&&null!==(n=e.workspace)&&void 0!==n&&n.detail)Object.assign(null===(o=e.workspace)||void 0===o?void 0:o.detail,{...null===(a=e.workspace)||void 0===a?void 0:a.detail,currentUser:{...null===(l=e.workspace)||void 0===l||null===(l=l.detail)||void 0===l?void 0:l.currentUser,featuresGuideConfig:t.payload.updatedFields.featuresGuideConfig}});s.updateOne(e,{id:i,changes:t.payload.updatedFields})}})).addCase(h.Nw.delete,((e,t)=>{var i;const{recycleProject:n}=t.payload;var o;null===(null===(i=e.workspace)||void 0===i?void 0:i.detail.recycleProjects)?e.workspace.detail.recycleProjects=[n]:null===(o=e.workspace)||void 0===o||null===(o=o.detail.recycleProjects)||void 0===o||o.push(n)})).addCase(h.Nw.deleteRecycle,((e,t)=>{var i,n,o,a;(null===(i=e.workspace)||void 0===i?void 0:i.detail)&&Object.assign(null===(n=e.workspace)||void 0===n?void 0:n.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleProjects:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleProjects)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.projectID))})})).addCase(h.Nw.recover,((e,t)=>{var i,n,o,a;(null===(i=e.workspace)||void 0===i?void 0:i.detail)&&Object.assign(null===(n=e.workspace)||void 0===n?void 0:n.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleProjects:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleProjects)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.project.id))})})).addCase(v.Nw.delete,((e,t)=>{var i;const{recycleDataFile:n}=t.payload;var o;null===(null===(i=e.workspace)||void 0===i?void 0:i.detail.recycleDataFiles)?e.workspace.detail.recycleDataFiles=[n]:null===(o=e.workspace)||void 0===o||null===(o=o.detail.recycleDataFiles)||void 0===o||o.push(n)})).addCase(v.Nw.deleteRecycle,((e,t)=>{var i,n,o,a;(null===(i=e.workspace)||void 0===i?void 0:i.detail)&&Object.assign(null===(n=e.workspace)||void 0===n?void 0:n.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleDataFiles:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleDataFiles)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.dataFileID))})})).addCase(v.Nw.recover,((e,t)=>{var i,n,o,a;(null===(i=e.workspace)||void 0===i?void 0:i.detail)&&Object.assign(null===(n=e.workspace)||void 0===n?void 0:n.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleDataFiles:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleDataFiles)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.datafile.id))})})),e.addCase(g.fX.fulfilled,((e,t)=>{let{payload:i}=t;s.setAll(e,i)})).addCase(g.fX.rejected,((e,t)=>{throw t.error})).addCase(g.F9.fulfilled,((e,t)=>{let{payload:i,meta:n}=t;e.workspace=i,e.current={id:i.id,type:i.type,user:n.arg.userId},a().set(r.ob,e.current)})).addCase(g.F9.rejected,((e,t)=>{throw t.error})).addCase(g.hn.fulfilled,((e,t)=>{let{payload:i}=t;e.workspaceRoles=(i||[]).map((e=>({...e,rowLevelPermissions:l.uh.transformRLS(e.rowLevelPermissions)||void 0})))})).addCase(g.hn.rejected,((e,t)=>{throw t.error}))}}),w=y,b=y.actions,C=s.getSelectors((e=>e.workspace));d.getSelectors((e=>e.workspace.workspaceQuotas))},65886:(e,t,i)=>{"use strict";i.d(t,{u:()=>a});const n="#0065ff",o="#0056d9",a={token:{colorLinkHover:n,borderRadius:4,sizePopupArrow:0,colorError:"#de350b",fontSize:13,colorPrimary:n,colorPrimaryHover:o,colorTextBase:"#091e42"},components:{Button:{fontSize:13,fontWeight:500,colorLink:n,colorLinkHover:o},Layout:{siderBg:"white",bodyBg:"white",headerHeight:48,headerPadding:0},Menu:{itemHeight:32,itemBorderRadius:0,itemMarginInline:0,paddingContentHorizontal:0,itemHoverBg:"transparent",itemHoverColor:n,itemSelectedBg:"transparent",iconMarginInlineEnd:22,subMenuItemBorderRadius:0},Segmented:{itemSelectedColor:"white",itemSelectedBg:n},Slider:{trackBg:n,trackHoverBg:o,handleColor:n}}}},16108:(e,t,i)=>{"use strict";i.d(t,{d:()=>n});let n=function(e){return e.org="org",e.project="project",e.table="table",e.datafile="datafile",e}({})},40365:(e,t,i)=>{"use strict";i.d(t,{w:()=>d});var n=i(15972),o=i.n(n),a=i(49163),l=i(72494);const r=300;async function s(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise((o=>{const a=t(),l=-1!==a.app.fetchingList.findIndex((t=>t[e]));let d=null;return n>=i?(d&&clearTimeout(d),o(d)):l?void(d=setTimeout((()=>{o(s(e,t,i,n+r))}),r)):(d&&clearTimeout(d),o(a.app.wsSyncedData[e]))}))}function d(e){const{syncWithWebSocket:t,timeoutTime:i}=e,n=e.typePrefix,r="async";return{createAsyncAction:function(e,d,c){const u=n?"".concat(n,"/").concat(e,"_").concat(r):"".concat(e,"_").concat(r),p=o()({},c,{getPendingMeta:()=>({syncWithWebSocket:t})});return(0,a.hg)(u,(async function(){const e=arguments.length<=1?void 0:arguments[1];try{const t=await d(...arguments),n=await s(e.requestId,e.getState,null!==i&&void 0!==i?i:l.EH);return n&&(e.dispatch({type:"app/resolveWsSyncedData",payload:e.requestId}),Object.assign(t,{wsSyncedData:n})),t}catch(t){return Promise.reject(t)}}),p)},createUndoRedoActions:function(e,d,c){return function(){var u,p;let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};async function v(){const e=arguments.length<=1?void 0:arguments[1];try{const t=await d(...arguments),n=await s(e.requestId,e.getState,null!==i&&void 0!==i?i:l.EH);return n&&(e.dispatch({type:"app/resolveWsSyncedData",payload:e.requestId}),Object.assign(t,{wsSyncedData:n})),t}catch(t){return Promise.reject(t)}}const g=n?"".concat(n,"/").concat(e,"_").concat(r):"".concat(e,"_").concat(r),f=n?"".concat(n,"/undo_").concat(e,"_").concat(r):"undo_".concat(e,"_").concat(r),m=n?"".concat(n,"/redo_").concat(e,"_").concat(r):"redo_".concat(e,"_").concat(r),y=o()({},c,{getPendingMeta:()=>({syncWithWebSocket:t})}),w=(0,a.hg)(g,v,y),b=(0,a.hg)(f,v,y),C=(0,a.hg)(m,v,y);return{action:w,undoAction:null!==(u=h.undo)&&void 0!==u?u:b,redoAction:null!==(p=h.redo)&&void 0!==p?p:C}}}}}},40522:(e,t,i)=>{"use strict";i.d(t,{A$:()=>b,LR:()=>w,NH:()=>f,Pl:()=>g,V9:()=>v,aZ:()=>h,kv:()=>m,lm:()=>p,q6:()=>c,xz:()=>y});var n=i(36999),o=i.n(n),a=i(34362),l=i.n(a),r=i(15684),s=i.n(r),d=i(4511);const c=["png","jpeg","jpg","gif"],u=c;function p(e){var t;const i=null!==(t=null===e||void 0===e?void 0:e.lastIndexOf("."))&&void 0!==t?t:-1;return o()(i<1?"unknown":null===e||void 0===e?void 0:e.substr(i+1))}function h(e){const t=e.lastIndexOf(".");return t<1?e:e.slice(0,t)}function v(e,t){return"unknown"===t?e:"".concat(e,".").concat(t)}function g(e){return l()(u,e)}function f(e){return"pdf"===e}function m(e){return g(e)||f(e)}async function y(e,t,i,n,o){var a,l;if(!i)return;const r=null===(a=i.querySelectorAll(".".concat(t))[e])||void 0===a?void 0:a.querySelector("img"),c=null===(l=i.querySelectorAll(".".concat(t))[e])||void 0===l?void 0:l.querySelector("embed");if(r&&(r.onload=()=>new(s())(r,{inline:!0,backdrop:!1,button:!1,navbar:!1,title:!1,minWidth:i.offsetWidth,minHeight:i.offsetHeight,toolbar:{oneToOne:3,zoomIn:3,zoomOut:3,rotateLeft:3,rotateRight:3,flipHorizontal:3,flipVertical:3,reset:3,prev:!1,next:!1,play:!1}}),r.dataset.url))if(o)r.src=r.dataset.url;else{const e=await d.Z.getSignedUrlForDownload(r.dataset.url,n);r.src=e.detail}if(c){const e=c.dataset.url;if(e)if(o)c.src=e;else{const t=await d.Z.getSignedUrlForDownload(e,n),i=await d.Z.getFileContent(t.detail),o=URL.createObjectURL(new Blob([i],{type:"application/pdf"}));c.src=o}}}async function w(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){e=(await d.Z.getSignedUrlForDownload(e,t)).detail}const i=document.createElement("a");i.style.display="none",i.href=e,document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}function b(e,t){const i=document.createElement("a");i.style.display="none",i.href=e,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},48466:(e,t,i)=>{"use strict";i.d(t,{l:()=>u});var n=i(37588),o=i.n(n),a=i(76806),l=i(53926),r=i.n(l),s=i(22138),d=i(72494);let c=function(e){return e.SupperAdmin="supperAdmin",e.Admin="admin",e.User="user",e}({});const u=(e,t,i)=>{var n,l;o().set(s.o3,e,{expires:d.Ie}),o().set(s.z6,t,{expires:d.Ie}),r().set(s.o3,e),r().set(s.z6,t);const u=(0,a.Z)(e);o().set(s.$A,null!==(n=null!==i&&void 0!==i?i:null===u||void 0===u?void 0:u.userType)&&void 0!==n?n:c.User,{expires:d.Ie}),o().set(s.VR,""+Math.round(null!==(l=null===u||void 0===u?void 0:u.exp)&&void 0!==l?l:(new Date).getTime()/1e3+432e3)),o().set(s.$,"true",{expires:d.Ie})}},49756:(e,t,i)=>{"use strict";i.d(t,{Dw:()=>a});var n=i(56356),o=i.n(n);function a(e){return o()(getComputedStyle(document.documentElement).getPropertyValue(e))}},62502:(e,t,i)=>{"use strict";i.d(t,{g_:()=>s,ky:()=>l,m2:()=>r,qf:()=>a});const n=(0,i(51373).Z)();function o(e){return{on(t){n.on(e,t)},emit(t){n.emit(e,t)},off(t){n.off(e,t)}}}o("createTableNode");const a=o("previewAttachment"),l=o("openDetailPanel"),r=o("fitLayerBounds"),s=o("selectTableRow");o("focusOnPoi"),o("closeMobileDrawer")},38362:(e,t,i)=>{"use strict";function n(){return null!==navigator.userAgent.match(/Android/i)}function o(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}function a(){return n()||o()}function l(){return/micromessenger\/([\d.]+)/i.test(navigator.userAgent)}function r(){return null!==navigator.userAgent.match(/Lark|Feishu/i)}i.d(t,{Dt:()=>n,PG:()=>r,e3:()=>l,gn:()=>o,tq:()=>a})},22963:(e,t,i)=>{"use strict";i.d(t,{tr:()=>G,Fs:()=>U});var n=i(57323),o=i.n(n),a=i(3254),l=i.n(a),r=i(27371),s=i(37588),d=i.n(s),c=i(53926),u=i.n(c),p=i(58081),h=i.n(p),v=i(15972),g=i.n(v),f=i(53813),m=i.n(f),y=i(99540),w=i.n(y),b=i(22299),C=i.n(b),x=i(38981),I=i.n(x),j=i(88716),M=i.n(j),k=i(74720),T=i.n(k),E=i(468),P=i.n(E),O=i(74797),_=i(22138),S=i(15328);class N extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,N),this.name="AuthError",this.code="401"}}class L extends Error{constructor(e,t){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,L),this.name="QuotaLimitError",this.message=JSON.stringify({...t,id:e})}}class D extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,D),this.name="NetworkError",this.code="503"}}class R extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,R),this.name="RequestTooOftenError",this.code="400"}}var Z=i(48466),A=i(66368),F=i(72494);let z;r.ZP.config({prefixCls:O.Z.antdPrefix+"-message",maxCount:3});const B=e=>"token/refresh/"===e,V=()=>u().get(_.o3)||"";class H{static create(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.instance||(this.instance=this.fetchToken(e)),this.instance}static async fetchToken(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.retries>=this.maxRetries?(this.instance=null,Promise.reject(new Error("Max refresh token retries exceeded"))):(this.retries++,U({baseURL:"".concat(O.Z.baseApiURL,"/")}).post("token/refresh/",{refreshToken:u().get(_.z6)||""},{ignoreError:!0}).then((e=>{null!==e&&void 0!==e&&e.data&&(0,Z.l)(e.data.extra.token,e.data.extra.refreshToken),this.instance=null,this.retries=0})).catch((t=>(this.instance=null,!e||l().isCancel(t)||401!==T()(t,"response.status")&&401!==T()(t,"response.data.code")&&"errors.user.noPermission"!==T()(t,"response.data.message")?Promise.reject(t):Promise.reject(new N(t))))))}static dailyRefresh(){if("true"!==d().get(_.$)||!d().get(_.o3)||!d().get(_.z6))return!1;const e=Date.now();e-w()(d().get(_.Ek)||0)>864e5&&(d().set(_.Ek,I()(e)),this.fetchToken())}}o()(H,"instance",null),o()(H,"maxRetries",10),o()(H,"retries",0);const W=e=>H.create(!0).then(e);function U(e){let t=null,i=null;return new Proxy({},{get:(n,o)=>async function(){const n=await(async()=>t||(i||(i=(async()=>{const i=g()({},{baseURL:O.Z.baseApiURL,timeout:F.EH,paramsSerializer:function(e){return h().stringify(e,{arrayFormat:"repeat"})}},e);"larkDashboard"===await(0,A.l)()&&(i.baseURL=i.baseURL.replace("https://maptable.com/api","https://maptable.net/api")),t=l().create(i),t.interceptors.request.use((e=>(e.token||H.dailyRefresh(),e.params={...e.params},O.Z.requestParams&&(e.params=Object.assign(e.params,O.Z.requestParams)),e.headers&&(e.token?e.headers.Authorization=e.token:e.headers.Authorization=V(),e.headers.Locale=(0,S.nI)(),z&&(e.headers["x-maptable-current-org"]=I()(z))),e)),(e=>Promise.reject(e))),t.interceptors.response.use((e=>e),(e=>{if(!l().isCancel(e)){if("Request too often"===T()(e,"response.data.message",e))return Promise.reject(new R(e));if("Network Error"===T()(e,"message"))return Promise.reject(new D(e));if(401===T()(e,"response.status")||401===T()(e,"response.data.code")){const i=null===e||void 0===e?void 0:e.config;return B(null===i||void 0===i?void 0:i.url)?Promise.reject(new N(e)):W((()=>{var e;return i.headers.Authorization=d().get(_.o3),null===(e=t)||void 0===e?void 0:e(i)}))}if(403===T()(e,"response.data.code")){r.ZP.destroy();const t=T()(e,"response.data.message","errors.network.request"),{domain:i,current:n,required:o}=T()(e,"response.data.params",{}),a=null===S.gs||void 0===S.gs?void 0:S.gs.$t({id:t,defaultMessage:[]},{domain:M()(i)?void 0:S.gs.$t({id:i,defaultMessage:[]}),current:M()(n)?void 0:S.gs.$t({id:n,defaultMessage:[]}),required:M()(o)?void 0:S.gs.$t({id:o,defaultMessage:[]})});r.ZP.error(a)}else if(413===T()(e,"response.status"))r.ZP.error(null===S.gs||void 0===S.gs?void 0:S.gs.$t({id:"qvWOWk",defaultMessage:"The requested data size is too large, please reduce the data and try again."}));else if(!T()(e,"response.config.ignoreError")){if(4001===T()(e,"response.data.code"))return Promise.reject(new L(T()(e,"response.data.message",e),T()(e,"response.data.params",void 0)));if("ECONNABORTED"===T()(e,"code"))r.ZP.destroy(),r.ZP.error(null===S.gs||void 0===S.gs?void 0:S.gs.$t({id:"F65NCR",defaultMessage:"Network request timed out, please try again later."}));else{r.ZP.destroy();const t=T()(e,"response.data.message","errors.network.request"),i=T()(e,"response.data.params",void 0),n=null===S.gs||void 0===S.gs?void 0:S.gs.$t({id:t,defaultMessage:[]},i);n&&r.ZP.error({key:t,content:n})}}}const i=T()(e,"response.data.message","errors.network.request"),n=T()(e,"response.data.params",void 0),o=null===S.gs||void 0===S.gs?void 0:S.gs.$t({id:i,defaultMessage:[]},n);return Object.assign(e,{message:"".concat(o," ").concat(e.message)}),Promise.reject(e)}))})()),await i,t))();return n[o](...arguments)}})}const q=["post","put","delete","get","patch"];class G{constructor(e){var t=this;o()(this,"requestId",null),o()(this,"customHeaders",{}),this.fetch=P()(e,q),q.forEach((i=>{this.fetch[i]=async function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;const l=t.getCustomHeaders(),r=m()(o);t.clearRequestId(),["delete","get"].includes(i)&&!M()(l)&&Object.assign(r,{headers:l});return await e[i](n,r,g()({},a,M()(l)?{}:{headers:l}))}}))}getCustomHeaders(){return C()(this.customHeaders)}withRequestId(e){return this.customHeaders={...this.customHeaders,"x-maptable-requestid":e},this}clearRequestId(){this.customHeaders["x-maptable-requestid"]&&delete this.customHeaders["x-maptable-requestid"]}}},69151:(e,t,i)=>{"use strict";i.d(t,{BC:()=>A,CB:()=>E,Ef:()=>k,NU:()=>G,Q4:()=>H,Qf:()=>B,Ql:()=>Y,S8:()=>D,Tt:()=>O,UH:()=>$,Zw:()=>S,_3:()=>Z,_M:()=>U,c8:()=>K,dV:()=>F,eU:()=>_,kE:()=>L,np:()=>M,oM:()=>z,oh:()=>T,pk:()=>N,po:()=>J,s0:()=>V,sI:()=>R,uL:()=>j,v6:()=>q,wf:()=>W});var n=i(91671),o=i(75538),a=i.n(o),l=i(7070),r=i.n(l),s=i(23903),d=i.n(s),c=i(56439),u=i.n(c),p=i(55349),h=i.n(p),v=i(18878),g=i.n(v),f=i(46881),m=i.n(f),y=i(92626),w=i.n(y),b=i(99540),C=i.n(b),x=i(11546),I=i(49210);function j(e){let{type:t,typeOptions:i}=e;return"formula"===t&&"coordinate"===(null===i||void 0===i?void 0:i.expectedType)}function M(e){let{type:t,typeOptions:i}=e;return"formula"===t&&"multiLineText"===(null===i||void 0===i?void 0:i.expectedType)}function k(e){let{type:t,typeOptions:i}=e;return"formula"===t&&"number"===(null===i||void 0===i?void 0:i.expectedType)}function T(e){let{type:t,typeOptions:i}=e;return"lookup"===t&&!(null===i||void 0===i||!i.lookupResultType)&&"original"!==i.lookupResultType&&"distinct"!==i.lookupResultType}function E(e){var t;return P(e)&&("multiLineText"===e.typeOptions.lookupColumnType||"formula"===e.typeOptions.lookupColumnType&&"multiLineText"===(null===(t=e.typeOptions.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType))}function P(e){let{type:t,typeOptions:i}=e;return"lookup"===t&&("original"===(null===i||void 0===i?void 0:i.lookupResultType)||"distinct"===(null===i||void 0===i?void 0:i.lookupResultType))}function O(e){var t;return P(e)&&("coordinate"===e.typeOptions.lookupColumnType||"formula"===e.typeOptions.lookupColumnType&&"coordinate"===(null===(t=e.typeOptions.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType))}function _(e){var t,i,n;return"lookup"===e.type&&("original"!==(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupResultType)&&"distinct"!==(null===(i=e.typeOptions)||void 0===i?void 0:i.lookupResultType)||!(null===(n=e.typeOptions)||void 0===n||!n.lookupColumnType||!d()(x.Z9,(t=>{var i;return!0===t.computable&&(null===t||void 0===t?void 0:t.type)===(null===(i=e.typeOptions)||void 0===i?void 0:i.lookupColumnType)}))))}function S(e){return!!e&&("singleChoice"===e.type||"multiChoice"===e.type)}function N(e){let{typeOptions:t}=e;return"singleChoice"===(null===t||void 0===t?void 0:t.lookupColumnType)||"multiChoice"===(null===t||void 0===t?void 0:t.lookupColumnType)}function L(e){return!!e&&("number"===e.type||k(e)||T(e))}function D(e){return!!e&&("multiLineText"===e.type||V(e)||M(e))}function R(e){return!!e&&(L(e)||function(e){var t;return P(e)&&("number"===e.typeOptions.lookupColumnType||"formula"===e.typeOptions.lookupColumnType&&"number"===(null===(t=e.typeOptions.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType))}(e))}function Z(e){return!!e&&"singleChoice"===e.type}function A(e){var t;return!!e&&(Z(e)||"singleChoice"===(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType))}function F(e){let{type:t,typeOptions:i}=e;return"datetime"===t||"updateTime"===t||"createTime"===t||"formula"===t&&"datetime"===(null===i||void 0===i?void 0:i.expectedType)||"lookup"===t&&"datetime"===(null===i||void 0===i?void 0:i.lookupColumnType)}function z(e){return"related"===e.type}function B(e){return"lookup"===e.type}function V(e){let{type:t,typeOptions:i}=e;return"lookup"===t&&("original"===(null===i||void 0===i?void 0:i.lookupResultType)||"distinct"===(null===i||void 0===i?void 0:i.lookupResultType))&&"coordinate"!==i.lookupColumnType&&"attachment"!==i.lookupColumnType&&"singleChoice"!==i.lookupColumnType&&"number"!==i.lookupColumnType}function H(e){var t;return"lookup"===e.type&&"attachment"===(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)}function W(e){var t,i,n;return"lookup"===(null===e||void 0===e?void 0:e.type)&&("member"===(null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)||"creator"===(null===e||void 0===e||null===(i=e.typeOptions)||void 0===i?void 0:i.lookupColumnType)||"updater"===(null===e||void 0===e||null===(n=e.typeOptions)||void 0===n?void 0:n.lookupColumnType))}function U(e){var t;if("lookup"!==(null===e||void 0===e?void 0:e.type)||null===e||void 0===e||!e.typeOptions)return!1;const i=null===e||void 0===e?void 0:e.typeOptions;return"datetime"===i.lookupColumnType||"updateTime"===i.lookupColumnType||"createTime"===i.lookupColumnType||"formula"===i.lookupColumnType&&"datetime"===(null===(t=i.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType)}function q(e){let{type:t,typeOptions:i}=e;return"creator"===t||"updater"===t||W({type:t,typeOptions:i})}function G(e){return!!e&&(q(e)||"member"===e.type)}function $(e){var t;let{type:i,typeOptions:n}=e;return n?"formula"!==i?i:null!==(t=n.expectedType)&&void 0!==t?t:i:i}function J(e){let{type:t,typeOptions:i}=e;var n;return"formula"===t&&"number"===(null===i||void 0===i?void 0:i.expectedType)?{...i,precision:null!==(n=i.numberPrecision)&&void 0!==n?n:0,format:i.numberFormat}:i}function K(e,t,i,o){var l;let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const d=null===t||void 0===t?void 0:t.type,c=null===t||void 0===t?void 0:t.typeOptions;if("singleChoice"===d||"multiChoice"===d||"lookup"===d&&("singleChoice"===(null===c||void 0===c?void 0:c.lookupColumnType)||"multiChoice"===(null===c||void 0===c?void 0:c.lookupColumnType)))return a()(r()(u()(e,","),(e=>{var t,i,n;return null!==(t=null===(i=((null===c||void 0===c?void 0:c.choices)||(null===c||void 0===c||null===(n=c.lookupColumnTypeOptions)||void 0===n?void 0:n.choices)||[]).find((t=>t.id===e)))||void 0===i?void 0:i.name)&&void 0!==t?t:""})));if("attachment"===d)return a()(r()(e,(e=>e.url)));if("multiLineText"===d&&s){const t=new(w())([[e]]).encode(),i=t.slice(1,-1);return i.match(/[\n\t"]/gm)?t:i}if("boolean"===d)return e?"True":"False";var p,v,f;if("number"===d)return g()(e)?(0,n.P)(e,null!==(p=null===c||void 0===c?void 0:c.precision)&&void 0!==p?p:0,null===c||void 0===c?void 0:c.format):e;if("formula"===d){var m;if("number"===(null===c||void 0===c?void 0:c.expectedType)&&null!==e)return(0,n.P)(C()(e),null!==(m=null===c||void 0===c?void 0:c.numberPrecision)&&void 0!==m?m:0,null===c||void 0===c?void 0:c.numberFormat);if("multiLineText"===(null===c||void 0===c?void 0:c.expectedType)&&s){const t=new(w())([[e]]).encode(),i=t.slice(1,-1);return i.match(/[\n\t"]/gm)?t:i}if(null!==e&&Array.isArray(e))return e.map((e=>e.text)).join(",")}if("member"===d)return a()(r()(e,(e=>{var t,n;return null!==(t=null===i||void 0===i||null===(n=i.find((t=>t.id===e)))||void 0===n?void 0:n.name)&&void 0!==t?t:""})));if("updater"===d||"creator"===d)return null!==(v=null!==(f=null===e||void 0===e?void 0:e.name)&&void 0!==f?f:a()(r()(e,(e=>{var t,n;return null!==(t=null===i||void 0===i||null===(n=i.find((t=>t.id===e)))||void 0===n?void 0:n.name)&&void 0!==t?t:""}))))&&void 0!==v?v:"";if("related"===d)return a()(r()(e,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.displayName)&&void 0!==t?t:""})));if("lookup"===d)switch(null===c||void 0===c?void 0:c.lookupColumnType){case"number":return a()(r()(e,(e=>{var t;return g()(e)?(0,n.P)(e,null!==(t=null===c||void 0===c?void 0:c.precision)&&void 0!==t?t:0,null===c||void 0===c?void 0:c.format):e})));case"updater":case"creator":case"member":return a()(r()(e,(e=>{var t,n;return null!==(t=null===i||void 0===i||null===(n=i.find((t=>t.id===e)))||void 0===n?void 0:n.name)&&void 0!==t?t:""})));case"singleChoice":case"multiChoice":return a()(r()(u()(e,","),(e=>{var t,i;return null!==(t=null===c||void 0===c||null===(i=c.lookupColumnTypeOptions)||void 0===i||null===(i=i.choices)||void 0===i||null===(i=i.find((t=>t.id===e)))||void 0===i?void 0:i.name)&&void 0!==t?t:""})));case"datetime":case"createTime":case"updateTime":return a()(r()(e,(e=>h()(e)?"":(0,I.U)(e,null===c||void 0===c?void 0:c.lookupColumnTypeOptions,o))));case"related":return a()(r()(e,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.displayName)&&void 0!==t?t:""})));case"formula":switch(null===c||void 0===c||null===(l=c.lookupColumnTypeOptions)||void 0===l?void 0:l.expectedType){case"datetime":return a()(r()(e,(e=>{var t,i,n;return h()(e)?"":(0,I.U)(e,{dateFormat:null===c||void 0===c||null===(t=c.lookupColumnTypeOptions)||void 0===t?void 0:t.datetimeDateFormat,timeFormat:null===c||void 0===c||null===(i=c.lookupColumnTypeOptions)||void 0===i?void 0:i.datetimeTimeFormat,showTimezone:null===c||void 0===c||null===(n=c.lookupColumnTypeOptions)||void 0===n?void 0:n.showTimezone},o)})));case"number":return a()(r()(e,(e=>{var t;return g()(e)?(0,n.P)(e,null!==(t=null===c||void 0===c?void 0:c.precision)&&void 0!==t?t:0,null===c||void 0===c?void 0:c.format):e})))}return a()(e);default:return Array.isArray(e)?a()(e):e}return null!==e&&void 0!==e?e:""}function Y(e){if(!e)return;const t={string:D(e),singleChoice:A(e),number:R(e),user:G(e)};return m()(t,(e=>e))}},30731:(e,t,i)=>{"use strict";i.d(t,{Jl:()=>z,OV:()=>V,Oy:()=>Z,SD:()=>A,UM:()=>D,VQ:()=>O,bs:()=>F,cm:()=>_,hu:()=>L,lv:()=>R,n8:()=>B});i(57435);var n=i(43179),o=i.n(n),a=i(56439),l=i.n(a),r=i(99540),s=i.n(r),d=i(62618),c=i.n(d),u=i(57889),p=i.n(u),h=(i(55349),i(42552)),v=i(31343),g=i(36639),f=i(89983),m=i(22601),y=i(69151),w=i(33766),b=i(49210),C=i(98403);function x(e){let{date:t,typeOptions:i,isGpuDatetime:n}=e;if(null!==i&&void 0!==i&&i.dateFormat&&null!==i&&void 0!==i&&i.timeFormat){const e=t&&n&&"number"===typeof t?t*m.go:t;return o()(e).valueOf()}return t&&(0,b.qb)(t)?o()(t).valueOf():s()(t)}const I=e=>{if(!e)return"";let t=[],i=[];try{"string"===typeof e?t=JSON.parse(e):"object"===typeof e&&(t=e),i=t.map((e=>e.displayName))}catch(n){return""}return String(c()(i)).toLowerCase()},j=(e,t,i)=>{var n;if("datetime"===(null===t||void 0===t?void 0:t.lookupColumnType)||"formula"===(null===t||void 0===t?void 0:t.lookupColumnType)&&"datetime"===(null===t||void 0===t||null===(n=t.lookupColumnTypeOptions)||void 0===n?void 0:n.expectedType)){return null===(Array.isArray(e)?1===e.length?e[0]:null:e)?NaN:x({date:e,typeOptions:null===t||void 0===t?void 0:t.lookupColumnTypeOptions,isGpuDatetime:i})}return"related"===(null===t||void 0===t?void 0:t.lookupColumnType)?I(e):String(M(e)).toLowerCase()};function M(e){return Array.isArray(e)?c()(e).join(","):e}const k=/^P(-)?(\d+Y)?(\d+Q)?(\d+M)?(\d+W)?(\d+D)?(=)?$/;function T(e){return Array.isArray(e)&&e.length>0&&"key"in e[0]}function E(e,t,i,n){if(null==e)switch(i){case m.Rp.isNot:case m.Rp.notEqual:case m.Rp.notContains:case m.Rp.isNull:return!0;default:return!1}switch(i){case m.Rp.equals:return e===n||""===n;case m.Rp.notEqual:return e!==n;case m.Rp.is:if(t.datetime&&(o=n,Array.isArray(o)&&o.length>0&&"number"===typeof o[0])){const t=+e,[i,o]=n;return i<=t&&t<=o}return e===n;case m.Rp.isNot:return e!==n;case m.Rp.startsWith:return 0===String(e).indexOf(n);case m.Rp.endsWith:return String(e).lastIndexOf(String(n))===String(e).length-String(n).length;case m.Rp.isBefore:case m.Rp.lessThan:return s()(e)<s()(n);case m.Rp.lessThanOrEqual:return s()(e)<=s()(n);case m.Rp.isAfter:case m.Rp.greaterThan:return s()(e)>s()(n);case m.Rp.greaterThanOrEqual:return s()(e)>=s()(n);case m.Rp.contains:return t.choice||t.user||t.lookupUser||t.lookupChoice?String(n).split(",").some((t=>String(e).split(",").includes(t))):String(e).indexOf(String(n))>=0;case m.Rp.containsAll:return String(e).indexOf(String(n))>=0;case m.Rp.notContains:return t.choice||t.lookupChoice||t.user?!String(n).split(",").some((t=>String(e).split(",").includes(t))):-1===String(e).indexOf(String(n));case m.Rp.isNull:return t.number?isNaN(s()(e))||"undefined"===typeof e:!e;case m.Rp.isNotNull:return t.number?!isNaN(s()(e))&&"undefined"!==typeof e:!!e;case m.Rp.inArea:return(0,f.aP)(String(e),String(n));case m.Rp.inRange:{if(!T(n))return!!e;const i=t.choice||t.lookupChoice?A(e):e;return n.every((e=>s()(i)>=e.values[0]&&s()(i)<=e.values[1]))}case m.Rp.notInRange:{if(!T(n))return!!e;const i=t.choice||t.lookupChoice?A(e):e;return n.every((e=>s()(i)<e.values[0]||s()(i)>e.values[1]))}default:return!0}var o}function P(e,t,i){const n=e.value;if(void 0===n)return n;const a=null===i||void 0===i?void 0:i.now,l=null===i||void 0===i?void 0:i.useGPU,r=null===i||void 0===i?void 0:i.timezone,s=e.field.typeOptions,d=null===i||void 0===i?void 0:i.mondayFirst,c=e.op.key;if(t.datetime&&c===m.Rp.is){const e=function(e){let{s:t,now:i=o()(),mondayFirst:n=!1,timezone:a}=e;if("string"!==typeof t)return null;if("P"!==t[0])return null;if(t.length<3)return null;const l=t.match(k);if(!l)return null;const r="-"===l[1]?-1:1,s="="===l[l.length-1],[d,c,u,p,h]=l.slice(2).map((e=>e?parseInt(e.slice(0,-1)):null)),v=(0,C.iR)(i,a),g=v.startOf("day");if(null!==d){const e=v.add(r*d,"year");return s?[e,g]:[e.startOf("year"),e.endOf("year")]}if(null!==c){const e=v.add(r*c,"quarter");return s?[e,g]:[e.startOf("quarter"),e.endOf("quarter")]}if(null!==u){const e=v.add(r*u,"month");return s?[e,g]:[e.startOf("month"),e.endOf("month")]}if(null!==p){const e=v.add(r*p,"week");return n?s?[e,g]:[e.startOf("week").add(1,"day"),e.endOf("week").add(1,"day")]:s?[e,g]:[e.startOf("week"),s?v:e.endOf("week")]}return null!==h?r>0?s?[v.startOf("day"),v.add(h,"day").endOf("day")]:[v.add(1,"day").startOf("day"),v.add(h,"day").endOf("day")]:s?[v.subtract(h,"day").startOf("day"),v.startOf("day")]:[v.subtract(h,"day").startOf("day"),v.subtract(1,"day").endOf("day")]:null}({s:n,now:a,mondayFirst:d,timezone:r});if(e)return e.map((e=>x({date:e.toDate(),typeOptions:s,isGpuDatetime:l})))}if(c===m.Rp.inRange||c===m.Rp.notInRange){if(!n)return;return Z(String(n))}return t.number?+n:t.datetime?x({date:n,typeOptions:s}):t.related?I(n):t.lookup?j(n,s):String(M(n)).toLowerCase()}class O{constructor(e,t){this.filter=null!==e&&void 0!==e?e:void 0,this.useGPU=(null===t||void 0===t?void 0:t.isGpuDatetime)||!1,this.mondayFirst=(null===t||void 0===t?void 0:t.mondayFirst)||!1,this.timezone=null===t||void 0===t?void 0:t.timezone,this.now=null===t||void 0===t?void 0:t.now,this.isLngLat=null===t||void 0===t?void 0:t.isLngLat,null!==t&&void 0!==t&&t.skipCache||(this.weakmap=new WeakMap)}format(e,t){const{is:i,formatCell:n,formattedValue:o}=this.cached(e);return{is:i,formattedCell:n(t),formattedValue:o}}cached(e){var t,i;if(this.weakmap){const t=this.weakmap.get(e);if(t)return t}const n=e.op.key,o=e.field,a="value"===e.comparing,r=o.typeOptions,s=(0,y.Qf)(o),d={user:(0,y.v6)(o),number:(0,y.kE)(o),datetime:(0,y.dV)(o),choice:(0,y.Zw)(o),related:(0,y.oM)(o),lookup:s,lookupUser:s&&["member","creator","updater"].includes(null!==(t=null===r||void 0===r?void 0:r.lookupColumnType)&&void 0!==t?t:""),lookupChoice:s&&["multiChoice","singleChoice"].includes(null!==(i=null===r||void 0===r?void 0:r.lookupColumnType)&&void 0!==i?i:"")},c=P(e,d,{useGPU:this.useGPU,now:this.now,timezone:this.timezone,mondayFirst:this.mondayFirst}),u=n===m.Rp.equals&&"boolean"===o.type,p={is:d,formattedValue:c,formatCell:e=>{if(null==e)return u?"false":e;const t=d.user?String(null===e||void 0===e?void 0:e.id):d.number?+e:d.datetime?x({date:e,typeOptions:r,isGpuDatetime:this.useGPU}):d.related?I(e):d.lookup?j(e,r,this.useGPU):String(M(e)).toLowerCase();if(a&&(d.choice||d.lookupChoice)){var i;const t=(null===r||void 0===r?void 0:r.choices)||(null===r||void 0===r||null===(i=r.lookupColumnTypeOptions)||void 0===i?void 0:i.choices)||[];return String(l()(e).map((e=>{var i;return null===(i=t.find((t=>t.id===e)))||void 0===i?void 0:i.name}))).toLowerCase()}return t}};return this.weakmap&&this.weakmap.set(e,p),p}test(e,t,i){const n=t||this.filter;return!n||g.K.test(n,(t=>{if(!t.field||!t.op)return!0;let n=e[t.field.id];if(this.isLngLat&&i){const o=e[i];o&&(n="POINT(".concat(n," ").concat(o,")"),Object.assign(t.field,{type:"coordinate"}))}const{is:o,formattedValue:a,formattedCell:l}=this.format(t,n);return E(l,o,t.op.key,a)}))}}function _(e,t,i){return new O(t,{skipCache:!0,...i}).test(e)}const S=(0,h.kP)(v.Q,12);function N(e){var t;const i=null!==(t=e.id)&&void 0!==t?t:S();return"and"in e?{and:(e.and||[]).map(N),id:i}:"or"in e?{or:(e.or||[]).map(N),id:i}:{...e,id:i}}function L(e,t){if(!e)return null;if(g.K.isEmpty(e))return null;const i=new Map(t.map((e=>[e.id,e])));const n=function e(t){if("and"in t)return{id:t.id,and:(t.and||[]).map(e).filter((e=>null!==e))};if("or"in t)return{id:t.id,or:(t.or||[]).map(e).filter((e=>null!==e))};if(!("op"in t))return null;const n=m.fP[t.op];if(!n)return null;let o=i.get(t.column);return o&&(o={...o,type:(0,y.UH)(o),typeOptions:(0,y.po)(o)}),{id:t.id,op:{...n},field:o,value:t.value}}(e);return n?N(n):null}function D(e,t){return!(!e||!t)&&("and"in e?(e.and||[]).some((e=>D(e,t))):"or"in e?(e.or||[]).some((e=>D(e,t))):e.column===t)}function R(e,t,i){return t?_(e,t,{isGpuDatetime:i})?1:-1:1}function Z(e){return e?p()(e.split(","),3).reduce(((e,t)=>{const i={key:t[0],values:[s()(t[1]),s()(t[2])]};return e.push(i),e}),[]):[]}function A(e){let t=0;for(let i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t|=0}return Math.abs(t)}function F(e,t,i){var n;const o=null===t||void 0===t||null===(n=t.find((e=>e.id===i)))||void 0===n?void 0:n.columns;if(!o)return e||[];i&&w.Jd;const a=o.map((e=>e.id));return(e||[]).filter((e=>a.includes(e.id))).sort(((e,t)=>a.indexOf(e.id)-a.indexOf(t.id)))}function z(e,t){let{workspaceId:i,layerNodeId:n}=e;return!0===(null===t||void 0===t?void 0:t.allowAnonymous)?n:i&&n?"".concat(i,"_").concat(n):n}function B(e){if(!e)return null;if(e.filter)return g.K.isEmpty(e.filter)?null:e.filter;if(!e.filters)return null;const t=e.filters.map((e=>({column:e.columnID,op:e.relation,value:e.value})));return"or"===e.filterCondition?{or:t}:{and:t}}function V(e){if(!e)return null;const t={filter:e};let i=[];return"or"in e&&e.or.length&&(t.filterCondition="or",i=e.or),"and"in e&&e.and.length&&(t.filterCondition="and",i=e.and),"op"in e&&(t.filterCondition="and",i=[e]),i.length&&(t.filters=i.map((e=>"column"in e?{columnID:e.column,relation:e.op,value:e.value}:null)).filter(Boolean)),t}},49210:(e,t,i)=>{"use strict";i.d(t,{Cl:()=>w,IG:()=>p,SH:()=>u,U:()=>v,f7:()=>b,kK:()=>C,lB:()=>m,o0:()=>g,p6:()=>f,qT:()=>y,qb:()=>h});var n=i(43179),o=i.n(n),a=i(99540),l=i.n(a),r=i(56356),s=i.n(r),d=i(57316),c=(i(32820),i(15328),i(98403));function u(e){if(0!==e&&e>-.1&&e<1){let t,i=e;for(t=0;t<10&&i>-.1&&i<1;t++)i*=10;return parseFloat(e.toFixed(t+2))}return parseFloat(l()(e).toFixed(3))}function p(e){return function(e){const t=[{value:1e9,symbol:"b"},{value:1e6,symbol:"m"},{value:1e3,symbol:"k"}];if(e<1e3)return e.toString();for(const i of t)if(e>=i.value){const t=e/i.value,n=Math.floor(t).toString().length,o=Math.max(0,4-n);return t.toFixed(o).replace(/\.?0+$/,"")+i.symbol}return e.toString()}(u(e))}const h=(()=>{const e={};return function(t){if(t in e)return e[t];const i="Invalid Date"!==new Date(t).toString();return e[t]=i,i}})(),v=(()=>{const e=Object.keys(d.zT)[0],t=Object.keys(d.zT)[2],i={};return function(n,a,l){var r,u;if(!h(n))return n?String(n):"";const p=null!==(r=null===a||void 0===a?void 0:a.dateFormat)&&void 0!==r?r:e,v=null!==(u=null===a||void 0===a?void 0:a.timeFormat)&&void 0!==u?u:t,g="12-hour-clock"===v?" A":"",f=null!==a&&void 0!==a&&a.showTimezone?" ([GMT] Z)":"";let m="".concat(d.T_[v]||"").concat(g).concat(f);const y=d.zT[p];y&&(m=y+" "+m);const w="".concat(n,"/").concat(m,"/").concat(l||"");if(w in i)return s()(i[w]);const b=o()(n);return i[w]=(0,c.iR)(b,l).format(m),s()(i[w])}})();function g(e){return h(e)?o()(e).format("YYYY/MM/DD HH:mm:ss"):e}function f(e,t){return h(e)?o()(e).subtract(null!==t&&void 0!==t?t:0,"day").format("YYYY/MM/DD"):e}function m(e){return(l()(e)/100).toFixed(2)}function y(e){const t=l()(e)/100;return Number.isInteger(t)?t.toFixed(0):t.toFixed(2)}function w(e){const t=Math.floor(e/60%60),i=Math.floor(e%60);return"".concat(t,":").concat(i<10?"0"+i:i)}function b(e){try{return new URL(e),e}catch{return"https://".concat(e)}}function C(e){const t=Number(e);if(!t)return"0B";const i=["B","KB","MB","GB","TB"],n=Math.min(Math.floor(Math.log(t)/Math.log(1024)),i.length-1);return 0===n?"".concat(t).concat(i[n]):"".concat((t/1024**n).toFixed(1)," ").concat(i[n])}},90875:(e,t,i)=>{"use strict";i.d(t,{t7:()=>l,u9:()=>a,vG:()=>r});var n=i(13226),o=i.n(n);function a(e,t,i){const n=(null!==t&&void 0!==t?t:64)*(i?1:window.devicePixelRatio);return e?e+"?x-oss-process=image/resize,m_fill,w_".concat(Math.floor(n),",h_").concat(Math.floor(n)):""}function l(e){var t;return e=null!==(t=e)&&void 0!==t?t:"",o()(o()(e,"-private","-public"),"files/","files/thumbnail-")}function r(e){const[t,i,n]=[656,1582,12],o=e.includes("autonavi"),a=e.includes("mapbox");if(o){const[t,i,n]=[106,48,7];return e.replace("{x}",String(t)).replace("{y}",String(i)).replace("{z}",String(n))}if(a)return e.replace("{x}",String(t)).replace("{y}",String(i)).replace("{z}",String(n));{const o=e.split("?")[0].replace("{x}",String(t)).replace("{y}",String(i)).replace("{z}",String(n));return!o||o.endsWith(".png")||o.endsWith(".jpg")?o:"".concat(o)}}},33625:(e,t,i)=>{"use strict";i.d(t,{DE:()=>o,U2:()=>l,_A:()=>a});const n=30;function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:150,y:125},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const a=e.x-(312+n),l=e.y-(333+n);if(t&&i){const e=document.getElementById(t);if(e){const t=e.getBoundingClientRect();return{left:a+t.x<t.x?t.x:a+t.x,top:l<0?0:l}}}return{left:a<((null===o||void 0===o?void 0:o.x)||0)?(null===o||void 0===o?void 0:o.x)||0:a,top:l<((null===o||void 0===o?void 0:o.y)||0)?(null===o||void 0===o?void 0:o.y)||0:l}}function a(e){const t=window.getComputedStyle(e),i=new DOMMatrixReadOnly(t.transform);return{top:i.m42+parseInt(t.top),left:i.m41+parseInt(t.left)}}function l(e,t){const i=e[0]-t[0],n=e[1]-t[1];return{width:Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),degree:-(180*Math.atan(i/n)/Math.PI+90),left:t[0]+(e[0]-t[0])/2,top:t[1]+(e[1]-t[1])/2}}},15328:(e,t,i)=>{"use strict";i.d(t,{Kd:()=>g,Sk:()=>y,cS:()=>m,gs:()=>u,nI:()=>f,vX:()=>w,wv:()=>p});var n=i(64201),o=i(31253),a=i(35991),l=i(89840),r=i(95657),s=i(23502),d=i.n(s);const c=(0,n.Sn)();let u=null;const p=(e,t)=>{if(!u)return"__NOT_TRANSLATED__";const{id:i,defaultMessage:n}=e,o=(0,u.$t)({id:i,defaultMessage:n||[]},t);return null!==o&&void 0!==o?o:"__NOT_TRANSLATED__"};async function h(e){switch(e){case"en-US":return i.e(695).then(i.t.bind(i,82007,19));case"ja-JP":return i.e(615).then(i.t.bind(i,74422,19));default:return i.e(113).then(i.t.bind(i,53267,19))}}async function v(e){switch(e){case"en-US":return i.e(101).then(i.t.bind(i,32433,19));case"ja-JP":return i.e(628).then(i.t.bind(i,37274,19));default:return i.e(658).then(i.t.bind(i,18607,19))}}async function g(e){const[t,i]=await Promise.all([v(e),h(e)]);return u=(0,o.d)({locale:e,messages:{...t.default,...d()(i.default,(e=>"__NOT_TRANSLATED__"===e))},onError:()=>{}},c),{intl:u,antdLocale:"zh-CN"===e?a.Z:"ja-JP"===e?r.Z:l.Z}}function f(){return u?u.locale:"en-US"}function m(e,t,i){if(i){try{return e.$t({id:"".concat(t,".").concat(i),defaultMessage:[]})}catch{}return i}}function y(e,t){return m(e,"annotation.type",t)}function w(e,t){return m(e,"payment.status",t)}},17481:(e,t,i)=>{"use strict";i.d(t,{GC:()=>y,sz:()=>w,tP:()=>b});var n=i(88716),o=i.n(n),a=i(19735),l=i(96271),r=i(91671),s=i(81659),d=i.n(s),c=i(18878),u=i.n(c),p=i(99540),h=i.n(p),v=i(82959),g=i.n(v),f=i(49210),m=i(69151);function y(e,t,i,n){return{id:e,tableNodeID:t.tableNodeID,viewID:t.viewID,type:"h3Tile"===(null===t||void 0===t?void 0:t.layerType)?"h3":(null!==n&&void 0!==n?n:null===t||void 0===t?void 0:t.vectorTile)?"vt":"normal",name:i}}function w(e,t){if(e){var i;const n="singleChoice"===e.type?(0,a.G)(null===(i=e.typeOptions)||void 0===i?void 0:i.choices):(0,l.BK)().colors;return o()(n)?{}:{fillFieldID:e.id,fillConfig:{fillMethod:(0,m.sI)(e)?"quantile":"ordinal",fillOpacity:.9,colors:n,reverse:!1,...t}}}}function b(e){let{columns:t,cells:i,labelFieldIDs:n=[],items:o,timezone:a,members:l}=e;const s=[],c=[];return null===n||void 0===n||n.forEach(((e,n)=>{var p,v,g,y,w,b,C,x;const I=t instanceof Map?t.get(e):t.find((t=>t.id===e)),j=null===o||void 0===o||null===(p=o[n])||void 0===p?void 0:p.hiddenLabel,M=null===o||void 0===o||null===(v=o[n])||void 0===v?void 0:v.hiddenTooltip;if(!I)return;const k=d()(r.P,"number"===(null===I||void 0===I?void 0:I.type)||"lookup"===(null===I||void 0===I?void 0:I.type)?null===I||void 0===I||null===(g=I.typeOptions)||void 0===g?void 0:g.precision:null===I||void 0===I||null===(y=I.typeOptions)||void 0===y?void 0:y.numberPrecision,"number"===(null===I||void 0===I?void 0:I.type)||"lookup"===(null===I||void 0===I?void 0:I.type)?null===I||void 0===I||null===(w=I.typeOptions)||void 0===w?void 0:w.format:null===I||void 0===I||null===(b=I.typeOptions)||void 0===b?void 0:b.numberFormat,"currency"===(null===I||void 0===I||null===(C=I.typeOptions)||void 0===C?void 0:C.format)?null===I||void 0===I||null===(x=I.typeOptions)||void 0===x?void 0:x.numberPrefix:void 0);let T=null===i||void 0===i?void 0:i[I.id];const E=I.name;switch(I.type){case"singleChoice":case"multiChoice":T=(0,m.c8)(T,I);break;case"datetime":case"createTime":case"updateTime":T=null==T?"":(0,f.U)(T,I.typeOptions,a);break;case"lookup":(0,m.oh)(I)||(T=(0,m.c8)(T,I,l,a));break;case"member":case"creator":case"updater":T=(0,m.c8)(T,I,l)}var P,O;(T=(0,m.kE)(I)&&u()(T)?k(h()(T)):T,M)||c.push("".concat(E,": ").concat(null!==(P=T)&&void 0!==P?P:""));j||s.push(null!==(O=T)&&void 0!==O?O:"")})),{label:g()(s).length>0?s.join("\n"):"",tooltip:g()(c).length>0?c.join("\n"):""}}},70093:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});const n=(()=>{const e="MT_PROJECTS";function t(){try{const t=localStorage.getItem(e),i=t?JSON.parse(t):{};if(i&&"object"===typeof i)return i}catch{}return null}function i(i,n,o){const a=t();localStorage.setItem(e,JSON.stringify(a?{...a,[i]:{...a[i],[n]:o}}:{[i]:{[n]:o}}))}function n(e,i){const n=t();return n&&n[e]?n[e][i]:null}return{get:n,set:i,withKey:function(e){return{get:t=>n(t,e),set:(t,n)=>i(t,e,n)}}}})()},69361:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});const n=e=>new Promise((t=>setTimeout(t,e)))},66368:(e,t,i)=>{"use strict";i.d(t,{l:()=>o});let n=null;async function o(){if(null!==n)return n;{const e=await Promise.resolve().then(i.bind(i,55881)),t=await e.bridge.getEnv();n="lark"===t.product?"larkDashboard":"feishuDashboard"}return n}},98403:(e,t,i)=>{"use strict";i.d(t,{Ar:()=>u,LC:()=>p,iR:()=>d,vd:()=>c});var n=i(43179),o=i.n(n),a=i(7336),l=i.n(a),r=i(83177),s=i.n(r);function d(e,t){return t?e.tz(t):e}function c(){return o().tz.guess()}function u(e,t){if(!e)return null;if(!t)return o()(e);return c()===t?o()(e):o()(o()(e).tz(t).format("YYYY-MM-DD HH:mm:ss"))}function p(e,t){return e?t?o().tz(e.format("YYYY-MM-DD HH:mm:ss"),t):e:null}o().extend(l()),o().extend(s())},49015:()=>{},8751:()=>{},83374:()=>{},3417:()=>{},3834:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={wrapper:"banner_wrapper__n9gN5",banner:"banner_banner__86w+C",view:"banner_view__rURa0",config:"banner_config__7aZYi",show:"banner_show__yDs6u",hide:"banner_hide__HKBLz",alert:"banner_alert__dlCFG",warning:"banner_warning__Sg3hG",warningBtn:"banner_warningBtn__k5wOa",priceLink:"banner_priceLink__m5Il9",priceBtn:"banner_priceBtn__0WEzR",floatBadge:"banner_floatBadge__OV9MN"}},52403:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={main:"layout_main__X+Vyw",preview:"layout_preview__DkETk",configPanel:"layout_configPanel__rZZ+N",config:"layout_config__mZC8b",footer:"layout_footer__0G+wu",adSection:"layout_adSection__e+1ut",helpContainer:"layout_helpContainer__zCrAZ",helpBtn:"layout_helpBtn__yuoZI",submitSection:"layout_submitSection__VwoHY",submitBtn:"layout_submitBtn__lAM3B"}},27954:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={dialog:"dialog_dialog__W8rCF",confirmDialog:"dialog_confirmDialog__jesD3",plain:"dialog_plain__8jp7f",body:"dialog_body__L4ssY",content:"dialog_content__G08Mq",footer:"dialog_footer__8ZsR4",buttonGroup:"dialog_buttonGroup__rI+vJ",centered:"dialog_centered__gEtB9",footerAddon:"dialog_footerAddon__z1S9E"}},54800:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={container:"quickView_container__zDI6U",actions:"quickView_actions__5ZKfT",gridContainer:"quickView_gridContainer__IOo1p",gridName:"quickView_gridName__UKcDk"}},62945:()=>{},80758:()=>{},65660:()=>{},21440:()=>{}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=e,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};i.a=(i,a,l)=>{var r;l&&((r=[]).d=-1);var s,d,c,u=new Set,p=i.exports,h=new Promise(((e,t)=>{c=t,d=e}));h[t]=p,h[e]=e=>(r&&e(r),u.forEach(e),h.catch((e=>{}))),i.exports=h,a((i=>{var a;s=(i=>i.map((i=>{if(null!==i&&"object"===typeof i){if(i[e])return i;if(i.then){var a=[];a.d=0,i.then((e=>{l[t]=e,o(a)}),(e=>{l[n]=e,o(a)}));var l={};return l[e]=e=>e(a),l}}var r={};return r[e]=e=>{},r[t]=i,r})))(i);var l=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),d=new Promise((t=>{(a=()=>t(l)).r=0;var i=e=>e!==r&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));s.map((t=>t[e](i)))}));return a.r?d:l()}),(e=>(e?c(h[n]=e):d(p),o(r)))),r&&r.d<0&&(r.d=0)}})(),(()=>{var e=[];i.O=(t,n,o,a)=>{if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],a=e[c][2];for(var r=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(i.O).every((e=>i.O[e](n[s])))?n.splice(s--,1):(r=!1,a<l&&(l=a));if(r){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}})(),i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);i.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,i.d(a,l),a}})(),i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+({101:"lang-en-m",113:"lang-zh-CN",319:"spatial-analysis-worker",327:"map-lang-zh-CN",401:"map-lang-en",524:"region-layerdata-processor-worker",615:"lang-ja-JP",628:"lang-ja-JP-m",658:"lang-zh-CN-m",695:"lang-en",967:"map-lang-ja-JP",995:"layerdata-processor-worker"}[e]||e)+"."+{32:"bcdfbadd",101:"039f8755",113:"dbb3e40d",319:"76377879",327:"31897832",357:"8fc8bb61",401:"223e0312",408:"1f54ed17",490:"b4565620",524:"c3fd4a4f",539:"f51335b3",615:"657dd279",628:"921fc45e",658:"b6a59aa8",695:"28dba274",760:"2ee82a6a",847:"c6b40ce4",967:"52579e5c",995:"5690f209"}[e]+".chunk.js",i.miniCssF=e=>"static/css/"+e+"."+{408:"71bc0540",760:"9d97be1a",847:"0fd99dc2"}[e]+".chunk.css",i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="maptable-frontend:";i.l=(n,o,a,l)=>{if(e[n])e[n].push(o);else{var r,s;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){r=u;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",t+a),r.src=n),e[n]=[o];var p=(t,i)=>{r.onerror=r.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((e=>e(i))),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),s&&document.head.appendChild(r)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=179,i.p="./",(()=>{var e=e=>new Promise(((t,n)=>{var o=i.miniCssF(e),a=i.p+o;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var o=(l=i[n]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(o===e||o===t))return l}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){var l;if((o=(l=a[n]).getAttribute("data-href"))===e||o===t)return l}})(o,a))return t();((e,t,i,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=a=>{if(o.onerror=o.onload=null,"load"===a.type)i();else{var l=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=l,s.request=r,o.parentNode.removeChild(o),n(s)}},o.href=t,document.head.appendChild(o)})(e,a,t,n)})),t={179:0,298:0};i.f.miniCss=(i,n)=>{t[i]?n.push(t[i]):0!==t[i]&&{408:1,760:1,847:1}[i]&&n.push(t[i]=e(i).then((()=>{t[i]=0}),(e=>{throw delete t[i],e})))}})(),(()=>{i.b=document.baseURI||self.location.href;var e={179:0,298:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise(((i,n)=>o=e[t]=[i,n]));n.push(o[2]=a);var l=i.p+i.u(t),r=new Error;i.l(l,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",r.name="ChunkLoadError",r.type=a,r.request=l,o[1](r)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,l=n[0],r=n[1],s=n[2],d=0;if(l.some((t=>0!==e[t]))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(s)var c=s(i)}for(t&&t(n);d<l.length;d++)a=l[d],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(c)},n=self.webpackChunkmaptable_frontend=self.webpackChunkmaptable_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.nc=void 0;var n=i.O(void 0,[24,973,130,980,21,416,575],(()=>i(64407)));n=i.O(n)})();