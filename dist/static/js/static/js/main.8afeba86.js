(()=>{var e={89420:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{g:()=>j});var o=n(57435),a=n(27371),l=n(88505),r=n(30289),s=n(74720),d=n.n(s),c=n(44459),u=n(30997),p=n(68906),h=n(3516),v=n(30423),g=n(68955),f=n(74797),m=n(15328),y=n(11846),w=n(93707),b=n(65886),C=n(87078),x=(n(6763),n(49015),n(94553)),I=e([C]);C=(I.then?(await I)():I)[0],a.ZP.config({prefixCls:f.Z.antdPrefix+"-message",maxCount:3}),l.ZP.config({prefixCls:f.Z.antdPrefix});const j=()=>{const[e,t]=(0,o.useState)(null),[n,i]=(0,o.useState)(null),s=(0,p.Z)((e=>e.project.defaultLocale)),I=(0,v.I)();return(0,o.useEffect)((()=>{(async()=>{const e="zh-CN"===s?"zh-CN":"ja-JP"===s?"ja-JP":"en-US";I(w.Nw.setLocale(e)),(0,m.Kd)(e).then((n=>{let{intl:o,antdLocale:a}=n;t(o),i(a),document.documentElement.lang=e}))})()}),[I,s]),e&&n&&(0,x.jsx)(l.ZP,{prefixCls:f.Z.antdPrefix,button:{autoInsertSpace:!1},locale:n,theme:b.u,children:(0,x.jsx)(g.w,{locale:n,children:(0,x.jsx)(y.z.Provider,{value:y.F,children:(0,x.jsx)(h.W7,{children:(0,x.jsx)(u.zt,{value:e,children:(0,x.jsx)(r.J$,{value:{revalidateOnFocus:!1,onError:e=>{const t=d()(e,"response.data.message",null),n=d()(e,"response.data.params",void 0);t&&a.ZP.error((0,m.wv)({id:t,defaultMessage:[]},n))}},children:(0,x.jsx)(c.UT,{children:(0,x.jsx)(C.Z,{})})})})})})})})};i()}catch(j){i(j)}}))},99694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>qo});var i=n(57435),o=n(11347),a=n(95620),l=n(68906),r=n(75805),s=n(34362),d=n.n(s),c=n(30768),u=n(8942),p=n.n(u),h=n(27685),v=n(89614),g=n(50239),f=n(17778),m=n(94553);function y(e){let{context:t,children:n,className:i}=e;return(0,m.jsx)(h.eX,{value:t,children:(0,m.jsx)("div",{className:i,children:n})})}y.Form=function(e){let{children:t,initialValues:n,...o}=e;const{isLoading:a}=(0,h.Yg)(),[l,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{n&&!a&&r(!0)}),[n,a]),l?(0,m.jsx)(v.Z,{...o,initialValues:n,children:t}):(0,m.jsx)(g.Z,{justify:"center",align:"center",style:{paddingTop:60},children:(0,m.jsx)(f.Z,{spin:!0})})};var w=n(30423),b=n(55349),C=n.n(b),x=n(15972),I=n.n(x),j=n(49623),M=n.n(j),k=n(10276),T=n(74720),E=n.n(T),P=n(97102),O=n.n(P),S=n(5512),_=n.n(S),N=n(88716),D=n.n(N),L=n(56043),A=n(13307),R=n.n(A),Z=n(30289),F=n(87522),z=n(77528),B=n.n(z),V=n(1714);function H(e,t){return null!==e&&void 0!==e&&e.length?t?B()(e,(e=>e.id===t))?t:void 0:null:null!==t&&void 0!==t?t:null}var W=n(17481),U=n(66168),G=n(2496),q=n(69151),$=n(17181),J=n(84991);function Q(e){var t,n,o;let{mapSettingForm:a,layers:s}=e;const u=(0,w.I)(),[p,h]=(0,i.useState)(!1),{currentProjectId:v,defaultRegion:g,drillDown:f}=(0,l.Z)((e=>e.project)),{thirdpartyType:m}=(0,J.k)(),{aggregateBy:y}=g||{},{data:b,mutate:x}=(0,Z.ZP)(m?["workspace/get",m]:null,(async e=>{let[t,n]=e;return G.Z.getDetail(n)})),j=(0,l.Z)((e=>C()(v)?void 0:c.Hx.selectById(e,v))),T=null===j||void 0===j?void 0:j.mapConfig,P=(0,l.Z)((e=>v?(0,r.M)(e,v):void 0)),S=null===P||void 0===P?void 0:P[0],N=(0,i.useMemo)((()=>null===s||void 0===s?void 0:s.find((e=>e&&e.id===(null===S||void 0===S?void 0:S.id)))),[null===S||void 0===S?void 0:S.id,s]),A=(null===S||void 0===S||null===(t=S.mapInfo)||void 0===t?void 0:t.vectorTile)||!1,z=function(e,t){const n=(0,w.v)((t=>e?V.TW.selectById(t,null===e||void 0===e?void 0:e.tableNodeID):void 0)),o=(0,i.useMemo)((()=>null!==e&&void 0!==e&&e.vectorTile?null===t||void 0===t?void 0:t.columns:null===n||void 0===n?void 0:n.columns),[null===e||void 0===e?void 0:e.vectorTile,null===t||void 0===t?void 0:t.columns,n]);return(0,i.useMemo)((()=>e?{...e,labelFieldID:H(o,e.labelFieldID),fillFieldID:H(o,e.fillFieldID),bivariateFillFieldID:H(o,e.bivariateFillFieldID),radiusFieldID:H(o,e.radiusFieldID),outlineFieldID:H(o,e.outlineFieldID),outlineWidthFieldID:H(o,e.outlineWidthFieldID),weightFieldID:H(o,e.weightFieldID),heightFieldID:H(o,e.heightFieldID),timestampFieldID:H(o,e.timestampFieldID),groupByFieldID:H(o,e.groupByFieldID),sortByFieldID:H(o,e.sortByFieldID)}:void 0),[o,e])}(null===S||void 0===S?void 0:S.mapInfo,null===S||void 0===S?void 0:S.vtInfo),B=(0,l.Z)((e=>null!==S&&void 0!==S&&S.id?e.project.previewMapInfos[S.id]:void 0)),{isLoading:Q,columns:K,tableNodes:Y,tableNode:X,labelOptions:ee,textOptions:te,numberOptions:ne,dimensionOptions:ie,coordinateOptions:oe,locationOptions:ae,textCoordinateOptions:le}=(0,k.iG)({tableNodeId:null!==(n=null===B||void 0===B?void 0:B.tableNodeID)&&void 0!==n?n:null===z||void 0===z?void 0:z.tableNodeID,viewId:null!==(o=null===B||void 0===B?void 0:B.viewID)&&void 0!==o?o:null===z||void 0===z?void 0:z.viewID}),{initialValues:re,form:se}=(0,F.cI)(Q?void 0:S,K),de=null===S||void 0===S?void 0:S.readonly,{formChangeInterceptor:ce}=function(e){let{form:t,initialValues:n,mapSettingForm:o,columns:a}=e;const l=(0,w.I)(),r=(0,i.useCallback)((e=>{var i,r;if(e){if(e.tableNodeID&&t.setFieldsValue({viewID:void 0,coordinateFieldID:void 0,latitudeFieldID:void 0,labelFieldID:void 0,fillFieldID:void 0,radiusFieldID:void 0,weightFieldID:void 0,regionDimensionFieldID:void 0,regionIndexStatsFieldID:void 0,specifyByFieldID:void 0,coordinateType:"coord",regionConfig:{indexStatsMethod:"count"}}),e.coordinateType&&"lng-lat"===e.coordinateType&&t.setFieldsValue({coordinateFieldID:void 0,latitudeFieldID:void 0}),e.layerType){const i=e.layerType,o=E()(n,"radiusConfig.radius");"icon"===i&&t.setFieldsValue({radiusConfig:{radius:2*o}}),"pointLinePolygon"===i&&t.setFieldsValue({radiusConfig:{radius:o/2}})}if(null!==(i=e.regionConfig)&&void 0!==i&&i.regionId){l(c.Nw.setDrillDownState(void 0));const n=E()(e,"regionConfig.regionId"),i=["world/cas","world/wb"].includes(n),a=null===n||void 0===n?void 0:n.split("-")[0];a&&!i&&t.setFieldsValue({regionConfig:{country:a}}),i?(t.setFieldsValue({regionConfig:{level:"admin0",aggregateBy:"admin0"}}),null===o||void 0===o||o.setFieldsValue({showBaseMap:!1})):d()(n,"ADM1")?t.setFieldsValue({regionConfig:{level:"admin2",aggregateBy:"admin2"}}):d()(n,"ADM2")?t.setFieldsValue({regionConfig:{level:"admin3",aggregateBy:"admin3"}}):t.setFieldsValue({regionConfig:{level:"admin1",aggregateBy:"admin1"}})}if(null!==(r=e.regionConfig)&&void 0!==r&&r.dimension&&t.setFieldsValue({coordinateFieldID:void 0,latitudeFieldID:void 0,regionDimensionFieldID:void 0}),e.regionIndexStatsFieldID)if(e.regionIndexStatsFieldID===L.N)t.setFieldsValue({regionConfig:{indexStatsMethod:"count"}});else if(null!==a&&void 0!==a&&a.find((t=>t&&t.id===e.regionIndexStatsFieldID&&(0,q.S8)(t)))){var s;const n=(null===(s=e.regionConfig)||void 0===s?void 0:s.indexStatsMethod)||t.getFieldValue(["regionConfig","indexStatsMethod"]);"count"!==n&&"nonEmptyCount"!==n&&t.setFieldsValue({regionConfig:{indexStatsMethod:"count"}})}}}),[t,n,l,o,a]);return{formChangeInterceptor:r}}({form:se,initialValues:re,mapSettingForm:a,columns:K}),{coordinateType:ue,destCoordinateType:pe}=(0,$.ix)(z,K),he=(0,i.useMemo)((()=>!1),[]),ve=(0,i.useCallback)((e=>{var t,n,i;const o=I()({},se.getFieldsValue(!0),e),a=(0,F.Kd)(o),l=null===(t=Y.find((e=>e&&e.id===(null===a||void 0===a?void 0:a.tableNodeID))))||void 0===t?void 0:t.name,r=void 0!==(null===e||void 0===e?void 0:e.layerType),s=null===S||void 0===S||null===(n=S.mapInfo)||void 0===n?void 0:n.layerType;let d=a.layerType;r?"heatmap"!==s&&"region"!==s||(d=s):d=s||a.layerType;const p={...S,name:l,mapInfo:{...a,layerType:d}};var h,g,m;"region"===(null===(i=p.mapInfo)||void 0===i?void 0:i.layerType)&&(!f||y===f.level||null!==e&&void 0!==e&&null!==(h=e.regionConfig)&&void 0!==h&&h.regionId||Object.assign(p.mapInfo.regionConfig,{level:f.level,aggregateBy:f.level,regionId:f.regionId}),null!==e&&void 0!==e&&null!==(g=e.regionConfig)&&void 0!==g&&g.regionId&&null!==(m=p.mapInfo)&&void 0!==m&&m.regionConfig&&Object.assign(p.mapInfo.regionConfig,{regionId:e.regionConfig.regionId,aggregateBy:a.regionConfig.aggregateBy||y,level:a.regionConfig.level}));u((0,U.lZ)(p)),u(c.Nw.updateLayerNodeForProject({projectId:v,layerNode:p,stale:!1}))}),[v,y,u,f,se,S,Y]),ge=(0,i.useCallback)((e=>{ce(e),ve(e),h(!0)}),[ce,ve]),fe=(0,i.useMemo)((()=>R()((e=>{ce(e),ve(e),h(!0)}),300)),[ce,ve]),me=(0,i.useCallback)((e=>{void 0!==e.layerType?ge(e):fe(e)}),[ge,fe]),ye=(0,i.useCallback)((()=>{null!==S&&void 0!==S&&S.id&&re&&(se.setFieldsValue(re),h(!1)),h(!1)}),[se,re,null===S||void 0===S?void 0:S.id]),we=(0,i.useCallback)(((e,t,n)=>{if(de)return;const i={};M()(e)&&Object.assign(i,e),"string"===typeof e&&Object.assign(i,{[e]:t}),Array.isArray(e)&&2===e.length&&Object.assign(i,{[e[0]]:{[e[1]]:t}}),se.setFieldsValue(i),null!==n&&void 0!==n&&n.silent||(null!==n&&void 0!==n&&n.delay?setTimeout((()=>{ve()}),n.delay):ve(),h(!0))}),[se,de,ve]);!function(e,t,n){const{columns:o,dimensionOptions:a,locationOptions:l,numberOptions:r,textOptions:s,viewOptions:d,isLoading:c}=(0,k.iG)({tableNodeId:null===n||void 0===n?void 0:n.tableNodeID,viewId:null===n||void 0===n?void 0:n.viewID});(0,i.useEffect)((()=>{if(c)return;const e=null===n||void 0===n?void 0:n.tableNodeID;!(null===n||void 0===n?void 0:n.viewID)&&d.length>0&&e&&t({viewID:d[0].id})}),[t,null===n||void 0===n?void 0:n.viewID,null===n||void 0===n?void 0:n.tableNodeID,d,c]),(0,i.useEffect)((()=>{null===n||void 0===n||!n.tableNodeID||"icon"!==(null===n||void 0===n?void 0:n.layerType)&&"pointLinePolygon"!==(null===n||void 0===n?void 0:n.layerType)&&"heatmap"!==(null===n||void 0===n?void 0:n.layerType)||null!==n&&void 0!==n&&n.coordinateFieldID||(D()(l)||"coord"!==e.getFieldValue("coordinateType")?t({coordinateFieldID:void 0},null,{silent:!0}):t({coordinateFieldID:l[0].id},null,{delay:30}))}),[l,t,null===n||void 0===n?void 0:n.tableNodeID,null===n||void 0===n?void 0:n.coordinateFieldID,null===n||void 0===n?void 0:n.layerType,e]),(0,i.useEffect)((()=>{if(null!==n&&void 0!==n&&n.tableNodeID&&("icon"===(null===n||void 0===n?void 0:n.layerType)||"pointLinePolygon"===(null===n||void 0===n?void 0:n.layerType))&&(null===n||void 0===n||!n.fillFieldID)&&!n.coordinateFieldID){const{number:n,multiLineText:i,singleChoice:a}=O()(o,"type"),l=_()(n)||_()(i)||_()(a),r=(0,W.sz)(l);null!==r&&void 0!==r&&r.fillFieldID&&(e.setFieldsValue({fillConfig:{fillMethod:r.fillConfig.fillMethod,colors:r.fillConfig.colors,reverse:r.fillConfig.reverse,fillOpacity:r.fillConfig.fillOpacity}}),t({fillFieldID:r.fillFieldID},null,{delay:30}))}}),[o,e,t,null===n||void 0===n?void 0:n.tableNodeID,null===n||void 0===n?void 0:n.coordinateFieldID,null===n||void 0===n?void 0:n.fillFieldID,null===n||void 0===n?void 0:n.layerType]),(0,i.useEffect)((()=>{if(c||"region"!==(null===n||void 0===n?void 0:n.layerType)||null===n||void 0===n||!n.tableNodeID)return;if("region"!==e.getFieldValue(["regionConfig","dimension"]))return;const i=e.getFieldValue(["regionConfig","aggregateBy"]);if(!i)return;const o=e.getFieldValue("regionDimensionFieldID");if("admin0"!==i&&(!o||!a.some((e=>e&&e.id===o)))){var l;const e=null===(l=a.find((e=>["\u7701","\u7701\u4efd","\u5e02","\u57ce\u5e02"].includes(e.name))))||void 0===l?void 0:l.id;e&&t({regionDimensionFieldID:e})}const d=e.getFieldValue("regionIndexStatsFieldID");(d?[...null!==r&&void 0!==r?r:[],...null!==s&&void 0!==s?s:[]].find((e=>e&&e.id===d)):null)||d===L.N||t({regionIndexStatsFieldID:D()(r)?L.N:r[0].id})}),[l,a,s,e,t,null===n||void 0===n?void 0:n.tableNodeID,null===n||void 0===n?void 0:n.layerType,r,c])}(se,we,z);const be=(0,i.useCallback)((async e=>{m&&(await G.Z.updateCustomColors(m,"",e),await x())}),[x,m]),Ce=(0,i.useMemo)((()=>{var e;return{projectId:null!==(e=null===j||void 0===j?void 0:j.id)&&void 0!==e?e:NaN,layerNode:S,tableNode:X,coordinateType:ue,destCoordinateType:pe,timestampFields:[],dateTimeFields:[],h3Fields:[],dimensionFields:ie,fields:K,coordinateFields:oe,locationFields:ae,textCoordinateFields:le,labelFields:ee,numberFields:ne,textFields:te,isPublicLayer:!1,isVectorTile:A,isPro:!0,isEnt:!0,isThirdPartyTable:!0,isFeishuDashboard:!0,enableCustomizedIcon:"icon"===(null===z||void 0===z?void 0:z.layerType),showProBadge:!1,isLoading:Q,form:se,customColors:null===b||void 0===b?void 0:b.customColorPalette,layer:N,readonly:null===S||void 0===S?void 0:S.readonly,onUpdateCustomColors:be,manualUpdate:we}}),[null===j||void 0===j?void 0:j.id,S,X,ue,pe,K,oe,ae,le,ee,ne,te,ie,se,Q,null===b||void 0===b?void 0:b.customColorPalette,A,null===z||void 0===z?void 0:z.layerType,N,be,we]);return{layerNode:S,mapConfig:T,mapInfo:z,form:se,initialValues:re,contextValue:Ce,changed:p,disabledSave:he,reset:ye,onUpdate:me}}const K="layerSetting_panel__kvIZM",Y="layerSetting_horizontal__IfNDe",X="layerSetting_regionPanel__1ZdoP",ee="layerSetting_mapSetting__y8eyh",te="layerSetting_regionMetrics__Nxvgp";var ne=n(96271),ie=n(80634),oe=n(37160),ae=n(33766);const le=e=>{const t=(0,F.$k)("tableNodeID"),n=(0,F.$k)("viewID"),o=v.Z.useFormInstance(),{isConfig:a,base:l,baseToken:r}=(0,ie.Z)(),s=(0,i.useRef)(r),d=(0,i.useCallback)((()=>{o.setFieldsValue({tableNodeID:void 0,viewID:void 0,coordinateFieldID:void 0,labelFieldID:void 0,fillFieldID:void 0,radiusFieldID:void 0,weightFieldID:void 0,regionDimensionFieldID:void 0,regionIndexStatsFieldID:L.N,specifyByFieldID:void 0})}),[o]);(0,i.useEffect)((()=>{l&&(t&&a&&(0,oe.oJ)(l,t).then((e=>{e||d()})),n&&n!==ae.Jd&&a&&(0,oe.ax)(l,t,n).then((e=>{e||o.setFieldsValue({viewID:void 0})})))}),[t,d,a,n,o,e,l]),(0,i.useEffect)((()=>{r&&s.current&&r!==s.current&&d(),s.current=r}),[r,d])};var re=n(95775),se=n(38256),de=n(83580);n.p,n.p,n.p;const ce=n.p+"static/media/layer-region.3d473b47ebb5dc9ef850.jpg",ue=n.p+"static/media/layer-icon.91d1e5c96d79064bded1.jpg";n.p,n.p,n.p,n.p;var pe=n(53029);n(39252);var he=n(79129);const ve=(0,he.vU)({visualization:{id:"visualization.layer",defaultMessage:"Visualization"},setup:{id:"dvr19k",defaultMessage:"Setup"},basedOn:{id:"xfj8/i",defaultMessage:"Based on"},fillColor:{id:"uMhpKe",defaultMessage:"Color"},fillBasedOn:{id:"layer.fill.field",defaultMessage:"Based on"},color:{id:"uMhpKe",defaultMessage:"Color"},steps:{id:"huCHmk",defaultMessage:"Steps"},scale:{id:"qFTxb3",defaultMessage:"Scale"},reverse:{id:"vRTZ4K",defaultMessage:"Reverse"},opacity:{id:"PHutSR",defaultMessage:"Opacity"},bivariate:{id:"hQktKc",defaultMessage:"Bivariate choropleth"},secondField:{id:"BfOw7Z",defaultMessage:"Second field"},stroke:{id:"53IH31",defaultMessage:"Stroke"},strokeBasedOn:{id:"IcWeZE",defaultMessage:"Stroke based on"},strokeSize:{id:"bTfRiC",defaultMessage:"Stroke size"},strokeColor:{id:"opwu2A",defaultMessage:"Stroke color"},strokeAlignment:{id:"WREH9b",defaultMessage:"Stroke alignment options"},strokeWidthBasedOn:{id:"S11QpE",defaultMessage:"Stroke width based on"},strokeThickness:{id:"Oo56zo",defaultMessage:"Stroke thickness"},fillRadius:{id:"layer.fill.radius",defaultMessage:"Radius"},radius:{id:"nDRMt4",defaultMessage:"Radius"},radiusRange:{id:"hSBQ2h",defaultMessage:"Max and min radius"},fixedRadiusInMeters:{id:"dVXTev",defaultMessage:"Fixed radius in meters"},fixedWidthInMeters:{id:"15TJPM",defaultMessage:"Fixed width in meters"},height:{id:"teLZyZ",defaultMessage:"Height"},heightFactor:{id:"cng5zz",defaultMessage:"Height factor"},heightBasedOn:{id:"HdNEOr",defaultMessage:"Height based on"},heightZoom:{id:"So/sR0",defaultMessage:"Height zoom"},heightRange:{id:"LNCesV",defaultMessage:"Height range"},aggregation:{id:"KHyg0t",defaultMessage:"Aggregation method"},label:{id:"753yX5",defaultMessage:"Label"},displayLabelName:{id:"6aBjLn",defaultMessage:"Display label name"},fontColor:{id:"izl8tw",defaultMessage:"Font color"},collision:{id:"PKou80",defaultMessage:"Allow labels to overlap"},fontSize:{id:"kc7szF",defaultMessage:"Font size"},placement:{id:"/wvSvu",defaultMessage:"Placement"},region:{id:"lnaWo/",defaultMessage:"Region"},visibleRange:{id:"LkG/jM",defaultMessage:"Visible Range"},order:{id:"XPruqs",defaultMessage:"Order"},id:{id:"qlcuNQ",defaultMessage:"ID"},waypoints:{id:"+cSeJ2",defaultMessage:"Waypoints"},showEndpoints:{id:"AsMeAW",defaultMessage:"Show endpoints"},orginColor:{id:"+bogI3",defaultMessage:"Origin color"},destColor:{id:"FciIk5",defaultMessage:"Dest. color"},size:{id:"agOXPD",defaultMessage:"Size"},showWaypoints:{id:"+JLFQl",defaultMessage:"Show waypoints"},fillWidth:{id:"layer.fill.width",defaultMessage:"Width"},width:{id:"5IP7AP",defaultMessage:"Width"},data:{id:"XHHR08",defaultMessage:"Data"},dataSource:{id:"7C0xai",defaultMessage:"Data source"},metrics:{id:"HNBpJ4",defaultMessage:"Metrics"},location:{id:"rvirM2",defaultMessage:"Location"},tableView:{id:"ll1wfC",defaultMessage:"Data range"},layerName:{id:"uzyslG",defaultMessage:"Layer name"},layerDesc:{id:"ARCeOs",defaultMessage:"Layer description"},weightOptional:{id:"iN2TmQ",defaultMessage:"Weight (optional)"},fading:{id:"9daE0t",defaultMessage:"Fading"},enableFade:{id:"bitG4n",defaultMessage:"Enable fade"},fadeEffects:{id:"BO0LbS",defaultMessage:"Fade effects"},locationAggregation:{id:"Mo1sKQ",defaultMessage:"Location aggregation"},enableAggregation:{id:"+4uZOc",defaultMessage:"Enable aggregation"},cluster:{id:"RM1/Y9",defaultMessage:"Cluster"},clusterMethod:{id:"x1dLqD",defaultMessage:"Cluster method"},aggregateEffect:{id:"bLG5nf",defaultMessage:"Aggregate effect"},gridSize:{id:"uHLYPl",defaultMessage:"Grid size (km)"},coverage:{id:"jSqwdW",defaultMessage:"Coverage"},h3:{id:"qpSGAO",defaultMessage:"H3"},edgeTransparency:{id:"zf/A7R",defaultMessage:"Edge transparency"},threshold:{id:"zaSNMG",defaultMessage:"Threshold"},weight:{id:"zCb8fX",defaultMessage:"Weight"},odLineType:{id:"4Yrl9Y",defaultMessage:"OD line type"},tripStyle:{id:"AC28o0",defaultMessage:"Trip style"},timestamp:{id:"kF9XUo",defaultMessage:"Timestamp"},tripFadeOut:{id:"NTDJ/Y",defaultMessage:"Trip fade out"},lengthOfFadingOut:{id:"9RHiEC",defaultMessage:"Length of fading out"},iconAutoRotation:{id:"dMTqit",defaultMessage:"Icon auto rotation"},iconSize:{id:"pkMzs1",defaultMessage:"Icon size"},nonNumericTooltip:{id:"2WpykD",defaultMessage:"This value cannot be modified while using non-numeric fields"},singleChoiceColorTooltip:{id:"Q7vGlC",defaultMessage:"The labels will adopt the color assigned to the values in the data table. You can modify these colors directly within the data table."},visibility:{id:"JAkIqb",defaultMessage:"Visibility"},dataObjects:{id:"rSz0Ic",defaultMessage:"Data objects"},iconColorNStyle:{id:"A6RunB",defaultMessage:"Icon color and style"},stringExceedColorTooltip:{id:"+mmZjZ",defaultMessage:"The number of records exceeds the maximum color range."}});var ge=n(17738);var fe=n(95613),me=n(47587),ye=n(37756),we=n.n(ye),be=n(56912),Ce=n(45818);const xe=["long","lon","lng","longitude","\u7ecf\u5ea6"],Ie=["lat","latitude","\u7eac\u5ea6"];function je(e,t){const n=t.length;if(!n)return-1;for(let i=n-1;i>=0;i--){const o=t[i];if(o===e)return n+i+1;if(e.endsWith(o)||e.startsWith(o))return i+1}return-1}var Me=n(89166),ke=n(15525),Te=n(41012);const Ee="notFoundCoordinateField_notFoundContent__-oSb0",Pe=e=>{let{tableId:t,lastViewColumnId:n}=e;const i=(0,a.Z)(),o=(0,w.I)(),l=async()=>{const e=i.$t({id:"DHhB8k",defaultMessage:"Coordinate"});t&&n&&await o((0,Te.wy)({id:t,name:e,type:"coordinate",typeOptions:{},prevColumnId:n,autoRename:!0}))};return(0,m.jsx)("div",{className:Ee,children:(0,m.jsx)(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(ke.Z,{id:"GePXl2",defaultMessage:"No available field. <a>Create a coordinate field now.</a>",values:{a:e=>(0,m.jsx)(Me.ZP,{type:"link",onClick:l,children:e})}})})})},Oe="coordinates_tips__jbXhH",Se="coordinates_selector__sKzZ1";function _e(e){var t;const{showTips:n,coordinateType:o="coord",coordinateTypeFormId:l="coordinateType",coordinateFieldFormId:r="coordinateFieldID",latitudeFieldFormId:s="latitudeFieldID",disableChangeCoordinateType:d,group:c,groupTitle:u}=e,p=(0,a.Z)(),{numberFields:v,coordinateFields:g,textCoordinateFields:f,fields:y,isThirdPartyTable:w,isVectorTile:b,readonly:C,isDynamicLoadData:x,manualUpdate:I}=(0,h.Yg)(),j=(0,i.useMemo)((()=>null===g||void 0===g?void 0:g.filter((e=>{var t;return!(null!==(t=e.typeOptions)&&void 0!==t&&t.textCoordinateType)}))),[g]),M=(0,F.$k)("tableNodeID"),k=(0,F.$k)(l)||o,T=(0,F.$k)("layerType"),E=(0,F.$k)("layerSubType"),P=(0,i.useMemo)((()=>{const e=[{label:w?p.$t({id:"feishu.field.location",defaultMessage:"Location"}):p.$t({id:"DHhB8k",defaultMessage:"Coordinate"}),value:"coord"},{label:p.$t({id:"lwlYq9",defaultMessage:"Latitude and longitude"}),value:"lng-lat"}];return w&&e.push({label:p.$t({id:"OcwfnK",defaultMessage:"WKT"}),value:"wkt"}),$.UU.includes(T)||$.UU.includes(E)?[{label:p.$t({id:"OcwfnK",defaultMessage:"WKT"}),value:"wkt"}]:e}),[w,T,E,p]),O="coord"===k||"wkt"===k?p.$t({id:"HRrq7G",defaultMessage:"Select a field as coordinates"}):p.$t({id:"f2pRcj",defaultMessage:"Please select a field"});(0,i.useEffect)((()=>{P.some((e=>e.value===k))||I({[l]:P[0].value})}),[k,P,I,l]);const S=(0,i.useCallback)((e=>{if(e===k||!e)return;const t={[l]:e,[r]:null};if("coord"===e){const e=_()(j);t[r]=null===e||void 0===e?void 0:e.id,t[s]=null}else if("wkt"===e){const e=_()(f);t[r]=null===e||void 0===e?void 0:e.id,t[s]=null}else{const e=function(e){const t={lng:"",lat:""};if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!e.some((e=>!e.isHidden&&"coordinate"===e.type))){for(let n=0,i=-1,o=-1,a=-1;n<e.length;n++){const l=e[n];if(!l||l.isHidden||!(0,q.sI)(l))continue;const r=l.id,s=l.name.toLowerCase();i=je(s,xe),i>o&&(t.lng=r,o=i),i=je(s,Ie),i>a&&(t.lat=r,a=i)}return t.lng&&t.lat?t:null}}(v,!1);e&&(t[s]=e.lat,t[r]=e.lng)}I(t)}),[l,r,s,I,j,f,v,k]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ge.Z,{name:l,label:u||p.$t({id:"MIsH/c",defaultMessage:"Coordinate type"}),hidden:d,tooltip:w?{title:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"TfrXkl",defaultMessage:"Location fields as well as latitude and longitude are acceptable. If you have only address or coordinates fields, <a>refer to the instructions on how to convert them into the acceptable fields.</a>"}),link:"coordinateType"}),icon:(0,m.jsx)(Ce.sz,{link:"coordinateType"})}:null,children:(0,m.jsx)(me.Select,{disabled:w&&b||C||x,options:P,placeholder:p.$t({id:"p3FPgl",defaultMessage:"Select coordinate type"}),onChange:S})}),(0,m.jsx)(ge.Z,{name:r,label:"coord"===k||"wkt"===k?p.$t({id:"xiCi9K",defaultMessage:"Coordinate field"}):u?"origin"===c?p.$t({id:"SNYApd",defaultMessage:"Origin longitude"}):p.$t({id:"3qe31m",defaultMessage:"Dest. longitude"}):p.$t({id:"HdDKxV",defaultMessage:"Longitude field"}),rules:[{required:!0,message:O}],children:(0,m.jsx)(be.Z,{className:Se,placeholder:O,disabled:w&&b||C||x,options:"coord"===k?j:"wkt"===k?f:v,testID:"".concat(r,"-selector"),notFoundContent:w||"coord"!==k&&"wkt"!==k?(0,m.jsx)(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"/eyuGy",defaultMessage:"No available field. Use others coordinate types for alternatives or <a>learn more how to create an available field.</a>"}),link:"coordinateType"})}):(0,m.jsx)(Pe,{tableId:M,lastViewColumnId:null===(t=we()(y))||void 0===t?void 0:t.id})})}),(0,m.jsx)(ge.Z,{name:s,label:u?"origin"===c?p.$t({id:"tdeG4q",defaultMessage:"Origin latitude"}):p.$t({id:"OkUjP2",defaultMessage:"Dest. latitude"}):p.$t({id:"29QvE0",defaultMessage:"Latitude field"}),hidden:"coord"===k||"wkt"===k,rules:[{required:"lng-lat"===k,message:O}],children:(0,m.jsx)(be.Z,{className:Se,placeholder:O,options:v,disabled:w&&b||C||x,testID:"".concat(s,"-selector"),notFoundContent:(0,m.jsx)(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"/eyuGy",defaultMessage:"No available field. Use others coordinate types for alternatives or <a>learn more how to create an available field.</a>"}),link:"coordinateType"})})})}),n&&(0,m.jsx)("div",{className:Oe,children:p.$t({id:"sp6nKR",defaultMessage:"If line, polygon or other elements on a layer, a formula field with the Center function can be created, to convert elements to points."})})]})}function Ne(e){let{name:t,testID:n,label:i,options:o,placeholder:l,allowClear:r=!0,...s}=e;const d=(0,a.Z)();return(0,F.mG)(o,t),(0,m.jsx)(ge.Z,{name:t,label:i,...s,children:(0,m.jsx)(be.Z,{placeholder:null!==l&&void 0!==l?l:d.$t({id:"f2pRcj",defaultMessage:"Please select a field"}),options:o,allowClear:r,testID:null!==n&&void 0!==n?n:"".concat(t,"-selector"),showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{var n,i;return(null!==(n=null===t||void 0===t||null===(i=t.props)||void 0===i?void 0:i.name)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}var De=n(7639);function Le(e){var t,n,o,a;let{belongsTo:l,column:r}=e;const s=(0,F.$k)([l,"colorScheme"]),d=(0,h.Yg)(),{isThirdPartyTable:c,manualUpdate:u}=d,p=(0,q.BC)(r),v=(0,i.useMemo)((()=>p&&s===$.nC),[s,p]),g=(0,i.useCallback)((e=>{var t,n;const i=((null===r||void 0===r||null===(t=r.typeOptions)||void 0===t?void 0:t.choices)||(null===r||void 0===r||null===(n=r.typeOptions)||void 0===n||null===(n=n.lookupColumnTypeOptions)||void 0===n?void 0:n.choices)||[]).map((e=>{const t=e.color;if(t)return c?t.bgColor:ne.R$[t]}));u({[l]:{_ordinalColors:i,_step:i.length,colors:i,colorScheme:$.nC}},null,{silent:e})}),[null===r||void 0===r||null===(t=r.typeOptions)||void 0===t?void 0:t.choices,null===r||void 0===r||null===(n=r.typeOptions)||void 0===n||null===(n=n.lookupColumnTypeOptions)||void 0===n?void 0:n.choices,c,u,l]),f=(0,i.useCallback)(((e,t,n)=>{var i,o;const a=(null===r||void 0===r||null===(i=r.typeOptions)||void 0===i?void 0:i.choices)||(null===r||void 0===r||null===(o=r.typeOptions)||void 0===o||null===(o=o.lookupColumnTypeOptions)||void 0===o?void 0:o.choices)||[];let s,d=a.length>$._u?$.fR:a.length<$.rT?$.rT:a.length,c=[];if(null!==e&&void 0!==e&&e.includes(","))c=[...e.split(",")],s=e,d=c.length;else if(e&&null!==t&&void 0!==t&&t.length)c=[...t],s=e,d=c.length;else{const e=_()(ne.DE);d=Math.min(d,ne.Ws);const{colorScheme:t,colors:n}=(0,ne.BK)(d,e);c=[...n],s=t}if(a.length>d)for(let l=0;l<a.length-d;l++)c.push(c[l%d]);u({[l]:{_ordinalColors:c,_step:c.length,colors:c,colorScheme:s}},null,{silent:n})}),[l,null===r||void 0===r||null===(o=r.typeOptions)||void 0===o?void 0:o.choices,null===r||void 0===r||null===(a=r.typeOptions)||void 0===a||null===(a=a.lookupColumnTypeOptions)||void 0===a?void 0:a.choices,u]);return{isSingleChoiceColorScheme:v,applySingleChoiceColor:g,applySchemeColor:f}}var Ae=n(71105),Re=n(15905),Ze=n(33718),Fe=n(48828),ze=n(86183),Be=n(95406),Ve=n.n(Be),He=n(99540),We=n.n(He),Ue=n(59267),Ge=n.n(Ue),qe=n(96650),$e=n(74110),Je=n(53813),Qe=n.n(Je),Ke=n(7070),Ye=n.n(Ke),Xe=n(18765),et=n.n(Xe),tt=n(89063),nt=n.n(tt),it=n(62618),ot=n.n(it),at=n(13334),lt=n(49210),rt=n(81422),st=n(63856),dt=n(43498),ct=n(41122),ut=n(78543);const pt="colorPalette_currentColor__UzTGE",ht="colorPalette_customizeColors__E-kSz",vt="colorPalette_customizeColorInput__qDNaq",gt="colorPalette_hasError__IQgPk",ft="colorPalette_table__DyAFQ",mt="colorPalette_item__OXgYX",yt="colorPalette_color__tmIoF",wt="colorPalette_value__ICFNw",bt="colorPalette_embedColorPicker__FQJK7";function Ct(e,t,n,i){if(null!==n&&n.length){const e=[];for(let t=0;t<n.length-1;t++)e.push([n[t],n[t+1]]);return e}if(e.length){if(1===(null===t||void 0===t?void 0:t.length))return null;const n="quantize"===i?(0,Fe.Z)().domain(e).range(t):(0,ze.Z)().domain(e).range(t);return t.map((e=>{const[t,i]=n.invertExtent(e);return[(0,lt.SH)(t),(0,lt.SH)(i)]}))}return null}const xt=e=>{const{colors:t,projectId:n,tableNodeId:o,layerNodeId:l,domainFieldName:r,fieldName:s,icons:d,quantiles:c,method:u,showIcon:v,enableCustomizedIcon:f,isThirdPartyTable:y,field:b,onChange:x,onColorChange:I,onIconChange:j,onUseCustomizeIcon:M}=e,k=(0,ct.$)("viewID"),T=(0,ct.y)(),E=(0,ct.$)(s),{mondayFirst:P,timezone:O,isLoading:S}=(0,h.Yg)(),_=(0,i.useMemo)((()=>({tableNodeId:o,viewId:k,mondayFirst:P,timezone:O})),[o,k,P,O]),N=(0,w.v)((e=>(0,dt.kq)(e,_))),D=(0,ct.$)("coordinateFieldID"),L=(0,i.useMemo)((()=>{return S?[]:null!==N&&void 0!==N&&N.domain?N.domain:function(e,t,n,i,o,a){if((null===i||void 0===i?void 0:i.type)===$e.e.bigTable){if(o&&o.length>0&&o[0]&&o[0].length===at.rF){const e=o[0][0],t=o[0][at.rF-1];return"quantize"!==n&&a&&a>2&&o.length>a-at.rF?o[a-at.rF]:[e,t]}return[0,0]}let l=Number.MAX_SAFE_INTEGER,r=0,s=[];return s=Ye()(et()(null===i||void 0===i?void 0:i.rows,(n=>!C()(n.cells[t])&&!C()(n.cells[e]))),(t=>{const n=parseFloat(t.cells[e]);return l=n<l?n:l,r=n>r?n:r,n})).filter((e=>!Number.isNaN(e))),"quantize"===n?[l,r]:s}(null!==(e=T.getFieldValue(r))&&void 0!==e?e:null===b||void 0===b?void 0:b.id,D,u,N,c,t.length);var e}),[T,N,r,c,u,D,t.length,S,null===b||void 0===b?void 0:b.id]),[A,R]=(0,i.useState)((()=>Ct(L,t,"customize"===u?E:null,u))),Z=(0,i.useRef)(A),[F,z]=(0,i.useState)({}),V=(0,i.useRef)(t.length),H=(0,a.Z)(),W=(0,ct.$)("layerType"),U="hexagon"===W||"grid"===W,G=(0,w.v)((e=>l?e.layerNode.aggregateLayers.entities[l]:void 0)),{isPercentage:q,formatDisplay:$,parseValue:J,formatValue:Q}=(0,ut.h)(b),K=(0,i.useCallback)(((e,t)=>{if(e&&(!p()(e,Z.current)||t)){R(e),Z.current=e;const t=[...e].flat();x(function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(e[n]);return t.push(we()(e)),ot()(t)}(t))}}),[x]);function Y(e,t,n){if(B()(F,(e=>B()(Object.values(e))))||null===A)return;const i=[...A].flat(),o=J(e),a=t*A[0].length+n;i[a]=o,0===n&&0!==a&&(i[a-1]=o),1===n&&a!==i.length-1&&(i[a+1]=o),i.sort(((e,t)=>We()(e)-We()(t)));const l=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(e.slice(n,n+2));return t}(i);K(l)}function X(e,t,n){let i=!1;R((i=>{const o=Qe()(i);return o&&Ve()(o,"".concat(t,".").concat(n),J(e)),o})),e&&!Ge()(We()(e))||(i=!0),z((e=>{const o=Qe()(e);return Ve()(o,"".concat(t,".").concat(n),i),o}))}function ee(e,t){var n,i;if(!A||0!==e&&e!==A.length-1)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(De.default,{size:"small",value:Q(t[0]),className:(0,Ze.default)(vt,{[gt]:null===(n=F[e])||void 0===n?void 0:n[0]}),onBlur:t=>Y(t.target.value,e,0),onChange:t=>X(t.target.value,e,0),onPressEnter:t=>{t.preventDefault(),Y(t.currentTarget.value,e,0)},suffix:q?"%":void 0}),"-",(0,m.jsx)(De.default,{size:"small",value:Q(t[1]),className:(0,Ze.default)(vt,{[gt]:null===(i=F[e])||void 0===i?void 0:i[1]}),onBlur:t=>Y(t.target.value,e,1),onChange:t=>X(t.target.value,e,1),onPressEnter:t=>{t.preventDefault(),Y(t.currentTarget.value,e,1)},suffix:q?"%":void 0})]});{var o;const n=0===e?1:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:vt,children:0===e?H.$t({id:"hJL4XZ",defaultMessage:"Less than"}):H.$t({id:"EAys4o",defaultMessage:">"})}),(0,m.jsx)(De.default,{size:"small",value:Q(t[n]),className:(0,Ze.default)(vt,{[gt]:null===(o=F[e])||void 0===o?void 0:o[n]}),onBlur:t=>Y(t.target.value,e,n),onChange:t=>X(t.target.value,e,n),onPressEnter:t=>{t.preventDefault(),Y(t.currentTarget.value,e,n)},suffix:q?"%":void 0})]})}}return(0,qe.Z)((()=>{S||("customize"===u?t.length===nt()(E)-1?K(Ct(L,t,E,u)):K(Ct(L,t,null,u),!0):(U&&null!==G&&void 0!==G&&G.colorDomain?K(Ct(null===G||void 0===G?void 0:G.colorDomain,t,null,u)):K(Ct(L,t,null,u)),V.current=t.length))}),[t,L,S,E,u,null===G||void 0===G?void 0:G.colorDomain,U]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.xJ,{hidden:!0,name:s,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(Ae.Z,{className:ft,children:null===A||void 0===A?void 0:A.map(((e,i)=>{var o,a;return(0,m.jsxs)(g.Z,{className:mt,children:[v?(0,m.jsx)(Re.Z,{span:4,className:yt,children:(0,m.jsx)(g.Z,{justify:"center",style:{height:"100%"},children:(0,m.jsx)(se.$1,{overlayClassName:bt,projectId:n,color:t[i],icon:null===d||void 0===d?void 0:d[i],optionIndex:i,choiceId:i,showIcon:v,enableCustomizedIcon:f,isThirdPartyTable:y,onIconChange:j,onColorChange:I,onUseCustomizeIcon:M})})}):(0,m.jsx)(Re.Z,{className:yt,children:(0,m.jsx)(rt.Z,{className:pt,color:t[i],onChange:e=>function(e,t){I&&I(e,t)}(e,i)})}),(0,m.jsx)(Re.Z,{span:18,className:wt,children:"customize"===u?(0,m.jsx)("div",{className:ht,children:ee(i,e)}):(0,m.jsx)(st.Z,{text:"".concat($(e[0],null===b||void 0===b||null===(o=b.typeOptions)||void 0===o?void 0:o.precision)," - ").concat($(e[1],null===b||void 0===b||null===(a=b.typeOptions)||void 0===a?void 0:a.precision)),reRender:!0})})]},i)}))})]})};var It=n(75202),jt=n(46131),Mt=n(33324),kt=n.n(Mt);function Tt(e){var t,n;let{belongsTo:o,column:a}=e;const l=(0,h.Yg)(),{layerNode:r,manualUpdate:s,layer:d,isVectorTile:c,form:u}=l,p=(0,i.useMemo)((()=>(0,jt.fi)(a,null===r||void 0===r?void 0:r.vtInfo)),[a,null===r||void 0===r?void 0:r.vtInfo]),v=(0,w.v)((e=>e.project.members)),g=(0,q.NU)(a),f=(0,q.S8)(a),m=(0,i.useMemo)((()=>(null===d||void 0===d?void 0:d.features.length)&&(null===d||void 0===d?void 0:d.features.length)>=jt.G2),[null===d||void 0===d?void 0:d.features.length]),y=(0,i.useMemo)((()=>{var e,t;return kt()(c?p:"fillConfig"===o?null===d||void 0===d||null===(e=d.mapInfo)||void 0===e?void 0:e.fillConfig._uniqDomain:"outlineConfig"===o?null===d||void 0===d||null===(t=d.mapInfo)||void 0===t||null===(t=t.outlineConfig)||void 0===t?void 0:t._uniqDomain:void 0).map((e=>g?function(e,t){if(Array.isArray(e))return e.map((e=>{const n=null===t||void 0===t?void 0:t.find((t=>t.id===e));return(null===n||void 0===n?void 0:n.name)||e})).join(",");if("string"===typeof e&&e.includes(","))return e.split(",").map((e=>{const n=null===t||void 0===t?void 0:t.find((t=>String(t.id)===e));return(null===n||void 0===n?void 0:n.name)||e})).join(",");const n=null===t||void 0===t?void 0:t.find((t=>t.id===e));return(null===n||void 0===n?void 0:n.name)||e}(e,v):f?e:"")).filter(Boolean)}),[p,o,g,f,c,null===d||void 0===d||null===(t=d.mapInfo)||void 0===t?void 0:t.fillConfig._uniqDomain,null===d||void 0===d||null===(n=d.mapInfo)||void 0===n||null===(n=n.outlineConfig)||void 0===n?void 0:n._uniqDomain,v]),b=(0,i.useCallback)((async e=>{if(!o||!e)return;const t=[...e],n=e.length;if(y.length&&y.length>e.length)for(let i=0;i<y.length-n;i++)t.push(e[i%n]);y.length&&y.length<e.length&&t.splice(y.length),s({[o]:{colors:t,_step:t.length}})}),[o,y,s]),C=(0,i.useCallback)(((e,t)=>{if(!o)return;let n,i=y.length>$._u?$.fR:y.length<$.rT?$.rT:y.length,a=[];if(null!==e&&void 0!==e&&e.includes(","))a=[...e.split(",")],n=e,i=a.length;else if(e&&null!==t&&void 0!==t&&t.length)a=[...t],n=e,i=a.length;else{const{colorScheme:t,colors:o}=(0,ne.BK)(i,e);a=[...o],n=t}if(y.length>a.length)for(let o=0;o<y.length-i;o++)a.push(a[o%i]);s({[o]:{colors:a,_step:a.length,colorScheme:n}})}),[o,s,y.length]);return(0,i.useEffect)((()=>{if(!o)return;const e=u.getFieldValue([o,"colors"]);null!==y&&void 0!==y&&y.length&&null!==e&&void 0!==e&&e.length&&e.length!==y.length&&b(e)}),[y,u,o,b]),{applayStringColor:b,applySchemeColor:C,exceededMaxLength:m,strings:y}}const Et=e=>{const{colors:t,projectId:n,icons:i,column:o,showIcon:a,isThirdPartyTable:l,enableCustomizedIcon:r,belongsTo:s,onColorChange:d,onIconChange:c,onUseCustomizeIcon:u}=e,{strings:p}=Tt({belongsTo:s,column:o});return(0,m.jsx)(It.g,{active:(null===p||void 0===p?void 0:p.length)>$._u,children:(0,m.jsx)("div",{className:ft,children:null===p||void 0===p?void 0:p.map(((e,o)=>{var s;const p=null!==(s=t[o])&&void 0!==s?s:t[o%t.length];return e?(0,m.jsxs)("div",{className:mt,children:[a?(0,m.jsx)(Re.Z,{span:4,className:yt,children:(0,m.jsx)(g.Z,{justify:"center",align:"center",style:{height:"100%"},children:(0,m.jsx)(se.$1,{overlayClassName:bt,projectId:n,color:p,icon:null===i||void 0===i?void 0:i[o],optionIndex:o,choiceId:o,showIcon:a,enableCustomizedIcon:r,isThirdPartyTable:l,onIconChange:c,onColorChange:d,onUseCustomizeIcon:u})})}):(0,m.jsx)(Re.Z,{className:yt,children:(0,m.jsx)(rt.Z,{className:pt,color:p,onChange:e=>null===d||void 0===d?void 0:d(e,o)})}),(0,m.jsx)(Re.Z,{span:18,className:wt,children:(0,m.jsx)(st.Z,{text:e,reRender:!0})})]},o):null}))})})},Pt=e=>{const{projectId:t,colors:n,icons:i,showIcon:o,choices:a,isThirdPartyTable:l,enableCustomizedIcon:r,showProBadge:s=!0,disableCustomColor:d,disabled:c,onColorChange:u,onIconChange:p,onUseCustomizeIcon:h}=e;return(0,m.jsx)(It.g,{active:a&&(null===a||void 0===a?void 0:a.length)>$._u,children:(0,m.jsx)("div",{style:{width:"100%"},className:ft,children:null===a||void 0===a?void 0:a.map(((e,a)=>{var v;const f=null!==(v=n[a])&&void 0!==v?v:n[a%n.length];return(0,m.jsxs)("div",{className:mt,children:[o?(0,m.jsx)(Re.Z,{span:4,className:yt,children:(0,m.jsx)(g.Z,{justify:"center",align:"center",style:{height:"100%"},children:(0,m.jsx)(se.$1,{projectId:t,color:f,icon:null===i||void 0===i?void 0:i[e.id],optionIndex:a,choiceId:e.id,showIcon:o,isThirdPartyTable:l,enableCustomizedIcon:r,disableCustomColor:d,showProBadge:s,disabled:c,onIconChange:p,onColorChange:u,onUseCustomizeIcon:h})})}):(0,m.jsx)(Re.Z,{className:yt,children:(0,m.jsx)(rt.Z,{disabled:c,className:pt,color:f,onChange:e=>null===u||void 0===u?void 0:u(e,a)})}),(0,m.jsx)(Re.Z,{span:20,className:wt,children:(0,m.jsx)(st.Z,{text:e.name||"",reRender:!0})})]},a)}))})})};function Ot(e){let{field:t,domainFieldName:n,belongsTo:o,onUseCustomizeIcon:a,onIconChange:l}=e;const{projectId:r,layerNode:s,tableNode:d,isThirdPartyTable:c,isPublicLayer:u,quantiles:p,enableCustomizedIcon:v,showProBadge:g,manualUpdate:f}=(0,h.Yg)(),y=(0,q.BC)(t),w=(0,q.S8)(t),b=(0,q.sI)(t),C=(0,q.NU)(t),x=(0,F.$k)("layerType"),I=(0,F.$k)([o,"colors"],[]),{isSingleChoiceColorScheme:j}=Le({belongsTo:o,column:t}),M=(0,F.$k)([o,"fillMethod"]),k=(0,F.$k)([o,"strokeMethod"]),T="outlineConfig"===o?k:M,E=(0,F.$k)(["fillConfig","icons"]),P=(0,F.$k)([o,"_step"]),O="icon"===x,S=(0,i.useMemo)((()=>{var e,n;return(null===t||void 0===t||null===(e=t.typeOptions)||void 0===e?void 0:e.choices)||(null===t||void 0===t||null===(n=t.typeOptions)||void 0===n||null===(n=n.lookupColumnTypeOptions)||void 0===n?void 0:n.choices)||[]}),[t]);function _(e,t){const n=[...I];n[t]=e,f({[o]:{colors:n}})}const N=(0,i.useCallback)((e=>{f({[o]:{thresholds:e}})}),[f,o]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.xJ,{name:["fillConfig","icons"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{name:["fillConfig","_ordinalDomain"],hidden:!0,children:(0,m.jsx)(De.default,{})}),y&&(0,m.jsx)(Pt,{projectId:r,colors:I,icons:E,step:P,showIcon:O,choices:S,isThirdPartyTable:c,enableCustomizedIcon:v,disableCustomColor:j,disabled:!O&&j,showProBadge:g,onColorChange:u?void 0:_,onIconChange:l,onUseCustomizeIcon:a}),(w||C)&&(null===d||void 0===d?void 0:d.id)&&(0,m.jsx)(Et,{belongsTo:o,projectId:r,tableNodeId:d.id,showIcon:O,enableCustomizedIcon:v,colors:I,icons:E,column:t,isThirdPartyTable:c,isUserField:C,onColorChange:_,onIconChange:l,onUseCustomizeIcon:a}),b&&(null===d||void 0===d?void 0:d.id)&&(0,m.jsx)(xt,{projectId:r,field:t,method:T,domainFieldName:n,fieldName:[o,"thresholds"],tableNodeId:d.id,layerNodeId:null===s||void 0===s?void 0:s.id,step:P,colors:I,icons:E,quantiles:t?null===p||void 0===p?void 0:p[null===t||void 0===t?void 0:t.id]:void 0,showIcon:O,enableCustomizedIcon:v,isThirdPartyTable:c,onColorChange:_,onChange:N,onIconChange:l,onUseCustomizeIcon:a})]})}var St=n(74910),_t=n(10485),Nt=n(10560),Dt=n(15288),Lt=n.n(Dt),At=n(68429),Rt=n(16128);const Zt="colorRangeSelector_menu__M0eMu",Ft="colorRangeSelector_disabled__XE5xQ",zt="colorRangeSelector_overlay__1vC4W",Bt="colorRangeSelector_item__xTBt7",Vt="colorRangeSelector_selected__8lc1j",Ht="colorRangeSelector_block__QC9Pu",Wt="colorRangeSelector_iconArraowDown__FGEgZ";function Ut(e,t,n){var i;return n?Lt()(e[t],(e=>[...e].reverse())):null!==(i=e[t])&&void 0!==i?i:e[$.fR]}function Gt(e,t){return Object.keys(e).find((n=>p()(t,e[n])))}function qt(e,t,n){const i=Ut(ne.FA,e,t),o=Gt(i,n);return o?{[o]:i[o]}:{}}function $t(e){const{colors:t,height:n=16,colorKey:i}=e;return t&&t.length?(0,m.jsx)(m.Fragment,{children:t.map(((e,o)=>(0,m.jsx)("span",{"data-color-key":i,style:{backgroundColor:e,width:"".concat(100/(t.length||1),"%"),height:n}},"".concat(e,"_").concat(o))))}):null}const Jt=e=>{let{className:t,disabled:n,onChange:o,colors:a,reverse:l,step:r=7,customColorPalette:s,onColorSchemeChange:d,isSmoothColorPalette:c,colorScheme:u}=e;const p=s||(c?ne.BE:ne.FA),h=qt(r,l,a),v=(0,i.useMemo)((()=>Ut(p,r,l)),[r,l,p]),g=(0,i.useMemo)((()=>{var e;return null!==(e=null!==u&&void 0!==u?u:Gt(I()(v,h),a))&&void 0!==e?e:ne.bT}),[u,v,h,a]),f=(0,i.useRef)(r),y=(0,i.useRef)(l);return(0,i.useEffect)((()=>{f.current!==r&&(null===o||void 0===o||o(v[g]),f.current=r)}),[r,l,a,g,o,v]),(0,i.useEffect)((()=>{y.current!==l&&(Gt(v,a)?null===o||void 0===o||o(v[g],!0):null===o||void 0===o||o([...null!==a&&void 0!==a?a:[]].reverse(),!0),y.current=l)}),[v,a,o,l,g,r]),(0,m.jsx)(Nt.Z,{menu:{className:zt,items:Object.keys(v).map((e=>({key:e,onClick:()=>function(e){null===o||void 0===o||o(v[e]),null===d||void 0===d||d(e,v[e])}(e),className:(0,Ze.default)(Bt,{[Vt]:Gt(v,v[e])===g}),label:(0,m.jsx)("div",{className:Ht,children:c?(0,m.jsx)(Rt.Z,{colorKey:e,colors:v[e]}):(0,m.jsx)($t,{colors:v[e],height:12},e)})})))},trigger:["click"],disabled:n,getPopupContainer:e=>{var t;return null!==(t=e.parentElement)&&void 0!==t?t:e},children:(0,m.jsxs)("div",{className:(0,Ze.default)(Zt,t,{[Ft]:n}),children:[c?(0,m.jsx)(Rt.Z,{colors:a}):(0,m.jsx)($t,{colors:a,height:12}),!n&&(0,m.jsx)("div",{className:Wt,children:(0,m.jsx)(At.Z,{type:"arrowDown"})})]})})};var Qt=n(79246),Kt=n(15610),Yt=n(41352),Xt=n(52788),en=n(43660),tn=n(27371),nn=n(14840),on=n(23705);const an={container:"customColorRangeSelector_container__kShrz",placeholder:"customColorRangeSelector_placeholder__wvJbH",footer:"customColorRangeSelector_footer__x88au",colorItem:"customColorRangeSelector_colorItem__0YpWo",movableIcon:"customColorRangeSelector_movableIcon__M7EH2",removeIcon:"customColorRangeSelector_removeIcon__cxQ6r",colorPicker:"customColorRangeSelector_colorPicker__jsn+s",colorMenu:"customColorRangeSelector_colorMenu__1zBa7",item:"customColorRangeSelector_item__XVytR",selected:"customColorRangeSelector_selected__mwnx0",editIcon:"customColorRangeSelector_editIcon__vT0bJ"},ln=3,rn=11;function sn(e){var t;const{palette:n,onUpdate:o,onSelect:l}=e,r=(0,a.Z)(),[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),h=(0,i.useMemo)((()=>null===n||void 0===n?void 0:n.findIndex((t=>p()(t,e.colors)))),[n,e.colors]),[v,f]=(0,i.useState)([]),y=(0,Kt.Dy)((0,Kt.VT)(Kt.we,{activationConstraint:{distance:5}}));function w(){f([...v,{id:v.length.toString(),color:"#000000"}])}function b(e,t){const n=[...v],i=n.findIndex((e=>e.id===t));n[i].color=e,f(n)}function C(e){const t=v.filter((t=>t.id!==e));f(t)}return(0,m.jsxs)("div",{className:an.container,children:[!(null!==n&&void 0!==n&&n.length)&&(0,m.jsx)("div",{className:an.placeholder,children:r.$t({id:"UI5PmG",defaultMessage:"No custom color available. Click to add custom color."})}),(0,m.jsx)(St.Z,{className:an.colorMenu,items:null===(t=e.palette)||void 0===t?void 0:t.map(((e,t)=>({key:t,onClick:()=>function(e,t){null===l||void 0===l||l(e)}(e),className:(0,Ze.default)(an.item,{[an.selected]:t===h}),label:(0,m.jsxs)(g.Z,{children:[(0,m.jsx)(At.Z,{cursor:"pointer",type:"edit",className:an.editIcon,onClick:e=>{null===e||void 0===e||e.stopPropagation(),function(e){u(e),d(!0),f((null===n||void 0===n?void 0:n[e].map(((e,t)=>({id:t.toString(),color:e}))))||[])}(t)}}),(0,m.jsx)($t,{colors:e,height:12},t),(0,m.jsx)(At.Z,{cursor:"pointer",type:"remove",className:an.removeIcon,onClick:e=>{null===e||void 0===e||e.stopPropagation(),function(e){if(h!==e){if(n){const t=[...n];t.splice(e,1),o(t)}}else tn.ZP.info(r.$t({id:"NzY3zt",defaultMessage:"Please select another color palette before removing this one"}))}(t)}})]})})))}),s?(0,m.jsxs)("div",{children:[(0,m.jsx)(nn.Z,{style:{margin:12}}),(0,m.jsx)(Kt.LB,{sensors:y,collisionDetection:Kt.pE,onDragEnd:function(e){const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=v.findIndex((e=>e.id===t.id)),i=v.findIndex((e=>e.id===n.id)),o=(0,on.Rp)(v,e,i);f(o)}},modifiers:[Yt.DL],children:(0,m.jsx)(Xt.Fo,{items:v,strategy:Xt.qw,children:v.map((e=>(0,m.jsx)(dn,{color:e.color,id:e.id,onChange:b,onDelete:C},e.id)))})}),(0,m.jsx)(g.Z,{justify:"end",children:(0,m.jsx)(Me.ZP,{type:"link",icon:(0,m.jsx)(Qt.Z,{}),onClick:w,disabled:v.length>=rn,children:r.$t({id:"4U2xAX",defaultMessage:"Add color"})})})]}):(0,m.jsx)(g.Z,{justify:"end",children:(0,m.jsx)(Me.ZP,{type:"link",icon:(0,m.jsx)(Qt.Z,{}),onClick:function(){d(!0),w()},children:r.$t({id:"zjrIeW",defaultMessage:"Add custom color"})})}),(0,m.jsx)(g.Z,{justify:"flex-end",gap:"small",className:an.footer,children:s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Me.ZP,{size:"small",type:"text",onClick:function(){f([]),d(!1),u(null)},children:r.$t({id:"47FYwb",defaultMessage:"Cancel"})}),(0,m.jsx)(Me.ZP,{size:"small",type:"primary",onClick:function(){if(n&&Array.isArray(n))if(null!==c){const e=[...n];e[c]=v.map((e=>e.color)),o(e)}else o([...n,v.map((e=>e.color))]);else o([v.map((e=>e.color))]);c===h&&(null===l||void 0===l||l(v.map((e=>e.color)))),f([]),d(!1),u(null)},disabled:v.length<ln,children:r.$t({id:"jvo0vs",defaultMessage:"Save"})})]})})]})}function dn(e){let{color:t,id:n,onChange:i,onDelete:o}=e;const{attributes:a,listeners:l,setNodeRef:r,transform:s,transition:d,setActivatorNodeRef:c,isDragging:u}=(0,Xt.nB)({id:n}),p={transform:en.ux.Transform.toString(s&&{...s,scaleY:1,scaleX:1}),transition:d,zIndex:u?1:void 0};return(0,m.jsxs)(g.Z,{ref:r,style:p,align:"center",className:an.colorItem,children:[(0,m.jsx)("button",{...a,...l,ref:c,className:an.movableIcon,children:(0,m.jsx)(At.Z,{type:"movable",cursor:"grab"})}),(0,m.jsx)(rt.Z,{color:t,onChange:e=>{i(e,n)},className:an.colorPicker}),t,(0,m.jsx)(At.Z,{type:"remove",onClick:()=>{o(n)},cursor:"pointer",className:an.removeIcon})]},n)}const cn={colorBar:"colorBand_colorBar__wpCg+",disabled:"colorBand_disabled__uP9KM",colorRangePanel:"colorBand_colorRangePanel__8KD3w",inside:"colorBand_inside__RTwUe",colorRangeTabs:"colorBand_colorRangeTabs__sh75S",presetColorMenu:"colorBand_presetColorMenu__zEakT",item:"colorBand_item__BgMpL",selected:"colorBand_selected__peB+B"};function un(e){const{colors:t,className:n,disabled:l,customColorPalette:r,isSmoothColorPalette:s,step:d=7,reverse:c,colorScheme:u,enableCustomColor:h,customColors:v,isPopoverInside:f,hideBadge:y,onChange:w,onColorSchemeChange:b,onUpdateCustomColors:C}=e,x=(0,a.Z)(),j=(0,i.useMemo)((()=>r||(s?ne.BE:ne.FA)),[r,s]),M=(0,i.useMemo)((()=>Ut(j,d,c)),[d,c,j]),k=qt(d,c,t),T=(0,i.useMemo)((()=>{var e;return null!==(e=null!==u&&void 0!==u?u:Gt(I()(M,k),t))&&void 0!==e?e:ne.bT}),[u,M,k,t]),E=(0,i.useRef)(d),P=(0,i.useRef)(c),O=(0,i.useCallback)((e=>{null===w||void 0===w||w(M[e]),null===b||void 0===b||b(e,M[e])}),[M,w,b]),S=(0,i.useCallback)((e=>{E.current=e.length,null===w||void 0===w||w(e),null===b||void 0===b||b(e.join(","))}),[w,b]);(0,i.useEffect)((()=>{E.current!==d&&(d>=$.rT&&d<=$._u&&M[T]&&(null===w||void 0===w||w(M[T])),E.current=d)}),[d,c,t,T,w,M]),(0,i.useEffect)((()=>{P.current!==c&&(Gt(M,t)?null===w||void 0===w||w(M[T],!0):null===w||void 0===w||w([...null!==t&&void 0!==t?t:[]].reverse(),!0),P.current=c)}),[M,t,w,c,T,d]);const _=(0,i.useMemo)((()=>null!==v&&void 0!==v&&v.some((e=>p()(e,t)))?"custom":"preset"),[t,v]),N=(0,i.useMemo)((()=>(0,m.jsx)(o.Z,{className:cn.colorRangeTabs,defaultActiveKey:_,items:[{key:"preset",label:x.$t({id:"FC2h14",defaultMessage:"Preset color"}),children:(0,m.jsx)(St.Z,{className:cn.presetColorMenu,items:Object.keys(M).map((e=>({key:e,onClick:()=>O(e),className:(0,Ze.default)(cn.item,{[cn.selected]:Gt(M,M[e])===T}),label:(0,m.jsx)(g.Z,{children:s?(0,m.jsx)(Rt.Z,{colorKey:e,colors:M[e]}):(0,m.jsx)($t,{colorKey:e,colors:M[e],height:12},e)})})))})},{key:"custom",label:(0,m.jsxs)(g.Z,{justify:"center",align:"center",style:{lineHeight:1.1},children:[x.$t({id:"H1pTIh",defaultMessage:"Custom color"}),!y&&(0,m.jsx)(pe.Z,{text:"Ent"})]}),children:(0,m.jsx)(sn,{onSelect:S,onUpdate:C,palette:v,colors:t})}]})),[M,O,S,x,s,C,T,v,t,_,y]);return h&&!l?(0,m.jsx)(_t.Z,{content:N,trigger:["click"],placement:"bottom",classNames:{root:(0,Ze.default)(cn.colorRangePanel,{[cn.inside]:f})},getPopupContainer:f?e=>{var t;return null!==(t=e.parentElement)&&void 0!==t?t:e}:void 0,children:(0,m.jsx)("div",{className:(0,Ze.default)(cn.colorBar,n,{[cn.disabled]:l}),children:(0,m.jsx)($t,{colors:t,height:12})})}):(0,m.jsx)(Jt,{className:n,disabled:l,step:d,colors:t,reverse:c,customColorPalette:r,onChange:w,colorScheme:u,onColorSchemeChange:b})}function pn(e){const{field:t,belongsTo:n,customColorPalette:o,enableScale:l,enableCustomColor:r,hidden:s=!1,className:d,label:c}=e,{tableNode:u,manualUpdate:v,form:g,isLoading:f,customColors:y,isFeishuDashboard:w,onUpdateCustomColors:b}=(0,h.Yg)(),{isSingleChoiceColorScheme:C,applySingleChoiceColor:x,applySchemeColor:I}=Le({belongsTo:n,column:t}),{applayStringColor:j,applySchemeColor:M,exceededMaxLength:k}=Tt({belongsTo:n,column:t}),T=(0,i.useRef)(t),P=(0,F.$k)([n,"colors"],[]),O=(0,F.$k)([n,"reverse"],!1),S=(0,F.$k)([n,"colorScheme"]),_=(0,F.$k)([n,"_step"],$.fR),N=(0,q.BC)(t),L=(0,a.Z)(),A=(0,i.useMemo)((()=>{var e,n;return(null===t||void 0===t||null===(e=t.typeOptions)||void 0===e?void 0:e.choices)||(null===t||void 0===t||null===(n=t.typeOptions)||void 0===n||null===(n=n.lookupColumnTypeOptions)||void 0===n?void 0:n.choices)||[]}),[t]),R=(0,i.useMemo)((()=>{const e=(0,q.S8)(t),n=(0,q.NU)(t);return e||n}),[t]),Z=(0,i.useMemo)((()=>C?L.$t(ve.singleChoiceColorTooltip):R&&k?L.$t(ve.stringExceedColorTooltip):void 0),[k,L,C,R]),z=(0,i.useCallback)(((e,t)=>{N&&!C?I(e,t):R?M(e,t):v({[n]:{colorScheme:e}})}),[N,C,R,I,M,v,n]),B=(0,i.useCallback)((e=>{const t=g.getFieldValue([n,"colors"]);p()(e,t)||D()(e)||N||R||v({[n]:{colors:e,_step:e.length}})}),[n,g,N,R,v]),V=(0,i.useCallback)((e=>{null===b||void 0===b||b(e)}),[b]);return(0,i.useEffect)((()=>{var e;if((null===(e=T.current)||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id))return;if(f)return;const i=g.getFieldValue([n,"colors"]);if(t){var o;const{colors:e,colorScheme:a}=(0,ne.BK)($.fR),l=T.current&&(null===(o=T.current)||void 0===o?void 0:o.type)!==t.type||(null===i||void 0===i?void 0:i.length)<$.rT||(null===i||void 0===i?void 0:i.length)>$._u?e:i;if(N)I(void 0,void 0,!0);else if(R){const t=(null===i||void 0===i?void 0:i.length)>1?i:e;j(t)}else{const e={[n]:{method:"quantile",colors:l,_step:l.length,colorScheme:a}};v(e)}T.current=t}else v({[n]:{colors:[E()(i,"[0]")]}}),T.current=void 0}),[n,R,N,t,g,f,C,j,I,v]),(0,i.useEffect)((()=>{T.current=t}),[t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ge.Z,{name:[n,"colors"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(ge.Z,{name:[n,"colorScheme"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsxs)(ge.Z,{label:null!==c&&void 0!==c?c:L.$t(ve.color),tooltip:Z,hidden:s,children:[(0,m.jsx)(ge.Z,{hidden:!N,children:(0,m.jsx)(re.ZP.Group,{value:C,onChange:function(e){e.target.value?x():I()},style:{display:"flex",flexDirection:"column",gap:4},options:[{value:!0,label:L.$t({id:"mQmXbE",defaultMessage:"Use colors from field"})},{value:!1,label:L.$t({id:"g6tGEo",defaultMessage:"Use color scheme"})}]})}),l&&u?(0,m.jsx)(un,{className:d,enableCustomColor:r,disabled:C,step:C?A.length:_,colors:P,reverse:!C&&O,customColorPalette:o,onChange:C?void 0:B,colorScheme:S,onColorSchemeChange:C?void 0:z,customColors:y,isPopoverInside:w,hideBadge:w,onUpdateCustomColors:V}):(0,m.jsx)(rt.Z,{color:E()(P,"[0]"),onChange:e=>{B([e])}})]})]})}function hn(e){let{field:t,belongsTo:n,hidden:o}=e;const l=(0,a.Z)(),r=(0,i.useMemo)((()=>[n,"_step"]),[n]),{isSingleChoiceColorScheme:s}=Le({belongsTo:n,column:t}),d=(0,q.S8)(t),c=s||d;return(0,m.jsx)(se.xJ,{label:l.$t(ve.steps),name:r,hidden:o,tooltip:c?l.$t(ve.nonNumericTooltip):void 0,children:(0,m.jsx)(de.Ph,{disabled:c,"data-testid":"color-number-selector",getPopupContainer:e=>e.parentNode,options:ne.wn.map((e=>({label:e,value:e})))})})}function vn(e){let{name:t,field:n,enableCustomize:o,...l}=e;const r=(0,a.Z)(),{isLoading:s,isDynamicLoadData:d,manualUpdate:c}=(0,h.Yg)(),u=(0,i.useRef)(null===n||void 0===n?void 0:n.id),p=(0,F.$k)(t),v=(0,i.useMemo)((()=>{const e=(0,q.BC)(n),t=(0,q.S8)(n),i=(0,q.NU)(n);return e||t||i}),[n]),g=(0,i.useMemo)((()=>[...v?[{id:"ordinal",label:r.$t({id:"XPruqs",defaultMessage:"Order"})}]:[],{id:"quantile",label:r.$t({id:"ZFT9MH",defaultMessage:"Quantile"})},{id:"quantize",label:r.$t({id:"XLcCrG",defaultMessage:"Linear"})},...o?[{id:"customize",label:r.$t({id:"Sjo1P4",defaultMessage:"Custom"})}]:[]].filter((e=>!d||"quantile"!==e.id))),[v,d,o,r]);return(0,F.mG)(g,t,"quantize"),(0,i.useEffect)((()=>{!s&&null!==n&&void 0!==n&&n.id&&u.current!==(null===n||void 0===n?void 0:n.id)&&(c(t,v?"ordinal":"ordinal"!==p&&p?p:"quantize"),u.current=null===n||void 0===n?void 0:n.id)}),[v,null===n||void 0===n?void 0:n.id,s,c,t,p]),(0,m.jsx)(se.xJ,{name:t,label:r.$t(ve.scale),tooltip:v?r.$t(ve.nonNumericTooltip):void 0,...l,children:(0,m.jsx)(de.Ph,{disabled:v,"data-testid":"color-scale-selector",getPopupContainer:e=>e.parentNode,children:g.map((e=>(0,m.jsx)(de.Ph.Option,{value:e.id,children:e.label},e.id)))})})}function gn(e){let{name:t,field:n,...o}=e;const l=(0,a.Z)(),r=(0,i.useMemo)((()=>{const e=(0,q.S8)(n),t=(0,q.NU)(n),i=(0,q.BC)(n);return e||t||i}),[n]);return(0,m.jsx)(se.ge,{name:t,label:l.$t(ve.reverse),disabled:r,...o,tooltip:r?l.$t(ve.nonNumericTooltip):void 0})}var fn=n(95436);function mn(e){let{name:t,label:n,range:o,rangeName:l,min:r,max:s}=e;const d=(0,a.Z)(),{manualUpdate:c}=(0,h.Yg)(),u=(0,F.$k)(l),p=(0,F.$k)(["radiusConfig","fixedToMeter"]),v=(0,i.useCallback)((e=>{c(l,e)}),[c,l]);return(0,m.jsx)(se.iR,{name:t,label:null!==n&&void 0!==n?n:d.$t(ve.radius),rangeName:l,min:null!==r&&void 0!==r?r:fn.z3,max:null!==s&&void 0!==s?s:p?fn.My:fn.Cq,range:o,rangeValue:u,onRangeChange:v})}function yn(e){let{name:t,...n}=e;const i=(0,a.Z)();return(0,m.jsx)(se.xJ,{name:t,label:i.$t(ve.aggregation),...n,children:(0,m.jsx)(de.Ph,{getPopupContainer:e=>e.parentNode,options:[{label:i.$t({id:"YYkniy",defaultMessage:"Sum"}),value:"sum"},{label:i.$t({id:"gYB2lt",defaultMessage:"Mean"}),value:"mean"},{label:i.$t({id:"kkjl2v",defaultMessage:"Max"}),value:"max"},{label:i.$t({id:"A4AHkc",defaultMessage:"Min"}),value:"min"},{label:i.$t({id:"WrSL3+",defaultMessage:"Median"}),value:"median"}]})})}var wn=n(4285),bn=n(47752),Cn=n(20053);const xn={selector:"labelField_selector__sR7H0",addBtn:"labelField_addBtn__SPQaC",icon:"labelField_icon__kKQTx",active:"labelField_active__AzB2X"},In=5;function jn(e){let{disabled:t,hiddenInteractiveActions:n}=e;const o=(0,a.Z)(),{manualUpdate:l,labelFields:r}=(0,h.Yg)(),s=(0,F.$k)("labelFieldID"),d=(0,F.$k)("extraLabelFieldIDs",[]),c=(0,F.$k)(["labelConfig","items"],[]),u=(0,i.useMemo)((()=>(C()(s)?[]:[s,...d]).map(((e,t)=>{var n,i,o,a;return{id:e,key:t,hiddenLabel:null!==(n=null===c||void 0===c||null===(i=c[t])||void 0===i?void 0:i.hiddenLabel)&&void 0!==n&&n,hiddenTooltip:null!==(o=null===c||void 0===c||null===(a=c[t])||void 0===a?void 0:a.hiddenTooltip)&&void 0!==o&&o}}))),[s,d,c]),p=(0,Kt.Dy)((0,Kt.VT)(Kt.we,{activationConstraint:{distance:5}})),v=(0,i.useCallback)((()=>{var e,t;const n=null!==(e=null===(t=_()(r))||void 0===t?void 0:t.id)&&void 0!==e?e:"";if(u.length>=In)return;if(!u.length)return void l({labelFieldID:n,extraLabelFieldIDs:[]});const i=[...u,{id:n}];l({labelFieldID:i[0].id,extraLabelFieldIDs:i.slice(1).map((e=>e.id))})}),[u,r,l]),f=(0,i.useCallback)((e=>{const{active:t,over:n}=e;if(n&&t.id!==n.id){const e=u.findIndex((e=>e.key===t.id)),i=u.findIndex((e=>e.key===n.id)),o=(0,Xt.Rp)(u,e,i),a=(0,Xt.Rp)(c,e,i);l({labelFieldID:o[0].id,extraLabelFieldIDs:o.slice(1).map((e=>e.id)),labelConfig:{items:a}})}}),[u,c,l]),y=(0,i.useCallback)((e=>{const t=u.filter(((t,n)=>n!==e)),[n,...i]=t.map((e=>e.id)),o=[...c];o.splice(e,1),l({labelFieldID:n,extraLabelFieldIDs:i,labelConfig:{items:o}})}),[u,c,l]),w=(0,i.useCallback)(((e,n,i,o)=>{var a,r,s,d;if(t)return;const p=u.map(((t,i)=>i===e?{...t,id:n}:t)),h=[...c];h[e]={hiddenLabel:null!==(a=null!==i&&void 0!==i?i:null===(r=h[e])||void 0===r?void 0:r.hiddenLabel)&&void 0!==a&&a,hiddenTooltip:null!==(s=null!==o&&void 0!==o?o:null===(d=h[e])||void 0===d?void 0:d.hiddenTooltip)&&void 0!==s&&s},l({labelFieldID:p[0].id,extraLabelFieldIDs:p.slice(1).map((e=>e.id)),labelConfig:{items:h}})}),[u,c,t,l]),b=(0,i.useMemo)((()=>u.map((e=>e.key))),[u]);return(0,m.jsxs)(se.xJ,{label:o.$t({id:"dSSiSj",defaultMessage:"Display label"}),children:[(0,m.jsx)(se.xJ,{name:"labelFieldID",hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{name:"extraLabelFieldIDs",hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{name:["labelConfig","items"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(Kt.LB,{sensors:p,collisionDetection:Kt.pE,onDragEnd:f,modifiers:[Yt.DL],children:(0,m.jsx)(Xt.Fo,{id:"key",strategy:Xt.qw,items:b,disabled:t,children:u.map((e=>(0,m.jsx)(Mn,{item:e,hiddenInteractiveActions:n,onDelete:y,onUpdate:w},e.key)))})}),u.length<In?(0,m.jsx)(g.Z,{justify:"end",children:(0,m.jsx)(Me.ZP,{disabled:t,type:"text",size:"small",onClick:v,className:xn.addBtn,"data-testid":"addLabelField",children:o.$t({id:"kRcjv4",defaultMessage:"Add a field"})})}):null]})}function Mn(e){let{item:t,disabled:n,hiddenInteractiveActions:o,onUpdate:l,onDelete:r}=e;const{labelFields:s}=(0,h.Yg)(),d=(0,a.Z)(),{attributes:c,listeners:u,setNodeRef:p,setActivatorNodeRef:v,transform:f,transition:y,isDragging:w}=(0,Xt.nB)({id:t.key}),b={transform:en.ux.Transform.toString(f&&{...f,scaleY:1,scaleX:1}),transition:y,zIndex:w?1:void 0},C=(0,i.useMemo)((()=>null===s||void 0===s?void 0:s.map((e=>({...e,tooltip:e.name})))),[s]);return(0,m.jsxs)(g.Z,{ref:p,className:xn.selector,justify:"space-between",gap:4,align:"center",style:b,children:[(0,m.jsx)("button",{...c,...u,ref:v,className:xn.movableIcon,type:"button",children:(0,m.jsx)(At.Z,{type:"movable",cursor:"move"})}),(0,m.jsx)(be.Z,{value:t.id,disabled:n,onChange:e=>null===l||void 0===l?void 0:l(t.key,e),placeholder:d.$t({id:"jVROrq",defaultMessage:"Select label field"}),options:C,showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{var n,i;return(null!==(n=null===t||void 0===t||null===(i=t.props)||void 0===i?void 0:i.name)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}}),!o&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(bn.Z,{title:d.$t({id:"0JnTWB",defaultMessage:"To display this field instantly on map"}),destroyOnHidden:!0,mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,m.jsx)("div",{className:(0,Ze.default)(xn.icon,{[xn.active]:!t.hiddenLabel}),onClick:()=>null===l||void 0===l?void 0:l(t.key,t.id,!t.hiddenLabel),children:(0,m.jsx)(Cn.Z,{})})}),(0,m.jsx)(bn.Z,{title:d.$t({id:"4+DO6v",defaultMessage:"To display this field on hover"}),destroyOnHidden:!0,mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,m.jsx)("div",{className:(0,Ze.default)(xn.icon,{[xn.active]:!t.hiddenTooltip}),onClick:()=>null===l||void 0===l?void 0:l(t.key,t.id,t.hiddenLabel,!t.hiddenTooltip),children:(0,m.jsx)(At.Z,{type:"cursorClick"})})})]}),(0,m.jsx)(Nt.Z,{trigger:["click"],menu:{items:[{key:"delete",disabled:n,label:d.$t({id:"K3r6DQ",defaultMessage:"Delete"}),danger:!0,onClick:()=>{null===r||void 0===r||r(t.key)}}]},children:(0,m.jsx)(At.Z,{type:"ellipse",cursor:"pointer"})})]},t.key)}function kn(e){let{disabled:t=!1}=e;const n=(0,a.Z)(),i=(0,F.$k)("labelFieldID"),o=(0,F.$k)(["labelConfig","fillColor"]),l=(0,F.$k)(["labelConfig","strokeColor"]);return(0,m.jsxs)(se.gt,{title:n.$t(ve.label),testId:"layersetting-label",children:[(0,m.jsx)(jn,{disabled:t}),(0,m.jsxs)("div",{style:{width:"100%"},className:(0,Ze.default)({hide:!i}),children:[(0,m.jsx)(se.ge,{name:["labelConfig","collisionDisabled"],label:n.$t(ve.collision)}),(0,m.jsx)(se.xJ,{name:["labelConfig","fillColor"],label:n.$t(ve.fontColor),children:(0,m.jsx)(rt.Z,{color:o})}),(0,m.jsx)(se.xJ,{name:["labelConfig","fontSize"],label:n.$t(ve.fontSize),children:(0,m.jsx)(de.Ph,{options:new Array(21).fill(0).map(((e,t)=>({label:10+t,value:10+t}))),"data-testid":"fontsize-selector"})}),(0,m.jsx)(wn.u,{}),(0,m.jsx)(se.iR,{name:["labelConfig","strokeWeight"],label:n.$t(ve.strokeSize),min:0,max:5}),(0,m.jsx)(se.xJ,{name:["labelConfig","strokeColor"],label:n.$t(ve.strokeColor),children:(0,m.jsx)(rt.Z,{color:l})})]})]})}var Tn=n(30731);function En(e,t){const n=(0,F.$k)(e);return(0,i.useMemo)((()=>n?null===t||void 0===t?void 0:t.find((e=>e.id===n)):void 0),[t,n])}function Pn(e){let{belongsTo:t,customColorPalette:n,className:i}=e;const{manualUpdate:o}=(0,h.Yg)(),a=(0,F.$k)([t,"colors"],[]),l=(0,F.$k)([t,"_step"],$.fR),r=(0,F.$k)([t,"reverse"],!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.xJ,{name:[t,"colors"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{children:(0,m.jsx)(Jt,{isSmoothColorPalette:!0,customColorPalette:n,step:l,colors:a,reverse:r,className:i,onChange:function(e,n){p()(e,a)&&!n||!a||o({[t]:{colors:e}})}})})]})}function On(e,t,n){switch(e){case"group":return"single"===n?"folderSingle":"folder";case"map":return"layer";case"bigTable":return"subscribed"===t||"connected"===t?"bigTableSubscribed":"published"===t?"bigTablePublished":"bigTable";case"table":return"subscribed"===t||"connected"===t?"tableSubscribed":"published"===t?"tablePublished":"table";default:return"table"}}var Sn=n(10925);const _n="tableNodeSelector_icon__CzfCm";const Nn=function(e){let{tableNodes:t=[],testID:n,onChange:o,...l}=e;const r=(0,a.Z)(),s=(0,i.useMemo)((()=>ot()(t,"order").filter((e=>"group"!==e.type)).map((e=>({value:e.id,name:e.name,label:(0,m.jsxs)(g.Z,{align:"center",gap:2,children:[e.type&&(0,m.jsx)(At.Z,{type:On(e.type,null===e||void 0===e?void 0:e.mode),className:_n}),(0,m.jsx)(Sn.Z.Text,{title:e.name,ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.name,destroyOnHidden:!0,placement:"right"}},children:e.name})]})})))),[t]);return(0,m.jsx)(me.Select,{placeholder:r.$t({id:"V+H9i6",defaultMessage:"Select a table"}),onChange:o,"data-testid":n,showSearch:!0,optionFilterProp:"name",options:s,...l})};function Dn(e){let{tableNodes:t,disabled:n,onChange:i}=e;const{isVectorTile:o,readonly:l}=(0,h.Yg)(),r=(0,F.$k)("layerType"),s=(0,a.Z)();return(0,m.jsx)(se.xJ,{name:"tableNodeID",label:s.$t(ve.dataSource),tooltip:{title:o?s.$t({id:"GUHwnm",defaultMessage:'Vector tiles do not support modifications to data sources. To update, please click the "Regenerate" button or recreate the layer.'}):s.$t({id:"2v6r1D",defaultMessage:"Select a table as the source of map layer"}),icon:(0,m.jsx)(At.Z,{type:"info"})},rules:[{required:!0,message:s.$t({id:"Oc3TkA",defaultMessage:"Please select a table"})}],children:(0,m.jsx)(Nn,{placeholder:s.$t({id:"Oc3TkA",defaultMessage:"Please select a table"}),testID:"data-selector","data-no-options":!(null!==t&&void 0!==t&&t.length),getPopupContainer:e=>e.parentNode,disabled:n||!(null!==t&&void 0!==t&&t.length)||"h3Tile"===r||o||l,tableNodes:t,onChange:i})})}var Ln=n(20935);const An={selector:"viewIDField_selector__dgVc6"};function Rn(e){let{viewOptions:t,label:n,disabled:i}=e;const o=(0,a.Z)(),{isVectorTile:l,isThirdPartyTable:r,readonly:s}=(0,h.Yg)(),d=(0,F.$k)("layerType");return(0,m.jsx)(ge.Z,{name:"viewID",label:n||o.$t(ve.tableView),tooltip:{title:l&&r?o.$t({id:"GUHwnm",defaultMessage:'Vector tiles do not support modifications to data sources. To update, please click the "Regenerate" button or recreate the layer.'}):o.$t({id:"x9ColX",defaultMessage:"Select a table view to filter map data"}),icon:(0,m.jsx)(At.Z,{type:"info"})},rules:[{message:o.$t({id:"pB+a/6",defaultMessage:"Please select a table view"})}],children:(0,m.jsx)(Ln.Z,{allowClear:!0,showSearch:!0,className:An.selector,viewOptions:t,filterOption:(e,t)=>{var n;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||!1},placeholder:o.$t({id:"pB+a/6",defaultMessage:"Please select a table view"}),disabled:"h3Tile"===d||l&&r||s||i,testID:"view-selector"})})}const Zn={item:"fieldWithAggregation_item__8avvB",itemInner:"fieldWithAggregation_itemInner__m1TVN",field:"fieldWithAggregation_field__BLL3E",option:"fieldWithAggregation_option__iN8cD",fieldName:"fieldWithAggregation_fieldName__1nrYp",agg:"fieldWithAggregation_agg__-gACD"};function Fn(e){const{label:t,fields:n,name:o,aggMethodName:l,className:r,disabledMethods:s=["nonEmptyCount"]}=e,d=(0,a.Z)(),c=(0,F.$k)(o),u=n.find((e=>e.id===c)),p=(0,i.useMemo)((()=>{const e=[{value:"count",label:d.$t({id:"Aujn2T",defaultMessage:"Count"})},{value:"nonEmptyCount",label:d.$t({id:"lfqiWH",defaultMessage:"Non-Empty Count"})},{value:"sum",label:d.$t({id:"YYkniy",defaultMessage:"Sum"})},{value:"mean",label:d.$t({id:"gYB2lt",defaultMessage:"Mean"})},{value:"median",label:d.$t({id:"WrSL3+",defaultMessage:"Median"})},{value:"max",label:d.$t({id:"kkjl2v",defaultMessage:"Max"})},{value:"min",label:d.$t({id:"A4AHkc",defaultMessage:"Min"})}];return c===L.N?[e[0]]:"multiLineText"===(null===u||void 0===u?void 0:u.type)?e.slice(0,2):null===e||void 0===e?void 0:e.filter((e=>!(null!==s&&void 0!==s&&s.includes(e.value))))}),[c,d,s,null===u||void 0===u?void 0:u.type]);return(0,m.jsx)("div",{className:(0,Ze.default)(Zn.item,r),children:(0,m.jsx)("div",{className:Zn.itemInner,children:(0,m.jsxs)(se.xJ,{label:t,children:[(0,m.jsx)(Ne,{name:o,noStyle:!0,allowClear:!1,options:n,placeholder:d.$t({id:"pQB0tM",defaultMessage:"Select a number field"})}),(0,m.jsx)(se.xJ,{noStyle:!0,name:l,children:(0,m.jsx)(de.Ph,{className:Zn.agg,styles:{popup:{root:{width:"fit-content"}}},suffixIcon:null,variant:"borderless",children:p.map((e=>(0,m.jsx)(de.Ph.Option,{children:e.label},e.value)))})})]})})})}n(57830),n(67661),n(76592),n(81987),n(20491),n(9217),n(93707);n(84377);n(54034);var zn=n(67118),Bn=n(77022),Vn=n(42015),Hn=n(36441),Wn=n(32578);const Un="regionSelect_selectSuffixIcon__bVTg-",Gn=e=>{let{maxLevel:t=2,disableWorld:n=!1,hideChina:o=!1,placeholder:l,useWBVersion:r,value:s,onChange:d,onSelect:c}=e;const{data:u,isLoading:p}=(0,Wn.Z)("getWorldIndexData/RegionSelect",(async()=>await(0,Vn.y0)())),h=(0,i.useMemo)((()=>{if(p||!u)return;const e={};return Vn.hW.forEach((t=>{if("world"===t.value)return;const n=u[t.value][0],i=u[t.value][1];"china"===t.value?e[t.value]={admin1:n.filter((e=>e.id!==Hn.q)),admin2:i}:e[t.value]={admin1:n}})),e}),[u,p]),v=(0,a.Z)(),g=(0,i.useMemo)((()=>C()(r)?"zh-CN"===v.locale?"world/cas":"world/wb":r?"world/wb":"world/cas"),[v.locale,r]),f=(0,i.useCallback)(((e,t,n,i)=>{var o;const a=null===(o=e.admin1)||void 0===o||null===(o=o.map((n=>{const i={value:n.id,title:"zh-CN"===v.locale?n.name_zh:n.name_en,icon:(0,m.jsx)(Bn.Z,{}),children:[]};if(2===t)return i;if(3===t&&e.admin2){const t=e.admin2.filter((e=>e.parentId===n.id))||[];i.children=t.map((e=>({value:e.id,title:"zh-CN"===v.locale?e.name_zh:e.name_en,icon:(0,m.jsx)(Bn.Z,{})})))}return i})))||void 0===o?void 0:o.sort(((e,t)=>{var n,i,o;return null===(n=e.title)||void 0===n||null===(i=n.localeCompare)||void 0===i?void 0:i.call(n,null!==(o=t.title)&&void 0!==o?o:"")}));return null===a||void 0===a||a.forEach((e=>{var t;i[e.value]=n,null===(t=e.children)||void 0===t||t.forEach((e=>{var t;e.value&&(i[e.value]=n),null!==(t=e.children)&&void 0!==t&&t.length&&e.children.forEach((e=>{e.value&&(i[e.value]=n)}))}))})),a}),[v]),y=(0,i.useCallback)(((e,t)=>{let i=[];const a={};return!e||p?{treeData:[],idCountryMap:a}:(t>0&&(Vn.hW.forEach((n=>{if("world"===n.value)return;if(o&&"china"===n.value)return;const l=1===t||Vn.HC.includes(n.value);i.push({value:n.value,title:v.$t(n.label),icon:(0,m.jsx)(Bn.Z,{}),children:l?[]:f(e[n.value],t,n.value,a)})})),i=ot()(i,(e=>e.title))),{treeData:[{value:g,title:v.$t({id:"l0JOR7",defaultMessage:"World (by country)"}),icon:(0,m.jsx)(Bn.Z,{}),disabled:n},...i],idCountryMap:a})}),[v,g,p,n,o,f]),{treeData:w,idCountryMap:b}=(0,i.useMemo)((()=>y(h,t)),[h,y,t]);return(0,m.jsx)(zn.Z,{value:s,treeLine:!0,showSearch:!0,suffixIcon:(0,m.jsx)(At.Z,{type:"caretBottom",className:Un}),treeDefaultExpandedKeys:s?[s,g]:[g],treeData:w,placeholder:l,filterTreeNode:(e,t)=>{var n;return(null===(n=t.title)||void 0===n?void 0:n.toString().toLowerCase().includes(e.toLowerCase()))||!1},onChange:function(e){null===d||void 0===d||d(e),e.startsWith("world")?null===c||void 0===c||c(e,0):Vn.hW.some((t=>t.value===e))?null===c||void 0===c||c(e,1,e):null===c||void 0===c||c(e,2,b[e])}})};function qn(e){let{disableCoordinateDimension:t}=e;const n=(0,a.Z)();return(0,m.jsx)(se.xJ,{name:["regionConfig","dimension"],children:(0,m.jsxs)(re.ZP.Group,{children:[(0,m.jsxs)(re.ZP,{value:"region",children:[n.$t({id:"hA4QDw",defaultMessage:"Admin area name"}),(0,m.jsx)(bn.Z,{title:n.$t({id:"b3cd74",defaultMessage:"Select a field from tables that represents the state, city and district name to aggregate data based on the same field values."}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),(0,m.jsxs)(re.ZP,{value:"coordinate",disabled:t,children:[n.$t({id:"rip8AS",defaultMessage:"Location field"}),(0,m.jsx)(bn.Z,{title:n.$t({id:"O1PcVX",defaultMessage:"Select a location field from tables to aggregate data based on actual coordinates."}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),(0,m.jsxs)(re.ZP,{value:"lng-lat",disabled:t,children:[n.$t({id:"wQaCBb",defaultMessage:"Lat-Lng"}),(0,m.jsx)(bn.Z,{title:n.$t({id:"gxi732",defaultMessage:"Select two numeric fields from the table to use as longitude and latitude."}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),(0,m.jsxs)(re.ZP,{value:"wkt",disabled:t,children:[n.$t({id:"OcwfnK",defaultMessage:"WKT"}),(0,m.jsx)(bn.Z,{title:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"03p7Vj",defaultMessage:"Layer require a WKT text field. <a>See the help guide for details.</a>"}),link:"coordinateType"}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]})]})})}var $n=n(55519);const Jn={folder:"regionLocation_folder__w0pAY"};function Qn(e){let{name:t,testID:n,label:i,options:o,placeholder:l,required:r,...s}=e;const d=(0,a.Z)();return(0,m.jsx)(se.xJ,{name:t,label:i,...s,children:(0,m.jsx)(be.Z,{placeholder:null!==l&&void 0!==l?l:d.$t({id:"f2pRcj",defaultMessage:"Please select a field"}),options:o,allowClear:!0,testID:null!==n&&void 0!==n?n:"".concat(t,"-selector"),showSearch:!0,optionFilterProp:"children",filterOption:(e,t)=>{var n,i;return(null!==(n=null===t||void 0===t||null===(i=t.props)||void 0===i?void 0:i.name)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}function Kn(e){let{aggregateBy:t,dimensionFields:n,regionInfo:o,hideSpecificField:l=!1}=e;const r=(0,a.Z)();(0,i.useMemo)((()=>"admin1"===t?r.$t({id:"fGWSMb",defaultMessage:"Fill a State or Province field"}):"admin3"===t?r.$t({id:"ntJ3/w",defaultMessage:"Optional. Fill a State or Province field to increase matching accuracy when Cities have the same name"}):r.$t({id:"Hm1UPJ",defaultMessage:"Optional. Fill a State or Province field to increase matching accuracy when Counties have the same name"})),[r,t]),(0,i.useMemo)((()=>"admin2"===t?r.$t({id:"D63Qg2",defaultMessage:"Fill a County field"}):"admin3"===t?r.$t({id:"mN0iMM",defaultMessage:"Optional. Fill a county field to increase matching accuracy when Cities have the same name"}):r.$t({id:"IAu45f",defaultMessage:"Optional. Fill a County field to drill down"})),[r,t]),(0,i.useMemo)((()=>"admin3"===t?r.$t({id:"e64R2F",defaultMessage:"Fill a City field"}):r.$t({id:"mQYJtH",defaultMessage:"Optional. Fill a City field to drill down"})),[r,t]);return(0,m.jsx)(m.Fragment,{children:o.isWorld?(0,m.jsx)(Qn,{required:!0,rules:[{required:!0,message:r.$t({id:"f2pRcj",defaultMessage:"Please select a field"})}],name:"regionDimensionFieldID",options:n,placeholder:r.$t({id:"tkZzBx",defaultMessage:"Fill a Country field"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Qn,{name:"regionDimensionFieldID",options:n,rules:[{required:!0,message:r.$t({id:"f2pRcj",defaultMessage:"Please select a field"})}]}),!l&&(0,m.jsx)($n.g,{className:Jn.folder,children:(0,m.jsx)(Qn,{label:r.$t({id:"JMqEEr",defaultMessage:"Enhance matching accuracy (opt)"}),tooltip:r.$t({id:"6Z6DHy",defaultMessage:"Optional. Fill a State or Province field can increase matching accuracy when Counties or Cities have the same name."}),name:"specifyByFieldID",options:n})})]})})}function Yn(e){let{dimension:t,aggregateBy:n,regionInfo:o}=e;const{locationFields:l,coordinateFields:r,dimensionFields:s=[],numberFields:d,textCoordinateFields:c}=(0,h.Yg)(),u=(0,a.Z)(),p=(0,i.useMemo)((()=>"region"===t?s:"lng-lat"===t?d:"wkt"===t?c:"coordinate"===t?l:r),[t,s,d,c,r,l]);return(0,m.jsx)(m.Fragment,{children:"region"===t?(0,m.jsx)(Kn,{aggregateBy:n,dimensionFields:s,regionInfo:o}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.xJ,{name:"regionDimensionFieldID",rules:[{required:!0,message:u.$t({id:"f2pRcj",defaultMessage:"Please select a field"})}],children:(0,m.jsx)(be.Z,{placeholder:"lng-lat"===t?u.$t({id:"eArEnK",defaultMessage:"Please select a longitude field"}):u.$t({id:"f2pRcj",defaultMessage:"Please select a field"}),options:p,notFoundContent:(0,m.jsx)(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"/eyuGy",defaultMessage:"No available field. Use others coordinate types for alternatives or <a>learn more how to create an available field.</a>"}),link:"coordinateType"})})})}),(0,m.jsx)(se.xJ,{name:"latitudeFieldID",hidden:"lng-lat"!==t,rules:[{required:"lng-lat"===t,message:u.$t({id:"f2pRcj",defaultMessage:"Please select a field"})}],children:(0,m.jsx)(be.Z,{options:d,placeholder:u.$t({id:"AinS8V",defaultMessage:"Please select a latitude field"}),notFoundContent:(0,m.jsx)(fe.Z,{image:fe.Z.PRESENTED_IMAGE_SIMPLE,description:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"/eyuGy",defaultMessage:"No available field. Use others coordinate types for alternatives or <a>learn more how to create an available field.</a>"}),link:"coordinateType"})})})})]})})}var Xn=n(74922),ei=n(3516);const ti="baseSelector_labelWithIcon__wcZlu",ni="baseSelector_linkIcon__goVk6",ii=e=>{let{layerType:t}=e;const n=(0,a.Z)(),{setBaseToken:o,baseToken:l,baseList:r,env:s}=(0,ei.VO)(),d=(0,i.useCallback)((e=>{e&&window.open(e,"_blank","noopener,noreferrer")}),[]),c=(0,i.useMemo)((()=>(null===r||void 0===r?void 0:r.map((e=>({label:(0,m.jsxs)("div",{className:ti,children:[(0,m.jsx)(Sn.Z.Text,{title:e.name,ellipsis:{tooltip:{title:e.name,destroyOnHidden:!0,mouseEnterDelay:.5}},children:e.name}),(0,m.jsx)(bn.Z,{title:n.$t({id:"QCAds0",defaultMessage:"Open Base in new tab"}),children:(0,m.jsx)("span",{onClick:t=>{t.stopPropagation(),d(e.url)},className:ni,children:(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,m.jsx)("path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"}),(0,m.jsx)("path",{d:"m21 3-9 9"}),(0,m.jsx)("path",{d:"M15 3h6v6"})]})})})]}),value:e.token}))))||[]),[r,d,n]);if(!s.needChangeBase)return null;return(0,m.jsx)(se.gt,{title:n.$t({id:"Vn4j7i",defaultMessage:"Base"}),defaultOpen:!0,children:(0,m.jsx)(ge.Z,{rules:[{required:!0,message:n.$t({id:"KzcVNd",defaultMessage:"Please select a base"})}],style:{marginTop:10},children:(0,m.jsx)(me.Select,{options:c,defaultValue:l,onChange:function(e){o(e,t)},showSearch:!0})})})},oi=e=>{let{layerType:t}=e;const n=(0,F.$k)("tableNodeID"),o=(0,F.$k)("viewID"),{coordinateType:l,manualUpdate:r}=(0,h.Yg)(),s=(0,a.Z)(),{tableNodes:d,viewOptions:c}=(0,k.iG)({tableNodeId:n,viewId:o}),u=(0,i.useMemo)((()=>(0,ae.zq)(s,s.$t({id:"tz593B",defaultMessage:"All data"}))),[s]),p=(0,i.useMemo)((()=>o===ae.Jd?[u,...c]:c),[u,o,c]),{isCreate:v}=(0,Xn.Z)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ii,{layerType:t}),(0,m.jsxs)(se.gt,{title:s.$t({id:"dashboard.data",defaultMessage:"Data"}),defaultOpen:v,children:[(0,m.jsx)(Dn,{tableNodes:d,onChange:function(){r({coordinateType:"coord",coordinateFieldID:void 0,latitudeFieldID:void 0})}}),(0,m.jsx)(Rn,{viewOptions:p}),(0,m.jsx)(_e,{coordinateType:l})]})]})};var ai=n(11145),li=n(34262);const ri="mapTypeSelector_mapTypeSelector__zYbrG",si="mapTypeSelector_mapTypeOption__8HQSx",di="mapTypeSelector_icon__MODOs",ci="mapTypeSelector_active__ileIs",ui="mapTypeSelector_label__7BiMW",pi=()=>{const e=(0,a.Z)(),t=(0,ai.s0)(),n=(0,w.I)(),{isFeiShu:o}=(0,J.k)(),{isCreate:s}=(0,Xn.Z)(),{currentProjectId:d}=(0,l.Z)((e=>e.project)),u=(0,l.Z)((e=>d?(0,r.M)(e,d):[])),p=(0,l.Z)((e=>e.project.defaultLanguage)),h=null===u||void 0===u?void 0:u[0],v=(0,i.useMemo)((()=>[{type:"icon",label:e.$t({id:"kk4TVW",defaultMessage:"Icon"}),icon:(0,m.jsx)("img",{src:ue,alt:"icon"}),route:"/",layerType:"icon"},{type:"heatmap",label:e.$t({id:"WEDRDw",defaultMessage:"Heatmap"}),icon:(0,m.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMDAwMDAwMDAwMEBAQEBAYFBQUFBgkGBwYHBgkOCAoICAoIDgwPDAsMDwwWEQ8PERYZFRQVGR4bGx4mJCYyMkMBAwMDAwMDAwMDAwQEBAQEBgUFBQUGCQYHBgcGCQ4ICggICggODA8MCwwPDBYRDw8RFhkVFBUZHhsbHiYkJjIyQ//CABEIAJAAuAMBIgACEQEDEQH/xAAdAAACAwEBAQEBAAAAAAAAAAAABgQFBwMCAQgJ/9oACAEBAAAAAP6pLMPq2rkAAAC4uYFB4Jsy5r+8ZfAAADqxyqCsDqxyqKqAAA5qNLLeXjktcQsGLitcAABCz/Pbd/dtTsU4PbfGkUNFI9AQM1wu388Nx06TGBi5ZlWz+lPJZbkqc0xu4h89x0wCy5ZT5gLs107VN63eM7Qs7sticGS0q+nTM6rLlzv94u2zVzDf2WeLfVs1WNKTbXNFvF/C2jytHlsm7mj2ahF7e+jb9pFlEx6lynG+hZ/p3zt7Ft0Fc+Bc2q+yYqvYVD/LXQPO/PWmNmiO/tcgyGlYi+FJYxNEwH6HP9HM+wXWk92SdD6wKMi51HyCt/J/g8tn6M67pJ0Pq2L1rMpKkM1+Yl6WsXrHLWvmssrdftUOhJrH4W4yov1GPS5ceDz1BssXq3uVHyH27tU7ygxPlEmyWtkjWTvKa1iIAHfgeFMiVx0YHIiN0CgAAJsIu5ueRvdhY3N1x6J/wACX/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAIEAQMF/9oACAECEAAAAG0YAzGzVGAalJsbBnxO1hDzNp65x5rSsqdKq6sjjm6Yh0t9CjII5U0brRVZxjlnwG3v1dOfDk4I+s6cscDP/8QAGAEAAwEBAAAAAAAAAAAAAAAAAAEDAgT/2gAIAQMQAAAASEANoWjICjqwmZTeOY6tojN024u+sR54u/TXJoxz8sjq6LtCzGEN9F6jMkpp0rrI3kWXtpA//8QALRAAAgMAAQMDAwMDBQAAAAAAAwQBAgUGABESEBMUByEiFSAwIzEyJCVBYXH/2gAIAQEAAQgAbVo0PtZpI6k9idBFc5KioEVFw1HXQclw82j+H+33hTWILxGxQgj070bx6273TvS47TS/om4VUtJhPXKHxGcZAsD8qNY3fvdXMU+KOTF1nO0fFF/IExQXi4k9YRfARzLAZpFSOZh1u96+oTFBeLiS1hE7DP09mshtcv8AGYwlxXMZvfaPM1RJYppmToALJPIavLHM6nbQQfUfBQqreSI/e4TrmXv4G9VNI6vavS7ImaeQnMkJ+9wnXMvfwN/BqvToNWpXkfKq5d/0/PM3sP37to6G1leNkMXldORVIE2A9dNyFelNn+w27VEcfafWlLEvWlFl6KhrSI2g+/cd5gR6dpfUWWmbj+ej3mOqXoSO4/2ah5Wz2zVcZrnZzTdl5IWtmjri8K+Usl7R7dc9iyW1juDveRSM1el2zK27i9ctX2qfJvyLaVzQ+yRnkLJe9UvnP2mZMuRUvavRkVjR+RUbLW86g1dJXtFUNtZy0BJ6btZvkuRG2td3G0lxZtYOEJPQq8zM3pnLXe3MlOkDk5ALx+zNS+Ubvfd5OPOrdZAxCsnu0z07qZ2dHd4vOuO0mYEr9SsKsxRnN3sXYr/t50K272CUUxM0Jk7BA3om90QdDDIIkKmEzdG/I+It5pz6ONfVFUtoshdrXJC+Vx7ia+OsUjONjngttMnWYpBie8ToQ7GJUdNvTjPFGQgwWL28aaOkllLXbe0+V62rNhpVVDFpvb0sAU2i8YXOdHJvQGuIieksJkDKFq1t44L9mA3UP0XjYnFKmJsjcz72VZvVM3axaWrM1EDJzmr3HfUWIsQNartYwiz5rjoNcNa16uauLmEfu6e8edLaeirkpGebddb2Wvn6HW3yzC4/+Ogb6sLeU/FS+quOS0U0knk9JYbiHXDuQGwdGmeULAzx+FB0C6s3VHLLB5lh1qFQTaLTNpm1rJJ3mbXGIYo8RdDIQV4uJeS2DSxyDoWlh3Tzie/PyOWaUF0LCi1pvabW5Tpzq69lKdc65sdAtsLDqOPO5LemDvN8Xeo6qucTQAsrtD9wBKxiP20MrOf6q9MivQ+UzVrNRYjSzznmDimJrMxPrkJe8T5BHG4VBN+ltBla0zWxKVHYstjYatdudNuM/PedlWLQClr7mnTHyNHTvSxSzdhj1mItExP03YufiOdUnXBpmeMoRN/8LdYDJ1c5KRp6gWe1LspAaifNpA6k97dKr3aNQVIgYBdobZs0aST006dTPf8AbUZEYQ4rz0FLcW1iRYVhRWJ+pEXtw3X8P/PUl4GO5J4PnEy+LZKxjXgQSE64urKXH8oFiz2HfpUXsLLh9MYzRPOt5iJiYlvHpebXVzlaLimb67kXv8UXo/SSIuUgU/06TG9YjuBqpWVLRhYRI2MYOrnPZ92E2stxnJf9JmIjvPC+ME5I+N1npFC2xpqZlYjt2iEF/l6CofQIrnJUVBCGuKKVZfKRn3Qp69Lz4tfa0fZzLMGbXF6f9SQMqsMKz1qo3wdg6lRsVv8Aa3KOG5PKhUlvR+mfLs+1vih4PzI9u3WN9LaReh+RAAFYI11ykmnhQfGMH9FUtdibRETacBGwF7Nl6y0vYF7xNVrxj4o/RV86k9qKuLsx+DWYBqbXGwqdW3ibrkKc1sPRH1tYyu2lZRl5V3GY+JqKzeazPoRet+81vWw5nzWo3om+Ll8e4sDI/wBW11k506BoMXrKSk5Peu61CoZtFpm0za3rEzExMJbFh9hsxIjj9L0oSlh30M8mYXt6WRDpVsoy79O8yIsTMNw3f9ybBW4ftktWjaf06yfxvp1xgICgWfaYrEzbOyTaM1KYY6BpQQlwWYNQVa1GuGKw61Zs0kn9wGTLX8w+hB0NSwyucfMGZJnADKcSJh5jyn2aeg27LT3jPhjUtWii3ClJ7GfaSOpPYn9/tGclCofMuw75z8UX8DiZVS2ifTJS9y3ySbFlPje0UvHs0kzas8aW/wCK8bRj/MGRmrzEjj7duyeuUPYZxkExTvT9LWGeD1fcqqD8JmZmZn96qpGCV6//xAA8EAACAQIDBAYHBwQCAwAAAAABAgMAEQQhMRASQVEiMkJSYXEFEyCBkaHRFCMwM2JywUOCorEkkjSTwv/aAAgBAQAJPwB2UroR9KW68GGh2C5ajZVGZP8As1cRpkg/n8O8kfPtCirqdfoaIvxQn/RpSrDgRbaxKX6SnSvvI+faFFXU6/Q1YHih09xoWkfIeAo27/0/Fcqwr7p+fZP0pQeTDUUPWR94cPP2HKsKtG2gPZOwmVCbluPv/DcIiC5JoCCLhIwu7eQ0FYiaQ/qcmp5olU3JVyL+FAYmHQOBZ1+GoqZWDDeq0T/I0hU/I+wd+PuNw8qOnWByIq0cn+JpCp58D5fgt/xoGso4Ow1Y0iz49luwPUgB4vbjyFel8W5J6kT+qQf2pXpjEndzMeIczRt5htKjGHxeGUeshBurA/1E/SflTlY5iTHn1HHLzoZd8fyKCuje/wBgXZjYVa4zY8zSkRA2VxQWRG94rGQ24o7hWFY3D3HD1i06uOam/smzLGQDyLdEULjDYd5SOe4L299OXnxDGWRzqxbOtTWp1o2JxSQPbikp3SDXWikVx5g7Gy4qc1PsDpsOjfgvP31OEZxnxa3IAc6gES9+XNvcBWNmkBNyhYhD7hSBX5HOolDd4CgV5OhIrEeuTuzZ/wCWtAwTnsOcj+07e6p/6sDQu8uEkCAcW3chWgUA+YytsN75kGgSUxK4iT9KQ9LPzrMyyonz9kfdJm3j4UFknXIsc1Q+PM1K00zm7O38chsxsEHIO4DHyGprETT24xQv/wDQFSYlE7zwtcfC9ekcPiCRnGGs/vQ2NdE93hSkEU5ZG6Mcx1B5NsF0dSrDwItQ+8jNgeBXg1QHEYSUmSbDJ1421Z0HEHlTmJkyKSKVI8xWDkxEpNt627Gvm5sKkE2PnAM04yCgaIl+yKQmBLpC3MnVjsH3aH/s3LYLljapLTbt55B2Af5NdRdPE86nWKNeerHuqOJot6OwhyBH57jz7PupTI7G5eQ77E87nau440dOiw94p3x2ByHrWzmhHMntCpEmglTejkQ5EHiK6afMU15cOBYntJwOxjFi7XSQdleCt4GoSLdaVOkh8LikhcjQuAf90hc6KkYv8AKBXDgg+pB6Z8zwFbvq1G6EAtYcrUwjN8wdKsERcz/OxQcRMAkCHm2n1NOWmlJeV+JLZ05WOIaDVidFUczROp9RBfowr/Lczsxq+uIuMPF95Kf7Rp5mvQGMkTgZZEiPw6Vej8Zgb/1LCaMeZXP5ViY8RBIOi8ZuNjlvR+Ok3VVjlDMdLcg1HPip1o+r6e5IeBR8jelssZy4hjXXbJBRuSbm9YSBjzMamo1QclAA+WxyrDiKsHIztQurZGkKrHrfiaa8eDXcVecjZn4Ubkm5NPfCejm3QBo8/aJ/bpslAxe7fE4kZ/Zw3YX9Z+VMzyuSXkc7zsTqSTtLthWYDF4YHoyJxYDgw4GnDxTRrJG40ZWFwRWTAbynkRmKPTlgVmI74Fm+dDhk31pw2/h4yT42zo7wC/lnIjyoEEewOhGcgeLVbfa4QePP3U5ZSbsrcaYbgUtcchnR3zI7SMOILG5of+PBJIBzKi4FEs8l5HY6lnzJNC/2aBnVebaKPeacvPiHMsrnVnc3JPsZgijcwPNCDzCSG2zg0wHl6xq5GpCLxKSOBq0cnI6HyNCz8GGopSycHGmzjqeQqyoi1koyReQ2N0ThpLqdOrRs26OiaG6+5GLjxkUUMrWBq5zgLW5CZfZ7IpSsrRGdwdQZmMlj4gGuyhNCx+ziQjkZTvkfOtSLfGv6cSJ8BbY29Co1Ot+QNCrIe6dD5VnJkX+lHop1yOJ5bdWgkA8ytchSly+GcpbUsnTA95FEEMgvWSYqB4j4bwyYeIpPV4rCPuOO8Bo6+BG01ER6JwkgZmbTESLpGvNeewExlhLiTyiQ3N/OhYChdUb1r+SbBctVgqDM07IEyS3KhuMe3wP0o+RFH1qam3WHn7H9KQgftOY2Arh8QzT4U9mzax/210TQaDFxC0OLhsJEHdPeXwNJhfSkV+i8cghe36lksB7ia9DpAO9LiI7fBSTWOGJ3SD9lw10iP7mNiwqJIoo1CoiAKqgcABSNJLIwWONRdnY6ACir47EkPO4zA5IvgK0FLaXEWNuKoNBsHTcXtyHKj4yEf62tdOKmjZ+KtrVo35gZE+NIQDoeB2LcABJvLg2zosDvRSr1onGjCo925tFiF/LlHMHgfCjdOGzomhasM2Jl4sMo08XanGJx7jOW3RiB7Mf12KfssTf+xhw8hsH3aH4musckHM0bkm59g2INwRV2XvjUedbro3vGxQyuCrA8QaBbDOfu37t+y2yFJoXHTV1DLb31jsR6P47n50Q/tb616RwLgaF1dD8FBr0ngoR340aT5NasZiPSPHdJ9VEf7Uz+dYeOKFdI41C2+GtG1taDRYXXk0nlyFIERBZVHCsr6nkOdWCIuf1NZKMlHIe25HMcD57UDowsynQiiZUJ/JY5j9pqNoZ+2sg3SPDOj0R1jzPLa4A4qTWHa57UnQT3E61J67EDq2Fo1PketS9Hgy6HYOm+beHIUcgbyHmeX4KEoSd1uFtosq9Xz51DFM79UOoa3jnUckRPFHI/3esXivewP8VNiX8C4t8hWEjLDi/TP+V9l5I+faFMrociP4IokKue5wvRG+1wn1o5n8BTuA9JvCv/xAAoEQACAQMEAQMEAwAAAAAAAAABAgARIUEDEBIxURMgIgQyYXGBkcH/2gAIAQIBAT8Aus5CkUZ9xWVIsdiAdiviBsH2qKmLpWBsI+kezQiMhU2gbYmkVC156ZXMCg5hQjbT/wBh8S1D+rx8Sg2VeRqeoqFurCDSXJJh0UPRIjBkN7jzGA7ED8e8xNQ0HIVmo5ItYQvU3hJMHyNJppUgYzEQsQqiLoIO7x9BafCxhAIKmFSCROzfdrmkoREBWpmiQVJ8mfTgcSfzu93ankxrs37jAEkypWcrRRnZMzSpdf5mlq8DRujPUQ3DL/c1NYUIS58xm4iucRjQQmkUZMK+IGwdgaGsB6IM9VemsZyXvkIdZcXMLE3YxmrPuO5AM4nG3IrFcG5E5rGYHoQls3hNbCAU9hIE/8QAJREAAgIABQQCAwAAAAAAAAAAAAECEQMQITFBEiBRcVKBMkJh/9oACAEDAQE/ANyh91lZXlZXa3Q561uRn9MTtFZuSR13wW/ApJ5TEa2iPObdaIlJIc3/AAWJLmmJqWwnwxqyUNdHRGH2zprbJ6IlKlZKVaseJL0LEf7CdO0JnGaLJO6MTdejEeqWcfxj6FsvQjcoeUifDJw6tVujpl8WRw+ZEVbErYhllZNWNcM6HwU/iLDfOglwhKjbsvKrHHwdLEvIku6j/9k=",alt:"heatmap"}),route:"/heatmap",layerType:"heatmap"},{type:"region",label:e.$t({id:"layer.type.region",defaultMessage:"Region"}),icon:(0,m.jsx)("img",{src:ce,alt:"region"}),route:"/region",layerType:"region"}]),[e]),g=(0,i.useMemo)((()=>{var e;const t=null===h||void 0===h||null===(e=h.mapInfo)||void 0===e?void 0:e.layerType;return"heatmap"===t?"heatmap":"region"===t?"region":"icon"}),[h]),f=(0,i.useCallback)((()=>{switch(p){case"ja":return"japan";case"en":return"usa";case"zh":return"china";case"vi":return"vietnam";case"th":return"thailand";case"id":return"indonesia";case"it":return"italy";case"de":return"germany";case"es":return"spain";case"fr":return"france";case"pt":return"portugal";default:return!1===o?"usa":"china"}}),[p,o]),y=(0,i.useCallback)((e=>{var i,o;if(e===g||!d||!h)return;const a=v.find((t=>t.type===e));if(!a)return;const l=null===(i=h.mapInfo)||void 0===i?void 0:i.tableNodeID,r=null===(o=h.mapInfo)||void 0===o?void 0:o.viewID,s=(0,li.h)(a.layerType),u={...h,mapInfo:{...s.mapInfo,layerType:a.layerType,tableNodeID:l,viewID:r}};if("region"===a.layerType&&u.mapInfo){const e=f();u.mapInfo.regionConfig={...u.mapInfo.regionConfig,country:e,regionId:e}}n(c.Nw.updateLayerNodeForProject({projectId:d,layerNode:u})),setTimeout((()=>{t("".concat(a.route,"?isConfig=1"),{replace:!0})}),1e3)}),[g,h,d,v,n,t,f]);return s?null:(0,m.jsx)(se.gt,{title:e.$t({id:"0PRaKh",defaultMessage:"Map type"}),defaultOpen:!1,className:"hide",children:(0,m.jsx)("div",{className:ri,children:v.map((e=>(0,m.jsxs)("div",{className:"".concat(si," ").concat(g===e.type?ci:""),onClick:()=>y(e.type),children:[(0,m.jsx)("div",{className:di,children:e.icon}),(0,m.jsx)("div",{className:ui,children:e.label})]},e.type)))})})};function hi(){const e=(0,a.Z)(),{numberFields:t}=(0,h.Yg)(),n=function(e){var t;const{layerNode:n,isPublicLayer:o,isThirdPartyBigTable:a}=(0,h.Yg)(),{disableSingleChoice:l=!1}=null!==e&&void 0!==e?e:{},r=(0,F.$k)("tableNodeID"),s=(0,F.$k)("viewID"),d=(0,i.useMemo)((()=>{var e;if(o)return null===n||void 0===n||null===(e=n.vtInfo)||void 0===e?void 0:e.columns}),[o,null===n||void 0===n||null===(t=n.vtInfo)||void 0===t?void 0:t.columns]),c=(0,w.v)((e=>V.TW.selectById(e,r))),u=(0,i.useMemo)((()=>et()(null!==d&&void 0!==d?d:null===c||void 0===c?void 0:c.columns,(e=>l?(0,q.sI)(e):a?(0,q.BC)(e)||(0,q.sI)(e)||(0,q.NU)(e):(0,q.BC)(e)||(0,q.sI)(e)||(0,q.S8)(e)||(0,q.NU)(e)))),[l,a,d,null===c||void 0===c?void 0:c.columns]);return(0,i.useMemo)((()=>(0,Tn.bs)(u,null===c||void 0===c?void 0:c.views,s)),[u,null===c||void 0===c?void 0:c.views,s])}(),o=(0,F.$k)(["fillConfig","colorScheme"]),l=(0,F.$k)("layerType"),r=En("fillFieldID",n),s=En("radiusFieldID",t),d=(0,F.$k)(["labelConfig","fillColor"]),c=(0,F.$k)(["labelConfig","strokeColor"]),u=(0,F.$k)("tableNodeID"),p=(0,F.$k)("viewID"),{onIconChange:v}=function(e){const{manualUpdate:t,form:n}=(0,h.Yg)(),o=(0,i.useMemo)((()=>{var t,n;return(null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.choices)||(null===e||void 0===e||null===(n=e.typeOptions)||void 0===n||null===(n=n.lookupColumnTypeOptions)||void 0===n?void 0:n.choices)||[]}),[e]),a=(0,i.useCallback)(((e,i)=>{const a=n.getFieldValue(["fillConfig","icons"]),l=n.getFieldValue(["fillConfig","_ordinalDomain"]),r={...a};if(Object.keys(r).length||o.forEach((e=>{r[e.id]="location"})),r[i]=e,t(["fillConfig","icons"],r),!l){const e=null===o||void 0===o?void 0:o.map((e=>e.id));t(["fillConfig","_ordinalDomain"],e)}}),[o,n,t]);return{onIconChange:a}}(r),g=n.filter((e=>(0,q.sI)(e))),{viewOptions:f}=(0,k.iG)({tableNodeId:u,viewId:p});le(f);const y=(0,i.useMemo)((()=>null===o||void 0===o?void 0:o.includes(",")),[o]),b="cluster"===l;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(pi,{}),(0,m.jsx)(oi,{layerType:l}),(0,m.jsxs)(se.gt,{title:e.$t(ve.fillColor),defaultOpen:!0,children:[(0,m.jsx)(se.xJ,{name:"layerType",label:e.$t({id:"1VFLNI",defaultMessage:"Visualization type"}),children:(0,m.jsx)(re.ZP.Group,{block:!0,optionType:"button",options:[{label:e.$t({id:"vH8sCb",defaultMessage:"Circle"}),value:"pointLinePolygon"},{label:e.$t({id:"kk4TVW",defaultMessage:"Icon"}),value:"icon"},{label:e.$t({id:"RM1/Y9",defaultMessage:"Cluster"}),value:"cluster"}]})}),(0,m.jsx)(Ne,{options:b?g:n,name:"fillFieldID",label:e.$t(ve.fillBasedOn),tooltip:b?e.$t({id:"NnNVHq",defaultMessage:"Based on count of points when no field is selected"}):null}),b?(0,m.jsx)(m.Fragment,{children:r&&(0,m.jsx)(yn,{name:["fillConfig","aggregateBy"]})}):null,(0,m.jsx)(pn,{belongsTo:"fillConfig",customColorPalette:ne.lw,field:r,enableScale:!!b||!!r,enableCustomColor:!0}),(0,m.jsx)(hn,{belongsTo:"fillConfig",field:r,hidden:y||!r&&!b}),(0,m.jsx)(vn,{name:["fillConfig","fillMethod"],field:r,enableCustomize:!b,hidden:!b&&!r}),(0,m.jsx)(gn,{name:["fillConfig","reverse"],field:r,hidden:!0}),!b&&(0,m.jsx)(Ot,{belongsTo:"fillConfig",field:r,domainFieldName:"fillFieldID",onIconChange:v,onUseCustomizeIcon:()=>Promise.resolve(!0)}),(0,m.jsx)(se.gG,{label:e.$t(ve.opacity),name:["fillConfig","fillOpacity"]})]}),b?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.gt,{title:e.$t(ve.radius),children:(0,m.jsx)(mn,{label:e.$t(ve.radiusRange),rangeName:["radiusConfig","radiusRange"],min:0,max:100,range:!0})}),(0,m.jsxs)(se.gt,{title:e.$t(ve.label),testId:"layersetting-label",children:[(0,m.jsx)(se.xJ,{name:["labelConfig","fillColor"],label:e.$t(ve.fontColor),children:(0,m.jsx)(rt.Z,{color:d})}),(0,m.jsx)(se.iR,{name:["labelConfig","strokeWeight"],label:e.$t(ve.strokeSize),min:0,max:5}),(0,m.jsx)(se.xJ,{name:["labelConfig","strokeColor"],label:e.$t(ve.strokeColor),children:(0,m.jsx)(rt.Z,{color:c})})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(se.gt,{title:e.$t(ve.size),children:[(0,m.jsx)(Ne,{options:t,name:"radiusFieldID",label:e.$t(ve.fillBasedOn)}),(0,m.jsx)(mn,{label:e.$t(ve.size),name:["radiusConfig","radius"],rangeName:["radiusConfig","radiusRange"],range:!!s})]}),(0,m.jsx)(kn,{})]})]})}function vi(){const e=(0,a.Z)(),{numberFields:t}=(0,h.Yg)(),n=(0,ct.$)("tableNodeID"),i=(0,ct.$)("viewID"),{viewOptions:o}=(0,k.iG)({tableNodeId:n,viewId:i});return le(o),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(pi,{}),(0,m.jsx)(oi,{layerType:"heatmap"}),(0,m.jsxs)(se.gt,{title:e.$t(ve.color),defaultOpen:!0,children:[(0,m.jsx)(Pn,{belongsTo:"fillConfig",customColorPalette:ne.T_}),(0,m.jsx)(hn,{belongsTo:"fillConfig",hidden:!0}),(0,m.jsx)(gn,{name:["fillConfig","reverse"],hidden:!0}),(0,m.jsx)(se.gG,{label:e.$t(ve.opacity),name:["fillConfig","fillOpacity"]}),(0,m.jsx)(mn,{name:["radiusConfig","radius"]}),(0,m.jsx)(Ne,{options:t,name:"weightFieldID",label:e.$t(ve.basedOn)})]})]})}var gi=n(25354);var fi=n(9296);const mi="colorPalette_currentColor__k0wk0",yi="colorPalette_customizeColors__+XXWq",wi="colorPalette_customizeColorInput__NJnjh",bi="colorPalette_hasError__DXtcs",Ci="colorPalette_table__8Md-K",xi="colorPalette_item__zeWKu",Ii="colorPalette_color__sjSZH",ji="colorPalette_value__ozU5i";function Mi(e,t,n,i){if(null!==n&&n.length){const e=[];for(let t=0;t<n.length-1;t++)e.push([n[t],n[t+1]]);return e}if(e.length){if(1===(null===t||void 0===t?void 0:t.length))return null;const n="quantize"===i?(0,Fe.Z)().domain(e).range(t):(0,ze.Z)().domain(e).range(t);return t.map((e=>{const[t,i]=n.invertExtent(e);return[(0,lt.SH)(t),(0,lt.SH)(i)]}))}return null}const ki=e=>{const{colors:t,fieldName:n,method:o,field:l,onChange:r,onColorChange:s}=e,d=(0,i.useRef)([]),c=(0,ct.$)(n),[u,v]=(0,i.useState)((()=>Mi(d.current,t,"customize"===o?c:null,o))),f=(0,i.useRef)(null),[y,w]=(0,i.useState)({}),b=(0,i.useRef)(t.length),C=(0,a.Z)(),{isLoading:x,layer:I}=(0,h.Yg)(),{getDomain:j}=(0,fi.l)(null===I||void 0===I?void 0:I.features),{isPercentage:M,formatValue:k,parseValue:T,formatDisplay:E}=(0,ut.h)(l),P=(0,i.useCallback)((e=>{if(!e||p()(e,f.current))return;v(e),f.current=e;const t=[...e].flat();r(function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(e[n]);return t.push(we()(e)),ot()(t)}(t))}),[r]);function O(e,t,n){if(B()(y,(e=>B()(Object.values(e))))||null===u)return;const i=[...u].flat(),o=T(e),a=t*u[0].length+n;i[a]=o,0===n&&0!==a&&(i[a-1]=o),1===n&&a!==i.length-1&&(i[a+1]=o),i.sort(((e,t)=>We()(e)-We()(t)));const l=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(e.slice(n,n+2));return t}(i);P(l)}function S(e,t,n){let i=!1;v((i=>{const o=Qe()(i);return o&&Ve()(o,"".concat(t,".").concat(n),T(e)),o})),e&&!Ge()(We()(e))||(i=!0),w((e=>{const o=Qe()(e);return Ve()(o,"".concat(t,".").concat(n),i),o}))}function _(e,t){var n,i;if(!u||0!==e&&e!==u.length-1)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(De.default,{size:"small",value:k(t[0]),className:(0,Ze.default)(wi,{[bi]:null===(n=y[e])||void 0===n?void 0:n[0]}),onBlur:t=>O(t.target.value,e,0),onChange:t=>S(t.target.value,e,0),onPressEnter:t=>{t.preventDefault(),O(t.currentTarget.value,e,0)},suffix:M?"%":void 0}),"-",(0,m.jsx)(De.default,{size:"small",value:k(t[1]),className:(0,Ze.default)(wi,{[bi]:null===(i=y[e])||void 0===i?void 0:i[1]}),onBlur:t=>O(t.target.value,e,1),onChange:t=>S(t.target.value,e,1),onPressEnter:t=>{t.preventDefault(),O(t.currentTarget.value,e,1)},suffix:M?"%":void 0})]});{var o;const n=0===e?1:0;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:wi,children:0===e?C.$t({id:"hJL4XZ",defaultMessage:"Less than"}):C.$t({id:"EAys4o",defaultMessage:">"})}),(0,m.jsx)(De.default,{size:"small",value:k(t[n]),className:(0,Ze.default)(wi,{[bi]:null===(o=y[e])||void 0===o?void 0:o[n]}),onBlur:t=>O(t.target.value,e,n),onChange:t=>S(t.target.value,e,n),onPressEnter:t=>{t.preventDefault(),O(t.currentTarget.value,e,n)},suffix:M?"%":void 0})]})}}return(0,qe.Z)((()=>{if(x)return;const e=j(o);if("customize"===o)if(t.length===nt()(c)-1){const n=Mi(e,t,c,o);P(n)}else{const n=Mi(e,t,null,o);P(n)}else{const n=Mi(e,t,null,o);P(n),b.current=t.length}}),[t,j,c,o,x,P]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.xJ,{hidden:!0,name:n,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(Ae.Z,{className:Ci,children:null===u||void 0===u?void 0:u.map(((e,n)=>(0,m.jsxs)(g.Z,{className:xi,children:[(0,m.jsx)(Re.Z,{className:Ii,children:(0,m.jsx)(rt.Z,{className:mi,color:t[n],onChange:e=>function(e,t){s&&s(e,t)}(e,n)})}),(0,m.jsx)(Re.Z,{span:18,className:ji,children:"customize"===o?(0,m.jsx)("div",{className:yi,children:_(n,e)}):(0,m.jsx)(st.Z,{text:"".concat(E(e[0])," - ").concat(E(e[1])),reRender:!0})})]},n)))})]})};function Ti(e){let{belongsTo:t,field:n}=e;const{layerNode:o,tableNode:a,manualUpdate:l}=(0,h.Yg)(),r=(0,F.$k)([t,"colors"],[]),s=(0,F.$k)([t,"fillMethod"]),d=(0,F.$k)([t,"strokeMethod"]),c="outlineConfig"===t?d:s;const u=(0,i.useCallback)((e=>{l({[t]:{thresholds:e}})}),[l,t]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(se.xJ,{name:["fillConfig","icons"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{name:["fillConfig","_ordinalDomain"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(null===a||void 0===a?void 0:a.id)&&(null===o||void 0===o?void 0:o.id)&&(0,m.jsx)(ki,{method:c,field:n,fieldName:[t,"thresholds"],colors:r,onColorChange:function(e,n){const i=[...r];i[n]=e,l({[t]:{colors:i}})},onChange:u})]})}function Ei(){const e=(0,l.Z)((e=>e.project.showIpMask)),t=(0,F.$k)("tableNodeID"),n=(0,F.$k)("viewID"),o=(0,F.$k)(["regionConfig","dimension"]),r=(0,F.$k)("regionDimensionFieldID"),s=(0,F.$k)(["labelConfig","fillColor"]),c=(0,F.$k)(["regionConfig","regionId"]),u=(0,F.$k)(["regionConfig","aggregateBy"]),p=(0,F.$k)(["labelConfig","strokeColor"]),v=(0,F.$k)("regionIndexStatsFieldID"),{isLark:g}=(0,J.k)(),f=function(e){const[t,n,o,a,l]=(0,i.useMemo)((()=>[["world/cas","world/wb"].includes(e||""),Vn.HC.includes(e||""),d()(e||"","-"),d()(e||"","ADM2"),!!Vn.om.find((t=>d()(e||"",t)))]),[e]);return{isWorld:t,isOnlyAdmin1:n,isNotCountryLevel:o,isAdmin2Level:a,isSupportAdmin3:l}}(c),{isWorld:y,isOnlyAdmin1:w,isNotCountryLevel:b,isAdmin2Level:C,isSupportAdmin3:x}=f,I=(0,a.Z)(),{tableNodes:j,viewOptions:M}=(0,k.iG)({tableNodeId:t,viewId:n});le(M);const{numberFields:T,textFields:E,manualUpdate:P}=(0,h.Yg)(),O=(0,i.useMemo)((()=>(0,ae.zq)(I,I.$t({id:"tz593B",defaultMessage:"All data"}))),[I]),S=(0,i.useMemo)((()=>{var e,n;return t?(null!==(e=null===(n=j.find((e=>e&&e.id===t)))||void 0===n?void 0:n.rowsCount)&&void 0!==e?e:0)>2e4:null===j||void 0===j?void 0:j.every((e=>{var t;return null===(t=e.rowsCount)||void 0===t||t}))}),[t,j]),_=(0,i.useMemo)((()=>n===ae.Jd?[O,...M]:M),[O,M,n]),N=(0,i.useMemo)((()=>[{id:L.N,name:I.$t({id:"2yfZ/a",defaultMessage:"All record"})},...null!==T&&void 0!==T?T:[],...null!==E&&void 0!==E?E:[]]),[I,T,E]),D=(0,i.useMemo)((()=>null===T||void 0===T?void 0:T.find((e=>e&&e.id===v))),[T,v]);return(0,i.useEffect)((()=>{P("coordinateFieldID",r,{silent:!0})}),[P,r]),(0,m.jsxs)("div",{className:X,children:[(0,m.jsx)(pi,{}),(0,m.jsx)(ii,{layerType:"region"}),(0,m.jsx)(se.xJ,{name:"coordinateFieldID",hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{name:["regionConfig","level"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsx)(se.xJ,{name:["regionConfig","country"],hidden:!0,children:(0,m.jsx)(De.default,{})}),(0,m.jsxs)(se.gt,{title:I.$t(ve.data),defaultOpen:!0,children:[(0,m.jsx)(Dn,{tableNodes:j}),(0,m.jsx)(Rn,{viewOptions:_})]}),(0,m.jsxs)(se.gt,{title:I.$t(ve.region),defaultOpen:!0,children:[(0,m.jsx)(se.xJ,{name:["regionConfig","regionId"],style:{marginTop:10},children:(0,m.jsx)(Gn,{maxLevel:3,useWBVersion:g,hideChina:e})}),(0,m.jsx)(se.xJ,{label:I.$t({id:"dashboard.regionMap.label.displayData",defaultMessage:"Display data"}),name:["regionConfig","aggregateBy"],tooltip:{title:I.$t({id:"pwVTJh",defaultMessage:"Set the administrative division level displayed after entering the dashboard, and drill-down is supported. <a>Refer to the example.</a>"},{a:e=>(0,m.jsx)("a",{href:(0,Ce.t1)(I.locale,"regionPerformance",!g),target:"_blank",rel:"noopener noreferrer",children:e})}),icon:(0,m.jsx)(At.Z,{type:"info"})},style:{marginBottom:4},children:(0,m.jsx)(re.ZP.Group,{children:y?(0,m.jsxs)(re.ZP,{value:"admin0",children:[I.$t({id:"65jzKW",defaultMessage:"By admin0"}),"zh-CN"!==I.locale&&(0,m.jsx)(bn.Z,{title:I.$t({id:"vONi+O",defaultMessage:"Country"}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}):(0,m.jsxs)(m.Fragment,{children:[b?null:(0,m.jsxs)(re.ZP,{value:"admin1",children:[I.$t({id:"N33mNW",defaultMessage:"By admin1"}),"zh-CN"!==I.locale&&(0,m.jsx)(bn.Z,{title:I.$t({id:"dYN+F9",defaultMessage:"State or Province"}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),w||C?null:(0,m.jsxs)(re.ZP,{value:"admin2",children:[I.$t({id:"pM99lw",defaultMessage:"By admin2"}),"zh-CN"!==I.locale&&(0,m.jsx)(bn.Z,{title:I.$t({id:"B+KJhc",defaultMessage:"County"}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}),b&&x?(0,m.jsxs)(re.ZP,{value:"admin3",children:[I.$t({id:"6eLhy7",defaultMessage:"By admin3"}),"zh-CN"!==I.locale&&(0,m.jsx)(bn.Z,{title:I.$t({id:"TE4fIS",defaultMessage:"City"}),children:(0,m.jsx)(At.Z,{type:"info",style:{padding:"0px 0px 2px 4px"}})})]}):null]})})})]}),(0,m.jsxs)(se.gt,{title:I.$t({id:"saKQ/b",defaultMessage:"Location type"}),defaultOpen:!0,children:[(0,m.jsx)(qn,{disableCoordinateDimension:S}),(0,m.jsx)(Yn,{dimension:o,aggregateBy:u,regionInfo:f})]}),(0,m.jsx)(se.gt,{title:I.$t(ve.metrics),defaultOpen:!0,children:(0,m.jsx)(Fn,{name:"regionIndexStatsFieldID",aggMethodName:["regionConfig","indexStatsMethod"],fields:N,disabledMethods:["median"],className:te})}),(0,m.jsxs)(se.gt,{title:I.$t(ve.fillColor),children:[(0,m.jsx)(pn,{label:I.$t({id:"pBDN/I",defaultMessage:"Color range"}),belongsTo:"regionConfig",customColorPalette:ne.Hd,enableScale:!0,enableCustomColor:!0}),(0,m.jsx)(hn,{belongsTo:"regionConfig"}),(0,m.jsx)(Ti,{belongsTo:"regionConfig",field:D}),(0,m.jsx)(vn,{name:["regionConfig","fillMethod"],field:D,enableCustomize:!0}),(0,m.jsx)(gn,{name:["regionConfig","reverse"],hidden:!0})]}),(0,m.jsxs)(se.gt,{title:I.$t(ve.label),children:[(0,m.jsx)(se.xJ,{label:I.$t({id:"6aBjLn",defaultMessage:"Display label name"}),name:["regionConfig","labelTypes"],children:(0,m.jsxs)(gi.Z.Group,{children:[(0,m.jsx)(gi.Z,{value:"name",children:I.$t({id:"gxHob8",defaultMessage:"Admin name"})}),(0,m.jsx)(gi.Z,{value:"value",children:I.$t({id:"yypztr",defaultMessage:"Metric"})})]})}),(0,m.jsx)(se.ge,{name:["labelConfig","collisionDisabled"],label:I.$t(ve.collision)}),(0,m.jsx)(se.xJ,{name:["labelConfig","fillColor"],label:I.$t(ve.fontColor),children:(0,m.jsx)(rt.Z,{color:s})}),(0,m.jsx)(se.xJ,{name:["labelConfig","fontSize"],label:I.$t(ve.fontSize),children:(0,m.jsx)(me.Select,{options:new Array(21).fill(0).map(((e,t)=>({label:10+t,value:10+t}))),"data-testid":"fontsize-selector"})}),(0,m.jsx)(se.iR,{name:["labelConfig","strokeWeight"],label:I.$t(ve.strokeSize),min:0,max:5}),(0,m.jsx)(se.xJ,{name:["labelConfig","strokeColor"],label:I.$t(ve.strokeColor),children:(0,m.jsx)(rt.Z,{color:p})})]})]})}var Pi=n(49633),Oi=n(29697),Si=n(55832),_i=n.n(Si),Ni=n(58674),Di=n.n(Ni),Li=n(65301),Ai=n.n(Li),Ri=n(78731);const Zi="featuresControl_item__w7ayb",Fi=(e,t)=>{let{value:n=Ai()(Ri.TR),onChange:i}=e;const o=(0,a.Z)();return(0,m.jsx)(Ae.Z,{ref:t,children:Ye()(_i()(Ri.TR),(e=>{let[t,a]=e;return(0,m.jsx)(Re.Z,{span:12,children:(0,m.jsx)(gi.Z,{checked:null===n||void 0===n?void 0:n.includes(t),className:(0,Ze.default)(Zi),onChange:()=>(async e=>{const t=(null===n||void 0===n?void 0:n.includes(e))?Di()(n,e):n.concat(e);null===i||void 0===i||i(t)})(t),children:o.$t(a)},t)},t)}))})},zi=(0,i.forwardRef)(Fi),Bi=(0,i.forwardRef)(((e,t)=>{const{allowSetBaseMap:n=!1,showAccordion:o=!0,mapConfig:r,layerType:s,isWorldMap:d}=e,u=(0,a.Z)(),{isFeiShu:p}=(0,J.k)(),h=(0,w.I)(),[g]=v.Z.useForm();(0,i.useImperativeHandle)(t,(()=>g),[g]);const f=(0,i.useMemo)((()=>({...r,features:C()(null===r||void 0===r?void 0:r.features)?["bg","building","road","point"]:r.features,showBaseMap:C()(null===r||void 0===r?void 0:r.showBaseMap)?"region"!==s:r.showBaseMap})),[s,r]),y=v.Z.useWatch("showBaseMap",g),{currentProjectId:b}=(0,l.Z)((e=>e.project)),x=(0,i.useCallback)((e=>{if(!e)return;const t=g.getFieldsValue();b&&h(c.Nw.update({projectID:b,updatedFields:{mapConfig:{...r,...t}}}))}),[g,h,b,r]),I=(0,m.jsxs)(v.Z,{colon:!1,hidden:d,layout:"vertical",labelAlign:"left",requiredMark:!1,initialValues:f,form:g,onValuesChange:x,className:ee,children:[n&&(0,m.jsx)(v.Z.Item,{label:u.$t({id:"97dg59",defaultMessage:"Enable basemap"}),name:"showBaseMap",valuePropName:"checked",className:Y,children:(0,m.jsx)(Pi.Z,{size:"small"})}),p&&(y||f.showBaseMap)&&"region"!==s&&(0,m.jsx)(v.Z.Item,{label:u.$t({id:"9GEgkl",defaultMessage:"Base Map"}),name:"baseMap",children:(0,m.jsx)(me.Select,{options:[{label:u.$t({id:"k9+sBf",defaultMessage:"Amap"}),value:Oi.nn.AmapLight},{label:"Mapbox",value:Oi.R6.MapboxLight}]})}),(y||f.showBaseMap)&&(0,m.jsx)(v.Z.Item,{name:"features",children:(0,m.jsx)(zi,{})})]});return o?(0,m.jsx)(se.gt,{title:u.$t({id:"xQwoWr",defaultMessage:"Map settings"}),children:I}):I})),Vi={pointLinePolygon:(0,m.jsx)(hi,{}),heatmap:(0,m.jsx)(vi,{}),grid:null,hexagon:null,odLine:null,flow:null,h3:null,cluster:null,icon:(0,m.jsx)(hi,{}),h3Tile:null,trips:null,path:null,region:(0,m.jsx)(Ei,{})},Hi=(0,i.forwardRef)(((e,t)=>{var n;const{layerType:o,layers:a}=e,s=(0,w.I)(),{currentProjectId:u}=(0,l.Z)((e=>e.project)),h=(0,l.Z)((e=>u?(0,r.M)(e,u):[])),v=null===h||void 0===h?void 0:h[0],g=null===v||void 0===v?void 0:v.mapInfo,f=(0,i.useRef)(),{contextValue:b,form:C,initialValues:x,mapConfig:I,onUpdate:j}=Q({mapSettingForm:f.current,layers:a}),M=(0,i.useMemo)((()=>o?Vi[o]:null),[o]);(0,i.useImperativeHandle)(t,(()=>({form:C})),[C]),(0,i.useEffect)((()=>{x&&C&&C.setFieldsValue(x)}),[x,C]),(0,i.useEffect)((()=>{var e;if(C&&null!==v&&void 0!==v&&null!==(e=v.mapInfo)&&void 0!==e&&e.layerType){const e=C.getFieldValue("layerType"),t=v.mapInfo.layerType;e!==t&&C.setFieldValue("layerType",t)}}),[null===v||void 0===v||null===(n=v.mapInfo)||void 0===n?void 0:n.layerType,C]);const k=(0,i.useMemo)((()=>{var e,t;return"region"===(null===g||void 0===g?void 0:g.layerType)&&("world/cas"===(null===g||void 0===g||null===(e=g.regionConfig)||void 0===e?void 0:e.regionId)||"world/wb"===(null===g||void 0===g||null===(t=g.regionConfig)||void 0===t?void 0:t.regionId))}),[g]);return(0,i.useEffect)((()=>{if(k&&u&&I){const e={mapConfig:{...I,showBaseMap:!1}};if(p()(e.mapConfig,I))return;s(c.Nw.update({projectID:u,updatedFields:e}))}}),[u,s,k,I]),(0,m.jsx)(y,{context:b,className:K,children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Form,{name:"layerSetting",layout:"vertical",labelAlign:"left",form:C,requiredMark:!1,initialValues:x,onValuesChange:j,children:M}),(0,m.jsx)(Bi,{allowSetBaseMap:d()(["region"],o),showAccordion:!d()(["region"],o),mapConfig:I,layerType:o,ref:f,isWorldMap:k})]})})}));var Wi=n(6404);const Ui="usageBar_usage__kWfkc",Gi="usageBar_usageBar__IB72Q",qi="usageBar_outage__xA7o4",$i="usageBar_warning__gZaPu",Ji="usageBar_label__GPZlK",Qi=e=>{let{max:t=0,used:n=0,className:i,normalColor:o,outageColor:l,waringColor:r,tooltip:s,showLabel:d=!1}=e;const c=(0,a.Z)(),u=n/(0===t?.001:t)*100,p=u>100?l:u>=90?r:o,h=-1===t?c.$t({id:"ekXood",defaultMessage:"Unlimited"}):null!==t&&void 0!==t?t:0,v=(0,m.jsx)("div",{className:(0,Ze.default)(Ui,i),children:(0,m.jsx)("div",{className:(0,Ze.default)(Gi,{[qi]:u>100,[$i]:u>=90&&u<=100}),style:{width:"".concat(u>100?100:u,"%"),backgroundColor:p}})});return(0,m.jsx)(m.Fragment,{children:-1===t?(0,m.jsx)("div",{className:i,children:null!==s&&void 0!==s?s:"".concat(n," / ").concat(h)}):d?(0,m.jsxs)("div",{className:Ji,children:[v,(0,m.jsx)("div",{children:"".concat(n," / ").concat(h)})]}):(0,m.jsx)(bn.Z,{title:null!==s&&void 0!==s?s:"".concat(n," / ").concat(h),children:v})})};var Ki=n(74695),Yi=n(41867),Xi=n(34061),eo=n(42304),to=n(93293),no=n(18858),io=n(73656),oo=n(84586),ao=n(30053),lo=n(24346),ro=n(31843),so=n(76625),co=n(34221);const uo={actions:"tableFilter_actions__Fm5Zd",search:"tableFilter_search__ANTdW",searchInput:"tableFilter_searchInput__mTxNu"};function po(e,t,n,i,o,a){return{filterDropdown:l=>{let{setSelectedKeys:r,selectedKeys:s,close:d}=l;return(0,m.jsx)("div",{className:uo.search,children:(0,m.jsx)("div",{className:uo.actions,onKeyDown:e=>e.stopPropagation(),children:(0,m.jsxs)(so.Z,{children:["text"===t&&o&&(0,m.jsx)(De.default,{className:uo.searchInput,ref:n,placeholder:e,value:s[0],onChange:e=>r(e.target.value?[e.target.value]:[]),onPressEnter:()=>{o(String(s[0])),d()},style:{marginBottom:8,display:"block"}}),"number"===t&&a&&(0,m.jsx)(co.Z,{className:uo.searchInput,ref:i,placeholder:e,value:s[0],onChange:e=>r(e?[e]:[]),onPressEnter:()=>{a(s[0]),d()},style:{marginBottom:8,display:"block"}}),(0,m.jsx)(Me.ZP,{type:"primary",onClick:()=>{"text"===t?null===o||void 0===o||o(String(s[0])):null===a||void 0===a||a(s[0]),d()},icon:(0,m.jsx)(ao.Z,{}),size:"small",style:{width:40}}),(0,m.jsx)(Me.ZP,{onClick:()=>{r([]),null===o||void 0===o||o(void 0),null===a||void 0===a||a(void 0)},size:"small",icon:(0,m.jsx)(lo.Z,{}),style:{width:40}}),(0,m.jsx)(Me.ZP,{type:"text",size:"small",icon:(0,m.jsx)(ro.Z,{}),onClick:()=>d()})]})})})},filterIcon:e=>(0,m.jsx)(ao.Z,{style:{color:e?"#0065ff":"#505f79",fontSize:12,fontWeight:600}}),onFilterDropdownOpenChange:e=>{e&&setTimeout((()=>{var e,t;null===n||void 0===n||null===(e=n.current)||void 0===e||e.select(),null===i||void 0===i||null===(t=i.current)||void 0===t||t.select()}),100)}}}function ho(e,t,n){return po(e,"text",t,void 0,n,void 0)}var vo=n(41928);const go={container:"manageSeatDialog_container__PSQfZ",actions:"manageSeatDialog_actions__-SQvk",item:"manageSeatDialog_item__4lsKh",na:"manageSeatDialog_na__ohS2u",name:"manageSeatDialog_name__eJPzf",org:"manageSeatDialog_org__Ul2d8",user:"manageSeatDialog_user__9kt0i",inviteUrl:"manageSeatDialog_inviteUrl__gWElJ",invite:"manageSeatDialog_invite__MsZRf",nameCell:"manageSeatDialog_nameCell__dNd8-",editIcon:"manageSeatDialog_editIcon__OC12X"};function fo(e){const{open:t=!1,onDismiss:n,id:l,type:r,service:s,members:d,viewers:c=0,isFeishuDashboard:u}=e,p=(0,a.Z)(),[h,f]=(0,i.useState)(!1),[y,w]=(0,i.useState)([]),[b,C]=(0,i.useState)("editor"),x=l||r,I="feishu"===r,j=I||"lark"===r,M="feishuDashboard"===r||"larkDashboard"===r,k=(0,Xi.cr)("feishu"===r||"feishuDashboard"===r),{data:T,mutate:E,isLoading:P}=(0,Z.ZP)(t&&x?["seat/list/members",x]:void 0,(e=>{let[t,n]=e;return s.listUsers(n)})),[O,S]=(0,i.useState)(!1),_=(0,i.useMemo)((()=>{var e;return l||(null===T||void 0===T||null===(e=T.find((e=>e.orgID)))||void 0===e?void 0:e.orgID)}),[l,T]),[N,D]=(0,i.useState)(null),[L,A]=(0,i.useState)(""),[R]=(0,i.useMemo)((()=>{const e=(null===T||void 0===T?void 0:T.filter((e=>e.role&&"none"!==e.role)))||[];return[e.filter((e=>e.orgID===_)),e.filter((e=>e.orgID!==_))]}),[T,_]),[F,z]=(0,i.useMemo)((()=>{var e;return[(null===T||void 0===T?void 0:T.filter((e=>!e.role||"none"===e.role)))||[],(null===T||void 0===T||null===(e=T.filter((e=>"admin"===e.role||"editor"===e.role)))||void 0===e?void 0:e.length)||0]}),[T]),B=(0,i.useMemo)((()=>[{value:"admin",label:p.$t({id:"3wmuyF",defaultMessage:"Administrator"})},{value:"editor",label:p.$t({id:"fWKwFM",defaultMessage:"Editor"})}]),[p]),V=(0,i.useMemo)((()=>[{text:p.$t({id:"3wmuyF",defaultMessage:"Administrator"}),value:"admin"},{text:p.$t({id:"fWKwFM",defaultMessage:"Editor"}),value:"editor"}]),[p]),H=(0,i.useMemo)((()=>{var e,t;return(null===(e=Array.from(new Set(null===T||void 0===T||null===(t=T.filter((e=>e.orgName)))||void 0===t?void 0:t.map((e=>e.orgName)))))||void 0===e?void 0:e.map((e=>({text:null!==e&&void 0!==e?e:"",value:null!==e&&void 0!==e?e:""}))))||[]}),[T]),W=(0,i.useMemo)((()=>y.length>0),[y]),U=(0,i.useMemo)((()=>B.map((e=>{const t=("admin"===e.value||"editor"===e.value)&&z>=d;return{...e,disabled:t}}))),[B,d,z]),[G,q]=(0,i.useState)(),[$,J]=(0,i.useState)(),Q=(0,i.useRef)(null),K=(0,i.useMemo)((()=>{let e=R||[];return G&&(e=e.filter((e=>e.uid.toLowerCase().includes(G.toLowerCase())))),$&&(e=e.filter((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes($.toLowerCase()))||(0,oo.N9)(e.name||"",{toneType:"none"}).toLowerCase().includes($.toLowerCase())}))),e}),[R,G,$]),Y=(0,i.useCallback)((e=>"freeUsers"===e?p.$t({id:"58L2kE",defaultMessage:"Free Users"}):"viewers"===e?p.$t({id:"37mth/",defaultMessage:"Viewers"}):p.$t({id:"n78zqT",defaultMessage:"Seats"})),[p]),X=(0,i.useCallback)((async e=>{S(!0);try{await e()}catch(t){const e=t;try{if("QuotaLimitError"===(null===e||void 0===e?void 0:e.name)&&null!==e&&void 0!==e&&e.message){const t=JSON.parse(e.message);tn.ZP.error(p.$t({id:"isA/hY",defaultMessage:"The number of added {item} exceeds the current plan's limit {limit}. Please reduce the number or contact us to upgrade."},{item:(0,m.jsx)("strong",{children:Y(t.item)}),limit:(0,m.jsx)("strong",{children:t.limit})}))}}catch{}}finally{S(!1)}}),[p,Y]),ee=(0,i.useCallback)((async(e,t)=>{await X((async()=>{await s.updateRole(x,{roleMap:{[e]:t}}),await E()}))}),[X,s,x,E]),te=(0,i.useCallback)((async e=>{await X((async()=>{await s.updateRole(x,{roleMap:{[e]:null}}),await E()}))}),[X,s,x,E]),ne=(0,i.useCallback)((async(e,t)=>{await s.updateUserName(x,e,t),await E()}),[E,x,s]),ie=(0,i.useMemo)((()=>[{title:"User ID",dataIndex:"uid",key:"uid",filtered:!!G,...ho("",Q,q),width:300},{title:(0,m.jsxs)(g.Z,{align:"center",gap:4,children:[p.$t({id:"HAlOn1",defaultMessage:"Name"}),M&&(0,m.jsx)(Ce.L0,{text:(0,he.Em)({id:"oxx2bp",defaultMessage:"User names cannot be synced due to Lark security limits. Please add the name manually or check the <a>help doc</a> for syncing guidance."}),link:"dashboardUserName",isFeishuDashboard:u})]}),dataIndex:"name",key:"name",render:(e,t)=>N===t.id?(0,m.jsx)(De.default,{value:L,onChange:e=>A(e.target.value),onPressEnter:()=>{ne(t.id,L),D(null)},onBlur:()=>{D(null)},autoFocus:!0}):(0,m.jsxs)("div",{className:go.nameCell,children:[(0,m.jsx)("span",{children:null!==e&&void 0!==e?e:(0,m.jsx)("span",{className:go.na,children:"N/A"})}),(0,m.jsx)(At.Z,{type:"edit",className:go.editIcon,onClick:()=>{D(t.id),A(t.name||"")}})]}),filtered:!!$,...ho("",Q,J),width:200},{title:p.$t({id:"1ZgrhW",defaultMessage:"Role"}),dataIndex:"role",key:"role",filterMode:"menu",filters:V,onFilter:(e,t)=>t.role===e,render:(e,t)=>(0,m.jsx)(to.Z,{className:go.roleSelect,value:e,style:{width:140},onChange:e=>ee(t.id,e),options:B}),width:160},{title:p.$t({id:"K56Dim",defaultMessage:"Organization"}),dataIndex:"orgName",key:"orgName",filterMode:"menu",filters:H,onFilter:(e,t)=>t.orgName===e,width:150},{title:p.$t({id:"QlsDcr",defaultMessage:"Action"}),key:"action",render:(e,t)=>(0,m.jsx)(no.Z,{title:p.$t({id:"tXex/H",defaultMessage:"Are you sure to delete?"}),onConfirm:()=>te(t.id),okText:p.$t({id:"a5msuh",defaultMessage:"Yes"}),cancelText:p.$t({id:"oUWADl",defaultMessage:"No"}),children:(0,m.jsx)(Me.ZP,{type:"link",danger:!0,children:p.$t({id:"K3r6DQ",defaultMessage:"Delete"})})}),width:60}]),[G,p,$,V,H,B,ee,te,N,L,M,u,ne,D,A]),oe=(0,i.useMemo)((()=>ie.filter((e=>"orgName"!==e.key))),[ie]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(de.Vq,{visible:t,footer:null,title:(0,m.jsxs)(g.Z,{align:"center",gap:4,children:[p.$t({id:"WeWZ5Q",defaultMessage:"Manage Seats"})," ","lark"===r&&(0,m.jsx)(bn.Z,{title:p.$t({id:"b58EnR",defaultMessage:"<a>See instruction</a>"},{a:e=>(0,m.jsx)("a",{href:vo.Xe,target:"_blank",rel:"noreferrer",children:e})}),children:(0,m.jsx)(At.Z,{type:"info",cursor:"pointer"})}),(0,m.jsxs)("div",{className:go.item,children:[(0,m.jsxs)("div",{className:go.label,children:[(0,m.jsx)("span",{children:p.$t({id:"n78zqT",defaultMessage:"Seats"})}),(0,m.jsx)(Ce.L0,{text:(0,he.Em)({id:"3xu7dx",defaultMessage:"This section displays the number of assigned seats and the total number of seats for your team. Assigned seats include both assigned admin and editor seats. Total seats refer to the total number of seats purchased by the organization, including admin, editor and viewer seats."})})]}),(0,m.jsx)(Qi,{max:d+c,used:z,showLabel:!0})]}),j&&c>0&&(0,m.jsxs)("div",{className:go.item,children:[(0,m.jsxs)("div",{className:go.label,children:[(0,m.jsx)("span",{children:p.$t({id:"26aLQR",defaultMessage:"Includes viewers:"})}),!I&&(0,m.jsx)(Ce.L0,{text:(0,he.Em)({id:"kdWYMW",defaultMessage:"Read-only access"})}),I&&(0,m.jsx)(Ce.L0,{linkUrl:Xi.g_,text:(0,he.Em)({id:"E926Nm",defaultMessage:"To assign viewer seats, please go to the <a>Admin Console</a>"}),secondary:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"L+3IEh",defaultMessage:"or refer to the <a>Help Doc</a>"}),linkUrl:k,isFeishuDashboard:u})})]}),c]})]}),width:880,onCancel:n,destroyOnHidden:!0,zIndex:1049,children:(0,m.jsxs)("div",{className:go.container,children:[(0,m.jsx)(o.Z,{defaultActiveKey:"members",onChange:function(e){q(void 0),J(void 0)},items:[{key:"members",label:p.$t({id:"+a+2ug",defaultMessage:"Members"}),children:(0,m.jsx)(io.default,{className:go.table,dataSource:K,columns:oe,rowKey:"uid",loading:O||P,pagination:{position:["bottomLeft"],size:"small"}})}]}),(0,m.jsx)("div",{className:go.actions,children:(0,m.jsx)(Me.ZP,{type:"primary",onClick:function(){C("editor"),w([]),f(!0)},disabled:0===d&&0===c&&!W,children:p.$t({id:"BcSdw3",defaultMessage:"Add Members"})})})]})}),(0,m.jsx)(de.Vq,{title:p.$t({id:"BcSdw3",defaultMessage:"Add Members"}),visible:h,width:680,zIndex:1050,destroyOnHidden:!0,onCancel:()=>f(!1),footer:(0,m.jsxs)(g.Z,{justify:"end",align:"center",gap:24,children:[(0,m.jsx)(Me.ZP,{onClick:()=>f(!1),children:p.$t({id:"47FYwb",defaultMessage:"Cancel"})}),(0,m.jsx)(Me.ZP,{type:"primary",onClick:async function(){W&&await X((async()=>{const e=y.reduce(((e,t)=>(e[t]=b,e)),{});await s.updateRole(x,{roleMap:e}),await E(),f(!1),w([])}))},disabled:!W,loading:O,children:p.$t({id:"2/2yg+",defaultMessage:"Add"})})]}),children:(0,m.jsxs)(v.Z,{labelCol:{span:6},labelAlign:"left",children:[(0,m.jsx)(v.Z.Item,{label:p.$t({id:"1ZgrhW",defaultMessage:"Role"}),children:(0,m.jsx)(to.Z,{style:{width:"100%"},value:b,onChange:C,options:U})}),(0,m.jsx)(v.Z.Item,{label:p.$t({id:"+a+2ug",defaultMessage:"Members"}),tooltip:(0,m.jsx)(Ce.BQ,{text:(0,he.Em)({id:"UFwpet",defaultMessage:"If you can't find the member or their name in the list, <a>follow this guide</a> to resolve."}),link:"selectMembers",isFeishuDashboard:u}),children:(0,m.jsx)(to.Z,{showSearch:!0,mode:"multiple",style:{width:"100%"},placeholder:p.$t({id:"NhDXeq",defaultMessage:"Search or select users"}),value:y,onChange:w,options:F.map((e=>{var t;return{label:(0,m.jsxs)("span",{className:go.user,children:[e.name?(0,m.jsx)("strong",{className:go.name,children:e.name}):"",(0,m.jsx)("span",{children:e.uid})]}),title:((null!==(t=e.name)&&void 0!==t?t:"")+"_"+e.uid).toLowerCase(),value:e.id}})),filterOption:(e,t)=>{const n=(null===t||void 0===t?void 0:t.title)||"",i=e.toLowerCase();return n.includes(i)||(0,oo.N9)(n,{toneType:"none"}).toLowerCase().includes(i)}})})]})})]})}var mo=n(74797),yo=n(22963);const wo=(0,yo.Fs)({baseURL:"".concat(mo.Z.baseApiURL,"/workspaces")});class bo extends yo.tr{async listUsers(e){try{const{data:t}=await this.fetch.get("/".concat(e,"//users/"),{ignoreError:!0});return t.detail}catch{return null}}async updateRole(e,t){const{data:n}=await this.fetch.patch("/".concat(e,"//users/"),t);return n.detail}async removeRole(e,t){const{data:n}=await this.fetch.delete("/".concat(e,"//users/").concat(t,"/"));return n.detail}async updateUserName(e,t,n){const{data:i}=await this.fetch.patch("/".concat(e,"//users/").concat(t,"/"),{name:n});return i.detail}}const Co=new bo(wo);function xo(e){return(0,m.jsx)(fo,{...e,service:Co})}var Io=n(40621),jo=n(15328);function Mo(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null!==(n=(0,jo.cS)(e,"plan.type",i?"edu":o?"trial":t))&&void 0!==n?n:""}var ko=n(38362);const To="planInfo_pane__DATqi",Eo="planInfo_plan__IzIma",Po="planInfo_title__Vk9EE",Oo="planInfo_info__0Fy4m",So="planInfo_usage__Le06P",_o="planInfo_actions__Gh73q",No="planInfo_button__-LduQ",Do="planInfo_icon__Q9bIi",Lo="planInfo_links__TFhFY",Ao="planInfo_blue__zdcXQ",Ro="planInfo_mauIcon__+T60k",Zo="planInfo_mauInfo__l9Qti",Fo="planInfo_tooltipDescription__iijDb",zo="planInfo_mauTable__np58e",Bo="planInfo_avgRow__8Svi4",Vo="viewerList_wrapper__jmlVL",Ho="viewerList_exportButton__ibVNT";function Wo(e){const{projectID:t,platform:n,open:i=!1,onDismiss:o}=e,l=(0,a.Z)(),{data:r}=(0,Z.ZP)(i?["dashboard/usage",t]:null,(()=>Ki.Z.usage(n,t))),s=[{title:l.$t({id:"55vTH+",defaultMessage:"User ID"}),dataIndex:"userID",key:"userID"},{title:l.$t({id:"HAlOn1",defaultMessage:"Name"}),dataIndex:"name",key:"name"},{title:l.$t({id:"2eBObM",defaultMessage:"Last View Time"}),dataIndex:"lastViewTime",key:"lastViewTime",render:e=>(0,lt.o0)(e)}];return(0,m.jsx)(Wi.Vq,{width:800,title:l.$t({id:"D6pV4B",defaultMessage:"Viewer List"}),visible:i,onOk:o,onCancel:o,cancelText:null,destroyOnHidden:!0,children:(0,m.jsxs)("div",{className:Vo,children:[(0,m.jsx)(io.default,{columns:s,dataSource:r||[],rowKey:"userID",pagination:{pageSize:20}}),(0,m.jsx)(Me.ZP,{type:"primary",onClick:()=>{if(!r||0===r.length)return;const e=[[l.$t({id:"55vTH+",defaultMessage:"User ID"}),l.$t({id:"HAlOn1",defaultMessage:"Name"}),l.$t({id:"2eBObM",defaultMessage:"Last View Time"})].join(","),...r.map((e=>[e.userID,e.name||"",(0,lt.o0)(e.lastViewTime)].map((e=>'"'.concat(e,'"'))).join(",")))].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),i=URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download","viewer_list.csv"),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:Ho,children:l.$t({id:"SVwJTM",defaultMessage:"Export"})})]})})}const Uo=()=>{const e=(0,a.Z)(),t=(0,w.I)(),n=(0,ko.tq)(),{isShared:o}=(0,Xn.Z)(),{planInfo:r,orgId:s,id:d}=(0,l.Z)((e=>e.user)),{showUpgradePlanDialog:u,currentProjectId:p}=(0,l.Z)((e=>e.project)),[h,v]=(0,i.useState)(!1),[g,f]=(0,i.useState)(!1),{plan:y,expireAt:b,members:C}=(null===r||void 0===r?void 0:r.teamPlan)||{plan:"base"},{isPro:x,isTrial:I,proExpirationAt:j,isOverQuota:M,canTrial:k,isAdmin:T,teamPlan:E}=r||{},P=I?j:b,O=x&&I,S=x&&"base"!==y,_=(null===E||void 0===E?void 0:E.prevPlan)&&"base"!==E.prevPlan,N=S||_,{isFeiShu:D}=(0,J.k)(),L=D?"feishuDashboard":"larkDashboard",{data:A}=(0,Z.ZP)(o?null:["getPlanStat"],(()=>Ki.Z.stat(D?"feishuDashboard":"larkDashboard"))),R=(0,i.useMemo)((()=>{var e;return(null===A||void 0===A||null===(e=A[0])||void 0===e||null===(e=e.userIDs)||void 0===e?void 0:e.length)||1}),[A]),[F,z,B]=(0,i.useMemo)((()=>k?[e.$t({id:"9bIRYn",defaultMessage:"Start Trial"}),e.$t({id:"QMGiUF",defaultMessage:"Free Trial"}),e.$t({id:"/0x6rd",defaultMessage:"Get Map Widgets free for 7 days. No credit card needed."})]:M?[e.$t({id:"bcUuyQ",defaultMessage:"Expand Capacity Now"}),e.$t({id:"l43c99",defaultMessage:"Monthly Active Users Limit Exceeded"}),e.$t({id:"UtBGfJ",defaultMessage:"Your current plan supports {members} active users, but your organization have already reached {mau}. To continue using, please expand your capacity."},{mau:(0,m.jsx)("span",{className:Ao,children:R}),members:(0,m.jsx)("span",{className:Ao,children:C})})]:[e.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),e.$t({id:"8Wfi09",defaultMessage:"Upgrade Plan"}),e.$t({id:"VpP9R+",defaultMessage:"Upgrade plan to save all your changes and unlock full potential of Map Widgets."})]),[k,M,e,R,C]),V=(0,i.useMemo)((()=>{if(!A)return{recentMonths:[],avg:0};const e=A.slice(0,3).map((e=>{var t;return{month:e.month,value:(null===(t=e.userIDs)||void 0===t?void 0:t.length)||0}})),t=Math.ceil(e.reduce(((e,t)=>e+t.value),0)/e.length);return{recentMonths:e,avg:t}}),[A]),H=(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:Fo,children:e.$t({id:"ToBfWC",defaultMessage:"This shows how many team members engaged(view or edit) the map widgets at least once in the past 3 months, and the current active seat count for your team."})}),(0,m.jsx)("table",{className:zo,children:(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{className:Bo,children:[(0,m.jsx)("th",{children:e.$t({id:"rbVj9G",defaultMessage:"Avg."})}),(0,m.jsx)("td",{children:V.avg})]}),V.recentMonths.map((e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:e.month}),(0,m.jsx)("td",{children:e.value})]},e.month)))]})})]});const W=i=>i&&k?(async function(){if(!o)try{var e;if("completed"!==(null===(e=(await Ki.Z.createOrder(L,"trial",{paymentMethod:"stripe"})).detail)||void 0===e||null===(e=e.order)||void 0===e?void 0:e.status))return;const{code:n,detail:i}=await Ki.Z.getOrdersPlan(L);if(0!==n)return;await t(eo.Nw.planChange(i))}catch{}}(),tn.ZP.success(e.$t({id:"YiiMWN",defaultMessage:"Free trial activated! Click Confirm to add or save this map to the dashboard."})),void t(c.Nw.setUpgradePlanDialogVisible(!1))):n?tn.ZP.info(e.$t({id:"+UNKHA",defaultMessage:"Please process the upgrade from your computer"})):(t(c.Nw.setUpgradeDialogVisible(!0)),void Yi.Z.mpTrackClick("Plan","Upgrade",e.locale,{}));return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:To,children:[(0,m.jsxs)("div",{className:Eo,children:[(0,m.jsx)("div",{className:Po,children:e.$t({id:"BJ+nP3",defaultMessage:"Current Version:"})}),(0,m.jsx)("div",{className:Oo,children:O?e.$t({id:"PI5zms",defaultMessage:"Free trial"}):Mo(e,y)}),(0,m.jsx)("div",{className:Po,children:e.$t({id:"H4Yg5N",defaultMessage:"MAU in this month:"})}),(0,m.jsxs)("div",{className:Oo,children:[(0,m.jsxs)("span",{children:[R,S?" / ".concat(null!==C&&void 0!==C?C:1):""]}),(0,m.jsx)(bn.Z,{title:H,placement:"bottom",children:N?(0,m.jsx)(At.Z,{type:"info",className:Ro}):(0,m.jsx)("div",{className:Zo,children:e.$t({id:"UZOCOp",defaultMessage:"See MAU usage for last 3 months"})})}),N&&(0,m.jsx)(Qi,{className:So,max:null!==C&&void 0!==C?C:1,used:R}),N&&T&&(0,m.jsx)(Me.ZP,{type:"link",onClick:()=>v(!0),children:e.$t({id:"WeWZ5Q",defaultMessage:"Manage Seats"})})]}),x&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:Po,children:e.$t({id:"KCsbwB",defaultMessage:"Valid Until:"})}),(0,m.jsx)("div",{className:Oo,children:P&&(0,lt.p6)(P)})]}),s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:Po,children:e.$t({id:"ToZCol",defaultMessage:"Organization:"})}),(0,m.jsx)("div",{className:Oo,children:s})]}),d&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:Po,children:e.$t({id:"IVcbdP",defaultMessage:"User:"})}),(0,m.jsx)("div",{className:Oo,children:d})]})]}),(0,m.jsxs)("div",{className:_o,children:[S?(0,m.jsx)(Me.ZP,{className:No,type:"default",size:"small",onClick:()=>W(!1),children:e.$t({id:"ljqbVr",defaultMessage:"Add more seats"})}):(0,m.jsx)(Io.Z,{onClick:()=>W(!1),children:_?e.$t({id:"7q/bs/",defaultMessage:"Renew now"}):e.$t({id:"mmafso",defaultMessage:"Subscribe now"})}),S&&T&&(0,m.jsx)(Me.ZP,{className:No,type:"default",size:"small",onClick:()=>f(!0),children:e.$t({id:"D6pV4B",defaultMessage:"Viewer List"})})]})]}),(0,m.jsxs)("div",{className:Lo,children:[(0,m.jsxs)("span",{children:[(0,m.jsx)(At.Z,{type:"chat",className:Do}),(0,m.jsx)("a",{href:Xi.Hf,target:"_blank",rel:"noreferrer",children:e.$t({id:"nCYYaf",defaultMessage:"Need help? Contact us"})})]}),(0,m.jsxs)("span",{children:[(0,m.jsx)(At.Z,{type:"document",className:Do}),(0,m.jsx)("a",{href:(0,Ce.t1)(e.locale,"dashboardPricing",D),target:"_blank",rel:"noreferrer",children:e.$t({id:"vBlT6y",defaultMessage:"Documents"})})]})]}),(0,m.jsx)(xo,{open:h,onDismiss:()=>v(!1),type:L,members:null!==C&&void 0!==C?C:0,enableOutside:!1,isFeishuDashboard:D}),p&&(0,m.jsx)(Wo,{open:g,onDismiss:()=>f(!1),projectID:p,platform:L}),(0,m.jsx)(Wi.Vq,{title:z,visible:!!u,onOk:()=>W(!0),okText:F,onCancel:()=>t(c.Nw.setUpgradePlanDialogVisible(!1)),cancelText:null,destroyOnHidden:!0,children:(0,m.jsxs)("span",{children:[B,"\xa0",(0,m.jsx)("a",{href:(0,Ce.t1)(e.locale,"dashboardPricing",D),target:"_blank",rel:"noreferrer",children:e.$t({id:"tbcTs8",defaultMessage:"Learn more about Map Widgets."})})]})})]})},Go={form:"configPanel_form__eLBE5",divider:"configPanel_divider__1AHaq",container:"configPanel_container__9IYea",whiteBg:"configPanel_whiteBg__cBAcm",box:"configPanel_box__+P8pt",configLabel:"configPanel_configLabel__kqCUv",configLabelTooltip:"configPanel_configLabelTooltip__CPWoz",colorSection:"configPanel_colorSection__CUmo9",horizontal:"configPanel_horizontal__d0t1A",heightSettingProBadge:"configPanel_heightSettingProBadge__DRY3g",labelContainer:"configPanel_labelContainer__rCN1u",labelBox:"configPanel_labelBox__HeA2k",labelWrap:"configPanel_labelWrap__g+YuO",baseMapSwitch:"configPanel_baseMapSwitch__lV+so",mask:"configPanel_mask__ni06x"},qo=i.forwardRef(((e,t)=>{const{layerType:n,layers:l}=e,r=(0,a.Z)(),s=(0,i.useRef)(),[d,c]=(0,i.useState)("style");(0,i.useImperativeHandle)(t,(()=>{var e;return{form:null===(e=s.current)||void 0===e?void 0:e.form}}));const u=(0,i.useMemo)((()=>[{key:"style",label:r.$t({id:"7mL9QE",defaultMessage:"Style"}),forceRender:!0,children:(0,m.jsx)("div",{className:Go.pane,children:(0,m.jsx)(Hi,{layerType:n,ref:s,layers:l})})},{key:"plan",label:r.$t({id:"fz0z4c",defaultMessage:"Plan"}),forceRender:!0,children:(0,m.jsx)("div",{className:Go.pane,children:(0,m.jsx)(Uo,{})})}]),[r,n,l]);return(0,m.jsx)(o.Z,{size:"small",defaultActiveKey:"style",activeKey:d,onChange:c,items:u})}))},5446:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Z:()=>T});var o=n(57435),a=n(41439),l=n(50239),r=n(71105),s=n(15905),d=n(89166),c=n(47752),u=n(95620),p=n(74922),h=n(20881),v=n(84991),g=n(80401),f=n(34061),m=n(45818),y=n(12866),w=n(26017),b=n(68429),C=n(15328),x=n(52403),I=n(94553),j=e([y]);y=(j.then?(await j)():j)[0];const M=e=>{let{preview:t,config:n,layerType:i="pointLinePolygon",isSaving:y,onSubmit:w}=e;const C=(0,u.Z)(),{isConfig:j,isCreate:M}=(0,p.Z)(),{isFeiShu:k}=(0,v.k)(),{theme:T}=(0,g.F)();(0,h.X)(i);const E=(0,o.useMemo)((()=>{switch(i){case"heatmap":return(0,m.t1)(C.locale,"dashboardHeatmap",k);case"region":return(0,m.t1)(C.locale,"dashboardRegion",k);default:return(0,m.t1)(C.locale,"dashboardIcon",k)}}),[k,i,C.locale]);return(0,I.jsxs)(a.Z,{className:x.Z.main,"data-config-status":j||M,"data-theme":T,children:[(0,I.jsx)(a.Z.Content,{className:x.Z.preview,"data-config-status":j||M,"data-theme":T,children:t}),(j||M)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(l.Z,{justify:"space-between",className:x.Z.configPanel,children:(0,I.jsx)("div",{className:x.Z.config,children:n})}),(0,I.jsx)(l.Z,{className:x.Z.footer,children:(0,I.jsx)("div",{className:x.Z.adSection,children:(0,I.jsxs)(r.Z,{className:x.Z.helpContainer,justify:"space-between",align:"middle",children:[(0,I.jsx)(s.Z,{span:6,children:(0,I.jsx)(d.ZP,{icon:(0,I.jsx)(b.Z,{type:"document"}),type:"link",href:E,target:"_blank",className:x.Z.helpBtn,children:C.$t({id:"feishu.dashboard.helpDoc",defaultMessage:"Docs"})})}),(0,I.jsx)(s.Z,{span:8,children:(0,I.jsx)(d.ZP,{icon:(0,I.jsx)(b.Z,{type:"userGroup"}),type:"link",href:f.Hf,target:"_blank",className:x.Z.helpBtn,children:C.$t({id:"feishu.dashboard.feedbackGroup",defaultMessage:"Feedback"})})}),(0,I.jsx)(s.Z,{span:10,className:x.Z.submitSection,children:(0,I.jsxs)(l.Z,{align:"center",gap:4,children:[(0,I.jsx)(d.ZP,{type:"primary",className:x.Z.submitBtn,loading:y,onClick:w,children:C.$t({id:"N2IrpM",defaultMessage:"Confirm"})}),(0,I.jsx)(c.Z,{title:C.$t({id:"R9HWHc",defaultMessage:"Adding too many(nomarlly more than 5) map widgets on one dashboard or app page may cause the basemap fail to load."}),children:(0,I.jsx)(b.Z,{type:"info"})})]})})]})})})]})]})},k=(0,w.Z)((()=>(0,C.wv)({id:"nywAPu",defaultMessage:"Something went wrong, please refresh and reopen the page."})))(M),T=(0,y.Z)(k);i()}catch(M){i(M)}}))},27862:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Z:()=>o.Z});var o=n(5446),a=e([o]);o=(a.then?(await a)():a)[0],i()}catch(l){i(l)}}))},60883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>zr});var i=n(57435),o=n(17778),a=n(95620),l=n(30289),r=n(59680),s=n(55349),d=n.n(s),c=n(4738);const u=[116.39954964813437,39.89971150688763];var p=n(82828),h=n(22411),v=n(34262),g=n(44669),f=n(10276),m=n(75805),y=n(42063),w=n(80634),b=n(84991),C=n(68906),x=n(30768),I=n(9275),j=n(38882),M=n(7070),k=n.n(M),T=n(11865),E=n.n(T),P=n(33718),O=n(27831),S=n.n(O),_=n(53182),N=n.n(_),D=n(23903),L=n.n(D),A=n(18765),R=n.n(A),Z=n(34362),F=n.n(Z),z=n(50239),B=n(14840),V=n(40436),H=n(40517),W=n(80593),U=n(68429),G=n(98238),q=n(89983),$=n(33760),J=n(89614),Q=n(27371),K=n(89166),Y=n(76625),X=n(79129),ee=n(56912),te=n(44839),ne=n(30423),ie=n(83580),oe=n(1714),ae=n(69151),le=n(65270),re=n(46481);function se(e,t,n){var i;const o=null===t||void 0===t||null===(i=t.find((e=>e.id===n)))||void 0===i?void 0:i.columns;if(!o)return e||[];const a=o.map((e=>e.id));return(e||[]).filter((e=>a.includes(e.id)))}(0,re.P1)([(e,t)=>{var n;return oe.TW.selectById(e,null!==(n=t.tableNodeId)&&void 0!==n?n:NaN)},(e,t)=>t.viewId],((e,t)=>se(null===e||void 0===e?void 0:e.columns,null===e||void 0===e?void 0:e.views,t)));var de=n(49633),ce=n(23705),ue=n(85886),pe=n.n(ue),he=n(82959),ve=n.n(he),ge=n(11546);function fe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;const o=(0,a.Z)(),[l,r]=(0,i.useState)([]);(0,i.useEffect)((()=>{r((()=>{if(t&&t.length>0){const n=ve()(t.map((t=>e.find((e=>e.id===t))))).map((e=>({...e,isHidden:!1}))),i=R()(e,(e=>-1===t.indexOf(e.id))).map((e=>({...e,isHidden:!0})));return pe()(n,i)}return e.map(((e,t)=>({...e,isHidden:t>=n})))}))}),[e,n,t]);const s=(0,i.useCallback)((e=>{const{oldIndex:t}=e;let{newIndex:n}=e;l[n].isHidden&&(n=l.findIndex((e=>e.isHidden))-1);const i=(0,ce.Rp)(l,t,n),a=N()(i);if(a&&!ge.Vj.includes(a.type))return Q.ZP.info(o.$t({id:"AFeshb",defaultMessage:"This type of field cannot be the title"}));r(i)}),[o,l]),d=(0,i.useCallback)((e=>{r((t=>{const i=t.findIndex((t=>t.id===e.id)),a=t.filter((e=>!e.isHidden)).length;if(e.isHidden){if(a===n)return Q.ZP.warning(o.$t({id:"gAh7Yb",defaultMessage:"Maximum display field exceeded"})),t;let e=t.findIndex((e=>e.isHidden));e=-1===e?0:e,t=(0,ce.Rp)(t,i,e)}else{if(1===a)return t;let e=t.findIndex((e=>e.isHidden));e=-1===e?t.length-1:e-1,t=(0,ce.Rp)(t,i,e)}return t.map((t=>t.id===e.id?{...t,isHidden:!t.isHidden}:t))}))}),[n,o]);return{movableColumns:l,handleMove:s,handleSwitchVisibility:d}}const me={resetButton:"fieldSettingModal_resetButton__MOBkV",movableItem:"fieldSettingModal_movableItem__gftIE",columnIcon:"fieldSettingModal_columnIcon__-BnZr",columnName:"fieldSettingModal_columnName__wqybB",handle:"fieldSettingModal_handle__HrQrT",hidden:"fieldSettingModal_hidden__Jnex4",switch:"fieldSettingModal_switch__JV5pl",switchText:"fieldSettingModal_switchText__4senN",fieldList:"fieldSettingModal_fieldList__f9-yk",tabs:"fieldSettingModal_tabs__6Jwie",tab:"fieldSettingModal_tab__X2pdi",tabButton:"fieldSettingModal_tabButton__25FFS",selectedButton:"fieldSettingModal_selectedButton__Go8fM",buttonText:"fieldSettingModal_buttonText__PyNz1",caretIcon:"fieldSettingModal_caretIcon__OuLtV",plusButton:"fieldSettingModal_plusButton__k10K-",iconOnly:"fieldSettingModal_iconOnly__668CH",tabInput:"fieldSettingModal_tabInput__uobVt",notification:"fieldSettingModal_notification__H7WF2",form:"fieldSettingModal_form__rErxm",layoutLabel:"fieldSettingModal_layoutLabel__nMxuc",divider:"fieldSettingModal_divider__gMScr"};var ye=n(94553);const we=e=>{let{columns:t,visibleIdsSorted:n,onColumnsUpdate:o,maxVisibleCount:l}=e;const{movableColumns:r,handleMove:s,handleSwitchVisibility:d}=fe(t,n,l),c=(0,a.Z)();return(0,i.useEffect)((()=>{null===o||void 0===o||o(R()(r,(e=>!e.isHidden)).map((e=>e.id)))}),[r,o]),(0,ye.jsx)("div",{className:me.fieldList,children:(0,ye.jsx)(ce.aV,{lockVertically:!0,values:r,onChange:s,renderList:e=>{let{children:t,props:n}=e;return(0,ye.jsx)("div",{...n,children:t})},renderItem:e=>{var n,i;let{value:o,props:a}=e;return(0,ye.jsxs)("div",{...a,className:(0,P.default)(me.movableItem,o.isHidden&&me.hidden),children:[(0,ye.jsx)(K.ZP,{className:me.handle,type:"text",size:"small","data-movable-handle":!0,icon:(0,ye.jsx)(U.Z,{type:"movable",className:me.icon})}),(0,ye.jsx)(U.Z,{type:(null===t||void 0===t||null===(n=t.find((e=>e.id===o.id)))||void 0===n?void 0:n.type)||"multiLineText",className:me.columnIcon}),(0,ye.jsx)("div",{className:me.columnName,children:null===t||void 0===t||null===(i=t.find((e=>e.id===o.id)))||void 0===i?void 0:i.name}),(0,ye.jsx)(de.Z,{className:me.switch,style:{marginLeft:"auto"},size:"small",checked:!o.isHidden,onChange:e=>d(o)}),(0,ye.jsx)("div",{className:me.switchText,children:o.isHidden?c.$t({id:"VA/Z1S",defaultMessage:"Hide"}):c.$t({id:"K7AkdL",defaultMessage:"Show"})})]})}})})},be=[{value:"clickBtn",msg:(0,X.Em)({id:"cY7cXz",defaultMessage:"Click close button"})},{value:"clickOtherPOI",msg:(0,X.Em)({id:"G4dL90",defaultMessage:"Click other POIs"})},{value:"clickBlankSpace",msg:(0,X.Em)({id:"A/RzDx",defaultMessage:"Click blank space"})}],Ce=[{value:"horizontal",msg:(0,X.Em)({id:"map.sort.table",defaultMessage:[]}),icon:(0,ye.jsx)(U.Z,{type:"sortTable"})},{value:"vertical",msg:(0,X.Em)({id:"map.sort.list",defaultMessage:[]}),icon:(0,ye.jsx)(U.Z,{type:"sortList"})}],xe=e=>{var t;let{tableNodeId:n,poi:o,dialog:l,setInfoWindowConfig:r,checkPermission:s}=e;const d=(0,ne.I)(),c=(0,a.Z)(),{isMobile:u}=(0,le.F)(),[p]=J.Z.useForm(),h=(0,C.Z)((e=>e.project.infoWindowConfig)),{currentProjectId:v}=(0,C.Z)((e=>e.project)),g=(0,C.Z)((e=>(0,te.Y)(e,v))).find((e=>e.id===(null===o||void 0===o?void 0:o.layerID))),f=(0,C.Z)((e=>oe.TW.selectById(e,n))),m=(0,i.useMemo)((()=>{var e;return se(null===f||void 0===f?void 0:f.columns,null===f||void 0===f?void 0:f.views,null===g||void 0===g||null===(e=g.mapInfo)||void 0===e?void 0:e.viewID)}),[null===g||void 0===g||null===(t=g.mapInfo)||void 0===t?void 0:t.viewID,null===f||void 0===f?void 0:f.columns,null===f||void 0===f?void 0:f.views]),y=(0,C.Z)((e=>{var t;return n?null===(t=e.project.infoWindowConfig)||void 0===t||null===(t=t.columnIDs)||void 0===t?void 0:t[n]:void 0})),w=(0,i.useMemo)((()=>{var e;return{closeWay:(null===h||void 0===h?void 0:h.closeWay)||"clickBtn",coverImage:(null===h||void 0===h||null===(e=h.coverImages)||void 0===e?void 0:e[n])||(null===h||void 0===h?void 0:h.coverImage)||"null",layout:(null===h||void 0===h?void 0:h.layout)||"horizontal"}}),[h,n]),b=[{id:"null",name:c.$t({id:"OxgxSh",defaultMessage:"None (show text only)"})}],x=(0,i.useMemo)((()=>R()(m,(e=>"attachment"===e.type||(0,ae.Q4)(e)))),[m]),[I,j]=(0,i.useState)([]),M=(0,i.useCallback)((e=>{j(e)}),[j]);return(0,ye.jsxs)(ie.Vq,{okText:c.$t({id:"jvo0vs",defaultMessage:"Save"}),title:c.$t({id:"L+ZBoI",defaultMessage:"Configure info window content"}),visible:l.visible,onCancel:l.close,onOk:async function(){if(!await s(c))return!1;const e=await p.validateFields(),t={closeWay:e.closeWay,coverImages:{[n]:e.coverImage||null},columnIDs:{[n]:I},layout:e.layout};await r(t,d),Q.ZP.success(c.$t({id:"AdgQ3V",defaultMessage:"Saved successfully"})),l.close()},footerAddon:(0,ye.jsx)(K.ZP,{type:"link",className:me.resetButton,onClick:async function(){if(!await s(c))return!1;const e={closeWay:"clickBtn",coverImages:{[n]:null},columnIDs:{[n]:[]},layout:"horizontal"};await r(e,d),Q.ZP.success(c.$t({id:"Lz0FRE",defaultMessage:"Default config restored"})),l.close()},children:c.$t({id:"w+7O+F",defaultMessage:"Default config"})}),children:[(0,ye.jsxs)("div",{className:me.notification,children:[c.$t({id:"MqJIVL",defaultMessage:"You can adjust the display fields on the info window, and support up to {count} fields. The first field is title."},{count:6}),(0,ye.jsx)("b",{children:c.$t({id:"LxhrV3",defaultMessage:"The config will take effect on all POI info windows in the project."})})]}),(0,ye.jsxs)(J.Z,{colon:!1,labelAlign:"left",labelCol:{span:8},requiredMark:!1,form:p,initialValues:w,className:me.form,children:[(0,ye.jsx)(J.Z.Item,{name:"closeWay",label:c.$t({id:"rx4K7I",defaultMessage:"Window closing"}),hidden:u,children:(0,ye.jsx)(ie.Ph,{placeholder:c.$t({id:"kQAf2d",defaultMessage:"Select"}),options:be.map((e=>({value:e.value,label:c.$t(e.msg)}))),"data-testid":"dismiss-type"})}),(0,ye.jsx)(J.Z.Item,{name:"coverImage",label:c.$t({id:"TilRBW",defaultMessage:"Cover image"}),children:(0,ye.jsx)(ee.Z,{placeholder:c.$t({id:"kQAf2d",defaultMessage:"Select"}),options:x,defaultOptions:b})}),(0,ye.jsx)(J.Z.Item,{name:"layout",label:c.$t({id:"RQ4EKT",defaultMessage:"Layout"}),children:(0,ye.jsx)(ie.Ph,{placeholder:c.$t({id:"kQAf2d",defaultMessage:"Select"}),options:Ce.map((e=>({value:e.value,label:(0,ye.jsxs)(Y.Z,{size:8,align:"center",className:me.layoutLabel,children:[e.icon,c.$t(e.msg)]})}))),"data-testid":"layout-type"})})]}),(0,ye.jsx)(B.Z,{className:me.divider}),m&&(0,ye.jsx)(we,{columns:m,visibleIdsSorted:y,onColumnsUpdate:M,maxVisibleCount:6})]})};var Ie=n(33882),je=n(74720),Me=n.n(je),ke=n(645),Te=n(52643),Ee=n(37383),Pe=n(94908),Oe=n(38362);const Se=()=>{const e=(0,a.Z)(),t=t=>{window.open(t,"_blank"),setTimeout((()=>{document.hidden||Q.ZP.warning(e.$t({id:"MaXnoV",defaultMessage:"Can't launch the map? Check if the app is installed."}))}),2e3)};return{navigate:(e,n,i)=>{const o=((e,t,n)=>"gaode"===n?(0,Pe.transformGCJ02ToWGS84)([t,e]):"baidu"===n?Ee.default.transform([t,e],Ee.default.WGS84,Ee.default.BD09):[t,e])(e,n,i),a=o[0],l=o[1],r={gaode:{android:"androidamap://route/plan?sourceApplication=appname&dlat=".concat(l,"&dlon=").concat(a,"&dev=0&style=2"),ios:"iosamap://path?sourceApplication=appname&dlat=".concat(l,"&dlon=").concat(a,"&dev=0&style=2"),web:"https://uri.amap.com/marker?position=".concat(a,",").concat(l,"&callnative=1")},baidu:{android:"baidumap://map/direction?destination=".concat(l,",").concat(a,"&mode=driving&coord_type=wgs84"),ios:"baidumap://map/direction?destination=".concat(l,",").concat(a,"&mode=driving&coord_type=wgs84"),web:"http://api.map.baidu.com/marker?location=".concat(l,",").concat(a,"&title=\u5bfc\u822a&content=\u76ee\u7684\u5730&output=html&src=webapp.maptable.mapview")},google:{android:"comgooglemaps://?daddr=".concat(l,",").concat(a,"&directionsmode=driving"),ios:"comgooglemaps://?daddr=".concat(l,",").concat(a,"&directionsmode=driving"),web:"https://maps.google.com/?daddr=".concat(l,",").concat(a)},apple:{android:null,ios:"maps://maps.apple.com/?daddr=".concat(l,",").concat(a,"&dirflg=d"),web:"maps://maps.apple.com/?daddr=".concat(l,",").concat(a,"&dirflg=d")}}[i];(0,Oe.e3)()?t(r.web):(0,Oe.gn)()?t(r.ios):(0,Oe.Dt)()&&r.android?t(r.android):t(r.web)}}},_e="openMapApp_container__VKOcC",Ne="openMapApp_mapApps__UDQhJ",De="openMapApp_mapAppItem__C2J3o",Le="openMapApp_cancel__YDt6h",Ae=e=>{let{visible:t,onClose:n,latitude:o,longitude:l,isOverseas:r}=e;const s=(0,a.Z)(),{navigate:d}=Se(),c=(0,Oe.gn)(),u=(0,Oe.e3)(),p=(0,i.useMemo)((()=>r?[{name:s.$t({id:"t2gumm",defaultMessage:"Google Maps"}),type:"google"},{...c&&!u?{name:s.$t({id:"RklTtk",defaultMessage:"Apple Maps"}),type:"apple"}:{}}].filter((e=>!!e.name)):[{name:s.$t({id:"iSxfoP",defaultMessage:"Gaode Maps"}),type:"gaode"},{name:s.$t({id:"EKL/78",defaultMessage:"Baidu Maps"}),type:"baidu"},{...c&&!u?{name:s.$t({id:"RklTtk",defaultMessage:"Apple Maps"}),type:"apple"}:{}}].filter((e=>!!e.name))),[r,c,u,s]);return(0,ye.jsxs)(Te.Z,{title:s.$t({id:"jB86Wf",defaultMessage:"Navigate to this POI with:"}),placement:"bottom",open:t,height:120+50*p.length,className:_e,onClose:n,children:[(0,ye.jsx)("div",{className:Ne,children:p.map((e=>(0,ye.jsx)("div",{className:De,onClick:()=>{var t;(t=e.type)?(d(o,l,t),n()):n()},children:e.name},e.type)))}),(0,ye.jsx)("div",{className:Le,onClick:n,children:s.$t({id:"47FYwb",defaultMessage:"Cancel"})})]})};var Re=n(41711),Ze=n(33625),Fe=n(17646),ze=n.n(Fe),Be=n(6895),Ve=n(2550),He=n(62618),We=n.n(He),Ue=n(74110),Ge=n(6686),qe=n(68885),$e=n(12167),Je=n(70);function Qe(e,t){const n=(0,$e.o1)(),o=(0,ne.I)(),{view:a}=(0,Je.Pl)(),[r,s]=(0,i.useState)(),[d,c]=(0,i.useState)(),u=(0,ne.v)((t=>e?oe.TW.selectById(t,e):null)),p=(0,i.useMemo)((()=>(null===u||void 0===u?void 0:u.type)===Ue.e.bigTable),[null===u||void 0===u?void 0:u.type]),{data:h}=(0,l.ZP)(p&&!n.sharingParams&&e&&t?["bigtable-row",p,n.sharingParams,e,t]:null,(e=>{let[t,n,i,o,a]=e;return Ge.ZP.getBigTableRow(o,a)})),{data:v}=(0,l.ZP)(p&&n.sharingParams&&e&&t?["bigtable-shared-row",p,n.sharingParams,e,t]:null,(e=>{let[t,n,i,o,a]=e;return Ge.ZP.getSharedBigtableRow(i,o,a)}));(0,i.useEffect)((()=>{var i;if(!t||!u||u.id!==e)return s(void 0),void c(void 0);let o=L()(u.rows,(e=>e.id===t));if(p&&(o=n.sharingParams?v:h),!o)return s(void 0),void c(void 0);const l=u.columns.map((n=>{var i;const a={...n,value:null===(i=o)||void 0===i?void 0:i.cells[n.id],rowId:t,tableNodeId:e};var l;"coordinate"===n.type&&(a.fullAddress=null===(l=o)||void 0===l?void 0:l.cells["".concat(n.id,"-fullAddress")]);return a})),r=null===a||void 0===a?void 0:a.columns,d=We()(l,(e=>{var t;return null===r||void 0===r||null===(t=r.find((t=>t.id===e.id)))||void 0===t?void 0:t.order}));s(d),c(null===(i=o)||void 0===i?void 0:i.shareConfig)}),[u,t,e,a,n.sharingParams,h,v,p]);const g=(0,i.useCallback)((async n=>{if(t&&e){var i;const{payload:a}=await o((0,qe.qp)({...n,id:e,rowId:t})),l=null===(i=a.wsSyncedData)||void 0===i?void 0:i.shareConfig;c(l)}}),[t,e,o]);return{cells:r,shareConfig:d,shareTableRow:g}}var Ke=n(30731),Ye=n(95436);function Xe(e){var t;let{poi:n,originalPoi:o,projectId:a,indicator:l="line",onClickMap:r}=e;const s=null!==o&&void 0!==o?o:n,d=(0,i.useRef)(null),c=(0,ne.I)(),u=(0,Oe.tq)(),{cells:p}=Qe(null===n||void 0===n?void 0:n.tableNodeID,null!==n&&void 0!==n&&n.cells?void 0:n.id),h=(0,ne.v)((e=>a&&(0,te.Y)(e,a)||[])).find((e=>e.id===(null===n||void 0===n?void 0:n.layerID))),v=(0,ne.v)((e=>oe.TW.selectById(e,null===n||void 0===n?void 0:n.tableNodeID))),g=(0,i.useMemo)((()=>{var e;return(0,Ke.bs)(null===v||void 0===v?void 0:v.columns,null===v||void 0===v?void 0:v.views,null===h||void 0===h||null===(e=h.mapInfo)||void 0===e?void 0:e.viewID)}),[null===h||void 0===h||null===(t=h.mapInfo)||void 0===t?void 0:t.viewID,null===v||void 0===v?void 0:v.columns,null===v||void 0===v?void 0:v.views]),f=(0,i.useMemo)((()=>null!==n&&void 0!==n&&n.cells?null===n||void 0===n?void 0:n.cells:null===p||void 0===p?void 0:p.filter((e=>null===g||void 0===g?void 0:g.find((t=>t.id===e.id))))),[p,g,null===n||void 0===n?void 0:n.cells]),m=(0,Be.fx)().map,y=(0,Be.fx)().subMap,w=(0,i.useRef)(),b=null===m||void 0===m?void 0:m.mapTalksMap,C=null===y||void 0===y?void 0:y.mapTalksMap,x=(0,i.useCallback)((e=>{const t=w.current||e;if(!d.current||!b||!t||!s.geometry)return;const n="subMap"===s.from&&C,i=n?C.getContainer():b.getContainer(),o=d.current.querySelector("#anchor-".concat(s.id).replace(/[:.]/g,""));let a=[0,0];if(b){const e=b.coordinateToContainerPoint(new Ve.c7((0,q.be)(s.geometry).coordinates));a=[e.x,e.y]}if(n){const e=C.coordinateToContainerPoint(new Ve.c7((0,q.be)(s.geometry).coordinates));a=[e.x,e.y]}const{x:r,y:c,height:u,width:p}=(null===o||void 0===o?void 0:o.getBoundingClientRect())||{x:0,y:0,width:0,height:0},h=i.getBoundingClientRect(),v=[a[0],a[1]],g=[r+p/2-h.left,c+u/2-h.top];if("line"===l){const e=(0,Ze.U2)(v,g);t.style.transform="translateX(-50%) rotate(".concat(e.degree,"deg)"),t.style.width="".concat(e.width,"px"),t.style.left="".concat(e.left,"px"),t.style.top="".concat(e.top,"px")}"marker"===l&&(t.style.left="".concat(v[0]-Ye.mf/2,"px"),t.style.top="".concat(v[1]-(Ye.mf-4),"px"))}),[b,C,l,s.id,s.geometry,s.from]),I=(0,i.useRef)((e=>{x(e)})),j=(0,i.useCallback)((()=>{c(Re.Nw.remove(s.id))}),[c,s.id]);return(0,i.useEffect)((()=>(u&&(null===b||void 0===b||b.addEventListener("click",j)),()=>{u&&(null===b||void 0===b||b.removeEventListener("click",j))})),[b,j,u]),(0,i.useEffect)((()=>{if(d.current&&b)if(w.current)x();else{const e=document.createElement("div");"line"===l&&(e.className="infowindow-line-".concat(s.id),ze()(Ye.D0,((t,n)=>{e.style[n]=t}))),"marker"===l&&(e.className="infowindow-marker-".concat(s.id),ze()(Ye.LW,((t,n)=>{e.style[n]=t})),e.innerHTML='<svg width="'.concat(Ye.mf,'" height="').concat(Ye.mf,'" viewBox="0 0 91 91" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g><path d="M66.9,41.8c0-11.3-9.1-20.4-20.4-20.4c-11.3,0-20.4,9.1-20.4,20.4c0,11.3,20.4,32.4,20.4,32.4S66.9,53.1,66.9,41.8z    M37,41.4c0-5.2,4.3-9.5,9.5-9.5c5.2,0,9.5,4.2,9.5,9.5c0,5.2-4.2,9.5-9.5,9.5C41.3,50.9,37,46.6,37,41.4z"/></g></svg>')),w.current=e,"subMap"===s.from?null===C||void 0===C||C.getContainer().appendChild(w.current):b.getContainer().appendChild(w.current),setTimeout((()=>x()),0),I.current=I.current.bind(null,w.current),window.addEventListener("scroll",I.current),b.on("moving",I.current),b.on("zooming",I.current),b.on("dragrotating",I.current),b.on("resize",I.current),b.on("click",r),null===C||void 0===C||C.on("moving",I.current),null===C||void 0===C||C.on("zooming",I.current),null===C||void 0===C||C.on("dragrotating",I.current),null===C||void 0===C||C.on("resize",I.current),null===C||void 0===C||C.on("click",r)}return()=>{w.current&&b&&(w.current.remove(),w.current=void 0,window.removeEventListener("scroll",I.current),b.off("moving",I.current),b.off("zooming",I.current),b.off("dragrotating",I.current),b.off("resize",I.current),b.off("click",r),null===C||void 0===C||C.off("moving",I.current),null===C||void 0===C||C.off("zooming",I.current),null===C||void 0===C||C.off("dragrotating",I.current),null===C||void 0===C||C.off("resize",I.current),null===C||void 0===C||C.off("click",r))}}),[s.id,s.from,x,b,C,l,r]),(0,i.useEffect)((()=>{if("marker"===l&&b&&s.geometry){const e=b.coordinateToContainerPoint(new Ve.c7((0,q.be)(s.geometry).coordinates)),t=b.containerPointToCoordinate(e.add(new Ve.E9(0,200)));m.setCenter(t.toArray())}}),[s.geometry,l,b,m]),{cells:f,columns:g,windowRef:d,adjustIndicator:x}}var et=n(65557),tt=n(58590),nt=n(8942),it=n.n(nt),ot=(n(78587),n(6778),n(86117),n(88716)),at=n.n(ot),lt=n(65379),rt=n(37756),st=n.n(rt);n(80778);const dt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=(0,i.useState)(e),[o,a]=(0,i.useState)(),l=(0,i.useCallback)((e=>{a(e),n(!0)}),[]),r=(0,i.useCallback)((()=>{n(!1)}),[]);return(0,i.useMemo)((()=>({id:o,visible:t,open:l,close:r})),[r,o,l,t])},ct=e=>{const t=(0,i.useRef)(),[n,o]=(0,i.useState)([]),a=(0,i.useCallback)((t=>e?e.coordinateToContainerPoint(new Ve.c7(t)):{x:0,y:0}),[e]),l=(0,i.useCallback)(((e,t)=>{const{x:n,y:i}=a(t);e.style.left="".concat(n-10,"px"),e.style.top="".concat(i-5,"px")}),[a]),r=(0,i.useCallback)((i=>{if(!e||!n.length)return;const o=t.current||i;l(o,n)}),[e,n,l]),s=(0,i.useMemo)((()=>["moving","zooming","dragrotating","resize"]),[]);(0,i.useEffect)((()=>(t.current&&e&&s.forEach((t=>e.on(t,r))),()=>{t.current&&e&&s.forEach((t=>e.off(t,r)))})),[r,e,s]);const d=(0,i.useCallback)((()=>{var e,n;t.current&&(t.current.remove(),o([])),null===(e=document.getElementsByClassName("geo-location-indicator"))||void 0===e||null===(e=e[0])||void 0===e||null===(n=e.remove)||void 0===n||n.call(e)}),[]);return(0,i.useEffect)((()=>()=>{d()}),[d]),{addIndicator:n=>{const i=document.createElement("div");i.className="geo-location-indicator",ze()(Ye.LW,((e,t)=>{i.style[t]=e})),l(i,n),i.innerHTML='<svg width="'.concat(20,'" height="').concat(20,'" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg"><circle cx="25" cy="25" r="20" stroke="#FFF" stroke-width="10" fill="none" /><circle cx="25" cy="25" r="20" fill="currentColor" /></svg>'),t.current=i,e&&(o(n),e.getContainer().appendChild(t.current))},removeIndicator:d}};function ut(e){const t=(0,ne.v)((e=>e.layerNode.selectedKeys)),n=(0,ne.v)((t=>e?t.project.layerNodes[e]:void 0)),o=(0,i.useMemo)((()=>null===n||void 0===n?void 0:n.filter((e=>t.includes(e.id)))),[n,t]);return{layerNode:(0,i.useMemo)((()=>N()(o)),[o]),layerNodes:o}}function pt(e){const t=(0,ne.I)(),{handleDetailPanelClose:n}=function(e,t,n){var o,a,l;const r=(0,ne.I)(),s=(0,ne.v)((e=>e.map.poiDetail)),c=dt(s.visible),u=(0,ne.v)((e=>t&&(0,te.Y)(e,t))),p=(0,i.useMemo)((()=>u?L()(u,(e=>e.id===s.layerNodeId)):void 0),[u,s.layerNodeId]),h=null===p||void 0===p?void 0:p.readonly,{removeIndicator:v}=ct(),g=!(null!==(o=s.poi)&&void 0!==o&&o.cells),f=g?s.id:void 0,{cells:m,shareConfig:y,shareTableRow:w}=Qe(s.tableNodeId,f),b=L()(u||[],(e=>e.id===s.layerNodeId)),C=(0,ne.v)((e=>oe.TW.selectById(e,s.tableNodeId))),x=(0,i.useMemo)((()=>{var e,n,i;if(null!==(e=s.poi)&&void 0!==e&&e.cells)return s.poi.cells;if(!t)return m;const o=(0,Ke.bs)(null===C||void 0===C?void 0:C.columns,null===C||void 0===C?void 0:C.views,null===b||void 0===b||null===(n=b.mapInfo)||void 0===n?void 0:n.viewID);return null===m||void 0===m||null===(i=m.filter((e=>null===o||void 0===o?void 0:o.some((t=>t.id===e.id)))))||void 0===i?void 0:i.sort(((e,t)=>(null===o||void 0===o?void 0:o.findIndex((t=>t.id===e.id)))-(null===o||void 0===o?void 0:o.findIndex((e=>e.id===t.id)))))}),[null===(a=s.poi)||void 0===a?void 0:a.cells,m,null===b||void 0===b||null===(l=b.mapInfo)||void 0===l?void 0:l.viewID,t,null===C||void 0===C?void 0:C.columns,null===C||void 0===C?void 0:C.views]),I=(0,i.useCallback)((()=>{r(et.Nw.updatePoiDetail({visible:!1})),r(et.Nw.clearPoiDetail()),v()}),[r,v]);return(0,i.useEffect)((()=>{s.visible?c.open(s.id):c.close()}),[s,c]),(0,i.useEffect)((()=>()=>{e&&r(et.Nw.clearPoiDetail())}),[e,r]),(0,i.useEffect)((()=>{var e;s.visible&&f&&!x&&((null===C||void 0===C||null===(e=C.rows)||void 0===e?void 0:e.find((e=>e.id===f)))||s.newCreated||I())}),[I,s.visible,null===C||void 0===C?void 0:C.rows,s.newCreated,f,x]),{poiDetail:(0,i.useMemo)((()=>{var e;return{tableNodeId:s.tableNodeId,newCreated:s.newCreated,title:(null===(e=L()(x,(e=>e.rowId===s.rowId)))||void 0===e?void 0:e.value)||"",rowId:s.rowId,cells:x,layerNodeId:s.layerNodeId,shareConfig:y,editable:g,readonly:h,shareTableRow:g?w:void 0}}),[x,s.layerNodeId,s.newCreated,s.rowId,s.tableNodeId,g,y,h,w]),poi:s.poi,detailPanel:c,handleDetailPanelClose:I,handleDelete:async function(){const{tableNodeId:e,rowId:t,poi:i}=s;null!==i&&void 0!==i&&i.id&&t&&r(Re.Nw.remove(i.id)),d()(e)||d()(t)||(n&&"function"===typeof n?n(e,t):await r((0,qe.M5)({id:e,rowIDs:[t]})),r(et.Nw.clearPoiDetail()))}}}(),o=(0,ne.v)((e=>e.map.editor)),a=(0,ne.v)((t=>{var n;return e?null===(n=t.map.hiddenLayerIds)||void 0===n?void 0:n[e]:void 0})),l=(0,ne.v)((t=>e?t.project.layerNodes[e]:void 0)),{layerNode:r}=ut(e),s=null===r||void 0===r?void 0:r.id,c=(0,i.useMemo)((()=>!(!s||null!==a&&void 0!==a&&a.includes(s))),[a,s]);const u=(0,i.useCallback)(((e,i,o,a)=>{const l=!a,r={...a};if(l)t(et.Nw.updateEditor({isOpen:e,isAdding:e,isNew:l,onlyOnePoint:o,poi:void 0,geometry:null,type:i||"Point"}));else{const n=r.geometry.type;t(et.Nw.updateEditor({isOpen:e,isNew:l,onlyOnePoint:o,isAdding:e,poi:r,geometry:r.geometry,type:n}))}e&&(t(Re.Nw.clear()),n())}),[t,n]),p=(0,i.useCallback)((e=>{u(!0,null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.onlyOnePoint,null===e||void 0===e?void 0:e.poi)}),[u]),h=(0,i.useCallback)((()=>{t(et.Nw.updateEditor({isOpen:!1,isAdding:!1,isEditing:!1,isNew:!1,onlyOnePoint:!1,poi:void 0,geometry:null,type:"Point",selectedFeatures:void 0,editingMode:void 0}))}),[t]),v=(0,i.useCallback)((e=>{t(et.Nw.updateEditor({type:e}))}),[t]);return{openEditor:p,closeEditor:h,editorStatus:o,editorType:o.type,setEditorType:v,isEditorOpen:o.isOpen,resetEditor:function(){t(et.Nw.updateEditor({geometry:null,type:o.type}))},enable:c,layerNodes:l,isNewPOI:o.isNew,preData:o.geometry}}const ht="smallDivider_smallDivider__lj604",vt="smallDivider_light__gAj3s",gt="smallDivider_mh10__iMm9c",ft="smallDivider_mh15__QmOFL",mt="smallDivider_mr15__6IOQr",yt=e=>{let{className:t,light:n=!1,mh10:i=!1,mh15:o=!1,mr15:a=!1}=e;return(0,ye.jsx)("span",{className:(0,P.default)(ht,t,n?vt:"",i?gt:"",o?ft:"",a?mt:"")})};var wt=n(64459),bt=n.n(wt);function Ct(){const[e,t]=(0,i.useState)();return{bounds:e,updateBounds:function(e,n,i){const o=bt()(e)?document.querySelector(e):e,a=null===o||void 0===o?void 0:o.getBoundingClientRect(),l=null===i||void 0===i?void 0:i.getBoundingClientRect();l&&a&&t({left:a.left+(-(null===l||void 0===l?void 0:l.left)+(null===n||void 0===n?void 0:n.x)),right:a.right-((null===l||void 0===l?void 0:l.right)-(null===n||void 0===n?void 0:n.x)),top:a.top+(-(null===l||void 0===l?void 0:l.top)+(null===n||void 0===n?void 0:n.y)),bottom:a.bottom-((null===l||void 0===l?void 0:l.bottom)-(null===n||void 0===n?void 0:n.y))})}}}var xt=n(62502),It=n(47752),jt=n(54800);function Mt(e){const{projectId:t,items:l,container:s,title:d,isThirdPartyTable:c}=e,u=(0,i.useMemo)((()=>(0,i.lazy)((()=>Promise.all([n.e(24),n.e(32),n.e(408),n.e(539)]).then(n.bind(n,51539))))),[]),[p,h]=(0,i.useState)(300),[v,g]=(0,i.useState)(!1),f=(0,a.Z)(),m=(0,i.useMemo)((()=>null===l||void 0===l?void 0:l.reduce(((e,t)=>{const{layerID:n,rowID:i}=t;if(!i||!e)return e;if(e.some((e=>e.layerNodeId===n))){const t=e.findIndex((e=>e.layerNodeId===n));e[t].rowIds.push(i)}else e.push({layerNodeId:n,rowIds:[i]});return e}),[])),[l]);return(0,ye.jsx)(Te.Z,{title:(0,ye.jsxs)(z.Z,{className:jt.Z.head,align:"center",justify:"space-between",children:[(0,ye.jsxs)(z.Z,{align:"center",children:[d||f.$t({id:"VQyPUE",defaultMessage:"Overlap data"}),"(",(null===l||void 0===l?void 0:l.length)||0,")",l&&(null===l||void 0===l?void 0:l.length)>Ye.iO?(0,ye.jsx)(It.Z,{title:f.$t({id:"umzF8T",defaultMessage:"The number of overlapped data exceeds the maximum limit"}),children:(0,ye.jsx)(U.Z,{type:"info",cursor:"pointer"})}):null]}),(0,ye.jsxs)(z.Z,{align:"center",gap:4,className:jt.Z.actions,children:[(0,ye.jsx)(K.ZP,{type:"text",size:"small",onClick:function(){s&&(h(v?300:s.clientHeight),g(!v))},children:(0,ye.jsx)(U.Z,{type:"fullscreen"})}),(0,ye.jsx)(K.ZP,{type:"text",size:"small",onClick:e.onClose,children:(0,ye.jsx)(U.Z,{type:"close"})})]})]}),open:!0,mask:!1,placement:"bottom",height:p,getContainer:!1,closeIcon:null,children:(0,ye.jsx)("div",{className:jt.Z.container,children:(0,ye.jsx)(i.Suspense,{fallback:(0,ye.jsx)(r.Z,{indicator:(0,ye.jsx)(o.Z,{})}),children:null!==m&&void 0!==m&&m.length?(0,ye.jsx)(u,{isThirdPartyTable:c,projectId:t,items:m}):(0,ye.jsx)("div",{className:jt.Z.noData,children:f.$t({id:"UG5qoS",defaultMessage:"No data"})})})})})}var kt=n(11972);const Tt={infoWindow:"infoWindow_infoWindow__U4d6i",imageInfoWindow:"infoWindow_imageInfoWindow__cM-gJ",header:"infoWindow_header__t5VrR",carousel:"infoWindow_carousel__MCjK7",leftArrow:"infoWindow_leftArrow__RNQa5",rightArrow:"infoWindow_rightArrow__ONzD5",imageWrap:"infoWindow_imageWrap__8Ze4P",loading:"infoWindow_loading__UdTMF",noImage:"infoWindow_noImage__mLihE",noImageHeader:"infoWindow_noImageHeader__9MPVQ",noImageIcon:"infoWindow_noImageIcon__CuDEF",title:"infoWindow_title__F72hd",rightIcon:"infoWindow_rightIcon__i2POt",navigateIcon:"infoWindow_navigateIcon__+qPnf",actions:"infoWindow_actions__GM4-D",navigate:"infoWindow_navigate__pyz8L",content:"infoWindow_content__4u+56",verticalList:"infoWindow_verticalList__up4N8",label:"infoWindow_label__lOo+k",vertical:"infoWindow_vertical__uT9ml",item:"infoWindow_item__Q55UE",horizontalDivider:"infoWindow_horizontalDivider__0OrjE",text:"infoWindow_text__eRyVQ",select:"infoWindow_select__3uLn-",checkbox:"infoWindow_checkbox__wuadN",footer:"infoWindow_footer__uSAXx",footerItem:"infoWindow_footerItem__zsyys",icon:"infoWindow_icon__uNzeG",detail:"infoWindow_detail__HkmdT",close:"infoWindow_close__gUip0",anchor:"infoWindow_anchor__wzanB",coordinate:"infoWindow_coordinate__+RFm1",overlap:"infoWindow_overlap__OwdlJ",setting:"infoWindow_setting__FpdRc",pagination:"infoWindow_pagination__-qVYk",thumbnail:"infoWindow_thumbnail__Ov0WH",button:"infoWindow_button__HBy0h",regionLayerItem:"infoWindow_regionLayerItem__tQrYW"},Et=e=>{let{currentSlide:t,direction:n,slideCount:i,...o}=e;return"left"===n?(0,ye.jsx)(U.Z,{type:"arrowLeft3",...o,className:Tt.leftArrow}):(0,ye.jsx)(U.Z,{type:"arrowRight3",...o,className:Tt.rightArrow})},Pt=e=>{let{className:t,isLoadingAttachment:n,attachments:i}=e;return(0,ye.jsx)(kt.Z,{arrows:!0,autoplay:!1,className:(0,P.default)(Tt.carousel,t),dots:{className:Tt.dots},nextArrow:(0,ye.jsx)(Et,{direction:"right"}),prevArrow:(0,ye.jsx)(Et,{direction:"left"}),children:null!==i&&void 0!==i&&i.length?i.map((e=>(0,ye.jsx)("div",{className:Tt.imageWrap,children:(0,ye.jsx)("img",{draggable:!1,src:e.url,alt:e.fileName})},e.fileID))):(0,ye.jsxs)("div",{className:Tt.noImage,children:[(0,ye.jsx)("div",{className:Tt.noImageHeader}),(0,ye.jsx)("div",{className:Tt.noImageIcon,children:n?(0,ye.jsx)(o.Z,{}):(0,ye.jsx)(U.Z,{type:"noImage",style:{color:"#505F79"}})})]})})},Ot=e=>{var t,n,o,l;const{projectId:r,enableSetting:s,enableOpenDetailPanel:u,enableEditCoordinate:p,enableProximityAnalysis:h,mapId:v,getAttachmentUrls:g,useAttachment:f,onOpenSetting:m,onOpenEditor:y,onClose:w}=e,b=(0,ne.I)(),x=(0,a.Z)(),{openEditor:I}=pt(),j=(0,Oe.tq)(),M=(0,c.useMediaQuery)({maxWidth:$.j$.MOBILE_MAX}),k=(0,c.useMediaQuery)({maxHeight:$.j$.SMALL_HEIGHT}),{bounds:T,updateBounds:O}=Ct(),[_,D]=(0,i.useState)(!1),A=e.poi,[Z,V]=(0,i.useState)(e.poi),[J,Q]=(0,i.useState)(!1),K=(0,i.useMemo)((()=>{var e,t;return null!==(e=null===(t=document.getElementById(null!==v&&void 0!==v?v:"map"))||void 0===t?void 0:t.parentElement)&&void 0!==e?e:document.body}),[v]),Y=(0,C.Z)((e=>tt.Hx.selectById(e,r))),X=(0,C.Z)((e=>e.project.infoWindowConfig)),ee=(0,i.useCallback)((()=>{"clickBlankSpace"===X.closeWay&&b(Re.Nw.remove(A.id))}),[X.closeWay,A,b]),{windowRef:te,cells:ie,adjustIndicator:oe}=Xe({poi:Z,originalPoi:A,projectId:r,indicator:j||M?"marker":"line",onClickMap:ee}),le=(0,i.useMemo)((()=>{var e;const t=Z.tableNodeID&&(null===(e=X.columnIDs)||void 0===e?void 0:e[Z.tableNodeID])||[];return t.length?S()(t,6).map((e=>null===ie||void 0===ie?void 0:ie.find((t=>t.id===e)))):S()(ie,6)}),[ie,X,Z.tableNodeID]),re=(0,i.useMemo)((()=>{var e;return(null===X||void 0===X||null===(e=X.coverImages)||void 0===e?void 0:e[Z.tableNodeID])||(null===X||void 0===X?void 0:X.coverImage)}),[null===X||void 0===X?void 0:X.coverImages,null===X||void 0===X?void 0:X.coverImage,Z.tableNodeID]),se=!d()(re)&&"null"!==re,de=(0,i.useMemo)((()=>{var e;if(!re)return[];const t=null===(e=L()(ie,(e=>e.id===re)))||void 0===e?void 0:e.value;return R()(t,(e=>F()(e.fileType,"image")))}),[re,ie]),ce=(0,C.Z)((e=>r?e.project.layerNodes[r]:void 0)),ue=(0,i.useMemo)((()=>ce?L()(ce,(e=>e.id===Z.layerID)):void 0),[ce,Z.layerID]),pe="region"===(null===ue||void 0===ue||null===(t=ue.mapInfo)||void 0===t?void 0:t.layerType),he=null===ue||void 0===ue?void 0:ue.readonly,{loading:ve,attachments:ge}=f(null===Z||void 0===Z?void 0:Z.tableNodeID,de),fe=null===Z||void 0===Z?void 0:Z.layerID,me=N()(le),we=(0,C.Z)((e=>e.project.members)),be=pe?Me()(Z,"display_name",null!==Z&&void 0!==Z&&Z.name||"zh-CN"===x.locale?Me()(Z,"name_zh"):Me()(Z,"name_en")):null!==(n=me?(0,ae.c8)(me.value,me,we,null===Y||void 0===Y?void 0:Y.timezone,!1):Z.name)&&void 0!==n?n:Z.id,Ce=(0,C.Z)((e=>e.project.mapSiderVisible)),xe=(null===(o=A.list)||void 0===o?void 0:o.length)&&A.list.length>1,je=(0,i.useMemo)((()=>{var e;return pe?null===Z||void 0===Z||null===(e=Z.rowIds)||void 0===e?void 0:e.map((e=>({layerID:Z.layerID,rowID:e}))):A.list}),[pe,A.list,Z.layerID,null===Z||void 0===Z?void 0:Z.rowIds]),Te=(0,i.useCallback)((()=>{pe?Q(!0):b(et.Nw.updatePoiDetail({visible:!0,id:Z.id,poi:Z,title:be,rowId:null===Z||void 0===Z?void 0:Z.rowID,tableNodeId:null===Z||void 0===Z?void 0:Z.tableNodeID,labelFieldId:null===Z||void 0===Z?void 0:Z.labelFieldID,layerNodeId:fe,newCreated:!1}))}),[b,pe,fe,Z,be]),Ee=(0,i.useCallback)((e=>{e===Z.id&&Te()}),[Z,Te]);(0,i.useEffect)((()=>(xt.ky.on(Ee),()=>xt.ky.off(Ee))));const Pe=(0,i.useMemo)((()=>"en-US"===x.locale||!1),[x]),Se="Point"===Z.geometry.type||"Polygon"===Z.geometry.type,_e=(0,i.useMemo)((()=>{if("Point"===Z.geometry.type)return Z.geometry.coordinates;if("Polygon"===Z.geometry.type){const e=H.yu(Z.geometry.coordinates);return(0,W.Z)(e).geometry.coordinates}return[]}),[Z.geometry]),Ne=(0,i.useMemo)((()=>{var e,t;if(j)return;const n=null!==(e=Z.position.left)&&void 0!==e?e:$.Vr.DEFAULT_LEFT,i=null!==(t=Z.position.top)&&void 0!==t?t:$.Vr.DEFAULT_TOP;if(k){const e=window.innerHeight,t=$.uW.HEIGHT;return{x:0===n&&Ce?$.Vr.SIDEBAR_LEFT:n,y:e-t-$.Vr.BOTTOM_OFFSET}}return{x:0===n&&Ce?$.Vr.SIDEBAR_LEFT:n,y:0===i?$.Vr.TOP_WITH_HEADER:i}}),[Z.position.left,Z.position.top,Ce,j,k]),De=async e=>{var t;if("attachment"===e.type||"lookup"===e.type&&"attachment"===(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)){const t=await(null===g||void 0===g?void 0:g(Z.tableNodeID,e.value));return{...e,value:t}}return"coordinate"===e.type?{...e,value:e.fullAddress}:e},Le=e=>{if(!e)return 28;switch(e.type){case"attachment":return 2;case"coordinate":return 1e3;default:return 28}},Fe=(0,i.useCallback)((e=>{var t;const n=null===(t=A.list)||void 0===t?void 0:t[e-1];n&&(V(n),setTimeout((()=>{oe()}),100))}),[A.list,oe]),ze=(0,i.useMemo)((()=>{if(Z.tooltip)return Z.tooltip.split("\n").map(((e,t)=>{const[n,i]=e.split(":"),o="Count"===n?x.$t({id:"Aujn2T",defaultMessage:"Count"}):n;return(0,ye.jsxs)(z.Z,{justify:"space-between",className:Tt.regionLayerItem,children:[(0,ye.jsxs)("span",{children:[o,":"]}),(0,ye.jsx)("span",{children:i})]},t)}));var e;if(null===ue||void 0===ue||null===(e=ue.mapInfo)||void 0===e?void 0:e.regionDimensionFieldID)return(0,ye.jsxs)(z.Z,{justify:"space-between",className:Tt.regionLayerItem,children:[(0,ye.jsxs)("span",{children:[x.$t({id:"TXlHZX",defaultMessage:"Match results"}),":"]}),(0,ye.jsx)("span",{children:"0"})]})}),[Z.tooltip,x,null===ue||void 0===ue||null===(l=ue.mapInfo)||void 0===l?void 0:l.regionDimensionFieldID]);return(0,i.useEffect)((()=>{V(A)}),[A]),(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(E(),{bounds:T,handle:".handle",defaultPosition:Ne,onStart:(e,t)=>{O("#".concat(null!==v&&void 0!==v?v:"map"),t,te.current)},onDrag:()=>{oe()},onStop:()=>{if(te.current){const e=(0,Ze._A)(te.current),t={...Z,top:e.top,left:e.left};b(Re.Nw.updatePoi(t))}},nodeRef:te,disabled:j,children:(0,ye.jsxs)("div",{ref:te,className:(0,P.default)(se?Tt.imageInfoWindow:Tt.infoWindow),style:{zIndex:Z.order},children:[xe?(0,ye.jsx)(St,{isShowImageMode:se,poi:A,onChange:Fe,onOpenQuickView:()=>Q(!0)}):null,!se&&(0,ye.jsx)("div",{className:(0,P.default)(Tt.dragArea,"dragArea")}),(0,ye.jsxs)("div",{className:Tt.header,children:[se?(0,ye.jsx)(Pt,{className:"handle",isLoadingAttachment:ve,attachments:ge}):(0,ye.jsx)("div",{className:(0,P.default)(Tt.title,"handle"),title:be,onClick:j&&u?Te:void 0,children:be}),(0,ye.jsxs)("div",{className:(0,P.default)(Tt.actions,{[Tt.overlap]:xe}),children:[s&&!j&&!he&&!pe&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(U.Z,{type:"setting",className:Tt.setting,onClick:()=>m(null===Z||void 0===Z?void 0:Z.tableNodeID,Z)}),(0,ye.jsx)(yt,{light:!se,mh10:!0})]}),j&&!se&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(U.Z,{type:"navigate",className:Tt.navigate,onClick:()=>D(!0)}),(0,ye.jsx)(yt,{light:!se,mh10:!0})]}),(0,ye.jsx)(U.Z,{type:"close",className:Tt.close,onClick:e=>{null===e||void 0===e||e.stopPropagation(),b(Re.Nw.remove(A.id)),null===w||void 0===w||w(A)}})]})]}),(0,ye.jsxs)("div",{className:Tt.content,children:[se?(0,ye.jsxs)("div",{className:Tt.title,title:be,children:[(0,ye.jsx)("span",{onClick:j&&u?Te:void 0,children:be}),Se&&(0,ye.jsx)(U.Z,{className:Tt.navigateIcon,type:"navigate",onClick:()=>D(!0)})]}):null,null===le||void 0===le?void 0:le.map(((e,t)=>{var n;return e&&t>0&&(0,ye.jsxs)(i.Fragment,{children:[(0,ye.jsxs)("div",{className:(0,P.default)(Tt.item,{[Tt.verticalList]:"vertical"===(null===X||void 0===X?void 0:X.layout)}),role:"listitem",children:[(0,ye.jsx)("div",{className:Tt.label,children:e.name}),(0,ye.jsx)(ke.Z,{isThirdPartyTable:!0,className:(0,P.default)(Tt.text,{[Tt.select]:"singleChoice"===e.type||"multiChoice"===e.type,[Tt.checkbox]:"boolean"===e.type,[Tt.coordinate]:"coordinate"===e.type,[Tt.vertical]:"vertical"===(null===X||void 0===X?void 0:X.layout)}),item:e,members:we,timezone:null===Y||void 0===Y?void 0:Y.timezone,imageHeight:64,truncateLength:"vertical"===(null===X||void 0===X?void 0:X.layout)?60:30,textAlignLeft:("vertical"===(null===X||void 0===X?void 0:X.layout)||(0,G.NZ)(null===e||void 0===e?void 0:e.value)>Le(e))&&!("attachment"===e.type||"lookup"===e.type&&"attachment"===(null===(n=e.typeOptions)||void 0===n?void 0:n.lookupColumnType)),editableCoordinate:!1,getCell:De})]}),(0,ye.jsx)(B.Z,{className:Tt.horizontalDivider})]},t)})),pe&&ze&&(0,ye.jsx)("div",{children:ze})]}),(0,ye.jsxs)("footer",{className:Tt.footer,children:[p&&(null===Z||void 0===Z?void 0:Z.editable)&&!j&&!he&&(0,ye.jsxs)("button",{className:Tt.footerItem,onClick:e=>{e.stopPropagation(),null===y||void 0===y||y(Z);let t=!!Z.latCellID;if(!t){var n;const e=null===le||void 0===le?void 0:le.find((e=>(null===e||void 0===e?void 0:e.id)===Z.cellID));t=!(null!==e&&void 0!==e&&null!==(n=e.typeOptions)&&void 0!==n&&n.textCoordinateType)}I({poi:Z,onlyOnePoint:t})},children:[(0,ye.jsx)(U.Z,{className:Tt.icon,type:"coordinate"}),x.$t({id:"wEQDC6",defaultMessage:"Edit"})]}),h&&!pe&&(0,ye.jsxs)("button",{className:Tt.footerItem,onClick:async e=>{e.stopPropagation();const t=(0,q.be)(Z.geometry);t&&(await b(et.Nw.updateStatVisible(!0)),b(et.Nw.updateStatCustomCenter(t.coordinates)))},children:[(0,ye.jsx)(U.Z,{className:Tt.icon,type:"proximityAnalysis"}),x.$t({id:"qeWEV4",defaultMessage:"Proximity Analysis"})]}),u&&(0,ye.jsxs)("div",{className:(0,P.default)(Tt.footerItem,Tt.detail),onClick:Te,children:[x.$t({id:"Lv0zJu",defaultMessage:"Details"}),(0,ye.jsx)(U.Z,{className:Tt.icon,type:"arrowRight2"})]})]}),(0,ye.jsx)("div",{id:"anchor-".concat(A.id).replace(/[:.]/g,""),className:Tt.anchor}),Se&&(0,ye.jsx)(Ae,{visible:_,onClose:()=>D(!1),latitude:null===_e||void 0===_e?void 0:_e[1],longitude:null===_e||void 0===_e?void 0:_e[0],isOverseas:Pe})]})}),J?(0,Ie.createPortal)((0,ye.jsx)(Mt,{title:pe?x.$t({id:"/O69Mk",defaultMessage:"Region data"}):void 0,isThirdPartyTable:!0,projectId:r,items:je,onClose:()=>Q(!1),container:K}),K):null]})};function St(e){var t;let{poi:n,isShowImageMode:i,onChange:o,onOpenQuickView:l}=e;const r=(0,a.Z)();return(0,ye.jsxs)(z.Z,{className:(0,P.default)(Tt.pagination,"dragArea","handle",{[Tt.thumbnail]:i}),align:"center",justify:"space-between",children:[(0,ye.jsx)("span",{}),(0,ye.jsx)(V.Z,{simple:{readOnly:!0},defaultCurrent:1,total:null===(t=n.list)||void 0===t?void 0:t.length,pageSize:1,onChange:o,showSizeChanger:!1}),(0,ye.jsx)("span",{className:Tt.button,onClick:l,"aria-label":r.$t({id:"v0hnVD",defaultMessage:"View overlap data"}),"data-balloon-pos":"up",children:(0,ye.jsx)(U.Z,{type:"singleChoice"})})]})}var _t=n(44229),Nt=n(90013),Dt=n.n(Nt);const Lt=(e,t)=>{const{base:n}=(0,w.Z)(),[o,a]=(0,i.useState)(),[l,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{!async function(){if(t&&n)for(const i of t){if(null===o||void 0===o?void 0:o.find((e=>e.fileID===i.fileID)))return;r(!0);const l=await(0,p.Pk)(n,e,i.token,i.fieldId,i.recordId);a((e=>Dt()([...e||[],{...i,url:l}],"fileID"))),i===t[t.length-1]&&r(!1)}}()}),[t,e,o,n]),{attachments:o,loading:l}};var At=n(82394);const Rt=i.forwardRef(((e,t)=>{let{projectId:n,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,onClose:s}=e;const d=(0,At.bZ)(),{bridge:c,base:u}=(0,w.Z)(),[h,v]=(0,i.useState)(),g=(0,ne.v)(Re.qg.selectAll);function f(e){v(e),d.open()}(0,i.useImperativeHandle)(t,(()=>({getIds:()=>g.map((e=>e.id))})));const m=(0,i.useCallback)((async(e,t)=>{if(c)return await(0,p.QU)(c,e,t)}),[c]),y=(0,i.useCallback)((async(e,t)=>{if(u)return await async function(e,t,n){if(!n||!t)return;const i=[];for(const o of n){const n=await(0,p.Pk)(e,t,null===o||void 0===o?void 0:o.token,null===o||void 0===o?void 0:o.fieldId,null===o||void 0===o?void 0:o.recordId);if(null===i||void 0===i?void 0:i.find((e=>e.fileID===o.fileID)))return;i.push({...o,url:n})}return i}(u,e,t)}),[u]),b=(0,i.useCallback)((async e=>!!u&&await(0,_t.P_)(u,e)),[u]);return(0,ye.jsxs)(ye.Fragment,{children:[k()(g,(e=>(0,ye.jsx)(Ot,{projectId:n,poi:e,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,getAttachmentUrls:y,useAttachment:Lt,onOpenSetting:f,onClose:s},e.id))),(0,ye.jsx)(xe,{dialog:d,tableNodeId:h,setInfoWindowConfig:m,checkPermission:b})]})})),Zt=i.memo(Rt);var Ft=n(71451),zt=n(53926),Bt=n.n(zt),Vt=n(22138);const Ht=["legend"];var Wt=n(69361),Ut=n(19087),Gt=n.n(Ut),qt=n(15972),$t=n.n(qt),Jt=n(82086),Qt=n(29697),Kt=n(61924),Yt=n(23764);var Xt=n(25806),en=n.n(Xt),tn=n(57323),nn=n.n(tn),on=n(98720);class an extends Ve.Im{constructor(e,t){super(e,t),nn()(this,"defaultMapOptions",{...on.Z.defaultMapOptions}),nn()(this,"mapInstance",new Promise((e=>e(!0)))),this.id=e,this.props={mapOptions:Object.assign({},this.defaultMapOptions,t.mapOptions)}}create(){var e,t;return null!==(e=this.props.mapOptions)&&void 0!==e&&e.zoom&&null!==(t=this.props.mapOptions)&&void 0!==t&&t.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center),new Promise((e=>e(this)))}resize(){var e,t;null!==(e=this.props.mapOptions)&&void 0!==e&&e.zoom&&null!==(t=this.props.mapOptions)&&void 0!==t&&t.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center)}setMapStyle(){Gt()()}getMapStyle(){Gt()()}syncViewState(){var e;const t=this.getRenderer();null===t||void 0===t||null===(e=t.syncViewState)||void 0===e||e.call(t)}getBaseMap(){return null}getProvider(){return"customize"}getCenter(){return this.getMap().getCenter().toArray()}destroy(){Gt()()}setZoomAndCenter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1?arguments[1]:void 0;const n=new Ve.c7(t);this.getMap().setCenterAndZoom(n,e)}setPitch(){Gt()()}setBearing(){Gt()()}setFeatures(){}setLanguage(e){}getContainer(){return this.getMap().getContainer()}takeScreenshot(){const e=this.getRenderer();return Promise.resolve(e.canvas.toDataURL())}}const ln=an;var rn=n(92940),sn=n(39342);const dn={[Qt.nn.AmapStandard]:Qt.R6.MapboxStreets,[Qt.nn.AmapLight]:Qt.R6.MapboxLight,[Qt.nn.AmapDark]:Qt.R6.MapboxDark,[Qt.nn.AmapDarkBlue]:Qt.R6.MapboxDark,[Qt.nn.AmapSatellite]:Qt.R6.MapboxSatellite};function cn(e,t,n,o,l){var r;const s=(0,ne.I)(),d=(0,a.Z)(),c=(0,i.useMemo)((()=>e?{style:e.baseMap,center:(0,sn.Jn)(e.center),zoom:e.zoomLevel,pitch:e.pitch,bearing:e.bearing,features:e.features,mapBoxScalePosition:e.mapBoxScalePosition}:void 0),[e]),u=(0,Yt.IV)(null===c||void 0===c?void 0:c.style),p=(0,i.useRef)(),[h,v]=(0,i.useState)(),g=(0,ne.v)((e=>e.project.customizeBaseMap)),{locale:f}=(0,ne.v)((e=>e.app)),m=null!==(r=null===h||void 0===h?void 0:h.getMapStyle())&&void 0!==r?r:null===e||void 0===e?void 0:e.baseMap,y=(0,i.useMemo)((()=>m?Qt.$J.includes(m)?"dark":Qt.f8.includes(m)?"light":"unknown":"unknown"),[m]);return(0,i.useEffect)((()=>{s(et.Nw.setTheme(y))}),[s,y]),(0,i.useEffect)((()=>{if("mapbox"===u&&h){h.setLanguage(f)}}),[f,u,h]),(0,i.useEffect)((()=>{p.current=void 0}),[o]),(0,i.useEffect)((()=>{if(p.current===u&&"customize"!==u||!c)return;if(!l&&"google"===u)return Q.ZP.destroy(),void Q.ZP.info(d.$t({id:"oGiueh",defaultMessage:"Google maps is exclusive to the Enterprise version."}));const e=un(u,c,g,o,t,n,f);v(e),p.current=u}),[u,c,g,null===g||void 0===g?void 0:g.length,o,f,l,d,t,n]),(0,i.useEffect)((()=>{p.current===u&&null!==e&&void 0!==e&&e.baseMap&&"customize"!==u&&(null===h||void 0===h||h.setMapStyle(null===e||void 0===e?void 0:e.baseMap))}),[p,u,null===e||void 0===e?void 0:e.baseMap,h]),{baseMap:h,theme:y,reCreateBaseMap:function(e){const i=(0,Yt.IV)(e),a={...c,style:e},l=null===h||void 0===h?void 0:h.getCenter();l&&(a.center=l);const r=un(i,a,g,o,t,n,f);return v(r),r}}}function un(e,t,n,i,o,a,l){var r,s;const d=new Yt.dR({key:o||"3ac9d33da9e7be15cbb9f1b92f285e9c",serviceHost:null===(r="https://maptable.com/api")?void 0:r.replace("/api",""),securityJsCode:{NODE_ENV:"production",PUBLIC_URL:"",BUILD_VERSION:"850a8b0",THIRD_PARTY:"feishu-dashboard",REACT_APP_SERVER_ENV:"production",REACT_APP_AG_GRID_LICENSE_KEY:"placeholder",REACT_APP_GOOGLE_OAUTH_CLIENT_ID:"placeholder",REACT_APP_BD_KEY:"placeholder",REACT_APP_GD_TOKEN:"3ac9d33da9e7be15cbb9f1b92f285e9c",REACT_APP_GOOGLE_MAP_KEY:"placeholder",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZG9uZ2xlaSIsImEiOiJja3A2amE1cTMwbGQzMnBxZXF4MDEwMnRpIn0.v4ZdsImv9hprcA32ocydgw",REACT_APP_BASE_API_URL:"https://maptable.com/api",REACT_APP_LARK_BASE_API_URL:"https://maptable.net/api",REACT_APP_BOUNDARY_OSS_URL:"https://icon-cdn.maptable.com",REACT_APP_WS_URL:"wss://maptable.com/websocketd",REACT_APP_LARK_WS_URL:"wss://maptable.net/websocketd",REACT_APP_STRIPE_PUB_KEY:"pk_live_51L8b87HyKdWcfiHZBeLLIIUQKKf9Ec6UohLlnv0ZIjFfugGPZtfrGnfeQJ5yHXFeZNPya7ii4MTB5hQqXvf0CHhn004g4JMOOO",REACT_APP_STRIPE_RETURN_URL:"https://maptable.com/api/cb/stripe_payment/",REACT_APP_SENTRY_DSN:"https://1cbf40ec955b89c8c7182c2e9c3f940a@o1161772.ingest.us.sentry.io/4509296236691456",REACT_APP_CORS_DISABLE_TOKEN:"",REACT_APP_WECHAT_REDIRECT_URI:"https://maptable.com/auth/wechat",REACT_APP_RECAPTCHA_TOKEN:"6LdMgpcgAAAAAKSbHqoSMXgTg1jlTJcYer0Ss6M4",REACT_APP_MAINTAIN_FILE_URI:"https://maptable-prod-public.oss-cn-hangzhou.aliyuncs.com/prodfiles/broadcast/maintain.json",REACT_APP_CRISP_WEBSITE_ID:"e3f43195-3a5a-4bcb-bf1d-7e3d13d0376d",REACT_APP_ICON_CDN:"https://icon-cdn.maptable.com",REACT_APP_IP_CHECK_URL:"https://ipcheck.maptable.net/",REACT_APP_USE_RECAPTCHA:"true",REACT_APP_FEISHU_PAY_URI:"https://maptable.com/feishu/plan"}.REACT_APP_GD_SECRET||"",version:"2.0",mapOptions:t,disableScaleControl:i,useTileLayer:(0,Oe.tq)()&&(null===(s="feishu-dashboard")?void 0:s.includes("feishu-dashboard"))});switch(e){case"amap":default:return d;case"google":return new Yt.N$({key:a||"placeholder",mapOptions:t,locale:l});case"mapbox":return new Yt.Dg({key:"pk.eyJ1IjoiZG9uZ2xlaSIsImEiOiJja3A2amE1cTMwbGQzMnBxZXF4MDEwMnRpIn0.v4ZdsImv9hprcA32ocydgw",mapOptions:t,disableScaleControl:i,locale:l});case"customize":if(!n)return d;{const e=L()(n,(e=>e.id===(null===t||void 0===t?void 0:t.style)));if("url"===(null===e||void 0===e?void 0:e.type)){const n=new ln("tile",{urlTemplate:null===e||void 0===e?void 0:e.urlTemplate,mapOptions:t});return n.setZIndex(-1),n}if("color"===(null===e||void 0===e?void 0:e.type)){const n=new rn.Z("bg",{bgColor:null===e||void 0===e?void 0:e.color,renderer:"canvas",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0,mapOptions:t});return n.setZIndex(-1),n}}}}var pn=n(81837),hn=n(42538),vn=n(53813),gn=n.n(vn),fn=n(91722),mn=n(70999),yn=n(11145),wn=n(36639),bn=n(43498),Cn=n(65066),xn=n.n(Cn),In=n(92922);const jn=JSON.parse('[{"id":"geocoding","scope":"table","isPro":false,"name":"\u5730\u5740\u89e3\u6790","nameEn":"Geocoding","themeColor":"#005ea9","desc":"\u5c06\u5730\u5740\u89e3\u6790\u4e3a\u7ecf\u7eac\u5ea6\u5750\u6807\uff0c\u5c06\u7ecf\u7eac\u5ea6\u5750\u6807\u8f6c\u6362\u4e3a\u5730\u5740","descEn":"Convert address to coordinates; convert coordinates to address","instanceId":"geocoding_uuid","iconType":"geocoding","published":true,"version":"alpha","publishedTime":1640908800},{"id":"boundary","scope":"table","isPro":false,"name":"\u533a\u57df\u8fb9\u754c","nameEn":"Region Boundaries","themeColor":"#57adfc","desc":"\u83b7\u53d6\u7701\u3001\u5e02\u3001\u533a\u53bf\u8fb9\u754c\u8f6e\u5ed3","descEn":"Get the boundaries of provinces, cities, and counties","instanceId":"boundary_uuid","iconType":"boundary","published":true,"version":"alpha","publishedTime":1640908800},{"id":"direction","scope":"table","isPro":false,"name":"\u8def\u5f84\u8ba1\u7b97","nameEn":"Direction","themeColor":"#c6a7ff","desc":"\u8ba1\u7b97\u4e24\u70b9\u4e4b\u95f4\u4e0d\u540c\u4ea4\u901a\u5de5\u5177\u548c\u51fa\u884c\u8ddd\u79bb\u4e0e\u65f6\u95f4","descEn":"Calculate the travel distance and time between two points","iconType":"direction","published":true,"version":"alpha","publishedTime":1640908800,"instanceId":"direction_uuid"},{"id":"analysis","scope":"table","isPro":false,"name":"\u7a7a\u95f4\u5206\u6790","nameEn":"Spatial Analysis","themeColor":"#dfbd7c","iconType":"analysis","desc":"\u7edf\u8ba1\u591a\u8fb9\u5f62\u5185\u70b9\u7684\u5c5e\u6027\uff0c\u5c06\u591a\u8fb9\u5f62\u5c5e\u6027\u5339\u914d\u5230\u70b9","descEn":"Calculate and match attributes of points within a polygon","instanceId":"analysis_uuid","published":false,"version":"alpha","publishedTime":1640908800},{"id":"isochrone","scope":"table","isPro":false,"name":"\u7b49\u65f6\u5708","nameEn":"Isochrone","themeColor":"#66dd6c","iconType":"isochrone","desc":"\u8ba1\u7b97\u7ed9\u5b9a\u70b9\u7684\u7b49\u65f6\u5708","descEn":"Calculate the isochrone of given points","instanceId":"isochrone_uuid","published":true,"version":"alpha","publishedTime":1648175291},{"id":"enrichment","scope":"table","isPro":false,"name":"\u6570\u636e\u6269\u5145","nameEn":"Data Enrichment","themeColor":"#eb9d00","iconType":"enrichment","desc":"\u83b7\u53d6\u7a7a\u95f4\u8fb9\u754c\u5185\u4eba\u53e3\u3001\u7ecf\u6d4e\u6570\u636e","descEn":"Get population and economic data within the spatial boundary","instanceId":"enrichment_uuid","published":false,"version":"alpha","publishedTime":1678377600},{"id":"aggregate","scope":"table","isPro":false,"name":"\u6570\u636e\u805a\u5408","nameEn":"Data Aggregation","iconType":"aggregate","themeColor":"#00b8d9","desc":"\u5c06\u6570\u636e\u6309\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\uff08\u652f\u6301\u6c42\u548c\u3001\u53d6\u5e73\u5747\u64cd\u4f5c\uff09","descEn":"Aggregate data by field (support sum, average, min, max etc.)","instanceId":"aggregate_uuid","published":true,"version":"alpha","publishedTime":1675991551},{"id":"map-filter","scope":"map","isPro":true,"name":"\u5730\u56fe\u7b5b\u9009\u5668","nameEn":"Map Filter","themeColor":"#6DABF6","desc":"\u652f\u6301\u8de8\u591a\u4e2a\u56fe\u5c42\u6216\u6570\u636e\u8868\u6267\u884c\u6279\u91cf\u8fc7\u6ee4","descEn":"Perform batch filtering across multiple layers or tables","instanceId":"mapFilter_uuid","iconType":"mapFilter","published":true,"version":"alpha","publishedTime":1688455685},{"id":"map-region-aggregation","scope":"map","isPro":false,"showProBadge":true,"name":"\u533a\u5212\u805a\u5408","nameEn":"Area Aggregation","iconType":"aggregate","themeColor":"#DFBD7C","desc":"\u5c06\u8868\u683c\u4e2d\u76f8\u540c\u7701\u4efd\u6216\u57ce\u5e02\u6570\u636e\u57fa\u4e8e\u7279\u5b9a\u5b57\u6bb5\u8fdb\u884c\u805a\u5408\uff0c\u4ee5\u4fbf\u66f4\u6709\u6548\u5730\u5206\u6790\u548c\u5c55\u793a\u6570\u636e","descEn":"Aggregate data by field (support sum, average, min, max etc.)","instanceId":"mapRegionAggregation_uuid","published":true,"version":"alpha","publishedTime":1700733272},{"id":"ai-assistant","scope":"map","isPro":false,"showProBadge":true,"name":"AI \u52a9\u624b","nameEn":"AI Assistant","iconType":"star2","themeColor":"#6DABF6","desc":"AI \u52a9\u624b","descEn":"AI Assistant","instanceId":"aiAssistant_uuid","published":true,"version":"alpha","publishedTime":1727788800}]'),Mn=((0,re.P1)(((e,t)=>e.app.extensions),((e,t)=>t),((e,t)=>xn()(e,(e=>"table"===t?e.scope===t||!e.scope:e.scope===t)))),(0,re.P1)((e=>e.extension.entities),(e=>{const t={};for(const[,n]of Object.entries(e)){const e=jn.find((e=>e.id===(null===n||void 0===n?void 0:n.extensionID)));e&&null!==n&&void 0!==n&&n.extensionID&&(t[e.instanceId]={...e,remoteId:n.id,options:null===n||void 0===n?void 0:n.options})}return t}),{memoizeOptions:{resultEqualityCheck:it()}}),(0,re.P1)((e=>e.extension.entities),((e,t)=>t),((e,t)=>{const n=t?e[t]:void 0,i=jn.find((e=>e.id===(null===n||void 0===n?void 0:n.extensionID)));if(i)return{...i,remoteId:null===n||void 0===n?void 0:n.id,options:null===n||void 0===n?void 0:n.options}}),{memoizeOptions:{resultEqualityCheck:it()}}),(0,re.P1)(In.wl.selectAll,(e=>e?wn.K.and(...e.filter((e=>"map-filter"===e.extensionID)).map((e=>{var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.filter}))):null),{memoizeOptions:{resultEqualityCheck:it()}}));var kn=n(22601),Tn=n(57830);var En=n(67661),Pn=n(81987),On=n(66168),Sn=n(76592),_n=n(84377);n(98864);const Nn={layerType:"pointLinePolygon",fillFieldID:null,outlineFieldID:null,radiusFieldID:null,fillConfig:{fillOpacity:.6,colors:["#faa90a"],fillMethod:"quantize",icons:{},colorScheme:null,thresholds:null,aggregateBy:"sum",reverse:!1,bivariate:!1},radiusConfig:{radius:5,fixedToMeter:null,radiusRange:[0,20]},outlineConfig:{strokeWeight:1,strokeOpacity:.4,colors:["#faa90a"],colorScheme:null,thresholds:null,strokeMethod:"quantize",reverse:!1,align:"center"}};$t()({},Nn,{fillConfig:{fillOpacity:.8}}),$t()({},Nn,{fillConfig:{fillOpacity:.8,colors:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"]}});n(47587),n(41122);(0,X.vU)({count:{id:"Aujn2T",defaultMessage:"Count"},sum:{id:"YYkniy",defaultMessage:"Sum"},mean:{id:"gYB2lt",defaultMessage:"Mean"},median:{id:"WrSL3+",defaultMessage:"Median"},max:{id:"kkjl2v",defaultMessage:"Max"},min:{id:"A4AHkc",defaultMessage:"Min"}});(0,X.Em)({id:"k5fiSA",defaultMessage:"Buffer"}),(0,X.Em)({id:"4gHffY",defaultMessage:"Centroid"}),(0,X.Em)({id:"7NvZyt",defaultMessage:"Bounding box"}),(0,X.Em)({id:"e1QVee",defaultMessage:"Generate a rectangular polygon completely covering the data object"}),(0,X.Em)({id:"UEBV86",defaultMessage:"Count points"}),(0,X.Em)({id:"xKy7Hd",defaultMessage:"Join features"}),(0,X.Em)({id:"ICu6vY",defaultMessage:"Associates the attribute data of polygons to the data objects that fall within them"}),(0,X.Em)({id:"yj8NrY",defaultMessage:"Clip"}),(0,X.Em)({id:"C1Xstm",defaultMessage:"Keep only the parts of each data object inside polygons from another layer"}),(0,X.Em)({id:"c4xaiR",defaultMessage:"Dissolve"}),(0,X.Em)({id:"UjJfz6",defaultMessage:"Create a single new polygon covering all data objects"}),(0,X.Em)({id:"HzfrYu",defaultMessage:"Grid"}),(0,X.Em)({id:"kLp9ex",defaultMessage:"Create grids and aggregate data within a specified area"}),(0,X.Em)({id:"js7RwD",defaultMessage:"Buffered"}),(0,X.Em)({id:"zZFBF0",defaultMessage:"Centroids"}),(0,X.Em)({id:"37516j",defaultMessage:"Bounded"}),(0,X.Em)({id:"7wGmyF",defaultMessage:"Counted"}),(0,X.Em)({id:"l8wanU",defaultMessage:"Joined"}),(0,X.Em)({id:"mq5q3E",defaultMessage:"Clipped"}),(0,X.Em)({id:"8dVSHI",defaultMessage:"Dissolved"}),(0,X.Em)({id:"k2JJSV",defaultMessage:"Gridded"}),(0,X.Em)({id:"68VUNu",defaultMessage:"Entire layer"}),(0,X.Em)({id:"+YJREd",defaultMessage:"Features on screen"}),(0,X.Em)({id:"Nl2TeU",defaultMessage:"Kilometer"}),(0,X.Em)({id:"9A/UWu",defaultMessage:"Mile"}),(0,X.vU)({buffer:{id:"9fv+qV",defaultMessage:"Layer"},centroid:{id:"9fv+qV",defaultMessage:"Layer"},bounds:{id:"9fv+qV",defaultMessage:"Layer"},countPoints:{id:"uRR69+",defaultMessage:"Summary polygon layer"},joinFeatures:{id:"3Yg293",defaultMessage:"Target layer"},clip:{id:"9YrdRF",defaultMessage:"Cut out data from"},dissolve:{id:"9fv+qV",defaultMessage:"Layer"},grid:{id:"Cnwv1R",defaultMessage:"Extent layer"}}),(0,X.Em)({id:"NmPCdP",defaultMessage:"Specify the extent that the grid will cover."});function Dn(){const[e,t]=(0,i.useState)();return(0,i.useEffect)((()=>{e||new fn.q(new URL(n.p+n.u(319),n.b)).createWorker().then(t)}),[e]),e}var Ln=n(42015),An=n(61343),Rn=n(32578);var Zn=n(15328),Fn=n(17481);const zn={};function Bn(e){const{projectId:t,shareParams:o,isThirdPartyTable:a=!1,resolution:l,messageId:r,filters:s}=e,d=(0,ne.I)(),c=(0,Zn.nI)(),u=(0,i.useRef)(new Set),{layerNode:p}=ut(t),h=null===p||void 0===p?void 0:p.id,{getFilterMap:v}=function(e){var t;const{projectId:n,layerNodeId:o,filters:a,isThirdPartyTable:l}=e,{pathname:r}=(0,yn.TH)(),s=r.startsWith("/s/"),{workspaceId:d}=(0,Tn.F)(),c=(0,ne.v)(bn.H8),u=(0,ne.v)((e=>e.map.filters)),p=(0,ne.v)((e=>{var t;return null===(t=e.project.layerNodes[n])||void 0===t?void 0:t.find((e=>e.id===o))})),h=(0,ne.v)((e=>Mn(e,n))),v="h3Tile"===(null===p||void 0===p||null===(t=p.mapInfo)||void 0===t?void 0:t.layerType),g=(0,i.useCallback)(((e,t,n,i)=>{var o,r;const p=null===c||void 0===c?void 0:c.find((e=>e.id===t)),g={},f=null===a||void 0===a||null===(o=a.find((e=>e.table===t)))||void 0===o?void 0:o.filter,m=null===p||void 0===p||null===(r=p.views)||void 0===r?void 0:r.find((e=>e.id===n)),y=!v&&null!==p&&void 0!==p&&p.columns?(0,Ke.hu)(wn.K.and((null===m||void 0===m?void 0:m.filter)||null,f||null),p.columns):null;y&&(g.view=y);const w=wn.K.filter(h,(e=>e.tableNodeId===(null===p||void 0===p?void 0:p.id)));w&&(g.extension=w);const b=(0,Ke.Jl)({workspaceId:d,layerNodeId:e},{allowAnonymous:l||s}),C=wn.K.and(...Object.values(b&&u[b]||{}));if(C&&(g.layer=C),!v&&null!==i&&void 0!==i&&i.enabled&&null!==p&&void 0!==p&&p.columns&&i.filter){const e=(0,Ke.hu)(i.filter,p.columns);e&&(g.row=e)}const x=null!==p&&void 0!==p&&p.columns&&a?a.filter((e=>e.table===(null===p||void 0===p?void 0:p.id))).map((e=>(0,Ke.hu)(e.filter,p.columns))):null;return x&&(g.arbitrary=wn.K.and(...x)),g}),[a,u,d,c,l,h,s,v]);return{getFilterMap:g}}({projectId:t,layerNodeId:h,isThirdPartyTable:a,filters:s}),g=(0,ne.v)((e=>e.map.timeline)),[f,m]=(0,i.useState)([]),y=(0,ne.v)((e=>tt.Hx.selectById(e,t))),w=(0,ne.v)((n=>e.layerNodes?e.layerNodes:(0,te.M)(n,t))),b=(0,ne.v)(_n.eH),x=(0,ne.v)((e=>e.project.zIndexMap),it()),I=(0,ne.v)(bn.H8),j=null===y||void 0===y?void 0:y.tableNodes,M=(0,ne.v)((e=>e.project.members)),k=(0,i.useRef)(!1),[T,E]=(0,i.useState)(k.current);!function(e){let{projectId:t,shareParams:n,isThirdPartyTable:o,layerNodes:a}=e;const l=(0,ne.v)((e=>e.map.spatialAnalysis.isOpen&&!e.map.spatialAnalysis.isAnalyzing?e.map.spatialAnalysis.config:void 0)),r=(0,i.useMemo)((()=>{if(!l)return;const e=a.find((e=>e.id===(null===l||void 0===l?void 0:l.layerId))),t=a.find((e=>e.id===l.overlayLayerId));return e||t?ve()([e,t]):void 0}),[l,a]);(0,En.Ui)(t,r,{token:null===n||void 0===n?void 0:n.token,type:null===n||void 0===n?void 0:n.type},o)}({projectId:t,layerNodes:w,shareParams:o,isThirdPartyTable:a});const{data:P,isLoading:O}=function(e){let{layerNodes:t,locale:n="zh-CN",previewMapInfos:o}=e;const a=(0,i.useMemo)((()=>t.filter((e=>{var t;return"region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}))),[t]),{isLoading:l,data:r}=(0,Rn.Z)(a.length?["useAdminBoundaryData",a,o]:null,(async e=>{let[t,n,i]=e;return Promise.all(n.map((async e=>{var t,n;const o=(null===i||void 0===i?void 0:i[e.id])||e.mapInfo;if(!o)return;const{aggregateBy:a,country:l}=o.regionConfig||{},r="admin0"===a,s=null===(t=o.regionConfig)||void 0===t?void 0:t.regionId,d=await(0,An.gd)(o),c=r?await(0,Ln.RG)(s):await(0,Ln.RG)(l),u=null===(n=Object.values(c))||void 0===n?void 0:n.flat(2),p={...d,features:null===d||void 0===d?void 0:d.features.map((t=>({...t,properties:{...t.properties,layerID:e.id}})))};return{layerNodeId:e.id,data:p,index:r?u:c}})))}));return{isLoading:l,data:(0,i.useMemo)((()=>ve()(r)),[r])}}({layerNodes:w,previewMapInfos:b,locale:c}),{isReady:S}=(0,En.Ui)(t,e.layerNodes,{token:null===o||void 0===o?void 0:o.token,type:null===o||void 0===o?void 0:o.type},a),_=(0,ne.v)((e=>{var t;return null!==o&&void 0!==o&&o.type?null===(t=e.user.sharedUser)||void 0===t?void 0:t.token:void 0})),N=(0,C.Z)((e=>{var t;return null===(t=e.project)||void 0===t||null===(t=t.infoWindowConfig)||void 0===t?void 0:t.closeWay})),[D,L]=(0,i.useState)(),{getTableRowLevelPermission:A}=(0,Pn.q)(),R=function(){const[e,t]=(0,i.useState)();return(0,i.useEffect)((()=>{e||new fn.q(new URL(n.p+n.u(995),n.b)).createWorker().then(t)}),[e]),e}();return(0,i.useEffect)((()=>{if(R)return R.addEventListener("message",e),()=>{R.removeEventListener("message",e)};function e(e){if(e.data.messageId!==r)return;u.current=e.data.hiddenPois,k.current=!1;const{computedLayers:n}=e.data;m(function(e){return e.forEach((e=>{if("region"===e.mapInfo.layerType){const t=e.mapInfo,n=(0,Fn.x2)(e.id,t);e.features.length&&e.regionMatchResult&&(zn[n]=e)}})),e}(n)),n.forEach((e=>{e.isPreview&&d((0,On.Q$)(e)),d(Sn.Nw.refreshStaleLayer({layerId:e.id,projectId:t})),d(Sn.Nw.setLayerReadyState({layerId:e.id,projectId:t,ready:!0}))}))}}),[r,d,t,R]),(0,i.useEffect)((()=>{l&&null!==w&&void 0!==w&&w.some((e=>{var t;return"h3Tile"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}))&&L(l)}),[w,l]),(0,i.useEffect)((()=>{const e=(0,mn.debounce)((()=>{E(k.current)}),300);return e(),()=>{e.cancel()}}),[f,k.current]),(0,i.useEffect)((()=>{k.current=O}),[O]),(0,i.useEffect)((()=>{if(!S)return;if(!R)return;k.current=!0,u.current.clear();const e={},t=[];null===w||void 0===w||w.filter((e=>"map"===e.type)).forEach((n=>{const i=gn()(b[n.id]||n.mapInfo),o=null===I||void 0===I?void 0:I.find((e=>e.id===(null===i||void 0===i?void 0:i.tableNodeID))),a=(null===o||void 0===o?void 0:o.type)===Ue.e.bigTable?A(null===o||void 0===o?void 0:o.id):void 0;Object.assign(e,{[n.id]:v(n.id,null===i||void 0===i?void 0:i.tableNodeID,null===i||void 0===i?void 0:i.viewID,a)}),i.vectorTile&&"h3Tile"!==i.layerType&&t.push(n)})),t.length>0&&d((0,On.Fz)({layers:t,userToken:_}));const n=new Set(null===w||void 0===w?void 0:w.filter((e=>e.stale)).map((e=>e.id))),i={...b};n.size&&Object.keys(i).forEach((e=>{n.has(e)&&delete i[e]}));const o={layerNodes:w,previewMapInfos:i,tableNodes:I,timelines:null===g||void 0===g?void 0:g.layers,layerFilters:e,timezone:null===y||void 0===y?void 0:y.timezone,mondayFirst:null===y||void 0===y?void 0:y.weekStartOnMonday,locale:c,members:M,zIndexMap:x,projectTableNodes:j,isThirdPartyTable:a,thirdPartyInfoWindowCloseWay:N,resolution:D,messageId:r,adminBoundaryData:P,regionLayerMemoryCache:zn};R.postMessage(o)}),[S,w,b,I,x,A,v,M,null===y||void 0===y?void 0:y.timezone,null===y||void 0===y?void 0:y.weekStartOnMonday,null===g||void 0===g?void 0:g.layers,j,a,N,D,r,_,d,R,c,P]),{isLoading:T,layers:f,hiddenPoiIds:u.current}}var Vn=n(71605),Hn=n(1716),Wn=n(40585),Un=n(6404),Gn=n(40475),qn=n.n(Gn),$n=n(15525),Jn=n(59303),Qn=n(95775),Kn=n(34221),Yn=n(70645),Xn=n(45818),ei=n(39252);const ti={itemIcon:"overlayTypeSelector_itemIcon__5-gob",radioGroup:"overlayTypeSelector_radioGroup__fuEHD",item:"overlayTypeSelector_item__3ccyr"},ni=["Point","LineString","Polygon","Circle","Boundary","Route"],ii=[{value:"Point",msg:(0,X.Em)({id:"geometry.type.point",defaultMessage:[]}),iconType:"point"},{value:"LineString",msg:(0,X.Em)({id:"geometry.type.line",defaultMessage:[]}),iconType:"line"},{value:"Polygon",msg:(0,X.Em)({id:"geometry.type.polygon",defaultMessage:[]}),iconType:"polygon"},{value:"Circle",msg:(0,X.Em)({id:"vH8sCb",defaultMessage:"Circle"}),iconType:"circle"},{value:"Boundary",msg:(0,X.Em)({id:"geometry.type.boundary",defaultMessage:[]}),iconType:"adminBoundary"},{value:"Route",msg:(0,X.Em)({id:"geometry.type.route",defaultMessage:[]}),iconType:"route"}];function oi(e){let{value:t="Point",realValue:n,enableTypes:i=ni,hiddenTypes:o=[],isEditing:l=!1,isNew:r=!1,isPro:s,enableCircle:d=!1,onChange:c}=e;const u=(0,a.Z)(),p=u.$t({id:"3Q5uEv",defaultMessage:"Drawing has started, and switching the type will result in the previous drawing being cleared."}),h=u.$t({id:"cmIby1",defaultMessage:"Drawing is not supported while editing data."}),v=(0,ei.Z)("addRoute"),g=(0,ei.Z)("circleGeometry");return(0,ye.jsx)(Qn.ZP.Group,{className:ti.radioGroup,value:t,onChange:c,optionType:"button",children:ii.map((e=>{if("Circle"===e.value&&!g&&!d)return null;if(("Boundary"===e.value||"Route"===e.value)&&!r&&!s)return null;if("Route"===e.value&&!v)return null;if(o.includes(e.value))return null;const t=!i.includes(e.value);return(0,ye.jsx)(Qn.ZP,{value:e.value,disabled:t,children:(0,ye.jsx)(It.Z,{title:t?h:(a=e.value,c=u.$t(e.msg),n!==a&&l?p:c),children:(0,ye.jsx)("div",{className:ti.item,children:(0,ye.jsx)(U.Z,{type:e.iconType,className:ti.itemIcon})})})},e.value);var a,c}))})}var ai=n(10485),li=n(71105),ri=n(15905),si=n(56356),di=n.n(si),ci=n(34847),ui=n.n(ci),pi=n(99540),hi=n.n(pi);const vi="https://api.map.baidu.com",gi="placeholder";async function fi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u5168\u56fd";return new Promise(((i,o)=>{(function(e,t){return new Promise(((n,i)=>{ui()("".concat(vi,"/place/v2/search?ak=").concat(gi,"&query=").concat(e,"&region=").concat(t,"&output=json"),((t,o)=>{var a;t&&i(t);const l=null!==(a=L()(o.results,(t=>t.name===e)))&&void 0!==a?a:N()(null===o||void 0===o?void 0:o.results);n(l)}))}))})(e,n).then((async e=>{if(e){const o=await(n=e.uid,new Promise(((e,t)=>{ui()("https://map.baidu.com/?qt=ext&ext_ver=new&l=17&uid=".concat(n),(function(n,i){n&&t(n);const o=i.content.geo;if(o){const t=o.split("-")[1].replace(";","").split(",").map((e=>hi()(e))),n=[];for(let e=0;e<t.length-1;e+=2){const[i,o]=(0,q.vs)({type:"Point",coordinates:[t[e],t[e+1]]},q.fI,q.Zn).coordinates;n.push([i,o])}e(n)}else e(void 0)}))})));t&&clearTimeout(t),i(o?[o]:void 0)}var n})),t=setTimeout((()=>{o(void 0)}),3e3)}))}var mi=n(74797),yi=n(22963);const{GCJ02:wi,WGS84:bi,transform:Ci}=Ee.default,xi=(0,yi.Fs)({baseURL:"".concat(mi.Z.baseApiURL,"/services")});class Ii extends yi.tr{async searchPoiByAMap(e,t,n,i){const o=[Math.round(1e6*e[0])/1e6,Math.round(1e6*e[1])/1e6],{data:a}=await this.fetch.get("".concat(i?"/shared":"","/amap/assistant/"),{params:{keywords:t,location:o.join(","),project:n,userToken:i}});return k()(a.pois,(e=>{const t=e.location.split(",");return{id:e.id,name:e.name,address:e.address,location:{lng:parseFloat(t[0]),lat:parseFloat(t[1])}}}))}async searchPoiByMapbox(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",o=arguments.length>4?arguments[4]:void 0;const{data:a}=await this.fetch.get("".concat(o?"/shared":"","/mapbox/search/").concat(encodeURIComponent(t),"/"),{params:{version:5,limit:10,proximity:e.join(","),project:n,language:i,userToken:o}});return k()(a.features,(e=>{var t;return{id:e.id,name:null!==(t=e.matching_place_name)&&void 0!==t?t:e.text,address:e.place_name,location:{lng:e.center[0],lat:e.center[1]}}}))}async mpTrack(e,t,n){}async mpTrackPageViewAnonymous(e,t){await this.mpTrack("Page View",{"Page Type":e,locale:t},!0)}async mpTrackPageView(e,t,n,i,o){"org"===(null===i||void 0===i?void 0:i.type)&&(n={...n,org_id:i.id,org_name:i.name}),o&&(n={...n,project_id:o.id,project_name:o.name}),await this.mpTrack("Page View",{"Page Type":e,locale:t,...n})}async mpTrackClick(e,t,n,i,o){"org"===(null===o||void 0===o?void 0:o.type)&&(i={...i,org_id:o.id,org_name:o.name}),await this.mpTrack("Click "+t,{"Page Type":e,locale:n,...i})}async reGeocodeByAMap(e,t){const{data:n}=await this.fetch.get("/amap/geocode/regeo/",{params:{location:e.join(","),project:t}});return n.regeocode}async direction(e,t,n,i,o){let a=[e.join(","),t.join(",")].join(";");"amap"===i&&(a=[Ci(e,bi,wi).join(","),Ci(t,bi,wi).join(",")].join(";"));const l=await this.fetch.get("/".concat(i,"/direction/").concat(n,"/").concat(encodeURIComponent(a),"/"),{params:{project:o}});let r="origin",s="destination";if("amap"===i){var d,c;try{r=Mi(await this.reGeocodeByAMap(e,o));s=Mi(await this.reGeocodeByAMap(t,o))}catch{}const n=null!==(d=Me()(l.data,"route.paths[0]"))&&void 0!==d?d:Me()(l.data,"data.paths[0]",{});return{origin:e,originName:r,destination:t,destinationName:s,distance:hi()(n.distance),duration:hi()(n.duration),coordinates:null===(c=n.steps)||void 0===c?void 0:c.flatMap((e=>e.polyline.split(";").map((e=>Ci(e.split(",").map((e=>parseFloat(e))),wi,bi)))))}}if("mapbox"===i){var u;const n=Me()(l.data,"routes[0]"),i=Me()(l.data,"coordinates");return{origin:e,originName:Me()(i,"[0].features[0].place_name","").split(",").slice(0,2).join(","),destination:t,destinationName:Me()(i,"[1].features[0].place_name","").split(",").slice(0,2).join(","),distance:null===n||void 0===n?void 0:n.distance,duration:null===n||void 0===n?void 0:n.duration,coordinates:null===n||void 0===n||null===(u=n.geometry)||void 0===u?void 0:u.coordinates}}}async baseGeocode(e,t){const{data:n}=await this.fetch.post("/base/geocode/",{inputs:t,type:e});return n.detail}async baseRegeocode(e,t){const{data:n}=await this.fetch.post("/base/regeocode/",{inputs:t,type:e});return n.detail}async quotaInfo(){const{data:e}=await this.fetch.get("/quota/");return e.detail}}const ji=new Ii(xi);function Mi(e){return"".concat(e.formatted_address.replace(e.addressComponent.province,"").replace(e.addressComponent.city,""),",").concat(e.addressComponent.city,",").concat(e.addressComponent.province)}var ki=n(93707);function Ti(){const e=(0,ne.I)();return(0,i.useCallback)((t=>{t&&"QuotaLimitError"===t.name&&e(ki.Nw.updateQuotaLimitDialogConfig({quotaError:JSON.parse(t.message)}))}),[e])}const Ei=(e,t,n)=>{const[o,l]=(0,i.useState)([]),[r,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(),u=(0,a.Z)(),{userToken:p}=(0,$e.UP)(),h=Ti(),v=(0,i.useCallback)((async i=>(c(i),t&&e?new Promise(((o,a)=>{t.mapInstance.then((l=>{const r=window.google&&window.google.maps&&l instanceof window.google.maps.Map;n&&"zh-CN"===u.locale||window.AMap&&l instanceof window.AMap.Map?ji.searchPoiByAMap(t.getCenter(),i,e,p).then((e=>o(e))).catch((e=>a(e))):window.mapboxgl&&l instanceof window.mapboxgl.Map||r?ji.searchPoiByMapbox(t.getCenter(),i,e,u.locale.slice(0,2),p).then((e=>o(e))).catch((e=>a(e))):Q.ZP.info(u.$t({id:"wGKcik",defaultMessage:"Search is not available"}))}))})):[])),[e,t,u,p,n]);return{pois:o,keyword:d,searchPOI:async e=>{s(!0);try{const t=await v(e);l(t)}catch(t){h(t)}finally{s(!1)}},isLoading:r}};var Pi=n(7639);const Oi="search-field_inputWrap__Ki31k";function Si(e){let{onSearch:t,onChange:n,query:o="",disabled:l=!1,loading:r=!1,hideSearchButton:s=!1,placeholder:d,variant:c="borderless",onBlur:u,onFocus:p}=e;const h=(0,i.useRef)(null),v=(0,a.Z)();return(0,ye.jsxs)("div",{className:Oi,children:[(0,ye.jsx)(Pi.default,{prefix:(0,ye.jsx)(U.Z,{type:"search",style:{width:18,height:18}}),variant:c,defaultValue:o,ref:h,placeholder:r?v.$t({id:"iFsDVR",defaultMessage:"Loading"}):d||v.$t({id:"xmcVZ0",defaultMessage:"Search"}),onPressEnter:e=>{var n;e.stopPropagation(),r||l||t((null===(n=h.current)||void 0===n||null===(n=n.input)||void 0===n?void 0:n.value)||"")},maxLength:256,autoFocus:!0,onChange:e=>{if(r||l)return;const t=e.target.value;null===n||void 0===n||n(t)},"data-testid":"mapSearchInput","data-specialid":"mapSearchInput",disabled:l||r,allowClear:!0,onBlur:u,onFocus:p}),!s&&(0,ye.jsx)(K.ZP,{type:"primary",size:"small",onClick:()=>{var e;return t((null===(e=h.current)||void 0===e||null===(e=e.input)||void 0===e?void 0:e.value)||"")},disabled:l,loading:r,children:v.$t({id:"xmcVZ0",defaultMessage:"Search"})})]})}var _i=n(2715),Ni=n(40978),Di=n(98194);const Li={emptyView:"empty_emptyView__9fJ+7"};function Ai(e){let{text:t,icon:n}=e;return(0,ye.jsxs)("div",{className:Li.emptyView,children:["function"===typeof n?n():n,(0,ye.jsx)("div",{children:t})]})}var Ri=n(63856);const Zi={container:"result-item_container__strgc",icon:"result-item_icon__RAigk",title:"result-item_title__yWa87",description:"result-item_description__z7Vy-"};function Fi(e){let{data:t,description:n,icon:i,onClick:o}=e;return(0,ye.jsxs)("li",{onClick:()=>null===o||void 0===o?void 0:o(t),className:Zi.container,"data-size":n?"md":void 0,children:[(0,ye.jsx)("div",{className:Zi.icon,children:i}),(0,ye.jsxs)("div",{className:Zi.content,children:[(0,ye.jsx)("div",{className:Zi.title,title:t.title,children:t.title}),n&&(0,ye.jsx)("div",{className:Zi.description,children:(0,ye.jsx)(Ri.Z,{text:n})})]})]})}const zi={container:"result-group_container__Zwqj7",title:"result-group_title__H47V8",collapseWrap:"result-group_collapseWrap__HyNk7",count:"result-group_count__xszY+",items:"result-group_items__rcA2p"};function Bi(e){const{title:t,collapsed:n,titleStyle:i={},onCollapse:o}=e;return(0,ye.jsxs)(z.Z,{align:"center",justify:"space-between",className:zi.title,style:i,"data-collapsible":null!=n,onClick:o?()=>o(!n):void 0,children:[(0,ye.jsx)("div",{children:t}),null!=n?(0,ye.jsxs)("div",{className:zi.collapseWrap,children:[e.extra,(0,ye.jsx)(U.Z,{type:n?"arrowDown2":"arrowUp2"})]}):e.extra]})}const Vi=()=>null;function Hi(e){const{isLoading:t=!1,items:n=[],renderEmpty:l=Vi,onClick:s}=e,d=(0,a.Z)(),[c,u]=(0,i.useState)(!1),p=n.length;return(0,ye.jsxs)("div",{className:zi.container,"data-testid":"result-group",children:[(0,ye.jsx)(Bi,{title:e.title,collapsed:c,onCollapse:u,extra:p?(0,ye.jsx)("span",{className:zi.count,children:d.$t({id:"4tm0fX",defaultMessage:"{count, plural, one {# record} other {# records}}"},{count:p})}):null}),!c&&(n.length||t?(0,ye.jsx)(r.Z,{spinning:t,indicator:(0,ye.jsx)(o.Z,{}),children:(0,ye.jsx)("ul",{className:zi.items,children:n.map(((e,t)=>(0,ye.jsx)(Fi,{onClick:s,...e},t)))})}):l())]})}const Wi={icon:"icon_icon__aF-EW"};function Ui(e){let{size:t=24}=e;return(0,ye.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:"none",viewBox:"0 0 24 24",children:(0,ye.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.667",d:"M16 13.374c3.532.695 6 2.28 6 4.126 0 2.485-4.477 4.5-10 4.5S2 19.985 2 17.5c0-1.845 2.468-3.431 6-4.126M12 17V9m0 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})})}function Gi(e){let{type:t}=e;return"map-poi"===t?(0,ye.jsx)(Ui,{size:20}):(0,ye.jsx)(U.Z,{type:t.toLowerCase(),className:Wi.icon,style:{width:20,height:20}})}function qi(e){let{query:t,items:n,isLoading:i,baseMapProvider:o,onClick:l}=e;const r=(0,a.Z)(),s=(n||[]).map((e=>({data:{key:e.id,title:e.name},icon:(0,ye.jsx)(Gi,{type:"map-poi"}),description:e.address})));return(0,ye.jsx)(Hi,{title:(0,ye.jsxs)(z.Z,{gap:4,align:"center",children:[(0,ye.jsx)(U.Z,{type:"global"}),r.$t({id:"CYPtKj",defaultMessage:"Search places"})]}),items:s,onClick:function(e){let{key:t}=e;const i=n.find((e=>e.id===t));if(!i)return;let a=i.location;if("amap"===o){const[e,t]=(0,Ni.vs)({type:"Point",coordinates:[i.location.lng,i.location.lat]},Ni.cG,Ni.Zn).coordinates;a={lng:e,lat:t}}null===l||void 0===l||l({...i,location:a})},isLoading:i,renderEmpty:()=>(0,ye.jsx)(Ai,{icon:(0,ye.jsx)(Di.q,{size:40}),text:r.$t({id:"1tvlZe",defaultMessage:'No content found for "{query}"...'},{query:t})})})}const $i="searchPOI_search__FNkzk",Ji="searchPOI_popover__YxU2W",Qi="searchPOI_aoiIcon__38oPY",Ki="searchPOI_aoiName__v0PHz",Yi=e=>{let{projectId:t,baseMap:n,placeholder:o,onSelected:l=Gt(),onAoiSelected:r=Gt(),disabled:s,tooltip:d,isPro:c,enableAoiSearch:u,onTrackSearchPOI:p}=e;const[h,v]=(0,i.useState)(!1),[g,f]=(0,i.useState)(),[m,y]=(0,i.useState)(),[w,b]=(0,i.useState)(!1),C=(0,i.useRef)(""),x=C.current,I=(0,a.Z)(),{project:j}=(0,_i.P)(void 0,t),M=null===j||void 0===j?void 0:j.mapConfig,k=(0,ne.v)((e=>e.map.baseMap)),T="customize"===(0,Yt.IV)(null!==k&&void 0!==k?k:null===M||void 0===M?void 0:M.baseMap),{searchPOI:E,pois:P,keyword:O,isLoading:S}=Ei(t,n),_=(0,i.useCallback)((async e=>{let t=e.location;if("amap"===n.getProvider()){const[e,n]=(0,Pe.transformGCJ02ToWGS84)([t.lng,t.lat],!0);t={lng:e,lat:n}}if(y(e),null===l||void 0===l||l({...e,location:t}),u)try{const t=await fi("".concat(e.name));t&&(v(!0),f(t))}catch{}}),[l,u,n]);return(0,ye.jsxs)("div",{className:$i,children:[(0,ye.jsx)(ai.Z,{open:w,rootClassName:Ji,placement:"bottom",content:(0,ye.jsx)(qi,{items:P,query:x,isLoading:S,onClick:_,baseMapProvider:null===n||void 0===n?void 0:n.getProvider()}),children:(0,ye.jsx)(It.Z,{title:d,children:(0,ye.jsx)(Si,{hideSearchButton:!0,query:x,onSearch:function(e){const t=di()(e);t.length?(b(!0),null===p||void 0===p||p("SearchPOI",{poi:O,provider:null===n||void 0===n?void 0:n.getProvider(),location:"Add data"},"list"),T||E(t)):b(!1),C.current=t},placeholder:I.$t({id:"D/ZSoc",defaultMessage:"Press Enter to search"}),disabled:s||T,variant:"outlined",onBlur:()=>{setTimeout((()=>{b(!1)}),300)},onFocus:()=>{P.length?b(!0):b(!1)}})})}),(0,ye.jsx)(ie.Vq,{width:"350px",title:null,closable:!1,visible:h,okText:I.$t({id:"EWw/tK",defaultMessage:"Apply"}),onCancel:()=>v(!1),onOk:function(){r(g),v(!1)},children:(0,ye.jsxs)(li.Z,{align:"middle",children:[(0,ye.jsx)(ri.Z,{span:4,children:(0,ye.jsx)(U.Z,{type:"polygon",className:Qi})}),(0,ye.jsxs)(ri.Z,{span:20,children:[(0,ye.jsxs)("p",{children:[I.$t({id:"I0Xzdz",defaultMessage:"Found"}),(0,ye.jsx)("span",{className:Ki,children:null===m||void 0===m?void 0:m.name})," ",I.$t({id:"PRE0XT",defaultMessage:"Polygon area"}),","]}),(0,ye.jsx)("div",{children:I.$t({id:"mguUsS",defaultMessage:"Use this polygon?"})})]})]})})]})},Xi={Point:"\u70b9",LineString:"\u7ebf",Polygon:"\u591a\u8fb9\u5f62",Circle:"\u5706"},eo={Point:"Point",LineString:"LineString",Polygon:"Polygon",Circle:"Circle"},to={editVertex:"\u7f16\u8f91\u9876\u70b9",move:"\u79fb\u52a8\u5de5\u5177",delete:"\u6a61\u76ae\u5de5\u5177",cut:"\u526a\u5207\u5de5\u5177"},no={editVertex:"Edit Vertex",move:"Move Tool",delete:"Eraser Tool",cut:"Cut Tool"},io={itemIcon:"geometryEditSelector_itemIcon__n8YOk",item:"geometryEditSelector_item__3FPDf",radioGroup:"geometryEditSelector_radioGroup__RZWDw"},oo=[{value:"editVertex",msg:(0,X.Em)({id:"4KaSND",defaultMessage:"Control points"}),iconType:"editVertex"},{value:"move",msg:(0,X.Em)({id:"UMbBzo",defaultMessage:"Move"}),iconType:"move"},{value:"cut",msg:(0,X.Em)({id:"RNRpjD",defaultMessage:"Crop"}),iconType:"scissors"},{value:"delete",msg:(0,X.Em)({id:"SvdI9p",defaultMessage:"Eraser"}),iconType:"eraser"}];function ao(e){const t=(0,a.Z)();return(0,ye.jsxs)(z.Z,{gap:10,align:"center",children:[(0,ye.jsx)(Qn.ZP.Group,{optionType:"button",className:io.radioGroup,...e,children:oo.filter((t=>{var n;return!(null!==(n=e.hiddenOptions)&&void 0!==n&&n.includes(t.value))})).map((n=>(0,ye.jsx)(Qn.ZP,{value:n.value,children:(0,ye.jsx)(It.Z,{title:"editVertex"===n.value&&"Circle"===e.editorType?t.$t({id:"CKQt4g",defaultMessage:"Modify Radius"}):t.$t(n.msg),children:(0,ye.jsx)("div",{className:io.item,children:(0,ye.jsx)(U.Z,{type:n.iconType,className:io.itemIcon})})})},n.value)))}),e.value&&"confirm"!==e.value&&e.onConfirm?(0,ye.jsx)(K.ZP,{type:"primary",size:"small",onClick:e.onConfirm,children:t.$t({id:"N2IrpM",defaultMessage:"Confirm"})}):null]})}var lo=n(11846);const ro={panel:"editorPanel_panel__zs+qj",wrap:"editorPanel_wrap__C0qGf",drawerOpen:"editorPanel_drawerOpen__eLzMg",active:"editorPanel_active__hxSJU",button:"editorPanel_button__r6AV4",header:"editorPanel_header__7SDL4",title:"editorPanel_title__eaO-0",iconClose:"editorPanel_iconClose__m00mD",form:"editorPanel_form__Af1Ds",upgradeLink:"editorPanel_upgradeLink__J1rN5",label:"editorPanel_label__gUV5v",tip:"editorPanel_tip__8urHX",searchPOI:"editorPanel_searchPOI__lAUjA",trashButton:"editorPanel_trashButton__EklaJ",finishButton:"editorPanel_finishButton__7Nc9r",tips:"editorPanel_tips__dHk1Y",resetButton:"editorPanel_resetButton__lr8Y7",adminBoundary:"editorPanel_adminBoundary__JBNNK",notFoundContent:"editorPanel_notFoundContent__OFPui",undoredo:"editorPanel_undoredo__u-e+p",radiusSetting:"editorPanel_radiusSetting__VvVeA",radiusInput:"editorPanel_radiusInput__P0AWH"};var so=n(34197),co=n(18878),uo=n.n(co),po=n(40890);function ho(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,a.Z)(),[n,o]=(0,i.useState)(Bt().get(Vt.tM,[])),l=Ti(),{trigger:r}=(0,po.Z)("services/direction",(async(n,i)=>{let{arg:a}=i;const l=await ji.direction(a.origin,a.destination,a.type,a.service,a.projectId),r=Bt().get(Vt.tM,[]);if(l){if(!l.coordinates)return Q.ZP.info(t.$t({id:"ocBLE3",defaultMessage:"No route found"})),{...l,distance:"-",duration:"-"};if(!e)return l;if(r.some((e=>it()(e.origin,l.origin)&&it()(e.destination,l.destination))))return l;const n=[{origin:l.origin,originName:l.originName,destination:l.destination,destinationName:l.destinationName,distance:l.distance,duration:l.duration},...r];n.length>5&&n.pop(),o(n),Bt().set(Vt.tM,n)}return l}));return{getDirection:(0,i.useCallback)((async e=>{try{return await r(e)}catch(t){l(t)}}),[r,l]),history:n}}const vo=(0,i.forwardRef)(((e,t)=>{let{projectId:n,map:l,theme:s,locale:d,baseMapProvider:c}=e;const u=(0,a.Z)(),[p,h]=(0,i.useState)("driving"),{getDirection:v}=ho(!1),[g,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{setTimeout((()=>{f(!0)}),300)}),[]);const{isLoading:m,distance:y,duration:w,getData:b,resetDirection:C}=(0,so.g)((0,i.useMemo)((()=>({projectId:n,map:l,theme:s,locale:d,baseMapProvider:c,active:g,method:p,getDirection:v})),[c,g,v,d,l,p,n,s]));(0,i.useImperativeHandle)(t,(()=>({resetDirection:C,getData:b})));const x=[{value:"driving",label:u.$t({id:"measurement.driving",defaultMessage:"Driving"})},{value:"walking",label:u.$t({id:"measurement.walking",defaultMessage:"Walking"})},{value:"bicycling",label:u.$t({id:"measurement.bicycling",defaultMessage:"Bicycling"})}];return(0,ye.jsxs)("div",{children:[(0,ye.jsx)("div",{className:ro.tips,children:u.$t({id:"Xof2py",defaultMessage:"Select the start point and destination to automatically create a route connecting them"})}),(0,ye.jsxs)(r.Z,{spinning:m,indicator:(0,ye.jsx)(o.Z,{}),children:[(0,ye.jsxs)(z.Z,{align:"center",justify:"space-between",style:{marginBottom:6},children:[(0,ye.jsxs)("div",{className:ro.subTitle,children:[u.$t({id:"lRiViJ",defaultMessage:"Travel method"}),y&&w&&(0,ye.jsx)("span",{className:ro.resetButton,onClick:C,children:u.$t({id:"Ks6VyE",defaultMessage:"clear"})})]}),(0,ye.jsx)(Qn.ZP.Group,{size:"small",options:x,optionType:"button",value:p,onChange:e=>h(e.target.value)})]}),(0,ye.jsxs)(z.Z,{align:"center",justify:"space-between",children:[(0,ye.jsxs)("div",{className:ro.subTitle,children:[u.$t({id:"YILem4",defaultMessage:"Travel time"}),":"]}),(0,ye.jsx)("div",{className:ro.value,children:w?"".concat(uo()(w)?Math.round(w/60):w," min"):""})]}),(0,ye.jsxs)(z.Z,{align:"center",justify:"space-between",children:[(0,ye.jsxs)("div",{className:ro.subTitle,children:[u.$t({id:"Y/tOfN",defaultMessage:"Travel distance"}),":"]}),(0,ye.jsx)("div",{className:ro.value,children:y?"".concat(uo()(y)?(Math.round(y/1e3*100)/100).toFixed(2):y," km"):""})]})]})]})}));var go=n(67118),fo=n(36441);const mo=(0,i.forwardRef)(((e,t)=>{let{adminLevel:n=3,disabled:o,onChange:l,...r}=e;const s=(0,a.Z)(),{data:d,isLoading:c}=(0,Rn.Z)("getWorldIndexData/adminBoundary",(async()=>await(0,Ln.y0)())),[u,p]=(0,i.useState)(),h=(0,i.useMemo)((()=>{const e={};return Ln.hW.forEach((t=>{var n;if("world"===t.value||!d)return;const i=t.value,o=null!==(n=d[i])&&void 0!==n?n:[],[a,l,r]=o;e[i]={admin1:a,admin2:l,admin3:r},"china"===i&&(e[i].admin1=a.filter((e=>e.id!==fo.q)))})),e}),[d]),v=(0,i.useMemo)((()=>{if(c)return[];const e=[];function t(e,t){if(0===n||Ln.HC.includes(t))return[];return function t(i,o){if(i>n||!o)return[];const a=e["admin".concat(i+1)];return null===o||void 0===o?void 0:o.map((e=>{const n=null===a||void 0===a?void 0:a.filter((t=>t.parentId===e.id));return{value:"".concat(e.id,"|").concat("zh-CN"===s.locale?e.name_zh:e.name_en),title:"zh-CN"===s.locale?e.name_zh:e.name_en,children:n?t(i+1,n):[]}}))}(1,e.admin1)}for(const n in h){var i;const[o]=null!==(i="zh-CN"===s.locale?null===d||void 0===d?void 0:d.cas:null===d||void 0===d?void 0:d.wb)&&void 0!==i?i:[],a=o.find((e=>(0,Ln.Pd)(e.iso)===n)),l=h[n];if(!a||!l)continue;const r="zh-CN"===s.locale?a.name_zh:a.name_en;e.push({value:"".concat(a.id,"|").concat(r),title:r,children:t(l,n)})}return e}),[h,c,n,s,d]),g=(0,i.useCallback)((e=>{p(e),e&&Array.isArray(e)?null===l||void 0===l||l(e.map((e=>{const[t]=e.split("|");return t}))):null===l||void 0===l||l(e)}),[l]);return(0,i.useImperativeHandle)(t,(()=>({clear:()=>p(void 0)}))),(0,ye.jsx)(go.Z,{value:u,disabled:c||o,treeData:v,multiple:!0,treeLine:!0,treeIcon:!0,showSearch:!0,allowClear:!0,onChange:g,suffixIcon:(0,ye.jsx)(U.Z,{type:"caretBottom"}),...r})}));var yo=n(44489),wo=n(22864),bo=n(69820);const Co=(0,i.forwardRef)(((e,t)=>{var n,s;const{map:d,projectId:c,isThirdPartyTable:u,onCreateField:p}=e,h=(0,a.Z)(),[v,g]=(0,i.useState)(),[f,m]=(0,i.useState)(),y=(0,i.useRef)(null),w=(0,ne.v)((e=>e.map.editor)),b=(0,ne.v)((e=>{var t;return c?null===(t=e.project.layerNodes[c])||void 0===t?void 0:t.find((e=>e.id===w.layerNodeID)):void 0})),C=(0,ne.v)((e=>{var t;return null!==b&&void 0!==b&&null!==(t=b.mapInfo)&&void 0!==t&&t.tableNodeID?(0,bn.eD)(e,{tableNodeId:b.mapInfo.tableNodeID,viewId:b.mapInfo.viewID}):void 0})),x=null===b||void 0===b||null===(n=b.mapInfo)||void 0===n?void 0:n.tableNodeID,I=null===C||void 0===C||null===(s=C[C.length-1])||void 0===s?void 0:s.id,j=(0,i.useMemo)((()=>null===C||void 0===C?void 0:C.filter((e=>"multiLineText"===e.type))),[C]),[M,k]=(0,i.useState)("polygon"),{getData:T,isLoading:E}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=(0,a.Z)(),r=(0,i.useMemo)((()=>null===e||void 0===e?void 0:e.map((e=>e.split("-")))),[e]),s=(0,i.useRef)(),{data:d,isLoading:c}=(0,l.ZP)(r?["getAdminBoundary",r]:null,(async()=>{var e;return Promise.all(null!==(e=null===r||void 0===r?void 0:r.map((async e=>{const[t,n]=e,i=e.join("-");return"ADM0"===n?(await(0,Ln.uE)("zh-CN"===o.locale?"world/cas":"world/wb",n)).features.find((e=>e.properties.id===i)):t&&Ln.qT.includes(t)?(await(0,Ln.uE)(t,n)).features.find((e=>e.properties.id===i)):void 0})))&&void 0!==e?e:[])})),u=(0,i.useCallback)((()=>{if(d)return n?{type:"FeatureCollection",features:ve()(d).map((e=>{const t=(0,wo.ZP)(e);var n;return"FeatureCollection"===t.type?null===(n=(0,bo.Z)(t))||void 0===n||null===(n=n.features)||void 0===n?void 0:n[0]:t}))}:{type:"FeatureCollection",features:ve()(d)}}),[d,n]);return(0,i.useEffect)((()=>{d&&null!==t&&void 0!==t&&t.mapTalksMap&&(s.current||(s.current=new Ve.DJ("admin-boundary")),s.current.clear(),d.forEach((e=>{e&&s.current&&Ve.QZ.toGeometry(e).setSymbol({lineColor:"#0065FF",lineWidth:2,polygonFill:"#0065FF",polygonOpacity:n?0:.3}).addTo(s.current)})),s.current.addTo(t.mapTalksMap),t.fitBounds(s.current.getExtent()))}),[d,t,n]),(0,i.useEffect)((()=>()=>{var e;null===(e=s.current)||void 0===e||e.remove(),s.current=void 0}),[]),{getData:u,data:d,isLoading:c}}(v,d,"lineString"===M),P=(0,i.useCallback)((e=>{g(e?Array.isArray(e)?e:[e]:[])}),[]);return(0,i.useImperativeHandle)(t,(()=>({getData(){const e=T();if(null!==e&&void 0!==e&&e.features)return f?{...e,features:e.features.map((e=>{var t,n;return{...e,properties:{[f]:"zh-CN"===h.locale?null===(t=e.properties)||void 0===t?void 0:t.name_zh:null===(n=e.properties)||void 0===n?void 0:n.name_en}}}))}:{...e,features:e.features.map((e=>({...e,properties:{}})))}},clear(){var e;g([]),m(void 0),null===(e=y.current)||void 0===e||e.clear()}})),[T,h.locale,f]),(0,ye.jsxs)("div",{className:ro.adminBoundary,children:[(0,ye.jsx)("div",{className:ro.tips,children:h.$t({id:"TtCeRz",defaultMessage:"Select the admin boundaries to add"})}),(0,ye.jsx)(r.Z,{spinning:E,indicator:(0,ye.jsx)(o.Z,{}),children:(0,ye.jsxs)(z.Z,{vertical:!0,gap:10,children:[(0,ye.jsx)(mo,{ref:y,placeholder:h.$t({id:"iyFwxE",defaultMessage:"Select admin boundary"}),adminLevel:3,onChange:P,maxTagCount:3}),(0,ye.jsx)(yo.Z,{className:ro.segmented,value:M,options:[{value:"polygon",label:h.$t({id:"ACPjjL",defaultMessage:"Create as polygon"})},{value:"lineString",label:h.$t({id:"OdeYK9",defaultMessage:"Create as lineString"})}],block:!0,onChange:k}),(0,ye.jsx)(It.Z,{title:b?null:h.$t({id:"VUtvPU",defaultMessage:"Select a visible layer and choose a field to save the boundaries name"}),children:(0,ye.jsx)(ee.Z,{disabled:!b,value:f,onChange:async function(e){"new"===e&&x&&I?null===p||void 0===p||p(x,"multiLineText",u?{name:h.$t({id:"gPojGM",defaultMessage:"Admin boundary name"})}:{lastViewColumnId:I,name:h.$t({id:"gPojGM",defaultMessage:"Admin boundary name"})}).then((e=>{e&&m(e)})):m(e)},placeholder:h.$t({id:"xOed6p",defaultMessage:"Select a field for admin boundary label(optional)"}),defaultOptions:[{id:"new",name:h.$t({id:"JFFNdu",defaultMessage:"New field"}),tooltip:h.$t({id:"2xxeVP",defaultMessage:"Option to automatically create a new field to save the admin area name."})}],options:j,allowClear:!0})})]})})]})}));function xo(e){let{projectId:t,title:n,baseMap:o,drawerVisible:l=!1,editorType:r="Point",editType:s,isOpen:d=!1,isEditing:c=!1,enabledOverlayType:u,hiddenOverlayType:p,showEditToolbar:h=!0,showFinishToolbar:v=!0,showAddTooltip:g=!0,showUndoRedo:f=!0,isPro:m=!1,isNew:y=!1,theme:w="light",locale:b="en-US",baseMapProvider:C,map:x,isThirdPartyTable:I,geometryEditor:j,enableCircle:M=!1,onReset:k=Gt(),onClose:T=Gt(),onChange:E=Gt(),onFinish:O=Gt(),onUseLocation:S=Gt(),onSearchPOISelected:_=Gt(),onSearchAOISelected:N=Gt(),onEditTypeChange:D=Gt(),onTrackSearchPOI:L=Gt(),onUpgradePro:A=Gt(),onCreateField:R}=e;const[Z,F]=(0,i.useState)(!1),[B,V]=(0,i.useState)(1),H=(0,a.Z)(),W=(0,i.useContext)(lo.z),G=(0,i.useRef)(null),q=(0,i.useRef)(null);const $=(0,i.useCallback)((e=>{E("Point"),_(e)}),[E,_]);function J(e){e.preventDefault(),A("quota.message.searchPOI")}return(0,i.useEffect)((()=>{if(!j)return;j.setOnCircleRadiusChange((e=>{V(e/1e3)}))}),[j]),(0,ye.jsx)("div",{className:(0,P.default)(ro.wrap,{[ro.active]:d},l?ro.drawerOpen:""),"data-testid":"editorPanel",children:(0,ye.jsxs)("div",{className:ro.panel,children:[(0,ye.jsxs)(z.Z,{className:ro.header,align:"center",children:[(0,ye.jsx)("h3",{className:ro.title,children:n}),W.searchPoi&&o?(0,ye.jsx)("div",{className:ro.searchPOI,children:(0,ye.jsx)(Yi,{isPro:m,disabled:I&&!m,tooltip:I&&!m?H.$t({id:"G6BX9L",defaultMessage:"POI search is exclusive for Pro"}):void 0,projectId:t,baseMap:o,onSelected:$,onAoiSelected:function(e){E("Polygon"),N(e)},onTrackSearchPOI:L,enableAoiSearch:"Point"!==r})}):null,(0,ye.jsx)(K.ZP,{type:"text",size:"small",className:ro.iconClose,icon:(0,ye.jsx)(U.Z,{type:"close",onClick:T})})]}),(0,ye.jsxs)(z.Z,{vertical:!0,gap:10,className:ro.form,children:[I&&!m?(0,ye.jsx)(Jn.Z,{message:(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Yn.Z,{}),(0,ye.jsx)($n.Z,{id:"eUT19i",defaultMessage:"<a>Upgrading to Pro</a> to access POI search",values:{a:e=>(0,ye.jsx)("a",{href:"/",className:ro.upgradeLink,onClick:J,children:e})}})]})}):null,h?(0,ye.jsxs)(z.Z,{vertical:!0,gap:10,children:[(0,ye.jsxs)(z.Z,{align:"center",children:[(0,ye.jsx)("span",{className:ro.label,children:H.$t({id:"i1+AIw",defaultMessage:"Draw"})}),(0,ye.jsx)(oi,{onChange:function(e){e.target.disabled||E(e.target.value)},isNew:y,isPro:m,value:r,realValue:r,isEditing:c,enableCircle:M,enableTypes:u,hiddenTypes:p}),c&&g&&(0,ye.jsx)(Xn.L0,{link:"addData",style:{marginLeft:8},text:(0,X.Em)({id:"c6PqU4",defaultMessage:"See <a>detailed instructions</a> for adding data."})})]}),"Boundary"!==r&&"Route"!==r?(0,ye.jsxs)(z.Z,{align:"center",children:[(0,ye.jsx)("span",{className:ro.label,children:H.$t({id:"wEQDC6",defaultMessage:"Edit"})}),(0,ye.jsx)(ao,{hiddenOptions:"Circle"===r?["cut"]:[],editorType:r,onChange:function(e){D(e.target.value)},value:s,onConfirm:function(){D("confirm")}}),!f||s&&"confirm"!==s?null:(0,ye.jsxs)(Qn.ZP.Group,{className:ro.undoredo,children:[(0,ye.jsx)(Qn.ZP.Button,{disabled:!(null!==j&&void 0!==j&&j.history.canUndo()),onClick:function(){null===j||void 0===j||j.undo()},children:(0,ye.jsx)(U.Z,{cursor:"pointer",type:"undo"})}),(0,ye.jsx)(Qn.ZP.Button,{disabled:!(null!==j&&void 0!==j&&j.history.canRedo()),onClick:function(){null===j||void 0===j||j.redo()},children:(0,ye.jsx)(U.Z,{cursor:"pointer",type:"redo"})})]})]}):null]}):null,y&&"Route"===r&&t&&m&&(0,ye.jsx)(vo,{ref:G,projectId:t,map:x,theme:w,locale:b,baseMapProvider:C}),y&&"Boundary"===r&&m&&(0,ye.jsx)(Co,{ref:q,map:x,projectId:t,isThirdPartyTable:I,onCreateField:R}),c&&(0,ye.jsxs)(z.Z,{align:"center",justify:"space-between",children:["Boundary"!==r&&"Route"!==r?(0,ye.jsxs)("div",{className:ro.tip,children:[s?"Circle"===r&&j&&"editVertex"===s?(0,ye.jsx)("div",{className:ro.radiusSetting,children:(0,ye.jsxs)("label",{children:[H.$t({id:"nDRMt4",defaultMessage:"Radius"}),(0,ye.jsx)(Kn.Z,{value:B,onChange:function(e){e&&e>=.1&&e<=100&&(V(e),null===j||void 0===j||j.updateCircleRadius(1e3*e))},className:ro.radiusInput,min:.1,max:100,step:1,precision:1}),H.$t({id:"2VsyCX",defaultMessage:"KM"})]})}):"".concat(Me()("zh-CN"!==H.locale?no:to,s,"")):"".concat(H.$t({id:"jPQp7Q",defaultMessage:"Drawing"}),"\n                      ").concat(Me()("zh-CN"!==H.locale?eo:Xi,r,"")),"Point"===r&&(0,ye.jsx)(K.ZP,{type:"link",loading:Z,onClick:async function(){F(!0);try{const e=await async function(e){return new Promise(((t,n)=>{const i=(0,Oe.PG)()&&!(0,Oe.tq)();navigator.geolocation.getCurrentPosition((e=>{const{latitude:n,longitude:i}=e.coords;t([i,n])}),(t=>{const{code:o}=t,a={1:i?e.$t({id:"q9jBxk",defaultMessage:"Unable to access your location. Please try again in a browser."}):e.$t({id:"ofACPq",defaultMessage:"You have denied access to location, please enable it to use"}),2:e.$t({id:"TUErCs",defaultMessage:"Unable to get location"}),3:e.$t({id:"7T6TM6",defaultMessage:"Timeout to get location"})};Q.ZP.error(a[o]||e.$t({id:"h4nAVQ",defaultMessage:"Failed to get location"})),n(t)}),{timeout:1e4,enableHighAccuracy:!0,maximumAge:0})}))}(H);null===S||void 0===S||S(e)}finally{F(!1)}},children:H.$t({id:"Z2NE7X",defaultMessage:"Use current location"})})]}):(0,ye.jsx)("div",{}),v&&(0,ye.jsxs)(z.Z,{align:"center",gap:12,children:[(0,ye.jsx)(It.Z,{title:H.$t({id:"/GCoTA",defaultMessage:"Clear"}),children:(0,ye.jsx)("div",{onClick:function(){var e,t;k(),null===(e=G.current)||void 0===e||e.resetDirection(),null===(t=q.current)||void 0===t||t.clear()},className:ro.trashButton,children:(0,ye.jsx)(U.Z,{type:"recycleBin"})})}),(0,ye.jsx)(K.ZP,{type:"primary",onClick:function(){let e;var t,n;"Route"===r&&(e=null===(t=G.current)||void 0===t?void 0:t.getData()),"Boundary"===r&&(e=null===(n=q.current)||void 0===n?void 0:n.getData()),O(e)},className:ro.finishButton,children:s?H.$t({id:"JXdbo8",defaultMessage:"Done"}):H.$t({id:"map.editor.ok",defaultMessage:"Add"})})]})]})]})]})})}var Io=n(13682),jo=n.n(Io),Mo=n(26436);function ko(e){const t={type:"Feature",geometry:void 0,properties:null};function n(e){return!t.geometry||!!t.geometry&&t.geometry.type===e}if(e.forEach((e=>{var i,o,a,l;if("GeometryCollection"===e.geometry.type)return;const r=e.geometry,s=r.coordinates;switch(r.type){case"Point":case"MultiPoint":if(!n("MultiPoint"))return;t.geometry={type:"MultiPoint",coordinates:(null===(i=t.geometry)||void 0===i?void 0:i.coordinates)||[]},"Point"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"LineString":case"MultiLineString":if(!n("MultiLineString"))return;t.geometry={type:"MultiLineString",coordinates:(null===(o=t.geometry)||void 0===o?void 0:o.coordinates)||[]},"LineString"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Polygon":case"MultiPolygon":if(!n("MultiPolygon"))return;t.geometry={type:"MultiPolygon",coordinates:(null===(a=t.geometry)||void 0===a?void 0:a.coordinates)||[]},"Polygon"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Circle":case"MultiCircle":if(!n("MultiCircle"))return;t.geometry={type:"MultiCircle",coordinates:(null===(l=t.geometry)||void 0===l?void 0:l.coordinates)||[]},"Circle"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s)}})),void 0!==t.geometry){if(1===t.geometry.coordinates.length)switch(t.geometry.type){case"MultiPoint":t.geometry.type="Point",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiLineString":t.geometry.type="LineString",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiPolygon":t.geometry.type="Polygon",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiCircle":t.geometry.type="Circle",t.geometry.coordinates=t.geometry.coordinates[0]}return t}}function To(e){return{type:"FeatureCollection",features:[ko([{type:"Feature",geometry:e,properties:null}])]}}function Eo(e){const{map:t,baseMap:n,drawerVisible:o,geometryEditor:l,isEditing:r,isAttached:s,showEditToolbar:d,projectId:c,theme:u,locale:p,baseMapProvider:h,isPro:v,isThirdPartyTable:g,onAddPOI:f,onUpdatePOI:m,onClose:y,onTrackSearchPOI:w,onUpgradePro:b,onCreateField:C}=e,x=(0,a.Z)(),[I,j]=(0,i.useState)(""),{addOverlay:M,updateOverlay:k}=function(e){var t,n,o,l,r,s;const d=(0,ne.I)(),c=(0,a.Z)(),u=(0,ne.v)((e=>e.map.editor.layerNodeID)),p=(0,ne.v)((e=>e.map.editor)),h=(0,ne.v)((t=>L()(t.project.layerNodes[e],(e=>e.id===u)))),v=null===h||void 0===h||null===(t=h.mapInfo)||void 0===t?void 0:t.tableNodeID,g=(0,ne.v)((e=>v?oe.TW.selectById(e,v):void 0)),f=(0,i.useMemo)((()=>{var e;return null===(e=st()(null===g||void 0===g?void 0:g.rows))||void 0===e?void 0:e.id}),[null===g||void 0===g?void 0:g.rows]),{tableNode:m}=(0,En.Cc)(e,v),y="subscribed"!==(null===m||void 0===m?void 0:m.mode)&&"connected"!==(null===m||void 0===m?void 0:m.mode),w=null===g||void 0===g||null===(n=g.columns)||void 0===n?void 0:n.find((e=>{var t;return e.id===(null===h||void 0===h||null===(t=h.mapInfo)||void 0===t?void 0:t.coordinateFieldID)})),b=(0,i.useMemo)((()=>{var e,t;const n=[];return"formula"===(null===w||void 0===w?void 0:w.type)&&null!==(e=w.typeOptions)&&void 0!==e&&e.formula&&jo()(null===(t=w.typeOptions)||void 0===t?void 0:t.formula,"POINT")&&ze()((0,Mo.ev)(w.typeOptions.formula),(e=>{jo()(e,"$c_")&&n.push(e.replace("$c_",""))})),n}),[w]),C=(0,i.useCallback)((async e=>{if(!v||!y)return!1;const t=await Promise.all(e.features.map((async e=>{var t,n,i;if(null===h||void 0===h||null===(t=h.mapInfo)||void 0===t||!t.coordinateFieldID)return!1;const o={...e.properties};if(at()(b))if(null!==h&&void 0!==h&&null!==(n=h.mapInfo)&&void 0!==n&&n.latitudeFieldID){const t=e.geometry.coordinates;if(!t)return!1;o[h.mapInfo.coordinateFieldID]=t[0],o[h.mapInfo.latitudeFieldID]=t[1]}else o[h.mapInfo.coordinateFieldID]=(0,q.Ws)(e.geometry);else{const t=e.geometry.coordinates;if(!t)return!1;o[b[0]]=t[0],o[b[1]]=t[1]}return await d(qe.v({id:v,prevRowId:f,viewId:null===h||void 0===h||null===(i=h.mapInfo)||void 0===i?void 0:i.viewID,cells:o}))}))).catch((e=>{var t;return console.error(e),null!==(t=e.message)&&void 0!==t&&t.includes("readonly")||Q.ZP.error(c.$t({id:"xaWzeD",defaultMessage:"Failed to add overlay"})),[]}));if(d(et.Nw.updateEditor({isOpen:!1})),1===t.length&&t[0]){var n;const i=t[0].payload.wsSyncedData;if(!i||!i.addedViewRows)return;const{id:o,order:a}=i.addedViewRows[0],{geometry:l}=e.features[0],{coordinates:r,type:s}=l,c={id:o,order:a,tableNodeType:Ue.e.table,position:{left:0,top:0},geometry:{type:s,coordinates:r}};d(et.Nw.updatePoiDetail({visible:!0,newCreated:!0,id:c.id,poi:c,rowId:c.id,tableNodeId:v,labelFieldId:null===h||void 0===h||null===(n=h.mapInfo)||void 0===n?void 0:n.labelFieldID,layerNodeId:u}))}}),[v,y,d,null===h||void 0===h||null===(o=h.mapInfo)||void 0===o?void 0:o.coordinateFieldID,null===h||void 0===h||null===(l=h.mapInfo)||void 0===l?void 0:l.latitudeFieldID,null===h||void 0===h||null===(r=h.mapInfo)||void 0===r?void 0:r.labelFieldID,null===h||void 0===h||null===(s=h.mapInfo)||void 0===s?void 0:s.viewID,b,f,c,u]);return{addOverlay:C,updateOverlay:async function(e){const t=p.poi;if(t&&t.rowID&&t.tableNodeID){if(t.cellID){const n={};if(t.latCellID){const i=(0,q.pM)(e);i&&(n[t.cellID]=i[0],n[t.latCellID]=i[1])}else n[t.cellID]=e?(0,q.U6)(e):null;await d((0,qe.I)({id:t.tableNodeID,rowId:t.rowID,cells:n,prevCells:p.type&&p.geometry?{[t.cellID]:To(p.geometry)}:void 0}))}d(et.Nw.updateEditor({isOpen:!1}))}}}}(c),{editorType:T,setEditorType:E,closeEditor:P,isNewPOI:O,preData:S}=pt(),{isOpen:_,onlyOnePoint:N,isAdding:D}=(0,ne.v)((e=>e.map.editor)),A=(0,i.useMemo)((()=>O?N||!v&&g?["Point"]:void 0:[]),[O,N,v,g]),{addIndicator:R,removeIndicator:Z}=ct(null===t||void 0===t?void 0:t.mapTalksMap);(0,i.useEffect)((()=>{if(!l||!s)return;const e=(0,Wn.g)(T);e&&(l.setMode(e),S&&l.setEditableData(S)),"Route"!==T&&"Boundary"!==T||(l.exitEdit(),l.clear(),l.disable(),j(""))}),[T,l,S,s]);const F=(0,i.useCallback)((e=>{E(e),j(""),null===l||void 0===l||l.exitEdit()}),[E,l]),z=(0,i.useCallback)((e=>{switch(j(e),e){case"editVertex":return null===l||void 0===l?void 0:l.startEditVertex();case"move":return null===l||void 0===l?void 0:l.startMove();case"cut":return null===l||void 0===l?void 0:l.startCut();case"delete":return null===l||void 0===l?void 0:l.startDelete();case"confirm":return null===l||void 0===l?void 0:l.exitEdit(!1);default:null===l||void 0===l||l.exitEdit()}}),[l]),B=(0,i.useCallback)((()=>{P(),E("Point"),null===y||void 0===y||y()}),[E,P,y]);async function V(e){const t=void 0!==e?e:null===l||void 0===l?void 0:l.getData();if(!t&&O)return Q.ZP.warning(x.$t({id:"G68XMA",defaultMessage:"Please draw on the map"}));B();const n=O?f||M:m||k;await n(t)}const H=(0,i.useCallback)((e=>{if(!e||!l)return;const i=[e.location.lng,e.location.lat];null===t||void 0===t||t.setZoomAndCenter(Ye.r0,i),setTimeout((()=>{l.setEditableData({type:"Point",coordinates:i})}));const o=null===n||void 0===n?void 0:n.getProvider();null===w||void 0===w||w("SearchPOI",{poi:e.name,provider:o,location:"Add data"},"result")}),[l,t,w,n]);return(0,i.useEffect)((()=>{async function e(){const e=null===l||void 0===l?void 0:l.getData();if(!e)return;B();const t=f||M;await t(e)}return s&&l&&N&&l.on("drawend",e),()=>{null===l||void 0===l||l.off("drawend",e)}}),[M,l,B,s,f,N]),(0,lt.y1)("enter",(()=>{_&&s&&l&&"idle"===l.status&&r&&!O&&V()}),[_,s,l,r,O]),(0,i.useEffect)((()=>{_||(j(""),B())}),[B,_]),(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Po,{}),(0,ye.jsx)(xo,{title:O?x.$t({id:"Y/VSu/",defaultMessage:"Add data"}):x.$t({id:"zvrvxz",defaultMessage:"Edit coordinate"}),baseMap:O?n:null,isThirdPartyTable:g,isPro:v,isOpen:_&&D,editorType:T,enabledOverlayType:A,editType:I,onEditTypeChange:z,drawerVisible:o,isEditing:r,isNew:O,showEditToolbar:d,projectId:c,theme:u,locale:p,baseMapProvider:h,map:t,geometryEditor:l,onChange:F,onClose:B,onReset:function(){null===l||void 0===l||l.clear()},onFinish:V,onUseLocation:async function(e){l&&(l.setEditableData({type:"Point",coordinates:e}),null===t||void 0===t||t.setZoomAndCenter(Ye.r0,e),Z(),R(e),(0,Wt._)(1e3),V())},onSearchPOISelected:H,onSearchAOISelected:function(e){e&&l&&setTimeout((()=>{l.setEditableData({type:"Polygon",coordinates:e}),null===t||void 0===t||t.fitBounds(l.getExtent())}))},onUpgradePro:b,onCreateField:C})]})}function Po(){const{isProcessing:e}=(0,ne.v)((e=>e.map.editor)),[t,n]=(0,i.useState)(!!e),[o,l]=(0,i.useState)(0),r=(0,a.Z)();return(0,i.useEffect)((()=>{if(t){const e=setInterval((()=>{l((e=>e<90?e+qn()(1,10):e))}),1e3);return()=>clearInterval(e)}}),[t]),(0,i.useEffect)((()=>{e?(n(!0),l(0)):(l(100),setTimeout((()=>{n(!1),l(0)}),500))}),[e]),(0,ye.jsxs)(Un.Vq,{closable:!1,visible:t,title:r.$t({id:"E+hGvD",defaultMessage:"Processing Data..."}),children:[(0,ye.jsx)("p",{children:r.$t({id:"fDe4oT",defaultMessage:"We're working on processing the data table and fields. Do not close this window while processing."})}),(0,ye.jsx)(Hn.Z,{percent:o})]})}function Oo(e){const{name:t}=e,n=(0,ne.I)();return(0,ye.jsx)(Kt.br,{name:t,onClick:function(){n(et.Nw.toggleTimelineOpen(!0))},active:!0,icon:(0,ye.jsx)(U.Z,{type:"timeline"})})}var So=n(13307),_o=n.n(So),No=n(5666),Do=n(76626),Lo=n(12703),Ao=n(87035),Ro=n(25182),Zo=n(92472),Fo=n(23e3),zo=n(43046),Bo=n(45716),Vo=n(86632),Ho=n(27041),Wo=n(7549),Uo=n(64409),Go=n(52444),qo=n(70966),$o=n(30203),Jo=n(74868),Qo=n(11184),Ko=n(80366),Yo=n(67583),Xo=n(1944);function ea(){const e=(0,Xo.Z)();return(0,ye.jsx)(Yo.Z,{disabled:e})}var ta=n(72351),na=n(9852),ia=n(93051);const oa=10,aa=5;function la(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oa,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aa;const a=n.parentElement;if(null===e||!a)return t.style.opacity="0",void(t.style.transform="translate(-10000px, -10000px)");const l=t.getBoundingClientRect(),r=n.getBoundingClientRect(),s=a.getBoundingClientRect();let d=e.top-i,c=e.left-o;d<s.top&&(d+=l.height+e.height+2*i),c+l.width>s.right&&(c=s.right-l.width-o),d-=r.top,c-=r.left,t.style.opacity="1",t.style.transform="translate(".concat(c,"px, ").concat(d,"px)")}function ra(e){const t=e.anchor,n=e.focus,i=e.anchor.getNode(),o=e.focus.getNode();if(i===o)return i;return e.isBackward()?(0,ia.P4)(n)?i:o:(0,ia.P4)(t)?i:o}const sa=new Set(["http:","https:","mailto:","sms:","tel:"]);function da(e){try{const t=new URL(e);if(!sa.has(t.protocol))return"about:blank"}catch{return e}return e}const ca={container:"floating-link-editor_container__KOfdH",link:"floating-link-editor_link__NiQnF",input:"floating-link-editor_input__2OOb7",iconWrapper:"floating-link-editor_iconWrapper__bKKJd"};function ua(e){let{type:t,onClick:n}=e;const i="toggle"===t?"delete":"edit"===t?"edit":"recycleBin";return(0,ye.jsx)(K.ZP,{type:"text",size:"small",tabIndex:0,className:ca.icon,onMouseDown:e=>e.preventDefault(),icon:(0,ye.jsx)(U.Z,{type:i}),onClick:n})}function pa(e){let{editor:t,isLink:n,setIsLink:o,anchorElem:a,isLinkEditMode:l,setIsLinkEditMode:r}=e;const s=(0,i.useRef)(null),d=(0,i.useRef)(null),[c,u]=(0,i.useState)(""),[p,h]=(0,i.useState)("https://"),[v,g]=(0,i.useState)(null),f=(0,i.useCallback)((()=>{const e=(0,Ko.dL)();if((0,Ko.OP)(e)){const t=ra(e),n=(0,na.$s)(t,Do.Pq);n?u(n.getURL()):(0,Do.Pq)(t)?u(t.getURL()):u(""),l&&h(c)}const n=s.current,i=window.getSelection(),o=document.activeElement;if(null===n)return;const d=t.getRootElement();if(null!==e&&null!==i&&null!==d&&d.contains(i.anchorNode)&&t.isEditable()){var p;const t=null===(p=i.focusNode)||void 0===p||null===(p=p.parentElement)||void 0===p?void 0:p.getBoundingClientRect();t&&(t.y+=40,la(t,n,a)),g(e)}else o&&"input"===o.className||(null!==d&&la(null,n,a),g(null),r(!1),u(""));return!0}),[a,t,r,l,c]);(0,i.useEffect)((()=>{const e=a.parentElement,n=()=>{t.getEditorState().read((()=>{f()}))};return window.addEventListener("resize",n),e&&e.addEventListener("scroll",n),()=>{window.removeEventListener("resize",n),e&&e.removeEventListener("scroll",n)}}),[a.parentElement,t,f]),(0,i.useEffect)((()=>(0,na.qV)(t.registerUpdateListener((e=>{let{editorState:t}=e;t.read((()=>{f()}))})),t.registerCommand(Ko.oj,(()=>(f(),!0)),Ko.KB),t.registerCommand(Ko.Zq,(()=>!!n&&(o(!1),!0)),Ko.Eo))),[t,f,o,n]),(0,i.useEffect)((()=>{t.getEditorState().read((()=>{f()}))}),[t,f]),(0,i.useEffect)((()=>{l&&d.current&&d.current.focus()}),[l,n]);const m=()=>{null!==v&&(""!==c&&(t.dispatchCommand(Do.k0,da(p)),t.update((()=>{const e=(0,Ko.dL)();if((0,Ko.OP)(e)){const t=ra(e).getParent();if((0,Do.Xp)(t)){const e=(0,Do.zV)(t.getURL(),{rel:t.__rel,target:t.__target,title:t.__title});t.replace(e,!0)}}}))),h("https://"),r(!1))};return n?(0,ye.jsx)("div",{ref:s,className:ca.container,children:l?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("input",{ref:d,className:(0,P.default)(ca.input,"input"),value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),m()):"Escape"===e.key&&(e.preventDefault(),r(!1))}}),(0,ye.jsx)("div",{className:ca.iconWrapper,children:(0,ye.jsx)(ua,{type:"toggle",onClick:()=>r(!1)})})]}):(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("a",{href:da(c),target:"_blank",rel:"noopener noreferrer",className:ca.link,children:c}),(0,ye.jsxs)("div",{className:ca.iconWrapper,children:[(0,ye.jsx)(ua,{type:"edit",onClick:()=>{h(c),r(!0)}}),(0,ye.jsx)(ua,{type:"cancel",onClick:()=>t.dispatchCommand(Do.k0,null)})]})]})}):null}function ha(){const[e]=(0,ta.g)(),[t,n]=(0,i.useState)(!1),[o,a]=(0,i.useState)(e),[l,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{function t(){const e=(0,Ko.dL)();if(!(0,Ko.OP)(e))return;const t=ra(e),n=(0,na.$s)(t,Do.Pq),i=(0,na.$s)(t,Do.Xp);if(!n&&!i)return void r(!1);const o=e.getNodes().filter((e=>!(0,Ko.A3)(e))).find((e=>{const t=(0,na.$s)(e,Do.Pq),o=(0,na.$s)(e,Do.Xp);return n&&!n.is(t)||t&&!t.is(n)||i&&!i.is(o)||o&&!o.is(i)}));r(!o)}return(0,na.qV)(e.registerUpdateListener((e=>{let{editorState:n}=e;n.read((()=>{t()}))})),e.registerCommand(Ko.oj,((e,n)=>(t(),a(n),!1)),Ko.jw),e.registerCommand(Ko.Kr,(e=>{const t=(0,Ko.dL)();if((0,Ko.OP)(t)){const n=ra(t),i=(0,na.$s)(n,Do.Pq);if((0,Do.Pq)(i)&&(e.metaKey||e.ctrlKey))return window.open(i.getURL(),"_blank"),!0}return!1}),Ko.KB))}),[e]),(0,Ie.createPortal)((0,ye.jsx)(pa,{editor:o,isLink:l,anchorElem:document.body,setIsLink:r,isLinkEditMode:t,setIsLinkEditMode:n}),document.body)}var va=n(26797);function ga(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return n=>{const i=e.exec(n);return null===i?null:{index:i.index,length:i[0].length,text:i[0],url:t(i[0]),attributes:{target:"_blank",rel:"noopener noreferrer"}}}}const fa=[ga(/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,(e=>e.startsWith("http")?e:"https://".concat(e))),ga(/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,(e=>"mailto:".concat(e)))];function ma(){return(0,ye.jsx)(va.$,{matchers:fa})}const ya=[{dependencies:[Jo.HY],export:e=>(0,Jo.fs)(e)?"---":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,i)=>{const o=(0,Jo.Dq)();i||null!=e.getNextSibling()?e.replace(o):e.insertBefore(o),o.selectNext()},type:"element"},Lo.dM,Lo.cC,Lo.nH,Lo.T5,Lo.zF,Lo.Pz,Lo.eu,Lo.Zj,Lo.Ld,Lo.Tq,Lo.HJ,Lo.Uk],wa={container:"markdown-editor_container__E0IKt",contentEditable:"markdown-editor_contentEditable__XGsHP",placeholder:"markdown-editor_placeholder__GF2ba",link:"markdown-editor_link__NogjP",nestedListItem:"markdown-editor_nestedListItem__EYVhx",italic:"markdown-editor_italic__UoGEh",underline:"markdown-editor_underline__LWBCN",strikethrough:"markdown-editor_strikethrough__Qf9rV",underlineStrikethrough:"markdown-editor_underlineStrikethrough__yE2uA"},ba=[Ko.ws,Qo.c2,Jo.HY,No.EG,No.NK,Do.GR,Do.qp,Qo.rT];function Ca(e){const{isReadOnly:t=!1,value:n="",placeholder:o,className:a}=e,l=(0,i.useMemo)((()=>(0,Fo.l)()),[]);const r=(0,i.useRef)(null);return(0,i.useEffect)((()=>{t&&r.current&&null!=n&&r.current.update((()=>{(0,Lo.Os)(n,ya)}))}),[t,n]),(0,i.useEffect)((()=>{r.current&&r.current.setEditable(!t)}),[t]),(0,ye.jsx)("div",{className:(0,P.default)(wa.container,a),children:(0,ye.jsxs)(Ao.R,{initialConfig:(s=n||"",d=!t,{editable:d,editorState:()=>{s&&((0,Lo.Os)(s,ya),(0,Ko.oq)(null))},namespace:"MarkdownEditor",nodes:ba,onError:e=>{throw e},theme:{link:wa.link,list:{nested:{listitem:wa.nestedListItem}},text:{italic:wa.italic,strikethrough:wa.strikethrough,underline:wa.underline,underlineStrikethrough:wa.underlineStrikethrough}}}),children:[(0,ye.jsx)(qo.B,{}),(0,ye.jsx)(Go.H,{}),(0,ye.jsx)(ma,{}),(0,ye.jsx)(ha,{}),(0,ye.jsx)(Ho.f,{}),(0,ye.jsx)(ea,{}),(0,ye.jsx)(Bo.u,{}),(0,ye.jsx)(Wo.n,{editorRef:r}),(0,ye.jsx)(zo.e,{externalHistoryState:l}),(0,ye.jsx)(Uo.B,{contentEditable:(0,ye.jsx)(Ro.f,{className:wa.contentEditable}),placeholder:(0,ye.jsx)("div",{className:wa.placeholder,children:o}),ErrorBoundary:Zo.Z}),(0,ye.jsx)(Vo.r,{transformers:ya}),(0,ye.jsx)($o.$,{onChange:function(t){t.read((()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,(0,Lo.JH)(ya))}))}})]})});var s,d}const xa={wrap:"description_wrap__Em-YL",descEditor:"description_descEditor__VerjU",desc:"description_desc__MqF7F",collapsed:"description_collapsed__DsoTZ",action:"description_action__EmHsv",collapsedIcon:"description_collapsedIcon__2uWc1"};function Ia(e){const{projectId:t,mapConfig:n,readonly:o}=e,l=(0,ne.I)(),r=(0,a.Z)(),[s,d]=(0,i.useState)(null===n||void 0===n?void 0:n.desc),[c,u]=(0,i.useState)(!0),[p,h]=(0,i.useState)(!0),v=(0,i.useRef)(null),g=(0,i.useMemo)((()=>_o()((e=>{n&&!o&&l((0,hn.NV)({projectId:t,mapConfig:{...n,desc:e}}))}),600)),[l,n,t,o]),f=(0,i.useCallback)((e=>{d(e),g(e)}),[g]),m=(0,i.useCallback)((()=>{u((e=>!e)),v.current&&(v.current.scrollTop=0)}),[]);return(0,i.useEffect)((()=>{v.current&&!o&&v.current.scrollHeight>v.current.clientHeight&&u(!1)}),[s,o]),(0,i.useEffect)((()=>{const e=new ResizeObserver((e=>{const t=e[0];h(t.target.scrollHeight<=60)}));return v.current&&e.observe(v.current),()=>{e.disconnect()}}),[]),(0,ye.jsxs)("div",{className:(0,P.default)(xa.wrap,{hide:o&&!(null!==n&&void 0!==n&&n.desc)}),children:[(0,ye.jsx)("div",{ref:v,className:(0,P.default)(xa.desc,{[xa.collapsed]:c}),children:(0,ye.jsx)(Ca,{value:s,onChange:f,isReadOnly:o,className:xa.descEditor,placeholder:r.$t({id:"fwcWaG",defaultMessage:"Map description"})})}),(0,ye.jsx)("span",{className:(0,P.default)(xa.action,{[xa.collapsedIcon]:c,hide:p}),onClick:m,children:(0,ye.jsx)(U.Z,{type:"arrowUp2"})})]})}var ja=n(11454),Ma=n.n(ja),ka=n(64493),Ta=n.n(ka),Ea=n(16128),Pa=n(74909);const Oa=(0,re.P1)([e=>e.map.filters,e=>{var t,n,i;return null!==(t=null===(n=e.workspace.current)||void 0===n?void 0:n.id)&&void 0!==t?t:null===(i=Pa.MY.selectAll(e))||void 0===i||null===(i=i.find((e=>"user"===e.type)))||void 0===i?void 0:i.id},(e,t)=>t],((e,t,n)=>{var i;const{layerNodeId:o,type:a,allowAnonymous:l}=n,r=(0,Ke.Jl)({workspaceId:t,layerNodeId:o},{allowAnonymous:l});return r&&(null===(i=e[r])||void 0===i?void 0:i[a])||null}),{memoizeOptions:{resultEqualityCheck:it()}}),Sa=(0,re.P1)([(e,t)=>t,e=>e.map.filters],((e,t)=>{var n;let{id:i,type:o}=e;return(null===(n=t[i])||void 0===n?void 0:n[o])||null}),{memoizeOptions:{resultEqualityCheck:it()}});var _a=n(75202),Na=n(17181);const Da=["pointLinePolygon","heatmap","odLine","cluster","icon"];var La=n(33194),Aa=n(22732);const Ra={wrap:"legend_wrap__e99dK",legendPanel:"legend_legendPanel__Zz6WA",annotation:"legend_annotation__B5R5c",annotationToggle:"legend_annotationToggle__7EHQG",block:"legend_block__7doj9",header:"legend_header__4aSDl",actions:"legend_actions__jyJpE",dualView:"legend_dualView__vkUFN",divide:"legend_divide__ELLyg",dualViewConfig:"legend_dualViewConfig__Z2nwJ",dualViewTitle:"legend_dualViewTitle__TgMch",dualViewActions:"legend_dualViewActions__LW1I2",dualViewActionLabel:"legend_dualViewActionLabel__uZ9-e",dualViewSwitch:"legend_dualViewSwitch__EAhSq",dualViewActionStatus:"legend_dualViewActionStatus__lkIfK",active:"legend_active__UaWwu",iconLegend:"legend_iconLegend__ysBVG",icons:"legend_icons__u-lZC",iconVisible:"legend_iconVisible__qgIWh",iconFocus:"legend_iconFocus__bh8pJ",iconWrap:"legend_iconWrap__LdXc4",title:"legend_title__ErqqQ",desc:"legend_desc__o6JXF",legendContainer:"legend_legendContainer__sfNVA",list:"legend_list__60TnB",heatmap:"legend_heatmap__7+-7z",item:"legend_item__uv7+a",icon:"legend_icon__eZaWD",img:"legend_img__AZN96",outlineList:"legend_outlineList__5SybU",outlineItem:"legend_outlineItem__P6o8N",color:"legend_color__4o1vT",value:"legend_value__iHGPX",outlineBar:"legend_outlineBar__+-Ljy",radiusLegends:"legend_radiusLegends__RK+qL",radiusPlot:"legend_radiusPlot__aGRrh",radiusValue:"legend_radiusValue__dvDcv",radiusValueItem:"legend_radiusValueItem__K+lL5",radiusLegend:"legend_radiusLegend__MWb-a",legendName:"legend_legendName__BEce-",transparent:"legend_transparent__qiux5",canvasLegend:"legend_canvasLegend__S0290",bivariateLegend:"legend_bivariateLegend__Fqic8",bivariateName2:"legend_bivariateName2__mgBtD",bivariateName1:"legend_bivariateName1__rBfG8",arrow2:"legend_arrow2__5GuBU",arrow1:"legend_arrow1__EsyPY",arrowIcon:"legend_arrowIcon__iYcoY"},Za=80,Fa=80,za=(e,t,n,i,o)=>{try{const a=(0,La.Z)(i,o)(e.x),l=(0,La.Z)(t,n)(e.x);return(0,La.Z)(a,l)(e.y)}catch(a){return console.error("calcColor:",a),"#ffffff"}},Ba=e=>{const{legend:t}=e,n=i.useRef(null),[o,a]=i.useState([]);return(0,i.useEffect)((()=>{if(n.current){var e,i,o,l,r,s;const g=t.legends.map((e=>e.color)),f=[null!==(e=null===(i=t.fillField)||void 0===i?void 0:i.name)&&void 0!==e?e:"",null!==(o=null===(l=t.bivariateFillField)||void 0===l?void 0:l.name)&&void 0!==o?o:""],m=n.current.getContext("2d"),y=null!==(r=null===m||void 0===m?void 0:m.canvas.width)&&void 0!==r?r:Za,w=null!==(s=null===m||void 0===m?void 0:m.canvas.height)&&void 0!==s?s:Fa,b=null===m||void 0===m?void 0:m.createImageData(m.canvas.width,m.canvas.height);if(!b||!m)return;for(let e=0;e<y;e+=1)for(let t=0;t<w;t+=1){var d,c,u,p,h,v;const n=za({x:t/(y-1),y:e/(w-1)},g[0],g[1],g[2],g[3]);b.data[4*(e*y+t)]=null!==(d=null===(c=(0,Aa.ZP)(n))||void 0===c?void 0:c.rgb().r)&&void 0!==d?d:0,b.data[4*(e*y+t)+1]=null!==(u=null===(p=(0,Aa.ZP)(n))||void 0===p?void 0:p.rgb().g)&&void 0!==u?u:0,b.data[4*(e*y+t)+2]=null!==(h=null===(v=(0,Aa.ZP)(n))||void 0===v?void 0:v.rgb().b)&&void 0!==h?h:0,b.data[4*(e*y+t)+3]=255}m.putImageData(b,0,0),a(f)}}),[t]),(0,ye.jsxs)("div",{className:Ra.canvasLegend,children:[(0,ye.jsx)("canvas",{ref:n,width:Za,height:Fa,className:Ra.bivariateLegend}),(0,ye.jsx)("div",{className:Ra.bivariateName1,title:o[0],children:o[0]}),(0,ye.jsx)("div",{className:Ra.arrow1,children:(0,ye.jsx)(U.Z,{type:"arrow",className:Ra.arrowIcon})}),(0,ye.jsx)("div",{className:Ra.arrow2,children:(0,ye.jsx)(U.Z,{type:"arrow",className:Ra.arrowIcon})}),(0,ye.jsx)("div",{className:Ra.bivariateName2,title:o[1],children:o[1]})]})};function Va(e,t,n){var i;const o=null===e||void 0===e||null===(i=e.op)||void 0===i?void 0:i.key;return!!o&&(o===kn.fP.equals.key?e.value!==t:o===kn.fP.notInRange.key?!!n.find((e=>e.key===t)):o===kn.fP.inRange.key&&!n.find((e=>e.key===t)))}function Ha(e){let{key:t,values:n=[]}=e;return[t,...n].join(",")}const Wa=e=>{var t,n,o,l,r,s,d,c,u,p,h,v;const{hiddenLayerIds:g,legend:f,label:m,isThirdPartyTable:y,disableFilter:w,isDualView:b,dualMapLayerVisible:C,enableLayerToggle:x,onMenuClick:I,onDualMapLayerVisibleToggle:j}=e,M=(0,a.Z)(),k=(0,ne.I)(),[T,E]=(0,i.useState)(null),[O,S]=(0,i.useState)(null),_=null===g||void 0===g?void 0:g.includes(f.id),N=function(e,t){const{workspaceId:n}=(0,Tn.F)(),{pathname:i}=(0,yn.TH)(),o=i.startsWith("/s/");return(0,Ke.Jl)({workspaceId:n,layerNodeId:e},{allowAnonymous:t||o})}(f.id,y),D=(0,ne.v)((e=>N?Sa(e,{id:N,type:"legend"}):null)),{pathname:L}=(0,yn.TH)(),A=L.startsWith("/s/"),R=(0,ne.v)((e=>Oa(e,{type:"legend",layerNodeId:f.id,allowAnonymous:y||A}))),{flattened:Z,hasStringField:F,hasUserField:B}=(0,i.useMemo)((()=>{const e=wn.K.flat(R).filter((e=>"op"in e));return{flattened:e,hasStringField:e.some((e=>(0,ae.S8)(e.field))),hasUserField:e.some((e=>(0,ae.NU)(e.field)))}}),[R]),V=null===Z||void 0===Z?void 0:Z[0],H=(0,Ke.Oy)(null!==(t=null===V||void 0===V?void 0:V.value)&&void 0!==t?t:""),W=f.fillField,G=f.outlineField;function q(e){k(et.Nw.removeMapFilters({id:e,type:"legend"}))}function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;if(!e.values||!i||!N)return;const o=function(e,t,n,i){if(!e.values||!i)return null;const o=f.id;let a=gn()(D);const l=wn.K.find(a,(e=>e.id===o)),r=(0,ae.S8)(i),s=(0,ae.NU)(i);if(t)if(r)a=wn.K.filter(a,(t=>t.value!==e.name));else if(s){var d;const t=null===(d=e.values)||void 0===d?void 0:d.join(",");a=wn.K.filter(a,(e=>e.value!==t))}else{var c;if(!l)return null;const t=(0,Ke.Oy)(l.value);t.push({key:e.name,values:e.values}),(null===(c=l.op)||void 0===c?void 0:c.key)===kn.fP.inRange.key?(l.op=kn.fP.notInRange,l.value=n.filter((e=>!t.some((t=>t.key===e.name))&&e.values)).map((e=>Ha({key:e.name,values:e.values}))).join(",")):l.value=t.filter((t=>t.key!==e.name&&t.values)).map(Ha).join(",")}else if(r)a=wn.K.and(a,{id:String(Date.now()),field:i,value:e.name,op:kn.fP.notContains});else if(s){var u;a=wn.K.and(a,{id:String(Date.now()),field:i,value:null===(u=e.values)||void 0===u?void 0:u.join(","),op:kn.fP.notContains})}else{var p;if(wn.K.isEmpty(R))return{id:f.id,field:i,value:Ha({key:e.name,values:e.values}),op:kn.fP.notInRange};if(!l)return null;(null===(p=l.op)||void 0===p?void 0:p.key)===kn.fP.inRange.key?(l.op=kn.fP.notInRange,l.value=n.filter((e=>e.values)).map((e=>Ha({key:e.name,values:e.values}))).join(",")):l.value=(0,Ke.Oy)(l.value).concat([{key:e.name,values:e.values}]).map(Ha).join(",")}if(l){const e=(0,Ke.Oy)(l.value),t=e.length===n.length-1,i=n.find((t=>!e.find((e=>e.key===t.name))));t&&i&&i.values&&(l.op=kn.fP.inRange,l.value=Ha({key:i.name,values:i.values}))}return a||null}(e,t,n,i);wn.K.isEmpty(o)?q(N):k(et.Nw.updateMapFilters({id:N,type:"legend",filter:o}))}(0,i.useEffect)((()=>()=>{!w&&N&&k(et.Nw.removeMapFilters({id:N,type:"legend"}))}),[N,w,k]);const J=e=>{let{fillLegends:t,fillField:n,lastFocusItemName:i,layerType:o,changeLastFocusItemName:a}=e;return(t||[]).map(((e,l)=>{let r=!1;var s;if(F)r=(null===V||void 0===V||null===(s=V.op)||void 0===s?void 0:s.key)===kn.fP.equals.key?Va(V,e.name,H):Z.some((t=>t.value===e.name));else if(B){var d,c;const t=null===(d=e.values)||void 0===d?void 0:d.join(",");r=(null===V||void 0===V||null===(c=V.op)||void 0===c?void 0:c.key)===kn.fP.equals.key&&t?Va(V,t,H):Z.some((e=>e.value===t))}else r=Va(V,e.name,H);return(0,ye.jsxs)("div",{className:Ra.item,role:"listitem",children:[e.icon?(0,ye.jsx)("div",{className:Ra.icon,children:Ye.jm.includes(e.icon)?(0,ye.jsx)(U.Z,{type:"iconLayerIcon".concat(Ta()(e.icon)),style:{color:e.color}}):(0,ye.jsx)("div",{className:Ra.img,style:{backgroundImage:"url(".concat(e.icon,")")}})}):(0,ye.jsx)("div",{className:(0,P.default)(Ra.color,Ra[e.color]),style:{backgroundColor:r?"#ebecf0":e.color}}),(0,ye.jsx)("div",{className:Ra.value,style:{color:r?"#c1c7d0":void 0},children:(0,ye.jsx)(Ri.Z,{text:e.name})}),e.values&&e.values.length>0&&!w&&Da.includes(o)?(0,ye.jsxs)("div",{className:Ra.icons,children:[(0,ye.jsx)(It.Z,{title:e.name===O?M.$t({id:"LEj9aE",defaultMessage:"Show all data"}):M.$t({id:"Bk+7gz",defaultMessage:"Show only this feature"}),destroyOnHidden:!0,children:(0,ye.jsx)("span",{className:Ra.iconWrap,onClick:()=>function(e){let{legendItem:t,fillLegends:n,fillField:i,lastFocusItemName:o,changeLastFocusItemName:a}=e;if(!t.values||!i)return;if(o===t.name&&N)return q(N),void a(null);const l=(0,ae.S8)(i),r=(0,ae.NU)(i);let s,d=kn.fP.notInRange;if(l)s=t.name,d=kn.fP.equals;else if(r){var c;s=null===(c=t.values)||void 0===c?void 0:c.join(","),d=kn.fP.equals}else s=n.filter((e=>![t].find((t=>t.name===e.name))&&e.values&&e.values.length>0)).map((e=>Ha({key:e.name,values:e.values}))).join(",");a(t.name),N&&k(et.Nw.updateMapFilters({id:N,type:"legend",filter:{id:f.id,field:i,value:s,op:d}}))}({legendItem:e,fillLegends:t,fillField:n,lastFocusItemName:i,changeLastFocusItemName:a}),children:e.name===O?(0,ye.jsx)(U.Z,{type:"focusReverse",className:Ra.iconFocus}):(0,ye.jsx)(U.Z,{type:"focus",className:Ra.iconFocus})})}),(0,ye.jsx)(U.Z,{type:r?"invisible":"visible",className:Ra.iconVisible,onClick:()=>$(e,r,t||[],n)})]}):null]},l)}))};return(0,ye.jsxs)("div",{className:Ra.block,children:[(0,ye.jsxs)("div",{className:Ra.header,children:[(0,ye.jsxs)("div",{className:Ra.title,children:[(0,ye.jsx)(U.Z,{type:"layer"}),(0,ye.jsx)(Ri.Z,{text:f.title})]}),(0,ye.jsx)("div",{className:Ra.actions,children:b?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)("div",{className:Ra.dualView,children:[(0,ye.jsx)("span",{className:Ra.divide}),(0,ye.jsx)(U.Z,{type:null!==C&&void 0!==C&&C[0]?"visible":"invisible",className:Ra.iconVisible,onClick:()=>{var e;return null===j||void 0===j?void 0:j(f.id,[!(null!==C&&void 0!==C&&C[0]),null!==(e=null===C||void 0===C?void 0:C[1])&&void 0!==e&&e])}})]}),(0,ye.jsxs)("div",{className:Ra.dualView,children:[(0,ye.jsx)("span",{className:Ra.divide}),(0,ye.jsx)(U.Z,{type:null!==C&&void 0!==C&&C[1]?"visible":"invisible",className:Ra.iconVisible,onClick:()=>{var e;return null===j||void 0===j?void 0:j(f.id,[null!==(e=null===C||void 0===C?void 0:C[0])&&void 0!==e&&e,!(null!==C&&void 0!==C&&C[1])])}})]})]}):(0,ye.jsxs)(z.Z,{align:"center",gap:2,children:[!_&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(It.Z,{title:M.$t({id:"menu.name.fitBounds",defaultMessage:"Zoom to this layer"}),children:(0,ye.jsx)(U.Z,{type:"fullscreen",cursor:"pointer",onClick:()=>I("fitBounds")})}),m&&!m.disabled&&(0,ye.jsx)(It.Z,{title:null!==m&&void 0!==m&&m.active?M.$t({id:"menu.name.hideLabel",defaultMessage:"Hide label"}):M.$t({id:"menu.name.showLabel",defaultMessage:"Show label"}),children:(0,ye.jsx)(U.Z,{type:null!==m&&void 0!==m&&m.active?"label":"labelOff",cursor:"pointer",onClick:()=>I("toggleLabel")})})]}),x&&(0,ye.jsx)(U.Z,{type:_?"invisible":"visible",cursor:"pointer",onClick:()=>I("toggleLayer")})]})})]}),f.layerDesc?(0,ye.jsx)("div",{className:Ra.desc,children:f.layerDesc}):null,(0,ye.jsxs)("div",{className:Ra.legendContainer,"data-testid":"legendContainer",children:["path"===f.layerType&&null!==(n=f.endpointsLegends)&&void 0!==n&&n.length?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("div",{className:Ra.legendName,children:M.$t({id:"QBYdL6",defaultMessage:"Points Color"})}),f.endpointsLegends.map(((e,t)=>(0,ye.jsxs)("div",{className:Ra.item,children:[(0,ye.jsx)("div",{className:Ra.color,style:{backgroundColor:e.color}}),(0,ye.jsx)("div",{className:Ra.value,children:(0,ye.jsx)(Ri.Z,{text:e.name})})]},t)))]}):null,"odLine"===f.layerType&&null!==(o=f.odLineLegends)&&void 0!==o&&o.length?(0,ye.jsx)(ye.Fragment,{children:f.odLineLegends.map(((e,t)=>(0,ye.jsxs)("div",{className:Ra.item,children:[(0,ye.jsx)("div",{className:Ra.color,style:{backgroundColor:e.color}}),(0,ye.jsx)("div",{className:Ra.value,children:(0,ye.jsx)(Ri.Z,{text:e.name})})]},t)))}):null,f.isBivariate?(0,ye.jsx)(Ba,{legend:f}):(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)("div",{className:Ra.legendName,children:[null!==W&&void 0!==W&&W.name?M.$t({id:"HKEVKu",defaultMessage:"Fill Color"})+": ":"",null===W||void 0===W?void 0:W.name]}),(0,ye.jsx)(_a.g,{active:(null===(l=f.legends)||void 0===l?void 0:l.length)>Na._u,children:(0,ye.jsx)("div",{role:"list",className:Ra.list,"data-role":"legend-list",style:0===(null===(r=f.legends)||void 0===r?void 0:r.length)?{marginBottom:0}:void 0,children:"heatmap"===f.layerType?(0,ye.jsxs)("div",{className:Ra.heatmap,"data-role":"legend-heatmap",children:[(0,ye.jsx)("div",{style:{width:"100%",height:16},children:(0,ye.jsx)(Ea.Z,{colors:f.legends.map((e=>e.color))})}),(0,ye.jsxs)(li.Z,{justify:"space-between",children:[(0,ye.jsx)(ri.Z,{children:M.$t({id:"477I0g",defaultMessage:"Low"})}),(0,ye.jsx)(ri.Z,{children:M.$t({id:"AxMhQr",defaultMessage:"High"})})]})]}):J({fillLegends:f.legends||[],fillField:W,lastFocusItemName:T,layerType:f.layerType,changeLastFocusItemName:E})})})]}),null!==(s=f.outlineFillFieldLegends)&&void 0!==s&&s.length&&["pointLinePolygon","path"].includes(f.layerType)?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)("div",{className:Ra.legendName,children:[null!==(d=f.outlineField)&&void 0!==d&&d.name?M.$t({id:"seUcXR",defaultMessage:"Stroke Color"})+": ":"",null===(c=f.outlineField)||void 0===c?void 0:c.name]}),(0,ye.jsx)("div",{className:Ra.list,children:W?(f.outlineFillFieldLegends||[]).map(((e,t)=>(0,ye.jsxs)("div",{className:Ra.item,children:[(0,ye.jsx)("div",{className:(0,P.default)(Ra.color,Ra[e.color]),style:{backgroundColor:e.color}}),(0,ye.jsx)("div",{className:Ra.value,children:(0,ye.jsx)(Ri.Z,{text:e.name})})]},t))):J({fillLegends:f.outlineFillFieldLegends||[],fillField:G,lastFocusItemName:O,layerType:f.layerType,changeLastFocusItemName:S})})]}):null,null!==(u=f.outlineWidthFieldLegends)&&void 0!==u&&u.length?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)("div",{className:Ra.legendName,children:[M.$t({id:"lWlLlv",defaultMessage:"Stroke Width"})+": ",null===(p=f.outlineWidthField)||void 0===p?void 0:p.name]}),(0,ye.jsx)("div",{className:Ra.outlineList,children:(f.outlineWidthFieldLegends||[]).map(((e,t)=>{var n;return(0,ye.jsxs)("div",{className:Ra.outlineItem,children:[(0,ye.jsx)("div",{className:Ra.outlineBar,children:(0,ye.jsx)("div",{className:(0,P.default)(Ra.color,Ra[e.color]),style:{backgroundColor:e.color}})}),(0,ye.jsx)("div",{className:Ra.value,title:null===(n=e.value)||void 0===n?void 0:n.toString(),children:Ma()(e.name,{length:10})})]},t)}))})]}):null,null!==(h=f.radiusLegends)&&void 0!==h&&h.length?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)("div",{className:Ra.legendName,children:["icon"===f.layerType?M.$t({id:"agOXPD",defaultMessage:"Size"})+": ":"path"===f.layerType?M.$t({id:"layer.fill.width",defaultMessage:"Width"})+": ":M.$t({id:"nDRMt4",defaultMessage:"Radius"})+": ",null===(v=f.radiusField)||void 0===v?void 0:v.name]}),(0,ye.jsxs)("div",{className:Ra.radiusLegends,children:[(0,ye.jsx)("div",{className:Ra.radiusPlot,children:(f.radiusLegends||[]).map(((e,t)=>(0,ye.jsx)("div",{className:Ra.radiusLegend},t)))}),(0,ye.jsx)("div",{className:Ra.radiusValue,children:(f.radiusLegends||[]).map(((e,t)=>{var n;return(0,ye.jsx)("div",{className:Ra.radiusValueItem,title:null===(n=e.value)||void 0===n?void 0:n.toString(),children:Ma()(e.name,{length:10})},t)}))})]})]}):null]},f.id)]})},Ua=e=>{const{legends:t,onClick:n,active:i,labels:o,name:l,isThirdPartyTable:r,disableFilter:s,isDualView:d,dualMapState:c,description:u,projectId:p,enableAnnotation:h,enableLayerToggle:v,onLabelVisibilityChange:g,onDualMapViewportSyncToggle:f,onDualMapZoomSyncToggle:m,onDualMapLayerVisibleToggle:y,onLayerToggle:w}=e,b=(0,ne.I)(),C=(0,ne.v)((e=>p?e.map.hiddenLayerIds[p]:void 0)),x=(0,ne.v)((e=>e.map.annotationStatus)),I=(0,a.Z)();const j=null===c||void 0===c?void 0:c.layers;return(0,ye.jsxs)(Kt.br,{showClose:!0,name:l,onClick:function(){if(p){let e=Bt().get(Vt.Wr)||[];i?e.push(p):e=e.filter((e=>e!==p)),Bt().set(Vt.Wr,e)}null===n||void 0===n||n(!i,l)},active:i,icon:(0,ye.jsx)(U.Z,{type:"layer",className:Ra.iconLegend}),title:I.$t({id:"iZuO+L",defaultMessage:"Legend"}),className:Ra.wrap,children:[u,d&&(0,ye.jsxs)("div",{className:Ra.dualViewConfig,children:[(0,ye.jsx)("div",{className:Ra.dualViewTitle,children:I.$t({id:"yS1Me8",defaultMessage:"Split mode settings"})}),(0,ye.jsxs)("div",{className:Ra.dualViewActions,children:[(0,ye.jsx)("div",{className:Ra.dualViewActionLabel,children:I.$t({id:"S1arkw",defaultMessage:"Lock viewport"})}),(0,ye.jsxs)("div",{className:Ra.dualViewSwitch,children:[(0,ye.jsx)(de.Z,{size:"small",onChange:f,defaultChecked:null===c||void 0===c?void 0:c.syncOptions.viewport}),(0,ye.jsx)("span",{className:Ra.dualViewActionStatus,children:null!==c&&void 0!==c&&c.syncOptions.viewport?I.$t({id:"V52jNn",defaultMessage:"Enabled"}):I.$t({id:"tthToS",defaultMessage:"Disabled"})})]})]}),(0,ye.jsxs)("div",{className:Ra.dualViewActions,children:[(0,ye.jsx)("div",{className:Ra.dualViewActionLabel,children:I.$t({id:"226+k9",defaultMessage:"Sync zoom level"})}),(0,ye.jsxs)("div",{className:Ra.dualViewSwitch,children:[(0,ye.jsx)(de.Z,{size:"small",onChange:m,defaultChecked:null===c||void 0===c?void 0:c.syncOptions.zoom,disabled:null===c||void 0===c?void 0:c.syncOptions.viewport}),(0,ye.jsx)("span",{className:Ra.dualViewActionStatus,children:null!==c&&void 0!==c&&c.syncOptions.zoom?I.$t({id:"V52jNn",defaultMessage:"Enabled"}):I.$t({id:"tthToS",defaultMessage:"Disabled"})})]})]})]}),h&&(0,ye.jsx)("div",{className:Ra.annotation,children:(0,ye.jsxs)(z.Z,{align:"center",justify:"space-between",className:Ra.block,children:[(0,ye.jsxs)(z.Z,{gap:6,align:"center",className:Ra.title,children:[(0,ye.jsx)(U.Z,{type:"annotation"}),I.$t({id:"c2l+EP",defaultMessage:"Annotations"})]}),(0,ye.jsx)(U.Z,{className:Ra.annotationToggle,type:x.visible?"visible":"invisible",cursor:"pointer",onClick:function(){b(et.Nw.updateAnnotationStatus({visible:!x.visible}))}})]})}),!at()(t)&&(0,ye.jsx)("div",{className:Ra.legendPanel,"data-type":"control-legend",children:null===t||void 0===t?void 0:t.map((e=>(0,ye.jsx)(Wa,{disableFilter:s,isDualView:d,dualMapLayerVisible:null===j||void 0===j?void 0:j[e.id],onDualMapLayerVisibleToggle:y,isThirdPartyTable:r,enableLayerToggle:v,legend:e,label:null===o||void 0===o?void 0:o.find((t=>t.id===e.id)),hiddenLayerIds:C,onMenuClick:t=>function(e,t){switch(e){case"fitBounds":xt.m2.emit(t);break;case"toggleLabel":{var n;const e=!(null===o||void 0===o||null===(n=o.find((e=>e.id===t)))||void 0===n||!n.active),i=null===o||void 0===o?void 0:o.map((n=>n.id===t?{...n,active:!e}:n));null===g||void 0===g||g(i)}break;case"toggleLayer":null===w||void 0===w||w(t)}}(t,e.id)},e.id)))})]})};var Ga=n(53029),qa=n(90875),$a=n(1414),Ja=n(44459),Qa=n(38981),Ka=n.n(Qa);const Ya="p",Xa={home:{path:"/"},login:{path:"login"},signup:{path:"signup"},survey:{path:"survey"},user:{path:"user",children:{profile:{path:"profile",fullPath:()=>"/".concat(Xa.user.path,"/").concat(Xa.user.children.profile.path)},api:{path:"api",fullPath:()=>"/".concat(Xa.user.path,"/").concat(Xa.user.children.api.path)},unsubscribe:{path:"unsubscribe",fullPath:()=>"/".concat(Xa.user.path,"/").concat(Xa.user.children.unsubscribe.path)}}},project:{path:":workspaceType/:workspaceId/p/:projectId",children:{recycle:{path:"recycle"},member:{path:"member"},emptyTable:{path:"t",fullPath:()=>"".concat(Xa.project.path,"/").concat(Xa.project.children.emptyTable.path)},table:{path:"t/:tableNodeId",fullPath:()=>"".concat(Xa.project.path,"/").concat(Xa.project.children.table.path),generatePath:(e,t,n,i)=>(0,$a.Gn)(Xa.project.children.table.fullPath(),{workspaceType:e,workspaceId:Ka()(t),projectId:Ka()(n),tableNodeId:Ka()(null!==i&&void 0!==i?i:"")})},map:{path:"map",fullPath:()=>"".concat(Xa.project.path,"/").concat(Xa.project.children.map.path),generatePath:(e,t,n)=>(0,$a.Gn)(Xa.project.children.map.fullPath(),{workspaceType:e,workspaceId:Ka()(t),projectId:Ka()(n)})},dashboard:{path:"dashboard",fullPath:()=>"".concat(Xa.project.path,"/").concat(Xa.project.children.dashboard.path),generatePath:(e,t,n)=>(0,$a.Gn)(Xa.project.children.dashboard.fullPath(),{workspaceType:e,workspaceId:Ka()(t),projectId:Ka()(n)})}}},workspace:{path:":workspaceType",children:{projectList:{path:":workspaceId",fullPath:()=>"".concat(Xa.workspace.path,"/").concat(Xa.workspace.children.projectList.path),generatePath:(e,t)=>(0,$a.Gn)(Xa.workspace.children.projectList.fullPath(),{workspaceType:e,workspaceId:Ka()(t)})},recycle:{path:":workspaceId/recycle",fullPath:()=>"".concat(Xa.workspace.path,"/").concat(Xa.workspace.children.recycle.path),generatePath:(e,t)=>(0,$a.Gn)(Xa.workspace.children.recycle.fullPath(),{workspaceType:e,workspaceId:Ka()(t)})},setting:{path:":workspaceId/settings",fullPath:()=>"".concat(Xa.workspace.path,"/").concat(Xa.workspace.children.setting.path),generatePath:(e,t)=>(0,$a.Gn)(Xa.workspace.children.setting.fullPath(),{workspaceType:e,workspaceId:Ka()(t)})},member:{path:":workspaceId/members",fullPath:()=>"".concat(Xa.workspace.path,"/").concat(Xa.workspace.children.member.path),generatePath:(e,t)=>(0,$a.Gn)(Xa.workspace.children.member.fullPath(),{workspaceType:e,workspaceId:Ka()(t)})},invitation:{path:":workspaceId/invitations"},dataList:{path:":workspaceId/datalist",fullPath:()=>"".concat(Xa.workspace.path,"/").concat(Xa.workspace.children.dataList.path),generatePath:(e,t)=>(0,$a.Gn)(Xa.workspace.children.dataList.fullPath(),{workspaceType:e,workspaceId:Ka()(t)}),children:{files:{path:""},subscribed:{path:"subscribed"},connections:{path:"connections"}}},connection:{path:":workspaceId/datalist/connections/:id"}}},marketPlace:{path:"marketplace"},marketPlaceDetail:{path:"marketplace/:id"},templates:{path:"templates"},unsubscribe:{path:"unsubscribe"},weChatAuth:{path:"auth/wechat"},feishu:{path:"feishu",children:{invite:{path:"invite"},help:{path:"help"},plan:{path:"plan"}}},payment:{path:"payment",children:{result:{path:"result"}}},plan:{path:"plan"},pay:{path:"pay"},isolatedSharing:{path:"s",children:{form:{path:"f/:shareToken"},row:{path:"r/:shareToken"}}},sharing:{path:"s",children:{table:{path:"t/:shareToken"},map:{path:"m/:shareToken"},mapEmbed:{path:"embed/:shareToken"},dashboard:{path:"d/:shareToken"},project:{path:"p/:shareToken",fullPath:()=>"".concat(Xa.sharing.path,"/").concat(Xa.sharing.children.project.path),generatePath:e=>(0,$a.Gn)(Xa.sharing.children.project.fullPath(),{shareToken:e}),children:{table:{path:"table",fullPath:()=>"".concat(Xa.sharing.children.project.fullPath(),"/").concat(Xa.sharing.children.project.children.table.path),generatePath(e,t){const n=t?(0,Ja.fW)({[Ya]:t}).toString():"";return"".concat((0,$a.Gn)(Xa.sharing.children.project.children.table.fullPath(),{shareToken:e})).concat(n?"?".concat(n):"")}},map:{path:"map",fullPath:()=>"".concat(Xa.sharing.children.project.fullPath(),"/").concat(Xa.sharing.children.project.children.map.path),generatePath(e,t){const n=t?(0,Ja.fW)({[Ya]:t}).toString():"";return"".concat((0,$a.Gn)(Xa.sharing.children.project.children.map.fullPath(),{shareToken:e})).concat(n?"?".concat(n):"")}},dashboard:{path:"dashboard",fullPath:()=>"".concat(Xa.sharing.children.project.fullPath(),"/").concat(Xa.sharing.children.project.children.dashboard.path),generatePath(e,t){const n=t?(0,Ja.fW)({[Ya]:t}).toString():"";return"".concat((0,$a.Gn)(Xa.sharing.children.project.children.dashboard.fullPath(),{shareToken:e})).concat(n?"?".concat(n):"")}}}}}},admin:{path:"management",children:{whitelist:{path:"whitelist"},balance:{path:"balance"},org:{path:"org"},user:{path:"user"},mapkey:{path:"mapkey"},maintain:{path:"maintain"},issues:{path:"issues"},thirdparty:{path:"thirdparty"},thirdpartyPath:{path:"thirdparty/:type"},edu:{path:"edu"},templates:{path:"templates"}}},legacySharingForm:{path:"f/:shareToken"},legacySharingMap:{path:"m/:shareToken"},preview:{path:"preview/:workspaceType/:workspaceId/p/:projectId/t/:tableNodeId"},notification:{path:"notification"},download:{path:"download/:url"},notFound:{path:"404"},embedMapPageNotFound:{path:"embed404"},any:{path:"*"}};var el=n(78731);const tl={wrap:"baseMapControl_wrap__EWZ8o",tableDualView:"baseMapControl_tableDualView__Ccczr",expanded:"baseMapControl_expanded__G0tge",mini:"baseMapControl_mini__3THuf",backgroundLayerIcon:"baseMapControl_backgroundLayerIcon__UKoEJ",epitome:"baseMapControl_epitome__MHXHh",medium:"baseMapControl_medium__5TjTe",basemap:"baseMapControl_basemap__oeX1l",basemapIcon:"baseMapControl_basemapIcon__FCzs0",basemapRadio:"baseMapControl_basemapRadio__bxFSX",basemapLabel:"baseMapControl_basemapLabel__CYU-4",basemapItem:"baseMapControl_basemapItem__ku1JH",list:"baseMapControl_list__9GUrZ",more:"baseMapControl_more__+kcSX",iconMore:"baseMapControl_iconMore__0AK7r",fullPanel:"baseMapControl_fullPanel__Tn6pJ",title:"baseMapControl_title__FzYYk",iconClose:"baseMapControl_iconClose__-c37E",tabs:"baseMapControl_tabs__iDUjj",tabTitle:"baseMapControl_tabTitle__kcprT",active:"baseMapControl_active__B+ZO8",noDataWrapper:"baseMapControl_noDataWrapper__lrDfu",mainTitle:"baseMapControl_mainTitle__GEHc7",subTitle:"baseMapControl_subTitle__Q2pLE"},nl=!1,il=new Map(el.Zt.map((e=>[e.key,e])));function ol(e){var t;const n=(0,a.Z)(),{baseMapProviders:o=["amap","mapbox"],baseMapStyle:l,style:r,projectId:s,needPro:d=!1,onChange:c}=e,{isMobile:u}=(0,le.F)(),p=(0,ne.v)((e=>e.project.mapSiderVisible)),h=(0,ne.v)((e=>e.project.customizeBaseMap)),v=(0,ne.v)((e=>{var t;return!!s&&"map"===(null===(t=e.project.dualViews)||void 0===t||null===(t=t[s])||void 0===t?void 0:t.table)})),g=(0,yn.bS)(Xa.project.children.table.fullPath()),[f,m]=(0,i.useState)((0,Yt.IV)(l)),[y,w]=(0,i.useState)(l),[b,C]=(0,i.useState)("mini"),x=(0,i.useMemo)((()=>{const e=f;if("amap"===e)return el.X8;if("google"===e)return el.h$;if("mapbox"===e)return el.rT;if("customize"===e){const e={};for(const t of h||[])e[t.id]={id:t.id,label:t.name,icon:"url"===t.type?(0,qa.vG)(t.urlTemplate):t.color};return e}return null}),[h,f]),I=(0,i.useCallback)((e=>{const t=e.target.value,n=e.target.id;null===c||void 0===c||c(n||t,(0,Yt.IV)(t)!==(0,Yt.IV)(y)),w(n||t)}),[y,c]);(0,i.useEffect)((()=>{const e=(0,Yt.IV)(l);m(e),w(l)}),[l]);const j="customize"===f,M=null===(t=Me()(x,"".concat(y)))||void 0===t?void 0:t.icon;return(0,ye.jsxs)("div",{className:(0,P.default)(tl.wrap,{[tl.expanded]:p,[tl.tableDualView]:v&&g}),style:r,children:[("mini"===b||"medium"===b)&&(0,ye.jsx)("div",{className:tl.mini,onClick:function(){C(u?"mini"===b?"full":"mini":"mini"===b?"medium":"mini")},children:(0,ye.jsx)("div",{className:tl.epitome,children:j&&M&&/^#([0-9a-f]{3}){1,2}$/i.test(M)?(0,ye.jsx)("div",{className:tl.backgroundLayerIcon,style:{backgroundColor:M}}):M&&(0,ye.jsx)("img",{src:M,alt:"basemap"})})}),"medium"===b&&(0,ye.jsx)("div",{className:tl.medium,children:(0,ye.jsx)(Qn.ZP.Group,{className:tl.basemap,onChange:I,value:y,children:(0,ye.jsxs)("div",{className:tl.list,children:[Object.entries(x||{}).slice(0,6).map((e=>{let[t,i]=e;return(0,ye.jsx)("div",{className:tl.basemapItem,children:(0,ye.jsx)(Qn.ZP,{value:t,id:i.id,children:(0,ye.jsxs)("div",{className:tl.basemapRadio,children:[(0,ye.jsx)("div",{className:tl.basemapIcon,children:j&&/^#([0-9a-f]{3}){1,2}$/i.test(i.icon)?(0,ye.jsx)("div",{className:tl.backgroundLayerIcon,style:{backgroundColor:i.icon}}):(0,ye.jsx)("img",{src:i.icon,alt:"string"===typeof i.label?i.label:n.$t(i.label)})}),(0,ye.jsx)("div",{className:tl.basemapLabel,children:"string"===typeof i.label?i.label:n.$t(i.label)})]})})},t)})),(0,ye.jsxs)("div",{className:tl.more,onClick:()=>C("full"),children:[(0,ye.jsx)("div",{className:tl.iconMore,children:(0,ye.jsx)(U.Z,{type:"layer"})}),(0,ye.jsx)("div",{className:tl.basemapLabel,children:n.$t({id:"I5NMJ8",defaultMessage:"More"})})]})]})})}),"full"===b&&(0,ye.jsxs)("div",{className:tl.fullPanel,children:[(0,ye.jsxs)("div",{className:tl.title,children:[(0,ye.jsxs)("div",{children:[n.$t({id:"7paple",defaultMessage:"Basemap style"}),(0,ye.jsx)(It.Z,{title:n.$t({id:"kMO+f9",defaultMessage:"Changes to the basemap style are temporary for this session but can be globally applied to all users via map settings."}),children:(0,ye.jsx)(U.Z,{type:"info",style:{paddingLeft:2}})})]}),(0,ye.jsx)(U.Z,{type:"close",className:tl.iconClose,onClick:function(){C("mini"),m((0,Yt.IV)(y))}})]}),(0,ye.jsx)("div",{className:tl.tabs,children:o.map((e=>{const t=il.get(e);return t?(0,ye.jsxs)("div",{className:(0,P.default)(tl.tabTitle,{[tl.active]:f===t.key}),onClick:()=>m(t.key),children:[n.$t(t.msg),d&&"mapbox"===t.key&&nl&&(0,ye.jsx)(Ga.Z,{}),"google"===t.key&&(0,ye.jsx)(Ga.Z,{text:"Ent"}),"customize"===t.key&&nl?(0,ye.jsx)(Ga.Z,{text:"Ent"}):null]},e):null}))}),at()(x)?(0,ye.jsx)(al,{}):(0,ye.jsx)(Qn.ZP.Group,{className:tl.basemap,onChange:I,value:y,children:(0,ye.jsx)(li.Z,{gutter:[4,0],children:k()(x,((e,t)=>(0,ye.jsx)(ri.Z,{span:8,className:tl.basemapItem,children:(0,ye.jsx)(Qn.ZP,{value:t,id:e.id,children:(0,ye.jsxs)("div",{className:tl.basemapRadio,children:[(0,ye.jsx)("div",{className:tl.basemapIcon,children:j&&/^#([0-9a-f]{3}){1,2}$/i.test(e.icon)?(0,ye.jsx)("div",{className:tl.backgroundLayerIcon,style:{backgroundColor:e.icon}}):(0,ye.jsx)("img",{src:e.icon,alt:"string"===typeof e.label?e.label:n.$t(e.label)})}),(0,ye.jsx)("div",{className:tl.basemapLabel,children:"string"===typeof e.label?e.label:n.$t(e.label)})]})})},t)))})})]})]})}function al(){const e=(0,a.Z)();return(0,ye.jsxs)("div",{className:tl.noDataWrapper,children:[(0,ye.jsx)("div",{className:tl.mainTitle,children:e.$t({id:"3Aq62J",defaultMessage:"No custom basemap added"})}),(0,ye.jsx)("div",{className:tl.subTitle,children:e.$t({id:"SyPKXP",defaultMessage:"You can add custom basemap in map settings"})})]})}var ll=n(74910),rl=n(25111),sl=n(38441);var dl=n(75605),cl=n(79246),ul=n(99277),pl=n(61124),hl=n(4511);const vl=["jpg","jpeg","png"],gl=e=>{let{dialog:t,error:n}=e;const o=(0,a.Z)(),[l,r]=(0,i.useState)(!1),[s,d]=(0,i.useState)({}),[c,u]=(0,i.useState)([]),[p,h]=(0,i.useState)(!1),{workspaceId:v,workspaceType:g}=(0,Tn.F)(),[f]=J.Z.useForm(),m=[{label:o.$t({id:"LMU+6y",defaultMessage:"Bug report"}),value:"bug"},{label:o.$t({id:"eVIjIQ",defaultMessage:"Feature request"}),value:"feature"},{label:o.$t({id:"/VnDMl",defaultMessage:"Other"}),value:"other"}];function y(){t.close(),d({}),u([]),r(!1),h(!1),f.resetFields()}return(0,ye.jsx)(ie.Vq,{title:o.$t({id:"Ejhdi4",defaultMessage:"Feedback"}),okText:o.$t({id:"wSZR47",defaultMessage:"Submit"}),visible:t.visible,onCancel:y,okButtonProps:{loading:l},cancelButtonProps:{disabled:l},onOk:async function(){try{await f.validateFields()}catch{return}let e;r(!0);try{e=await(0,ul.M)()}catch{}const t={...f.getFieldsValue(),orgID:"w"===g?v:void 0,images:Object.values(s),extra:{url:window.location.href,ua:navigator.userAgent,lang:navigator.language,error:n?{message:n.message,name:n.name,cause:n.cause,stack:n.stack}:void 0,gpu:e}};try{await pl.Z.reportIssue(t),Q.ZP.info(o.$t({id:"rYs1YJ",defaultMessage:"Submit successfully! Thank you!"}))}catch{}y()},destroyOnHidden:!0,children:(0,ye.jsxs)(J.Z,{form:f,initialValues:{type:"bug"},layout:"vertical",children:[(0,ye.jsx)(J.Z.Item,{name:"type",label:o.$t({id:"kxP9GJ",defaultMessage:"Types"}),rules:[{required:!0}],children:(0,ye.jsx)(ie.Ph,{options:m})}),(0,ye.jsx)(J.Z.Item,{name:"title",label:o.$t({id:"9a9+ww",defaultMessage:"Title"}),rules:[{required:!0,min:2,max:1024}],children:(0,ye.jsx)(Pi.default,{placeholder:o.$t({id:"N21hXH",defaultMessage:"Please enter content"})})}),(0,ye.jsx)(J.Z.Item,{name:"content",label:o.$t({id:"Q8Qw5B",defaultMessage:"Description"}),children:(0,ye.jsx)(Pi.default.TextArea,{placeholder:o.$t({id:"N21hXH",defaultMessage:"Please enter content"})})}),(0,ye.jsx)(J.Z.Item,{name:"images",label:o.$t({id:"Ye0Clm",defaultMessage:"Attach"}),children:(0,ye.jsx)(dl.default,{listType:"picture-card",accept:vl.map((e=>".".concat(e))).join(","),fileList:c,onChange:function(e){var t;const n=null===(t=e.fileList)||void 0===t?void 0:t.map((e=>({...e,status:p?e.status:"done"})));u(n)},beforeUpload:function(e,t){const n=e.name.split(".").pop();return n&&vl.includes(n.toLocaleLowerCase())?e.size>1048576?(Q.ZP.error(o.$t({id:"SJW82r",defaultMessage:"File size cannot exceed 1Mb"})),dl.default.LIST_IGNORE):"":(Q.ZP.error(o.$t({id:"HW/VI/",defaultMessage:"File format not supported"})),dl.default.LIST_IGNORE)},customRequest:async function(e){h(!0);try{const{url:t}=await hl.Z.uploadFile("avatar",e.file),{uid:n}=e.file;d((e=>({...e,[n]:t})))}catch{c.pop(),u(null!==c&&void 0!==c?c:[])}h(!1)},onRemove:function(e){d((t=>(delete t[e.uid],t)))},showUploadList:{showPreviewIcon:!1},children:c.length<6&&(0,ye.jsx)("div",{children:(0,ye.jsxs)(Y.Z,{children:[(0,ye.jsx)(cl.Z,{}),(0,ye.jsx)("div",{children:o.$t({id:"Ye0Clm",defaultMessage:"Attach"})})]})})})})]})})};function fl(e,t,n){const i=[{key:"doc",label:(0,ye.jsx)("a",{href:"zh-CN"===e.locale?sl.U8:sl.y2,target:"_blank",rel:"noreferrer",children:e.$t({id:"65XQJA",defaultMessage:"Help docs"})})},{key:"feedback",onClick:t,label:(0,ye.jsx)("div",{children:e.$t({id:"Ejhdi4",defaultMessage:"Feedback"})})},{key:"community",label:(0,ye.jsx)("a",{href:"zh-CN"===e.locale?sl.Ox:sl.NQ,target:"_blank",rel:"noreferrer",children:e.$t({id:"4CrCbD",defaultMessage:"Community"})})},{key:"support",label:(0,ye.jsx)("a",{href:sl.gL,target:"_blank",rel:"noreferrer",children:e.$t({id:"WnQ/AZ",defaultMessage:"Contact us"})})},{key:"changelog",label:(0,ye.jsx)("a",{href:"zh-CN"===e.locale?sl.R2:sl.zP,target:"_blank",rel:"noreferrer",children:e.$t({id:"MQcAql",defaultMessage:"Changelog"})})}];return n&&i.push({key:"guide",onClick:n,label:(0,ye.jsx)("div",{children:e.$t({id:"+Iah9Q",defaultMessage:"Quick guide"})})}),{items:i}}n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,(0,X.vU)({1:{id:"qcD0n+",defaultMessage:"Upload Data"},2:{id:"NH9cOd",defaultMessage:"Style Map Layers"},3:{id:"TJ5SXc",defaultMessage:"Add Data is Easier Than Ever"},4:{id:"GUFDL/",defaultMessage:"Share with Your Team"},5:{id:"XxkLjf",defaultMessage:"Empower Your Data"},6:{id:"IeBejt",defaultMessage:"Table"},7:{id:"hzSNj4",defaultMessage:"Dashboard"},8:{id:"lNRBFh",defaultMessage:"You are all set!"}}),(0,X.vU)({1:{id:"qo/icS",defaultMessage:"Convert your local files into map layers with a simple drag-and-drop. We support various formats, including csv, excel, GEOJson, GPX, and KML."},2:{id:"cXL/Rw",defaultMessage:"Dive into the details with color, stroke, size, height, and labels. Utilize our style options to effortlessly visualize and express your data."},3:{id:"Fbpt1D",defaultMessage:"Adding data makes easy \u2013 draw a point/line/polygon or search for a POI. It's that simple to enrich your maps."},4:{id:"dGwThQ",defaultMessage:"Options to share the entire project with your team or export it as an image."},5:{id:"UaSa0d",defaultMessage:"Equip your projects with specialized extensions designed for in-depth data analysis. Empower your data for more comprehensive insights."},6:{id:"Aaoo9k",defaultMessage:"Utilize tables to manage your data or collaborate seamlessly with your team. A centralized hub for efficient data handling."},7:{id:"0EzE93",defaultMessage:"The dashboard enables statistical analysis across various dimensions, helping you make informed decisions quickly."},8:{id:"3SOG7W",defaultMessage:"You're ready to get started on your own work. If you need more guidance, click HELP"}});const ml="map/setting_1",yl={icon:"helpControl_icon__OdDgb",active:"helpControl_active__7SwH+",control:"helpControl_control__-KDBS"};function wl(){const[e,t]=(0,i.useState)(!1),{isMobile:n}=(0,le.F)(),o=(0,a.Z)(),l=(0,At.bZ)(),r=(0,ne.I)(),s=(0,ne.v)((e=>{var t;return null===(t=e.workspace.workspace)||void 0===t||null===(t=t.detail.currentUser)||void 0===t||null===(t=t.featuresGuideConfig)||void 0===t?void 0:t.seenFeatures}));const d=fl(o,(function(){l.open()}),(function(){var e;r((0,rl.Nq)({featuresGuideConfig:{seenFeatures:null!==(e=null===s||void 0===s?void 0:s.filter((e=>e!==ml)))&&void 0!==e?e:[]}}))}));return(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(Kt.br,{name:"help",className:(0,P.default)(yl.control,{hide:n}),onClick:e=>t(e),persistentActive:e,icon:(0,ye.jsx)(U.Z,{type:"question",className:(0,P.default)(yl.icon,{[yl.active]:e})}),title:o.$t({id:"SENRqu",defaultMessage:"Help"}),children:(0,ye.jsx)(ll.Z,{...d})}),(0,ye.jsx)(gl,{dialog:l})]})}var bl=n(54864);const Cl=e=>{let{hasIconLayer:t,projectId:n,shareToken:o,sharingParams:a}=e;const l=(0,ne.I)();(0,i.useEffect)((()=>{t&&(o?null!==a&&void 0!==a&&a.type&&null!==a&&void 0!==a&&a.token&&l((0,bl.Gv)({sharingParams:a})).then((e=>{e.payload&&l({type:"icons/list",payload:e.payload.detail})})):l((0,bl.wu)({projectID:n})).then((e=>{e.payload&&l({type:"icons/list",payload:e.payload.detail})})))}),[t,n,o,a,l])};var xl=n(99661);const Il=[{name:"marker",icon:"annotationMarker"},{name:"freeline",icon:"annotationFreeline"},{name:"line",icon:"annotationLine",subTypes:["line"]},{name:"rectangle",icon:"annotationRectangle",subTypes:["polygon","circle"]},{name:"text",icon:"annotationText"},{name:"sticker",icon:"annotationSticker"}],jl=[{name:"polygon",icon:"annotationPolygon",subTypes:["polygon","circle"]},{name:"circle",icon:"annotationCircle",subTypes:["polygon","circle"]}],Ml=["#E55D3C","#FFD233","#5EC298","#33C6E1","#3384FF","#8476CD","#505F79","#ffffff"],kl=[2,6,10],Tl=[40,64,96],El={markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#3384FF",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14};var Pl=n(96650),Ol=n(82845),Sl=n(71331),_l=n(95475);function Nl(e){return e.ids.map((t=>{const n=e.entities[t];return{type:"Feature",id:null===n||void 0===n?void 0:n.id,geometry:null===n||void 0===n?void 0:n.geometry,properties:{...null===n||void 0===n?void 0:n.properties,...n}}}))}var Dl=n(10560);const Ll={panel:"annotation_panel__EHBT1",actions:"annotation_actions__VL6wv",action:"annotation_action__U4dQR",active:"annotation_active__32tWB",subType:"annotation_subType__KwB7m",toolbox:"annotation_toolbox__c+taA",colors:"annotation_colors__2HNj-",color:"annotation_color__j5EDa",activeWhite:"annotation_activeWhite__7WqNv",divide:"annotation_divide__K8g93",fontSize:"annotation_fontSize__p2HxD",actionButton:"annotation_actionButton__RFZBU",customInput:"annotation_customInput__Cr-se",close:"annotation_close__PWaK7",iconClose:"annotation_iconClose__qBCdo",editor:"annotation_editor__BA6PU",lineWidth:"annotation_lineWidth__QpEiE",width:"annotation_width__4UCVT",width_0:"annotation_width_0__89Su8",width_1:"annotation_width_1__6hf8K",width_2:"annotation_width_2__dXJYF",iconRemove:"annotation_iconRemove__Aj7F0",iconForward:"annotation_iconForward__YmQxp",notification:"annotation_notification__dr6RL"};function Al(e){const{color:t,onColorChange:n,onClose:o,enableLineWidth:l,lineWidth:r,onLineWidthChange:s,onDelete:d,annotationTypes:c,annotationType:u,onAnnotationChange:p,onZIndexChange:h,fontSize:v=Tl[0],enbaleFontSize:g,onFontSizeChange:f}=e,m=(0,a.Z)(),[y,w]=(0,i.useState)(!1),b=(0,i.useContext)(lo.z),C={[Tl[0]]:m.$t({id:"BPnT3T",defaultMessage:"Small"}),[Tl[1]]:m.$t({id:"ovJ26C",defaultMessage:"Medium"}),[Tl[2]]:m.$t({id:"/06iwc",defaultMessage:"Large"})},x={items:[{key:"top",label:m.$t({id:"iMy+or",defaultMessage:"Move to top"}),onClick:()=>null===h||void 0===h?void 0:h("top")},{key:"up",label:m.$t({id:"D1zEoA",defaultMessage:"Bring forward"}),onClick:()=>null===h||void 0===h?void 0:h("up")},{key:"down",label:m.$t({id:"QtBtqs",defaultMessage:"Send backward"}),onClick:()=>null===h||void 0===h?void 0:h("down")},{key:"bottom",label:m.$t({id:"HGKQHG",defaultMessage:"Move to bottom"}),onClick:()=>null===h||void 0===h?void 0:h("bottom")}]};function I(e){e&&(w(!1),null===f||void 0===f||f(e))}const j={selectedKeys:[Tl.includes(null!==v&&void 0!==v?v:0)?Ka()(v):"custom"],items:[{key:Tl[0],label:"".concat(m.$t({id:"BPnT3T",defaultMessage:"Small"})," (").concat(Tl[0],")"),onClick:()=>I(Tl[0])},{key:Tl[1],label:"".concat(m.$t({id:"ovJ26C",defaultMessage:"Medium"})," (").concat(Tl[1],")"),onClick:()=>I(Tl[1])},{key:Tl[2],label:"".concat(m.$t({id:"/06iwc",defaultMessage:"Large"})," (").concat(Tl[2],")"),onClick:()=>I(Tl[2])},{key:"custom",label:(0,ye.jsx)(Pi.default,{className:Ll.customInput,onBlur:e=>I(parseInt(e.target.value)),onPressEnter:e=>{I(parseInt(e.target.value))},placeholder:m.$t({id:"Sjo1P4",defaultMessage:"Custom"}),defaultValue:Tl.includes(null!==v&&void 0!==v?v:0)?"":v})}]};return(0,ye.jsxs)("div",{className:Ll.toolbox,children:[c&&(0,ye.jsxs)(ye.Fragment,{children:[k()(c,(e=>{const t=L()([...jl,...Il],(t=>!(!b.annotationSticker&&"sticker"===t.name)&&(!(!b.annotationText&&"text"===t.name)&&t.name===e)));return t?(0,ye.jsx)("div",{className:(0,P.default)(Ll.action,Ll.subType,{[Ll.active]:t.name===u}),onClick:()=>null===p||void 0===p?void 0:p(t.name),"aria-label":(0,Zn.Sk)(m,t.name),"data-balloon-pos":"up",children:(0,ye.jsx)(U.Z,{type:t.icon})},t.name):null})),(0,ye.jsx)("div",{className:Ll.divide})]}),(0,ye.jsxs)("div",{className:Ll.colors,children:[Ml.map((e=>(0,ye.jsx)("div",{className:(0,P.default)(Ll.color,{[Ll.active]:e===t,[Ll.activeWhite]:e===t&&"#ffffff"===e}),style:{background:e,border:"#ffffff"===e?"1px solid #C1C7D0":"none"},onClick:()=>n(e)},e))),l&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("div",{className:Ll.divide}),(0,ye.jsx)("div",{className:Ll.lineWidth,children:kl.map(((e,t)=>(0,ye.jsx)("div",{className:(0,P.default)(Ll.width,Ll["width_".concat(t)],{[Ll.active]:e===r}),onClick:()=>s&&s(e)},e)))})]})]}),f&&g&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("div",{className:Ll.divide}),(0,ye.jsx)(Dl.Z,{menu:j,trigger:["click"],open:y,onOpenChange:function(e){w(e)},children:(0,ye.jsx)("span",{className:(0,P.default)(Ll.actionButton,Ll.fontSize),children:Tl.includes(v)?Me()(C,v,""):"".concat(m.$t({id:"Sjo1P4",defaultMessage:"Custom"}),"(").concat(v,")")})})]}),h&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("div",{className:Ll.divide}),(0,ye.jsx)(Dl.Z,{menu:x,trigger:["click"],children:(0,ye.jsx)("span",{className:Ll.actionButton,children:(0,ye.jsx)(U.Z,{type:"annotationForward",className:Ll.iconForward})})})]}),d&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)("div",{className:Ll.divide}),(0,ye.jsx)(U.Z,{type:"recycleBin",className:Ll.iconRemove,onClick:d})]}),(0,ye.jsx)("div",{className:Ll.divide}),(0,ye.jsx)("span",{className:Ll.close,children:(0,ye.jsx)(U.Z,{type:"close",className:Ll.iconClose,onClick:o})})]})}function Rl(e){return"freeline"===e||"line"===e}function Zl(e){var t,n,o;const{projectId:r,enableEdit:s,shareType:c,shareToken:u,editableAnnotation:p}=e,h=(0,a.Z)(),[v,g]=(0,i.useState)(xl.DM[0]),[f,m]=(0,i.useState)(null),[y,w]=(0,i.useState)(xl.v[0]),[b,C]=(0,i.useState)(xl.Kt[1]),[x,I]=(0,i.useState)(!1),j=(0,ne.v)((e=>e.user.sharedUser)),{map:M}=(0,Be.fx)(),k=(0,i.useMemo)((()=>u&&c?{token:u,type:c,userToken:null===j||void 0===j?void 0:j.token}:{}),[u,c,null===j||void 0===j?void 0:j.token]),T=(0,i.useCallback)((e=>{!d()(Bt().get(Vt.tZ))||"line"!==e&&"polygon"!==e||(I(!0),Bt().set(Vt.tZ,!0),setTimeout((()=>{I(!1)}),2e3))}),[]),{annotation:E,isEditing:O,editingAnnotation:S,stopEdit:_,setIsEditing:N,isSelecting:D,setIsSelecting:L}=function(e){const{projectId:t,sharingParams:n,shareToken:o,map:a,mode:r,onDrawStart:s,editable:d=!0}=e,c=(0,ne.I)(),[u,p]=(0,i.useState)(),[h,v]=(0,i.useState)(!1),[g,f]=(0,i.useState)(!1),m=(0,ne.v)((e=>e.annotation.annotations)),y=(0,ne.v)((e=>{var n,i,o;return null!==(n=null!==(i=e.map.baseMap)&&void 0!==i?i:null===(o=tt.Hx.selectById(e,t))||void 0===o?void 0:o.mapConfig.baseMap)&&void 0!==n?n:Qt.nn.AmapLight})),w=(0,i.useRef)(y),[b,C]=(0,i.useState)();(0,l.ZP)(t&&!o?"annotation":null,(()=>(c(Sl.N.setProjectId(t)),c((0,_l.fy)(t))))),(0,l.ZP)(null!==n&&void 0!==n&&n.type&&n.token?["getSharingAnnotations",n]:null,(e=>{let[n,i]=e;c(Sl.N.setProjectId(t)),c((0,hn.pJ)({sharingParams:i}))})),(0,i.useEffect)((()=>{u&&u.toggleEnableEdit(g&&d)}),[g,u,d]),(0,i.useEffect)((()=>{if(!u&&t&&a){const e=new Ol.q({baseMapStyle:y,mode:r,data:Nl(m),onCreate:async e=>{const n={...e,projectID:t,id:Ka()((new Date).getTime())};c(Sl.N.create(n)),c((0,_l.Bh)({projectId:t,annotation:n})),v(!1)},onUpdate:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c((0,_l._E)({projectId:t,annotation:e})),C(e),v(n)},onDelete:e=>{c((0,_l.Dl)({projectId:t,annotationId:e})),v(!1)},onEdit:e=>{v(!0),C(e)},onEditEnd:()=>{v(!1)},onDrawEnd:()=>{v(!1)},onDrawStart(e){null===s||void 0===s||s(e)}});null===a||void 0===a||a.setAnnotation(e),p(e)}}),[u,c,t,r,y,s,a,m]),(0,Pl.Z)((()=>{a&&null!==u&&void 0!==u&&u.isAttached&&u.setGeometries(Nl(m))}),[m,a]),(0,i.useEffect)((()=>{w.current!==y&&null!==u&&void 0!==u&&u.isAttached&&(u.updateBaseMapStyle(y),w.current=y,u.setGeometries(Nl(m)))}),[m,y,u]),(0,i.useEffect)((()=>()=>{null===u||void 0===u||u.destroy()}),[u]);const x=(0,i.useCallback)((()=>{null===u||void 0===u||u.stopEdit(),v(!1)}),[u]);return{annotation:u,isEditing:h,setIsEditing:v,annotations:m,editingAnnotation:b,stopEdit:x,isSelecting:g,setIsSelecting:f}}({map:M,mode:f,projectId:r,shareToken:u,sharingParams:k,onDrawStart:T,editable:p}),[A,R]=(0,i.useState)(!1),Z=(0,ne.v)((e=>e.map.editor)),F=(0,ne.v)((e=>e.map.annotationStatus)),z=(0,i.useContext)(lo.z),B=(0,i.useMemo)((()=>Il.filter((e=>!(!z.annotationSticker&&"sticker"===e.name)&&!(!z.annotationText&&"text"===e.name)))),[z.annotationSticker,z.annotationText]);function V(e){if(e===f)m(null),null===E||void 0===E||E.stopDraw();else{var t;_();const n=null===(t=B.find((t=>t.name===e)))||void 0===t?void 0:t.subTypes,i=void 0!==jl.find((t=>t.name===e));let o=e;n&&!i&&(o=n[0]),m(o),null===E||void 0===E||E.startDraw(o,{color:v})}L(!1)}function H(e){null===E||void 0===E||E.updateEditingGeometry(e),e.color&&g(e.color),e.lineWidth&&w(e.lineWidth),e.fontSize&&C(e.fontSize)}return(0,i.useEffect)((()=>{F.selected&&!Z.isOpen?R(!0):(R(!1),_(),m(null),null===E||void 0===E||E.stopDraw(),L(!1))}),[E,F.selected,Z.isOpen,_,L]),(0,lt.y1)("esc",(()=>{O?(_(),L(!0)):(m(null),null===E||void 0===E||E.stopDraw()),L(!D)}),[O,D,E]),(0,lt.y1)("Backspace",(()=>{O&&E&&(null===E||void 0===E||E.deleteEditingGeometry(),N(!1))}),[O,E]),(0,i.useEffect)((()=>{L(A)}),[A,L]),(0,ye.jsxs)(ye.Fragment,{children:[x&&(0,ye.jsx)("div",{className:Ll.notification,children:h.$t({id:"1e+h5F",defaultMessage:"Double-click to end drawing"})}),O&&(0,ye.jsx)("div",{className:Ll.editor,children:(0,ye.jsx)(Al,{color:null!==(t=null===S||void 0===S?void 0:S.properties.color)&&void 0!==t?t:v,onColorChange:e=>H({color:e}),onClose:_,onDelete:function(){null===E||void 0===E||E.deleteEditingGeometry(),N(!1)},onZIndexChange:function(e){null===E||void 0===E||E.setEditingGeometryZIndex(e)},annotationType:null===S||void 0===S?void 0:S.properties.type,zoomLevel:null===S||void 0===S?void 0:S.properties.zoomLevel,enbaleFontSize:"text"===(null===S||void 0===S?void 0:S.properties.type),enableLineWidth:Rl(null===S||void 0===S?void 0:S.properties.type),lineWidth:null===S||void 0===S?void 0:S.properties.lineWidth,fontSize:null!==(n=null===S||void 0===S?void 0:S.properties.fontSize)&&void 0!==n?n:b,onLineWidthChange:e=>H({lineWidth:e}),onFontSizeChange:e=>H({fontSize:e})})}),(0,ye.jsx)("div",{className:(0,P.default)(Ll.panel,{hide:!A||c||!s||!p}),children:(0,ye.jsx)(ai.Z,{content:(0,ye.jsx)(Al,{color:v,onColorChange:function(e){g(e),null===E||void 0===E||E.startDraw(f,{color:e})},onClose:function(){m(null),null===E||void 0===E||E.stopDraw(),L(!0)},enableLineWidth:Rl(f),enbaleFontSize:"text"===f,onFontSizeChange:function(e){C(e),null===E||void 0===E||E.startDraw(f,{fontSize:e})},fontSize:b,lineWidth:y,onLineWidthChange:function(e){w(e),null===E||void 0===E||E.startDraw(f,{lineWidth:e})},annotationType:f,annotationTypes:null===(o=[...B,...jl].find((e=>e.name===f)))||void 0===o?void 0:o.subTypes,onAnnotationChange:V}),open:!!f&&!O,getPopupContainer:e=>{var t;return null!==(t=e.parentElement)&&void 0!==t?t:document.body},children:(0,ye.jsxs)("div",{className:Ll.actions,children:[(0,ye.jsx)("div",{className:(0,P.default)(Ll.action,{[Ll.active]:D}),"aria-label":h.$t({id:"kQAf2d",defaultMessage:"Select"}),"data-balloon-pos":"up",onClick:function(){L(!D),O?_():(m(null),null===E||void 0===E||E.stopDraw())},children:(0,ye.jsx)(U.Z,{type:"cursor"})}),B.map((e=>(0,ye.jsx)("div",{className:(0,P.default)(Ll.action,{[Ll.active]:e.name===f}),onClick:()=>V(e.name),"aria-label":(0,Zn.Sk)(h,e.name),"data-balloon-pos":"up",children:(0,ye.jsx)(U.Z,{type:e.icon})},e.name)))]})})})]})}var Fl=n(13484);const zl={resetButton:"fieldSettingModal_resetButton__URMBs",movableItem:"fieldSettingModal_movableItem__m77Og",columnIcon:"fieldSettingModal_columnIcon__Aib0Q",columnName:"fieldSettingModal_columnName__MOKh-",handle:"fieldSettingModal_handle__e+c78",hidden:"fieldSettingModal_hidden__vFqwT",switch:"fieldSettingModal_switch__d3bxO",switchText:"fieldSettingModal_switchText__8LuJu",fieldList:"fieldSettingModal_fieldList__FAX0I",tabs:"fieldSettingModal_tabs__rN4LJ",tab:"fieldSettingModal_tab__H9jPa",tabsLabel:"fieldSettingModal_tabsLabel__C4vSZ",tabButton:"fieldSettingModal_tabButton__YYLu+",selectedButton:"fieldSettingModal_selectedButton__ExyC1",buttonText:"fieldSettingModal_buttonText__QaMDQ",caretIcon:"fieldSettingModal_caretIcon__dOax+",plusButton:"fieldSettingModal_plusButton__JC1H8",iconOnly:"fieldSettingModal_iconOnly__zhrgT",tabInput:"fieldSettingModal_tabInput__6EfNe",notification:"fieldSettingModal_notification__y47dM",layoutLabel:"fieldSettingModal_layoutLabel__NxKN9",form:"fieldSettingModal_form__eULEb",divider:"fieldSettingModal_divider__QpHO0"},Bl=e=>{let{isDisabled:t,columns:n,visibleIdsSorted:o,onColumnsUpdate:l,columnNameClassName:r,maxVisibleCount:s}=e;const{movableColumns:d,handleMove:c,handleSwitchVisibility:u}=fe(n,o,s),p=(0,a.Z)();return(0,i.useEffect)((()=>{const e=R()(d,(e=>!e.isHidden)).map((e=>e.id));!it()(e,o)&&null!==e&&void 0!==e&&e.length&&(null===l||void 0===l||l(e))}),[d,o,l]),(0,ye.jsx)("div",{className:zl.fieldList,children:(0,ye.jsx)(ce.aV,{lockVertically:!0,values:d,onChange:c,renderList:e=>{let{children:t,props:n}=e;return(0,ye.jsx)("div",{...n,children:t})},renderItem:e=>{var i,o;let{value:a,props:l}=e;return(0,ye.jsxs)("div",{...l,className:(0,P.default)(zl.movableItem,a.isHidden&&zl.hidden),role:"listitem",children:[(0,ye.jsx)(K.ZP,{className:zl.handle,type:"text",size:"small","data-movable-handle":!0,icon:(0,ye.jsx)(U.Z,{type:"movable",className:zl.icon}),disabled:t}),(0,ye.jsx)(U.Z,{type:(null===n||void 0===n||null===(i=n.find((e=>e.id===a.id)))||void 0===i?void 0:i.type)||"multiLineText",className:zl.columnIcon}),(0,ye.jsx)("div",{className:(0,P.default)(zl.columnName,r),children:null===n||void 0===n||null===(o=n.find((e=>e.id===a.id)))||void 0===o?void 0:o.name}),(0,ye.jsx)(de.Z,{className:zl.switch,size:"small",checked:!a.isHidden,onChange:()=>u(a),disabled:t}),(0,ye.jsx)("div",{className:zl.switchText,children:a.isHidden?p.$t({id:"VA/Z1S",defaultMessage:"Hide"}):p.$t({id:"K7AkdL",defaultMessage:"Show"})})]})}})})},Vl=10,Hl=[{value:"clickBtn",msg:(0,X.Em)({id:"cY7cXz",defaultMessage:"Click close button"})},{value:"clickOtherPOI",msg:(0,X.Em)({id:"G4dL90",defaultMessage:"Click other POIs"})},{value:"clickBlankSpace",msg:(0,X.Em)({id:"A/RzDx",defaultMessage:"Click blank space"})}],Wl=[{value:"horizontal",msg:(0,X.Em)({id:"map.sort.table",defaultMessage:[]}),icon:(0,ye.jsx)(U.Z,{type:"sortTable"})},{value:"vertical",msg:(0,X.Em)({id:"map.sort.list",defaultMessage:[]}),icon:(0,ye.jsx)(U.Z,{type:"sortList"})}],Ul=e=>{var t,n,o,l;let{tableNodeId:r,dialog:s,poi:d}=e;const{projectId:c}=(0,Tn.F)(),u=(0,ne.I)(),{isMobile:p}=(0,le.F)(),h=(0,a.Z)(),v=(0,ne.v)((e=>(0,te.Y)(e,c))).find((e=>e.id===(null===d||void 0===d?void 0:d.layerID))),g=!(null===d||void 0===d||null===(t=d.vtInfo)||void 0===t||!t.publicLayer),f="h3t"===(null===d||void 0===d?void 0:d.layerType),m=(0,ne.v)((e=>oe.TW.selectById(e,r))),y=(0,i.useMemo)((()=>{var e,t,n,i,o;return f?[Fl.A,...null!==(e=null===d||void 0===d||null===(t=d.vtInfo)||void 0===t?void 0:t.columns)&&void 0!==e?e:[]]:null!==d&&void 0!==d&&null!==(n=d.vtInfo)&&void 0!==n&&n.columns?null===d||void 0===d||null===(i=d.vtInfo)||void 0===i?void 0:i.columns:(0,Ke.bs)(null===m||void 0===m?void 0:m.columns,null===m||void 0===m?void 0:m.views,null===v||void 0===v||null===(o=v.mapInfo)||void 0===o?void 0:o.viewID)}),[f,null===d||void 0===d||null===(n=d.vtInfo)||void 0===n?void 0:n.columns,null===v||void 0===v||null===(o=v.mapInfo)||void 0===o?void 0:o.viewID,null===m||void 0===m?void 0:m.columns,null===m||void 0===m?void 0:m.views]),[w]=J.Z.useForm(),b=(0,ne.v)((e=>{var t,n;if(g)return null===d||void 0===d||null===(t=d.vtInfo)||void 0===t?void 0:t.infoWindowConfig;const i=tt.Hx.selectById(e,c);return null===i||void 0===i||null===(n=i.tableNodes)||void 0===n||null===(n=n.find((e=>e.id===r)))||void 0===n?void 0:n.infoWindowConfig})),C=f?null===b||void 0===b||null===(l=b.h3TileColumns)||void 0===l?void 0:l[d.layerID]:null===b||void 0===b?void 0:b.columnIDs,x=(0,i.useMemo)((()=>({closeWay:(null===b||void 0===b?void 0:b.closeWay)||"clickBtn",coverImage:(null===b||void 0===b?void 0:b.coverImage)||"null",layout:(null===b||void 0===b?void 0:b.layout)||"horizontal"})),[b]),I=(0,i.useMemo)((()=>R()(y,(e=>"attachment"===e.type||(0,ae.Q4)(e)))),[y]),[j,M]=(0,i.useState)([]),k=(0,i.useCallback)((e=>{it()(e,j)||M(e)}),[j,M]),[T,E]=(0,i.useState)(null);const P=!!T;return(0,ye.jsxs)(ie.Vq,{destroyOnHidden:!0,title:h.$t({id:"L+ZBoI",defaultMessage:"Configure info window content"}),visible:s.visible,onCancel:s.close,okText:h.$t({id:"jvo0vs",defaultMessage:"Save"}),onOk:async function(){var e,t;const n=await w.validateFields(),i={...null===b||void 0===b?void 0:b.h3TileColumns};f&&null!==d&&void 0!==d&&d.layerID&&(i[null===d||void 0===d?void 0:d.layerID]=j);const o=f?null!==(e=null!==(t=null===b||void 0===b?void 0:b.columnIDs)&&void 0!==t?t:S()(null===y||void 0===y?void 0:y.map((e=>e.id)),Vl))&&void 0!==e?e:[]:j;try{E("submitting");const e={columnIDs:o,closeWay:n.closeWay,layout:n.layout,coverImage:"null"===n.coverImage?null:n.coverImage,h3TileColumns:i};g?await u((0,On.Vx)({id:d.layerID,projectID:c,infoWindowConfig:e})):await u((0,qe.tu)({id:r,tableNode:{projectID:c,infoWindowConfig:e}}))}finally{E(null)}Q.ZP.success(h.$t({id:"AdgQ3V",defaultMessage:"Saved successfully"})),s.close()},cancelButtonProps:{disabled:P},okButtonProps:{disabled:P,loading:"submitting"===T},footerAddon:(0,ye.jsx)(K.ZP,{type:"link",className:zl.resetButton,onClick:async function(){try{E("resetting");const e={columnIDs:[],closeWay:"clickBtn",coverImage:null,layout:"horizontal"};g?await u((0,On.Vx)({id:d.layerID,projectID:c,infoWindowConfig:e})):await u((0,qe.tu)({id:r,tableNode:{projectID:c,infoWindowConfig:e}}))}finally{E(null)}Q.ZP.success(h.$t({id:"Lz0FRE",defaultMessage:"Default config restored"}))},loading:"resetting"===T,disabled:P,children:h.$t({id:"w+7O+F",defaultMessage:"Default config"})}),children:[(0,ye.jsxs)("div",{className:zl.notification,children:[h.$t({id:"MqJIVL",defaultMessage:"You can adjust the display fields on the info window, and support up to {count} fields. The first field is title."},{count:Vl}),(0,ye.jsx)("b",{children:h.$t({id:"LxhrV3",defaultMessage:"The config will take effect on all POI info windows in the project."})})]}),(0,ye.jsxs)(J.Z,{colon:!1,labelAlign:"left",labelCol:{span:8},requiredMark:!1,form:w,initialValues:x,disabled:P,className:zl.form,children:[(0,ye.jsx)(J.Z.Item,{name:"closeWay",label:h.$t({id:"rx4K7I",defaultMessage:"Window closing"}),hidden:p,children:(0,ye.jsx)(ie.Ph,{placeholder:h.$t({id:"kQAf2d",defaultMessage:"Select"}),options:Hl.map((e=>({value:e.value,label:h.$t(e.msg)}))),"data-testid":"dismiss-type"})}),(0,ye.jsx)(J.Z.Item,{name:"coverImage",label:h.$t({id:"TilRBW",defaultMessage:"Cover image"}),children:(0,ye.jsx)(ee.Z,{placeholder:h.$t({id:"kQAf2d",defaultMessage:"Select"}),options:I,defaultOptions:[{id:"null",name:h.$t({id:"OxgxSh",defaultMessage:"None (show text only)"})}]})}),(0,ye.jsx)(J.Z.Item,{name:"layout",label:h.$t({id:"RQ4EKT",defaultMessage:"Layout"}),children:(0,ye.jsx)(ie.Ph,{placeholder:h.$t({id:"kQAf2d",defaultMessage:"Select"}),options:Wl.map((e=>({value:e.value,label:(0,ye.jsxs)(Y.Z,{size:8,align:"center",className:zl.layoutLabel,children:[e.icon,h.$t(e.msg)]})}))),"data-testid":"layout-type"})})]}),(0,ye.jsx)(B.Z,{className:zl.divider}),y&&(0,ye.jsx)(Bl,{isDisabled:P,columns:y,visibleIdsSorted:C,onColumnsUpdate:k,maxVisibleCount:Vl})]})};var Gl=n(16108);function ql(e){let{id:t,role:n,type:i,children:o,unauthorizedContent:a,hasPermission:l=!1}=e;const{checkPermission:r}=(0,Pn.q)(),s=l||r(t,n,i);return(0,ye.jsx)(ye.Fragment,{children:s?o:a})}const $l=e=>{const{forceRender:t,...n}=e;return t?e.children:(0,ye.jsx)(ql,{...n})},Jl=e=>{let{id:t,...n}=e;const{tableNodeId:i}=(0,Tn.F)();return(0,ye.jsx)($l,{...n,id:null!==t&&void 0!==t?t:i,type:Gl.d.table})};var Ql=n(20491),Kl=n(40522);const Yl={infoWindow:"infoWindow_infoWindow__SNN+Y",imageInfoWindow:"infoWindow_imageInfoWindow__97YQN",dragArea:"infoWindow_dragArea__yoSJG",header:"infoWindow_header__LxXx3",carousel:"infoWindow_carousel__+6rUi",leftArrow:"infoWindow_leftArrow__Lc2AE",rightArrow:"infoWindow_rightArrow__B2ZKa",imageWrap:"infoWindow_imageWrap__x2bhJ",loading:"infoWindow_loading__cLrV0",noImage:"infoWindow_noImage__pzm3k",noImageHeader:"infoWindow_noImageHeader__6xwb1",noImageIcon:"infoWindow_noImageIcon__rhG+p",title:"infoWindow_title__OjlXZ",rightIcon:"infoWindow_rightIcon__wjbFJ",navigateIcon:"infoWindow_navigateIcon__MYXKZ",actions:"infoWindow_actions__3ksT7",navigate:"infoWindow_navigate__YU+Np",content:"infoWindow_content__Qy628",verticalList:"infoWindow_verticalList__7d8EL",label:"infoWindow_label__Nl-Yi",vertical:"infoWindow_vertical__MuL6H",item:"infoWindow_item__KqVyO",horizontalDivider:"infoWindow_horizontalDivider__DE97I",text:"infoWindow_text__FduTR",select:"infoWindow_select__SX8jT",checkbox:"infoWindow_checkbox__9Z38v",footer:"infoWindow_footer__q4wz7",footerItem:"infoWindow_footerItem__uF31B",icon:"infoWindow_icon__D+APT",detail:"infoWindow_detail__fIJRJ",close:"infoWindow_close__93SOm",anchor:"infoWindow_anchor__eNwIC",coordinate:"infoWindow_coordinate__QsajX",formula:"infoWindow_formula__AxGjZ",overlap:"infoWindow_overlap__dRut8",setting:"infoWindow_setting__wLMCN",pagination:"infoWindow_pagination__oyguf",thumbnail:"infoWindow_thumbnail__-05aN",button:"infoWindow_button__T8+ML"},Xl=e=>{let{currentSlide:t,direction:n,slideCount:i,...o}=e;return"left"===n?(0,ye.jsx)(U.Z,{type:"arrowLeft3",...o,className:Yl.leftArrow}):(0,ye.jsx)(U.Z,{type:"arrowRight3",...o,className:Yl.rightArrow})},er=e=>{let{className:t,images:n}=e;const[a,l]=(0,i.useState)([]),[r,s]=(0,i.useState)(!1),{userToken:d}=(0,$e.UP)(),{shareToken:c,shareType:u}=(0,Tn.F)();return(0,i.useEffect)((()=>{!async function(){for(const e of n){if(a.find((t=>t.fileID===e.fileID)))return;s(!0);const t=await hl.Z.getSignedUrlForDownload(e.url,{token:c,type:u,userToken:d});l((n=>Dt()([...n,{...e,url:t.detail}],"fileID"))),e===n[n.length-1]&&s(!1)}}()}),[n,c,u,a,d]),(0,ye.jsx)(kt.Z,{arrows:!0,autoplay:!1,className:(0,P.default)(Yl.carousel,t),dots:{className:Yl.dots},nextArrow:(0,ye.jsx)(Xl,{direction:"right"}),prevArrow:(0,ye.jsx)(Xl,{direction:"left"}),children:a.length?a.map((e=>(0,ye.jsx)("div",{className:Yl.imageWrap,children:(0,ye.jsx)("img",{draggable:!1,src:e.url,alt:e.fileName})},e.fileID))):(0,ye.jsxs)("div",{className:Yl.noImage,children:[(0,ye.jsx)("div",{className:Yl.noImageHeader}),(0,ye.jsx)("div",{className:Yl.noImageIcon,children:r?(0,ye.jsx)(o.Z,{}):(0,ye.jsx)(U.Z,{type:"noImage",style:{color:"#505F79"}})})]})})};function tr(e){return"attachment"===e.type?2:"coordinate"===e.type?1e3:14}const nr=function(e){var t,n,o,l,r,s;const{projectId:c,mapId:u,enableSetting:p,enableEditCoordinate:h,enableOpenDetailPanel:v,enableProximityAnalysis:g,isSharedMap:f,onOpenSetting:m,onOpenEditor:y,onClose:w}=e,b=(0,ne.I)(),C=(0,a.Z)(),{openEditor:x}=pt(),I=(0,Oe.tq)(),{bounds:j,updateBounds:M}=Ct(),[k,T]=(0,i.useState)(!1),{tableNodes:O,timezone:_}=(0,ne.v)((e=>tt.Hx.selectById(e,c)))||{},N=(0,ne.v)((e=>(0,te.Y)(e,c))),D=e.poi,[L,A]=(0,i.useState)(e.poi),R=N.find((e=>e.id===(null===L||void 0===L?void 0:L.layerID))),Z=(0,ne.v)((e=>e.project.mapSiderVisible)),V=!(null===L||void 0===L||null===(t=L.vtInfo)||void 0===t||!t.publicLayer),$=(0,i.useMemo)((()=>{var e,t;return V?null===R||void 0===R||null===(e=R.vtInfo)||void 0===e?void 0:e.infoWindowConfig:null===O||void 0===O||null===(t=O.find((e=>e.id===(null===L||void 0===L?void 0:L.tableNodeID))))||void 0===t?void 0:t.infoWindowConfig}),[O,null===L||void 0===L?void 0:L.tableNodeID,V,null===R||void 0===R||null===(n=R.vtInfo)||void 0===n?void 0:n.infoWindowConfig]),[J,Q]=(0,i.useState)(!1),K=(0,i.useMemo)((()=>{var e,t;return null!==(e=null===(t=document.getElementById(null!==u&&void 0!==u?u:"map"))||void 0===t?void 0:t.parentElement)&&void 0!==e?e:document.body}),[u]),Y=(null===(o=D.list)||void 0===o?void 0:o.length)&&D.list.length>1,X="region"===(null===R||void 0===R||null===(l=R.mapInfo)||void 0===l?void 0:l.layerType),ee=(0,i.useMemo)((()=>{var e;return X?null===L||void 0===L||null===(e=L.rowIds)||void 0===e?void 0:e.map((e=>({layerID:L.layerID,rowID:e}))):D.list}),[X,D.list,L.layerID,null===L||void 0===L?void 0:L.rowIds]),ie=(0,i.useCallback)((()=>{"clickBlankSpace"===(null===$||void 0===$?void 0:$.closeWay)&&b(Re.Nw.remove(D.id))}),[null===$||void 0===$?void 0:$.closeWay,D.id,b]),{windowRef:oe,cells:le,adjustIndicator:re}=Xe({poi:L,originalPoi:D,projectId:c,indicator:I?"marker":"line",onClickMap:ie}),se=(0,i.useMemo)((()=>{var e,t;if("h3t"===(null===L||void 0===L?void 0:L.layerType))return null!==$&&void 0!==$&&null!==(e=$.h3TileColumns)&&void 0!==e&&e[null===L||void 0===L?void 0:L.layerID]?S()(null===(t=$.h3TileColumns)||void 0===t?void 0:t[null===L||void 0===L?void 0:L.layerID],Vl).map((e=>null===le||void 0===le?void 0:le.find((t=>t.id===e)))):S()(le,Vl);const n=(null===$||void 0===$?void 0:$.columnIDs)||[];return n.length?S()(n,Vl).map((e=>null===le||void 0===le?void 0:le.find((t=>t.id===e)))):S()(le,Vl)}),[le,$,null===L||void 0===L?void 0:L.layerID,null===L||void 0===L?void 0:L.layerType]),de=null===L||void 0===L?void 0:L.layerID,ce=null===se||void 0===se?void 0:se[0],ue=(0,ne.v)((e=>e.project.members)),pe=X?Me()(L,"display_name",null!==L&&void 0!==L&&L.name||"zh-CN"===C.locale?Me()(L,"name_zh"):Me()(L,"name_en")):null!==(r=ce?(0,ae.c8)(ce.value,ce,ue,_,!1):L.name)&&void 0!==r?r:L.id,he=null===$||void 0===$?void 0:$.coverImage,ve=!d()(he),ge=(0,i.useMemo)((()=>{var e;if(!he||!le)return[];return((null===(e=le.find((e=>e.id===he)))||void 0===e?void 0:e.value)||[]).filter((e=>F()(e.fileType,"image")||(0,Kl.Pl)(e.fileExt)))}),[he,le]),fe=(0,i.useCallback)((()=>{X?Q(!0):b(et.Nw.updatePoiDetail({visible:!0,id:L.id,poi:L,title:pe,rowId:null===L||void 0===L?void 0:L.rowID,tableNodeId:null===L||void 0===L?void 0:L.tableNodeID,labelFieldId:null===L||void 0===L?void 0:L.labelFieldID,layerNodeId:de})),b(et.Nw.updatePoiDetail({newCreated:!1}))}),[b,de,L,pe,X]),me=(0,i.useCallback)((e=>{e===L.id&&fe()}),[L,fe]),we=(0,i.useMemo)((()=>{var e,t;if(I)return;const n=null!==(e=L.position.left)&&void 0!==e?e:100,i=null!==(t=L.position.top)&&void 0!==t?t:100;return{x:0===n&&Z?250:n,y:0===i?50:i}}),[L.position.left,L.position.top,Z,I]),be=(0,i.useMemo)((()=>"en-US"===C.locale),[C]),Ce=(0,i.useMemo)((()=>("Point"===L.geometry.type||"Polygon"===L.geometry.type)&&"zh-CN"===C.locale),[L.geometry,C.locale]),xe=(0,i.useMemo)((()=>{if("Point"===L.geometry.type)return L.geometry.coordinates;if("Polygon"===L.geometry.type){const e=H.yu(L.geometry.coordinates);return(0,W.Z)(e).geometry.coordinates}return[]}),[L.geometry]),je=(0,i.useMemo)((()=>{if(L.tooltip)return L.tooltip.split("\n").map(((e,t)=>{const[n,i]=e.split(":"),o="Count"===n?C.$t({id:"Aujn2T",defaultMessage:"Count"}):n;return(0,ye.jsxs)(z.Z,{justify:"space-between",className:Yl.regionLayerItem,children:[(0,ye.jsxs)("span",{children:[o,":"]}),(0,ye.jsx)("span",{children:i})]},t)}));var e;if(null===R||void 0===R||null===(e=R.mapInfo)||void 0===e?void 0:e.regionDimensionFieldID)return(0,ye.jsxs)(z.Z,{justify:"space-between",className:Yl.regionLayerItem,children:[(0,ye.jsxs)("span",{children:[C.$t({id:"TXlHZX",defaultMessage:"Match results"}),":"]}),(0,ye.jsx)("span",{children:"0"})]})}),[L.tooltip,C,null===R||void 0===R||null===(s=R.mapInfo)||void 0===s?void 0:s.regionDimensionFieldID]);(0,i.useEffect)((()=>(xt.ky.on(me),()=>xt.ky.off(me)))),(0,i.useEffect)((()=>{A(D)}),[D]);const Te=(0,i.useCallback)((e=>{var t;const n=null===(t=D.list)||void 0===t?void 0:t[e-1];n&&(A(n),setTimeout((()=>{re()}),100))}),[D.list,re]),Ee=()=>{T(!0)};return(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(E(),{bounds:j,handle:ve?".handle":".dragArea",onStart:(e,t)=>{M("#".concat(null!==u&&void 0!==u?u:"map"),t,oe.current)},onDrag:()=>{re()},onStop:()=>{if(!oe.current)return;const e=(0,Ze._A)(oe.current),t={...L,top:e.top,left:e.left};b(Re.Nw.updatePoi(t))},defaultPosition:we,nodeRef:oe,disabled:I,children:(0,ye.jsxs)("div",{ref:oe,className:(0,P.default)(ve?Yl.imageInfoWindow:Yl.infoWindow),"data-testid":"mapInfoWindow",style:{zIndex:L.order},children:[Y?(0,ye.jsx)(ir,{isShowImageMode:ve,poi:D,onChange:Te,onOpenQuickView:()=>Q(!0)}):null,!ve&&(0,ye.jsx)("div",{className:(0,P.default)(Yl.dragArea,"dragArea")}),(0,ye.jsxs)("div",{className:Yl.header,children:[ve?(0,ye.jsx)(er,{images:ge,className:"handle"}):(0,ye.jsx)("div",{className:(0,P.default)(Yl.title,"handle"),title:pe,onClick:I&&v?fe:void 0,children:pe}),(0,ye.jsxs)("div",{className:(0,P.default)(Yl.actions,{[Yl.overlap]:Y}),children:[p&&!I&&!X&&(0,ye.jsxs)(Jl,{hasPermission:V&&!f,id:null===L||void 0===L?void 0:L.tableNodeID,role:Ql.ST.InfoWindowConfig,children:[(0,ye.jsx)(U.Z,{type:"setting",className:Yl.setting,onClick:()=>m(null===L||void 0===L?void 0:L.tableNodeID,L)}),(0,ye.jsx)(yt,{light:!ve,mh10:!0})]}),I&&!ve&&Ce&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(U.Z,{type:"navigate",className:Yl.navigate,onClick:Ee}),(0,ye.jsx)(yt,{light:!ve,mh10:!0})]}),(0,ye.jsx)(U.Z,{type:"close",className:Yl.close,onClick:e=>{null===e||void 0===e||e.stopPropagation(),b(Re.Nw.remove(D.id)),null===w||void 0===w||w(D)}})]})]}),(0,ye.jsxs)("div",{className:Yl.content,role:"list",children:[ve?(0,ye.jsxs)("div",{className:Yl.title,title:pe,children:[(0,ye.jsx)("span",{onClick:I&&v?fe:void 0,children:pe}),Ce&&(0,ye.jsx)(U.Z,{className:Yl.navigateIcon,type:"navigate",onClick:Ee})]}):null,null===se||void 0===se?void 0:se.map(((e,t)=>e&&t>0&&(0,ye.jsxs)(i.Fragment,{children:[(0,ye.jsxs)("div",{className:(0,P.default)(Yl.item,{[Yl.verticalList]:"vertical"===(null===$||void 0===$?void 0:$.layout)}),role:"listitem",children:[(0,ye.jsx)("div",{className:Yl.label,children:e.name}),(0,ye.jsx)(ke.Z,{className:(0,P.default)(Yl.text,{[Yl.select]:"singleChoice"===e.type||"multiChoice"===e.type,[Yl.checkbox]:"boolean"===e.type,[Yl.coordinate]:"coordinate"===e.type,[Yl.formula]:"formula"===e.type,[Yl.vertical]:"vertical"===(null===$||void 0===$?void 0:$.layout)}),item:e,members:ue,truncateLength:"vertical"===(null===$||void 0===$?void 0:$.layout)?60:30,imageHeight:64,textAlignLeft:"vertical"===(null===$||void 0===$?void 0:$.layout)||(0,G.NZ)(null===e||void 0===e?void 0:e.value)>tr(e),timezone:_,editableCoordinate:!1})]}),(0,ye.jsx)(B.Z,{className:Yl.horizontalDivider})]},t))),X&&je&&(0,ye.jsx)("div",{children:je})]}),"h3t"!==(null===L||void 0===L?void 0:L.layerType)&&!V&&(0,ye.jsxs)("footer",{className:Yl.footer,children:[(null===L||void 0===L?void 0:L.editable)&&!(null!==L&&void 0!==L&&L.subscribed)&&"vt"!==(null===L||void 0===L?void 0:L.layerType)&&h&&!I&&(0,ye.jsx)(Jl,{id:null===L||void 0===L?void 0:L.tableNodeID,role:Ql.ST.DataEdit,children:(0,ye.jsxs)("button",{className:Yl.footerItem,onClick:e=>{e.stopPropagation(),null===y||void 0===y||y(L),x({poi:L,onlyOnePoint:!!L.latCellID})},children:[(0,ye.jsx)(U.Z,{className:Yl.icon,type:"coordinate"}),C.$t({id:"wEQDC6",defaultMessage:"Edit"})]})}),g&&!X&&(0,ye.jsxs)("button",{className:Yl.footerItem,onClick:async e=>{e.stopPropagation();const t=(0,q.be)(L.geometry);t&&(await b(et.Nw.updateStatVisible(!0)),b(et.Nw.updateStatCustomCenter(t.coordinates)))},children:[(0,ye.jsx)(U.Z,{className:Yl.icon,type:"proximityAnalysis"}),C.$t({id:"qeWEV4",defaultMessage:"Proximity Analysis"})]}),v&&(0,ye.jsxs)("button",{className:(0,P.default)(Yl.footerItem,Yl.detail,"infoWindowDetail"),onClick:fe,children:[C.$t({id:"Lv0zJu",defaultMessage:"Details"}),(0,ye.jsx)(U.Z,{className:Yl.icon,type:"arrowRight2"})]})]}),(0,ye.jsx)("div",{id:"anchor-".concat(D.id).replace(/[:.]/g,""),className:Yl.anchor}),(0,ye.jsx)(Ae,{visible:k,onClose:()=>T(!1),latitude:null===xe||void 0===xe?void 0:xe[1],longitude:null===xe||void 0===xe?void 0:xe[0],isOverseas:be})]})}),J?(0,Ie.createPortal)((0,ye.jsx)(Mt,{title:X?C.$t({id:"/O69Mk",defaultMessage:"Region data"}):void 0,projectId:c,items:ee,onClose:()=>Q(!1),container:K}),K):null]})};function ir(e){var t;let{poi:n,isShowImageMode:i,onChange:o,onOpenQuickView:l}=e;const r=(0,a.Z)();return(0,ye.jsxs)(z.Z,{className:(0,P.default)(Yl.pagination,"dragArea","handle",{[Yl.thumbnail]:i}),align:"center",justify:"space-between",children:[(0,ye.jsx)("span",{}),(0,ye.jsx)(V.Z,{simple:{readOnly:!0},defaultCurrent:1,total:null===(t=n.list)||void 0===t?void 0:t.length,pageSize:1,onChange:o,showSizeChanger:!1}),(0,ye.jsx)("span",{className:Yl.button,onClick:l,"aria-label":r.$t({id:"v0hnVD",defaultMessage:"View overlap data"}),"data-balloon-pos":"up",children:(0,ye.jsx)(U.Z,{type:"singleChoice"})})]})}const or=i.forwardRef(((e,t)=>{let{projectId:n,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,mapId:s,isDualView:d,isSharedMap:c,onClose:u}=e;const p=(0,At.bZ)(),[h,v]=(0,i.useState)(),[g,f]=(0,i.useState)(),m=(0,ne.v)(Re.qg.selectAll),y=(0,i.useMemo)((()=>d||!s?m:m.filter((e=>e.from===s))),[m,d,s]);function w(e,t){v(e),f(t),p.open()}return(0,i.useImperativeHandle)(t,(()=>({getIds:()=>y.map((e=>e.id))}))),(0,ye.jsxs)(ye.Fragment,{children:[k()(y,(e=>{var t;return(0,ye.jsx)(nr,{projectId:n,mapId:null!==(t=e.from)&&void 0!==t?t:s,poi:e,enableSetting:o,enableEditCoordinate:a,enableOpenDetailPanel:l,enableProximityAnalysis:r,isSharedMap:c,onOpenSetting:w,onClose:u},e.id)})),(0,ye.jsx)(Ul,{dialog:p,tableNodeId:h,poi:g})]})})),ar=i.memo(or);var lr=n(54034),rr=n(43179),sr=n.n(rr),dr=n(89063),cr=n.n(dr),ur=n(56765),pr=n(46131),hr=n(49210),vr=n(49492);const gr={color:"#505f79",background:"#ffffff",padding:"6px","margin-top":"-12px","margin-left":"16px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.2)","border-radius":"4px","min-width":"60px","max-width":"300px","word-break":"break-all","font-size":"12px"};function fr(e,t){const n=(0,pr.oe)(e,t);return sr()(n).isValid()&&!uo()(n)?sr()(n).format("YYYY-MM-DD HH:mm:ss"):n}function mr(e){const t=(0,a.Z)(),n=(0,ne.v)((e=>e.map.stat)),o=(0,i.useCallback)((e=>{var i,o,a;const{layer:l,object:r,coordinate:s}=e;if("custom"===n.filterType&&s&&n.coordinates&&!(0,q.Of)(s,n.coordinates))return null;const c=l instanceof ur.mU||l instanceof ur.dX||l instanceof ur.K7,u=null!==(i=di()(Me()(r,"properties.tooltip")))&&void 0!==i?i:di()(Me()(r,"properties.name")),p=null!==(o=null===(a=Me()(r,"points"))||void 0===a?void 0:a.length)&&void 0!==o?o:null===r||void 0===r?void 0:r.count;if(c){var h,v;const n=yr(e,"properties.fillFieldName"),i=yr(e,"properties.fillAggregateBy"),o=yr(e,"properties.enableHeight"),a=o?yr(e,"properties.heightFieldName"):"",l=o?yr(e,"properties.heightFieldID"):"",s=yr(e,"properties.heightAggregateBy"),d=function(e,t,n,i){var o,a;if(!e)return 0;let l=null!==(o=cr()(i))&&void 0!==o?o:0;if(t&&n){var r;const e=k()(i,(e=>{var n;return null!==(n=(0,pr.oe)(e,t))&&void 0!==n?n:0}));l=null!==(r=(0,pr.Bb)(e,n))&&void 0!==r?r:0}return null!==(a=l)&&void 0!==a?a:0}(o,l,s,null!==(h=k()(null===r||void 0===r?void 0:r.points,(e=>e.source)))&&void 0!==h?h:[]);return{html:'\n        <div style="margin-bottom: 6px; color: #091E42; font-weight: 600">'.concat(t.$t({id:"U86B6w",defaultMessage:"Stats"}),'</div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">\n            ').concat(t.$t({id:"pa5cFO",defaultMessage:"Total POI"}),"</span><span>").concat(null!==p&&void 0!==p?p:"",'\n          </span>\n        </div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"U2yjCm",defaultMessage:"Fill value"})).concat(n&&i?": ".concat(n,"(").concat(t.$t({id:"aggregate.".concat(i),defaultMessage:[]}),")"):"","</span><span>\n            ").concat((0,hr.SH)(null!==(v=null===r||void 0===r?void 0:r.colorValue)&&void 0!==v?v:0),'\n          </span>\n        </div>\n        <div style="').concat(null!==r&&void 0!==r&&r.cluster?"display: none;":"display: flex;",' justify-content: space-between;">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"Mo2ky6",defaultMessage:"Height value"})).concat(a&&s?": ".concat(a,"(").concat(t.$t({id:"aggregate.".concat(s),defaultMessage:[]}),")"):"","</span><span>\n            ").concat((0,hr.SH)(null!==d&&void 0!==d?d:0),"\n          </span>\n        </div>\n      "),style:gr}}if(l instanceof ur.cD){const e={text:Me()(r,"zh-CN"===t.locale?"properties.name_zh":"properties.name_en"),style:gr},n=Me()(r,"properties.aggregationMethod")||Me()(l,"props.data.mapInfo.regionConfig.indexStatsMethod");if(!n)return e;const i=Me()(r,"properties.aggregationValue");if(d()(i))return e;const o=(0,pr.Bb)(i,n);if(d()(o))return e;if(!(0,hr.IG)(o))return e;return{text:u.replace("Count",t.$t({id:"Aujn2T",defaultMessage:"Count"})).replace("Ratio",t.$t({id:"KFacRB",defaultMessage:"Ratio"})).replace("Rank",t.$t({id:"VP5+CR",defaultMessage:"Rank"})),style:gr}}if(l instanceof ur.nr){var g,f;if("Point"===Me()(r,"geometry.type")){return Me()(r,"properties.name")?{text:u,style:gr}:null}const e=function(e,t){const n=Me()(t,"configManager.config.fieldConfig.groupByFieldType"),i=Me()(e,"name");if(["user","updater","creator"].includes(n)){var o,a;const e=null===t||void 0===t||null===(o=t.props)||void 0===o?void 0:o.customProps;return null===(a=((null===e||void 0===e?void 0:e.members)||[]).find((e=>e.id===i)))||void 0===a?void 0:a.name}return i}(r,l),n=Me()(r,"path");if(!n)return null;const i=null!==(g=cr()(n))&&void 0!==g?g:0,o=Me()(l,"configManager.config.fieldConfig.sortByFieldID"),a=null!==(f=Me()(l,"props.data.features"))&&void 0!==f?f:[],s=fr(null===a||void 0===a?void 0:a.find((e=>Me()(e,"geometry.coordinates")===n[0])),o),d=uo()(s)&&String(s).length>10?sr()(s).format("YYYY-MM-DD HH:mm:ss"):s,c=fr(null===a||void 0===a?void 0:a.find((e=>Me()(e,"geometry.coordinates")===n[i-1])),o),p=uo()(c)&&String(c).length>10?sr()(c).format("YYYY-MM-DD HH:mm:ss"):c;return{html:'\n        <div style="margin-bottom: 6px; color: #091E42; font-weight: 600">'.concat(e,'</div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">\n            ').concat(t.$t({id:"+TfdyD",defaultMessage:"Point Count"}),"</span><span>").concat(null!==i&&void 0!==i?i:"",'\n          </span>\n        </div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"a8GQJE",defaultMessage:"Start Point"}),"</span><span>\n            ").concat(null!==d&&void 0!==d?d:"",'\n          </span>\n        </div>\n        <div style="').concat(null!==r&&void 0!==r&&r.cluster?"display: none;":"display: flex;",' justify-content: space-between;">\n          <span style="margin-right: 10px;">').concat(t.$t({id:"aHk45J",defaultMessage:"End Point"}),"</span><span>\n            ").concat(null!==p&&void 0!==p?p:"","\n          </span>\n        </div>\n      "),style:gr}}if(l instanceof vr.Vm)return null;if(l instanceof ur.tn||l instanceof ur.eE||l instanceof vr.Nn)return u?{text:u,style:gr}:null;if(l){var m,y,w;const e=null===l||void 0===l||null===(m=l.props)||void 0===m?void 0:m.customProps;if("h3Tile"!==(null===e||void 0===e?void 0:e.layerType)||null===e||void 0===e||null===(y=e.vtInfo)||void 0===y||null===(y=y.columns)||void 0===y||!y.length)return null;let n='<div style="margin-bottom: 6px; color: #091E42; font-weight: 600">\n        '.concat(t.$t({id:"U86B6w",defaultMessage:"Stats"}),'</div>\n        <div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">Hex:</span><span>\n            ').concat(null!==(w=Me()(r,"hex"))&&void 0!==w?w:"","\n          </span></div>");return e.vtInfo.columns.forEach((e=>{const t=Me()(r,e.id);if(d()(t))return;const i="datetime"===e.type?(0,hr.U)(t*kn.go,e.typeOptions):(0,hr.SH)(t);n+='<div style="display: flex; justify-content: space-between">\n          <span style="margin-right: 10px;">'.concat(e.name,":</span><span>").concat(i,"</span></div>")})),{html:n,style:gr}}return null}),[t,n.filterType,n.coordinates]);return e?o:void 0}function yr(e,t){const{object:n}=e;if(null!==n&&void 0!==n&&n.points&&(null===n||void 0===n?void 0:n.points.length)>0){const e=n.points[0].source;return Me()(e,t)}return Me()(n,t)}var wr=n(76195),br=n(21503);function Cr(e,t){const n=function(e){switch(e){case"normal":return{blendFunc:[br.Z.SRC_ALPHA,br.Z.ONE_MINUS_SRC_ALPHA,br.Z.ONE,br.Z.ONE_MINUS_SRC_ALPHA],blendEquation:br.Z.FUNC_ADD};case"additive":return{blendFunc:[br.Z.SRC_ALPHA,br.Z.DST_ALPHA],blendEquation:br.Z.FUNC_ADD};case"subtractive":return{blendFunc:[br.Z.ONE,br.Z.ONE_MINUS_DST_COLOR,br.Z.SRC_ALPHA,br.Z.DST_ALPHA],blendEquation:[br.Z.FUNC_SUBTRACT,br.Z.FUNC_ADD]};default:return{}}}(t);(0,wr.dR)(e,{[br.Z.BLEND]:!0,...n})}var xr=n(46331);var Ir=n(89842),jr=n.n(Ir);const Mr="subMap";function kr(e,t){switch(t.type){case"toggleSyncViewState":return{...e,syncOptions:{...e.syncOptions,viewport:!e.syncOptions.viewport}};case"toggleSyncZoom":return{...e,syncOptions:{...e.syncOptions,zoom:!e.syncOptions.zoom}};case"setLayerVisible":return{...e,layers:t.payload};case"updateLayerVisible":return{...e,layers:{...e.layers,[t.payload.layerId]:t.payload.visible}};default:return e}}var Tr=n(31918);var Er=n(22787);var Pr=n(88505),Or=n(17953),Sr=n(82755),_r=n(49756);const Nr="breadcrumb_wrapper__U-9ve",Dr=e=>{let{drillDownList:t,onBreadcrumbClick:n}=e;const i=(0,ne.v)((e=>e.project.mapSiderVisible)),o=(0,ne.v)((e=>e.map.layerSettingVisible)),{width:a}=(0,Sr.TC)(),l=[i,o].filter((e=>e)).length*a+20;if(null===t||void 0===t||!t.length||t.length<=1)return null;const r=t.map((e=>({title:e.title,onClick:i=>{e!==t[t.length-1]&&(i.preventDefault(),null===n||void 0===n||n(e.level,e.regionId))}})));return(0,ye.jsx)(Pr.ZP,{theme:{components:{Breadcrumb:{itemColor:(0,_r.Dw)("--primary-color"),linkColor:(0,_r.Dw)("--primary-color")}}},children:(0,ye.jsx)("div",{className:(0,P.default)(Nr),style:{left:l},children:(0,ye.jsx)(Or.Z,{items:r,separator:">"})})})},Lr={split:"mapContainer_split__Wpt5I",drillLoadingContainer:"mapContainer_drillLoadingContainer__YN3Q-",horizontalControls:"mapContainer_horizontalControls__Urop8",light:"mapContainer_light__YieKK",unknown:"mapContainer_unknown__mRKXs",dark:"mapContainer_dark__6z6Qg",bottom:"mapContainer_bottom__AtRj6"};function Ar(e,t){var n,s,c,u,p;const{mapConfig:h,projectId:v,layerNodes:g,filters:f,activeLabels:m,isThirdPartyTable:y,shareToken:w,shareType:b,workspaceType:C,workspaceId:I,controls:j=["zoom","description","3d","baseMap","legend","timeline","location","help","measurement"],controlsOffset:M,controlsClassName:T,defaultActiveControls:E,baseMapProviders:O=["amap","mapbox","google","customize"],baseMapControlStyle:S={},enableEditor:_=!1,enableAnnotation:N=!1,editableAnnotation:D=!0,disableLegendFilter:L=!1,enableTooltip:A=!1,id:R="map",showEditToolbar:Z=!0,isDualView:F=!1,isSharedMap:z=!1,isPro:B,isEnt:V,showOutlineLegend:H=!0,readonly:W,enableLegendLayerToggle:U=!0,enableContextMenu:G=!1,enablePickingMultiObjects:q,isLoading:$,onMapStatusChange:J,onLabelsChange:K,onAddPOI:Y,onUpdatePOI:X,onUpdate:ee,onReady:te,onLayersUpdate:ie,onTrackSearchPOI:ae,onCheckMeasurementRights:re,onUpgradePro:se,openQuotaWarningDialog:de,onCreateField:ce,onGetLocation:ue}=e,pe=(0,ne.v)((e=>v?e.project.layerNodes[v]:void 0)),he=$t()({},{visible:!0,enableSetting:!0,enableEditCoordinate:!0,enableOpenDetailPanel:!0,enableProximityAnalysis:!0},e.infoWindowConfig||{}),ve=(null===e||void 0===e||null===(n=e.infoWindowConfig)||void 0===n?void 0:n.customizeComponent)||ar,ge=(0,ne.v)((e=>e.app.amapKey)),fe=(0,ne.v)((e=>e.app.enableAMap)),me=(0,ne.v)((e=>e.app.googleKey)),we=(0,ne.v)((e=>e.map.poiDetail.visible)),be=(0,ne.v)((e=>e.map.stat.isOpen)),Ce=(0,ne.v)((e=>e.map.editor)),xe=(0,ne.v)((e=>e.map.annotationStatus)),je=(0,ne.I)(),ke=(0,a.Z)(),[Te,Ee]=(0,i.useState)(null),Pe=(0,i.useRef)(null),Se=(0,i.useMemo)((()=>{return h?{...h,baseMap:fe?null===h||void 0===h?void 0:h.baseMap:(e=null===h||void 0===h?void 0:h.baseMap,e?en()(Qt.nn,e)?Me()(dn,e,Qt.R6.MapboxLight):e:Qt.R6.MapboxLight)}:void 0;var e}),[h,fe]),_e=(0,i.useRef)(Gt()),Ne=(0,ne.v)((e=>e.map.timeline)),De=(0,ne.v)((e=>e.user.sharedUser)),[Le,Ae]=(0,i.useState)(null===Se||void 0===Se?void 0:Se.is3D),{baseMap:Ze,theme:Fe,reCreateBaseMap:ze}=cn(Se,ge,me,F,V),[Be,He]=(0,i.useState)(null===Te||void 0===Te?void 0:Te.resolution),{geometryEditor:We,isEditing:Ue,isAttached:Ge,onClose:qe}=function(e){const[t,n]=(0,i.useState)(),[o,a]=(0,i.useState)(!1),[l,r]=(0,i.useState)(!1),{onlyOnePoint:s}=(0,ne.v)((e=>e.map.editor)),d=(0,i.useCallback)((()=>{a(!1)}),[]);return(0,i.useEffect)((()=>{e&&!t&&(a(!0),n(new Wn.$({options:{mode:"Point",onlyOnePoint:s},onDrawStart:()=>{a(!0)},onEditStart:()=>{a(!0)},onAttached:()=>{r(!0)}})))}),[t,e,s]),(0,i.useEffect)((()=>{!e&&t&&(null===t||void 0===t||t.destroy(),a(!1),r(!1),n(void 0))}),[e,t]),(0,i.useEffect)((()=>()=>{null===t||void 0===t||t.destroy()}),[t]),{geometryEditor:t,isEditing:o,isAttached:l,onClose:d}}(Ce.isOpen&&Ce.isAdding&&_),$e=(0,i.useRef)(null),Je=(0,Zn.nI)(),{layers:Qe,isLoading:Ke}=Bn({projectId:v,layerNodes:g,isThirdPartyTable:y,shareParams:{token:w,type:b},resolution:Be,messageId:R,filters:f}),Ye=function(e){const t=(0,ne.v)((e=>e.map.spatialAnalysis)),n=(0,ne.I)(),o=Dn(),[a,l]=(0,i.useState)();return(0,i.useEffect)((()=>{var i,a,r;if(t.isLoading)return;if(!o||!t.config)return l(void 0),n(et.Nw.setSpatialAnalysisVtData(void 0)),void n(et.Nw.setSpatialAnalysisOverlayVtData(void 0));const s=null===(i=e.find((e=>{var n;return e.id===(null===(n=t.config)||void 0===n?void 0:n.layerId)})))||void 0===i||null===(i=i.mapInfo)||void 0===i?void 0:i.vectorTile,d=null!==(a=t.config)&&void 0!==a&&a.overlayLayerId?null===(r=e.find((e=>{var n;return e.id===(null===(n=t.config)||void 0===n?void 0:n.overlayLayerId)})))||void 0===r||null===(r=r.mapInfo)||void 0===r?void 0:r.vectorTile:void 0;if(s&&!t.vtData||d&&!t.overlayVtData)return void n(et.Nw.setSpatialAnalysisAnalyzing(!0));o.onmessage=e=>{const{layer:t}=e.data;l(t||void 0),null!==t&&void 0!==t&&t.gridCount&&n(et.Nw.setSpatialAnalysisGridCount(t.gridCount)),n(et.Nw.setSpatialAnalysisAnalyzing(!1))};const c={type:"preview",layers:e,config:t.config,vtData:t.vtData,overlayVtData:t.overlayVtData};o.postMessage(c),n(et.Nw.setSpatialAnalysisAnalyzing(!0))}),[e,o,n,t.isLoading,t.vtData,t.overlayVtData,t.config]),(0,i.useMemo)((()=>a?[...e.map((e=>({...e,mapInfo:{...e.mapInfo,fillConfig:{...e.mapInfo.fillConfig,fillOpacity:.2},bivariateFillConfig:{...e.mapInfo.bivariateFillConfig,fillOpacity:.2},outlineConfig:{...e.mapInfo.outlineConfig,strokeOpacity:.2},labelConfig:{...e.mapInfo.labelConfig,visible:!1}}}))),a]:e),[a,e])}(Qe),Xe=(0,i.useRef)(null),nt=(0,i.useRef)(null),{addIndicator:it,removeIndicator:ot}=ct(null===Te||void 0===Te?void 0:Te.mapTalksMap),lt=(0,ei.Z)("googleMaps")&&false,rt=(0,i.useMemo)((()=>{const e=fe?O:O.filter((e=>"amap"!==e));return lt?e:e.filter((e=>"google"!==e))}),[O,fe,lt]),{visLayers:st,layersLabel:dt,updateLayersLabel:ut}=(0,Vn.r)({projectId:v,mapId:R,layers:Ye,getInfoWindowIds:(0,i.useCallback)((()=>{var e;return Ce.isOpen?[]:(null===(e=Xe.current)||void 0===e?void 0:e.getIds())||[]}),[Ce.isOpen]),activeLabels:m,map:Te,onSetColorDomain:_e,disableInfoWindow:!(null!==he&&void 0!==he&&he.visible),isDualView:F,enablePickingMultiObjects:q}),pt=(0,i.useMemo)((()=>[...null!==pe&&void 0!==pe?pe:[],...null!==g&&void 0!==g?g:[]].some((e=>{var t;return"region"===(null===e||void 0===e||null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}))),[g,pe]),ht=(0,i.useMemo)((()=>[...null!==pe&&void 0!==pe?pe:[],...null!==g&&void 0!==g?g:[]].some((e=>{var t;return"icon"===(null===e||void 0===e||null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}))),[g,pe]),{drillDownList:vt,shouldShowBreadcrumb:gt,handleBreadcrumbClick:ft,onDrillUp:mt,onDrillDown:yt,checkClickOnRegionFeature:wt,isDrillLoading:bt}=(e=>{let{projectId:t,visLayers:n,layerNodes:o,isThirdPartyTable:l}=e;const r=(0,a.Z)(),s=(0,ne.I)(),d=(0,i.useMemo)((()=>l?x.Nw:tt.Nw),[l]),c=(0,ne.v)((e=>e.project.drillDown)),[u,p]=(0,i.useState)(!1),[h,v]=(0,i.useState)(null),g=(0,i.useRef)(null),f=(0,i.useRef)(0),m=(0,i.useMemo)((()=>(null===c||void 0===c?void 0:c.breadcrumbPath)||[]),[c]),y=m.length>1,w=(0,i.useCallback)((e=>{const t=null===n||void 0===n?void 0:n.filter((e=>"region"===Me()(e,"props.data.mapInfo.layerType")));if(null===t||void 0===t||!t.length)return{isOnRegionFeature:!1,canDrillUp:!1,canDrillDown:!1,regionFeature:null};const i=[e.x,e.y];for(const n of t){const e=Me()(n,"props.data");if(null===e||void 0===e||!e.mapInfo)continue;const t=Me()(n,"props.data.features");for(const n of t){var o,a;if(("Polygon"===(null===(o=n.geometry)||void 0===o?void 0:o.type)||"MultiPolygon"===(null===(a=n.geometry)||void 0===a?void 0:a.type))&&(0,Er.Z)(i,n.geometry)){var l;const t=(0,An.k7)(n,e.mapInfo);return{isOnRegionFeature:!0,canDrillUp:Boolean(c&&(null===(l=c.breadcrumbPath)||void 0===l?void 0:l.length)&&c.breadcrumbPath.length>1),canDrillDown:t,regionFeature:n,mapInfo:e.mapInfo}}}}return{isOnRegionFeature:!1,canDrillUp:!1,canDrillDown:!1,regionFeature:null}}),[n,c]),b=(0,i.useCallback)(((e,n,i,a)=>{if(!t||!o)return;const l=o.find((t=>{var n;return t.id===e&&"region"===(null===(n=t.mapInfo)||void 0===n?void 0:n.layerType)}));if(null===l||void 0===l||!l.mapInfo)return;const r={...l,mapInfo:{...l.mapInfo,regionConfig:{...l.mapInfo.regionConfig,regionId:i,level:n,aggregateBy:n,...a&&{country:a}}},stale:!0,version:Date.now()};s(d.updateLayerNodeForProject({projectId:t,layerNode:r})),l.id&&(v(l.id),p(!0))}),[t,o,d,s]),C=(0,i.useCallback)((e=>{const t=null===n||void 0===n?void 0:n.find((t=>{var n;const i=Me()(t,"props.data");return(null===i||void 0===i?void 0:i.id)===e&&"region"===(null===i||void 0===i||null===(n=i.mapInfo)||void 0===n?void 0:n.layerType)}));t&&(g.current=Me()(t,"props.data.features")||null,f.current=0),v(e),p(!0)}),[n]),I=(0,i.useCallback)(((e,t)=>{var n;const i=m.findIndex((n=>n.level===e&&n.regionId===t)),a=null===(n=m[i])||void 0===n?void 0:n.layerNodeID;if(i<0||!a)return;const l=m.slice(0,i+1);s(d.setDrillDownState({layerNodeID:a,level:e,regionId:t,breadcrumbPath:l})),b(a,e,t);const r=null===o||void 0===o?void 0:o.find((e=>{var t;return e.id===a&&"region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}));null!==r&&void 0!==r&&r.id&&C(r.id)}),[m,s,b,o,C,d]),j=(0,i.useCallback)((e=>{var n;if(!t||!c||!c.breadcrumbPath||c.breadcrumbPath&&c.breadcrumbPath.length<=1)return;const i=c.breadcrumbPath[c.breadcrumbPath.length-2],a=null===(n=e.properties)||void 0===n?void 0:n.layerID;if(i){const e=c.breadcrumbPath.slice(0,-1);s(d.setDrillDownState({layerNodeID:a,level:i.level,regionId:i.regionId,breadcrumbPath:e})),b(a,i.level,i.regionId);const t=null===o||void 0===o?void 0:o.find((e=>{var t;return e.id===a&&"region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}));null!==t&&void 0!==t&&t.id&&C(t.id)}}),[t,c,s,b,o,C,d]),M=(0,i.useCallback)(((e,n)=>{var i,a,l,u,p,h,v;if(!t||!e||!n)return;const g=null===(i=e.properties)||void 0===i?void 0:i.id,f=null===(a=e.properties)||void 0===a?void 0:a.level,m=null===(l=e.properties)||void 0===l?void 0:l.iso,y=null===(u=e.properties)||void 0===u?void 0:u.layerID;if(!g||!f)return;const w=(0,Ln.OE)(f);if(!w)return;const x="zh-CN"===r.locale?(null===(p=e.properties)||void 0===p?void 0:p.display_name)||(null===(h=e.properties)||void 0===h?void 0:h.name_zh):null===(v=e.properties)||void 0===v?void 0:v.name_en,I=(null===c||void 0===c?void 0:c.breadcrumbPath)||[],j=[...0===I.length?[{layerNodeID:y,title:r.$t({id:"zQvVDJ",defaultMessage:"All"}),level:Ln.uK[f],regionId:n.regionConfig.regionId}]:I,{layerNodeID:y,title:x||g,level:w,regionId:g}];s(d.setDrillDownState({layerNodeID:y,level:w,regionId:g,breadcrumbPath:j})),b(y,w,g,m);const M=null===o||void 0===o?void 0:o.find((e=>{var t;return e.id===y&&"region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)}));null!==M&&void 0!==M&&M.id&&C(M.id)}),[t,c,s,r,b,o,C,d]);return(0,i.useEffect)((()=>{if(!h||null===n||void 0===n||!n.length)return;const e=n.find((e=>{var t;const n=Me()(e,"props.data");return(null===n||void 0===n?void 0:n.id)===h&&"region"===(null===n||void 0===n||null===(t=n.mapInfo)||void 0===t?void 0:t.layerType)}));if(e){const n=Me()(e,"props.data.features");var t,i,o,a;if(n&&n.length>0)(!g.current||g.current.length!==n.length||(null===(t=g.current[0])||void 0===t||null===(t=t.properties)||void 0===t?void 0:t.id)!==(null===(i=n[0])||void 0===i||null===(i=i.properties)||void 0===i?void 0:i.id)||(null===(o=g.current[0])||void 0===o||null===(o=o.properties)||void 0===o?void 0:o.level)!==(null===(a=n[0])||void 0===a||null===(a=a.properties)||void 0===a?void 0:a.level))&&(setTimeout((()=>{xt.m2.emit(h),v(null),p(!1),g.current=null}),100),g.current=n)}}),[n,h]),(0,i.useEffect)((()=>{y||s(d.setDrillDownState(void 0))}),[s,d,y]),{drillDownState:c,drillDownList:m,shouldShowBreadcrumb:y,isDrillLoading:u,handleBreadcrumbClick:I,onDrillUp:j,onDrillDown:M,checkClickOnRegionFeature:w}})({projectId:v,visLayers:st,layerNodes:pe,isThirdPartyTable:y}),{quickViewPortal:Ct}=(e=>{let{enable:t,map:n,projectId:o,measurement:l,hasRegionLayer:r,onDrillUp:s,onDrillDown:d,checkClickOnRegionFeature:c,mapId:u,isThirdPartyTable:p}=e;const h=(0,a.Z)(),v=(0,ne.I)(),g=null===l||void 0===l?void 0:l.distanceTool,f=(0,ne.v)((e=>e.map.mapConfig)),m=(0,ne.v)((e=>o?e.project.entities[o]:void 0)),[y,w]=(0,i.useState)(!1),[b,C]=(0,i.useState)([]),x=(0,i.useMemo)((()=>{var e,t;return null!==(e=null===(t=document.getElementById(null!==u&&void 0!==u?u:"map"))||void 0===t?void 0:t.parentElement)&&void 0!==e?e:document.body}),[u]),I=(0,i.useCallback)(((e,t)=>{const n=document.createElement("div");n.innerText=h.$t({id:"mXK5z7",defaultMessage:"Coordinates copied"}),n.style.position="absolute",n.style.left="".concat(e+30,"px"),n.style.top="".concat(t+60,"px"),n.style.backgroundColor="rgba(0, 0, 0, 0.8)",n.style.color="white",n.style.fontSize="12px",n.style.height="24px",n.style.padding="4px 5px",n.style.borderRadius="5px",n.style.zIndex="1000",n.style.pointerEvents="none",document.body.appendChild(n),setTimeout((()=>{document.body.removeChild(n)}),2e3)}),[h]),j=(0,i.useCallback)((async e=>{v(et.Nw.updateStatVisible(!0)),v(et.Nw.updateStatCustomCenter(e))}),[v]),M=(0,i.useCallback)((()=>{var e;o&&null!==m&&void 0!==m&&m.mapConfig&&v(hn.NV({projectId:o,mapConfig:{...null===m||void 0===m?void 0:m.mapConfig,zoomLevel:f.zoomLevel,center:f.center,baseMap:null!==(e=f.baseMap)&&void 0!==e?e:m.mapConfig.baseMap}})).then((()=>{Q.ZP.success(h.$t({id:"4nHH2x",defaultMessage:"Applied successfully"}))}))}),[f.baseMap,f.center,f.zoomLevel,v,h,null===m||void 0===m?void 0:m.mapConfig,o]),k=(0,i.useCallback)(((e,t)=>{const n="".concat(e.x.toFixed(6),", ").concat(e.y.toFixed(6)),i=[];if(r&&c){const t=c(e);t.isOnRegionFeature&&(t.canDrillUp&&s&&i.push({item:h.$t({id:"ox9vYK",defaultMessage:"Drill up"}),hidden:!1,click:()=>(s(t.regionFeature),!0)}),t.canDrillDown&&t.regionFeature&&d&&i.push({item:h.$t({id:"jwIhMJ",defaultMessage:"Drill down"}),hidden:!1,click:()=>(d(t.regionFeature,t.mapInfo),!0)})),t.isOnRegionFeature&&t.regionFeature&&i.push({item:h.$t({id:"MnpUD7",defaultMessage:"View details"}),hidden:!1,click:()=>{var e,n;const i=(null===(e=t.regionFeature)||void 0===e||null===(e=e.properties)||void 0===e?void 0:e.rowIds)||[],o=null===(n=t.regionFeature)||void 0===n||null===(n=n.properties)||void 0===n?void 0:n.layerID;if(i.length<=0||!o)return Q.ZP.info(h.$t({id:"V4X0I6",defaultMessage:"No data found in this region"})),!0;const a=i.map((e=>({layerID:o,rowID:e})));C(a),w(!0)}})}return i.push({item:n,hidden:!1,click:()=>{const e=t.x,i=t.y;return(0,Tr.v)(n).then((t=>{if(t)I(e,i);else{Q.ZP.info(h.$t({id:"8TtWnE",defaultMessage:"Please manually copy the latitude and longitude"}));const e=document.querySelector(".maptalks-menu-items li");if(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();null===n||void 0===n||n.removeAllRanges(),null===n||void 0===n||n.addRange(t)}}})),!1}},{item:h.$t({id:"bv5AuP",defaultMessage:"Set current view port as default"}),hidden:!1,click:function(){return M(),!0}},{item:null!==l&&void 0!==l&&l.active?h.$t({id:"i/B8Yo",defaultMessage:"Clear measurement"}):h.$t({id:"XsDoHr",defaultMessage:"Measurement"}),hidden:!1,click:function(){null!==l&&void 0!==l&&l.active?null===g||void 0===g||g.close():null===g||void 0===g||g.open()}},{item:h.$t({id:"LWNUML",defaultMessage:"Proximity analysis"}),hidden:r,click:function(){return j([e.x,e.y]),!0}}),{items:i.filter((e=>!e.hidden))}}),[r,c,s,d,g,h,null===l||void 0===l?void 0:l.active,I,j,M,C,w]),T=(0,i.useCallback)((e=>{if(e.domEvent.ctrlKey&&2===e.domEvent.button)return void(null===n||void 0===n||n.closeMenu());const t=k(e.coordinate,e.containerPoint);null===g||void 0===g||g.endDraw(),null===n||void 0===n||n.setMenu(t).openMenu(e.coordinate)}),[n,g,k]);return(0,i.useEffect)((()=>{function e(){null===n||void 0===n||n.closeMenu()}return t&&n&&(n.on("contextmenu",T),n.on("pitch dragrotatestart",e)),()=>{null===n||void 0===n||n.off("contextmenu",T),null===n||void 0===n||n.off("pitch dragrotatestart",e)}}),[t,n,T]),{quickViewPortal:y&&o?(0,Ie.createPortal)(i.createElement(Mt,{projectId:o,items:b,title:h.$t({id:"/O69Mk",defaultMessage:"Region data"}),isThirdPartyTable:p,onClose:()=>{w(!1),C([])},container:x}),x):null}})({enable:G,map:null===Te||void 0===Te?void 0:Te.mapTalksMap,measurement:nt.current,projectId:v,hasRegionLayer:pt,onDrillUp:mt,onDrillDown:yt,checkClickOnRegionFeature:wt,isThirdPartyTable:y,mapId:R}),It=(0,lr.v3)({projectId:v,layerNodes:g,visLayers:st,dataLayers:Qe,onSetColorDomain:_e,showOutlineLegend:H,isLoading:$}),jt=mr(A),{onBeforeRender:kt}=function(e){const t=(0,i.useRef)(),n=(0,i.useCallback)((n=>{null!==e&&void 0!==e&&e.layerBlending&&(t.current=n.gl,Cr(n.gl,e.layerBlending))}),[null===e||void 0===e?void 0:e.layerBlending]);return(0,i.useEffect)((()=>{null!==e&&void 0!==e&&e.layerBlending&&t.current&&Cr(t.current,e.layerBlending)}),[null===e||void 0===e?void 0:e.layerBlending]),{onBeforeRender:n}}(Se),Tt=(0,i.useMemo)((()=>w&&b&&null!==De&&void 0!==De&&De.token?{token:w,type:b,userToken:null===De||void 0===De?void 0:De.token}:{}),[w,b,null===De||void 0===De?void 0:De.token]);Cl({hasIconLayer:ht,projectId:v,shareToken:w,sharingParams:Tt}),function(e){const{projectId:t,baseMapProviders:n=[],sharingParams:i}=e,o=(0,ne.I)(),{isSharePage:a}=(0,Tn.F)(),r=n.includes("customize")&&!!t;(0,l.ZP)(r&&!a?["customizedBasemap",t]:null,(e=>{let[t,n]=e;return o((0,xr.Ws)({projectID:n}))})),(0,l.ZP)(r&&a&&null!==i&&void 0!==i&&i.token?["sharedCustomizedBasemap",i]:null,(e=>{let[t,n]=e;return o((0,hn.hW)({sharingParams:n}))}))}({projectId:v,baseMapProviders:O,sharingParams:Tt});const Et=(0,i.useMemo)((()=>({getTooltip:jt,onBeforeRender:kt,...e.deckProps})),[e.deckProps,jt,kt]),Pt=(0,i.useMemo)((()=>Se?{center:(0,sn.Jn)(Se.center),zoom:Se.zoomLevel,pitch:Se.pitch}:void 0),[Se]),{isMobile:Ot}=(0,le.F)(),{getDirection:St,history:_t}=ho(),{dualMapState:Nt,dualMapDispatch:Dt}=function(e){const{visLayers:t,projectId:n}=e,o=(0,i.useRef)(),a=(0,i.useMemo)((()=>{var e;const i=n?null===(e=Bt().get(Vt.wO))||void 0===e?void 0:e[n]:void 0,a=jr()(t,((e,t)=>{var n;return e&&t.id&&null!==(n=o.current)&&void 0!==n&&n[t.id]?e[t.id]=o.current[t.id]:t.id&&e&&(e[t.id]=null!==i&&void 0!==i&&i[t.id]?i[t.id]:[!0,!1]),e}),{});return o.current=a,a}),[t,n]),[l,r]=(0,i.useReducer)(kr,{syncOptions:{viewport:!0,zoom:!0},layers:a});return(0,i.useEffect)((()=>{n&&(o.current=l.layers,at()(l.layers)||Bt().set(Vt.wO,{...Bt().get(Vt.wO),[n]:l.layers}))}),[l.layers,n]),(0,i.useEffect)((()=>{r({type:"setLayerVisible",payload:a})}),[a,r]),{dualMapState:l,dualMapDispatch:r}}({projectId:v,visLayers:st}),{dualMap:Lt,visLayers:At,reCreateBaseMap:Rt}=function(e){const{mapConfig:t,isDualView:n,visLayers:o,mapOptions:a,deckProps:l,dualMapState:r,isEnt:s,amapKey:d,googleKey:c}=e,u=r.layers,{baseMap:p,reCreateBaseMap:h}=cn(t,d,c,n,s),v=(0,i.useMemo)((()=>n?k()(o,(e=>{var t,n;return e.clone({visible:null===(t=null===u||void 0===u||null===(n=u[e.id])||void 0===n?void 0:n[0])||void 0===t||t})})):o),[o,u,n]),g=(0,i.useMemo)((()=>n?k()(o,(e=>{var t,n;return e.clone({visible:null!==(t=null===u||void 0===u||null===(n=u[e.id])||void 0===n?void 0:n[1])&&void 0!==t&&t,id:"".concat(e.id,":").concat(Mr)})})):[]),[o,u,n]);return n&&t?{dualMap:{id:Mr,baseMap:p,layers:g,mapOptions:a,deckProps:l},reCreateBaseMap:h,visLayers:v}:{visLayers:o}}({mapConfig:Se,isDualView:F,visLayers:st,deckProps:Et,mapOptions:Pt,dualMapState:Nt,isEnt:V,amapKey:ge,googleKey:me});(0,i.useImperativeHandle)(t,(()=>({map:Te,baseMap:Ze,layers:Ye,dataLayers:Qe})),[Te,Ze,Ye,Qe]),(0,i.useEffect)((()=>{null===ie||void 0===ie||ie(Ye)}),[Ye,ie]),(0,i.useEffect)((()=>{const e=Ye.filter((e=>{var t;return e.features.length>0||(null===(t=e.vtInfo)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.bounds)}));if(Se&&!Se.isSet&&!b&&1===e.length){var t;const[n,i,o,a]=(null===(t=e[0].vtInfo)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.bounds)||(0,Jt.Z)(e[0]);if(n===1/0)return;const l=new Ve.wx(n,i,o,a);null===Te||void 0===Te||Te.fitBounds(l,1).then((e=>{if(e){const{zoom:t,longitude:n,latitude:i}=e,o=[n,i].join(",");je(hn.NV({projectId:v,mapConfig:{...Se,isSet:!0,center:o,zoomLevel:t}}))}}))}}),[Ye,Se,Te,b,je,v]),(e=>{const t=(0,ne.v)((e=>e.tableNode.defaultActiveRegionLayerId)),n=(0,ne.v)((e=>oe.TW.selectAll(e))),o=(0,ne.I)();(0,i.useEffect)((()=>{if(t){var i;const a=e.find((e=>e.id===t)),l=null===a||void 0===a?void 0:a.tableNodeId,r=n.find((e=>e.id===l));null!==r&&void 0!==r&&null!==(i=r.rows)&&void 0!==i&&i.length&&(setTimeout((()=>{xt.m2.emit(t),o(Sn.Nw.updateSelectedKeys({keys:[t]}))}),1e3),o({type:"tableNode/resetDefaultActiveRegionLayerId"}))}}),[t,n,e,o])})(Ye),(0,i.useEffect)((()=>{Te&&(null===ee||void 0===ee||ee())}),[ee,Te]),(0,i.useEffect)((()=>{if(Te&&null!==Se&&void 0!==Se&&Se.zoomLevel&&null!==Se&&void 0!==Se&&Se.center&&Se.isSet){const e=(0,sn.Jn)(Se.center);Te.setZoomAndCenter(Se.zoomLevel,e)}}),[Te,null===Se||void 0===Se?void 0:Se.center,null===Se||void 0===Se?void 0:Se.zoomLevel,null===Se||void 0===Se?void 0:Se.isSet]),(0,i.useEffect)((()=>{Te&&null!==Se&&void 0!==Se&&Se.features&&Te.setFeatures(Se.features)}),[Te,null===Se||void 0===Se?void 0:Se.features]),(0,i.useEffect)((()=>{function e(e){var t,n;const i=Ye.find((t=>t.id===e));if(!i)return;const[o,a,l,r]=(null===(t=i.vtInfo)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.bounds)||(0,Jt.Z)(i);if(o===1/0)return;const s=new Ve.wx(o,a,l,r);null===Te||void 0===Te||Te.fitBounds(s),null===(n=Pe.current)||void 0===n||n.fitBounds(s)}return xt.m2.on(e),()=>{xt.m2.off(e)}}),[Ye,Te]);const Zt=(0,i.useCallback)((e=>{const{zoom:t,bearing:n,pitch:i,center:o,resolution:a}=e;He(a),null===J||void 0===J||J({center:null===o||void 0===o?void 0:o.join(","),zoomLevel:t,bearing:n,pitch:i})}),[J]);const Ft=(0,i.useCallback)((async(e,t)=>{const n=(0,Yt.IV)(e);if(y&&!V&&Qt.At.includes(n))return void(null===de||void 0===de||de({title:"ent.info.title",customizeContent:ke.$t({id:"oGiueh",defaultMessage:"Google maps is exclusive to the Enterprise version."})}));if(y&&!V&&"customize"===n)return void(null===de||void 0===de||de({title:"ent.info.title",customizeContent:ke.$t({id:"OGnJBy",defaultMessage:"Customize basemap is exclusive to the Enterprise version."})}));if(Qt.At.includes(n)&&C&&!d()(I)){const{payload:e}=await je((0,pn.fN)({type:C,id:I})),t=e;if("ent"!==t.plan||t.planExpired)return void Q.ZP.info(ke.$t({id:"oGiueh",defaultMessage:"Google maps is exclusive to the Enterprise version."}))}const i=(0,sn.m6)(e);if(t||"customize"===i){Ae(!1);const t=ze(e);if(t&&(null===Te||void 0===Te||Te.setBaseMap(t,i)),Rt){var o;const t=Rt(e);t&&(null===(o=Pe.current)||void 0===o||o.setBaseMap(t,i))}}else{var a;null===Ze||void 0===Ze||Ze.setMapStyle(e),null===Lt||void 0===Lt||null===(a=Lt.baseMap)||void 0===a||a.setMapStyle(e)}je(et.Nw.updateBaseMap(e)),null===J||void 0===J||J({baseMap:e})}),[y,B,V,de,ke,C,I,je,ze,Te,Rt,Pe,Ze,Lt,J]),zt=(0,i.useCallback)((()=>{Dt({type:"toggleSyncViewState"})}),[Dt]),Ht=(0,i.useCallback)((()=>{Dt({type:"toggleSyncZoom"})}),[Dt]),Wt=(0,i.useCallback)(((e,t)=>{Dt({type:"updateLayerVisible",payload:{layerId:e,visible:t}})}),[Dt]),Ut=(0,i.useCallback)((async()=>{var e,t,n;if(y)return null!==(e=null===re||void 0===re?void 0:re())&&void 0!==e&&e;{if(!C||!I)return!1;const{payload:e}=await je((0,pn.fN)({type:C,id:I})),i=e;return t=i.plan,n=i.planExpired,!t||"pro"!==t&&"ent"!==t||!0===n?(null===de||void 0===de||de({name:ke.$t({id:"measurement.route",defaultMessage:"Route"}),functions:ke.$t({id:"measurement.route",defaultMessage:"Route"})}),!1):!0}}),[y,re,C,I,je,de,ke]),qt=(0,i.useCallback)((e=>{const t=st.some((t=>t.id===e)),n=null===pe||void 0===pe?void 0:pe.filter((e=>"single"===e.groupMode)),i=null===pe||void 0===pe?void 0:pe.find((t=>t.id===e));if(-1!==(null===n||void 0===n?void 0:n.findIndex((e=>e.id===(null===i||void 0===i?void 0:i.parentID))))&&!t){const t=null===pe||void 0===pe?void 0:pe.filter((t=>t.parentID===(null===i||void 0===i?void 0:i.parentID)&&t.id!==e));je(et.Nw.updateHiddenLayers({projectId:v,ids:(null===t||void 0===t?void 0:t.map((e=>e.id)))||[],hidden:!0}))}je(et.Nw.updateHiddenLayers({projectId:v,ids:[e],hidden:t}))}),[je,v,st,pe]);return Se?(0,ye.jsxs)(Kt.h_,{id:R,baseMap:Ze,baseMapType:(0,sn.m6)(Se.baseMap),geometryEditor:We,layers:At,mapOptions:Pt,deckProps:Et,dualMap:Lt,syncOptions:Nt.syncOptions,subMapRef:Pe,locale:Je,ref:Ee,onViewStateChange:Zt,onReady:te,onError:function(e){"destroyed"!==e&&(console.warn(e),Q.ZP.warning(ke.$t({id:"pXvVVE",defaultMessage:"Map loading failed, please try again later or change the basemap"})))},children:[_&&(0,ye.jsx)(Eo,{map:Te,baseMap:Ze,isThirdPartyTable:y,isPro:B,geometryEditor:We,isEditing:Ue,isAttached:Ge,showEditToolbar:Z,projectId:v,theme:Fe,locale:Je,baseMapProvider:(0,Yt.IV)(null!==(s=null===Te||void 0===Te||null===(c=Te.baseMap)||void 0===c?void 0:c.getMapStyle())&&void 0!==s?s:Se.baseMap),onAddPOI:Y,onUpdatePOI:X,onClose:qe,onTrackSearchPOI:ae,onUpgradePro:se,onCreateField:ce}),N&&xe.visible&&(0,ye.jsx)(Zl,{projectId:v,enableEdit:_,shareToken:w,shareType:b,editableAnnotation:D}),he.visible&&(0,ye.jsx)(ve,{projectId:v,mapId:R,isDualView:F,isSharedMap:z,enableSetting:he.enableSetting,enableEditCoordinate:he.enableEditCoordinate,enableOpenDetailPanel:he.enableOpenDetailPanel,enableProximityAnalysis:he.enableProximityAnalysis,ref:Xe}),(0,ye.jsxs)(Kt.ZX,{ref:$e,className:(0,P.default)({"mtmap-controls-expanded":we||be},T),style:M?{transform:"translate(".concat(M[0],"px, ").concat(M[1],"px)")}:void 0,defaultActiveControls:E,children:[Ne.enable&&!Ne.isOpen&&j.includes("timeline")&&(0,ye.jsx)(Oo,{name:"timeline"}),j.includes("3d")&&!Ot&&(0,ye.jsx)(Kt.zy,{name:"3d",persistentActive:Le,onToggle:function(e){var t;Ae(e),null===Te||void 0===Te||Te.toggle3D(e),null===(t=Pe.current)||void 0===t||t.toggle3D(e);const n=null===J||void 0===J?void 0:J({is3D:e});return null===n||void 0===n||n}}),j.includes("measurement")&&!Ot&&(0,ye.jsx)(Kt.g3,{ref:nt,name:"measurement",theme:Fe,locale:Je,enableRoute:!z,projectId:v,history:_t,baseMapProvider:(0,Yt.IV)(null!==(u=null===Te||void 0===Te||null===(p=Te.baseMap)||void 0===p?void 0:p.getMapStyle())&&void 0!==u?u:Se.baseMap),onActiveChange:function(e){var t,n;je(Re.Nw.removeAll()),je(Re.Nw.setInfoWindowInvisible(e)),e?(null===(t=$e.current)||void 0===t||t.setActiveControl(["measurement"]),je(et.Nw.toggleTimelineOpen(!1))):null===(n=$e.current)||void 0===n||n.setActiveControl(E)},getDirection:St,checkRights:Ut}),j.includes("fitBounds")&&(0,ye.jsx)(Kt.OO,{name:"fitBounds",onFit:function(){var e;const t=null===Ye||void 0===Ye||null===(e=Ye[0])||void 0===e?void 0:e.id;t&&xt.m2.emit(t)}}),j.includes("legend")&&(0,ye.jsx)(Ua,{projectId:v,name:"legend",description:j.includes("description")?(0,ye.jsx)(Ia,{projectId:v,mapConfig:Se,readonly:W}):null,legends:It,labels:dt,isThirdPartyTable:y,disableFilter:L,isDualView:F,dualMapState:Nt,enableLayerToggle:U,enableAnnotation:N,onLabelVisibilityChange:function(e){ut(e),null===K||void 0===K||K(e.filter((e=>e.active)).map((e=>e.id)))},onDualMapViewportSyncToggle:zt,onDualMapZoomSyncToggle:Ht,onDualMapLayerVisibleToggle:Wt,onLayerToggle:qt}),j.includes("help")&&(0,ye.jsx)(wl,{}),(0,ye.jsxs)("div",{className:(0,P.default)(Lr.horizontalControls,{[Lr.bottom]:y},Lr[Fe]),children:[j.includes("location")&&(0,ye.jsx)(Kt.$N,{name:"location",onLocationGet:function(e,t){var n;null===Te||void 0===Te||Te.setZoomAndCenter(t,e),null===(n=Pe.current)||void 0===n||n.setZoomAndCenter(t,e),ot(),it([e[0],e[1]])},onGeoLocationDeny:function(){(0,Oe.PG)()&&!(0,Oe.tq)()?Q.ZP.warning(ke.$t({id:"q9jBxk",defaultMessage:"Unable to access your location. Please try again in a browser."})):Q.ZP.warning(ke.$t({id:"rWi3XF",defaultMessage:"Please allow location access"}))},onGetLocation:ue}),j.includes("zoom")&&!Ot&&(0,ye.jsx)(Kt.Ly,{})]}),j.includes("baseMap")&&(0,ye.jsx)(ol,{projectId:v,baseMapProviders:rt,baseMapStyle:Se.baseMap,needPro:y,onChange:Ft,style:S})]}),gt&&(0,ye.jsx)(Dr,{drillDownList:vt.map((e=>({...e,onClick:t=>{t.preventDefault(),ft(e.level,e.regionId)}}))),onBreadcrumbClick:ft}),pt&&(bt||Ke)&&(0,ye.jsx)("div",{className:Lr.drillLoadingContainer,children:(0,ye.jsx)(r.Z,{indicator:(0,ye.jsx)(o.Z,{style:{fontSize:60}}),size:"large"})}),F&&(0,ye.jsx)("div",{className:Lr.split}),e.children,Ct]}):null}const Rr=(0,i.forwardRef)(Ar),Zr="map_mapControls__5t7vB",Fr=(0,i.forwardRef)(((e,t)=>{var n,s,M,k;let{layerType:T,loading:E,hasLocationTableId:P}=e;const O=(0,a.Z)(),S=(0,ne.I)(),{baseMapStyle:_,theme:N}=(0,h.F)(),{ui:D,base:L,isFullScreen:A,isCreate:R,isConfig:Z}=(0,w.Z)(),{isFeiShu:F}=(0,b.k)(),z=(0,i.useRef)({map:null,layers:[]}),B=null===(n=z.current)||void 0===n?void 0:n.map,V=null===(s=z.current)||void 0===s?void 0:s.layers,{currentProjectId:H}=(0,C.Z)((e=>e.project)),W=(0,C.Z)((e=>d()(H)?void 0:x.Hx.selectById(e,H))),U=(0,C.Z)((e=>H?(0,m.M)(e,H):[])),G=null===U||void 0===U?void 0:U[0],q=(0,i.useRef)(G),$=(0,C.Z)((e=>e.layerNode.layersReadyState)),J=null===$||void 0===$||null===(M=$.find((e=>e.projectId===H&&e.layerId===(null===G||void 0===G?void 0:G.id))))||void 0===M?void 0:M.ready,Q=(0,c.useMediaQuery)({query:"(max-width: 375px)"}),K=E||!J,{defaultActiveControls:Y}=function(e){const{small:t}=(0,le.F)();return{defaultActiveControls:(0,i.useMemo)((()=>t?[]:Bt().get(Vt.Wr,[]).includes(e)?Ht.filter((e=>"legend"!==e)):Ht),[e,t])}}(H);(0,j.c)(L,H);const X=(null===G||void 0===G||null===(k=G.mapInfo)||void 0===k?void 0:k.layerType)||T;(0,v.w)({layerType:X,tableNodeID:P,isFeiShu:F,projectId:null===W||void 0===W?void 0:W.id,theme:N}),(0,g.w)(null===W||void 0===W?void 0:W.id),(0,y.S)(!E,H),(0,I.W)(null===W||void 0===W?void 0:W.id),(0,f.xJ)(),(0,i.useEffect)((()=>{D&&(0,p.Gn)(D).then((e=>{e&&S({type:"project/setColors",payload:e})}))}),[S,D]);const ee=(0,i.useMemo)((()=>{var e,t;return{center:u.join(","),zoomLevel:4,...null===W||void 0===W?void 0:W.mapConfig,isSet:!!R||(null===W||void 0===W||null===(e=W.mapConfig)||void 0===e?void 0:e.isSet),baseMap:A?_:null===W||void 0===W||null===(t=W.mapConfig)||void 0===t?void 0:t.baseMap}}),[null===W||void 0===W?void 0:W.mapConfig,_,R,A]);(0,l.ZP)(J&&null!==B&&void 0!==B&&B.isReady?[B,_,J,N]:null,(async()=>{await(0,Wt._)(500);var e;await(null===B||void 0===B?void 0:B.isReady)&&(null===B||void 0===B||null===(e=B.baseMap)||void 0===e||e.setMapStyle(_))}));const te=(0,i.useCallback)((e=>{S(et.Nw.updateMapConfig(e))}),[S]);return(0,i.useEffect)((()=>{!K&&null!==G&&void 0!==G&&G.id&&(Z||R)&&async function(){var e,t,n,i;q.current&&(null===(e=q.current.mapInfo)||void 0===e?void 0:e.tableNodeID)===(null===(t=G.mapInfo)||void 0===t?void 0:t.tableNodeID)&&(null===(n=q.current.mapInfo)||void 0===n?void 0:n.coordinateFieldID)===(null===(i=G.mapInfo)||void 0===i?void 0:i.coordinateFieldID)||(await(0,Wt._)(500),xt.m2.emit(G.id),q.current=G)}()}),[K,null===G||void 0===G?void 0:G.id,null===G||void 0===G?void 0:G.mapInfo,R,Z,V,G]),(0,i.useImperativeHandle)(t,(()=>({map:B,layers:V}))),(0,ye.jsxs)(r.Z,{spinning:K,delay:500,indicator:(0,ye.jsx)(o.Z,{style:{fontSize:60}}),tip:O.$t({id:"gjBiyj",defaultMessage:"Loading..."}),children:[(0,ye.jsx)(Rr,{ref:z,isThirdPartyTable:!0,enableTooltip:!0,readonly:!0,enablePickingMultiObjects:!0,isLoading:K,enableEditor:!1,enableAnnotation:!1,enableLegendLayerToggle:!1,controls:["fitBounds","legend"],controlsClassName:Zr,defaultActiveControls:Y,projectId:null===W||void 0===W?void 0:W.id,mapConfig:ee,baseMapProviders:F?["amap","mapbox","google"]:["mapbox","google"],infoWindowConfig:{visible:!Q,enableSetting:R||Z,enableEditCoordinate:!1,enableOpenDetailPanel:!1,enableProximityAnalysis:!1,customizeComponent:Zt},showOutlineLegend:!1,onMapStatusChange:te}),(0,ye.jsx)(Ft.Z,{})]})})),zr=Fr},71451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(57435),o=n(33718),a=n(22411),l=n(84991);const r={mapCopyright:"mapCopyright_mapCopyright__2ssrB",copyrightText:"mapCopyright_copyrightText__IYhZ+",copyrightLink:"mapCopyright_copyrightLink__ny6Ud",DARK:"mapCopyright_DARK__Fzkwk",copyrightInAmap:"mapCopyright_copyrightInAmap__ooWkT",copyrightInMapbox:"mapCopyright_copyrightInMapbox__zl2F0"};var s=n(94553);const d=e=>{let{className:t}=e;const{theme:n}=(0,a.F)(),{isLark:d}=(0,l.k)();(0,i.useEffect)((()=>{const e=()=>{const e=document.querySelector(".amap-copyright");e&&(e.innerHTML="")};e();const t=new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach((t=>{if(t.nodeType===Node.ELEMENT_NODE){var n,i;const o=t;(null!==(n=o.classList)&&void 0!==n&&n.contains("amap-copyright")||null!==(i=o.querySelector)&&void 0!==i&&i.call(o,".amap-copyright"))&&e()}}))}))}));return t.observe(document.body,{childList:!0,subtree:!0}),()=>{t.disconnect()}}),[n]);const c=document.querySelector(".amap-copyright"),u=document.querySelector(".mapboxgl-ctrl-logo")&&d;return(0,s.jsx)("div",{className:(0,o.default)(r.mapCopyright,n&&r[n],t,c&&r.copyrightInAmap,u&&r.copyrightInMapbox)})}},14330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ne});var i=n(57435),o=n(95620),a=n(53926),l=n.n(a),r=n(43179),s=n.n(r),d=n(68906),c=n(27371),u=n(50839),p=n(40621),h=n(30147),v=n(30768),g=n(49210),f=n(30423),m=n(94553);const y=e=>{const{isView:t,isFullScreen:n,isRenewal:a=!1,planInfo:{proExpirationAt:r},onUpgrade:d}=e,y=(0,o.Z)(),w=(0,f.I)(),[b,C]=(0,i.useMemo)((()=>{const e=s()(),t=s()(r);if(t.isSame(e,"day"))return[y.$t({id:"KQlr4V",defaultMessage:"Free trial expires {day}. Upgrade now to keep using Map Widgets."},{day:y.$t({id:"kkpP2k",defaultMessage:"today"})}),!0];if(t.add(-1,"day").isSame(e,"day")){const e=y.$t({id:"h3iFuP",defaultMessage:"tomorrow"});return a?[y.$t({id:"v4saA6",defaultMessage:"Your plan expires {day}. Renew now to keep using Map Widgets."},{day:e}),!1]:[y.$t({id:"KQlr4V",defaultMessage:"Free trial expires {day}. Upgrade now to keep using Map Widgets."},{day:e}),!0]}const n=(0,g.p6)(null!==r&&void 0!==r?r:"");return a?[y.$t({id:"pEgkOd",defaultMessage:"Your plan expires on {deadline}. Renew now to keep using Map Widgets."},{deadline:n}),!1]:[y.$t({id:"4aYb6v",defaultMessage:"Enjoy a free trial until {deadline}"},{deadline:n}),!1]}),[r,y,a]);return(0,m.jsx)(h.VI,{message:b,warning:C,button:(0,m.jsx)(p.Z,{onClick:()=>{d((e=>c.ZP.info({key:"upgrade-message-info",content:e,duration:5,style:{marginTop:"60px"}})),a)&&c.ZP.destroy("upgrade-message-info")},children:a?y.$t({id:"7q/bs/",defaultMessage:"Renew now"}):y.$t({id:"mmafso",defaultMessage:"Subscribe now"})}),closable:t||n,onClose:()=>{l().session.set(u.pT,{isRenewal:a,day:r?s()(r).diff(s()(),"day"):0}),w(v.Nw.setShowBannerOnDashboard(!1))},isFullScreen:n||t})};var w=n(68429);var b=n(50239),C=n(89166),x=n(47752),I=n(30289),j=n(31918),M=n(34061),k=n(45818),T=n(74695),E=n(38362);const P="LimitUseMask_maskWrapper__b4csS",O="LimitUseMask_contentWrapper__feIOV",S="LimitUseMask_content__p4Cgz",_="LimitUseMask_top__aUPRA",N="LimitUseMask_warning__MabSY",D="LimitUseMask_title__GXAr1",L="LimitUseMask_subTitle__04stX",A="LimitUseMask_bottom__NY3e-",R="LimitUseMask_blue__S1BDz",Z="LimitUseMask_trialButton__0Tcic",F="LimitUseMask_links__ohE6l",z="LimitUseMask_left__7g6ya",B="LimitUseMask_center__AqWm4",V="LimitUseMask_right__Jf-Pi",H="LimitUseMask_shared__t5OMs",W="LimitUseMask_copyButton__k0u1H",U=e=>{const{planInfo:{isPro:t,isOverQuota:n,teamPlan:a,canTrial:l,trialTimes:r,projectPlan:s},isFeiShu:u,loading:p,isShared:h,onUpgrade:v,onTrial:g}=e,f=(0,o.Z)(),y=(0,d.Z)((e=>e.user.id)),[U,G]=c.ZP.useMessage(),{data:q}=(0,I.ZP)(t&&n&&!h?["getPlanStat"]:null,(()=>T.Z.stat(u?"feishuDashboard":"larkDashboard"))),{mau:$,members:J}=(0,i.useMemo)((()=>{var e;return{mau:(null===q||void 0===q||null===(e=q[0])||void 0===e||null===(e=e.userIDs)||void 0===e?void 0:e.length)||1,members:(null===a||void 0===a?void 0:a.members)||1}}),[q,null===a||void 0===a?void 0:a.members]),Q=(0,i.useMemo)((()=>"base"===(null===s||void 0===s?void 0:s.plan)),[s]),K=(0,i.useMemo)((()=>{var e,t;return Q?null===s||void 0===s||null===(e=s.admins)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.name:null===a||void 0===a||null===(t=a.admins)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.name}),[null===a||void 0===a?void 0:a.admins,Q,null===s||void 0===s?void 0:s.admins]),Y=(0,i.useMemo)((()=>!t&&(null===a||void 0===a?void 0:a.prevPlan)&&"base"!==a.prevPlan),[t,a]),[X,ee]=(0,i.useMemo)((()=>[h||Q,h&&!t||Q]),[h,Q,t]),te=(0,i.useMemo)((()=>!t&&l&&r<1),[t,l,r]),ne=(0,i.useMemo)((()=>!t&&l&&r>0),[t,l,r]),ie=(0,i.useMemo)((()=>!t&&!l),[t,l]),oe=(0,i.useMemo)((()=>t&&n),[t,n]),[ae,le,re,se,de,ce]=(0,i.useMemo)((()=>ee?[Y?f.$t({id:"0Ze+1G",defaultMessage:"Renew Now"}):f.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),"",f.$t({id:"sQBh8e",defaultMessage:"Upgrade now to continue using Map Widgets."}),"",""]:Y?[f.$t({id:"0Ze+1G",defaultMessage:"Renew Now"}),f.$t({id:"JQ0Al8",defaultMessage:"Your subscription has expired."}),f.$t({id:"+bcay8",defaultMessage:"Please renew to continue."}),"",l&&!X?f.$t({id:"sjtT96",defaultMessage:"Get Map Widgets free for 7 days"}):""]:te?[f.$t({id:"9bIRYn",defaultMessage:"Start Trial"}),f.$t({id:"/0x6rd",defaultMessage:"Get Map Widgets free for 7 days. No credit card needed."}),"","","",!0]:ne?[f.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),f.$t({id:"44hbU4",defaultMessage:"Free Trial Expired"}),"","",l&&!X?f.$t({id:"VNrYVZ",defaultMessage:"Extend 7-Day Free Trial"}):""]:ie?[f.$t({id:"2LslN1",defaultMessage:"Upgrade Now"}),f.$t({id:"44hbU4",defaultMessage:"Free Trial Expired"}),f.$t({id:"sQBh8e",defaultMessage:"Upgrade now to continue using Map Widgets."}),"",""]:oe?[f.$t({id:"bcUuyQ",defaultMessage:"Expand Capacity Now"}),f.$t({id:"l43c99",defaultMessage:"Monthly Active Users Limit Exceeded"}),"",f.$t({id:"UtBGfJ",defaultMessage:"Your current plan supports {members} active users, but your organization have already reached {mau}. To continue using, please expand your capacity."},{mau:(0,m.jsx)("span",{className:R,children:$}),members:(0,m.jsx)("span",{className:R,children:J})}),l&&!X?f.$t({id:"sjtT96",defaultMessage:"Get Map Widgets free for 7 days"}):""]:["","",""]),[Y,te,f,ne,l,X,ie,oe,$,J,ee]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:P}),(0,m.jsx)(b.Z,{justify:"center",className:O,children:(0,m.jsxs)("div",{className:S,children:[(0,m.jsx)("div",{className:_,children:(0,m.jsxs)("div",{className:N,children:[(0,m.jsx)("div",{className:D,children:le}),(0,m.jsx)("div",{className:D,children:re}),(0,m.jsx)("div",{className:L,children:se})]})}),(0,m.jsxs)("div",{className:A,children:[!X&&(0,m.jsx)(C.ZP,{loading:p,size:"large",type:"primary",onClick:()=>{X||v((e=>U.open({key:"upgrade-message-info",type:"info",content:e,duration:5})),void 0,!ce)&&U.destroy("upgrade-message-info")},children:ae}),!X&&de&&g&&(0,m.jsx)(C.ZP,{loading:p,type:"link",onClick:g,className:Z,children:de}),X&&(0,m.jsx)("div",{className:H,children:f.$t({id:"8JiqjD",defaultMessage:"Please contact the owner to upgrade."})}),(0,E.tq)()?null:(0,m.jsxs)(b.Z,{justify:"space-between",align:"center",gap:24,className:F,children:[(0,m.jsx)("div",{className:z,children:(0,m.jsx)("a",{href:(0,k.t1)(f.locale,"dashboardPricing",u),target:"_blank",rel:"noreferrer",children:f.$t({id:"tbcTs8",defaultMessage:"Learn more about Map Widgets."})})}),(0,m.jsx)("div",{className:X?V:B,children:(0,m.jsx)("a",{href:M.Hf,target:"_blank",rel:"noreferrer",children:f.$t({id:"nCYYaf",defaultMessage:"Need help? Contact us"})})}),!X&&(0,m.jsxs)("div",{className:V,children:[(0,m.jsx)(C.ZP,{type:"text",className:W,onClick:async function(){if(y)try{await(0,j.v)(y),U.success(f.$t({id:"/wvLK9",defaultMessage:"Copied successfully"}))}catch{U.error(f.$t({id:"TUZLas",defaultMessage:"Copy failed"}))}},children:f.$t({id:"ufbTAW",defaultMessage:"Copy my User ID"})}),(0,m.jsx)(x.Z,{title:f.$t({id:"VOq7IM",defaultMessage:"If your org already has an active subscription, you can copy your user ID and send it to the admin {admin} to request access."},{admin:K?(0,m.jsxs)("span",{children:["(",(0,m.jsx)("strong",{children:K}),")"]}):""}),children:(0,m.jsx)(w.Z,{type:"info"})})]})]})]})]})}),G]})};var G=n(38509),q=n(33718),$=n(3891),J=n(81114);const Q="qrCode_content__YW2vP",K="qrCode_iconAlipay__-N9j6",Y="qrCode_iconWechat__rweE1",X="qrCode_iconMin__43Wru",ee="qrCode_amount__hNk9J",te="qrCode_qrcodeWrap__dHECj",ne="qrCode_message__ueyi3",ie="qrCode_success__5M2JS",oe="qrCode_iconSuccess__0FN0r",ae="qrCode_info__3mcbU",le="qrCode_time__wva39";function re(e){const{url:t,method:n,amount:a,paid:l,showAmount:r=!0}=e,s=(0,i.useRef)(null),[d,c]=i.useState(1800),u=(0,o.Z)(),p=(0,i.useCallback)((e=>"alipay"===e?u.$t({id:"3yNuzn",defaultMessage:"Alipay"}):"wechat"===e?u.$t({id:"O93+af",defaultMessage:"WeChat"}):"stripe"===e?u.$t({id:"kvOMtB",defaultMessage:"Credit card"}):""),[u]);return(0,i.useEffect)((()=>{s.current&&(clearInterval(s.current),s.current=null);let e=1800;return s.current=setInterval((()=>{e--,c(e)}),1e3),()=>{s.current&&(clearInterval(s.current),s.current=null)}}),[t]),(0,m.jsxs)("div",{className:Q,children:[r&&(0,m.jsxs)("div",{className:ee,children:[u.$t({id:"no6pRd",defaultMessage:"Payment amount\uff1a"}),(0,m.jsxs)("strong",{children:["\xa5 ",(0,g.lB)(a)]})]}),(0,m.jsxs)("div",{className:te,children:[(0,m.jsx)(G.Z,{type:"canvas",value:t,size:160}),l&&(0,m.jsx)("div",{className:ie,children:(0,m.jsx)(w.Z,{type:"checked",className:oe})})]}),(0,m.jsx)("div",{className:ae,children:(0,m.jsx)("span",{className:le,children:(0,g.Cl)(d)})}),(0,m.jsx)("div",{className:ne,children:u.$t({id:"lf8xeR",defaultMessage:"Please open {method} and scan QR code for payment"},{method:(0,m.jsxs)(m.Fragment,{children:["alipay"===n&&(0,m.jsx)($.Z,{className:(0,q.default)(K,X)}),"wechat"===n&&(0,m.jsx)(J.Z,{className:(0,q.default)(Y,X)}),(0,m.jsxs)("span",{children:[p(n),"\xa0"]})]})})})]})}const se=e=>{let{payUrl:t,amount:n,orderNo:o,planService:a,onFinish:l,onPaySuccess:r}=e;const[s,d]=(0,i.useState)(!1),c=(0,i.useRef)(null),u=(0,i.useCallback)((()=>{c.current&&(clearInterval(c.current),c.current=null)}),[]);return(0,i.useEffect)((()=>(o&&(u(),d(!1),c.current=setInterval((()=>{a.getOrder(o).then((e=>{if(0===e.code){const{status:t}=e.detail;"completed"===t&&(null===l||void 0===l||l(),d(!0),u(),setTimeout((()=>{r(e.detail.orderNo)}),2e3))}}))}),2e3)),()=>{u()})),[o,a,u,l,r]),(0,m.jsx)(re,{method:"wechat",url:t,amount:n,paid:s})};var de=n(42304),ce=n(84991),ue=n(83580),pe=n(86115),he=n.n(pe),ve=n(41928),ge=n(15328);const fe={content:"statusModal_content__BwMq4",icon:"statusModal_icon__owT3P",iconFail:"statusModal_iconFail__kiqaK",iconWarning:"statusModal_iconWarning__1JXv5",iconSuccess:"statusModal_iconSuccess__U9lR3",message:"statusModal_message__st8C4",textLeft:"statusModal_textLeft__j5GV5",realistic:"statusModal_realistic__egL7R"};function me(e){const{title:t,message:n,width:a=360,onClose:l,onConfirm:r,confirmText:s,closeText:d,centered:c=!1,visible:u,status:p,orderStatus:h,orderOperate:v}=e,g=(0,o.Z)(),f=("zh-CN"===g.locale?ve.l5["zh-CN"]:ve.l5["en-US"],(0,i.useCallback)((e=>{let t="payment.order";return"completed"!==e&&"closed"!==e||(t="change"===v?"payment.change":"renewal"===v?"payment.renewal":"payment.upgrade"),(0,ge.cS)(g,t,e)}),[g,v]));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ue.Vq,{visible:u,closable:!1,centered:c,title:t,width:a,footer:(0,m.jsxs)(b.Z,{justify:"end",gap:8,align:"center",style:{marginTop:16},children:[r&&(0,m.jsx)(C.ZP,{type:"primary",onClick:r,children:null!==s&&void 0!==s?s:g.$t({id:"N2IrpM",defaultMessage:"Confirm"})}),(0,m.jsx)(C.ZP,{type:"default",onClick:l,children:null!==d&&void 0!==d?d:g.$t({id:"rbrahO",defaultMessage:"Close"})}),"completed"===h&&(0,m.jsx)(C.ZP,{href:(0,k.xu)(g.locale,"paymentStatus"),type:"default",target:"_blank",rel:"noreferrer",children:g.$t({id:"QwSs+0",defaultMessage:"Check user manual"})})]}),children:(0,m.jsxs)("div",{className:fe.content,children:["paid"===p&&(0,m.jsx)(w.Z,{type:"checked",className:fe.iconSuccess}),("closed"===p||"refund"===p)&&(0,m.jsx)(w.Z,{type:"info",className:fe.iconWarning}),"failed"===p&&(0,m.jsx)(w.Z,{type:"alert",className:fe.iconFail}),p&&(0,m.jsx)("div",{className:fe.message,children:(0,ge.vX)(g,p)}),"completed"===h&&(0,m.jsx)(w.Z,{type:"checked",className:fe.iconSuccess}),"closed"===h&&(0,m.jsx)(w.Z,{type:"alert",className:fe.iconFail}),h&&(0,m.jsx)("div",{className:fe.message,children:f(h)}),n&&(0,m.jsx)("div",{className:(0,q.default)(fe.message,fe.textLeft),children:n}),"completed"===h?g.$t({id:"pZN4mA",defaultMessage:"You're all set to enjoy our services. Feel free to reach out if you have any questions!"}):null]})}),u&&"completed"===h&&(0,m.jsx)("div",{className:fe.realistic,children:(0,m.jsx)(he(),{autorun:{speed:1,duration:1,delay:200}})})]})}var ye=n(79129),we=n(59680),be=n(71105),Ce=n(15905),xe=n(34221),Ie=n(52451);const je={header:"upgrade_header__nU-dR",dialogTitle:"upgrade_dialogTitle__WJnwr",infoIcon:"upgrade_infoIcon__fRPiR",smallTitle:"upgrade_smallTitle__MGU7O",paymentCol:"upgrade_paymentCol__mzMiU",subTitle:"upgrade_subTitle__42JRe",title:"upgrade_title__r2qyy",closeIcon:"upgrade_closeIcon__EuVcL",totalPrice:"upgrade_totalPrice__NE72z",bottom0:"upgrade_bottom0__DHsFJ",paymentMethodContent:"upgrade_paymentMethodContent__ekNfw",link:"upgrade_link__Wdrnj",planBtn:"upgrade_planBtn__K646G",trialBtn:"upgrade_trialBtn__74Hya",trialText:"upgrade_trialText__v16SA",blank:"upgrade_blank__tSo+q",block:"upgrade_block__p3eV8",plans:"upgrade_plans__B31la",planWrap:"upgrade_planWrap__E7ZWN",plan:"upgrade_plan__08g93",current:"upgrade_current__skp6x",name:"upgrade_name__f6qA4",desc:"upgrade_desc__H9jPX",subDesc:"upgrade_subDesc__WsXiH",currentPlanBtn:"upgrade_currentPlanBtn__UmVTF",contactUsBtn:"upgrade_contactUsBtn__ZXfLw",features:"upgrade_features__xZnMN",footer:"upgrade_footer__57ofF",footerLeft:"upgrade_footerLeft__uoY5A",footerRight:"upgrade_footerRight__5QJcp",trialDialog:"upgrade_trialDialog__p3K3t",iconSuccess:"upgrade_iconSuccess__FHYAp",trialDialogInfo:"upgrade_trialDialogInfo__mry5W",trialing:"upgrade_trialing__6-GAe",trialExpired:"upgrade_trialExpired__gkRxx",help:"upgrade_help__8lpMn",info:"upgrade_info__4L74p",paymentContent:"upgrade_paymentContent__QtpnI",paymentTypeTitle:"upgrade_paymentTypeTitle__dmeDI",seatsInfo:"upgrade_seatsInfo__4SuLh",titleMini:"upgrade_titleMini__OWIfk",mauMini:"upgrade_mauMini__Tq9hp",paymentType:"upgrade_paymentType__fIdfI",list:"upgrade_list__OsWPR",item:"upgrade_item__8M+oF",active:"upgrade_active__P-RcC",priceContainer:"upgrade_priceContainer__cEIhe",priceInfo:"upgrade_priceInfo__YxH1H",priceDesc:"upgrade_priceDesc__X6aNX",priceExtra:"upgrade_priceExtra__BtlBw",expireAt:"upgrade_expireAt__OOYwK",expireAtMini:"upgrade_expireAtMini__S0Bxb",expireDate:"upgrade_expireDate__neiyi",priceMore:"upgrade_priceMore__T5X0D",changePrice:"upgrade_changePrice__btDMd",seatsInfoRenewal:"upgrade_seatsInfoRenewal__tGpSO",seatsInfoRenewalText:"upgrade_seatsInfoRenewalText__OkQ9r",priceMoreMini:"upgrade_priceMoreMini__UNitG",symbol:"upgrade_symbol__-aMth",price:"upgrade_price__3G0Fd",originalPrice:"upgrade_originalPrice__k-y2Q",sliderContainer:"upgrade_sliderContainer__XWEVt",slider:"upgrade_slider__+3jbQ",sliderTitle:"upgrade_sliderTitle__TwrxW",sliderChange:"upgrade_sliderChange__QP+rU",quantity:"upgrade_quantity__N4kWI",payText:"upgrade_payText__L4Uka",payButton:"upgrade_payButton__00GhQ",coupon:"upgrade_coupon__a812w",suggestion:"upgrade_suggestion__9Gq5I",remaining:"upgrade_remaining__X+qE4",validity:"upgrade_validity__HpLvf",payButtonContainer:"upgrade_payButtonContainer__EZEaX",noRenewal:"upgrade_noRenewal__UU4Y3",infoTitle:"upgrade_infoTitle__Tm+O5",infoList:"upgrade_infoList__lV5U1",infoCol:"upgrade_infoCol__cPJqN",helpInfo:"upgrade_helpInfo__5ynIv",infoItem:"upgrade_infoItem__Cjz7e",renewalPriceInfo:"upgrade_renewalPriceInfo__i3fBA",finishing:"upgrade_finishing__dIHu8",page:"upgrade_page__EWUwR",userGroupIcon:"upgrade_userGroupIcon__tUrq1"},Me=e=>{var t,n;const{amount:a,isCreateOrder:l,quantity:r,minQuantity:d,coupon:c,isFeiShu:u=!0,members:p,operate:h,expireAt:v,isLoading:f,suggestQuantity:y,teamPlan:b,isFinishing:x,setQuantity:I,onClose:j,onCreateOrder:T}=e,E=(0,o.Z)(),P=(0,M.cr)(u),O="zh-CN"===E.locale?ve.l5["zh-CN"]:ve.l5["en-US"],S=u?"\uffe5":"USD",_=(0,i.useMemo)((()=>"change"===h?r-(p||0):r),[r,h,p]),N=(0,i.useMemo)((()=>"change"===h?d-(p||0):d),[d,h,p]),D=(0,i.useMemo)((()=>{switch(h){case"change":return _>50?0:_;case"upgrade":return y;case"renewal":return p}}),[h,y,p,_]),[L,A]=(0,i.useMemo)((()=>{switch(h){case"change":return[E.$t({id:"ZztMSR",defaultMessage:"Expand Your Team"}),""];case"upgrade":return[E.$t({id:"94B9UQ",defaultMessage:"Unlock the Full Potential of Map Widgets"}),E.$t({id:"dGGv7q",defaultMessage:"Seats: Your team members who can view or edit the Map Widget. Members from external teams will not be counted."})];case"renewal":return[E.$t({id:"Xt5vDP",defaultMessage:"Renew Subscription"}),(0,m.jsxs)("div",{className:je.seatsInfoRenewal,children:[(0,m.jsx)(w.Z,{type:"userGroup"})," ",(0,m.jsx)("span",{className:je.seatsInfoRenewalText,children:D})]})]}}),[h,E,D]);return x?(0,m.jsx)(we.Z,{spinning:x,className:je.finishing}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("header",{className:je.header,children:[(0,m.jsx)("div",{className:je.dialogTitle,children:L}),j&&(0,m.jsx)(w.Z,{type:"close",className:je.closeIcon,onClick:j})]}),(0,m.jsxs)(be.Z,{align:"top",className:je.paymentMethodWrapper,children:[(0,m.jsxs)(Ce.Z,{sm:24,md:24,lg:12,className:je.paymentCol,children:[(0,m.jsx)("div",{className:je.subTitle,children:"renewal"===h?E.$t({id:"5KEuE2",defaultMessage:"Seats in current billing cycle"}):"change"===h?E.$t({id:"a70qq4",defaultMessage:"How many seats you want to add?"}):E.$t({id:"XiYPGa",defaultMessage:"Select how many seats your team needs"})}),(0,m.jsx)("div",{className:je.seatsInfo,children:A}),"renewal"!==h&&(0,m.jsxs)("div",{className:je.slider,children:[(0,m.jsx)(w.Z,{type:"userGroup",className:je.userGroupIcon}),(0,m.jsx)(xe.Z,{value:_,min:N,max:9999,step:1,onChange:function(e){let t=null!==e&&void 0!==e?e:d;"change"===h&&p&&(t+=p),t<d||I(t)},controls:!0})]}),(0,m.jsxs)("div",{className:je.suggestion,children:["upgrade"===h&&E.$t({id:"HNVN6y",defaultMessage:"Based on average usage, we suggest {seats} for your team. Your account will automatically get the seat activated."},{seats:(0,m.jsx)("strong",{children:E.$t({id:"kW+/4r",defaultMessage:"{seats} seats"},{seats:D})})}),"change"===h&&E.$t({id:"/Np/6s",defaultMessage:"This purchase will add {seats} more seats. You will automatically receive admin access and be able to assign the seats."},{seats:(0,m.jsx)("strong",{children:_})}),"renewal"===h&&E.$t({id:"5wt61N",defaultMessage:"You will pay for {seats} in current billing cycle for you team. To increase or decrease the number of renewal seats, {contact}."},{seats:(0,m.jsx)("strong",{children:E.$t({id:"7Bl/t6",defaultMessage:"existing {seats} seats"},{seats:D})}),contact:(0,m.jsx)("a",{href:P,target:"_blank",rel:"noreferrer",children:E.$t({id:"oSSUIc",defaultMessage:"please contact us"})})})]}),(0,m.jsxs)("div",{className:je.totalPrice,children:[_<=50?(0,m.jsxs)("div",{className:(0,q.default)(je.priceInfo,"renewal"===h&&je.renewalPriceInfo),children:[(0,m.jsxs)("div",{className:je.paymentTypeTitle,children:["renewal"===h?E.$t({id:"So9jyY",defaultMessage:"Total price for the next billing cycle"}):E.$t({id:"mah+Bl",defaultMessage:"Total Price"}),c&&"change"!==h&&(0,m.jsx)("span",{className:je.coupon,children:null!==(t=null===(n=c.extra)||void 0===n||null===(n=n.locales)||void 0===n||null===(n=n[E.locale])||void 0===n?void 0:n.desc)&&void 0!==t?t:c.desc})]}),(0,m.jsxs)(we.Z,{spinning:f,children:[(0,m.jsxs)("div",{className:je.priceContainer,children:[(0,m.jsx)("div",{className:je.symbol,children:S}),(0,m.jsx)("div",{className:je.price,children:(0,g.qT)(a)}),(0,m.jsx)("div",{className:je.validity,children:E.$t({id:"y45WMN",defaultMessage:"Valid: {start} - {end}"},{start:"renewal"===h&&null!==b&&void 0!==b&&b.expireAt?(0,g.p6)(null===b||void 0===b?void 0:b.expireAt):(0,g.p6)(s()().format()),end:v?(0,g.p6)(v):""})})]}),"change"===h&&(0,m.jsx)("div",{className:je.remaining,children:E.$t({id:"J7rCh4",defaultMessage:"Pro-rated billing for remaining commitment period"})})]})]}):(0,m.jsx)("div",{className:(0,q.default)(je.priceMore,"change"===h&&je.changePrice),children:E.$t({id:"VTgdAv",defaultMessage:"Need more than 50 seats, contact us for discount"})}),(0,m.jsxs)("div",{className:je.payButtonContainer,children:[(0,m.jsxs)(C.ZP,{type:"primary",size:"large",className:je.payButton,disabled:f,loading:l,onClick:function(){_<=50?T():window.open(P,"_blank")},children:[_<=50&&(u?(0,m.jsx)(J.Z,{}):(0,m.jsx)(Ie.Z,{})),_>50?E.$t({id:"WnQ/AZ",defaultMessage:"Contact us"}):E.$t({id:"bTJWvP",defaultMessage:"Confirm and pay"})]}),(0,m.jsx)("div",{className:je.noRenewal,children:E.$t({id:"KZh4Of",defaultMessage:"No auto-renewal after expiration"})})]})]})]}),(0,m.jsxs)(Ce.Z,{sm:24,md:24,lg:12,className:je.infoCol,children:[(0,m.jsxs)("div",{className:je.info,children:[(0,m.jsx)("div",{className:je.infoTitle,children:E.$t({id:"BPZimA",defaultMessage:"Benefits include:"})}),(0,m.jsxs)("ul",{className:je.infoList,children:[(0,m.jsxs)("li",{className:je.infoItem,children:[(0,m.jsx)("strong",{children:E.$t({id:"GDPqQQ",defaultMessage:"Available in Dashboard & App"})}),(0,m.jsx)("div",{children:E.$t({id:"J8ijrg",defaultMessage:"One purchase unlocks access for both modes, with unlimited usage."})})]}),(0,m.jsxs)("li",{className:je.infoItem,children:[(0,m.jsx)("strong",{children:E.$t({id:"FIRrly",defaultMessage:"Various Map Widgets"})}),(0,m.jsx)("div",{children:E.$t({id:"5q64OO",defaultMessage:"Standard map, heat map, and regional map built for diverse business needs."})})]}),(0,m.jsxs)("li",{className:je.infoItem,children:[(0,m.jsx)("strong",{children:E.$t({id:"kwOy+z",defaultMessage:"Pay as You Go"})}),(0,m.jsx)("div",{children:(0,m.jsx)(k.BQ,{text:(0,ye.Em)({id:"BShugB",defaultMessage:"Scale your seats as your team grows. Automatic allocation to <a>monthly active users</a> by default or flexible seat distribution."}),link:"dashboardActiveUsers",className:je.link,isFeishuDashboard:u})})]})]})]}),(0,m.jsxs)("div",{className:je.helpInfo,children:[u&&(0,m.jsx)("div",{children:(0,m.jsx)(k.BQ,{text:(0,ye.Em)({id:"TpFT43",defaultMessage:"VAT invoices available <a>upon request</a>"}),linkUrl:O,isFeishuDashboard:u})}),(0,m.jsx)("div",{children:E.$t({id:"VzOxJs",defaultMessage:"Need help? {fqa} or {contact}."},{fqa:(0,m.jsx)("a",{href:(0,k.t1)(E.locale,"dashboardPricing",u),target:"_blank",rel:"noreferrer",children:E.$t({id:"eMa7Hs",defaultMessage:"Check FAQs"})}),contact:(0,m.jsx)("a",{href:P,target:"_blank",rel:"noreferrer",children:E.$t({id:"WnQ/AZ",defaultMessage:"Contact us"})})})})]})]})]})]})};function ke(e){const{isDialog:t,showUpgradeDialog:n,showPaymentResult:i=!1,teamPlan:o,operate:a,price:l,amount:r,expireAt:s,isLoading:d,isCreateOrder:c,quantity:u,minQuantity:p,isFeiShu:h,coupon:v,suggestQuantity:g,isFinishing:f,setQuantity:y,onCreateOrder:w,onClose:b}=e;return(0,m.jsx)(m.Fragment,{children:t?(0,m.jsx)(ue.Vq,{visible:n||!1,footer:null,title:null,closable:!1,width:720,destroyOnHidden:!0,children:(0,m.jsx)(Me,{members:null===o||void 0===o?void 0:o.members,teamPlan:o,operate:a,price:l,amount:r,expireAt:s,isLoading:d,isCreateOrder:c,quantity:u,minQuantity:p,isFeiShu:h,coupon:v,suggestQuantity:g,isFinishing:f,setQuantity:y,onClose:b,onCreateOrder:w})}):(0,m.jsx)(m.Fragment,{children:!i&&(0,m.jsx)(Me,{members:null===o||void 0===o?void 0:o.members,teamPlan:o,operate:a,price:l,amount:r,expireAt:s,isLoading:d,isCreateOrder:c,quantity:u,minQuantity:p,isFeiShu:h,coupon:v,suggestQuantity:g,isFinishing:f,setQuantity:y,onCreateOrder:w})})})}function Te(e){const{isFeiShu:t,orgId:a,upgradeType:l,planInfo:r,showUpgradeDialog:s,isDialog:d,service:c,isShared:u=!1,onResultClose:p}=e,{teamPlan:h}=r,g=(0,o.Z)(),[y,b]=(0,i.useState)(3),[x,j]=(0,i.useState)(),[M,k]=(0,i.useState)(""),[T,E]=(0,i.useState)(!1),[P,O]=(0,i.useState)(!1),[S,_]=(0,i.useState)(!1),[N,D]=(0,i.useState)(!1),[L,A]=(0,i.useState)(!1),[R,Z]=(0,i.useState)("upgrade"),[F,z]=(0,i.useState)(!1),B=(0,f.I)(),V=t?"feishuDashboard":"larkDashboard",H="larkDashboard"===V?(0,i.lazy)((()=>Promise.all([n.e(490),n.e(847)]).then(n.bind(n,77847)))):null,W=t?"CNY":"USD",U=t?"wechat":"stripe",G="base"!==(null===h||void 0===h?void 0:h.plan)?"renewal"===l?"renewal":"change":"upgrade",q=(0,i.useMemo)((()=>{var e;const t="upgrade"===G?1:null!==(e=null===h||void 0===h?void 0:h.members)&&void 0!==e?e:1;return"change"===G?t<2?2:t+1:t}),[G,null===h||void 0===h?void 0:h.members]),{data:$,isLoading:J}=(0,I.ZP)(y&&!u?["calculatePrice",W,G,V,y,a]:null,(()=>c.getPlanPrice(V,G,W,y,a))),[Q,K,Y,X]=(0,i.useMemo)((()=>{let e,t,n=0,i=0;var o;0===(null===$||void 0===$?void 0:$.code)&&null!==$&&void 0!==$&&$.detail&&(n=$.detail.price,i=$.detail.amount,e=$.detail.expireAt,t=null===(o=$.detail.coupons)||void 0===o?void 0:o.find((e=>"special_price"===e.type&&"product"===e.scope)));return[n,i,e,t]}),[$]),{data:ee}=(0,I.ZP)(u?null:["getPlanStat"],(()=>c.stat(t?"feishuDashboard":"larkDashboard"))),te=(0,i.useMemo)((()=>{const e=null===ee||void 0===ee?void 0:ee.slice(0,3).map((e=>{var t;return(null===(t=e.userIDs)||void 0===t?void 0:t.length)||0})),t=null!==e&&void 0!==e&&e.length?Math.ceil(e.reduce(((e,t)=>e+t),0)/e.length):0;return Math.max(q,t)}),[ee,q]);(0,i.useEffect)((()=>{te>0&&b(te)}),[te]),(0,i.useEffect)((()=>{y<q&&b(q)}),[y,q]);const ne=(0,i.useCallback)((e=>{c.getOrdersPlan(V).then((t=>{const{code:n,detail:i}=t;if(0===n&&i){const t=i.orders.find((t=>t.orderNo===e));"paid"===(null===t||void 0===t?void 0:t.paymentStatus)&&(B(de.Nw.planChange(i)),B(v.Nw.setUpgradeDialogVisible(!1)),E(!1),O(!1),i.isTrial?D(!0):_(!0))}setTimeout((()=>z(!1)))}))}),[c,V,B]),ie=(0,i.useCallback)((()=>{z(!0)}),[]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ke,{isDialog:d,showUpgradeDialog:s,showPaymentResult:S,members:null===h||void 0===h?void 0:h.members,teamPlan:h,operate:G,price:Q,amount:K,expireAt:Y,isLoading:J,isCreateOrder:L,quantity:y,minQuantity:q,isFeiShu:t,coupon:X,suggestQuantity:te,isFinishing:F,setQuantity:b,onClose:function(){B(v.Nw.setUpgradeDialogVisible(!1))},onCreateOrder:()=>{A(!0),Z(G),c.createOrder(V,G,{currency:W,paymentMethod:U,quantity:y,thirdpartyOrgID:a}).then((e=>{if(0===(null===e||void 0===e?void 0:e.code)&&null!==e&&void 0!==e&&e.detail){const{order:n,payUrl:i}=e.detail;i&&(k(i),j(n),t?E(!0):O(!0))}})).finally((()=>{A(!1)}))}}),t?(0,m.jsx)(ue.Vq,{visible:T,footer:null,title:null,width:500,destroyOnHidden:!0,zIndex:2e3,onCancel:()=>{E(!1)},children:(0,m.jsx)(se,{planService:c,payUrl:M,amount:(null===x||void 0===x?void 0:x.amount)||0,orderNo:null===x||void 0===x?void 0:x.orderNo,onFinish:ie,onPaySuccess:ne})}):null,t?null:H&&(0,m.jsx)(ue.Vq,{visible:P,footer:null,title:null,width:500,destroyOnHidden:!0,zIndex:2e3,onCancel:()=>{O(!1)},children:(0,m.jsx)(i.Suspense,{fallback:null,children:(0,m.jsx)(H,{planService:c,clientSecret:M,order:x,onFinish:ie,onPaySuccess:ne})})}),(0,m.jsx)(ue.Vq,{visible:N,footer:null,title:null,width:400,destroyOnHidden:!0,children:(0,m.jsxs)("div",{className:je.trialDialog,children:[(0,m.jsx)(w.Z,{type:"checked",className:je.iconSuccess}),(0,m.jsx)("div",{className:je.trialDialogInfo,children:g.$t({id:"yLtQoy",defaultMessage:"You have successfully unlocked the free trial for Pro."})}),(0,m.jsx)(C.ZP,{type:"primary",onClick:()=>D(!1),children:g.$t({id:"rbrahO",defaultMessage:"Close"})})]})}),S&&(0,m.jsx)(me,{orderStatus:"completed",orderOperate:R,closeText:g.$t({id:"rbrahO",defaultMessage:"Close"}),visible:S,onClose:()=>{null===p||void 0===p||p(),_(!1)}})]})}function Ee(){const{isFeiShu:e,isShared:t}=(0,ce.k)(),{orgId:n,planInfo:i}=(0,d.Z)((e=>e.user)),{showUpgradeDialog:o,upgradeType:a}=(0,d.Z)((e=>e.project));return(0,m.jsx)(Te,{isShared:t,service:T.Z,isFeiShu:e,orgId:n,upgradeType:a,planInfo:i,showUpgradeDialog:o,isDialog:!0})}var Pe=n(41867),Oe=n(74922),Se=n(543);const _e="https://maptable.com/feishu/plan",Ne=()=>{const e=(0,o.Z)(),t=(0,f.I)(),{isFeiShu:n}=(0,ce.k)(),{isFullScreen:a,isCreate:r,isConfig:c,isView:p,isShared:h}=(0,Oe.Z)(),{planInfo:g,orgId:w}=(0,d.Z)((e=>e.user)),b=(0,d.Z)((e=>e.project.currentOrgId)),[C,x]=(0,i.useState)(!1),I=n?"feishuDashboard":"larkDashboard",{isPro:j,isOverQuota:M,canTrial:k,trialTimes:P,isTrial:O,proExpirationAt:S,teamPlan:_}=g,N=(0,i.useMemo)((()=>!j&&(null===_||void 0===_?void 0:_.prevPlan)&&"base"!==_.prevPlan),[j,_]),D=(0,i.useMemo)((()=>w&&w===b),[w,b]),L=(0,i.useMemo)((()=>{var e;return"base"===(null===(e=g.projectPlan)||void 0===e?void 0:e.plan)}),[g.projectPlan]),A=(0,i.useMemo)((()=>c||r),[c,r]),R=(0,i.useMemo)((()=>(D||w&&b&&A)&&(!j||M)&&k),[D,w,b,A,j,M,k]),Z=(0,i.useMemo)((()=>l().session.get(u.pT)),[]),F=(0,i.useMemo)((()=>!(!j||M||O||!S)&&s()(S).isBefore(s()().add(30,"days"),"day")),[j,M,O,S]),z=(0,i.useMemo)((()=>{if(!S)return!0;if(!Z)return!1;if(F!==Z.isRenewal)return!1;const e=s()(S).diff(s()(),"day");let t=30;return e<=7?t=e:e<30&&(t=14),!(Z.day>t)||e>t}),[Z,F,S]),B=(0,i.useMemo)((()=>!h&&(!(z&&!A)&&((D||A)&&(O&&j||F)))),[D,A,O,z,j,F,h]);(0,i.useEffect)((()=>{t(v.Nw.setShowBannerOnDashboard(B))}),[B,t]);const V=(0,i.useMemo)((()=>(D||A||h||L)&&(!j||!!M)&&(!A||P>0||N)),[D,A,j,M,P,N,h,L]);async function H(){if(!h){x(!0);try{var e;if("completed"!==(null===(e=(await T.Z.createOrder(I,"trial",{paymentMethod:"stripe"})).detail)||void 0===e||null===(e=e.order)||void 0===e?void 0:e.status))return;const{code:n,detail:i}=await T.Z.getOrdersPlan(I);if(0!==n)return;await t(de.Nw.planChange(i))}finally{x(!1)}}}function W(i,o,a){return!!h||(R&&!a?(H(),!0):(0,E.tq)()?(i(e.$t({id:"+UNKHA",defaultMessage:"Please process the upgrade from your computer"})),!1):c||r||!(window.innerWidth<720||window.innerHeight<460)?(t(o?v.Nw.setUpgradeType("renewal"):v.Nw.setUpgradeDialogVisible(!0)),Pe.Z.mpTrackClick("Plan",o?"Renewal":"Upgrade",e.locale,{}),!0):_e?(Se.Z.getCode().then((t=>{window.open("".concat(_e,"?code=").concat(t,"&lang=").concat(e.locale).concat(o?"&type=renewal":"").concat(n?"":"&lark=1"),"_blank")})).catch((()=>{i(e.$t({id:"vggsfq",defaultMessage:"Please increase the size of the widget to continue the upgrade"}))})),!0):(i(e.$t({id:"vggsfq",defaultMessage:"Please increase the size of the widget to continue the upgrade"})),!1))}return(0,m.jsxs)(m.Fragment,{children:[B&&(0,m.jsx)(y,{planInfo:g,isView:p,isFullScreen:a,isRenewal:F,onUpgrade:W}),V&&(0,m.jsx)(U,{isShared:h,planInfo:g,isFeiShu:n,loading:C,onUpgrade:W,onTrial:H}),!h&&(0,m.jsx)(Ee,{})]})}},17994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Dt});var i=n(57435),o=n(17778),a=n(80835),l=(n(95315),n(23764)),r=(n(87797),n(95131),n(40585),n(82845),n(6895),n(61924)),s=n(95620),d=n(59680),c=n(2550),u=n(82086),p=n(74720),h=n.n(p),v=n(34362),g=n.n(v),f=n(8942),m=n.n(f),y=n(53926),w=n.n(y),b=n(22411),C=n(34262),x=n(44669),I=n(30289),j=n(43905),M=n(67444),k=n(74922),T=n(68906),E=n(41791),P=n(80634);var O=n(38882),S=n(468),_=n.n(S),N=n(27831),D=n.n(N),L=n(65301),A=n.n(L),R=n(56765),Z=n(85604),F=n(95094),z=n(38942);var B=n(75805),V=n(30768),H=n(10276),W=n(84991),U=n(61343),G=n(50839),q=n(42015),$=n(91722),J=n(73187);const Q=e=>{const t=JSON.stringify(e),n=J.ZP.gzip(t);let i="";for(let o=0;o<n.length;o+=8192){const e=n.slice(o,o+8192);i+=String.fromCharCode.apply(null,e)}return{compressed:!0,data:btoa(i)}},K=e=>{if((!e||"object"===typeof e)&&!("compressed"in e))return e;try{const{compressed:t,data:n}=e;if(!t)return n;const i=atob(n),o=new Uint8Array(i.length);for(let e=0;e<i.length;e++)o[e]=i.charCodeAt(e);const a=J.ZP.ungzip(o,{to:"string"});return JSON.parse(a)}catch(t){return console.error("\u89e3\u538b\u6570\u636e\u5931\u8d25:",t),null}};var Y=n(36441),X=n(30423),ee=n(38362);const te=e=>{var t;let{dashboardData:o,isDashboardLoading:a,map:l}=e;const r=(0,s.Z)(),d=(0,X.I)(),{isFeiShu:u,isDashboardApi:p}=(0,W.k)(),{currentProjectId:v}=(0,T.Z)((e=>e.project)),g=(0,T.Z)((e=>v?(0,B.M)(e,v):[])),f=(0,T.Z)((e=>e.project.drillDown)),[y,b]=(0,i.useMemo)((()=>{const e=null===g||void 0===g?void 0:g[0];return[e,null===e||void 0===e?void 0:e.mapInfo]}),[g]),C=(0,H.fg)(null===b||void 0===b?void 0:b.tableNodeID),[x,j]=(0,i.useState)(),[M,E]=(0,i.useState)(),[P,O]=(0,i.useState)(o),[S,N]=(0,i.useState)(),[L,J]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(!1),{isConfig:ie,isCreate:oe}=(0,k.Z)(),[ae,le]=(0,i.useState)(),[re,se]=(0,i.useState)(),de=(0,i.useRef)(1),ce=(0,i.useCallback)((e=>{const t=w().get(G.BH)||{};if(v)try{const n=Q(e);w().set(G.BH,{...t,[v]:n})}catch{const n=_()(t,D()(A()(t),5)),i=Q(e);w().set(G.BH,{...n,[v]:i})}}),[v]);(0,i.useEffect)((()=>{(ie||oe)&&p&&S&&!o&&(N(void 0),le(void 0),se(void 0))}),[p,S,o,ie,oe]);const ue=(0,i.useCallback)((async e=>{if(e.data.id===de.current)if("processing"===e.data.type)J(!0);else{ne(!0),J(!1);const{data:t}=e.data,n={...y,...t.data};N(n),n.mapInfo.regionConfig.country&&!f&&ce(n),le(t.notMatchedItems),se(t.totalItems)}}),[y,f,ce]),{newWorker:pe}=function(e){const[t,o]=(0,i.useState)(),a=(0,i.useRef)(),l=(0,i.useRef)(e),r=(0,i.useCallback)((()=>{t&&(l.current&&t.removeEventListener("message",l.current),t.terminate(),o(void 0))}),[t]),s=(0,i.useCallback)((()=>(r(),a.current||(a.current=new $.q(new URL(n.p+n.u(524),n.b)).createWorker().then((e=>(o(e),a.current=void 0,e)))),a.current)),[r]);return(0,i.useEffect)((()=>{t&&(l.current&&t.removeEventListener("message",l.current),l.current=e,t.addEventListener("message",e))}),[t,e]),(0,i.useEffect)((()=>()=>{r()}),[r]),{newWorker:s}}(ue);(0,i.useEffect)((()=>{if(ie||oe)return;const e=w().get(G.BH)||{};if(!v)return;const t=e[v];if(!t||m()(t,S)||f)return;const n=K(t);K&&!m()(n,S)&&N(n)}),[S,v,ie,oe,f]);const he=(0,i.useMemo)((()=>{var e,t,n,i,o,a,l,r;const s=!m()(null===b||void 0===b?void 0:b.tableNodeID,null===x||void 0===x?void 0:x.tableNodeID),d=!m()(null===b||void 0===b?void 0:b.regionDimensionFieldID,null===x||void 0===x?void 0:x.regionDimensionFieldID),c=!m()(null===b||void 0===b?void 0:b.latitudeFieldID,null===x||void 0===x?void 0:x.latitudeFieldID),u=!m()(null===b||void 0===b?void 0:b.regionIndexStatsFieldID,null===x||void 0===x?void 0:x.regionIndexStatsFieldID),p=!m()(null===b||void 0===b?void 0:b.specifyByFieldID,null===x||void 0===x?void 0:x.specifyByFieldID),h=!m()(null===b||void 0===b||null===(e=b.regionConfig)||void 0===e?void 0:e.aggregateBy,null===x||void 0===x||null===(t=x.regionConfig)||void 0===t?void 0:t.aggregateBy),v=!m()(null===b||void 0===b||null===(n=b.regionConfig)||void 0===n?void 0:n.regionId,null===x||void 0===x||null===(i=x.regionConfig)||void 0===i?void 0:i.regionId),g=!m()(null===b||void 0===b||null===(o=b.regionConfig)||void 0===o?void 0:o.indexStatsMethod,null===x||void 0===x||null===(a=x.regionConfig)||void 0===a?void 0:a.indexStatsMethod),f=!m()(null===b||void 0===b||null===(l=b.regionConfig)||void 0===l?void 0:l.hideEmpty,null===x||void 0===x||null===(r=x.regionConfig)||void 0===r?void 0:r.hideEmpty);return s||d||c||u||p||h||v||g||f}),[b,x]),ve=(0,i.useMemo)((()=>{var e,t;if("region"===(null===b||void 0===b||null===(e=b.regionConfig)||void 0===e?void 0:e.dimension)&&(null===b||void 0===b||!b.regionDimensionFieldID))return!1;if(he)return!1;if(p)return!1;if(a)return!1;if(null===C||void 0===C||!C.rowsCount)return!1;if(C.rowsCount>5e3)return!0;if(null===C||void 0===C||null===(t=C.columns)||void 0===t||!t.length)return!1;const n=C.columns.filter((e=>"lookup"===e.type)).length;return n>3||C.columns.filter((e=>"formula"===e.type)).length>6-n}),[p,he,null===C||void 0===C?void 0:C.rowsCount,null===C||void 0===C?void 0:C.columns,a,null===b||void 0===b||null===(t=b.regionConfig)||void 0===t?void 0:t.dimension,null===b||void 0===b?void 0:b.regionDimensionFieldID]),ge=(0,i.useMemo)((()=>{var e,t,n,i;return!x||(!(!he||p&&a)||(!(!p||a||m()(o,P))||!p&&(!m()(null===C||void 0===C?void 0:C.id,null===M||void 0===M?void 0:M.id)||!m()(null===C||void 0===C||null===(e=C.rows)||void 0===e?void 0:e.length,null===M||void 0===M||null===(t=M.rows)||void 0===t?void 0:t.length)||!m()(null===C||void 0===C||null===(n=C.columns)||void 0===n?void 0:n.length,null===M||void 0===M||null===(i=M.columns)||void 0===i?void 0:i.length))))}),[x,he,C,M,p,o,P,a]),{isLoading:fe,isValidating:me}=(0,I.ZP)(y&&b&&(!p&&null!==C&&void 0!==C&&C.rows||p&&!a&&o)&&null!==C&&void 0!==C&&C.columns&&ge?["region/getLayer",b,C,p?o:void 0,r.locale]:null,(async e=>{var t;let[n,i,o,a,l]=e;const r=await pe(),{regionConfig:s}=i,{aggregateBy:d,country:c}=s||{},p="admin0"===d,h=u?"world/cas":"world/wb",v=await(0,U.gd)(i),g=p?null===(t=Object.values(await(0,q.RG)(h)))||void 0===t?void 0:t.flat(2):await(0,q.RG)(c);de.current+=1,r.postMessage({id:de.current,locale:l,mapInfo:i,tableNode:o,dashboardData:a,regionGeojson:v,allIndexOptions:g})}),{onSuccess:()=>{j(b),E(C),O(o)}}),ye=function(e,t){return n=>{var i;const o=null!==(i=null===t||void 0===t?void 0:t.extensions)&&void 0!==i?i:[];return{...[Z.R,z.I,F.X,...o].reduce(((t,i)=>(Object.assign(t,i(e,n,t)),t)),{}),config:e}}}((0,i.useMemo)((()=>{var e,t,n,i,o,a,l,r,s,d,c,u,p,h,v,g,f,y,w,C,x,I,j,M,k,T,E,P,O,S,N,D,L;const A=m()(_()(null===b||void 0===b?void 0:b.outlineConfig,"colorScheme"),{align:"center",colors:["#0065ff"],reverse:!1,strokeMethod:"quantile",strokeOpacity:0,strokeWeight:0,thresholds:[]});return{fieldConfig:{labelID:null===b||void 0===b?void 0:b.labelFieldID,regionDimensionID:null===b||void 0===b?void 0:b.regionDimensionFieldID,regionIndexStatsID:null===b||void 0===b?void 0:b.regionIndexStatsFieldID,specifyByFieldID:null===b||void 0===b?void 0:b.specifyByFieldID},labelConfig:{direction:(null===b||void 0===b||null===(e=b.labelConfig)||void 0===e?void 0:e.direction)||"bottom,middle",fontColor:(null===b||void 0===b||null===(t=b.labelConfig)||void 0===t?void 0:t.fillColor)||"#091E42",fontSize:(null===b||void 0===b||null===(n=b.labelConfig)||void 0===n?void 0:n.fontSize)||13,strokeWeight:null!==(i=null===b||void 0===b||null===(o=b.labelConfig)||void 0===o?void 0:o.strokeWeight)&&void 0!==i?i:0,strokeColor:null!==(a=null===b||void 0===b||null===(l=b.labelConfig)||void 0===l?void 0:l.strokeColor)&&void 0!==a?a:"#000",backgroundColor:null!==(r=null===b||void 0===b||null===(s=b.labelConfig)||void 0===s?void 0:s.backgroundColor)&&void 0!==r?r:"#fff",backgroundOpacity:null!==(d=null===b||void 0===b||null===(c=b.labelConfig)||void 0===c?void 0:c.backgroundOpacity)&&void 0!==d?d:0,collisionEnabled:!(null!==(u=null===b||void 0===b||null===(p=b.labelConfig)||void 0===p?void 0:p.collisionDisabled)&&void 0!==u&&u)},regionConfig:{country:null!==(h=null===b||void 0===b||null===(v=b.regionConfig)||void 0===v?void 0:v.country)&&void 0!==h?h:"china",level:null!==(g=null===b||void 0===b||null===(f=b.regionConfig)||void 0===f?void 0:f.level)&&void 0!==g?g:"admin1",regionId:null===b||void 0===b||null===(y=b.regionConfig)||void 0===y?void 0:y.regionId,dimension:null!==(w=null===b||void 0===b||null===(C=b.regionConfig)||void 0===C?void 0:C.dimension)&&void 0!==w?w:"region",indexStatsMethod:null!==(x=null===b||void 0===b||null===(I=b.regionConfig)||void 0===I?void 0:I.indexStatsMethod)&&void 0!==x?x:"sum",aggregateBy:"admin1",colors:null!==(j=null===b||void 0===b||null===(M=b.regionConfig)||void 0===M?void 0:M.colors)&&void 0!==j?j:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801"],labelVisible:null===(k=null===b||void 0===b||null===(T=b.regionConfig)||void 0===T?void 0:T.labelVisible)||void 0===k||k,labelTypes:(null===b||void 0===b||null===(E=b.regionConfig)||void 0===E?void 0:E.labelTypes)||["name","value"],fillMethod:(null===b||void 0===b||null===(P=b.regionConfig)||void 0===P?void 0:P.fillMethod)||"quantize",thresholds:null===b||void 0===b||null===(O=b.regionConfig)||void 0===O?void 0:O.thresholds},outlineConfig:A?{colors:["#c5c5c5"],strokeWeight:1}:{colors:null!==(S=null===b||void 0===b||null===(N=b.outlineConfig)||void 0===N?void 0:N.colors)&&void 0!==S?S:["#c5c5c5"],strokeWeight:null!==(D=null===b||void 0===b||null===(L=b.outlineConfig)||void 0===L?void 0:L.strokeWeight)&&void 0!==D?D:1}}}),[b])),we=(0,i.useCallback)((e=>{var t;if(!v)return;const{object:n,layer:i}=e;var o;if(!(0,U.k7)(e)||(0,ee.tq)())return void(null===l||void 0===l||null===(o=l.mapTalksMap)||void 0===o||o.fire("contextmenu",{coordinate:new c.c7(e.coordinate)}));const a=h()(n,"properties.level"),r=h()(i,"props.data.mapInfo.regionConfig.country"),s=h()(n,"properties.iso"),u=h()(n,"properties.id"),p=(0,q.OE)(a),g="ADM0"===a?(0,q.Pd)(s):r;if("ADM0"===a&&!g)return;const f={...y,mapInfo:{...null===y||void 0===y?void 0:y.mapInfo,regionConfig:{...null===y||void 0===y||null===(t=y.mapInfo)||void 0===t?void 0:t.regionConfig,regionId:u,aggregateBy:p,level:p,country:g}}};d(V.Nw.updateLayerNodeForProject({projectId:v,layerNode:f})),d(V.Nw.setDrillDownState({layerNodeID:y.id,level:p,regionId:u}))}),[v,y,d,null===l||void 0===l?void 0:l.mapTalksMap]);return{layer:(0,i.useMemo)((()=>new R.cD({id:null===S||void 0===S?void 0:S.id,data:S,configManager:ye,pickable:!0,autoHighlight:!0,onClick:we})),[S,ye,we]),layerData:(0,i.useMemo)((()=>{var e;const t=null===S||void 0===S||null===(e=S.features)||void 0===e?void 0:e.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.id)!==Y.q}));return{...S,features:t}}),[S]),isProcessing:(0,i.useMemo)((()=>L||fe||me||a),[L,fe,me,a]),isInit:te,notMatchedItems:ae,totalItems:re,hasPerformanceIssue:ve}};var ne=n(42063),ie=n(9275),oe=n(43498),ae=n(49210);const le={color:"#505f79",background:"#ffffff",padding:"6px","margin-top":"-60px","margin-left":"16px","box-shadow":"0px 2px 4px rgba(0, 0, 0, 0.2)","border-radius":"4px","min-width":"60px","max-width":"300px","word-break":"break-all","font-size":"12px"};var re=n(22787),se=n(44387),de=n(82828),ce=n(33766);const ue=["attachment","lookup"];var pe=n(27825),he=n.n(pe);var ve=n(88505),ge=n(17953),fe=n(49756);const me="breadcrumb_wrapper__2ZUyz";var ye=n(94553);const we=e=>{let{showBanner:t,drillDownList:n}=e;return(0,ye.jsx)(ve.ZP,{theme:{components:{Breadcrumb:{itemColor:(0,fe.Dw)("--primary-color"),linkColor:(0,fe.Dw)("--primary-color")}}},children:(0,ye.jsx)("div",{className:me,style:{top:t?80:20},children:(0,ye.jsx)(ge.Z,{items:n,separator:">"})})})};var be=n(92940),Ce=n(45818),xe=n(30147),Ie=n(79129);const je=function(e){let{isFeiShu:t,isView:n,isFullScreen:o,show:a}=e;const l=(0,i.useMemo)((()=>!(!n&&!o)&&w().get(G.uf)),[n,o]),[r,s]=(0,i.useState)(a&&!l);return(0,i.useEffect)((()=>{l||s(a)}),[a,l]),r?(0,ye.jsx)(xe.VI,{message:(0,ye.jsx)(Ce.BQ,{text:(0,Ie.Em)({id:"MexTwJ",defaultMessage:"The current configuration might lead to slow loading or performance issues. Refer to the <a>help doc</a> for optimization."}),link:"regionPerformance",isFeishuDashboard:t}),warning:!0,closable:!0,onClose:()=>{(n||o)&&w().set(G.uf,!0),s(!1)},isFullScreen:o||n}):null};var Me=n(71451),ke=n(82394),Te=n(39342),Ee=n(65557),Pe=n(69361),Oe=n(62502),Se=n(71105),_e=n(15905),Ne=n(7070),De=n.n(Ne),Le=n(55349),Ae=n.n(Le),Re=n(48828),Ze=n(86183),Fe=n(48744),ze=n(46131),Be=n(9296),Ve=n(68429),He=n(44839);const We="legendControl_legendControl__yV44W",Ue="legendControl_iconLegend__PHwRI",Ge="legendControl_regionMapLegend__-S+2Q",qe="legendControl_indexStatsName__RyNJR",$e="legendControl_legendList__yZhJq",Je="legendControl_legendItem__mqPEH",Qe="legendControl_name__X66JX",Ke="legendControl_color__Zsgcj",Ye=e=>{var t,n,o;let{name:a,active:l,layerData:d}=e;const c=(0,s.Z)(),[u,p]=(0,i.useState)(l),v=(0,T.Z)((e=>(0,oe.H8)(e))),{currentProjectId:g}=(0,T.Z)((e=>e.project)),f=(0,T.Z)((e=>g?(0,He.M)(e,g):[])),m=null===f||void 0===f?void 0:f[0],y=null===m||void 0===m?void 0:m.mapInfo,w=(0,i.useMemo)((()=>{var e;return y?null===y||void 0===y||null===(e=y.regionConfig)||void 0===e?void 0:e.colors:[]}),[y]),{getDomain:b}=(0,Be.l)(null===d||void 0===d?void 0:d.features),C=(null===y||void 0===y||null===(t=y.regionConfig)||void 0===t?void 0:t.fillMethod)||"quantize",x=null===y||void 0===y||null===(n=y.regionConfig)||void 0===n?void 0:n.thresholds,I=(0,i.useMemo)((()=>{var e;const t=h()(y,"tableNodeID"),n=null===v||void 0===v?void 0:v.find((e=>e&&e.id===t)),i=null===n||void 0===n?void 0:n.columns,o=h()(y,"regionIndexStatsFieldID");return(null===i||void 0===i||null===(e=i.find((e=>e&&e.id===o)))||void 0===e?void 0:e.name)||c.$t({id:"dashboard.regionMap.count"})}),[y,v,c]),j=(0,i.useMemo)((()=>{const e=h()(y,"regionIndexStatsFieldID"),t=h()(y,"tableNodeID"),n=null===v||void 0===v?void 0:v.find((e=>e&&e.id===t)),i=null===n||void 0===n?void 0:n.columns;return null===i||void 0===i?void 0:i.find((t=>t&&t.id===e))}),[y,v]),M="percentage"===(null===j||void 0===j||null===(o=j.typeOptions)||void 0===o?void 0:o.format),k=(0,i.useCallback)(((e,t)=>M?(0,ae.N5)(e,t):(0,ae.IG)(e)),[M]);const E=(0,i.useMemo)((()=>{if(!w||null===w||void 0===w||!w.length||!d||null===d||void 0===d||!d.features)return[];const e=b(C)||[];let t=null;if("quantize"===C&&(t=(0,Re.Z)().domain(e).range(w)),"quantile"===C&&(t=(0,Ze.Z)().domain(e).range(w)),"customize"===C&&null!==x&&void 0!==x&&x.length)return t=(0,Fe.Z)().domain((0,ze.VM)(x)).range(w),function(e,t,n){const i=[],o=[];for(let a=0;a<t.length-1;a++)o.push([t[a],t[a+1]]);return i.push(...De()(n,((t,i)=>{var a,l;const r=null===(a=o[i])||void 0===a?void 0:a[0],s=null===(l=o[i])||void 0===l?void 0:l[1];return{color:t,values:[r,s],name:Ae()(r)||Ae()(s)?"":"".concat(0===i?e.$t({id:"mFYgAX",defaultMessage:"Less"}):k(r),"-").concat(i===n.length-1?e.$t({id:"I5NMJ8",defaultMessage:"More"}):k(s))}}))),i}(c,x,w);return De()(w,(e=>{var n;const i=null===(n=t)||void 0===n?void 0:n.invertExtent(e);return{color:e,values:i,name:Ae()(null===i||void 0===i?void 0:i[0])||Ae()(null===i||void 0===i?void 0:i[1])?"":"".concat(k(i[0]),"-").concat(k(i[1]))}}))}),[w,d,b,C,x,c,k]);return(0,ye.jsx)(r.br,{name:a,onClick:()=>{p(!u)},active:u,icon:(0,ye.jsx)(Ve.Z,{type:"layer",className:Ue}),title:c.$t({id:"iZuO+L",defaultMessage:"Legend"}),className:We,children:(0,ye.jsxs)("div",{className:Ge,children:[(0,ye.jsx)("div",{className:qe,children:I}),(0,ye.jsx)(Se.Z,{justify:"space-between",gutter:[0,4],className:$e,children:E.map((e=>(0,ye.jsxs)(_e.Z,{className:Je,children:[(0,ye.jsx)("div",{className:Ke,style:{backgroundColor:e.color}}),(0,ye.jsx)("div",{className:Qe,children:e.name})]},e.color)))})]})})};var Xe=n(50239),et=n(52643),tt=n(47752),nt=n(25354),it=n(73656),ot=n(51180),at=n(23903),lt=n.n(at),rt=n(90013),st=n.n(rt),dt=n(78587),ct=n.n(dt),ut=n(38981),pt=n.n(ut),ht=n(31562),vt=n(67513),gt=n(96271),ft=n(91671),mt=n(88716),yt=n.n(mt);const wt={container:"like-grid_container__moA82",icon:"like-grid_icon__kVVrz",marginLeft:"like-grid_marginLeft__izb3H",marginRight:"like-grid_marginRight__ouxn7",tag:"like-grid_tag__bZhzn",renderer:"like-grid_renderer__ayBzC",resizeHandle:"like-grid_resizeHandle__3-rEl"};function bt(e){const t=(0,s.Z)(),{rows:n,columns:o,onColumnResize:a,onEditClick:l,columnsWidth:r,members:d,...c}=e,[u,p]=(0,i.useState)(r),[v,f]=(0,i.useState)(n.length),[m,y]=(0,i.useState)(n),w=(0,i.useCallback)((e=>(0,ye.jsxs)("div",{className:wt.container,children:[(0,ye.jsx)(Ve.Z,{type:e.type,className:wt.icon}),(0,ye.jsx)("span",{className:wt.marginLeft,children:e.name}),e.isPrimary&&(0,ye.jsx)(ht.Z,{className:wt.marginLeft})]})),[]),b=(0,i.useCallback)(((e,t)=>{let n=[];if(e)if(ct()(e))n=e.flatMap((e=>{const n=lt()(null===t||void 0===t?void 0:t.choices,(t=>t.id===e));return n?[n]:[]}));else{const i=lt()(null===t||void 0===t?void 0:t.choices,(t=>t.id===e));n=i?[i]:[]}return(0,ye.jsx)("div",{className:wt.renderer,children:n.filter((e=>void 0!==e.name)).map(((e,t)=>{var n;let i=null!==e&&void 0!==e&&e.color?gt.R$[e.color]:void 0,o=g()(Object.keys(gt.Cq),null===e||void 0===e?void 0:e.color)?"#fff":void 0;var a;null!==e&&void 0!==e&&null!==(n=e.color)&&void 0!==n&&n.bgColor&&(i=(null===e||void 0===e||null===(a=e.color)||void 0===a?void 0:a.bgColor)||i,o=e.color||o);return(0,ye.jsx)("span",{className:wt.tag,style:{backgroundColor:i,color:o},children:e.name},t)}))})}),[]),C=(0,i.useCallback)(((e,t)=>{let n;if(t)try{const e=JSON.parse(t);e&&ct()(e)&&(n=e)}catch{}const i=st()([...d||[],...n||[]],"id");return Array.isArray(e)&&i.length?(0,ye.jsx)("div",{className:wt.container,children:De()(e,(e=>{const t=lt()(i,(t=>t.id===e));return(0,ye.jsxs)("div",{className:wt.marginRight,children:[(0,ye.jsx)(vt.Z,{}),t&&(0,ye.jsx)("span",{className:wt.marginLeft,children:t.name})]},e)}))}):(0,ye.jsxs)("div",{className:wt.container,children:[e&&"avatar"in e&&(e.avatar?(0,ye.jsx)("img",{src:e.avatar,alt:""}):(0,ye.jsx)(vt.Z,{})),e&&"name"in e&&(0,ye.jsx)("span",{className:wt.marginLeft,children:e.name})]})}),[d]),x=(0,i.useCallback)((e=>(0,ye.jsx)("div",{className:wt.container,children:De()(e,((e,t)=>(0,ye.jsx)("span",{className:wt.marginRight,children:e.fileName},t)))})),[]),I=(0,i.useCallback)(((e,t)=>{const n=e["".concat(t.id,"-fullAddress")]||e[t.id];return Ae()(n)?(0,ye.jsx)("span",{}):(0,ye.jsx)("span",{children:pt()(n)})}),[]),j=(0,i.useCallback)(((e,t)=>{var n;return(0,ye.jsx)("span",{children:(0,ft.P)(e,null===t||void 0===t?void 0:t.precision,null===t||void 0===t?void 0:t.format,null!==(n=h()(t,"currency"))&&void 0!==n?n:"currency"===(null===t||void 0===t?void 0:t.format)?t.numberPrefix:void 0,h()(t,"kmb"))})}),[]),M=(0,i.useCallback)((e=>(t,n)=>{let{size:i}=n;const o=Number.parseInt(i.width.toFixed());p((t=>({...t,[e]:o}))),null===a||void 0===a||a(e,o)}),[a]);(0,i.useEffect)((()=>{yt()(r)||p(r)}),[r]);const k=(0,i.useMemo)((()=>{const e=De()(o,((e,t)=>({title:w(e),key:e.id,width:h()(u,e.id,"index"===e.id?50:200),ellipsis:!0,fixed:e.isPrimary?"left":void 0,onHeaderCell:n=>({width:n.width,onResize:M(e.id),disableResizing:t===o.length-1}),render:t=>{const n=t[e.id];if(Ae()(n))return(0,ye.jsx)("span",{});const i=e.typeOptions;switch(e.type){case"datetime":case"createTime":case"updateTime":return(0,ye.jsx)("span",{children:(0,ae.U)(n,i)});case"number":return j(n,i);case"hyperlink":return(0,ye.jsx)("span",{children:(0,ye.jsx)("a",{href:(0,ae.f7)(n),target:"_blank",rel:"noreferrer",children:n})});case"singleChoice":case"multiChoice":return b(n,i);case"boolean":return(0,ye.jsx)(nt.Z,{checked:n});case"creator":case"updater":case"member":return C(n,t["".concat(e.id,"-member")]);case"attachment":return x(n);case"coordinate":return I(t,e);case"formula":switch(null===i||void 0===i?void 0:i.expectedType){case"number":return j(n,i);case"datetime":return(0,ye.jsx)("span",{children:(0,ae.U)(n,i)});case"boolean":return(0,ye.jsx)(nt.Z,{checked:n});case"coordinate":return I(t,e);default:return(0,ye.jsx)("span",{children:pt()(n)})}default:return(0,ye.jsx)("span",{children:pt()(n)})}}})));return l&&e.push({title:t.$t({id:"QlsDcr",defaultMessage:"Action"}),key:"action",width:50,render:(e,t)=>(0,ye.jsx)(Ve.Z,{type:"edit",onClick:()=>l(t.recordId)})}),e}),[t,o,w,u,M,b,C,x,I,j,l]);return(0,i.useEffect)((()=>{y([...n]),f(n.length)}),[n,n.length]),(0,ye.jsx)("div",{className:wt.container,children:(0,ye.jsx)(it.default,{bordered:!0,components:{header:{cell:Ct}},columns:k,rowKey:"index",dataSource:m,"data-row-length":v,size:"small",className:wt.table,...c})})}function Ct(e){const{onResize:t,width:n,id:i,disableResizing:o,...a}=e;return!n||o?(0,ye.jsx)("th",{...a}):(0,ye.jsx)(ot.Resizable,{width:n,height:0,handle:(0,ye.jsx)("span",{className:wt.resizeHandle,onClick:e=>{e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:(0,ye.jsx)("th",{...a})},i)}var xt=n(98194);const It="dataDetailList_dataDetailDrawer__TKY2b",jt="dataDetailList_closeIcon__ilahN",Mt="dataDetailList_questionIcon__C9Wwp",kt="dataDetailList_empty__qAtKV",Tt="dataDetailList_content__s5ikw",Et="dataDetailList_title__c-QPB",Pt=()=>{const e=(0,s.Z)();return(0,ye.jsxs)(Xe.Z,{vertical:!0,align:"center",justify:"center",gap:20,className:kt,children:[(0,ye.jsx)(xt.q,{size:40}),(0,ye.jsx)("div",{className:Tt,children:(0,ye.jsx)("p",{className:Et,children:e.$t({id:"M6T3HM",defaultMessage:"No available data in this area"})})})]})},Ot=e=>{let{tableId:t,regionName:n,rows:o,columns:a,open:l,isLoading:r,isBackgroundLoading:c=!1,columnsWidth:u,onClose:p,onColumnResize:h}=e;const v=(0,s.Z)(),g=(0,T.Z)((e=>e.project.members)),{ui:f,isApp:m}=(0,P.Z)(),y=(0,i.useMemo)((()=>0===o.length?150:o.length<=6?42*o.length+20:"calc(80vh - 90px)"),[o.length]),w=(0,i.useMemo)((()=>"calc(80vh - 90px)"===y?"80%":"calc(".concat(y,"px + 110px)")),[y]),b=(0,i.useCallback)((e=>{e&&t&&f&&f.showRecordDetailDialog({tableId:t,recordId:e})}),[t,f]),C=(0,i.useMemo)((()=>(0,ye.jsx)(d.Z,{spinning:c&&r,children:v.$t({id:"OdxYL3",defaultMessage:"Data records in {regionName}({count})"},{regionName:n,count:o.length})})),[v,n,o.length,c,r]);return(0,ye.jsx)(et.Z,{title:C,open:l,placement:"bottom",height:w,className:It,closable:!1,mask:!1,onClose:p,closeIcon:null,extra:(0,ye.jsxs)(Xe.Z,{gap:16,children:[(0,ye.jsx)("div",{className:Mt,children:(0,ye.jsx)(tt.Z,{title:v.$t({id:"4575En",defaultMessage:"Only specific types of fields are currently supported for display, including Text, Numeric, Single-choice, and Date fields, etc."}),children:(0,ye.jsx)(Ve.Z,{type:"question"})})}),(0,ye.jsx)("div",{className:jt,onClick:p,children:(0,ye.jsx)(Ve.Z,{type:"close",onClick:p})})]}),children:(0,ye.jsx)(bt,{rows:o,columns:a,pagination:!1,sticky:!0,loading:!c&&r,scroll:{y:y},locale:{emptyText:(0,ye.jsx)(Pt,{})},members:g,columnsWidth:u,onEditClick:t&&!m?b:void 0,onColumnResize:h})})},St={usa:[-133.31477454012173,3.421908144902029,-61.61954859310157,63.8106535425061],world:[-195.33746914701615,-77.8497877684007,207.2985820155064,89.58230983278725],china:[71.32193956098324,17.577720971410344,139.3712559672332,53.6568439981892],italy:[2.4617296336591528,32.89961133200302,22.281454581523597,49.429525484658605],philippines:[112.0292638841561,1.4433124324800615,130.78040981357807,21.85229495131369]},_t={world:-.7,usa:.9,china:.1,italy:.8,philippines:.7},Nt=(0,i.forwardRef)(((e,t)=>{var n,p,v,f;let{isLoading:y,project:S,hasLocationTableId:_,onRegionMapProcessing:N}=e;const D=(0,s.Z)(),L=(0,X.I)(),{isFeiShu:A}=(0,W.k)(),{baseMapStyle:R,theme:Z,chartBgColor:F}=(0,b.F)(),{isFullScreen:z,isCreate:$,isConfig:J,isView:Q}=(0,k.Z)(),{open:K,close:Y,visible:pe}=(0,ke.bZ)(!1),[ve,ge]=(0,i.useState)(null),fe=(0,T.Z)((e=>e.app.amapKey)),me=(0,T.Z)((e=>e.project.drillDown)),Ce=(0,T.Z)((e=>e.project.showBannerOnDashboard)),xe=(0,T.Z)((e=>(0,B.M)(e,S.id))),Ie=(0,T.Z)((e=>e.map.mapConfig)),Se=(0,i.useMemo)((()=>null===xe||void 0===xe?void 0:xe[0]),[xe]),{base:_e,dashboard:Ne}=(0,P.Z)(),{data:De,condition:Le,isLoading:Ae,onDataChange:Re}=function(e){const{dashboard:t,base:n,isDashboardApi:o,setIsDashboardApi:a}=(0,P.Z)(),{isCreate:l,isConfig:r,isShared:s}=(0,k.Z)(),[d,c]=(0,i.useState)(),u=(0,i.useMemo)((()=>r||l),[r,l]),{configConditionVersion:p}=(0,T.Z)((e=>e.project)),[h,v]=(0,i.useState)(),[g,f]=(0,i.useState)(),y=(0,j.Z)(h),w=(0,j.Z)(g),{data:b,isLoading:C,isValidating:x}=(0,I.ZP)(t&&o&&d&&!s?["region/dashboardData",d,t,h,u,p]:null,(async e=>{let[,,t,n,i,o]=e;if(!n)return{};try{var a,l;const e=i||o!==E.T?await t.getPreviewData(n.condition):await t.getData();return"normal"===n.type?null!==(a=(0,M.Jl)(e))&&void 0!==a?a:{}:null!==(l=await(0,M.Eg)(t,e,n.condition))&&void 0!==l?l:{}}catch{return{}}})),O=(0,i.useCallback)((()=>{o&&!u&&c(Date.now())}),[u,o]);return(0,i.useEffect)((()=>{e&&e.tableNodeID&&e.viewID&&n&&!s?(0,M.ec)(n,e).then((e=>{v(e),a(!!e)})):v(void 0)}),[n,e,s,a]),(0,i.useEffect)((()=>{o&&!s&&(m()(h,y)||c(Date.now()))}),[h,y,o,s]),(0,i.useEffect)((()=>{if(!t||!o||u||s)return;const e=t.onDataChange((async e=>{c(Date.now())}));return()=>{e()}}),[t,u,o,s]),(0,i.useEffect)((()=>{C||x||s||m()(b,w)||f(b)}),[b,w,C,x,s]),{data:g,condition:null===h||void 0===h?void 0:h.condition,isLoading:C||x||!t||!n,onDataChange:O}}(null===Se||void 0===Se?void 0:Se.mapInfo);(0,O.c)(_e,(null===S||void 0===S?void 0:S.id)||null),(0,C.w)({layerType:"region",tableNodeID:_,isFeiShu:A,projectId:S.id,theme:Z}),(0,x.w)(S.id),(0,ne.S)(!y&&!Ae,S.id),(0,ie.W)(S.id,void 0,Re),(0,H.xJ)();const{drillDownList:Ze,onDrillUp:Fe,onDrillDown:ze,canDrillUp:Be}=(()=>{const e=(0,s.Z)(),t=(0,X.I)(),n=(0,i.useRef)(!1),{currentProjectId:o,drillDown:a,defaultRegion:l}=(0,T.Z)((e=>e.project)),{aggregateBy:r,level:d}=l||{},c=(0,T.Z)((e=>o?(0,B.M)(e,o):[])),u=null===c||void 0===c?void 0:c[0],{mapInfo:p}=u||{},v=h()(p,"regionConfig.regionId"),f=h()(p,"regionConfig.level"),m="admin0"===h()(p,"regionConfig.aggregateBy")?v:h()(p,"regionConfig.country"),{data:y}=(0,I.ZP)(u?["getRegionData",m]:null,(async e=>{const[,t]=e,n=await(0,q.RG)(t);return he()(n)})),w=(0,i.useCallback)((e=>{var n;let{regionId:i,regionLevel:a,country:l,aggregateBy:r}=e;const s={...u,mapInfo:{...null===u||void 0===u?void 0:u.mapInfo,regionConfig:{...null===u||void 0===u||null===(n=u.mapInfo)||void 0===n?void 0:n.regionConfig,regionId:i,aggregateBy:r||a,level:a,country:l}}};o&&(t(V.Nw.setDrillDownState({layerNodeID:u.id,level:a,regionId:i})),t(V.Nw.updateLayerNodeForProject({projectId:o,layerNode:s})))}),[o,t,u]),b=(0,i.useMemo)((()=>{var t;const n=null===(t=q.rS.find((e=>e.value===m)))||void 0===t?void 0:t.label;return[{title:n?e.$t(n):m,href:"",onClick:e=>{null===e||void 0===e||e.preventDefault(),w({regionId:m,regionLevel:"admin1",country:m})}}]}),[m,w,e]),C=(0,i.useCallback)((t=>{const{data:i,id:o,country:a,isLastNode:l}=t;g()(o,"ADM0")&&(n.current=!0);const r=i.find((e=>e&&e.id===o));if(!r)return[];const s=i.find((e=>e&&e.id===r.parentId));return s?[...C({data:i,id:s.id,level:s.level,country:a}),{title:"zh-CN"===e.locale?r.name_zh:r.name_en,onClick:e=>{null===e||void 0===e||e.preventDefault()}}]:[{title:"zh-CN"===e.locale?r.name_zh:r.name_en,href:l?void 0:"",onClick:e=>{if(null===e||void 0===e||e.preventDefault(),!l){const e=(0,q.OE)(r.level);w({regionId:r.id,regionLevel:e,country:a})}}}]}),[w,e]),x=(0,i.useMemo)((()=>{if(!y||!a)return[];const t=C({data:y,id:v,level:f,country:m,isLastNode:!0});if(0===t.length&&!n.current)return[];if("admin0"===f||d===a.level)return[];const i=[];return"admin1"!==d&&"admin0"!==d||i.push({title:e.$t({id:"zQvVDJ",defaultMessage:"All"}),href:"",onClick:t=>{if(null===t||void 0===t||t.preventDefault(),n.current){const t="zh-CN"===e.locale?"world/cas":"world/wb";w({regionId:t,regionLevel:"admin0",country:m})}else w({regionId:m,regionLevel:"admin1",country:m,aggregateBy:r})}}),i.push(...n.current?b.map((e=>{const{href:n,...i}=e;return t.length?e:{...i}})):[],...t),i}),[y,a,C,v,f,m,r,d,b,e,w]),j=(0,i.useMemo)((()=>x.length>1),[x]),M=(0,i.useCallback)((e=>{let{level:t,regionId:n,iso:i}=e;const o=(0,q.OE)(t),a="ADM0"===t?(0,q.Pd)(i):m;("ADM0"!==t||a)&&w({regionId:n,regionLevel:o,country:a})}),[m,w]),k=(0,i.useCallback)((()=>{var e;const t=x[x.length-2];null===t||void 0===t||null===(e=t.onClick)||void 0===e||e.call(t)}),[x]);return{drillDownList:x,canDrillUp:j,onDrillUp:k,onDrillDown:M}})(),{layer:Ve,layerData:He,isProcessing:We,isInit:Ue,notMatchedItems:Ge,totalItems:qe,hasPerformanceIssue:$e}=te({dashboardData:De,isDashboardLoading:Ae,map:ve}),[Je,Qe]=(0,i.useMemo)((()=>{var e;const t=null===Se||void 0===Se||null===(e=Se.mapInfo)||void 0===e?void 0:e.tableNodeID;return[t||"",t]}),[null===Se||void 0===Se||null===(n=Se.mapInfo)||void 0===n?void 0:n.tableNodeID]),{rows:Ke,columns:Xe,columnsWidth:et,regionName:tt,isLoading:nt,onColumnResize:it,onOpenDataDetailList:ot,onCloseDetail:at}=((e,t,n,o,a,l)=>{const r=(0,s.Z)(),d=(0,T.Z)((e=>(0,oe.H8)(e))),[c,u]=(0,i.useState)([]),[p,h]=(0,i.useState)([]),[v,g]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1),[y,b]=(0,i.useState)({}),C=(0,i.useRef)(0),{isView:x,isFullScreen:I,isCreate:j}=(0,k.Z)(),E=(0,i.useCallback)((()=>{C.current+=1}),[]),P=(0,i.useCallback)((async()=>{if(j||!n)return;const e=await(0,M.pG)(n);b(e)}),[j,n]);(0,se.Z)((()=>{P()}));const O=(0,i.useCallback)((async n=>{var i,s;const c=C.current+1;C.current=c,m(!0),h([]),e();const p=null===(i=n.properties)||void 0===i?void 0:i.rowIds,v=a===ce.Jd?null:a;if(!p){var f,y,w;m(!1),h([]),u([]);const e="zh-CN"===r.locale?(null===(f=n.properties)||void 0===f?void 0:f.display_name)||(null===(y=n.properties)||void 0===y?void 0:y.name_zh):null===(w=n.properties)||void 0===w?void 0:w.name_en;return void g(e)}g((null===(s=n.properties)||void 0===s?void 0:s.name)||"");const b=d.find((e=>e&&e.id===o));if(!b||!b.rows&&!l||!b.columns||!t)return void m(!1);const x=await(0,de.LZ)(t,b.id.toString(),v),I=[{id:"index",isPrimary:!0}];if(x.forEach((e=>{const t=b.columns.find((t=>t&&t.id===e));t&&!ue.includes(t.type)&&I.push({...t,isPrimary:!1})})),u(I),await P(),l){const e=await(0,M.c0)(t,l,p,String(o),v,h,(()=>C.current!==c));C.current===c&&h(e)}else{const e=p.map(((e,t)=>{const n=b.rows.find((t=>t&&t.id===e));return n?{recordId:n.id,index:t+1,...n.cells}:null})).filter(Boolean);C.current===c&&h(e)}m(!1)}),[e,a,d,l,t,P,r.locale,o]),S=(0,i.useCallback)(((e,t)=>{x||I||w().session.set(G.KN,{...y,[e]:t})}),[x,I,y]);return{columns:c,columnsWidth:y,rows:p,regionName:v,isLoading:f,onOpenDataDetailList:O,onCloseDetail:E,onColumnResize:S}})(K,_e,Ne,Qe,null===He||void 0===He||null===(p=He.mapInfo)||void 0===p?void 0:p.viewID,Le);(e=>{let{map:t,layerData:n,viewPort:o,isLoading:a,mapInfo:l,canDrillUp:r,onOpenDataDetailList:d,onDrillUp:c,onDrillDown:u}=e;const p=(0,s.Z)(),v=(0,i.useCallback)((e=>{const t=!!l&&(0,U.k7)(e,l);return{items:[...r?[{item:p.$t({id:"ox9vYK",defaultMessage:"Drill up"}),click:()=>{null===c||void 0===c||c()}}]:[],...t?[{item:p.$t({id:"jwIhMJ",defaultMessage:"Drill down"}),click:()=>{const t=h()(e,"properties.id"),n=h()(e,"properties.level"),i=h()(e,"properties.iso");null===u||void 0===u||u({regionId:t,level:n,iso:i})}}]:[],{item:p.$t({id:"MnpUD7",defaultMessage:"View details"}),click:()=>{d(e)}}]}}),[p,d,c,u,r,l]),g=(0,i.useCallback)((e=>{if(!n||!o||a)return;const i=e.coordinate.toArray();if(!i)return;const l=null===n||void 0===n?void 0:n.features.find((e=>("Polygon"===e.geometry.type||"MultiPolygon"===e.geometry.type)&&(0,re.Z)(i,e.geometry)));if(!l)return void(null===t||void 0===t||t.removeMenu());const r=v(l);null===t||void 0===t||t.setMenu(r).openMenu(e.coordinate)}),[n,o,v,t,a]);(0,i.useEffect)((()=>(t&&t.on("contextmenu",g),()=>{null===t||void 0===t||t.off("contextmenu",g)})),[t,g])})({map:null===ve||void 0===ve?void 0:ve.mapTalksMap,layerData:He,viewPort:null===ve||void 0===ve||null===(v=ve.deckLayer)||void 0===v?void 0:v.getViewport(),isLoading:y||Ae,mapInfo:null===He||void 0===He?void 0:He.mapInfo,canDrillUp:Be,onOpenDataDetailList:ot,onDrillUp:Fe,onDrillDown:ze});const{getTooltip:lt}=(e=>{const t=(0,s.Z)(),n=(0,T.Z)((e=>(0,oe.H8)(e)));return{getTooltip:(0,i.useCallback)((i=>{var o;const{layer:a,object:l}=i;if(!l)return null===e||void 0===e||e.setCursor("default"),null;(0,U.k7)(i)?null===e||void 0===e||e.setCursor("pointer"):null===e||void 0===e||e.setCursor("default");const r=h()(l,"zh-CN"===t.locale?"properties.name_zh":"properties.name_en"),s={html:"\n        <div>\n          <div>".concat(r,"</div>\n        </div>\n      "),style:le},d=h()(l,"properties.aggregationMethod")||h()(a,"props.data.mapInfo.regionConfig.indexStatsMethod");if(!d)return s;const c=h()(l,"properties.aggregationValue");if(null==c)return s;const u=(0,q.Bb)(c,d);if(null==u)return s;const p=(0,ae.IG)(u);if(!p)return s;const v=h()(a,"props.data.mapInfo.tableNodeID"),g=n.find((e=>e&&e.id===v)),f=null===g||void 0===g?void 0:g.columns,m=h()(a,"props.data.mapInfo.regionIndexStatsFieldID"),y=(null===f||void 0===f||null===(o=f.find((e=>e&&e.id===m)))||void 0===o?void 0:o.name)||t.$t({id:"Aujn2T",defaultMessage:"Count"}),w=h()(l,"properties.ratio"),b=h()(l,"properties.rank"),C=null!=w&&w>=0?"".concat(w.toFixed(2),"%"):"-",x=null!=b&&b>0?b.toString():"-";return{html:"\n        <div>\n          <div>".concat(r,"</div>\n          <div>").concat(y,": ").concat(p,"</div>\n          <div>").concat(t.$t({id:"KFacRB",defaultMessage:"Ratio"}),": ").concat(C,"</div>\n          <div>").concat(t.$t({id:"VP5+CR",defaultMessage:"Rank"}),": ").concat(x,"</div>\n        </div>\n      "),style:le}}),[n,t,e])}})(null===ve||void 0===ve?void 0:ve.mapTalksMap),rt=S&&(null===(f=w().get(G.BH))||void 0===f?void 0:f[S.id]);(0,i.useImperativeHandle)(t,(()=>({map:ve,layers:[He]})));const st=(0,i.useMemo)((()=>{var e;if(!Se)return!1;const t=null===(e=Se.mapInfo)||void 0===e||null===(e=e.regionConfig)||void 0===e?void 0:e.regionId;if(!t)return!1;return["world/cas","world/wb"].includes(t)}),[Se]),dt=(0,i.useMemo)((()=>$||J?Ie.center:null),[Ie.center,$,J]),ct=(0,i.useMemo)((()=>{var e,t;return{...S.mapConfig,showBaseMap:!(0,ee.tq)()&&S.mapConfig.showBaseMap,isSet:!!$||(null===S||void 0===S||null===(e=S.mapConfig)||void 0===e?void 0:e.isSet),baseMap:z?R:null===S||void 0===S||null===(t=S.mapConfig)||void 0===t?void 0:t.baseMap,scrollWheelZoom:$||J}}),[S.mapConfig,R,$,z,J]),ut=(0,i.useMemo)((()=>ct?{center:dt?(0,Te.Jn)(dt):(0,Te.Jn)(ct.center),zoom:ct.zoomLevel,pitch:ct.pitch,dragRotate:!1,dragPitch:!1,scrollWheelZoom:$||J}:void 0),[ct,$,J,dt]),pt=(0,i.useCallback)((()=>{const e=null===Se||void 0===Se?void 0:Se.id;e&&Oe.m2.emit(e)}),[Se]),ht=(0,i.useMemo)((()=>({bgColor:F||(Z===a.Dj.DARK?"#0a151c":"#fff"),renderer:"canvas",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0,mapOptions:ut})),[F,Z,ut]),vt=(0,i.useMemo)((()=>{var e;return{key:fe||"3ac9d33da9e7be15cbb9f1b92f285e9c",serviceHost:null===(e="https://maptable.com/api")?void 0:e.replace("/api",""),securityJsCode:{NODE_ENV:"production",PUBLIC_URL:"",BUILD_VERSION:"850a8b0",THIRD_PARTY:"feishu-dashboard",REACT_APP_SERVER_ENV:"production",REACT_APP_AG_GRID_LICENSE_KEY:"placeholder",REACT_APP_GOOGLE_OAUTH_CLIENT_ID:"placeholder",REACT_APP_BD_KEY:"placeholder",REACT_APP_GD_TOKEN:"3ac9d33da9e7be15cbb9f1b92f285e9c",REACT_APP_GOOGLE_MAP_KEY:"placeholder",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZG9uZ2xlaSIsImEiOiJja3A2amE1cTMwbGQzMnBxZXF4MDEwMnRpIn0.v4ZdsImv9hprcA32ocydgw",REACT_APP_BASE_API_URL:"https://maptable.com/api",REACT_APP_LARK_BASE_API_URL:"https://maptable.net/api",REACT_APP_BOUNDARY_OSS_URL:"https://icon-cdn.maptable.com",REACT_APP_WS_URL:"wss://maptable.com/websocketd",REACT_APP_LARK_WS_URL:"wss://maptable.net/websocketd",REACT_APP_STRIPE_PUB_KEY:"pk_live_51L8b87HyKdWcfiHZBeLLIIUQKKf9Ec6UohLlnv0ZIjFfugGPZtfrGnfeQJ5yHXFeZNPya7ii4MTB5hQqXvf0CHhn004g4JMOOO",REACT_APP_STRIPE_RETURN_URL:"https://maptable.com/api/cb/stripe_payment/",REACT_APP_SENTRY_DSN:"https://1cbf40ec955b89c8c7182c2e9c3f940a@o1161772.ingest.us.sentry.io/4509296236691456",REACT_APP_CORS_DISABLE_TOKEN:"",REACT_APP_WECHAT_REDIRECT_URI:"https://maptable.com/auth/wechat",REACT_APP_RECAPTCHA_TOKEN:"6LdMgpcgAAAAAKSbHqoSMXgTg1jlTJcYer0Ss6M4",REACT_APP_MAINTAIN_FILE_URI:"https://maptable-prod-public.oss-cn-hangzhou.aliyuncs.com/prodfiles/broadcast/maintain.json",REACT_APP_CRISP_WEBSITE_ID:"e3f43195-3a5a-4bcb-bf1d-7e3d13d0376d",REACT_APP_ICON_CDN:"https://icon-cdn.maptable.com",REACT_APP_IP_CHECK_URL:"https://ipcheck.maptable.net/",REACT_APP_USE_RECAPTCHA:"true",REACT_APP_FEISHU_PAY_URI:"https://maptable.com/feishu/plan"}.REACT_APP_GD_SECRET||"",version:"2.0",mapOptions:{...ut,style:R},useTileLayer:(0,ee.tq)()}}),[fe,ut,R]);(0,i.useEffect)((()=>{if(ve){if(ct.showBaseMap){var e;if(ve.baseMap instanceof l.dR&&(null===(e=ve.baseMap)||void 0===e||!e.isDestroyed))return;const t=new l.dR(vt);ve.setBaseMap(t,"built-in")}else{var t;if((null===(t=ve.baseMap)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.bgColor)===ht.bgColor)return;const e=new be.Z("bg",ht);e.setZIndex(-1),ve.setBaseMap(e,"customize")}$&&pt()}}),[ve,ct.showBaseMap,ht,vt,$,pt]),(0,i.useEffect)((()=>{!async function(){var e;await(0,Pe._)(500),(null===ve||void 0===ve?void 0:ve.isReady)&&await(null===ve||void 0===ve?void 0:ve.isReady)&&ct.showBaseMap&&(null===ve||void 0===ve||null===(e=ve.baseMap)||void 0===e||e.setMapStyle(R))}()}),[ve,ct,R]);const gt=(0,i.useCallback)((e=>{const{zoom:t,bearing:n,pitch:i,center:o}=e;L(Ee.Nw.updateMapConfig({zoomLevel:t,bearing:n,pitch:i,center:null===o||void 0===o?void 0:o.join(",")}))}),[L]);(0,i.useEffect)((()=>{function e(e){var t,n,i;if(!He||(null===He||void 0===He?void 0:He.id)!==e)return;const o=g()(null===(t=He.mapInfo)||void 0===t||null===(t=t.regionConfig)||void 0===t?void 0:t.regionId,"ADM0"),a=!g()(null===(n=He.mapInfo)||void 0===n||null===(n=n.regionConfig)||void 0===n?void 0:n.regionId,"-")||o;let l=st?"world":null===(i=He.mapInfo)||void 0===i||null===(i=i.regionConfig)||void 0===i||null===(i=i.regionId)||void 0===i||null===(i=i.split("-"))||void 0===i?void 0:i[0];var r;o&&(l=(0,q.Pd)(null===(r=He.mapInfo)||void 0===r||null===(r=r.regionConfig)||void 0===r||null===(r=r.regionId)||void 0===r||null===(r=r.split("-"))||void 0===r?void 0:r[2]));if([{key:"regionConfig.colors"},{key:"regionConfig.fillMethod"},{key:"labelConfig.fontSize"},{key:"labelConfig.fillColor"}].some((e=>{let{key:t}=e;return!m()(h()(Se,"mapInfo.".concat(t)),h()(He,"mapInfo.".concat(t)))})))return;if(l&&h()(St,l)&&a){const[e,t,n,i]=h()(St,l),o=new c.wx(e,t,n,i);return void(null===ve||void 0===ve||ve.fitBounds(o,h()(_t,l)||0))}const[s,d,p,v]=(0,u.Z)(He);if(s===1/0)return;const f=new c.wx(s,d,p,v);null===ve||void 0===ve||ve.fitBounds(f)}return Oe.m2.on(e),()=>{Oe.m2.off(e)}}),[He,ve,st,Se]);const ft=(0,i.useMemo)((()=>{var e,t;return!y&&!Ae&&(null===Se||void 0===Se?void 0:Se.id)&&(null===Se||void 0===Se||null===(e=Se.mapInfo)||void 0===e?void 0:e.tableNodeID)&&($||J||me)&&(null===Se||void 0===Se||null===(t=Se.mapInfo)||void 0===t||null===(t=t.regionConfig)||void 0===t?void 0:t.regionId)&&!We}),[y,Ae,Se,$,J,me,We]);(0,i.useEffect)((()=>{!async function(){ft&&(await(0,Pe._)(500),Oe.m2.emit(Se.id))}()}),[null===Se||void 0===Se?void 0:Se.id,ft]),(0,i.useEffect)((()=>{if(ve&&null!==ct&&void 0!==ct&&ct.zoomLevel&&null!==ct&&void 0!==ct&&ct.center&&ct.isSet){var e;const t=st?0:2;null===(e=ve.mapTalksMap)||void 0===e||e.setMinZoom(t);const n=(0,Te.Jn)(ct.center);ve.setZoomAndCenter(ct.zoomLevel,n)}}),[ve,null===ct||void 0===ct?void 0:ct.center,null===ct||void 0===ct?void 0:ct.zoomLevel,null===ct||void 0===ct?void 0:ct.isSet,st]),(0,i.useEffect)((()=>{ve&&null!==ct&&void 0!==ct&&ct.features&&ve.setFeatures(ct.features)}),[ve,null===ct||void 0===ct?void 0:ct.features]),(0,i.useEffect)((()=>{N&&N(We)}),[N,We]);const mt={getTooltip:lt,repeat:!1},yt=(0,i.useMemo)((()=>(J||$)&&(y||We)||Q&&(!rt||Ue&&We)),[J,$,y,We,Ue,Q,rt]);return ct?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)(d.Z,{spinning:yt,delay:500,indicator:(0,ye.jsx)(o.Z,{style:{fontSize:60}}),tip:D.$t({id:"gjBiyj",defaultMessage:"Loading..."}),children:[(0,ye.jsx)(r.h_,{id:"regionMap",ref:ge,layers:[Ve],mapOptions:ut,deckProps:mt,disableVerticalRepeat:!1,onViewStateChange:gt,children:(0,ye.jsxs)(r.ZX,{defaultActiveControls:[Q?"":"legend"],children:[!Q&&(0,ye.jsx)(r.rm,{totalItems:qe,notMatchedItems:Ge}),(0,ye.jsx)(r.Ly,{step:.5}),(0,ye.jsx)(r.OO,{name:"fitBounds",onFit:pt}),(0,ye.jsx)(Ye,{name:"legend",layerData:He})]})}),(0,ye.jsx)(Me.Z,{}),pe&&(0,ye.jsx)(Ot,{tableId:Je,regionName:tt,open:pe,rows:Ke,columns:Xe,columnsWidth:et,isLoading:nt,isBackgroundLoading:!!Le,onClose:function(){Y(),at()},onColumnResize:it})]}),(0,ye.jsx)(we,{drillDownList:Ze,showBanner:Ce||!1}),(0,ye.jsx)(je,{isFeiShu:A,isView:Q,isFullScreen:z,show:$e})]}):null})),Dt=Nt},50839:(e,t,n)=>{"use strict";n.d(t,{BH:()=>o,KN:()=>l,pT:()=>i,rG:()=>r,uf:()=>a});const i="MT_BANNER_CLOSED_DAY",o="MT_REGION_MAP_LAYER_DATA",a="MT_PERFORMANCE_BANNER_CLOSED",l="MT_REGION_MAP_COLUMNS_WIDTH",r="MT_DASHBOARD_INFO_WINDOW_CONFIG"},3516:(e,t,n)=>{"use strict";n.d(t,{VO:()=>u,W7:()=>p});var i=n(57435),o=n(80835),a=n(30423),l=n(1714),r=n(66368),s=n(94553);const d={app:{ui:o.ui,base:o.ue,bridge:o.Jn,dashboard:o.sI},env:{product:"feishu",needChangeBase:!1},state:"View",isDashboardApi:!1,isShared:!1,setState:()=>{},setBaseToken:()=>Promise.resolve(null),setBaseList:()=>{},setIsShared:()=>{},setIsDashboardApi:()=>{},setEnv:()=>""},c=(0,i.createContext)(d),u=()=>{const e=(0,i.useContext)(c);if(!e)throw new Error("useFeishuContext must be used within FeishuAppProvider");return e},p=e=>{let{children:t}=e;const[n,u]=(0,i.useState)(),[p,h]=(0,i.useState)(d.app),[v,g]=(0,i.useState)(d.state),[f,m]=(0,i.useState)(d.isShared),[y,w]=(0,i.useState)(d.isDashboardApi),[b,C]=(0,i.useState)(),[x,I]=(0,i.useState)(d.env),j=(0,a.I)(),M=(0,i.useCallback)((async(e,t,n)=>{try{const i=new Promise(((e,t)=>setTimeout((()=>t(new Error("getBitable timeout"))),3e3))),a=await Promise.race([o.jV.getBitable(e),i]);return a?(u(e),n?h(a):(h(null),w("region"===t),setTimeout((async()=>{await j(l.Nw.clear()),h(a)}),0)),a):null}catch(i){console.error("Failed to get Feishu Bitable app:",i)}return null}),[j]),k=(0,i.useCallback)((e=>{m(e),(0,r.gA)(e)}),[]),T=(0,i.useCallback)((e=>{I(e);const t="feishu"===e.product?"feishuDashboard":"larkDashboard";return(0,r.wf)(t),t}),[]),E={app:p,env:x,baseToken:n,state:v,baseList:b,isShared:f,isDashboardApi:y,setState:g,setBaseToken:M,setBaseList:C,setEnv:T,setIsShared:k,setIsDashboardApi:w};return(0,s.jsx)(c.Provider,{value:E,children:t})}},26017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(57323),o=n.n(i),a=n(57435),l=n(34061),r=n(74797),s=n(22963);const d=(0,s.Fs)({baseURL:"".concat(r.Z.baseApiURL,"/issue/")});class c extends s.tr{async report(e){const{data:t}=await this.fetch.post("/",e);return t}}const u=new c(d);var p=n(83580),h=n(15328),v=n(94553);const g=function(e){return t=>{class n extends a.Component{constructor(e){super(e),o()(this,"onOk",(()=>{this.setState({isModalVisible:!1}),window.location.reload()})),o()(this,"onFeedback",(()=>{try{const e=this.state.error;if(e){const t={type:"bug",title:"Dashboard auto reported issue",extra:{url:window.location.href,ua:navigator.userAgent,lang:navigator.language,error:e?{message:e.message,name:e.name,cause:e.cause,stack:e.stack}:void 0}};u.report(t)}}finally{window.open(l.Hf,"_blank")}})),this.state={hasError:!1,isModalVisible:!1,isIssueVisible:!1}}static getDerivedStateFromError(e){return{error:e,hasError:!0,isModalVisible:!0}}render(){return this.state.hasError?(0,v.jsx)(p.Vq,{title:(0,h.wv)({id:"JqiqNj",defaultMessage:"Something went wrong"}),closable:!1,visible:this.state.isModalVisible,okText:(0,h.wv)({id:"rELDbB",defaultMessage:"Refresh"}),onOk:this.onOk,cancelText:(0,h.wv)({id:"Ejhdi4",defaultMessage:"Feedback"}),onCancel:this.onFeedback,children:(0,v.jsx)("div",{children:"function"===typeof e?e():e||(0,h.wv)({id:"pEjk6/",defaultMessage:"Please refresh page and try again"})})}):(0,v.jsx)(t,{...this.props})}}return n}}},12866:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Z:()=>z});var o=n(57435),a=n(11145),l=n(55349),r=n.n(l),s=n(53926),d=n.n(s),c=n(74720),u=n.n(c),p=n(80835),h=n(50839),v=n(30768),g=n(29697),f=n(37624),m=n(6831),y=n(42304),w=n(67444),b=n(18293),C=n(68906),x=n(41791),I=n(3516),j=n(73468),M=n(66168),k=n(93707),T=n(61124),E=n(30423),P=n(22138),O=n(66368),S=n(82828),_=n(94553),N=e([f]);f=(N.then?(await N)():N)[0];const L="https://ipcheck.maptable.net/",A="To view this content, please log in",R="APP_SHARED_USER";function Z(e){return t=>{const n=(0,E.I)(),i=(0,a.s0)(),{currentProjectId:l}=(0,C.Z)((e=>e.project));(0,f.F)();const{setBaseToken:s,setState:c,setBaseList:h,setEnv:M,setIsShared:N,setIsDashboardApi:D}=(0,I.VO)(),Z=u()(t,"layerType"),z=F(),B=(0,o.useCallback)((async e=>{try{var t,o,a,l,f,C,I,j,E;let U=p.sI,G=p.ue,q={dataConditions:[]};c(U.state);const $="Create"===U.state,J="Config"===U.state,Q=!$&&!J;let K;try{K=await p.Jn.getTenantKey()}catch(W){if(u()(W,"message")!==A||$||J)return void i("/404")}if(!$){q=await p.sI.getConfig();const e=await(0,w.cp)(p.Jn);if(e){var _;let t={tableId:""};(null===(_=q.dataConditions)||void 0===_?void 0:_.length)>0&&(t=q.dataConditions[0]),q={...q,customConfig:e.customConfig,dataConditions:[{...t,tableId:e.tableId,baseToken:e.baseToken}]}}}const Y=null===(t=q)||void 0===t?void 0:t.customConfig,X=null===Y||void 0===Y?void 0:Y.mapConfig,ee=await p.Jn.getEnv();if(!ee)return;M(ee);const te=M(ee);(0,O.wf)(te);const ne=$?void 0:await(0,w.fE)(null===(o=q)||void 0===o?void 0:o.customConfig,p.Jn,J),ie=await p.Jn.getLocale();await n(v.Nw.setDefaultLocale(ie));const oe=await p.Jn.getLanguage();await n(v.Nw.setDefaultLanguage(oe));const ae=await T.Z.getAppConfig(te);await n(k.Nw.setAppConfig(ae));const le=K?await p.Jn.getUserId():R,re=await n((0,b.x4)({thirdpartyUserId:le,thirdpartyType:te,thirdpartyOrgId:K,projectId:ne}));if(!re)return void i("/404");if(n(y.Nw.setToken(null===(a=re.payload)||void 0===a?void 0:a.token)),n(y.Nw.planChange(re.payload)),"larkDashboard"===te&&!0!==(null===(l=re.payload)||void 0===l?void 0:l.ipWhitelist)&&L)try{const e=await fetch(L),t=await e.json();t.block&&t.block.length>0&&t.block.includes(t.country)&&n(v.Nw.setShowIpMask(!0))}catch{}if(le===R){var Z;if(!ne||!Y)return void i("/404");N(!0),await n(v.Nw.setProjects({projects:[{id:ne,name:"feishu-dashboard",mapConfig:X}]}));const e=Y.layerNodes;if(!e)return;return D(!1),await n(v.Nw.setDefaultRegion(null===(Z=e.mapInfo)||void 0===Z?void 0:Z.regionConfig)),await n(v.Nw.addLayerNodeForProject({projectId:ne,layerNode:e})),void setTimeout((()=>{n(v.Nw.updateCurrentProjectId(ne))}),0)}let se=null===(f=q)||void 0===f||null===(f=f.dataConditions)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.baseToken;if(ee.needChangeBase){let t=[];(J||$)&&(t=await(0,S.b0)(),h(t));let n=null;if(se)n=await s(se,e,!0);else{if(!$&&!J)return void i("/404");$&&t.length>0&&(se=t[0].token,n=await s(se,e))}n&&(U=n.dashboard,G=n.base)}K&&await n(y.Nw.setOrgId(K)),await n(y.Nw.setThirdpartyUserId(le)),n(y.Nw.setUserId(null===(C=re.payload)||void 0===C?void 0:C.id)),n(y.Nw.setSeenFeatures((null===(I=re.payload)||void 0===I?void 0:I.seenFeatures)||[])),null!==(j=re.payload)&&void 0!==j&&j.authUrl&&n(y.Nw.setAuthUrl(re.payload.authUrl));let de={detail:{}};const ce=(await G.getSelection()).baseId,ue=await p.Jn.getInstanceId();if(null!==(E=re.payload)&&void 0!==E&&E.token){var F,B;de=ne?await m.Z.getProjectById(ne):await m.Z.create({thirdpartyItemId:ue,name:"feishu-dashboard",workspaceID:ce}),r()(de.detail.extraID)||de.detail.extraID===ce||(de=await m.Z.create({thirdpartyItemId:ue,name:"feishu-dashboard",workspaceID:ce}));const t={...de.detail,mapConfig:$?{...de.detail.mapConfig,baseMap:"feishu"===ee.product?g.nn.AmapLight:g.R6.MapboxLight}:X},i=de.detail.id;if(await n(v.Nw.setCurrentOrgId(null!==(F=null!==(B=de.detail.extraOrgID)&&void 0!==B?B:K)&&void 0!==F?F:void 0)),await n(v.Nw.setProjects({projects:[t]})),d().set(P.gU,ee.product),r()(ne)&&await n(y.Nw.setFirstLoadPlugin(!0)),!$&&i&&Y){var V,H;const o=await z(G,U,ue,Y,i,t.mapConfig,Q,se);if(!o)return;const a="region"===e&&"region"===(null===(V=o.mapInfo)||void 0===V||null===(V=V.regionConfig)||void 0===V?void 0:V.dimension);let l=!1;if(a&&o.mapInfo){l=!!await(0,w.ec)(G,o.mapInfo)}D(l),Y.conditionVersion===x.T&&await n(v.Nw.setConditionVersion(x.T)),await n(v.Nw.setDefaultRegion(null===(H=o.mapInfo)||void 0===H?void 0:H.regionConfig)),await n(v.Nw.addLayerNodeForProject({projectId:i,layerNode:o})),await n(v.Nw.update({projectID:i,updatedFields:{mapConfig:Y.mapConfig}}))}else $&&"region"===e&&D(!0);setTimeout((()=>{n(v.Nw.updateCurrentProjectId(i))}),0)}}catch(W){console.info("error",W)}}),[c,M,n,i,N,D,h,s,z]);return(0,o.useEffect)((()=>{B(Z)}),[B,Z]),l?(0,_.jsx)(e,{...t}):(0,_.jsx)(j.Z,{})}}function F(){const e=(0,E.I)(),t=(0,o.useCallback)((async(t,n)=>{var i;const{payload:o}=await e(M.Oi({...t,projectID:n,name:null===(i=t.mapInfo)||void 0===i?void 0:i.layerType}));return o}),[e]),n=(0,o.useCallback)((async(e,t,n,i,o,a,l,r)=>{var s;if(!await e.isTableExist(n))return;const c=await e.getTable(n),u=await c.getName(),v=(await e.getSelection()).baseId,g=i.mapInfo?null===(s=await(0,w.ec)(e,i.mapInfo))||void 0===s?void 0:s.condition:void 0,f=g?x.T:void 0,m=g||{tableId:n,dataRange:{type:p.PO.ALL}},y={conditionVersion:f,projectId:o,mapConfig:{...a,isSet:!0},layerNodes:i,tableInfo:{tableName:u,baseId:v}};try{await t.saveConfig({dataConditions:[{...m,tableId:n,baseToken:r}],customConfig:y})}catch{await(0,w.Uh)(p.Jn,y,l,n,r)}d().remove(h.uf)}),[]);return(0,o.useCallback)((async(e,i,o,a,l,s,d,c)=>{var u;if(!a)return;const h=a.layerNodes,v=a.tableInfo,g=null===(u=h.mapInfo)||void 0===u?void 0:u.tableNodeID;if(!v)return await n(e,i,g,h,l,s,o,c),h;const f=await e.getSelection();if(!o)return h;const m=f.baseId;if(!m)return h;if(m===v.baseId||r()(v.baseId)){const a=await(0,w.Vk)(p.Jn,v);if(r()(a)||a===o)return r()(a)&&await(0,w.IQ)(p.Jn,o),h;{const a={...h,projectID:l};if(d){const r=await t(a,l);if(r)return await n(e,i,g,{...a,id:r},l,s,o,c),{...a,id:r}}return h}}try{const a=await e.getTableList();let r=null;for(const e of a){if(await e.getName()===v.tableName){r=e;break}}if(!r)return h;const u=r.id,p={...h,mapInfo:{...h.mapInfo,tableNodeID:u}};if(d){const a=await t(p,l);if(a)return await n(e,i,u,{...p,id:a},l,s,o,c),{...p,id:a}}return p}catch(y){return console.info("rebuild layer error",y),h}}),[t,n])}const z=Z;i()}catch(D){i(D)}}))},22411:(e,t,n)=>{"use strict";n.d(t,{F:()=>p});var i=n(57435),o=n(80835),a=n(29697),l=n(68906),r=n(30768),s=n(55349),d=n.n(s),c=n(80401),u=n(84991);const p=()=>{var e;const{theme:t,chartBgColor:n}=(0,c.F)(),{currentProjectId:s}=(0,l.Z)((e=>e.project)),p=(0,l.Z)((e=>d()(s)?void 0:r.Hx.selectById(e,s))),{isLark:h}=(0,u.k)();return{baseMapStyle:(0,i.useMemo)((()=>{var e;return h||(null===p||void 0===p||null===(e=p.mapConfig)||void 0===e?void 0:e.baseMap)===a.R6.MapboxLight?t===o.Dj.DARK?a.R6.MapboxDark:a.R6.MapboxLight:t===o.Dj.DARK?a.nn.AmapDark:a.nn.AmapLight}),[t,h,null===p||void 0===p||null===(e=p.mapConfig)||void 0===e?void 0:e.baseMap]),theme:t,chartBgColor:n}}},80634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(80835),o=n(3516);function a(){const{app:e,baseToken:t,state:n,isShared:a,env:l,isDashboardApi:r,setIsDashboardApi:s}=(0,o.VO)();return{...e,env:l,baseToken:t,isShared:a,isApp:!0===l.needChangeBase,isCreate:n===i.n3.Create,isConfig:n===i.n3.Config,isView:n===i.n3.View,isFullScreen:n===i.n3.FullScreen,isDashboardApi:r,setIsDashboardApi:s}}},38882:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var i=n(57435),o=n(27371),a=n(95620),l=n(30289),r=n(75805),s=n(68906),d=n(37160),c=n(74922),u=n(44229),p=n(33766);const h=(e,t)=>{const n=(0,s.Z)((e=>t?(0,r.M)(e,t):void 0)),{isCreate:h,isConfig:v,isShared:g}=(0,c.Z)(),f=(0,a.Z)(),m=(0,i.useRef)(!1),y=(0,i.useRef)(!1),w=(0,i.useCallback)((async()=>{if(!h&&!v&&0!==(null===n||void 0===n?void 0:n.length)&&e&&null!==n&&void 0!==n&&n.length)for(const a of n){var t,i;const n=null===(t=a.mapInfo)||void 0===t?void 0:t.tableNodeID,l=null===(i=a.mapInfo)||void 0===i?void 0:i.viewID,r=await(0,d.oJ)(e,n),s=await(0,u.OZ)(e,n);if(!m.current&&!r&&!s){m.current=!0,o.ZP.error(f.$t({id:"GBJJCO",defaultMessage:"The data table used by the current map has been deleted or you don't have permission to access it."}),10);break}const c=await(0,d.ax)(e,n,l);if(!y.current&&!c&&l!==p.Jd){y.current=!0,o.ZP.error(f.$t({id:"vgG6L3",defaultMessage:"The data view used by the current map has been deleted or you don't have permission to access it."}),10);break}}}),[n,f,h,v,e]);(0,l.ZP)(null!==n&&void 0!==n&&n.length&&!g?["checkTables",n]:null,w)}},44669:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var i=n(57435),o=n(30768),a=n(82828),l=n(67444),r=n(30423),s=n(41791),d=n(80634);const c=e=>{const t=(0,r.I)(),{dashboard:n,base:c,bridge:u,setIsDashboardApi:p}=(0,d.Z)();(0,i.useEffect)((()=>{if(!n||!c||!u)return;const i=n.onConfigChange((async n=>{var i,r,d;const{customConfig:h}=n.data;if(!e||!h)return;const v=h.layerNodes;t(o.Nw.updateLayerNodeForProject({projectId:e,layerNode:v})),t(o.Nw.update({projectID:e,updatedFields:{mapConfig:h.mapConfig}}));let g=!1;if("region"===(null===(i=v.mapInfo)||void 0===i?void 0:i.layerType)&&"region"===(null===(r=v.mapInfo)||void 0===r||null===(r=r.regionConfig)||void 0===r?void 0:r.dimension)&&v.mapInfo){g=!!await(0,l.ec)(c,v.mapInfo)}h.conditionVersion===s.T&&t(o.Nw.setConditionVersion(h.conditionVersion)),p(g),t(o.Nw.setDefaultRegion(null===(d=v.mapInfo)||void 0===d?void 0:d.regionConfig));const f=await(0,a.VW)(u);t({type:"project/updateInfoWindowConfig",payload:f})}));return()=>{i()}}),[t,e,n,c,u,p])}},74922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(80634);const o=()=>{const{isCreate:e,isConfig:t,isView:n,isFullScreen:o,isShared:a}=(0,i.Z)();return{isCreate:e,isConfig:t,isView:n,isFullScreen:o,isShared:a}}},84991:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var i=n(80634);const o=()=>{const{env:e,isShared:t,isApp:n,isDashboardApi:o}=(0,i.Z)();return{isApp:n,isShared:t,isFeiShu:"feishu"===e.product,isLark:"lark"===e.product,thirdpartyType:"feishu"===e.product?"feishuDashboard":"larkDashboard",isDashboardApi:o}}},34262:(e,t,n)=>{"use strict";n.d(t,{h:()=>y,w:()=>w});var i=n(57435),o=n(8942),a=n.n(o),l=n(468),r=n.n(l),s=n(68906),d=n(74922),c=n(30768),u=n(80835),p=n(43498),h=n(30423),v=n(44839);const g={id:1,type:"map",mapInfo:{labelConfig:{visible:!0,fillColor:"#000000",fontSize:16,direction:"center,start"},fillConfig:{icons:{},fillOpacity:.7},radiusConfig:{radius:30},odLineConfig:{widthRange:[0,100],destinationColor:"#0065ff",originColor:"#0065ff",type:"line",width:1}}},f={...g,mapInfo:{...g.mapInfo,fillConfig:{fillOpacity:.7,colors:["#1a9850","#91cf60","#d9ef8b","#ffffbf","#fee08b","#fc8d59","#d73027"]},radiusConfig:{radius:55},heatmapConfig:{threshold:.11}}},m={...g,mapInfo:{...g.mapInfo,labelConfig:{visible:!0,fillColor:"#000000",fontSize:13,direction:"center,middle"},regionConfig:{country:"china",level:"admin1",regionId:"china",dimension:"region",aggregateBy:"admin1",labelTypes:["name","value"],colors:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801"],fillMethod:"quantize"}}};function y(e){switch(e){case"heatmap":return f;case"region":return m;default:return g}}const w=e=>{let{layerType:t,tableNodeID:n,isFeiShu:o,projectId:l,theme:g}=e;const f=(0,h.I)(),{isCreate:m,isFullScreen:w}=(0,d.Z)(),b=(0,s.Z)((e=>e.project.defaultLanguage)),C=(0,i.useRef)(null),x=(0,i.useRef)(!1),I=(0,s.Z)((e=>(0,p.H8)(e))),j=(0,i.useCallback)((()=>{switch(b){case"ja":return"japan";case"en":return"usa";case"zh":return"china";case"vi":return"vietnam";case"th":return"thailand";case"id":return"indonesia";case"it":return"italy";case"de":return"germany";case"es":return"spain";case"fr":return"france";case"pt":return"portugal";default:return!1===o?"usa":"china"}}),[b,o]),M=(0,i.useCallback)((()=>{var e;if(!l||null===I||void 0===I||!I.length||!n)return;const i=null===(e=I.find((e=>e&&e.id===n)))||void 0===e?void 0:e.name,o=y(t),a={...o,name:i,projectId:l,mapInfo:{...o.mapInfo,layerType:t,tableNodeID:n}};if("region"===t&&a.mapInfo){const e=j();a.mapInfo.regionConfig={...a.mapInfo.regionConfig,country:e,regionId:e}}f(c.Nw.addLayerNodeForProject({projectId:l,layerNode:a})),x.current=!0}),[f,l,t,n,I,j]),k=(0,s.Z)((e=>l?(0,v.M)(e,l):[]));(0,i.useEffect)((()=>{null!==k&&void 0!==k&&k.length||!l||!m||x.current||M()}),[k,M,l,m]);const T=(0,i.useMemo)((()=>{var e,t;if(null===k||void 0===k||!k.length)return"";const n=null===(e=k[0].mapInfo)||void 0===e?void 0:e.tableNodeID;return null===(t=I.find((e=>e&&e.id===n)))||void 0===t?void 0:t.name}),[k,I]);(0,i.useEffect)((()=>{if(l&&null!==k&&void 0!==k&&k.length){var e,n,i,o,s,d,p,h,v,m;const y=w||g===u.Dj.DARK,b=k[0],x=null===(e=b.mapInfo)||void 0===e?void 0:e.layerType,I={...b,name:T,mapInfo:{...b.mapInfo,layerType:x||t,labelConfig:{...null===b||void 0===b||null===(n=b.mapInfo)||void 0===n?void 0:n.labelConfig,fontSize:null!==(i=null===b||void 0===b||null===(o=b.mapInfo)||void 0===o||null===(o=o.labelConfig)||void 0===o?void 0:o.fontSize)&&void 0!==i?i:14,fillColor:null!==(s=null===b||void 0===b||null===(d=b.mapInfo)||void 0===d||null===(d=d.labelConfig)||void 0===d?void 0:d.fillColor)&&void 0!==s?s:"#000000",strokeColor:y?"#FFFFFF":null!==(p=null===b||void 0===b||null===(h=b.mapInfo)||void 0===h||null===(h=h.labelConfig)||void 0===h?void 0:h.strokeColor)&&void 0!==p?p:void 0,strokeWeight:y?5:null!==(v=null===b||void 0===b||null===(m=b.mapInfo)||void 0===m||null===(m=m.labelConfig)||void 0===m?void 0:m.strokeWeight)&&void 0!==v?v:0}}};a()(r()(I,"version"),r()(C.current,"version"))||(C.current=I,f(c.Nw.updateLayerNodeForProject({projectId:l,layerNode:I})))}}),[w,f,l,k,g,T,t])}},9296:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var i=n(57435),o=n(7070),a=n.n(o),l=n(68906),r=n(46131),s=n(42015),d=n(44839);const c=[0,0],u=e=>{const{currentProjectId:t}=(0,l.Z)((e=>e.project)),n=(0,l.Z)((e=>t?(0,d.M)(e,t):[])),o=(0,i.useMemo)((()=>{var e;return(null===n||void 0===n||null===(e=n[0])||void 0===e||null===(e=e.mapInfo)||void 0===e||null===(e=e.regionConfig)||void 0===e?void 0:e.indexStatsMethod)||"sum"}),[n]);return{getDomain:(0,i.useCallback)((t=>{if(!e||0===e.length)return c;let n=Number.MAX_SAFE_INTEGER,i=0;const l=a()(e,(e=>{const t=(0,r.oe)(e,"aggregationValue"),a=(0,r.oe)(e,"aggregationMethod")||o,l=parseFloat((0,s.Bb)(t||[],a));return n=l<n?l:n,i=l>i?l:i,l}));return"quantize"===t||"continuous"===t?[n===Number.MAX_SAFE_INTEGER?0:n,i]:l}),[o,e])}}},42063:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(30289),o=n(75805),a=n(68906),l=n(80634);const r=(e,t)=>{const n=(0,a.Z)((e=>t?(0,o.M)(e,t):[])),{dashboard:r}=(0,l.Z)();(0,i.ZP)(e&&r&&null!==n&&void 0!==n&&n.length?["notifyBase",r]:null,(async e=>{let[t,n]=e;await n.setRendered()}))}},41791:(e,t,n)=>{"use strict";n.d(t,{O:()=>_,T:()=>S});var i=n(57435),o=n(468),a=n.n(o),l=n(74720),r=n.n(l),s=n(55349),d=n.n(s),c=n(53926),u=n.n(c),p=n(80835),h=n(68906),v=n(6831),g=n(30768),f=n(50839),m=n(67444),y=n(80634),w=n(91671),b=n(15972),C=n.n(b),x=n(41989),I=n.n(x),j=n(88716),M=n.n(j),k=n(44839),T=n(42538),E=n(66168),P=n(30423),O=n(87522);const S=1,_=e=>{const t=(0,P.I)(),{dashboard:n,base:o,bridge:l,isCreate:s,baseToken:c}=(0,y.Z)(),{currentProjectId:b}=(0,h.Z)((e=>e.project)),x=(0,h.Z)((e=>e.map.mapConfig)),j=(0,h.Z)((e=>b?(0,k.M)(e,b):void 0)),_=(0,h.Z)((e=>d()(b)?void 0:g.Hx.selectById(e,b))),{isPro:N,isOverQuota:D}=(0,h.Z)((e=>e.user.planInfo)),L=null===_||void 0===_?void 0:_.mapConfig,[A,R]=(0,i.useState)(!1),Z=(0,i.useCallback)((async e=>{if(!o||!s&&!l)return;const t=r()(e,"mapInfo.tableNodeID");if(!await o.isTableExist(t))return;const n=await o.getTable(t),i=await n.getName();return{baseId:(await o.getSelection()).baseId,tableName:i}}),[s,o,l]),F=(0,i.useCallback)((async(e,t,i)=>{var a;if(!n||!o)return;const r=await Z(t),d=s?{}:await(0,m.pG)(n),h=t.mapInfo?null===(a=await(0,m.ec)(o,t.mapInfo))||void 0===a?void 0:a.condition:void 0,v=h?S:void 0,g=h||{tableId:e,dataRange:{type:p.PO.ALL}};if(!s&&l){const e=await l.getInstanceId();e&&await(0,m.IQ)(l,e||"")}await n.saveConfig({dataConditions:[{...g,tableId:e,baseToken:c}],customConfig:{conditionVersion:v,projectId:null===_||void 0===_?void 0:_.id,mapConfig:{...L,...x,isSet:!0},layerNodes:t,tableInfo:r,columnsWidth:{...d,...u().session.get(f.KN)||{}}}}),l&&await(0,m.pW)(l),i&&u().set(f.rG,i),u().remove(f.uf),u().remove(f.KN)}),[null===_||void 0===_?void 0:_.id,n,o,l,x,L,Z,s,c]),z=(0,i.useCallback)((async e=>{if(null!==_&&void 0!==_&&_.id)try{await t(T.SQ({projectId:_.id,mapConfig:{...L,zoomLevel:I()([(0,w.E)(x.zoomLevel||1,2),1]),center:x.center,isSet:!0,...e}}))}catch(n){console.log("Save map config to project failed",n)}}),[null===_||void 0===_?void 0:_.id,L,x,t]),B=(0,i.useCallback)((async e=>{var n;if(!e||null===_||void 0===_||!_.id)return;const i=a()(e,["id"]),{payload:o}=await t(E.Oi({...i,projectID:null===_||void 0===_?void 0:_.id,name:i.name||(null===(n=i.mapInfo)||void 0===n?void 0:n.layerType)}));return o}),[t,null===_||void 0===_?void 0:_.id]);return{isSaving:A,onSave:(0,i.useCallback)((async()=>{if(e&&_){await e.validateFields(),R(!0);try{var n,i,o,a;if(!N||D)return void t(g.Nw.setUpgradePlanDialogVisible(!0));const c=null===j||void 0===j?void 0:j[0];if(!c)return;const u=e.getFieldsValue(!0),p=(0,O.Kd)(u),h=null!==(n=p.tableNodeID)&&void 0!==n?n:null===(i=c.mapInfo)||void 0===i?void 0:i.tableNodeID,f="world/cas"===(null===(o=p.regionConfig)||void 0===o?void 0:o.regionId)||"world/wb"===(null===(a=p.regionConfig)||void 0===a?void 0:a.regionId);if(s){const e={...c,mapInfo:C()({},c.mapInfo,p)},t=await B(e);if(await z(f?{showBaseMap:!1}:void 0),t){const n=await(0,m.VW)(l);await F(h,{...e,id:t},M()(null===n||void 0===n?void 0:n.infoWindowConfig)||null===n||void 0===n?void 0:n.infoWindowConfig)}}else{const e={...c,mapInfo:C()({},c.mapInfo,p),projectID:_.id,name:"".concat(p.layerType,"-").concat((new Date).getTime())};if(!e.id&&null!==_&&void 0!==_&&_.id){var r;const t=await v.Z.getLayerNodes(_.id);e.id=null===t||void 0===t||null===(r=t.detail)||void 0===r||null===(r=r.layerNodes)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.id}try{await t(E.pA(e)),await z(f?{showBaseMap:!1}:void 0),await F(h,e)}catch(d){if("Error"===d.name){const t=await B(e);await z(f?{showBaseMap:!1}:void 0),t&&await F(h,{...e,id:t})}}}}finally{R(!1)}}}),[e,_,N,D,l,j,s,t,B,z,F])}}},9275:(e,t,n)=>{"use strict";n.d(t,{W:()=>v});var i=n(57435),o=n(7070),a=n.n(o),l=n(8264),r=n.n(l),s=n(82828),d=n(37160),c=n(75805),u=n(68906),p=n(80634),h=n(30423);const v=(e,t,n)=>{const o=(0,h.I)(),{base:l,ui:v}=(0,p.Z)(),g=(0,u.Z)((t=>e?(0,c.M)(t,e):void 0)),f=(0,u.Z)((t=>{var n;return e?null===(n=t.map.hiddenLayerIds)||void 0===n?void 0:n[e]:void 0})),[m,y]=(0,i.useState)([]),[w,b]=(0,i.useState)({}),C=(0,i.useCallback)((async()=>{const e=a()(g,(e=>{var t;const n=null===(t=e.mapInfo)||void 0===t?void 0:t.tableNodeID;if(null===f||void 0===f||!f.includes(n))return n}));r()(e,[t]).forEach((async e=>{if(!l||!v||!e||m.includes(e))return;if(!await(0,d.oJ)(l,e))return;const t=await l.getTableById(e);if(!t)return;if(null!==w&&void 0!==w&&w[e])return;const i=await(async(e,t,n,i,o)=>{const a=await(0,s.Xk)(n),l=n.onRecordDelete((async e=>{null===o||void 0===o||o();const{recordIds:t}=(null===e||void 0===e?void 0:e.data)||{};null!==t&&void 0!==t&&t.length&&i({type:"tableNode/deleteRows",payload:{id:n.id,deletedRowIDs:t}})})),r=n.onRecordAdd((async t=>{null===o||void 0===o||o();const{recordIds:l}=(null===t||void 0===t?void 0:t.data)||{};if(!a||null===l||void 0===l||!l.length)return;const r=await(0,d.oo)({base:e,view:a});l.forEach((async e=>{const t=await n.getRecordById(e),o=await(0,s.mJ)({recordId:e,...t},r);i({type:"tableNode/createRow",payload:{tableNodeID:n.id,addedViewRows:[],...o}})}))})),c=n.onRecordModify((async t=>{null===o||void 0===o||o();const{recordId:l}=(null===t||void 0===t?void 0:t.data)||{};if(!a||!l)return;const r=await(0,d.oo)({base:e,view:a}),c=await n.getRecordById(l),u=await(0,s.mJ)({recordId:l,...c},r);i({type:"tableNode/updateCells",payload:{id:n.id,rowID:l,updateCells:u.cells}})})),u=n.onFieldModify((async()=>{null===o||void 0===o||o();const a=await(0,s.qf)(e,t,n,!1);a&&i({type:"tableNode/setDetail",payload:{...a,segmentType:"segmentStart"}})})),p=n.onFieldAdd((async e=>{null===o||void 0===o||o();const{fieldId:t,fieldType:a,tableId:l}=(null===e||void 0===e?void 0:e.data)||{},r=await n.getFieldById(t),d=await r.getName();i({type:"tableNode/createColumn",payload:{tableNodeID:l,id:t,name:d,type:s.uU[a]}})})),h=n.onFieldDelete((async()=>{null===o||void 0===o||o();const a=await(0,s.qf)(e,t,n);a&&i({type:"tableNode/setDetail",payload:{...a,segmentType:"segmentStart"}})}));return()=>{null===l||void 0===l||l(),null===r||void 0===r||r(),null===c||void 0===c||c(),null===p||void 0===p||p(),null===u||void 0===u||u(),null===h||void 0===h||h()}})(l,v,t,o,n);w[e]=i,y((t=>[...t,e])),b(w)}))}),[g,t,f,m,l,w,v,o,n]);return(0,i.useEffect)((()=>{C()}),[C]),{subscribe:C,unsubscribeAll:function(){a()(w,(e=>{e()}))}}}},10276:(e,t,n)=>{"use strict";n.d(t,{HB:()=>F,fg:()=>B,iG:()=>A,mr:()=>R,xJ:()=>z});var i=n(57435),o=n(30289),a=n(18765),l=n.n(a),r=n(7070),s=n.n(r),d=n(23903),c=n.n(d),u=n(8942),p=n.n(u),h=n(90013),v=n.n(h),g=n(38981),f=n.n(g),m=n(82959),y=n.n(m),w=n(80835),b=n(82828),C=n(37160),x=n(68906),I=n(75805),j=n(30768),M=n(44229),k=n(80634),T=n(78587),E=n.n(T),P=n(32578),O=n(33766),S=n(1714),_=n(43498),N=n(30423),D=n(69151),L=n(74922);function A(e){var t;const{tableNodeId:n,viewId:a,isMore:r}=e||{},s=(0,N.I)(),{base:d,ui:c}=(0,k.Z)(),[u,p]=(0,i.useState)(n),h=(0,x.Z)((e=>(0,_.H8)(e))),v=(0,x.Z)((e=>u?S.TW.selectById(e,u):void 0)),g=(0,i.useMemo)((()=>{if(u)return a}),[a,u]),{isLoading:f}=(0,o.ZP)(d&&c&&u&&(null===v||void 0===v||null===(t=v.columns)||void 0===t||!t.length)?["fetchTableNodeOnDemandForLayer",d,c,u]:null,(async e=>{let[,t,n,i]=e;try{const e=await t.getTableById(i),o=g&&g!==O.Jd?await(null===e||void 0===e?void 0:e.getViewById(g)):await(0,b.Xk)(e);if(!o)return null;const a=await(0,C.oo)({base:t,view:o,table:e,isGetOriginType:!1}),{columns:l,rowsCount:s}=a?await(0,b.Pu)(t,n,a,e):{columns:[],rowsCount:0};return{id:e.id,segmentType:"segmentFrame",columns:l,rowsCount:s,more:r}}catch{return null}}),{onSuccess:e=>{e&&s(S.Nw.setDetail(e))}});(0,i.useEffect)((()=>{n&&p(n)}),[n]),(0,o.ZP)(d&&u?["getFeishuTableViews",d,u]:null,(async e=>{let[,t,n]=e;const i=await t.getTableById(n);return{id:n,segmentType:"segmentFrame",views:(await i.getViewMetaList()).filter((e=>e.type===w.bW.Grid)).map((e=>({id:e.id,name:e.name,type:"table"})))}}),{onSuccess:e=>{e&&s(S.Nw.setDetail(e))}});const m=(0,i.useMemo)((()=>n&&(null===v||void 0===v?void 0:v.id)===n&&(null===v||void 0===v?void 0:v.views)||[]),[n,null===v||void 0===v?void 0:v.id,null===v||void 0===v?void 0:v.views]),[y,I,j]=(0,i.useMemo)((()=>{const e=l()(null===v||void 0===v?void 0:v.columns,(e=>"coordinate"===e.type||(0,D.uL)(e)||(0,D.Tt)(e))),t=e.filter((e=>{var t;return!(null!==(t=e.typeOptions)&&void 0!==t&&t.textCoordinateType)})),n=e.filter((e=>{var t;return null===(t=e.typeOptions)||void 0===t?void 0:t.textCoordinateType}));return[e,t,n]}),[null===v||void 0===v?void 0:v.columns]),M=(0,i.useMemo)((()=>l()(null===v||void 0===v?void 0:v.columns,(e=>"multiLineText"===e.type||(0,D.np)(e)||(0,D.CB)(e)))),[null===v||void 0===v?void 0:v.columns]),T=(0,i.useMemo)((()=>l()(null===v||void 0===v?void 0:v.columns,(e=>"number"===e.type||(0,D.sI)(e)))),[null===v||void 0===v?void 0:v.columns]),E=(0,i.useMemo)((()=>l()(null===v||void 0===v?void 0:v.columns,(e=>"multiLineText"===e.type||(0,D.np)(e)))),[null===v||void 0===v?void 0:v.columns]),P=(0,i.useMemo)((()=>l()(null===v||void 0===v?void 0:v.columns,(e=>{const t=e.type;return"multiLineText"===t||"number"===t||"singleChoice"===t||"multiChoice"===t||"datetime"===t||"createTime"===t||"updateTime"===t||(0,D.Ef)(e)||(0,D.np)(e)||(0,D.oh)(e)||(0,D.s0)(e)||(0,D.BC)(e)||(0,D.sI)(e)||(0,D.NU)(e)}))),[null===v||void 0===v?void 0:v.columns]),L=(0,i.useMemo)((()=>l()(null===v||void 0===v?void 0:v.columns,(e=>"datetime"===e.type||"createTime"===e.type||"updateTime"===e.type))),[null===v||void 0===v?void 0:v.columns]),A=(0,i.useMemo)((()=>l()(null===v||void 0===v?void 0:v.columns,(e=>"multiLineText"===e.type||(0,D.np)(e)||(0,D._3)(e)||(0,D.BC)(e)||(0,D.s0)(e)))),[null===v||void 0===v?void 0:v.columns]);return{tableNodes:h,tableNode:v,viewOptions:m,columns:(null===v||void 0===v?void 0:v.columns)||[],coordinateOptions:y,locationOptions:I,textCoordinateOptions:j,h3Options:M,labelOptions:P,numberOptions:T,textOptions:E,dimensionOptions:A,dateTimeOptions:L,isLoading:f}}function R(e){const t=(0,N.I)(),{base:n,bridge:a,isView:l,isFullScreen:r}=(0,k.Z)(),d=(0,x.Z)((e=>(0,_.H8)(e))),c=(0,x.Z)((t=>e?(0,I.M)(t,e):void 0)),u=(0,i.useMemo)((()=>{var e;return null!==c&&void 0!==c&&c.length?null===(e=c[0].mapInfo)||void 0===e?void 0:e.tableNodeID:void 0}),[c]),{isConfig:h}=(0,L.Z)(),{data:v}=(0,P.Z)(a&&e?["getInfoWindowConfig",a]:null,(async e=>{let[,t]=e;return await(0,b.VW)(t)})),{isLoading:g}=(0,o.ZP)(n&&u?["fetchTableNodeOnDemand",n,u]:null,(async e=>{let[,t,n]=e;const i=await t.getTableById(f()(n)),o=await i.getName();return{segmentType:"segmentStart",id:i.id,name:o,type:"table",infoWindowConfig:v,more:!0}}),{onSuccess:e=>{e&&t(S.Nw.setDetail(e))}}),{data:m,isLoading:y}=(0,o.ZP)(!n||l||r?null:["getFeishuTableNodes",n],(async e=>{let[,t]=e;try{const e=await t.getTableList(),n=s()(d,(e=>e.id)),i=s()(e,(e=>e.id));if(p()(n,i))return{locationTableId:null,payloads:[]};let o=null;const a=[];for(const l of e)if(o||h){const e=await l.getName(),n=await(0,M.OZ)(t,l.id),i={segmentType:"segmentStart",id:l.id,name:e,type:"table",infoWindowConfig:v,more:n};a.push(i)}else{const e=await l.getName(),n=await(0,b.Xk)(l);if(!o&&n){const e=await(0,C.oo)({base:t,view:n,table:l});(null===e||void 0===e?void 0:e.find((e=>e.type===w.fS.Location)))&&(o=l.id)}const i={segmentType:"segmentStart",id:l.id,name:e,type:"table",infoWindowConfig:v,more:!0};a.push(i)}return{locationTableId:o,payloads:a}}catch{return{locationTableId:null,payloads:[]}}}),{onSuccess:e=>{null!==e&&void 0!==e&&e.payloads&&e.payloads.forEach((e=>{t(S.Nw.setDetail(e))}))}}),j=(0,i.useMemo)((()=>null===m||void 0===m?void 0:m.locationTableId),[m]),[T,E]=(0,i.useMemo)((()=>{var e;return y?[null,!1]:[j||(null===d||void 0===d||null===(e=d[0])||void 0===e?void 0:e.id),null==j]}),[y,j,d]);return{isLoadingTable:y||g,hasLocationTableId:T,noLocationField:E,infoWindowConfig:v}}const Z={};function F(e){const{isDashboardApi:t}=(0,k.Z)(),n=(0,x.Z)((t=>e?(0,I.M)(t,e):void 0)),a=(0,x.Z)((e=>(0,_.H8)(e))),l=(0,i.useMemo)((()=>{const e=[];if(null===a||void 0===a||!a.length||null===n||void 0===n||!n.length)return e;for(const o of n){var t,i;const n=null===(t=o.mapInfo)||void 0===t?void 0:t.tableNodeID,l=null===(i=o.mapInfo)||void 0===i?void 0:i.viewID;c()(a,(e=>e&&e.id===n))&&!e.map((e=>e.tableId)).includes(n)&&e.push({tableId:n,viewId:l})}return e}),[n,a]),{isLoading:r}=function(e){const t=(0,N.I)(),{base:n,ui:i}=(0,k.Z)(),{isLoading:a}=(0,o.ZP)(n&&i&&e&&e.length>0?["getFeishuTableColumns",n,i,e]:null,(async e=>{let[,t,n,i]=e;return await Promise.all(i.map((async e=>{let{tableId:i,viewId:o}=e;const a=await t.getTableById(i),l=o&&o!==O.Jd?await a.getViewById(o):await(0,b.Xk)(a),r={id:i,columns:[],more:!1,type:"table",segmentType:"segmentStart"};if(l){const e=await(0,C.oo)({base:t,view:l,table:a});if(!e)return null;const{columns:i,rowsCount:o}=await(0,b.Pu)(t,n,e,a);Object.assign(r,{columns:i,rowsCount:o})}else r.columns=[];return r})))}),{onSuccess:e=>{e&&e.forEach((e=>{e&&t(S.Nw.setDetail(e))}))}});return{isLoading:a}}(l),{isLoading:s}=function(e){const t=(0,N.I)(),{base:n,baseToken:i}=(0,k.Z)(),{isLoading:a}=(0,o.ZP)(n&&e&&e.length>0?["getFeishuTableRows",n,e]:null,(async e=>{let[t,n,o]=e;return await Promise.all(o.map((async e=>{let{tableId:t,viewId:o}=e;try{const e="".concat(i||"","-").concat(t,"-").concat(o);let a;return Z[e]?a=Z[e]:(a=await(0,b.fN)(n,t,o),Z[e]=a),{...a,more:!1,type:"table",segmentType:"segmentStart"}}catch{return null}})))}),{onSuccess:e=>{e&&e.forEach((e=>{e&&t(S.Nw.setDetail(e))}))}});return{isLoading:a}}(t?void 0:l);return{isLoading:(0,i.useMemo)((()=>r||s),[r,s])}}function z(){const e=(0,N.I)(),{isDashboardApi:t}=(0,k.Z)(),n=(0,x.Z)((e=>(0,_.H8)(e)));(0,i.useEffect)((()=>{if(t)return;const i=null===n||void 0===n?void 0:n.reduce(((e,t)=>{var n,i;const o=null===(n=t.columns)||void 0===n?void 0:n.filter((e=>(0,D.NU)(e)));return null!==o&&void 0!==o&&o.length&&null!==(i=t.rows)&&void 0!==i&&i.length&&t.rows.forEach((t=>{Object.entries(t.cells||{}).forEach((t=>{let[n,i]=t;if(n.includes("member"))try{const t=JSON.parse(i)||{};E()(t)&&e.push(...t)}catch(o){console.error("error:",o)}}))})),e}),[]);e(j.Nw.setMembers(y()(v()(i,"id"))))}),[n,t,e])}function B(e){const t=(0,x.Z)((e=>(0,_.H8)(e)));return null===t||void 0===t?void 0:t.find((t=>t&&t.id===e))}},80401:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var i=n(57435),o=n(30289),a=n(80835),l=n(57649),r=n(49756),s=n(80634);(0,l.setFetchMethod)(window.fetch);function d(e){if(e){const t=e.match(/var\(([^)]+)\)/);return t?(0,r.Dw)(t[1]):(e=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e))(e)?e:"#fff"}return"#fff"}const c=()=>{const[e,t]=(0,i.useState)(),[n,r]=(0,i.useState)(),{dashboard:c}=(0,s.Z)(),u=(0,i.useCallback)((e=>{e===a.Dj.DARK?(0,l.enable)({mode:1,brightness:140,contrast:100,sepia:0,darkSchemeBackgroundColor:"#0a0a0a",darkSchemeTextColor:"#FFFFFF"}):(0,l.disable)()}),[]),{data:p}=(0,o.ZP)(c?["getTheme",c]:null,(async e=>{let[,t]=e;return await t.getTheme()}));return(0,i.useEffect)((()=>{p&&(u(p.theme),t(p.theme),r(d(p.chartBgColor)))}),[p,u]),(0,i.useEffect)((()=>{if(!c)return;const e=c.onThemeChange((e=>{u(e.data.theme),t(e.data.theme),r(d(e.data.chartBgColor))}));return c.state===a.n3.FullScreen&&(t(a.Dj.DARK),u(a.Dj.DARK)),()=>{e&&e()}}),[u,c]),{theme:e,chartBgColor:n}}},20881:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var i=n(57435),o=n(95620),a=n(68906),l=n(41867),r=n(74922);const s={pointLinePolygon:"Point",heatmap:"Heatmap",icon:"Icon"},d={isCreate:"CreateWidgetPageShow",isConfig:"EditWidgetPageShow",isView:"WidgetShow",isFullScreen:"WidgetShow"},c=e=>{const t=(0,o.Z)(),{isConfig:n,isCreate:c,isView:u,isFullScreen:p}=(0,r.Z)(),{currentProjectId:h}=(0,a.Z)((e=>e.project));(0,i.useEffect)((()=>{const i=d[c?"isCreate":n?"isConfig":p?"isFullScreen":"isView"],o=s[e],a={widget_type:o};(u||p)&&(a.widget_id=h,a.widget={[o]:1},a.location=u?"Dashboard":"FullScreen"),h&&l.Z.mpTrackWidget(i,t.locale,a,{id:h})}),[c,n,u,p,h,t.locale,e])}},64407:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var i=n(57435),o=n(63614),a=n(82583),l=n(43179),r=n.n(l),s=n(7336),d=n.n(s),c=n(83177),u=n.n(c),p=n(53523),h=n(95511),v=n(59e3),g=n(89420),f=(n(56648),n(83374),n(8751),n(3417),n(85621),n(91242),n(11286),n(78978),n(94553)),m=e([g]);g=(m.then?(await m)():m)[0],window._store=v.h,r().extend(d()),r().extend(u()),p.S({dsn:"https://1cbf40ec955b89c8c7182c2e9c3f940a@o1161772.ingest.us.sentry.io/4509296236691456",integrations:[new h.gE],environment:"production",tracesSampleRate:1,ignoreErrors:["Uncaught (in promise) cancel","Non-Error promise rejection captured"]});const y=document.getElementById("root");(0,o.s)(y).render((0,f.jsx)(i.StrictMode,{children:(0,f.jsx)(a.zt,{store:v.h,children:(0,f.jsx)(g.g,{})})})),t()}catch(y){t(y)}}))},45567:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Z:()=>C});var o=n(57435),a=n(55349),l=n.n(a),r=n(27862),s=n(10276),d=n(99694),c=n(68906),u=n(30768),p=n(75805),h=n(41791),v=n(60883),g=n(17994),f=n(74922),m=n(14330),y=n(30423),w=n(94553),b=e([r]);r=(b.then?(await b)():b)[0];const C=e=>{var t,n,i;let{defaultLayerType:a}=e;const b=(0,y.I)(),{currentProjectId:C}=(0,c.Z)((e=>e.project)),x=(0,c.Z)((e=>l()(C)?void 0:u.Hx.selectById(e,C))),I=(0,c.Z)((e=>C?(0,p.M)(e,C):[])),j=null===I||void 0===I?void 0:I[0],{isCreate:M,isConfig:k}=(0,f.Z)(),[T,E]=(0,o.useState)(!1),P=(0,o.useRef)(),{hasLocationTableId:O,isLoadingTable:S,infoWindowConfig:_}=(0,s.mr)(null===x||void 0===x?void 0:x.id),{isLoading:N}=(0,s.HB)(null===x||void 0===x?void 0:x.id),{onSave:D,isSaving:L}=(0,h.O)(null===(t=P.current)||void 0===t?void 0:t.form),A=(0,o.useRef)({map:null,layers:[]}),R=N||S,Z=(0,o.useMemo)((()=>{var e,t;if(M||null===j||void 0===j||null===(e=j.mapInfo)||void 0===e||!e.layerType)return a;const n=null===j||void 0===j||null===(t=j.mapInfo)||void 0===t?void 0:t.layerType;return"heatmap"===n?"heatmap":"region"===n?"region":"icon"}),[null===j||void 0===j||null===(n=j.mapInfo)||void 0===n?void 0:n.layerType,a,M]),F=(0,o.useCallback)((e=>{E(!!e)}),[]),[z,B]=(0,o.useState)(0);(0,o.useEffect)((()=>{B((e=>e+1))}),[Z]),(0,o.useEffect)((()=>{C&&_&&b({type:"project/updateInfoWindowConfig",payload:_})}),[C,_,b]);const V=(0,o.useMemo)((()=>"region"===Z&&x?(0,w.jsx)(g.Z,{ref:A,isLoading:R,project:x,hasLocationTableId:O,onRegionMapProcessing:F},"region-".concat(z,"-").concat(Z)):(0,w.jsx)(v.Z,{layerType:Z,loading:R,hasLocationTableId:O,ref:A},"map-".concat(z,"-").concat(Z))),[Z,x,R,O,z,F]);return(0,w.jsx)(r.Z,{preview:(0,w.jsxs)(w.Fragment,{children:[V,x&&(0,w.jsx)(m.Z,{})]}),config:M||k?(0,w.jsx)(d.Z,{layerType:Z,ref:P,layers:T?[]:(null===(i=A.current)||void 0===i?void 0:i.layers)||[]}):null,layerType:Z,isSaving:L,onSubmit:D})};i()}catch(C){i(C)}}))},9696:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Z:()=>o.Z});var o=n(45567),a=e([o]);o=(a.then?(await a)():a)[0],i()}catch(l){i(l)}}))},87078:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Z:()=>d});var o=n(11145),a=n(9696),l=n(94553),r=e([a]);a=(r.then?(await r)():r)[0];const s=[{path:"/",element:(0,l.jsx)(a.Z,{defaultLayerType:"icon"}),index:!0},{path:"/heatmap",element:(0,l.jsx)(a.Z,{defaultLayerType:"heatmap"})},{path:"/region",element:(0,l.jsx)(a.Z,{defaultLayerType:"region"})}],d=()=>(0,o.V$)(s);i()}catch(s){i(s)}}))},67444:(e,t,n)=>{"use strict";n.d(t,{Eg:()=>k,IQ:()=>m,Jl:()=>T,Uh:()=>b,VW:()=>w,Vk:()=>y,c0:()=>O,cp:()=>x,ec:()=>M,fE:()=>f,pG:()=>S,pW:()=>C});var i=n(80835),o=n(55349),a=n.n(o),l=n(18765),r=n.n(l),s=n(7070),d=n.n(s),c=n(8942),u=n.n(c),p=n(56043),h=n(33766),v=n(37160),g=n(82828);const f=async(e,t,n)=>{const i="number"===typeof(null===e||void 0===e?void 0:e.projectId)?e.projectId:void 0;if(n)return i;const o=await t.getInstanceId(),l=null===e||void 0===e?void 0:e.tableInfo,r=await y(t,l);return!a()(r)&&r!==o?void 0:i},m=async(e,t)=>{try{await e.setData("instanceId",t)}catch{}},y=async(e,t)=>{try{const t=await e.getData("instanceId");if(t&&"string"===typeof t&&t.trim().length>5)return t}catch{}if(null!==t&&void 0!==t&&t.instanceId){try{await m(e,t.instanceId)}catch{}return t.instanceId}},w=async e=>{try{return await(null===e||void 0===e?void 0:e.getData("infoWindowConfig"))}catch{}},b=async(e,t,n,i,o)=>{const a={customConfig:t,instanceId:n,tableId:i,baseToken:o};try{await e.setData("customConfigBackup",a)}catch{}},C=async e=>{try{await e.setData("customConfigBackup",null)}catch{}},x=async e=>{try{const t=await e.getData("customConfigBackup");if(!t||!t.customConfig||!t.instanceId||!t.tableId)return;const n=await e.getInstanceId();if(t.instanceId!==n){try{await e.setData("customConfigBackup",null)}catch{}return}return t}catch{}};function I(e){switch(e){case"min":return i.lj.MIN;case"max":return i.lj.MAX;default:return i.lj.SUM}}async function j(e){try{var t,n;const o=null===(t=await e.getMeta())||void 0===t||null===(t=t.property)||void 0===t?void 0:t.filterInfo;if(!o||null===(n=o.conditions)||void 0===n||!n.length)return;if(o.conjunction===i.Sy.And)return o;const a=o.conditions.length;return 1===a||2===a&&u()(o.conditions[0],o.conditions[1])?{conjunction:i.Sy.And,conditions:[o.conditions[0]]}:o}catch(o){console.log("Error getting final filter info",o)}}async function M(e,t){const{tableNodeID:n,regionDimensionFieldID:o,viewID:a,regionIndexStatsFieldID:l,specifyByFieldID:r,regionConfig:s,layerType:d}=t;if("region"!==d)return;if(!n||!o||!s||"region"!==(null===s||void 0===s?void 0:s.dimension))return;const c=n,u=s.indexStatsMethod||"sum";if("mean"===u)return;let v=a&&a!==h.Jd?a:void 0;const g={conjunction:i.Sy.And,conditions:[{fieldId:o,operator:i.pg.IsNotEmpty}]};let f="COUNTA";if(l&&l!==p.N&&"count"!==u&&(g.conditions.push({fieldId:l,operator:i.pg.IsNotEmpty}),"nonEmptyCount"!==u&&(f=[{fieldId:l,rollup:I(u)}])),"nonEmptyCount"===u&&l&&l!==p.N&&v){try{const t=await e.getTableById(c);if(!t)return;const n=await t.getViewById(v);if(!n)return;const o=await j(n);if(o){if(o.conjunction!==i.Sy.And)return;g.conditions.push(...o.conditions)}}catch(y){console.log("Error getting view filter info",y)}v=void 0}const m=[{fieldId:o}];r&&"admin0"!==s.level&&m.push({fieldId:r});return{condition:{tableId:c,groups:m,series:f,dataRange:{type:v?i.PO.VIEW:i.PO.ALL,viewId:v,filterInfo:g}},type:"normal"}}async function k(e,t,n){const i=await e.getPreviewData({...n,series:"COUNTA"});if(!i||t.length!==i.length)return;const o=T(t),a=T(i);if(!o||!a)return;const l={};for(const d in o){const e=o[d],t=a[d];if(!e||!t)continue;const n={};for(const i in e){var r,s;const o=null===(r=e[i])||void 0===r?void 0:r.value,a=Object.keys(t),l=a.length?null===(s=t[a[0]])||void 0===s?void 0:s.value:void 0;n[i]={value:l?o/l:0,sum:o,count:l}}l[d]=n}return l}function T(e){if(null===e||void 0===e||!e.length)return;const t={},n=e[0].map((e=>e.value));for(let i=1;i<e.length;i++){const o=e[i],a=o[0].value;if(!a)continue;const l={};for(let e=1;e<o.length;e++){const t=n[e],i=o[e].value;t&&null!=i&&(l[t]={value:Number(i)})}t[a]=l}return t}async function E(e,t,n,i){var o;const a=await e.getRecordsByPage({filter:n,pageToken:t,pageSize:200});return null!==i&&void 0!==i&&i.length?{records:null===(o=a.records)||void 0===o?void 0:o.filter((e=>e&&i.includes(e.recordId))),hasMore:a.hasMore,pageToken:a.pageToken}:a}async function P(e,t,n,o,a){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>!1;const r={conjunction:i.Sy.And,conditions:[{fieldId:t,operator:i.pg.Is,value:n}]};o&&r.conditions.push(...o.conditions);const s=[];if(a){const e=await j(a);if(e)if(e.conjunction===i.Sy.And)r.conditions.push(...e.conditions);else{const e=await a.getVisibleRecordIdList(r);for(const t of e)t&&s.push(t)}}let d,c=[],u=!0;for(;u&&!l();){const{records:t,hasMore:n,pageToken:i}=await E(e,d,r,s);c=c.concat(t),u=n,d=i}return c}async function O(e,t,n,o,a,l){var s,c;let u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>!1;if(null===(s=t.groups)||void 0===s||!s.length)return[];const p=await e.getTableById(o);if(!p)return[];const f=t.groups[0].fieldId,m=a&&a!==h.Jd?await p.getViewById(a):void 0,y=null===(c=t.dataRange)||void 0===c?void 0:c.filterInfo;let w=m;if(w||(w=await(0,g.Xk)(p)),!w)return[];const b=await(0,v.oo)({base:e,view:w,table:p,isGetOriginType:!0,includeHiddenField:a===h.Jd});if(null===b||void 0===b||!b.length)return[];const C=await async function(e,t,n){const o=n.find((e=>e&&e.id===t));var a;if((null===o||void 0===o?void 0:o.type)===i.fS.SingleSelect)return null===(a=o.property)||void 0===a?void 0:a.options;if((null===o||void 0===o?void 0:o.type)===i.fS.Lookup&&(null===o||void 0===o?void 0:o.originType)===i.fS.SingleSelect){const t=null===o||void 0===o?void 0:o.property;if(!t)return;try{var l;const n=await e.getTableById(t.refTableId);if(!n)return;const o=await n.getFieldMetaById(t.refFieldId);if(!o||o.type!==i.fS.SingleSelect)return;return null===(l=o.property)||void 0===l?void 0:l.options}catch{}}}(e,f,b),x=[];let I=0;for(const i of n){var j;if(u())break;const e=null!==C&&void 0!==C&&C.length&&(null===C||void 0===C||null===(j=C.find((e=>e.name===i)))||void 0===j?void 0:j.id)||i,t=await P(p,f,e,y,m,u);if(u())break;if(null===t||void 0===t||!t.length)continue;const n=await Promise.all(d()(r()(t,Boolean),(e=>(0,g.mJ)(e,b))));for(const i of n)i&&(I++,x.push({recordId:i.id,index:I,...i.cells}));if(u())break;null===l||void 0===l||l(x)}return x}async function S(e){var t;return(null===(t=(await e.getConfig()).customConfig)||void 0===t?void 0:t.columnsWidth)||{}}},82828:(e,t,n)=>{"use strict";n.d(t,{uU:()=>Z,b0:()=>ae,Pk:()=>V,Pu:()=>Q,LZ:()=>ie,qf:()=>te,Xk:()=>H,VW:()=>z,Gn:()=>oe,fN:()=>ee,mJ:()=>X,QU:()=>B});var i=n(78587),o=n.n(i),a=n(74720),l=n.n(a),r=n(88716),s=n.n(r),d=n(34362),c=n.n(d),u=n(7070),p=n.n(u),h=n(23903),v=n.n(h),g=n(18765),f=n.n(g),m=n(55349),y=n.n(m),w=n(49623),b=n.n(w),C=n(82959),x=n.n(C),I=n(18878),j=n.n(I),M=n(53926),k=n.n(M),T=n(80835),E=n(98238),P=n(20935),O=n(50839),S=n(37160),_=n(94908),N=n(43239);function D(e){const t=e,n=t.location.split(",").map(Number),i=(0,_.transformGCJ02ToWGS84)(n,!0);return{fullAddress:t.fullAddress||t.full_address,coordinate:"POINT(".concat(i.join().replace(","," "),")")}}const L=async e=>(await e.getSelectOptionColorInfoList()).filter((e=>-1!==e.id));const A=[T.fS.User,T.fS.CreatedUser,T.fS.ModifiedUser],R={[T.fS.Number]:e=>e,[T.fS.Text]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.text)).join(""),[T.fS.SingleSelect]:e=>null===e||void 0===e?void 0:e.id,[T.fS.MultiSelect]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[T.fS.DateTime]:e=>e,[T.fS.CreatedTime]:e=>e,[T.fS.ModifiedTime]:e=>e,[T.fS.User]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[T.fS.ModifiedUser]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[T.fS.CreatedUser]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.id)),[T.fS.Url]:e=>{var t;return null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.link},[T.fS.Attachment]:(e,t,n)=>p()(e,(e=>({fileID:e.token,fileType:e.type,fileName:e.name,fileSize:e.size,fileExt:e.type.replace("image/","").replace("application/",""),url:"",token:e.token,fieldId:t.id,recordId:n}))),[T.fS.Location]:e=>D(e),[T.fS.Barcode]:e=>p()(e,(e=>null===e||void 0===e?void 0:e.text)).join(","),[T.fS.AutoNumber]:e=>e.value?Number(e.value):null},Z={0:"",1:"multiLineText",2:"number",3:"singleChoice",4:"multiChoice",5:"datetime",7:"boolean",11:"member",13:"multiLineText",15:"hyperlink",17:"attachment",18:"",19:"lookup",20:"formula",21:"",22:"coordinate",23:"",1001:"createTime",1002:"updateTime",1003:"creator",1004:"updater",1005:"number",99001:"multiLineText",99002:"",99003:"number",99004:"",99005:"multiLineText"},F=Object.keys(Z).filter((e=>""!==Z[Number(e)])).map(Number),z=async e=>{const t=await e.getData("infoWindowConfig"),n=k().get(O.rG);return s()(n)?s()(t)?{columnIDs:[],closeWay:"clickOtherPOI",coverImage:null,coverImages:null,layout:"horizontal"}:t.infoWindowConfig:(await e.setData("infoWindowConfig",{infoWindowConfig:n}),k().remove(O.rG),n)},B=async(e,t,n)=>{const i=await e.getData("infoWindowConfig"),o={closeWay:t.closeWay,layout:t.layout,columnIDs:{...null===i||void 0===i?void 0:i.columnIDs,...t.columnIDs},coverImages:{...null===i||void 0===i?void 0:i.coverImages,...t.coverImages}};await e.setData("infoWindowConfig",{infoWindowConfig:o}),n({type:"project/updateInfoWindowConfig",payload:o})},V=async(e,t,n,i,o)=>{if(!n||!t)return;const a=await e.getTableById(t);return await(null===a||void 0===a?void 0:a.getAttachmentUrl(n,i,o))},H=async e=>{const t=await(async e=>{const t=(await(null===e||void 0===e?void 0:e.getViewMetaList())).filter((e=>e.type===T.bW.Grid));return p()(t,(e=>({id:e.id,name:e.name})))})(e);if(0===t.length)return null;return await(null===e||void 0===e?void 0:e.getViewById(t[0].id))};const W=new Map;function U(e,t){var n,i;if(W.has(t))return W.get(t);const a=e.find((e=>{var n;return null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n[t]})),l=null===a||void 0===a||null===(n=a.fields)||void 0===n?void 0:n[t],r=o()(l)?l[0]:l,s=(null===(i=String(r))||void 0===i?void 0:i.split(".")[1])||"";if(!s)return W.set(t,0),0;const d=c()(s,"%")?s.length-1:s.length;return W.set(t,d),d}const G=new Map;function q(e,t){var n;if(G.has(t))return G.get(t);const i=e.find((e=>{var n;return null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n[t]})),a=null===i||void 0===i||null===(n=i.fields)||void 0===n?void 0:n[t],l=o()(a)?a[0]:a,r=c()(String(l),"%")?"percentage":c()(String(l),",")?"commaNumber":"number";return G.set(t,r),r}let $=[];const J=new Map,Q=async(e,t,n,i)=>{const o=$.length?$:await L(t);$=o;let a={records:[],total:0};i&&!J.has(null===i||void 0===i?void 0:i.id)?(a=await async function(e,t){const n=await e.getRecordsByPage({pageSize:t});return{records:n.records,total:n.total}}(i,100),J.set(null===i||void 0===i?void 0:i.id,a)):i&&(a=J.get(i.id)||{records:[],total:0});const r=n.filter((e=>F.includes(e.type))),s=await Promise.all(p()(r,(async t=>{const n={id:t.id,name:t.name,isPrimary:t.isPrimary,type:Z[t.type]||""};if(t.property&&[T.fS.SingleSelect,T.fS.MultiSelect].includes(t.type)){var r;const e=null===(r=t.property)||void 0===r?void 0:r.options,i=p()(e,(e=>({...e,color:v()(o,(t=>t&&t.id===e.color))})));n.typeOptions={choices:i}}else if([T.fS.DateTime,T.fS.CreatedTime,T.fS.ModifiedTime].includes(t.type)&&t.property){const e=t.property,i=e.dateFormat.includes("HH:mm")?"24-hour-clock":"hidden";n.typeOptions={dateFormat:"year/month/day",timeFormat:i,showTimezone:e.displayTimeZone}}else if(t.type===T.fS.Text)(function(e,t){const n=v()(e,(e=>l()(e,"fields.[".concat(t,"].[0].text")))),i=l()(n,"fields.[".concat(t,"].[0].text"));return(0,S.FK)(i)})(a.records,t.id)&&(n.type="coordinate",n.typeOptions={textCoordinateType:!0});else if(t.type===T.fS.Number){const{format:e,precision:i}=function(e){const{formatter:t}=e;let n=0,i="number";return i=t.includes("#,##")?"commaNumber":t.includes("%")?"percentage":"number",n="0.00%"===t||"#,##0.00"===t?2:"0%"===t||"#,##0"===t||"0.0"===t?0:t.includes(".")?t.split(".")[1].length:0,{format:i,precision:n}}(t.property);n.typeOptions={format:e,precision:i}}else if(t.type===T.fS.Currency){const{decimalDigits:e,currencyCode:i}=t.property;n.typeOptions={format:"currency",numberPrefix:i,precision:e}}else if(t.type===T.fS.AutoNumber)n.type="formula",n.typeOptions={format:"number",precision:0};else if(t.type===T.fS.Formula&&i){var s,d;const r=await i.getFieldById(t.id),c=await r.getProxyType(),u="Number"===(null===(s=t.property)||void 0===s||null===(s=s.dataType)||void 0===s?void 0:s.UIType),h="Currency"===(null===(d=t.property)||void 0===d||null===(d=d.dataType)||void 0===d?void 0:d.UIType);if(c===T.fS.SingleSelect&&t.property){const{refTableId:i,refFieldId:a}=t.property;if(i&&a){const t=await(0,S.II)(e,i,a,o);n.typeOptions={expectedType:Z[c],lookupResultType:"original",lookupColumnTypeOptions:{choices:t}}}else{const e=l()(t,"property.dataType.property.options"),i=p()(e,(e=>({...e,color:v()(o,(t=>t&&t.id===e.color))})));n.typeOptions={expectedType:Z[c],lookupResultType:"original",lookupColumnTypeOptions:{choices:i}}}}else if(h){const e=U(a.records,t.id)||0;n.typeOptions={precision:e,format:"currency",numberPrefix:l()(t.property,"currencyCode"),expectedType:"number"}}else if(c===T.fS.Number||u){const e=U(a.records,t.id)||0,i=q(a.records,t.id)||"number";n.typeOptions={precision:e,format:i,numberPrecision:e,numberFormat:i,expectedType:Z[c]||"number"}}else n.typeOptions={expectedType:Z[c]||"multiLineText"}}else if(t.type===T.fS.Lookup&&i)try{var c;const l=await i.getFieldById(t.id),r=null!==(c=await l.getProxyType())&&void 0!==c?c:await(0,S.iP)(e,t);let s=0,d="number";var u,h;if(r===T.fS.Number)s=null!==(u=U(a.records,t.id))&&void 0!==u?u:0,d=null!==(h=q(a.records,t.id))&&void 0!==h?h:"number",n.typeOptions={precision:s,format:d,lookupColumnType:"number",lookupResultType:"original"};else if(r===T.fS.SingleSelect&&t.property){const{refTableId:i,refFieldId:a}=t.property,l=await(0,S.II)(e,i,a,o);n.typeOptions={lookupColumnType:Z[r],lookupResultType:"original",lookupColumnTypeOptions:{choices:l}}}else n.typeOptions={precision:s,lookupColumnType:Z[r],lookupResultType:r===T.fS.Text||r===T.fS.Number||r===T.fS.Location||r===T.fS.DateTime||r===T.fS.AutoNumber||r===T.fS.Barcode||r===T.fS.Email||r===T.fS.Phone?"original":void 0};if(r===T.fS.Formula){const{refTableId:i,refFieldId:a}=t.property,l=await e.getTableById(i),s=await(null===l||void 0===l?void 0:l.getFieldById(a)),d=await(null===s||void 0===s?void 0:s.getProxyType());if(r===T.fS.SingleSelect){const{refTableId:i,refFieldId:a}=t.property,l=await(0,S.II)(e,i,a,o);n.typeOptions={expectedType:Z[r],lookupColumnTypeOptions:{choices:l}}}else n.typeOptions={...n.typeOptions,lookupColumnTypeOptions:{expectedType:Z[d]}}}}catch(g){return console.error("---error---",g),{...n,type:""}}return"formula"===n.type&&(n.typeOptions={...n.typeOptions,valid:!0}),n})));return{columns:f()(s,(e=>{var t;return""!==String(null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)})),rowsCount:a.total}},K=async(e,t)=>await(async(e,t,n)=>{const i=(0,N.Z)(5),o=null!==t&&void 0!==t&&t.pageSize&&(null===t||void 0===t?void 0:t.pageSize)>200?200:(null===t||void 0===t?void 0:t.pageSize)||200;let a=[],l=!0,r=0;const s=async i=>{try{return await n(e,{...t,pageToken:i,pageSize:o})}catch(a){return console.error("Error fetching page:",a),null}};for(;l;){const e=[];for(let n=0;n<5&&l;n++){const t=r;e.push(i((()=>s(t)))),r+=o}const t=await Promise.all(e);for(const n of t)n?(a=a.concat((null===n||void 0===n?void 0:n.records)||(null===n||void 0===n?void 0:n.recordIds)||[]),l=n.hasMore):l=!1}return a})(e,t,((e,t)=>e.getRecordsByPage(t))),Y=async(e,t)=>{var n;const i=null===(n=t.fields)||void 0===n?void 0:n[e.id],a=e.originType,l=await(async(e,t,n)=>{const{type:i,originType:a}=e;if(!t&&0!==t&&!1!==t&&""!==t)return null;const l=R[i];if(l)return l(t,e,n);var r,s,d,c;if(i===T.fS.Lookup)return a&&A.includes(a)?x()(p()(t,(e=>null===e||void 0===e?void 0:e.id))):a===T.fS.Number?o()(t)?null===(r=p()(t,(e=>e)))||void 0===r?void 0:r.join(","):t:a===T.fS.Location?o()(t)?await D(t[0]):await D(t):a===T.fS.DateTime||a===T.fS.CreatedTime||a===T.fS.ModifiedTime?o()(t)?1===t.length?t[0]:null===(s=p()(t,(e=>e)))||void 0===s?void 0:s.join(","):t:a===T.fS.SingleSelect||a===T.fS.MultiSelect?p()(t,(e=>null===e||void 0===e?void 0:e.id)):a===T.fS.Attachment?o()(t)?p()(t,(e=>{var t;return{fileID:null===e||void 0===e?void 0:e.token,fileType:null===e||void 0===e?void 0:e.type,fileName:null===e||void 0===e?void 0:e.name,fileSize:null===e||void 0===e?void 0:e.size,fileExt:null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.replace("image/",""),url:"",token:null===e||void 0===e?void 0:e.token}})):null:a===T.fS.Checkbox?o()(t)?t[0]:t:a===T.fS.Url?o()(t)?null===(d=t[0])||void 0===d?void 0:d.link:t:a===T.fS.Currency?o()(t)?t[0]:isNaN(Number(t))?t:Number(t):a===T.fS.Barcode?p()(t,(e=>null===e||void 0===e?void 0:e.text)).join(","):a===T.fS.Email||a===T.fS.Phone?o()(t)?null===t||void 0===t?void 0:t.join(","):t:a===T.fS.AutoNumber?o()(t)?Number(null===t||void 0===t||null===(c=t[0])||void 0===c?void 0:c.value):t:o()(t)?null===t||void 0===t?void 0:t.map((e=>e.text)).filter((e=>","!==e)).join(","):t;if(i===T.fS.Formula){if(a===T.fS.Location)return o()(t)?D(t[0]):D(t);if(o()(t)){const e=null===t||void 0===t?void 0:t[0];return b()(e)?null===e||void 0===e?void 0:e.text:e}return t}return o()(t)?null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.text)).join(","):(null===t||void 0===t?void 0:t.text)||t})(e,i,t.recordId),r={};if(e.type===T.fS.Location)r[e.id]=null===l||void 0===l?void 0:l.coordinate,r["".concat(e.id,"-fullAddress")]=null===l||void 0===l?void 0:l.fullAddress;else if(A.includes(e.type))r[e.id]=l,r["".concat(e.id,"-member")]=JSON.stringify(i);else if(e.type===T.fS.Lookup)a&&A.includes(a)?(r[e.id]=l,r["".concat(e.id,"-member")]=JSON.stringify(i)):a===T.fS.Number?r[e.id]=o()(l)?l:l?[Number(l)]:[]:a===T.fS.Location?(r[e.id]=null===l||void 0===l?void 0:l.coordinate,r["".concat(e.id,"-fullAddress")]=null===l||void 0===l?void 0:l.fullAddress):a===T.fS.Text?r[e.id]=y()(l)?"":String(l):r[e.id]=l;else if(e.type===T.fS.Formula){const t=c()(l,"%"),n=(0,E.DB)(l),i=c()(l,","),o=Number(l);if(t)r[e.id]=Number(l.replace("%",""))/100;else if(n){const t=l.replace(/[^\d.]/g,"");r[e.id]=Number(t)}else if(i)r[e.id]=Number(null===l||void 0===l?void 0:l.replaceAll(",",""));else if(!j()(o)||isNaN(l)||y()(l)||s()(l))if(a===T.fS.Location){const t=l;r[e.id]=null===t||void 0===t?void 0:t.coordinate,r["".concat(e.id,"-fullAddress")]=null===t||void 0===t?void 0:t.fullAddress}else r[e.id]=l;else r[e.id]=o}else r[e.id]=l;return r},X=async(e,t)=>{const n=await Promise.all(p()(t,(t=>Y(t,e))));return{id:e.recordId,cells:Object.assign({},...n)}},ee=async(e,t,n)=>{if(!t)return null;const i=await e.getTableById(t),o=n&&n!==P.J?await i.getViewById(n):await H(i);if(!o)return{rows:[],id:t,more:!1};const[a,l]=await Promise.all([K(i,{pageSize:200,viewId:n&&n!==P.J?o.id:void 0}),(0,S.oo)({base:e,view:o,table:i,isGetOriginType:!0,includeHiddenField:n===P.J})]);return{rows:await Promise.all(p()(f()(a,Boolean),(e=>X(e,l)))),id:t,more:!1}},te=async function(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=n.id,a=await H(n);if(!a)return{id:o,type:"table",columns:[]};const l=await(0,S.oo)({base:e,view:a,table:n,isGetOriginType:!1,useCache:i}),{columns:r,rowsCount:s}=l?await Q(e,t,l,n):{columns:[],rowsCount:0};return{id:o,type:"table",columns:r,rowsCount:s}},ne=new Map,ie=async(e,t,n)=>{if(ne.has(t))return ne.get(t)||[];const i=await e.getTableById(t),o=n?await i.getViewById(n):await H(i);if(!o)return[];const a=await o.getFieldMetaList(),l=await o.getVisibleFieldIdList(),r=a.filter((e=>l.includes(e.id))).map((e=>e.id));return ne.set(t,r),r},oe=async e=>await L(e);async function ae(e){const t=[];let n;do{const i={query:e,page:n?{cursor:n}:void 0},o=await T.jV.getBaseList(i);t.push(...o.base_list),n=o.page.hasMore?o.page.cursor:void 0}while(n);return t}},44229:(e,t,n)=>{"use strict";n.d(t,{OZ:()=>l,P_:()=>r});var i=n(80835),o=n(27371);const a=async e=>{const[t,n]=await Promise.all(["editable","manageable"].map((async t=>await e.getPermission({entity:i.lR.Base,type:t}))));return t||n},l=async(e,t)=>await e.getPermission({entity:i.lR.Table,type:i.C8.Visible,param:{tableId:t}});async function r(e,t){return!!await a(e)||(o.ZP.warning(t.$t({id:"CFcBPi",defaultMessage:"You do not have permission to edit the map"})),!1)}},37160:(e,t,n)=>{"use strict";n.d(t,{FK:()=>l,II:()=>d,ax:()=>v,iP:()=>s,oJ:()=>h,oo:()=>p});var i=n(80835),o=n(7070),a=n.n(o);function l(e){if(!e)return!1;return["POINT","LINESTRING","POLYGON","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON"].some((t=>e.startsWith(t)))}const r=new Map;async function s(e,t){const{refTableId:n,refFieldId:i}=t.property;if(!n||!i)return;const o="".concat(n,"-").concat(i);if(r.has(o))return r.get(o);try{const t=await e.getTableById(n),a=await(null===t||void 0===t?void 0:t.getFieldById(i)),l=await a.getType();return r.set(o,l),l}catch(a){return console.error("---error---",a),""}}async function d(e,t,n,i){var o;if(!t||!n)return[];const a=await e.getTableById(t),l=await(null===a||void 0===a?void 0:a.getFieldById(n));return(null===(o=(await(null===l||void 0===l?void 0:l.getMeta())).property)||void 0===o?void 0:o.options).map((e=>({...e,color:i.find((t=>t&&t.id===e.color))})))}const c=new Map,u=new Map;async function p(e){let{base:t,view:n,table:o,isGetOriginType:l=!1,useCache:r=!0,includeHiddenField:d}=e;const p=null===o||void 0===o?void 0:o.id,h=n.id,v="".concat(p,"-").concat(h);if(u.has(v)&&r)return u.get(v);const g=await n.getFieldMetaList(),f=d?g.map((e=>e.id)):await n.getVisibleFieldIdList(),m=g.filter((e=>f.includes(e.id)));if(!l||!o)return m;const y=await Promise.all(a()(m,(async e=>{const n="".concat(p,"-").concat(e.id);if(c.has(n))return c.get(n);if(e.type===i.fS.Lookup||e.type===i.fS.Formula){var a;const i=await o.getFieldById(e.id),l=null!==(a=await i.getProxyType())&&void 0!==a?a:t?await s(t,e):void 0,r={...e,originType:l};return c.set(n,r),r}return e})));return u.set(v,y),y}async function h(e,t){return!!t&&await e.isTableExist(t)}async function v(e,t,n){if(!t||!n)return!1;const i=await e.getTableById(t);return!!i&&await i.isViewExist(n)}},74695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/")});class l extends o.tr{async getPlanPrice(e,t,n,i,o,a){const l=i?"&quantity=".concat(i):"",r=a?"&monthly=true":"",s=o?"&thirdpartyOrgID=".concat(o):"";try{const{data:i}=await this.fetch.get("plan/".concat(e,"/").concat(t,"/?currency=").concat(n||"CNY").concat(l).concat(s).concat(r),{ignoreError:!0});return i}catch{}}async createOrder(e,t,n){const{data:i}=await this.fetch.post("plan/".concat(e,"/").concat(t,"/"),n);return i}async createPublicOrder(e,t,n){const{data:i}=await this.fetch.post("plan/public/".concat(e,"/").concat(t,"/"),n);return null===i||void 0===i?void 0:i.detail}async getOrdersPlan(e){const{data:t}=await this.fetch.get("plan/".concat(e,"/"));return t}async getOrder(e){const{data:t}=await this.fetch.get("order/".concat(e,"/"),{ignoreError:!0});return t}async listOrder(e){const{data:t}=await this.fetch.get("order/list/",{params:{orgID:e,limit:100},ignoreError:!0});return t}async syncStripePayStatus(e,t){const n="/cb/stripe_payment/no_redirect/?redirect_status=".concat(e).concat(t?"&payment_intent=".concat(t):""),{data:i}=await this.fetch.get(n);return i}async stat(e){try{const{data:t}=await this.fetch.get("plan/".concat(e,"/stat/"),{ignoreError:!0});return t.detail}catch{}}async usage(e,t,n,i){const{data:o}=await this.fetch.get("plan/".concat(e,"/usage/"),{params:{projectID:t,months:n,limit:i}});return o.detail}async getQuota(){const{data:e}=await this.fetch.get("config/quota/");return e.detail}}const r=new l(a)},6831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(74797),o=n(22963),a=n(98403);const l=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/projects/")});class r extends o.tr{async create(e){let{workspaceID:t,thirdpartyItemId:n,name:i}=e;const{data:o}=await this.fetch.post("",{workspaceID:t,thirdpartyItemId:n,name:i,icon:"mapPin",timezone:(0,a.vd)()});return o}async getProjectById(e){const{data:t}=await this.fetch.get("".concat(e,"/"));return t}async update(e,t,n,i){const{data:o}=await this.fetch.patch("".concat(e,"/"),{name:t,mapConfig:n,workspaceID:i});return o}async getLayerNodes(e){const{data:t}=await this.fetch.get("".concat(e,"/layernodes/"));return t}async getTemplates(e){try{const{data:t}=await this.fetch.get("templates/",{params:{type:e},ignoreError:!0});return t.detail}catch{return}}async useTemplate(e,t,n){const{data:i}=await this.fetch.post("".concat(e,"/templates/").concat(t,"/"),{tables:n});return i}async getStatistics(e){try{const{data:t}=await this.fetch.get("".concat(e,"/statistics/"));return t.detail}catch{return null}}async updateStatistics(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/statistics/"),{statistics:t});return n}}const s=new r(l)},41867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/services")});class l extends o.tr{async mpTrack(e,t,n){}async mpTrackPageViewAnonymous(e,t){await this.mpTrack("Page View",{"Page Type":e,locale:t},!0)}async mpTrackPageView(e,t,n,i){i&&(n={...n,project_id:i.id,project_name:i.name}),await this.mpTrack("Page View",{"Page Type":e,locale:t,...n})}async mpTrackClick(e,t,n,i,o){o&&(i={...i,project_id:o.id,project_name:o.name}),await this.mpTrack("Click "+t,{"Page Type":e,locale:n,...i})}async mpTrackWidget(e,t,n,i){i&&(n={...n,project_id:i.id,project_name:i.name}),await this.mpTrack(e,{locale:t,...n})}}const r=new l(a)},543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/users/")});class l extends o.tr{async update(e){const{data:t}=await this.fetch.patch("info/",{seenFeatures:e},{ignoreError:!0});return t}async getCode(){const{data:e}=await this.fetch.get("code/");return e.detail}}const r=new l(a)},30147:(e,t,n)=>{"use strict";n.d(t,{VI:()=>y});var i=n(57435);n(53926),n(30289),n(83614),n(93707);n(30768),n(45818),n(83580),n(82394);var o=n(94553);n(43179),n(34061),n(49210),n(40621);var a=n(33718),l=n(50239),r=n(59303),s=n(76625),d=n(27756),c=n(68429);const u="banner_wrapper__V98Zw",p="banner_banner__EzBfS",h="banner_fullScreen__ABBTq",v="banner_config__R8DeK",g="banner_show__VaHV-",f="banner_alert__BMkiK",m="banner_warning__zY9qs",y=e=>{let{message:t,warning:n=!1,closable:y=!1,onClose:w,isFullScreen:b=!1,button:C,className:x}=e;const{width:I}=(0,d.Z)(),j=(0,i.useMemo)((()=>I>330),[I]);return(0,o.jsx)("div",{className:(0,a.default)(u,g,x),children:(0,o.jsx)("div",{className:p,children:(0,o.jsx)(l.Z,{justify:"center",className:b?h:v,children:(0,o.jsx)(r.Z,{className:(0,a.default)(f,n&&m),message:(0,o.jsxs)(s.Z,{children:[!n&&j&&(0,o.jsx)(c.Z,{type:"info"}),j&&(0,o.jsx)("span",{children:t}),C]}),type:"info",closable:y,onClose:w})})})})};n(41928);n.p},40621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(33718);const o={upgradeButton:"upgradeButton_upgradeButton__Urz8Z"};var a=n(94553);function l(e){let{children:t,className:n,onClick:l}=e;return(0,a.jsx)("button",{className:(0,i.default)(o.upgradeButton,n),onClick:l,children:t})}},41928:(e,t,n)=>{"use strict";n.d(t,{Xe:()=>o,l5:()=>i});const i={"zh-CN":"https://maptable.feishu.cn/share/base/form/shrcnQ7rQOlZW420SjckrSD2rMb","en-US":"https://maptable.feishu.cn/share/base/form/shrcnWl4DlKc0hjM8NjXQzXaQ9e"},o="https://maptable.larksuite.com/wiki/Obuzwf6p9iY4RukbS67up2Msshg"},34061:(e,t,n)=>{"use strict";n.d(t,{Hf:()=>l,cr:()=>r,g_:()=>i});n(15328);const i="https://i4l84z88kt.feishu.cn/admin/appCenter/manage/cli_a4a56ec73a79d00e",o="https://applink.feishu.cn/T8CfK3vVJMC7",a="https://applink.larksuite.com/T8RTXudOs7uc",l=(r(!1),"https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=434v62ff-d162-4cd1-8aed-5a769d44dad6");function r(e){return e?o:a}},37624:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{F:()=>u});var o=n(57435),a=n(69273),l=n(30289),r=n(68906),s=(n(93707),n(3705)),d=e([a]);function u(){const e=(0,r.Z)((e=>e.user)),t=(0,r.Z)((e=>e.app.networkStatus===s.Ie.ONLINE)),n=(0,r.Z)((e=>e.project.currentProjectId)),i=(0,o.useRef)(),{data:d}=(0,l.ZP)(t&&e.userId&&e.token&&n?["websocket",e.userId,e.token,n]:null,(async()=>await(0,a.Y)({user:e.userId,token:e.token,org:n})));(0,o.useEffect)((()=>{void 0===i.current&&t||(i.current=!t)}),[t]),(0,o.useEffect)((()=>{!1===i.current&&t&&d&&(d.close(),d.forceReconnect({session:e.sessionId}))}),[e,t,i,d])}a=(d.then?(await d)():d)[0],i()}catch(c){i(c)}}))},68906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=n(82583).v9},75805:(e,t,n)=>{"use strict";n.d(t,{M:()=>u});var i=n(46481),o=n(18765),a=n.n(o),l=n(34362),r=n.n(l),s=n(88716),d=n.n(s);const c=(0,i.P1)([(e,t)=>e.map.hiddenLayerIds[t],(e,t)=>e.project.layerNodes[t]],((e,t)=>a()(t,(t=>"map"===t.type&&!r()(e,t.id))))),u=(0,i.P1)(((e,t)=>c(e,t)),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!d()(e)&&!d()(t)&&(e.length===t.length&&e.every(((e,n)=>e.id===t[n].id&&e.version===t[n].version)))}})},30768:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>T,ZP:()=>k,Hx:()=>E});var i=n(49163),o=n(18765),a=n.n(o),l=n(53926),r=n.n(l),s=n(76592),d=n(1714),c=n(66168),u=n(22138),p=n(95436),h=n(46331);const v=(0,i.HF)({sortComparer:(e,t)=>-e.createTime.localeCompare(t.createTime)});var g=n(70093);const f=(e,t,n)=>{t.forEach((t=>{"map"===t.type&&(e.zIndexMap[t.id]=n.count--),t.children&&f(e,t.children,n)}))};const m={create:function(e,t){v.addOne(e,t.payload)},update:function(e,t){const{projectID:n,updatedFields:i}=t.payload;v.updateOne(e,{id:n,changes:i})},uesTemplate:function(e,t){const n=t.payload,i=e.layerNodes[n.projectID]||[];e.layerNodes[n.projectID]=[...i,...n.layerNodes]},updateMapSiderVisible:function(e,t){e.mapSiderVisible=t.payload,e.currentProjectId&&g.t.set(e.currentProjectId,"map:sider",t.payload)},setProjects:function(e,t){v.removeAll(e),v.addMany(e,t.payload.projects)},setProject:function(e,t){v.getSelectors().selectById(e,t.payload.id)?v.updateOne(e,{id:t.payload.id,changes:t.payload}):v.addOne(e,t.payload)},setColors:function(e,t){e.colors=t.payload},setCurrentOrgId:function(e,t){e.currentOrgId=t.payload},updateCurrentProjectId:function(e,t){var n;e.currentProjectId=t.payload,t.payload&&(e.mapSiderVisible=null===(n=g.t.get(t.payload,"map:sider"))||void 0===n||n)},updateZIndexMap:function(e,t){const{payload:n}=t;let i=0;var o;e.layerNodes[n.projectID]&&(null===(o=e.layerNodes[n.projectID])||void 0===o||o.forEach((e=>{"map"===e.type&&i++})),f(e,n.treeData,{count:i})),e.zIndexMap={...e.zIndexMap}},updateInfoWindowConfig:function(e,t){e.infoWindowConfig=t.payload},setUpgradeDialogVisible:function(e,t){e.showUpgradeDialog=t.payload,e.upgradeType="upgrade",e.showUpgradePlanDialog=!1},setUpgradeType:function(e,t){e.showUpgradeDialog=!0,e.upgradeType=t.payload},setUpgradePlanDialogVisible:function(e,t){e.showUpgradePlanDialog=t.payload},setShowTrialDialogVisible:function(e,t){e.showTrialDialog=t.payload},updateMultiLineTextEditor:function(e,t){Object.assign(e.multiLineTextEditor,t.payload)},updateCoordinateEditor:function(e,t){t.payload.config?(r().set(u.GD,{...e.coordinateEditor.config,...t.payload.config}),Object.assign(e.coordinateEditor.config,t.payload.config)):Object.assign(e.coordinateEditor,t.payload)},setMembers:function(e,t){e.members=t.payload},setShowLimitUseMask:function(e,t){e.showLimitUseMask=t.payload},setShowIpMask:function(e,t){e.showIpMask=t.payload},addLayerNodeForProject:function(e,t){const{projectId:n}=t.payload,i=e.layerNodes[n]||[];e.layerNodes[n]=[...i,t.payload.layerNode]},updateLayerNodeForProject:function(e,t){const{projectId:n,layerNode:i,stale:o=!0}=t.payload,a=e.layerNodes[n];e.layerNodes[n]=null===a||void 0===a?void 0:a.map((e=>e.id===i.id?{...e,...i,stale:o,version:Date.now()}:e))},setDrillDownState:function(e,t){e.drillDown=t.payload},setShowBannerOnDashboard:function(e,t){e.showBannerOnDashboard=t.payload},setCanSharedView:function(e,t){e.canSharedView=!!t.payload},removeLayerNodes:function(e,t){const{projectId:n,layerNodeIds:i}=t.payload,o=e.layerNodes[n];e.layerNodes[n]=null===o||void 0===o?void 0:o.filter((e=>!i.includes(e.id)))},setReadonlyLayerNodeIds:function(e,t){const{projectId:n,layerNodeIds:i}=t.payload,o=e.layerNodes[n];e.layerNodes[n]=null===o||void 0===o?void 0:o.map((e=>i.includes(e.id)?{...e,readonly:!0}:e))},setConditionVersion:function(e,t){e.configConditionVersion=t.payload},setDashboardNoPermission:function(e,t){e.dashboardNoPermission=t.payload},setDefaultRegion:function(e,t){e.defaultRegion=t.payload},setDefaultLocale:function(e,t){e.defaultLocale=t.payload},setDefaultLanguage:function(e,t){e.defaultLanguage=t.payload}};var y=n(6831),w=n(40365);const b="project",{createAsyncAction:C}=(0,w.w)({typePrefix:b,syncWithWebSocket:!0}),x=(0,w.w)({typePrefix:b,syncWithWebSocket:!1}).createAsyncAction,I=(x("update",(async e=>{const{projectId:t,name:n,mapConfig:i,workspaceID:o}=e;return await y.Z.update(t,n,i,o)})),x("getLayerNodes",(async e=>await y.Z.getLayerNodes(e)))),j=(C("projectUseTemplate",(async(e,t)=>{let{requestId:n}=t;const{projectId:i,templateId:o,tables:a}=e;return await y.Z.withRequestId(n).useTemplate(i,o,a)})),v.getInitialState({mapSiderVisible:!0,canSharedView:!1,currentProjectId:null,configConditionVersion:0,dashboardNoPermission:!1,previewMapInfos:{},computedPreviewMapInfos:{},zIndexMap:{},layerNodes:{},infoWindowConfig:{},colors:[],showUpgradeDialog:!1,showUpgradePlanDialog:!1,showTrialDialog:!0,showLimitUseMask:!1,showBannerOnDashboard:!1,coordinateEditor:{visible:!1,config:r().get(u.GD,p.BE)},members:[],multiLineTextEditor:{visible:!1},customizeBaseMap:[],defaultRegion:{aggregateBy:"admin1",level:"admin1"}})),M=(0,i.oM)({name:"project",initialState:j,reducers:m,extraReducers(e){e.addCase(I.fulfilled,((e,t)=>{e.layerNodes[t.payload.detail.id]=t.payload.detail.layerNodes})),e.addCase(s.Nw.create,((e,t)=>{const n=t.payload,i=e.layerNodes[n.projectID]||[];e.layerNodes[n.projectID]=[...i,n]})).addCase(s.Nw.refreshStaleLayer,((e,t)=>{t.payload.layerId})).addCase(s.Nw.update,((e,t)=>{var n;const{projectID:i,layerNodeID:o,updatedFields:a}=t.payload;i&&o&&(e.layerNodes[i]=null===(n=e.layerNodes[i])||void 0===n?void 0:n.map((e=>e.id===o?{...e,...a,stale:!0,version:Date.now()}:e)))})).addCase(s.Nw.vtRecreate,((e,t)=>{var n;const{projectID:i,layerNodes:o}=t.payload;null!==o&&void 0!==o&&o.length&&(e.layerNodes[i]=null===(n=e.layerNodes[i])||void 0===n?void 0:n.map((e=>{const t=null===o||void 0===o?void 0:o.find((t=>t.id===e.id));return null!==t&&void 0!==t&&t.mapInfo?{...e,mapInfo:t.mapInfo,vtInfo:t.vtInfo,stale:!0,version:Date.now()}:e})))})).addCase(s.Nw.move,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.layerNodes[i.projectID])||void 0===n?void 0:n.find((e=>e.id===i.id));o&&Object.assign(o,{order:i.order,parentID:i.parentID}),e.layerNodes={...e.layerNodes}})).addCase(c.X5,((e,t)=>{const{payload:n}=t,i=n.ids;e.layerNodes[n.projectID]=a()(e.layerNodes[n.projectID],(e=>i.indexOf(e.id)<=-1))})).addCase(c.lZ,((e,t)=>{const n=t.payload;n.mapInfo?e.previewMapInfos={[n.id]:n.mapInfo}:(delete e.previewMapInfos[n.id],delete e.computedPreviewMapInfos[n.id])})).addCase(c.Q$,((e,t)=>{const n=t.payload;n.id&&n.mapInfo&&(e.computedPreviewMapInfos={[n.id]:n.mapInfo})})),e.addCase(d.Nw.setDetail,((e,t)=>{const{payload:n}=t;if(e.currentProjectId){const t=e.entities[e.currentProjectId];if(t){const i=t.tableNodes||[],o=i.findIndex((e=>e.id===n.id)),a=n;o&&o>-1?i.splice(o,1,a):i.push(a);const l={...t,tableNodes:i};v.setOne(e,l)}}})),e.addCase(h.ut,((e,t)=>{e.customizeBaseMap=t.payload})).addCase(h.ip,((e,t)=>{e.customizeBaseMap=[...e.customizeBaseMap,t.payload]})).addCase(h.P8,((e,t)=>{e.customizeBaseMap=a()(e.customizeBaseMap,(e=>e.id!==t.payload.id))})).addCase(h.$1,((e,t)=>{e.customizeBaseMap=e.customizeBaseMap.map((e=>e.id===t.payload.id?{...e,...t.payload.updatedFields}:e))}))}}),k=M,T=M.actions,E=v.getSelectors((e=>e.project))},83614:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var i=n(74695),o=n(40365);const{createAsyncAction:a}=(0,o.w)({typePrefix:"quota"}),l=a("get",(async()=>i.Z.getQuota()))},18293:(e,t,n)=>{"use strict";n.d(t,{x4:()=>y});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/auth/")});class l extends o.tr{async login(e){const{data:t}=await this.fetch.post("login/",e);return{...t.detail,...t.extra}}async authorize(){const{data:e}=await this.fetch.get("authorize/");return e.detail}async sign(e,t,n){const{data:i}=await this.fetch.get("h5sign/",{params:{appID:e,url:n,type:t}});return i.detail}}const r=new l(a);var s,d=n(543),c=n(89983),u=n(95436);const p=(0,o.Fs)({baseURL:null===(s=i.Z.baseApiURL)||void 0===s?void 0:s.replace("/thirdparty","")});class h extends o.tr{async getLocation(){const{data:e}=await this.fetch.get("/get_ip_loc/");return e.detail}}const v=new h(p);var g=n(40365),f=n(48466);const{createAsyncAction:m}=(0,g.w)({typePrefix:"user"}),y=m("login",(async e=>{const t=await r.login(e);return(0,f.l)(t.token,t.refreshToken),t}));m("update",(async e=>{const{seenFeatures:t}=e;return await d.Z.update(t)})),m("getIpLocation",(async()=>{var e;const{country:t,ip_loc:n}=await v.getLocation();return{country:t,center:n?null===(e=(0,c.HF)(n))||void 0===e?void 0:e.coordinates.join(","):"\u4e2d\u56fd"===t?u.ry.join(","):u.lf.join(","),isAbroad:"\u4e2d\u56fd"!==t}}))},42304:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>c,ZP:()=>d});var i=n(49163),o=n(18293);const a=(0,i.HF)({selectId:e=>e.id});const l={login:function(e,t){},setAuth:function(e,t){return{...e,isAuth:t.payload}},setSessionId:function(e,t){e.sessionId=t.payload},setSharedUserSessionId:function(e,t){e.sharedUser&&(e.sharedUser={...e.sharedUser,sessionId:t.payload})},setUserId:function(e,t){e.userId=t.payload},setOrgId:function(e,t){e.orgId=t.payload},setToken:function(e,t){e.token=t.payload},planChange:function(e,t){return t.payload?{...e,planInfo:t.payload}:e},setAuthUrl:function(e,t){e.authUrl=t.payload},setSeenFeatures:function(e,t){e.seenFeatures=t.payload},setGuideVisible:function(e,t){a.setOne(e,t.payload)},setFirstLoadPlugin:function(e,t){e.isFirstLoadPlugin=t.payload},setThirdpartyUserId:function(e,t){e.id=t.payload},setLocation:function(e,t){e.location=t.payload}},r=a.getInitialState({userId:void 0,isAuth:!1,sessionId:void 0,token:void 0,seenFeatures:void 0,isFirstLoadPlugin:void 0,planInfo:{isPro:!1,isTeam:!1,isTrial:!1,canTrial:!1,trialTimes:0}}),s=(0,i.oM)({name:"user",initialState:r,reducers:l,extraReducers(e){e.addCase(o.x4.fulfilled,((e,t)=>{e.isAuth=!0})).addCase(o.x4.rejected,((e,t)=>{throw t.error}))}}),d=s,c=s.actions;a.getSelectors((e=>e.user))},59e3:(e,t,n)=>{"use strict";n.d(t,{h:()=>L});var i=n(49163),o=n(70963),a=n(42304),l=n(30768);const r=(0,i.HF)({});const s={list:function(e,t){r.setAll(e,t.payload)},install:function(e,t){r.addOne(e,t.payload)},uninstall:function(e,t){r.removeOne(e,t.payload.id)},update:function(e,t){r.updateOne(e,{id:t.payload.id,changes:t.payload})},updateRegionAggregateVisible:function(e,t){e.regionAggregateVisible=t.payload,t.payload&&(e.boundariesVisible=!1,e.analysisVisible=!1)},updateBoundariesVisible:function(e,t){e.boundariesVisible=t.payload,t.payload&&(e.regionAggregateVisible=!1,e.analysisVisible=!1)},updateAnalysisVisible:function(e,t){e.analysisVisible=t.payload,t.payload&&(e.regionAggregateVisible=!1,e.boundariesVisible=!1)}},d=r.getInitialState({ids:[],entities:{},regionAggregateVisible:!1,boundariesVisible:!1,analysisVisible:!1}),c=(0,i.oM)({name:"extension",initialState:d,reducers:s}),u=c,p=(c.actions,r.getSelectors((e=>e.extension)),(0,i.HF)());var h=n(90013),v=n.n(h);const g={setAll:function(e,t){p.setAll(e,t.payload)},clearRecords:function(e,t){const{id:n}=t.payload;e.entities[n]&&p.updateOne(e,{id:n,changes:{records:[]}})},setDetail:function(e,t){const{payload:n}=t,i=e.entities[n.id];if(i){const t={};n.fields&&(t.fields=v()((i.fields||[]).concat(n.fields),"id")),n.records&&(t.records=v()((i.records||[]).concat(n.records),"recordId")),n.views&&(t.views=v()([...n.views,...i.views||[]],"id")),p.updateOne(e,{id:n.id,changes:t})}else p.addOne(e,t.payload)}},f=p.getInitialState({ids:[],entities:{}}),m=(0,i.oM)({name:"bitable",initialState:f,reducers:g}),y=m;m.actions;var w=n(83614);const b=(0,i.oM)({name:"quota",initialState:{},reducers:{},extraReducers(e){e.addCase(w.Q.fulfilled,((e,t)=>{Object.assign(e,t.payload)}))}}),C=b;b.actions;var x=n(93707),I=n(74909),j=n(1714),M=n(76592),k=n(41711),T=n(65557),E=n(28137),P=n(1667),O=n(95151),S=n(25394),_=n(5129),N=n(71331),D=n(27052);const L=(0,i.xC)({reducer:(0,o.UY)({app:x.ZP.reducer,user:a.ZP.reducer,project:l.ZP.reducer,workspace:I.ZP.reducer,tableNode:j.ZP.reducer,layerNode:M.ZP.reducer,infoWindow:k.ZP.reducer,map:T.ZP.reducer,cell:_.Z.reducer,annotation:N.Z.reducer,extension:u.reducer,icons:D.ZP.reducer,bitable:y.reducer,quota:C.reducer}),middleware:e=>e({immutableCheck:{},serializableCheck:{ignoredPaths:["undoRedo"],ignoredActionPaths:["payload.undoAction","payload.redoAction","meta.arg"]}}).concat(E.ZP).concat(P.Z).concat(O.Z).concat(S.Z),preloadedState:A,devTools:!1});var A},69273:(e,t,n)=>{"use strict";n.a(e,(async(e,i)=>{try{n.d(t,{Y:()=>T});var o=n(37588),a=n.n(o),l=n(8942),r=n.n(l),s=n(88716),d=n.n(s),c=n(38981),u=n.n(c),p=n(43179),h=n.n(p),v=n(42304),g=n(59e3),f=n(93707),m=n(3705),y=n(22138),w=n(66368);const C=25e3,x=3e3,I=4401,j=5;async function M(e,t,n){let i,o,l=null,s=0;const c=await e();function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.XZ.CONNECTING;t(e)}function f(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(i&&clearTimeout(i),s>j)return p(m.XZ.OVER_MAX_RETRY_COUNT);i=setTimeout((()=>{e.readyState===m.XZ.CONNECTING?f(e,n):window.navigator.onLine?(t(m.XZ.CLOSING),e.close(),l=M(o),s+=1):(e.close(),f(e,n))}),n)}function w(){var e;i&&clearTimeout(i),t(m.XZ.CLOSING),null===(e=l)||void 0===e||e.close()}function b(e){return l=M({...o,...e}),l&&f(l),l}function M(e){var t,r,w;if(l&&(n()===m.XZ.OPEN||n()===m.XZ.CONNECTING))return l;const b=null!==(t=null===e||void 0===e?void 0:e.token)&&void 0!==t?t:a().get(y.o3);if(d()(b))return p(m.XZ.NO_AUTH),l;const j=new URLSearchParams({user:u()(e.user),org:u()(e.org||0),token:null!==(r=null===b||void 0===b?void 0:b.replace("Bearer ",""))&&void 0!==r?r:"",session:null!==(w=e.session)&&void 0!==w?w:""}),M=new WebSocket("".concat(c,"?").concat(j));return M.addEventListener("close",(e=>{console.log("close: ",e,h()().format("YYYY-MM-DD HH:mm:ss")),M===l&&(e.code===I?(i&&clearTimeout(i),p(m.XZ.NO_AUTH)):window.navigator.onLine&&(f(M,x),p(m.XZ.CLOSED)))})),M.addEventListener("error",(e=>{console.log("error: ",e,h()().format("YYYY-MM-DD HH:mm:ss")),f(M,x),p(m.XZ.CLOSED)})),M.addEventListener("open",(t=>{o=e,s=0,console.log("open: ",t,h()().format("YYYY-MM-DD HH:mm:ss")),p(m.XZ.OPEN)})),M.addEventListener("message",(t=>{const n=JSON.parse(t.data);"b"!==n.type?"l"!==n.type?"s"!==n.type?("expired"===n.type&&window.location.reload(),g.h.dispatch({type:n.type,payload:n.payload,meta:{requestID:n.requestID}})):e.token?g.h.dispatch(v.Nw.setSharedUserSessionId(n.payload)):g.h.dispatch(v.Nw.setSessionId(n.payload)):f(M,Math.max(10*n.data,C)):f(M)})),f(M),M}return window.addEventListener("offline",w),e=>(l&&l.readyState===m.XZ.OPEN&&r()(e,o)||(l&&l.readyState===m.XZ.OPEN&&w(),l=M(e)),{ws:l,close:w,forceReconnect:b})}async function k(){return"larkDashboard"===(0,w.lO)()?"wss://maptable.net/websocketd":"wss://maptable.com/websocketd"}const T=await M(k,(e=>{g.h.dispatch(f.Nw.updateWSReadyState(e))}),(()=>g.h.getState().app.wsReadyState));i()}catch(b){i(b)}}),1)},68429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ib});var i,o=n(57435),a=n(33718);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function r(e,t){let{title:n,titleId:a,...r}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,i||(i=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.1 11.6c-1.296.572-2.1 1.37-2.1 2.25C3 15.59 6.134 17 10 17s7-1.41 7-3.15c0-.881-.804-1.678-2.1-2.25m-.7-4.4c0 2.845-3.15 4.2-4.2 6.3-1.05-2.1-4.2-3.455-4.2-6.3a4.2 4.2 0 1 1 8.4 0m-3.5 0a.7.7 0 1 1-1.4 0 .7.7 0 0 1 1.4 0"})))}const s=o.forwardRef(r);var d;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}function u(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,d||(d=o.createElement("path",{d:"m3.885 4.667 1.691 1.69-.943.943-3.3-3.3 3.3-3.3.943.943-1.69 1.69h4.78a5.333 5.333 0 1 1 0 10.667h-6v-1.333h6a4 4 0 0 0 0-8h-4.78z"})))}const p=o.forwardRef(u);var h;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(this,arguments)}function g(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,h||(h=o.createElement("path",{d:"M12.115 4.667H7.333a4 4 0 0 0 0 8h6V14h-6a5.333 5.333 0 1 1 0-10.666h4.782l-1.691-1.691.943-.943 3.3 3.3-3.3 3.3-.943-.942 1.69-1.691z"})))}const f=o.forwardRef(g);var m;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(this,arguments)}function w(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,m||(m=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 8h8M2 4h12m-8 8h4"})))}const b=o.forwardRef(w);var C;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x.apply(this,arguments)}function I(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,C||(C=o.createElement("path",{d:"M7.333 2.667H14V4H7.333zm0 2.666h4v1.334h-4zm0 4H14v1.333H7.333zm0 2.667h4v1.333h-4zM2 2.666h4v4H2zM3.333 4v1.333h1.334V4zM2 9.333h4v4H2zm1.333 1.333V12h1.334v-1.334z"})))}const j=o.forwardRef(I);var M;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k.apply(this,arguments)}function T(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,M||(M=o.createElement("path",{d:"M8 5.333H5.334v8H4v-8H1.333L4.667 2zm6.667 5.334L11.333 14 8 10.667h2.667v-8H12v8z"})))}const E=o.forwardRef(T);var P;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O.apply(this,arguments)}function S(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,P||(P=o.createElement("path",{d:"m12.02 11.078 2.856 2.855-.943.943-2.855-2.855a6.002 6.002 0 0 1-9.745-4.687c0-3.313 2.688-6 6-6a6.002 6.002 0 0 1 4.688 9.744zm-1.337-.494A4.65 4.65 0 0 0 12 7.334a4.665 4.665 0 0 0-4.667-4.667 4.665 4.665 0 0 0-4.666 4.667 4.665 4.665 0 0 0 7.916 3.35z"})))}const _=o.forwardRef(S);var N,D;function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},L.apply(this,arguments)}function A(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,N||(N=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m7.829 16.142.487 1.096a1.843 1.843 0 0 0 3.37 0l.487-1.096a2.02 2.02 0 0 1 2.059-1.186l1.191.127a1.844 1.844 0 0 0 1.685-2.918l-.705-.97A2.02 2.02 0 0 1 16.02 10c0-.428.135-.845.387-1.19l.705-.97a1.842 1.842 0 0 0-.654-2.728 1.84 1.84 0 0 0-1.031-.19l-1.192.126a2.02 2.02 0 0 1-2.058-1.19l-.49-1.096a1.844 1.844 0 0 0-3.371 0l-.487 1.095A2.02 2.02 0 0 1 5.77 5.048l-1.196-.127A1.844 1.844 0 0 0 2.89 7.84l.706.97a2.02 2.02 0 0 1 0 2.38l-.706.97a1.843 1.843 0 0 0 1.685 2.919l1.192-.127a2.03 2.03 0 0 1 2.062 1.19"})),D||(D=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"})))}const R=o.forwardRef(A);var Z;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(this,arguments)}function z(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Z||(Z=o.createElement("path",{d:"M2 12.667h12V14H2zm6.667-8.782v7.448H7.333V3.885L3.286 7.933l-.943-.942L8 1.333l5.657 5.657-.943.943-4.047-4.046z"})))}const B=o.forwardRef(z);var V;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},H.apply(this,arguments)}function W(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,V||(V=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 5.333h-2.489c-1.307 0-1.96 0-2.46.255a2.33 2.33 0 0 0-1.019 1.02c-.254.498-.254 1.152-.254 2.459V10M17 5.333 14.667 3M17 5.333l-2.333 2.334M8.444 3h-1.71c-1.307 0-1.96 0-2.46.254a2.34 2.34 0 0 0-1.02 1.02C3 4.774 3 5.427 3 6.734v6.533c0 1.306 0 1.96.254 2.459.224.439.581.796 1.02 1.02.5.254 1.153.254 2.46.254h6.533c1.306 0 1.96 0 2.459-.254a2.34 2.34 0 0 0 1.02-1.02c.254-.5.254-1.153.254-2.46v-1.71"})))}const U=o.forwardRef(W);var G;function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q.apply(this,arguments)}function $(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,G||(G=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.833 12.5 10 16.667l4.166-4.167m-8.333-5L10 3.333 14.166 7.5"})))}const J=o.forwardRef($);var Q;function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(this,arguments)}function Y(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Q||(Q=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m13 7-1.116-2.231c-.32-.642-.481-.963-.72-1.198a2 2 0 0 0-.748-.462C10.1 3 9.74 3 9.022 3H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 4.52 2 5.08 2 6.2V7m0 0h15.2c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C22 9.28 22 10.12 22 11.8v4.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C19.72 21 18.88 21 17.2 21H6.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C2 18.72 2 17.88 2 16.2z"})))}const X=o.forwardRef(Y);var ee;function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},te.apply(this,arguments)}function ne(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ee||(ee=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.333 5v-.667c0-.933 0-1.4-.181-1.756a1.67 1.67 0 0 0-.729-.729c-.356-.181-.823-.181-1.756-.181H9.333c-.933 0-1.4 0-1.756.181-.314.16-.569.415-.729.729-.181.356-.181.823-.181 1.756V5m1.666 4.583v4.167m3.334-4.167v4.167M2.5 5h15m-1.667 0v9.333c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272H8.167c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.535-.272-1.235-.272-2.635V5"})))}const ie=o.forwardRef(ne);var oe;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ae.apply(this,arguments)}function le(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,oe||(oe=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.794 17.5a3.32 3.32 0 0 0 2.205.833 3.32 3.32 0 0 0 2.205-.833M15 6.667a5 5 0 0 0-10 0c0 2.575-.65 4.338-1.375 5.504-.612.984-.918 1.476-.907 1.613.013.152.045.21.167.3.11.083.61.083 1.606.083H15.51c.997 0 1.495 0 1.605-.082.123-.091.155-.15.168-.301.01-.137-.295-.63-.907-1.613C15.65 11.005 15 9.241 15 6.667"})))}const re=o.forwardRef(le);var se;function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},de.apply(this,arguments)}function ce(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,se||(se=o.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10m0-2a8 8 0 1 0 0-16.001A8 8 0 0 0 12 20m-1-5h2v2h-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.5 3.5 0 1 1 13 13.355"})))}const ue=o.forwardRef(ce);var pe;function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},he.apply(this,arguments)}function ve(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",he({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,pe||(pe=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.333 1.513v2.754c0 .373 0 .56.072.702a.67.67 0 0 0 .292.292c.142.072.329.072.702.072h2.754M5.333 10v2m5.333-3.333V12M7.999 7v5m5.334-5.341v4.808c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.428.218-.988.218-2.108.218H5.866c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874c-.218-.428-.218-.988-.218-2.108V4.533c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874c.428-.218.988-.218 2.108-.218h2.141c.49 0 .734 0 .964.056a2 2 0 0 1 .578.24c.202.123.375.296.72.642l2.126 2.125c.346.346.52.519.643.72q.165.272.24.579c.055.23.055.475.055.964"})))}const ge=o.forwardRef(ve);var fe;function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},me.apply(this,arguments)}function ye(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",me({xmlns:"http://www.w3.org/2000/svg",width:7,height:10,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 7 10",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,fe||(fe=o.createElement("path",{fillRule:"evenodd",d:"M5.036 4.95.793.707 1.5 0l4.95 4.95L1.5 9.9l-.707-.708z",clipRule:"evenodd"})))}const we=o.forwardRef(ye);var be,Ce;function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xe.apply(this,arguments)}function Ie(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",xe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,be||(be=o.createElement("g",{clipPath:"url(#clip0_10982_42345)"},o.createElement("g",{filter:"url(#filter0_d_10982_42345)"},o.createElement("path",{d:"M13.1717 11.9968L8.22168 7.04681L9.63568 5.63281L15.9997 11.9968L9.63568 18.3608L8.22168 16.9468L13.1717 11.9968Z",fill:"white"})))),Ce||(Ce=o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_10982_42345",x:4.22168,y:2.63281,width:15.7783,height:20.7266,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:1}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10982_42345"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10982_42345",result:"shape"})),o.createElement("clipPath",{id:"clip0_10982_42345"},o.createElement("rect",{width:24,height:24,fill:"white"})))))}const je=o.forwardRef(Ie);var Me,ke;function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Te.apply(this,arguments)}function Ee(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Me||(Me=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"m8.781 8-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943z"}))),ke||(ke=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const Pe=o.forwardRef(Ee);var Oe;function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Se.apply(this,arguments)}function _e(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Se({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Oe||(Oe=o.createElement("path",{d:"M3.33594 10H16.6693M16.6693 10L11.6693 5M16.6693 10L11.6693 15",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const Ne=o.forwardRef(_e);var De;function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Le.apply(this,arguments)}function Ae(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Le({xmlns:"http://www.w3.org/2000/svg",width:10,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 10 18",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,De||(De=o.createElement("path",{d:"M9.9 1.914 8.485.5 0 8.985l8.485 8.486L9.9 16.056l-7.072-7.07z"})))}const Re=o.forwardRef(Ae);var Ze,Fe;function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ze.apply(this,arguments)}function Be(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ze({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ze||(Ze=o.createElement("g",{clipPath:"url(#clip0_10982_42349)"},o.createElement("g",{filter:"url(#filter0_d_10982_42349)"},o.createElement("path",{d:"M10.828 11.9968L15.778 16.9468L14.364 18.3608L8 11.9968L14.364 5.63281L15.778 7.04681L10.828 11.9968Z",fill:"white"})))),Fe||(Fe=o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_10982_42349",x:4,y:2.63281,width:15.7783,height:20.7266,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:1}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10982_42349"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10982_42349",result:"shape"})),o.createElement("clipPath",{id:"clip0_10982_42349"},o.createElement("rect",{width:24,height:24,fill:"white"})))))}const Ve=o.forwardRef(Be);var He,We;function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ue.apply(this,arguments)}function Ge(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ue({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,He||(He=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"m7.219 8 3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943z"}))),We||(We=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const qe=o.forwardRef(Ge);var $e;function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Je.apply(this,arguments)}function Qe(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Je({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,$e||($e=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.667 4.667-.743-1.488c-.214-.428-.321-.642-.481-.798a1.3 1.3 0 0 0-.498-.308C6.733 2 6.495 2 6.015 2H3.468c-.746 0-1.12 0-1.405.145a1.34 1.34 0 0 0-.583.583c-.145.285-.145.659-.145 1.405v.534m0 0h10.133c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108V10.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.427.218-.988.218-2.108.218H4.534c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874c-.218-.428-.218-.988-.218-2.108z"})))}const Ke=o.forwardRef(Qe);var Ye,Xe;function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},et.apply(this,arguments)}function tt(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ye||(Ye=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M14.667 7.503a4.7 4.7 0 0 0-1.334-.643V4.667H7.724L6.391 3.333H2.667v9.334h4.86c.143.481.362.93.643 1.333H2a.666.666 0 0 1-.667-.667V2.667A.667.667 0 0 1 2 2h4.943l1.333 1.333H14a.666.666 0 0 1 .667.667z"}),o.createElement("path",{d:"M12 15.4a4 4 0 1 1 0-8 4 4 0 0 1 0 8m0-.8a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4m0-1.2a2 2 0 1 1 0-4 2 2 0 0 1 0 4"}))),Xe||(Xe=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const nt=o.forwardRef(tt);var it;function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ot.apply(this,arguments)}function at(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ot({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,it||(it=o.createElement("g",{clipPath:"url(#clip0_3945_27955)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1.332 8 6.428 3.214c.088.044.131.066.177.074q.062.012.123 0a.7.7 0 0 0 .177-.074L14.665 8M1.332 11.333l6.428 3.214c.088.044.131.066.177.075q.062.01.123 0a.7.7 0 0 0 .177-.075l6.428-3.214M1.332 4.667 7.76 1.453c.088-.044.131-.066.177-.075a.3.3 0 0 1 .123 0c.046.009.09.03.177.075l6.428 3.214L8.237 7.88c-.087.043-.131.065-.177.074a.3.3 0 0 1-.123 0 .7.7 0 0 1-.177-.074z"}))))}const lt=o.forwardRef(at);var rt,st,dt;function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ct.apply(this,arguments)}function ut(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ct({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,rt||(rt=o.createElement("circle",{cx:4,cy:8,r:1})),st||(st=o.createElement("circle",{cx:8,cy:8,r:1})),dt||(dt=o.createElement("circle",{cx:12,cy:8,r:1})))}const pt=o.forwardRef(ut);var ht,vt;function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gt.apply(this,arguments)}function ft(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",gt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ht||(ht=o.createElement("path",{fillOpacity:.1,fillRule:"evenodd",d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2z",clipRule:"evenodd"})),vt||(vt=o.createElement("path",{fillRule:"evenodd",d:"M8 2.583a.75.75 0 0 1 .75.75V7.25h3.916a.75.75 0 1 1 0 1.5H8.75v3.916a.75.75 0 1 1-1.5 0V8.75H3.333a.75.75 0 1 1 0-1.5H7.25V3.333a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})))}const mt=o.forwardRef(ft);var yt;function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wt.apply(this,arguments)}function bt(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",wt({xmlns:"http://www.w3.org/2000/svg",width:8,height:6,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 8 6",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,yt||(yt=o.createElement("path",{d:"M3.614 5.532a.5.5 0 0 0 .772 0l3.27-3.964A.5.5 0 0 0 7.27.75H.73a.5.5 0 0 0-.385.818z"})))}const Ct=o.forwardRef(bt);var xt;function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},It.apply(this,arguments)}function jt(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",It({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,xt||(xt=o.createElement("path",{fillRule:"evenodd",d:"M7.867 4A6.31 6.31 0 0 0 2 8c.923 2.341 3.2 4 5.867 4a6.31 6.31 0 0 0 5.866-4c-.922-2.341-3.2-4-5.866-4m0 6.667a2.668 2.668 0 0 1 0-5.334 2.668 2.668 0 0 1 0 5.334M6.267 8c0-.885.714-1.6 1.6-1.6.885 0 1.6.715 1.6 1.6s-.715 1.6-1.6 1.6-1.6-.714-1.6-1.6",clipRule:"evenodd"})))}const Mt=o.forwardRef(jt);var kt;function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tt.apply(this,arguments)}function Et(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,kt||(kt=o.createElement("path",{fillOpacity:.54,fillRule:"evenodd",d:"M2.539 3.957 3.29 3.2l9.454 9.464-.752.752-1.829-1.829a6.3 6.3 0 0 1-2.298.437A6.31 6.31 0 0 1 2 8.025a6.26 6.26 0 0 1 1.967-2.639zm7.992 4.07A2.667 2.667 0 0 0 7.865 5.36c-.272 0-.533.054-.784.128L5.924 4.331a6.31 6.31 0 0 1 7.806 3.69 6.3 6.3 0 0 1-1.696 2.415l-1.631-1.631a2.7 2.7 0 0 0 .128-.779M7.865 10.69A2.667 2.667 0 0 1 5.2 8.024c0-.41.096-.8.261-1.14l.838.837a2 2 0 0 0-.032.303c0 .886.714 1.6 1.6 1.6.106 0 .202-.016.303-.037l.837.837a2.6 2.6 0 0 1-1.14.266M9.45 7.85a1.58 1.58 0 0 0-1.41-1.407z",clipRule:"evenodd"})))}const Pt=o.forwardRef(Et);var Ot;function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},St.apply(this,arguments)}function _t(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",St({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ot||(Ot=o.createElement("path",{fillRule:"evenodd",d:"M14 3.209 12.791 2 8 6.791 3.209 2 2 3.209 6.791 8 2 12.791 3.209 14 8 9.209 12.791 14 14 12.791 9.209 8z",clipRule:"evenodd"})))}const Nt=o.forwardRef(_t);var Dt;function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lt.apply(this,arguments)}function At(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Lt({xmlns:"http://www.w3.org/2000/svg",width:10,height:10,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 10 10",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Dt||(Dt=o.createElement("path",{d:"M5 10A5 5 0 1 1 5 0a5 5 0 0 1 0 10m0-5.707L3.586 2.878l-.707.708L4.292 5 2.878 6.414l.708.708L5 5.707l1.414 1.415.708-.708L5.707 5l1.415-1.414-.708-.707z"})))}const Rt=o.forwardRef(At);var Zt;function Ft(){return Ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ft.apply(this,arguments)}function zt(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ft({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Zt||(Zt=o.createElement("path",{d:"m8 12.173-4.702 2.632 1.05-5.285L.392 5.86l5.35-.635L8 .333l2.258 4.893 5.35.635-3.956 3.659 1.05 5.285zm0-1.528 2.832 1.585-.633-3.182 2.382-2.204-3.222-.382L8 3.516 6.642 6.463l-3.222.381 2.382 2.204-.633 3.182z"})))}const Bt=o.forwardRef(zt);var Vt;function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ht.apply(this,arguments)}function Wt(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ht({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Vt||(Vt=o.createElement("path",{d:"m7 9.833-3.919 2.394L4.147 7.76.66 4.773l4.577-.366L7 .167l1.763 4.24 4.578.366L9.853 7.76l1.066 4.467z"})))}const Ut=o.forwardRef(Wt);var Gt;function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qt.apply(this,arguments)}function $t(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Gt||(Gt=o.createElement("path",{fillRule:"evenodd",d:"M3 8.666A6.663 6.663 0 0 1 9.658 2a6.663 6.663 0 0 1 6.659 6.666c0 3.683-6.66 9.334-6.66 9.334S3 12.349 3 8.666m9.322 0a2.665 2.665 0 0 0-2.663-2.667 2.666 2.666 0 0 0-2.664 2.667 2.666 2.666 0 0 0 2.664 2.667 2.666 2.666 0 0 0 2.663-2.667",clipRule:"evenodd"})))}const Jt=o.forwardRef($t);var Qt;function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kt.apply(this,arguments)}function Yt(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Kt({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qt||(Qt=o.createElement("path",{d:"m5.132 13.685 7.713-7.713a2.917 2.917 0 1 1 1.178 1.179l-7.712 7.713a2.917 2.917 0 1 1-1.179-1.178m10.28-7.85a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M3.745 17.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"})))}const Xt=o.forwardRef(Yt);var en;function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tn.apply(this,arguments)}function nn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",tn({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,en||(en=o.createElement("path",{d:"M16.662 6.636v6.726a2.917 2.917 0 1 1-3.304 3.303H6.632a2.917 2.917 0 1 1-3.304-3.303V6.636a2.917 2.917 0 1 1 3.304-3.304h6.726a2.917 2.917 0 1 1 3.303 3.304m-1.667-.251a2.93 2.93 0 0 1-1.386-1.386H6.38a2.93 2.93 0 0 1-1.386 1.386v7.228c.606.288 1.098.78 1.386 1.386h7.228a2.93 2.93 0 0 1 1.386-1.386zM3.745 4.999a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m12.5 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m0 12.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m-12.5 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"})))}const on=o.forwardRef(nn);var an;function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ln.apply(this,arguments)}function rn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ln({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,an||(an=o.createElement("path",{d:"M11.741 1.155a2.917 2.917 0 0 1 4.103 4.104 7.917 7.917 0 1 1-4.103-4.103m-.95 1.413a6.25 6.25 0 1 0 3.64 3.64 2.917 2.917 0 0 1-3.64-3.64M8.584 9.667a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5m5-5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5"})))}const sn=o.forwardRef(rn);var dn;function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cn.apply(this,arguments)}function un(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",cn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,dn||(dn=o.createElement("path",{d:"M2 3.167h12V4.5H2zm1.333 10h9.334V14.5H3.333zM2 9.834h12v1.333H2zM3.333 6.5h9.334v1.334H3.333z"})))}const pn=o.forwardRef(un);var hn;function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vn.apply(this,arguments)}function gn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",vn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,hn||(hn=o.createElement("path",{d:"m8 14.433 3.3-3.3a4.667 4.667 0 1 0-6.6 0zm0 1.885-4.243-4.242a6 6 0 1 1 8.486 0zm0-7.152A1.333 1.333 0 1 0 8 6.5a1.333 1.333 0 0 0 0 2.666M8 10.5a2.667 2.667 0 1 1 0-5.333A2.667 2.667 0 0 1 8 10.5"})))}const fn=o.forwardRef(gn);var mn;function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yn.apply(this,arguments)}function wn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",yn({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,mn||(mn=o.createElement("path",{d:"m5.19 9.333.28-2.666H2.667V5.333H5.61L5.96 2h1.341l-.35 3.333h2.66L9.96 2h1.34l-.35 3.333h2.383v1.334H10.81l-.28 2.666h2.803v1.334H10.39L10.04 14H8.7l.35-3.333H6.39L6.04 14H4.7l.35-3.333H2.667V9.333zm1.34 0h2.66l.28-2.666H6.81z"})))}const bn=o.forwardRef(wn);var Cn;function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xn.apply(this,arguments)}function In(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",xn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Cn||(Cn=o.createElement("path",{d:"M5.333 3.166H14V4.5H5.333zM3 4.833a1 1 0 1 1 0-2 1 1 0 0 1 0 2M3 9.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2m0 4.6a1 1 0 1 1 0-2 1 1 0 0 1 0 2m2.333-6.267H14v1.333H5.333zm0 4.667H14v1.333H5.333z"})))}const jn=o.forwardRef(In);var Mn;function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kn.apply(this,arguments)}function Tn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",kn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Mn||(Mn=o.createElement("path",{d:"M7.333 3.167H14V4.5H7.333zm0 2.667h4v1.333h-4zm0 4H14v1.333H7.333zm0 2.666h4v1.334h-4zM2 3.167h4v4H2zM3.333 4.5v1.334h1.334V4.5zM2 9.834h4v4H2zm1.333 1.333V12.5h1.334v-1.333z"})))}const En=o.forwardRef(Tn);var Pn;function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},On.apply(this,arguments)}function Sn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Pn||(Pn=o.createElement("path",{d:"M11.333 2.5H14a.667.667 0 0 1 .666.667v10.667A.667.667 0 0 1 14 14.5H2a.667.667 0 0 1-.667-.666V3.167A.667.667 0 0 1 2 2.5h2.666V1.167H6V2.5h4V1.167h1.333zM10 3.834H6v1.333H4.666V3.834h-2V6.5h10.667V3.834h-2v1.333H10zm3.333 4H2.666v5.333h10.667z"})))}const _n=o.forwardRef(Sn);var Nn;function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dn.apply(this,arguments)}function Ln(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Dn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Nn||(Nn=o.createElement("path",{d:"M6 1.166v1.333h4V1.166h1.333v1.333H14a.667.667 0 0 1 .667.667v10.667a.667.667 0 0 1-.667.666H2a.667.667 0 0 1-.667-.666V3.166A.667.667 0 0 1 2 2.499h2.667V1.166zm7.333 6H2.667v6h10.666zm-3.31.757.944.943-3.3 3.3-2.358-2.357.944-.943 1.414 1.415 2.358-2.358zm-5.356-4.09h-2v2h10.666v-2h-2v.666H10v-.666H6v.666H4.667z"})))}const An=o.forwardRef(Ln);var Rn;function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zn.apply(this,arguments)}function Fn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Zn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Rn||(Rn=o.createElement("path",{d:"M11.333 2.5H14a.667.667 0 0 1 .667.666v10.667a.667.667 0 0 1-.667.666H2a.667.667 0 0 1-.667-.666V3.166A.667.667 0 0 1 2 2.499h2.667V1.166H6v1.333h4V1.166h1.333zm2 4V3.832h-2v1.333H10V3.833H6v1.333H4.667V3.833h-2v2.666zm0 1.333H2.667v5.333h10.666zM4 9.166h3.333v2.667H4z"})))}const zn=o.forwardRef(Fn);var Bn;function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vn.apply(this,arguments)}function Hn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Vn({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Bn||(Bn=o.createElement("path",{d:"m9.885 5.67-3.77 3.772a.667.667 0 1 0 .942.943l3.771-3.77A2 2 0 0 0 8 3.784L4.228 7.558a3.333 3.333 0 1 0 4.714 4.713l3.771-3.77.943.942-3.771 3.772a4.667 4.667 0 1 1-6.6-6.6l3.772-3.771a3.333 3.333 0 0 1 4.713 4.713L8 11.33A2 2 0 1 1 5.17 8.5l3.772-3.77z"})))}const Wn=o.forwardRef(Hn);var Un;function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gn.apply(this,arguments)}function qn(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Gn({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 25",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Un||(Un=o.createElement("path",{d:"M19.499 11.513c.128-.129.25-.25.378-.25h1.744a.27.27 0 0 0 .254-.247V9.015a.27.27 0 0 0-.254-.248h-1.994c-.128 0-.378.127-.378.248l-2.122 2.249c-.127.122-.25.122-.25 0l-1.128-2.25c-.121-.121-.244-.247-.37-.247h-3.253a.27.27 0 0 0-.246.248v1.995a.26.26 0 0 0 .246.249h2c.126 0 .251.122.375.25l.754 1.62v.377l-2.253 2.617c-.125 0-.25.129-.375.129h-1.75a.274.274 0 0 0-.25.249v1.995a.275.275 0 0 0 .25.249h2c.125 0 .373-.129.373-.25l2.877-3.242c.126-.128.25-.128.25 0L18 18.496c0 .12.25.249.372.249h2a.27.27 0 0 0 .25-.25v-1.994a.27.27 0 0 0-.25-.25h-.751c-.129 0-.25-.128-.372-.245l-1.256-2.5v-.374zM9.247 3.774a4.84 4.84 0 0 0-1.621 2.498L7.001 8.77H3.376a.27.27 0 0 0-.247.248v1.998a.256.256 0 0 0 .247.246h3l-1.872 7.49C4.126 20.248 3.13 20 3.13 20H1.875v2.5h1.251c.997 0 2-.13 2.5-.75.622-.622 1-1.749 1.248-2.996l1.876-7.49h2.875a.27.27 0 0 0 .255-.25V9.015a.27.27 0 0 0-.255-.248H9.37l.624-2.37c.126-.377.754-.999 1.126-1.248 1.38-1 3.249-.378 4.502-.129V2.903c-1.25-.249-4-1.122-6.375.871"})))}const $n=o.forwardRef(qn);var Jn,Qn,Kn,Yn,Xn;function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ei.apply(this,arguments)}function ti(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ei({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Jn||(Jn=o.createElement("path",{d:"M17.6207 0.271484H4.94409C4.48098 0.272915 4.03725 0.457517 3.70979 0.784982C3.38232 1.11245 3.19772 1.55618 3.19629 2.01928V21.9813C3.19772 22.4444 3.38232 22.8881 3.70979 23.2156C4.03725 23.5431 4.48098 23.7277 4.94409 23.7291H21.5543C22.0174 23.7277 22.4611 23.5431 22.7886 23.2156C23.116 22.8881 23.3006 22.4444 23.3021 21.9813V5.9542L17.6207 0.271484Z",fill:"#E5F3F9"})),Qn||(Qn=o.createElement("path",{d:"M17.6201 4.20369C17.6215 4.66692 17.8061 5.11079 18.1335 5.43847C18.461 5.76615 18.9047 5.95105 19.3679 5.95284H23.3001L17.6201 0.271484V4.20369Z",fill:"#88D6F2"})),Kn||(Kn=o.createElement("path",{d:"M2.05388 14.6445H15.4098C16.4946 14.6445 17.0369 15.1869 17.0369 16.2717V20.6106C17.0369 21.6954 16.4946 22.2378 15.4098 22.2378H2.05388C0.969131 22.2378 0.426758 21.6954 0.426758 20.6106V16.2717C0.426758 15.1869 0.969131 14.6445 2.05388 14.6445Z",fill:"#52BCF7"})),Yn||(Yn=o.createElement("path",{d:"M6.54688 4.35156H14.852V5.51766H6.54688V4.35156ZM6.54688 6.92512H14.852V8.09122H6.54688V6.92512ZM6.54688 9.49868H17.6194V10.6648H6.54688V9.49868ZM6.54688 12.0736H20.0967V13.2397H6.54688V12.0736Z",fill:"#88D6F2"})),Xn||(Xn=o.createElement("path",{d:"M3.89686 21.2149C3.67966 21.0788 3.50969 20.879 3.41008 20.6427C3.29163 20.3577 3.23435 20.051 3.24194 19.7424V18.8475C3.23397 18.5327 3.29121 18.2197 3.41008 17.9282C3.50432 17.694 3.66805 17.4943 3.87923 17.356C4.10526 17.2185 4.36598 17.1489 4.63042 17.1553C4.91758 17.1485 5.20232 17.2093 5.4616 17.3329C5.70916 17.46 5.90964 17.6629 6.03381 17.9119L5.94974 18.7119C5.94983 18.5331 5.90705 18.3569 5.82499 18.198C5.74093 18.0362 5.61496 17.8999 5.46025 17.8034C5.29254 17.6998 5.09873 17.6462 4.9016 17.6488C4.7533 17.6398 4.60481 17.6631 4.46642 17.7172C4.32804 17.7713 4.20309 17.8548 4.10025 17.9621C3.89744 18.2109 3.79621 18.5272 3.81686 18.8475V19.7451C3.79675 20.0585 3.89662 20.3678 4.09618 20.6102C4.20024 20.7166 4.32612 20.7993 4.46515 20.8524C4.60419 20.9055 4.75309 20.9279 4.9016 20.918C5.09907 20.9218 5.29331 20.8676 5.46025 20.7621C5.61615 20.6613 5.74249 20.5209 5.82635 20.3553C5.9101 20.1945 5.95383 20.0159 5.95381 19.8346L6.0094 20.6997C5.91944 20.9364 5.74307 21.1302 5.51584 21.2421C5.25188 21.3606 4.96433 21.4171 4.67516 21.4075C4.40283 21.4173 4.13319 21.3506 3.89686 21.2149ZM5.94974 15.5566H6.52872V21.3519H5.94974V15.5566ZM8.02025 21.2C7.76596 21.0609 7.56161 20.8456 7.43584 20.5844C7.2945 20.2798 7.22581 19.9466 7.23516 19.6109V18.9329C7.2257 18.6007 7.29444 18.2709 7.43584 17.9702C7.56261 17.7111 7.76685 17.4978 8.02025 17.36C8.30452 17.2136 8.62131 17.1418 8.94093 17.1512C9.26051 17.1422 9.57719 17.214 9.86161 17.36C10.1146 17.4979 10.3184 17.7112 10.4447 17.9702C10.5865 18.2708 10.6557 18.6006 10.6467 18.9329V19.6177C10.656 19.9513 10.5868 20.2825 10.4447 20.5844C10.3185 20.8438 10.1147 21.0576 9.86161 21.196C9.57775 21.3438 9.26083 21.4166 8.94093 21.4075C8.62136 21.418 8.30442 21.3466 8.02025 21.2ZM9.78296 20.5492C9.99502 20.2884 10.101 19.9572 10.0799 19.6217V18.937C10.1011 18.6036 9.99495 18.2745 9.78296 18.0163C9.67495 17.9045 9.544 17.8173 9.39912 17.7609C9.25423 17.7045 9.09884 17.6802 8.94364 17.6895C8.78925 17.6801 8.63466 17.7045 8.49065 17.7609C8.34663 17.8174 8.21665 17.9045 8.10974 18.0163C7.89921 18.2752 7.79413 18.604 7.8155 18.937V19.6217C7.79414 19.9568 7.89913 20.2877 8.10974 20.5492C8.2151 20.6607 8.34332 20.7481 8.48561 20.8055C8.6279 20.8628 8.78091 20.8887 8.93415 20.8814C9.08976 20.8901 9.24539 20.8649 9.39031 20.8075C9.53522 20.7501 9.66595 20.662 9.77347 20.5492H9.78296ZM12.4636 21.4116L12.065 21.2122C11.8046 21.0841 11.5949 20.872 11.4697 20.6102C11.3295 20.2972 11.2627 19.9563 11.2745 19.6136V18.9356C11.2628 18.5951 11.3311 18.2566 11.4738 17.9471C11.6017 17.6891 11.8115 17.4807 12.0704 17.3546C12.3822 17.2134 12.7223 17.1461 13.0643 17.158C13.2727 17.1559 13.4805 17.1805 13.6826 17.2312C13.8596 17.2762 14.0278 17.3505 14.1802 17.4509C14.329 17.5496 14.4586 17.6746 14.5626 17.8197L14.1369 18.198C14.0077 18.0375 13.8447 17.9074 13.6596 17.817C13.4769 17.7327 13.2777 17.69 13.0765 17.6922C12.6643 17.6922 12.3565 17.7948 12.1531 18C11.9497 18.2052 11.848 18.5171 11.848 18.9356V19.6136C11.848 20.0366 11.9506 20.353 12.1558 20.5627C12.361 20.7725 12.667 20.8787 13.0738 20.8814C13.285 20.8844 13.4946 20.8438 13.6894 20.7621C13.8797 20.6778 14.0502 20.5545 14.1897 20.4L14.5599 20.7661C14.4553 20.9089 14.3258 21.0315 14.1775 21.1282C14.0249 21.2274 13.8567 21.3002 13.6799 21.3438C13.4777 21.394 13.2699 21.4182 13.0616 21.4156L12.4636 21.4116Z",fill:"white"})))}const ni=o.forwardRef(ti);var ii,oi,ai,li,ri,si,di;function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ci.apply(this,arguments)}function ui(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ci({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ii||(ii=o.createElement("path",{d:"M17.6207 0.271484H4.94409C4.48098 0.272915 4.03725 0.457517 3.70979 0.784982C3.38232 1.11245 3.19772 1.55618 3.19629 2.01928V21.9813C3.19772 22.4444 3.38232 22.8881 3.70979 23.2156C4.03725 23.5431 4.48098 23.7277 4.94409 23.7291H21.5543C22.0174 23.7277 22.4611 23.5431 22.7886 23.2156C23.116 22.8881 23.3006 22.4444 23.3021 21.9813V5.9542L17.6207 0.271484Z",fill:"#E9FFE9"})),oi||(oi=o.createElement("path",{d:"M17.6201 4.20369C17.6215 4.66692 17.8061 5.11079 18.1335 5.43847C18.461 5.76615 18.9047 5.95105 19.3679 5.95284H23.3001L17.6201 0.271484V4.20369Z",fill:"#97DD97"})),ai||(ai=o.createElement("path",{d:"M2.05388 14.6445H15.4098C16.4946 14.6445 17.0369 15.1869 17.0369 16.2717V20.6106C17.0369 21.6954 16.4946 22.2378 15.4098 22.2378H2.05388C0.969131 22.2378 0.426758 21.6954 0.426758 20.6106V16.2717C0.426758 15.1869 0.969131 14.6445 2.05388 14.6445Z",fill:"#65CE65"})),li||(li=o.createElement("path",{d:"M5.73242 3.2666H14.0375V4.4327H5.73242V3.2666Z",fill:"#97DD97"})),ri||(ri=o.createElement("path",{d:"M6.89852 3.26465V11.5697H5.73242V3.26465H6.89852ZM9.61039 3.26465V11.5697H8.44429V3.26465H9.61039ZM12.3223 3.26465V11.5697H11.1562V3.26465H12.3223ZM15.0341 3.26465V11.5697H13.868V3.26465H15.0341Z",fill:"#97DD97"})),si||(si=o.createElement("path",{d:"M5.73242 5.83984H14.0375V7.00595H5.73242V5.83984ZM5.73242 8.4134H14.508V9.5795H5.73242V8.4134ZM5.73242 10.9883H15.0341V12.1544H5.73242V10.9883Z",fill:"#97DD97"})),di||(di=o.createElement("path",{d:"M5.69069 18.9328L6.00934 19.4073L4.67103 21.2162H4.02832L5.69069 18.9328ZM5.7151 19.2636L4.05273 17.0846H4.69815L6.05408 18.9423L7.749 21.2162H7.11035L5.7151 19.2636ZM5.82222 18.8812L7.04256 17.0792H7.68798L6.12188 19.3111L5.82222 18.8812ZM8.81476 20.1287C8.80759 20.2765 8.85596 20.4216 8.95035 20.5355C8.99633 20.5844 9.05242 20.6227 9.1147 20.6478C9.17699 20.6728 9.24398 20.684 9.31103 20.6806H9.6934V21.2148H9.20934C9.07615 21.223 8.9428 21.2015 8.81897 21.1518C8.69513 21.102 8.58392 21.0254 8.4934 20.9273C8.3107 20.6971 8.22031 20.4071 8.23984 20.1138V15.4209H8.81476V20.1287ZM11.2446 21.2758L10.9287 21.2107C10.7262 21.1687 10.5292 21.1036 10.3415 21.0168C10.1672 20.9367 10.0044 20.8337 9.85747 20.7104L10.1883 20.3036C10.4058 20.451 10.6414 20.5695 10.8893 20.6562C11.1103 20.7365 11.3431 20.7791 11.5781 20.7823C11.8962 20.8011 12.2133 20.7322 12.4948 20.5829C12.5961 20.5256 12.6799 20.4419 12.7372 20.3406C12.7945 20.2393 12.8232 20.1244 12.8202 20.008C12.826 19.9328 12.8149 19.8572 12.7876 19.7868C12.7604 19.7164 12.7178 19.653 12.6629 19.6012C12.5487 19.5064 12.4118 19.4428 12.2656 19.4168C12.0454 19.3778 11.8231 19.3515 11.5998 19.3382H11.3734C11.1416 19.3188 10.912 19.2789 10.6873 19.2189C10.5074 19.1667 10.347 19.0624 10.2263 18.9192C10.0916 18.7367 10.0263 18.5122 10.0419 18.286C10.0342 18.0455 10.1015 17.8086 10.2344 17.608C10.3763 17.4124 10.5738 17.264 10.8012 17.1823C11.0875 17.0769 11.3912 17.0268 11.6961 17.0345C11.8782 17.0345 12.0598 17.0522 12.2385 17.0873C12.4184 17.1174 12.595 17.1646 12.7659 17.2284C12.9269 17.2929 13.0802 17.3752 13.2229 17.4738L12.892 17.8684C12.699 17.7535 12.4927 17.6625 12.2778 17.5972C12.0839 17.5377 11.8826 17.5062 11.6798 17.5036C11.3953 17.4861 11.1119 17.5541 10.8663 17.6989C10.775 17.758 10.7006 17.8398 10.6505 17.9363C10.6003 18.0328 10.5761 18.1407 10.5802 18.2494C10.5738 18.3193 10.5843 18.3898 10.6107 18.4549C10.6371 18.52 10.6787 18.5779 10.732 18.6236C10.8476 18.7094 10.9828 18.7648 11.1253 18.785C11.3414 18.8175 11.5591 18.8388 11.7775 18.8487H11.8168C11.8281 18.8499 11.8394 18.8499 11.8507 18.8487H11.8995C12.1489 18.8588 12.3965 18.8947 12.6385 18.9558C12.8395 19.0103 13.0186 19.1259 13.151 19.2867C13.302 19.4926 13.3754 19.7451 13.3585 19.9999C13.3658 20.2451 13.2929 20.4859 13.151 20.686C12.9958 20.8865 12.785 21.0369 12.5449 21.1185C12.2358 21.2248 11.9103 21.2753 11.5836 21.2677L11.2446 21.2758Z",fill:"white"})))}const pi=o.forwardRef(ui);var hi,vi,gi,fi;function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mi.apply(this,arguments)}function yi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",mi({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,hi||(hi=o.createElement("path",{d:"M17.6207 0.271484H4.94409C4.48098 0.272915 4.03725 0.457517 3.70979 0.784982C3.38232 1.11245 3.19772 1.55618 3.19629 2.01928V21.9813C3.19772 22.4444 3.38232 22.8881 3.70979 23.2156C4.03725 23.5431 4.48098 23.7277 4.94409 23.7291H21.5543C22.0174 23.7277 22.4611 23.5431 22.7886 23.2156C23.116 22.8881 23.3006 22.4444 23.3021 21.9813V5.9542L17.6207 0.271484Z",fill:"#E5F3F9"})),vi||(vi=o.createElement("path",{d:"M17.6201 4.20369C17.6215 4.66692 17.8061 5.11079 18.1335 5.43847C18.461 5.76615 18.9047 5.95105 19.3679 5.95284H23.3001L17.6201 0.271484V4.20369Z",fill:"#88D6F2"})),gi||(gi=o.createElement("path",{d:"M2.05388 14.6445H15.4098C16.4946 14.6445 17.0369 15.1869 17.0369 16.2717V20.6106C17.0369 21.6954 16.4946 22.2378 15.4098 22.2378H2.05388C0.969131 22.2378 0.426758 21.6954 0.426758 20.6106V16.2717C0.426758 15.1869 0.969131 14.6445 2.05388 14.6445Z",fill:"#52BCF7"})),fi||(fi=o.createElement("path",{d:"M7.40715 16.8476L5.17258 20.0245H7.51427V20.5384H4.43359V20.076L6.71292 16.9154H4.49461V16.4069H7.40715V16.8476ZM8.30207 14.7432H8.87563V15.3221H8.30207V14.7432ZM8.30207 16.4015H8.87563V20.5384H8.30207V16.4015ZM9.82343 16.4069H10.397V22.2266H9.82343V16.4069ZM10.835 20.4381C10.6077 20.3263 10.4314 20.1324 10.3414 19.8957L10.397 19.0306C10.397 19.2119 10.4407 19.3905 10.5244 19.5513C10.6083 19.7169 10.7346 19.8573 10.8905 19.9581C11.0575 20.0636 11.2517 20.1178 11.4492 20.114C11.5977 20.1221 11.7463 20.0979 11.8846 20.0432C12.023 19.9884 12.1478 19.9043 12.2505 19.7967C12.4518 19.5545 12.5531 19.2446 12.5339 18.9303V18.034C12.5539 17.7146 12.4527 17.3994 12.2505 17.1513C12.0716 16.9827 11.8432 16.8761 11.599 16.8473C11.3548 16.8185 11.1079 16.869 10.8946 16.9913C10.74 17.0895 10.6138 17.2265 10.5285 17.3886C10.4449 17.5455 10.4011 17.7206 10.4011 17.8984L10.317 17.1011C10.4415 16.8524 10.6419 16.6496 10.8892 16.5221C11.1485 16.3985 11.4332 16.3377 11.7204 16.3445C11.9832 16.3379 12.2424 16.4066 12.4675 16.5425C12.6818 16.6808 12.8481 16.8821 12.9434 17.1188C13.0603 17.4093 13.1162 17.7209 13.1075 18.034V18.9357C13.1157 19.2443 13.0584 19.5512 12.9394 19.836C12.8394 20.0729 12.6684 20.2728 12.4499 20.4082C12.2156 20.5445 11.9479 20.6126 11.677 20.6049C11.3868 20.6126 11.0988 20.5537 10.835 20.4327V20.4381Z",fill:"white"})))}const wi=o.forwardRef(yi);var bi;function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ci.apply(this,arguments)}function xi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ci({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,bi||(bi=o.createElement("path",{d:"M.5 7.25a3.25 3.25 0 0 1 1.532-2.76 4 4 0 0 1 7.936 0 3.25 3.25 0 0 1-1.468 6l-5 .01a3.266 3.266 0 0 1-3-3.25m7.924 2.244a2.25 2.25 0 0 0 1.015-4.155l-.403-.251-.06-.471a3 3 0 0 0-5.952 0l-.06.47-.402.252a2.25 2.25 0 0 0 1.014 4.155l.087.006h4.675zM6.5 6H8L6 8.5 4 6h1.5V4h1z"})))}const Ii=o.forwardRef(xi);var ji;function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mi.apply(this,arguments)}function ki(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Mi({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ji||(ji=o.createElement("path",{d:"m3.207 8 5.071-5.071-.707-.707L2.5 7.293V8zm.415 1H1.5V6.879L7.218 1.16a.5.5 0 0 1 .707 0l1.414 1.415a.5.5 0 0 1 0 .707zM1.5 10h9v1h-9z"})))}const Ti=o.forwardRef(ki);var Ei;function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pi.apply(this,arguments)}function Oi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Pi({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ei||(Ei=o.createElement("path",{d:"m8 13.933 3.3-3.3a4.667 4.667 0 1 0-6.6 0zm0 1.885-4.243-4.242a6 6 0 1 1 8.486 0zm-.667-9.152v-2h1.334v2h2V8h-2v2H7.333V8h-2V6.666z"})))}const Si=o.forwardRef(Oi);var _i;function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ni.apply(this,arguments)}function Di(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ni({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_i||(_i=o.createElement("path",{d:"M7 12.833A5.833 5.833 0 1 1 7 1.167a5.833 5.833 0 0 1 0 11.666m0-1.167a4.667 4.667 0 1 0 0-9.333 4.667 4.667 0 0 0 0 9.333M6.417 8.75h1.166v1.166H6.417zm0-4.667h1.166v3.5H6.417z"})))}const Li=o.forwardRef(Di);var Ai;function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ri.apply(this,arguments)}function Zi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ri({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ai||(Ai=o.createElement("path",{d:"M4.875 1.75A.88.88 0 0 0 4 2.625c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0 8.75a.88.88 0 0 0-.875.875c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0-4.375A.88.88 0 0 0 4 7c0 .481.394.875.875.875A.88.88 0 0 0 5.75 7a.88.88 0 0 0-.875-.875m4-4.375A.88.88 0 0 0 8 2.625c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0 8.75a.88.88 0 0 0-.875.875c0 .481.394.875.875.875a.88.88 0 0 0 .875-.875.88.88 0 0 0-.875-.875m0-4.375A.88.88 0 0 0 8 7c0 .481.394.875.875.875A.88.88 0 0 0 9.75 7a.88.88 0 0 0-.875-.875"})))}const Fi=o.forwardRef(Zi);var zi;function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bi.apply(this,arguments)}function Vi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Bi({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,zi||(zi=o.createElement("path",{d:"M14 12v2h-1.334v-2h-1.333v-1.333h4V12zM3.333 12v2H2v-2H.667v-1.333h4V12zm4-8V2h1.333v2H10v1.333H6V4zm0 2.667h1.333V14H7.333zM2 9.333V2h1.333v7.333zm10.667 0V2H14v7.333z"})))}const Hi=o.forwardRef(Vi);var Wi;function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ui.apply(this,arguments)}function Gi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ui({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Wi||(Wi=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.333 6.667 14 2m0 0h-4m4 0v4M6.667 9.333 2 14m0 0h4m-4 0v-4"})))}const qi=o.forwardRef(Gi);var $i;function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ji.apply(this,arguments)}function Qi(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ji({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,$i||($i=o.createElement("path",{d:"m8 13.933 3.3-3.3a4.667 4.667 0 1 0-6.6 0zm0 1.885-4.243-4.242a6 6 0 1 1 8.486 0zm-.667-9.152v-2h1.334v2h2V8h-2v2H7.333V8h-2V6.666z"})))}const Ki=o.forwardRef(Qi);var Yi;function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xi.apply(this,arguments)}function eo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Xi({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 32 32",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Yi||(Yi=o.createElement("path",{stroke:"#fff",d:"M24.132 22.798 16 30.93l-8.132-8.132a11.5 11.5 0 1 1 16.264 0ZM16 17.833a3.167 3.167 0 1 0 0-6.334 3.167 3.167 0 0 0 0 6.334Z"})))}const to=o.forwardRef(eo);var no;function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},io.apply(this,arguments)}function oo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",io({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,no||(no=o.createElement("path",{d:"M6.667 4.667v2.666h4V4.667zm-1.334 0h-4v2.666h4zm1.334 6h4v-2h-4zm-1.334 0v-2h-4v2zm1.334-9.334v2h4v-2zm-1.334 0h-4v2h4zM.667 0h10.666A.667.667 0 0 1 12 .667v10.666a.666.666 0 0 1-.667.667H.667A.666.666 0 0 1 0 11.333V.667A.667.667 0 0 1 .667 0"})))}const ao=o.forwardRef(oo);var lo;function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ro.apply(this,arguments)}function so(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ro({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",preserveAspectRatio:"xMidYMid",style:{margin:"auto",background:"0 0",display:"block",shapeRendering:"auto"},viewBox:"0 0 100 100",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,lo||(lo=o.createElement("circle",{cx:50,cy:50,r:32,fill:"none",strokeDasharray:"150.796 52.265",strokeWidth:12},o.createElement("animateTransform",{attributeName:"transform",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"}))))}const co=o.forwardRef(so);var uo;function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},po.apply(this,arguments)}function ho(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",po({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,uo||(uo=o.createElement("path",{d:"m2.343 1.4 12.728 12.73-.943.943-1.343-1.343a4 4 0 0 1-1.452.272H4.667a4 4 0 0 1-1.328-7.774 4.7 4.7 0 0 1 .235-1.709L1.4 2.343zM4.667 6q-.001.083.004.163l.046.992-.936.329a2.668 2.668 0 0 0 .886 5.183h6.666q.186 0 .366-.024L4.687 5.63q-.02.181-.02.37M8 1.335a4.667 4.667 0 0 1 4.661 4.893 4.003 4.003 0 0 1 2.142 5.766l-.996-.995a2.667 2.667 0 0 0-3.471-3.47L9.34 6.53A4 4 0 0 1 11.333 6a3.333 3.333 0 0 0-5.25-2.727l-.954-.953A4.65 4.65 0 0 1 8 1.334"})))}const vo=o.forwardRef(ho);var go;function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fo.apply(this,arguments)}function mo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",fo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,go||(go=o.createElement("path",{d:"m6.666 10.115 6.128-6.129.944.943L6.666 12 2.424 7.758l.942-.943z"})))}const yo=o.forwardRef(mo);var wo,bo,Co,xo,Io,jo,Mo,ko;function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},To.apply(this,arguments)}function Eo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",To({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",preserveAspectRatio:"xMidYMid",style:{margin:"auto",background:"0 0",display:"block",shapeRendering:"auto"},viewBox:"0 0 100 100",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,wo||(wo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6},o.createElement("animate",{attributeName:"opacity",begin:"-0.875s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),bo||(bo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(45 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.75s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),Co||(Co=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(90 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.625s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),xo||(xo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(135 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.5s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),Io||(Io=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(180 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.375s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),jo||(jo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(225 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.25s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),Mo||(Mo=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(270 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"-0.125s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))),ko||(ko=o.createElement("rect",{width:12,height:23,x:44,y:6.5,rx:6,ry:6,transform:"rotate(315 50 50)"},o.createElement("animate",{attributeName:"opacity",begin:"0s",dur:"1s",keyTimes:"0;1",repeatCount:"indefinite",values:"1;0"}))))}const Po=o.forwardRef(Eo);var Oo;function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},So.apply(this,arguments)}function _o(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",So({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Oo||(Oo=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M22 21v-2a4 4 0 0 0-3-3.874M15.5 3.291a4.001 4.001 0 0 1 0 7.418M17 21c0-1.864 0-2.796-.305-3.53a4 4 0 0 0-2.164-2.165C13.796 15 12.864 15 11 15H8c-1.864 0-2.796 0-3.53.305a4 4 0 0 0-2.166 2.164C2 18.204 2 19.136 2 21M13.5 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0"})))}const No=o.forwardRef(_o);var Do;function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lo.apply(this,arguments)}function Ao(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Lo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Do||(Do=o.createElement("path",{d:"M9.334 9.501v1.394A4 4 0 0 0 4 14.667H2.667A5.333 5.333 0 0 1 9.334 9.5M8 8.667c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m0-1.334A2.666 2.666 0 1 0 8 2a2.666 2.666 0 1 0 0 5.333m4 4v-2h1.334v2h2v1.334h-2v2H12v-2h-2v-1.334z"})))}const Ro=o.forwardRef(Ao);var Zo;function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fo.apply(this,arguments)}function zo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Fo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Zo||(Zo=o.createElement("path",{fillRule:"evenodd",d:"M8 2.583a.75.75 0 0 1 .75.75V7.25h3.916a.75.75 0 1 1 0 1.5H8.75v3.917a.75.75 0 0 1-1.5 0V8.75H3.333a.75.75 0 1 1 0-1.5H7.25V3.333a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})))}const Bo=o.forwardRef(zo);var Vo;function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ho.apply(this,arguments)}function Wo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ho({xmlns:"http://www.w3.org/2000/svg",width:8,height:8,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 8 8",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Vo||(Vo=o.createElement("path",{d:"M1 0H0v8h8V7H1z"})))}const Uo=o.forwardRef(Wo);var Go;function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qo.apply(this,arguments)}function $o(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Go||(Go=o.createElement("path",{d:"M3.333 2v10.667H14V14H2V2zM13.53 4.195l.942.943-3.804 3.805-2-2-2.862 2.862-.943-.943 3.805-3.805 2 2z"})))}const Jo=o.forwardRef($o);var Qo;function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ko.apply(this,arguments)}function Yo(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ko({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qo||(Qo=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.5 10H3l-.4.5-.1.8V17l.5.4.8.1h3.7m0 0h5m-5 0V6.2c.2 0 .3-.2.5-.3h4l.4.4.1.9v10.3m0 0H17l.4-.5.1-.8V3l-.5-.4-.8-.1H13l-.4.5-.1.8v2.9"})))}const Xo=o.forwardRef(Yo);var ea;function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ta.apply(this,arguments)}function na(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ta({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ea||(ea=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 1.7a8.3 8.3 0 0 1 8.3 8.3M10 1.7V10m0-8.3a8.3 8.3 0 1 0 8.3 8.3M10 1.7c4.6 0 8.3 3.7 8.3 8.3m0 0H10m8.3 0a8.3 8.3 0 0 1-3.4 6.7L10 10"})))}const ia=o.forwardRef(na);var oa;function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},aa.apply(this,arguments)}function la(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",aa({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,oa||(oa=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.5 17.5H3a.8.8 0 0 1-.4-.5l-.1-.8V2.5m14.2 4.2-3.3 3.5a1 1 0 0 1-.3.2H13l-.3-.1L10 8.9l-.3-.2h-.2L9 9l-3.3 3.5"})))}const ra=o.forwardRef(la);var sa,da,ca,ua,pa,ha;function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},va.apply(this,arguments)}function ga(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",va({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sa||(sa=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.5 17.5H3a.8.8 0 0 1-.4-.5l-.1-.8V2.5"})),da||(da=o.createElement("circle",{cx:9,cy:8,r:1,fill:"currentColor"})),ca||(ca=o.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"})),ua||(ua=o.createElement("circle",{cx:18,cy:5,r:1,fill:"currentColor"})),pa||(pa=o.createElement("circle",{cx:15,cy:8,r:1,fill:"currentColor"})),ha||(ha=o.createElement("circle",{cx:6,cy:12,r:1,fill:"currentColor"})))}const fa=o.forwardRef(ga);var ma,ya;function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wa.apply(this,arguments)}function ba(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",wa({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ma||(ma=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.5 17.5H3.92c-.5 0-.74 0-.93-.1a.86.86 0 0 1-.4-.35c-.09-.18-.09-.42-.09-.88V2.5"})),ya||(ya=o.createElement("path",{fill:"#97A0AF",d:"m8.12 8.8-4.94 4.05a.5.5 0 0 0-.18.39v4.26h15V6.12a.5.5 0 0 0-.83-.37l-3.79 3.4a1 1 0 0 1-.88.24L8.97 8.6a1 1 0 0 0-.85.2"})))}const Ca=o.forwardRef(ba);var xa;function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ia.apply(this,arguments)}function ja(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ia({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,xa||(xa=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.17 7.92v2.83c0 .47 0 .7-.1.88a.83.83 0 0 1-.36.36c-.18.1-.41.1-.88.1H2.5m8.33 0v2.83c0 .46 0 .7-.09.88a.83.83 0 0 1-.36.36c-.18.09-.41.09-.88.09h-7m0-14.58v16.66m0-10.41h13.67c.46 0 .7 0 .88-.1.15-.07.28-.2.36-.36.09-.18.09-.41.09-.88v-1.5c0-.46 0-.7-.1-.88a.83.83 0 0 0-.35-.36c-.18-.09-.42-.09-.88-.09H2.5z"})))}const Ma=o.forwardRef(ja);var ka;function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ta.apply(this,arguments)}function Ea(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ta({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ka||(ka=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 16.667v-5.834M10 16.667V8.333m-6.667 8.334v-3.334m7.84-9.143 4.306 1.615M9 4.5 4.334 8M17.55 5.366a1.25 1.25 0 1 1-1.768 1.768 1.25 1.25 0 0 1 1.768-1.768m-13.334 2.5A1.25 1.25 0 1 1 2.45 9.634a1.25 1.25 0 0 1 1.768-1.768m6.667-5a1.25 1.25 0 1 1-1.768 1.768 1.25 1.25 0 0 1 1.768-1.768"})))}const Pa=o.forwardRef(Ea);var Oa;function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sa.apply(this,arguments)}function _a(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Sa({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Oa||(Oa=o.createElement("path",{fillRule:"evenodd",d:"m9.384 3.485 2.75-2.75 1.179 1.178-2.75 2.75h2.571V6.33H7.718V.913h1.666zm-4.688 7.049-2.75 2.75-1.178-1.179 2.75-2.75H.945V7.69h5.417v5.416H4.696z",clipRule:"evenodd"})))}const Na=o.forwardRef(_a);var Da;function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},La.apply(this,arguments)}function Aa(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",La({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 25",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Da||(Da=o.createElement("path",{d:"M4 3.5h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-16a1 1 0 0 1 1-1m1 2v14h14v-14zm6.003 11L6.76 12.257l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414z"})))}const Ra=o.forwardRef(Aa);var Za;function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fa.apply(this,arguments)}function za(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Fa({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Za||(Za=o.createElement("path",{d:"M8 1.332a6.666 6.666 0 1 1-6.666 6.667h1.333a5.334 5.334 0 1 0 .924-3h1.743v1.333h-4v-4h1.333v1.667a6.65 6.65 0 0 1 5.334-2.667m.667 3.333v3.057l2.162 2.162-.943.943-2.552-2.553V4.665z"})))}const Ba=o.forwardRef(za);var Va;function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ha.apply(this,arguments)}function Wa(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ha({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Va||(Va=o.createElement("path",{d:"M4.5 1.667A2.833 2.833 0 0 1 7.333 4.5v2.833H4.5a2.833 2.833 0 0 1 0-5.666M6 6V4.5A1.5 1.5 0 1 0 4.5 6zM4.5 8.667h2.833V11.5A2.833 2.833 0 1 1 4.5 8.667M4.5 10A1.5 1.5 0 1 0 6 11.5V10zm7-8.333a2.834 2.834 0 0 1 0 5.666H8.667V4.5A2.833 2.833 0 0 1 11.5 1.667M11.5 6A1.5 1.5 0 1 0 10 4.5V6zM8.667 8.667H11.5A2.833 2.833 0 1 1 8.667 11.5zM10 10v1.5a1.5 1.5 0 1 0 1.5-1.5z"})))}const Ua=o.forwardRef(Wa);var Ga;function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qa.apply(this,arguments)}function $a(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qa({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ga||(Ga=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.4 3.189V6.08c0 .392 0 .588.077.738a.7.7 0 0 0 .306.306c.15.076.345.076.737.076h2.892M7.2 12.1v2.1m5.6-3.5v3.5M10 8.95v5.25m5.6-5.608v5.048c0 1.176 0 1.764-.229 2.213a2.1 2.1 0 0 1-.917.918c-.45.229-1.038.229-2.214.229H7.76c-1.176 0-1.764 0-2.213-.229a2.1 2.1 0 0 1-.918-.918C4.4 15.404 4.4 14.816 4.4 13.64V6.36c0-1.176 0-1.764.23-2.213a2.1 2.1 0 0 1 .917-.918C5.997 3 6.584 3 7.76 3h2.249c.513 0 .77 0 1.012.058a2.1 2.1 0 0 1 .607.251c.212.13.393.312.756.675l2.232 2.232c.364.363.545.545.675.757q.174.282.251.607c.058.241.058.498.058 1.012"})))}const Ja=o.forwardRef($a);var Qa;function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ka.apply(this,arguments)}function Ya(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ka({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qa||(Qa=o.createElement("path",{d:"m8 1 6 3.474v6.947l-6 3.474-6-3.474V4.474zm0 1.46L3.263 5.202v5.49L8 13.436l4.737-2.742V5.202zm0 8.014A2.526 2.526 0 1 1 8 5.42a2.526 2.526 0 0 1 0 5.053M8 9.21a1.263 1.263 0 1 0 0-2.527A1.263 1.263 0 0 0 8 9.21"})))}const Xa=o.forwardRef(Ya);var el;function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tl.apply(this,arguments)}function nl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",tl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,el||(el=o.createElement("path",{d:"M3.157 3.302a5.333 5.333 0 0 0 5.878 8.63c.076-.5-.092-.98-.16-1.149-.154-.373-.66-1.011-1.502-1.896-.226-.236-.211-.418-.13-.958l.008-.06c.055-.37.147-.588 1.39-.786.632-.1.798.152 1.028.502l.078.115c.218.32.38.393.625.504.11.05.247.113.43.217.435.248.435.529.435 1.144v.07c0 .26-.026.49-.066.689a5.336 5.336 0 0 0-2.07-8.227c-.368.248-.874.6-1.051.843-.09.123-.218.755-.633.807a2.4 2.4 0 0 1-.41-.006c-.414-.027-.98-.064-1.162.429-.115.312-.135 1.16.238 1.6.06.07.07.2.03.346a.7.7 0 0 1-.194.332c-.064-.037-.192-.186-.28-.287-.208-.243-.47-.546-.807-.64-.123-.034-.257-.062-.389-.09-.366-.076-.78-.164-.876-.37-.071-.15-.07-.357-.07-.576 0-.278 0-.592-.136-.896a.85.85 0 0 0-.204-.287M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334"})))}const il=o.forwardRef(nl);var ol;function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},al.apply(this,arguments)}function ll(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",al({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ol||(ol=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668M10 4 8.333 8.333 4 10l1.667-4.333zM7 7.667a.667.667 0 1 0 0-1.334.667.667 0 0 0 0 1.334"})))}const rl=o.forwardRef(ll);var sl;function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dl.apply(this,arguments)}function cl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",dl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sl||(sl=o.createElement("path",{d:"m8.957 3.803-4-2-3.29 1.41v8.432l3.376-1.447 4 2 3.29-1.411V2.355zM.333 2.333 5 .333l4 2 4.202-1.8a.333.333 0 0 1 .465.306v10.828l-4.667 2-4-2-4.202 1.8a.334.334 0 0 1-.465-.306zm2.667 4h1.333v1.334H3zm2.667 0H7v1.334H5.667zm3.998-.042.826-.824.706.706-.824.826.824.825-.706.707-.826-.825-.824.825-.708-.707.825-.825-.825-.825.707-.707z"})))}const ul=o.forwardRef(cl);var pl;function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hl.apply(this,arguments)}function vl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",hl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 13 13",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,pl||(pl=o.createElement("path",{d:"m7.219.124 5.657 5.657-.943.943-.472-.471L8.633 9.08l-.471 2.357-.943.943L4.39 9.552l-3.3 3.3-.943-.943 3.3-3.3L.619 5.781l.943-.943 2.358-.471 2.828-2.828-.471-.472zm.472 2.357L4.577 5.595l-1.882.376 4.334 4.334.376-1.882 3.114-3.113z"})))}const gl=o.forwardRef(vl);var fl;function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ml.apply(this,arguments)}function yl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ml({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,fl||(fl=o.createElement("path",{d:"M5.65 5.983a2.333 2.333 0 1 0-3.3 0L4 7.633zM4 9.52 1.407 6.927a3.667 3.667 0 1 1 5.186 0zm0-4.186a1 1 0 1 1 0-2 1 1 0 0 1 0 2m6 8.3 1.65-1.65a2.333 2.333 0 1 0-3.3 0zm2.593-.706L10 15.519l-2.593-2.593a3.667 3.667 0 1 1 5.186 0M10 11.333a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})))}const wl=o.forwardRef(yl);var bl;function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cl.apply(this,arguments)}function xl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Cl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,bl||(bl=o.createElement("path",{d:"M2.333.333h7.334A.67.67 0 0 1 10.2.6L12 3v10a.666.666 0 0 1-.667.667H.667A.667.667 0 0 1 0 13V3L1.8.6a.67.67 0 0 1 .533-.267m8.334 4H1.333v8h9.334zM10.333 3l-1-1.333H2.667L1.667 3zM4 5.667V7a2 2 0 1 0 4 0V5.667h1.333V7a3.333 3.333 0 0 1-6.666 0V5.667z"})))}const Il=o.forwardRef(xl);var jl;function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ml.apply(this,arguments)}function kl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ml({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,jl||(jl=o.createElement("path",{d:"M9.733 5.333H14a1.333 1.333 0 0 1 1.333 1.334v1.402q0 .264-.1.508l-2.063 5.01a.67.67 0 0 1-.617.413H1.333a.667.667 0 0 1-.666-.667V6.667A.667.667 0 0 1 1.333 6h2.322a.67.67 0 0 0 .544-.282L7.835.567A.33.33 0 0 1 8.256.46l1.21.604a1.67 1.67 0 0 1 .87 1.902zM4.667 7.06v5.608h7.44L14 8.069V6.667H9.733a1.333 1.333 0 0 1-1.292-1.662l.602-2.366a.33.33 0 0 0-.174-.38l-.44-.22-3.14 4.448a2 2 0 0 1-.622.572m-1.334.274H2v5.334h1.333z"})))}const Tl=o.forwardRef(kl);var El;function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pl.apply(this,arguments)}function Ol(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Pl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,El||(El=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668m-2.333-4h3.666a.333.333 0 1 0 0-.666H5.667a1.667 1.667 0 0 1 0-3.334h.666V3h1.334v1.333h1.666v1.334H5.667a.333.333 0 1 0 0 .666h2.666a1.667 1.667 0 0 1 0 3.334h-.666V11H6.333V9.667H4.667z"})))}const Sl=o.forwardRef(Ol);var _l;function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nl.apply(this,arguments)}function Dl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Nl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_l||(_l=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668m.667-4.666h2V9h-2v1.333H6.333V9h-2V7.667h2V7h-2V5.667h1.724L4.643 4.253l.944-.944L7 4.724l1.414-1.415.943.944-1.414 1.414h1.724V7h-2z"})))}const Ll=o.forwardRef(Dl);var Al;function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rl.apply(this,arguments)}function Zl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Rl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 15",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Al||(Al=o.createElement("path",{d:"M4.649 11H7.35c.088-.801.497-1.463 1.16-2.185.076-.081.555-.578.612-.648a4 4 0 1 0-6.247-.002c.057.072.538.569.612.65.664.722 1.073 1.384 1.16 2.185m2.684 1.333H4.667V13h2.666zM1.836 9a5.333 5.333 0 1 1 8.327.001c-.414.515-1.496 1.332-1.496 2.332V13a1.333 1.333 0 0 1-1.334 1.333H4.667A1.334 1.334 0 0 1 3.333 13v-1.667c0-1-1.083-1.817-1.497-2.333m4.83-3.33h1.667l-3 4V7.002H3.667l3-4.003z"})))}const Fl=o.forwardRef(Zl);var zl;function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bl.apply(this,arguments)}function Vl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Bl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 12",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,zl||(zl=o.createElement("path",{d:"M3 0a4.67 4.67 0 0 1 4.609 3.93 4.32 4.32 0 0 1 3.058-1.263h3v1.666a4.333 4.333 0 0 1-4.334 4.334H7.667V12H6.333V6.667H5A4.667 4.667 0 0 1 .333 2V0zm9.333 4h-1.666a3 3 0 0 0-3 3v.333h1.666a3 3 0 0 0 3-3zM3 1.333H1.667V2A3.334 3.334 0 0 0 5 5.333h1.333v-.666A3.334 3.334 0 0 0 3 1.333"})))}const Hl=o.forwardRef(Vl);var Wl;function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ul.apply(this,arguments)}function Gl(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ul({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 13 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Wl||(Wl=o.createElement("path",{d:"M4 11H.667V5.667H4zM2.667 9.667V7H2v2.667zm4 0V4.333H6v5.334zM8 11H4.667V3H8zm2.667-1.333v-8H10v8zM12 11H8.667V.333H12zm.667 2.667H0v-1.334h12.667z"})))}const ql=o.forwardRef(Gl);var $l;function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jl.apply(this,arguments)}function Ql(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Jl({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,$l||($l=o.createElement("path",{d:"M12 4.333v8.662a.665.665 0 0 1-.662.672H.662A.66.66 0 0 1 0 13.005V.995C0 .637.3.333.668.333h7.33zM10.667 5H7.333V1.667h-6v10.666h9.334zM3.333 3.667h2V5h-2zm0 2.666h5.334v1.334H3.333zm0 2.667h5.334v1.333H3.333z"})))}const Kl=o.forwardRef(Ql);var Yl;function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xl.apply(this,arguments)}function er(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Xl({xmlns:"http://www.w3.org/2000/svg",width:22,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 22 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Yl||(Yl=o.createElement("path",{d:"M21.5 8.5v13.99a1.165 1.165 0 0 1-1.158 1.175H1.659A1.16 1.16 0 0 1 .5 22.51V1.49A1.17 1.17 0 0 1 1.664.333h11.67v7A1.167 1.167 0 0 0 14.5 8.5zm0-2.334h-5.833V.336zm-15.167 0V8.5h3.5V6.166zm0 4.667v2.333h9.334v-2.333zm0 4.667v2.333h9.334V15.5z"})))}const tr=o.forwardRef(er);var nr;function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ir.apply(this,arguments)}function or(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ir({xmlns:"http://www.w3.org/2000/svg",width:12,height:15,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 15",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,nr||(nr=o.createElement("path",{d:"M9.333 1.333h2A.667.667 0 0 1 12 2v12a.666.666 0 0 1-.667.667H.667A.667.667 0 0 1 0 14V2a.667.667 0 0 1 .667-.667h2V0H4v1.333h4V0h1.333zm0 1.334V4H8V2.667H4V4H2.667V2.667H1.333v10.666h9.334V2.667zM2.667 5.333h6.666v1.334H2.667zm0 2.667h6.666v1.333H2.667z"})))}const ar=o.forwardRef(or);var lr;function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rr.apply(this,arguments)}function sr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",rr({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 14",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,lr||(lr=o.createElement("path",{d:"M7 13.667A6.667 6.667 0 1 1 7 .333a6.667 6.667 0 0 1 0 13.334m0-1.334A5.334 5.334 0 1 0 7 1.665a5.334 5.334 0 0 0 0 10.668M3.667 5l2-2.333 2 2.333H6.333v2.667H5V5zm6.666 4-2 2.333-2-2.333h1.334V6.333H9V9z"})))}const dr=o.forwardRef(sr);var cr;function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ur.apply(this,arguments)}function pr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ur({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,cr||(cr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 8.75V5.667c0-1.4 0-2.1-.272-2.635a2.5 2.5 0 0 0-1.093-1.093c-.534-.272-1.235-.272-2.635-.272H7.334c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093c-.272.534-.272 1.234-.272 2.635v8.666c0 1.4 0 2.1.272 2.635A2.5 2.5 0 0 0 4.7 18.061c.535.272 1.235.272 2.635.272h2.667m1.666-9.166h-5M8.334 12.5H6.667m6.667-6.667H6.667M15.001 17.5v-5M12.5 15h5"})))}const hr=o.forwardRef(pr);var vr;function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gr.apply(this,arguments)}function fr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",gr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,vr||(vr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0 0V5.333A1.334 1.334 0 0 0 10.667 4h-2M4 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 0v8"})))}const mr=o.forwardRef(fr);var yr;function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wr.apply(this,arguments)}function br(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",wr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,yr||(yr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.667 4.667-.743-1.488c-.214-.428-.321-.642-.481-.798a1.3 1.3 0 0 0-.498-.308C6.733 2 6.495 2 6.015 2H3.468c-.746 0-1.12 0-1.405.145a1.34 1.34 0 0 0-.583.583c-.145.285-.145.659-.145 1.405v.534m0 0h10.133c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108V10.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874c-.427.218-.988.218-2.108.218H4.534c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874c-.218-.428-.218-.988-.218-2.108z"})))}const Cr=o.forwardRef(br);var xr;function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ir.apply(this,arguments)}function jr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ir({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,xr||(xr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.5 7.5h15m-15 5h15M10 2.5v15m-3.5-15h7c1.4 0 2.1 0 2.635.272a2.5 2.5 0 0 1 1.092 1.093C17.5 4.4 17.5 5.1 17.5 6.5v7c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-7c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2.5 15.6 2.5 14.9 2.5 13.5v-7c0-1.4 0-2.1.272-2.635a2.5 2.5 0 0 1 1.093-1.093C4.4 2.5 5.1 2.5 6.5 2.5"})))}const Mr=o.forwardRef(jr);var kr;function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tr.apply(this,arguments)}function Er(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Tr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,kr||(kr=o.createElement("path",{d:"M10 2.667H3.333v10.666h9.334v-8H10zm-8-.672c0-.366.298-.662.666-.662h8L14 4.667v9.328a.666.666 0 0 1-.662.672H2.662A.666.666 0 0 1 2 14.005zM11.771 8l-2.357 2.357-.943-.943L9.885 8 8.472 6.586l.942-.943zM4.23 8l2.358-2.357.942.943L6.115 8l1.413 1.414-.942.943z"})))}const Pr=o.forwardRef(Er);var Or,Sr;function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)}function Nr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",_r({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Or||(Or=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 1.335c-.45.006-.72.032-.938.144-.25.128-.455.331-.583.582-.111.219-.137.489-.143.939M13 1.335c.45.006.72.032.938.144.251.128.455.331.583.582.111.219.137.489.143.939m0 6c-.006.45-.032.72-.143.939-.128.25-.332.455-.583.582-.218.112-.488.138-.938.144m1.666-5.332v1.334M9.334 1.333h1.333m-7.2 13.334h5.067c.747 0 1.12 0 1.405-.146.251-.127.455-.331.583-.582.145-.286.145-.659.145-1.406V7.467c0-.747 0-1.12-.145-1.406a1.33 1.33 0 0 0-.583-.582c-.285-.146-.658-.146-1.405-.146H3.467c-.746 0-1.12 0-1.405.146-.25.128-.455.332-.583.582-.145.286-.145.659-.145 1.406v5.066c0 .747 0 1.12.145 1.406.128.25.332.455.583.582.285.146.659.146 1.405.146"}))),Sr||(Sr=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}const Dr=o.forwardRef(Nr);var Lr;function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ar.apply(this,arguments)}function Rr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ar({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Lr||(Lr=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.667 8.75V5.667c0-1.4 0-2.1-.272-2.635a2.5 2.5 0 0 0-1.093-1.093c-.534-.272-1.235-.272-2.635-.272H7.334c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093c-.272.534-.272 1.234-.272 2.635v8.666c0 1.4 0 2.1.272 2.635A2.5 2.5 0 0 0 4.7 18.061c.535.272 1.235.272 2.635.272h2.667m5-.833v-5M12.5 15h5"})))}const Zr=o.forwardRef(Rr);var Fr;function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zr.apply(this,arguments)}function Br(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",zr({width:18,height:16,viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Fr||(Fr=o.createElement("path",{d:"M9.72158 0.500004L17.6599 14.25C17.7331 14.3767 17.7716 14.5204 17.7716 14.6667C17.7716 14.8129 17.7331 14.9566 17.6599 15.0833C17.5868 15.21 17.4816 15.3152 17.3549 15.3883C17.2282 15.4615 17.0845 15.5 16.9382 15.5H1.06158C0.915305 15.5 0.771604 15.4615 0.644924 15.3883C0.518245 15.3152 0.413049 15.21 0.339912 15.0833C0.266774 14.9566 0.228271 14.8129 0.228271 14.6667C0.228272 14.5204 0.266778 14.3767 0.339917 14.25L8.27825 0.500004C8.35139 0.373331 8.45659 0.268142 8.58327 0.195009C8.70995 0.121875 8.85364 0.083374 8.99992 0.083374C9.14619 0.083374 9.28989 0.121875 9.41656 0.195009C9.54324 0.268142 9.64844 0.373331 9.72158 0.500004ZM8.16658 11.3333V13H9.83325V11.3333H8.16658ZM8.16658 5.5V9.66667H9.83325V5.5H8.16658Z",fill:"#FFAB00"})))}const Vr=o.forwardRef(Br);var Hr;function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wr.apply(this,arguments)}function Ur(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Wr({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Hr||(Hr=o.createElement("path",{d:"m12.866 3 9.526 16.5a1 1 0 0 1-.866 1.5H2.474a1 1 0 0 1-.866-1.5L11.134 3a1 1 0 0 1 1.732 0m-8.66 16h15.588L12 5.5zM11 16h2v2h-2zm0-7h2v5h-2z"})))}const Gr=o.forwardRef(Ur);var qr,$r;function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jr.apply(this,arguments)}function Qr(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Jr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,qr||(qr=o.createElement("path",{fillRule:"evenodd",d:"M8.667 4.665H7.333v5.132a4.5 4.5 0 0 1 1.334-1.793zm4 2.488V5.332H10V2.665H3.333v10.667H7.39c.222.5.533.95.912 1.333h-5.64A.667.667 0 0 1 2 14.004V1.994c0-.366.298-.662.666-.662h8L14 4.665v3.093a4.5 4.5 0 0 0-1.333-.605M6 8.665H4.667v2.667H6z",clipRule:"evenodd"})),$r||($r=o.createElement("path",{d:"M12.75 8v3.333H15L11.25 16v-3.333H9z"})))}const Kr=o.forwardRef(Qr);var Yr,Xr;function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},es.apply(this,arguments)}function ts(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",es({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Yr||(Yr=o.createElement("path",{fillRule:"evenodd",d:"M8.667 4.665H7.333v5.132a4.5 4.5 0 0 1 1.334-1.793zm4 2.488V5.332H10V2.665H3.333v10.667H7.39c.222.5.533.95.912 1.333h-5.64A.667.667 0 0 1 2 14.004V1.994c0-.366.298-.662.666-.662h8L14 4.665v3.093a4.5 4.5 0 0 0-1.333-.605M6 8.665H4.667v2.667H6z",clipRule:"evenodd"})),Xr||(Xr=o.createElement("path",{d:"m11.5 8.5 3 3-1 1-1.293-1.293v3.95h-1.414v-3.951L9.5 12.5l-1-1z"})))}const ns=o.forwardRef(ts);var is,os;function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},as.apply(this,arguments)}function ls(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",as({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,is||(is=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66667 4.66536H7.33333V9.79715C7.62177 9.09209 8.08396 8.47654 8.66667 8.00374V4.66536ZM12.6667 7.1527V5.33203H10V2.66536H3.33333V13.332H7.38856C7.61127 13.8311 7.92216 14.2821 8.30144 14.6654H2.662C2.48692 14.6641 2.31934 14.5941 2.19548 14.4704C2.07161 14.3466 2.0014 14.1791 2 14.004V1.99336C2 1.62803 2.298 1.33203 2.666 1.33203H10.6667L14 4.66536V7.75774C13.5968 7.48788 13.1476 7.28144 12.6667 7.1527ZM6 8.66536H4.66667V11.332H6V8.66536Z",fill:"#97A0AF"})),os||(os=o.createElement("path",{d:"M12.2885 7.99868L15.4639 13.4987C15.4931 13.5494 15.5085 13.6068 15.5085 13.6653C15.5085 13.7239 15.4931 13.7813 15.4639 13.832C15.4346 13.8827 15.3925 13.9248 15.3419 13.954C15.2912 13.9833 15.2337 13.9987 15.1752 13.9987H8.82454C8.76602 13.9987 8.70854 13.9833 8.65787 13.954C8.6072 13.9248 8.56512 13.8827 8.53587 13.832C8.50661 13.7813 8.49121 13.7239 8.49121 13.6653C8.49121 13.6068 8.50661 13.5494 8.53587 13.4987L11.7112 7.99868C11.7405 7.94801 11.7825 7.90594 11.8332 7.87669C11.8839 7.84743 11.9414 7.83203 11.9999 7.83203C12.0584 7.83203 12.1159 7.84743 12.1665 7.87669C12.2172 7.90594 12.2593 7.94801 12.2885 7.99868ZM11.6665 12.332V12.9987H12.3332V12.332H11.6665ZM11.6665 9.99868V11.6653H12.3332V9.99868H11.6665Z",fill:"#FFAB00"})))}const rs=o.forwardRef(ls);var ss;function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ds.apply(this,arguments)}function cs(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ds({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ss||(ss=o.createElement("path",{d:"M3.333 8.333c0 .209.308.572 1.02.929C5.276 9.723 6.585 10 8 10s2.724-.277 3.647-.738c.712-.357 1.02-.72 1.02-.929V6.886C11.567 7.566 9.885 8 8 8s-3.567-.435-4.667-1.114zm9.334 1.886c-1.1.68-2.782 1.114-4.667 1.114S4.433 10.9 3.333 10.22v1.448c0 .208.308.572 1.02.928.923.462 2.232.738 3.647.738s2.724-.276 3.647-.738c.712-.356 1.02-.72 1.02-.928zM2 11.667V5c0-1.657 2.687-3 6-3s6 1.343 6 3v6.667c0 1.656-2.687 3-6 3s-6-1.344-6-3m6-5c1.415 0 2.724-.277 3.647-.738.712-.357 1.02-.72 1.02-.929s-.308-.572-1.02-.929C10.724 3.61 9.415 3.333 8 3.333s-2.724.277-3.647.738c-.712.357-1.02.72-1.02.929s.308.572 1.02.929c.923.461 2.232.738 3.647.738"})))}const us=o.forwardRef(cs);var ps,hs,vs;function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gs.apply(this,arguments)}function fs(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",gs({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ps||(ps=o.createElement("path",{d:"M3.33333 8.33333C3.33333 8.542 3.64067 8.90533 4.35333 9.262C5.276 9.72333 6.58467 10 8 10C9.41533 10 10.724 9.72333 11.6467 9.262C12.3593 8.90533 12.6667 8.542 12.6667 8.33333V6.886C11.5667 7.566 9.88467 8 8 8C6.11533 8 4.43333 7.56533 3.33333 6.886V8.33333ZM12.6667 10.2193C11.5667 10.8993 9.88467 11.3333 8 11.3333C6.11533 11.3333 4.43333 10.8987 3.33333 10.2193V11.6667C3.33333 11.8753 3.64067 12.2387 4.35333 12.5953C5.276 13.0567 6.58467 13.3333 8 13.3333C9.41533 13.3333 10.724 13.0567 11.6467 12.5953C12.3593 12.2387 12.6667 11.8753 12.6667 11.6667V10.2193ZM2 11.6667V5C2 3.34333 4.68667 2 8 2C11.3133 2 14 3.34333 14 5V11.6667C14 13.3233 11.3133 14.6667 8 14.6667C4.68667 14.6667 2 13.3233 2 11.6667ZM8 6.66667C9.41533 6.66667 10.724 6.39 11.6467 5.92867C12.3593 5.572 12.6667 5.20867 12.6667 5C12.6667 4.79133 12.3593 4.428 11.6467 4.07133C10.724 3.61 9.41533 3.33333 8 3.33333C6.58467 3.33333 5.276 3.61 4.35333 4.07133C3.64067 4.428 3.33333 4.79133 3.33333 5C3.33333 5.20867 3.64067 5.572 4.35333 5.92867C5.276 6.39 6.58467 6.66667 8 6.66667Z",fill:"currentColor"})),hs||(hs=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.5C7 9.01466 9.01466 7 11.5 7C13.9853 7 16 9.01466 16 11.5C16 13.9853 13.9853 16 11.5 16C9.01466 16 7 13.9853 7 11.5Z",fill:"white"})),vs||(vs=o.createElement("path",{d:"M12.75 8V11.3333H15L11.25 16V12.6667H9L12.75 8Z",fill:"currentColor"})))}const ms=o.forwardRef(fs);var ys,ws,bs;function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cs.apply(this,arguments)}function xs(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Cs({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ys||(ys=o.createElement("path",{d:"M3.33333 8.33333C3.33333 8.542 3.64067 8.90533 4.35333 9.262C5.276 9.72333 6.58467 10 8 10C9.41533 10 10.724 9.72333 11.6467 9.262C12.3593 8.90533 12.6667 8.542 12.6667 8.33333V6.886C11.5667 7.566 9.88467 8 8 8C6.11533 8 4.43333 7.56533 3.33333 6.886V8.33333ZM12.6667 10.2193C11.5667 10.8993 9.88467 11.3333 8 11.3333C6.11533 11.3333 4.43333 10.8987 3.33333 10.2193V11.6667C3.33333 11.8753 3.64067 12.2387 4.35333 12.5953C5.276 13.0567 6.58467 13.3333 8 13.3333C9.41533 13.3333 10.724 13.0567 11.6467 12.5953C12.3593 12.2387 12.6667 11.8753 12.6667 11.6667V10.2193ZM2 11.6667V5C2 3.34333 4.68667 2 8 2C11.3133 2 14 3.34333 14 5V11.6667C14 13.3233 11.3133 14.6667 8 14.6667C4.68667 14.6667 2 13.3233 2 11.6667ZM8 6.66667C9.41533 6.66667 10.724 6.39 11.6467 5.92867C12.3593 5.572 12.6667 5.20867 12.6667 5C12.6667 4.79133 12.3593 4.428 11.6467 4.07133C10.724 3.61 9.41533 3.33333 8 3.33333C6.58467 3.33333 5.276 3.61 4.35333 4.07133C3.64067 4.428 3.33333 4.79133 3.33333 5C3.33333 5.20867 3.64067 5.572 4.35333 5.92867C5.276 6.39 6.58467 6.66667 8 6.66667Z",fill:"currentColor"})),ws||(ws=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.5C7 9.01466 9.01466 7 11.5 7C13.9853 7 16 9.01466 16 11.5C16 13.9853 13.9853 16 11.5 16C9.01466 16 7 13.9853 7 11.5Z",fill:"white"})),bs||(bs=o.createElement("path",{d:"M11.5 8.5L14.5 11.4993L13.4995 12.4998L12.207 11.2073V15.1561H10.793V11.2059L9.50047 12.4998L8.5 11.4993L11.5 8.5Z",fill:"currentColor"})))}const Is=o.forwardRef(xs);var js;function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ms.apply(this,arguments)}function ks(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ms({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,js||(js=o.createElement("path",{fillRule:"evenodd",d:"M8.5 13a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m0-6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3M10 2.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0",clipRule:"evenodd"})))}const Ts=o.forwardRef(ks);var Es;function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ps.apply(this,arguments)}function Os(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ps({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Es||(Es=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.333 17.5v-1.667a3.335 3.335 0 0 0-2.5-3.228m-2.917-9.863a3.334 3.334 0 0 1 0 6.182m1.25 8.576c0-1.553 0-2.33-.254-2.942a3.33 3.33 0 0 0-1.804-1.804c-.612-.254-1.389-.254-2.942-.254h-2.5c-1.553 0-2.33 0-2.942.254a3.33 3.33 0 0 0-1.804 1.804c-.254.612-.254 1.389-.254 2.942m9.583-11.667a3.333 3.333 0 1 1-6.666 0 3.333 3.333 0 0 1 6.666 0"})))}const Ss=o.forwardRef(Os);var _s,Ns;function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ds.apply(this,arguments)}function Ls(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ds({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_s||(_s=o.createElement("path",{d:"M-6.10352e-05 8.00098C-6.10352e-05 3.5827 3.58166 0.000976562 7.99994 0.000976562C12.4182 0.000976562 15.9999 3.5827 15.9999 8.00098C15.9999 12.4193 12.4182 16.001 7.99994 16.001C3.58166 16.001 -6.10352e-05 12.4193 -6.10352e-05 8.00098Z",fill:"currentColor"})),Ns||(Ns=o.createElement("path",{d:"M6.70585 10.3542L12.0585 5.00098L12.8825 5.82437L6.70585 12.001L3 8.29513L3.82339 7.47174L6.70585 10.3542Z",fill:"white"})))}const As=o.forwardRef(Ls);var Rs,Zs;function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fs.apply(this,arguments)}function zs(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Fs({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Rs||(Rs=o.createElement("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H24C28.4183 0 32 3.58172 32 8V24C32 28.4183 28.4183 32 24 32H8C3.58172 32 0 28.4183 0 24V8Z",fill:"#EBECF0"})),Zs||(Zs=o.createElement("path",{d:"M22.1905 23H10V21.4762C10 20.4658 10.4014 19.4969 11.1158 18.7825C11.8302 18.068 12.7992 17.6667 13.8095 17.6667H18.381C19.3913 17.6667 20.3603 18.068 21.0747 18.7825C21.7891 19.4969 22.1905 20.4658 22.1905 21.4762V23ZM16.0952 16.1429C15.4949 16.1429 14.9005 16.0246 14.3458 15.7949C13.7912 15.5651 13.2872 15.2284 12.8627 14.8039C12.4383 14.3794 12.1015 13.8755 11.8718 13.3208C11.6421 12.7662 11.5238 12.1718 11.5238 11.5714C11.5238 10.9711 11.6421 10.3766 11.8718 9.82202C12.1015 9.26739 12.4383 8.76344 12.8627 8.33894C13.2872 7.91444 13.7912 7.57772 14.3458 7.34798C14.9005 7.11824 15.4949 7 16.0952 7C17.3077 7 18.4704 7.48163 19.3277 8.33894C20.185 9.19625 20.6667 10.359 20.6667 11.5714C20.6667 12.7838 20.185 13.9466 19.3277 14.8039C18.4704 15.6612 17.3077 16.1429 16.0952 16.1429Z",fill:"currentColor"})))}const Bs=o.forwardRef(zs);var Vs;function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hs.apply(this,arguments)}function Ws(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Hs({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Vs||(Vs=o.createElement("path",{d:"m8.577 2 6.35 11a.667.667 0 0 1-.577 1H1.65a.667.667 0 0 1-.578-1l6.35-11a.667.667 0 0 1 1.155 0m-1.244 8.667V12h1.333v-1.334zm0-4.667v3.333h1.333V6z"})))}const Us=o.forwardRef(Ws);var Gs;function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qs.apply(this,arguments)}function $s(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qs({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Gs||(Gs=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 5c0 1.657-4.03 3-9 3S3 6.657 3 5m18 0c0-1.657-4.03-3-9-3S3 3.343 3 5m18 0v14c0 1.66-4 3-9 3s-9-1.34-9-3V5m18 7c0 1.66-4 3-9 3s-9-1.34-9-3"})))}const Js=o.forwardRef($s);var Qs;function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ks.apply(this,arguments)}function Ys(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ks({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qs||(Qs=o.createElement("path",{d:"M2 2c6.627 0 12 5.373 12 12h-2C12 8.477 7.523 4 2 4zm0 4.667A7.333 7.333 0 0 1 9.333 14h-2A5.333 5.333 0 0 0 2 8.667zm0 4.666A2.667 2.667 0 0 1 4.667 14H2z"})))}const Xs=o.forwardRef(Ys);var ed;function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},td.apply(this,arguments)}function nd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",td({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ed||(ed=o.createElement("path",{d:"m8 8.391 2.829 2.828-.944.944-1.218-1.219v3.723H7.333v-3.724l-1.218 1.22-.944-.944zm0-7.057a4.667 4.667 0 0 1 4.636 4.13 3.667 3.667 0 0 1-.635 7.189V11.31a2.333 2.333 0 1 0-.742-4.607 3.333 3.333 0 1 0-6.518 0 2.333 2.333 0 1 0-.861 4.587l.12.02v1.343a3.667 3.667 0 0 1-.636-7.19A4.667 4.667 0 0 1 8 1.334"})))}const id=o.forwardRef(nd);var od;function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ad.apply(this,arguments)}function ld(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ad({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 48 48",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,od||(od=o.createElement("path",{d:"M24 44C12.954 44 4 35.046 4 24S12.954 4 24 4s20 8.954 20 20-8.954 20-20 20m-1.994-12 14.14-14.142-2.828-2.828-11.312 11.314-5.658-5.658-2.828 2.828z"})))}const rd=o.forwardRef(ld);var sd;function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dd.apply(this,arguments)}function cd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",dd({xmlns:"http://www.w3.org/2000/svg",width:8,height:8,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 8 8",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sd||(sd=o.createElement("path",{d:"M4.75 0v3.333H7L3.25 8V4.667H1z"})))}const ud=o.forwardRef(cd);var pd;function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hd.apply(this,arguments)}function vd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",hd({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,pd||(pd=o.createElement("path",{d:"M12.55 14.5h-9.1a1.95 1.95 0 0 1-1.95-1.95V2.15a.65.65 0 0 1 .65-.65h9.1a.65.65 0 0 1 .65.65v7.8h2.6v2.6a1.95 1.95 0 0 1-1.95 1.95m-.65-3.25v1.3a.65.65 0 0 0 1.3 0v-1.3zm-1.3 1.95V2.8H2.8v9.75a.65.65 0 0 0 .65.65zM4.1 4.75h5.2v1.3H4.1zm0 2.6h5.2v1.3H4.1zm0 2.6h3.25v1.3H4.1z"})))}const gd=o.forwardRef(vd);var fd;function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},md.apply(this,arguments)}function yd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",md({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,fd||(fd=o.createElement("path",{d:"M13.333 14.666H12v-1.333a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v1.333H2.667v-1.333A3.333 3.333 0 0 1 6 9.999h4a3.333 3.333 0 0 1 3.333 3.334zM8 8.666a4 4 0 1 1 0-8 4 4 0 0 1 0 8m0-1.333a2.667 2.667 0 1 0 0-5.334 2.667 2.667 0 0 0 0 5.334"})))}const wd=o.forwardRef(yd);var bd;function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cd.apply(this,arguments)}function xd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Cd({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,bd||(bd=o.createElement("path",{d:"M4 5.333v-.667a4 4 0 1 1 8 0v.667h1.333a.667.667 0 0 1 .667.666v8a.667.667 0 0 1-.667.667H2.667A.667.667 0 0 1 2 13.999V6a.667.667 0 0 1 .667-.666zm8.667 1.333H3.333v6.667h9.334zm-5.334 3.821a1.333 1.333 0 1 1 1.334 0V12H7.333zm-2-5.154h5.334v-.667a2.667 2.667 0 0 0-5.334 0z"})))}const Id=o.forwardRef(xd);var jd;function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Md.apply(this,arguments)}function kd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Md({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,jd||(jd=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12h18M3 6h18M3 18h18"})))}const Td=o.forwardRef(kd);var Ed;function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pd.apply(this,arguments)}function Od(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Pd({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ed||(Ed=o.createElement("path",{d:"M18.574 13.711a.91.91 0 0 0 .898-.898.895.895 0 0 0-.898-.898c-.499 0-.898.4-.898.898 0 .5.4.898.898.898m-4.425 0a.91.91 0 0 0 .898-.898c0-.498-.4-.898-.898-.898-.5 0-.898.4-.898.898 0 .5.399.898.898.898m6.567 5.04a.35.35 0 0 0-.172.37c0 .048 0 .097.025.147.098.417.294 1.081.294 1.106 0 .073.025.122.025.172a.22.22 0 0 1-.221.22c-.05 0-.074-.024-.123-.048l-1.449-.836a.8.8 0 0 0-.344-.098c-.073 0-.147 0-.196.024-.688.197-1.4.295-2.161.295-3.66 0-6.607-2.457-6.607-5.505s2.947-5.505 6.607-5.505c3.659 0 6.606 2.458 6.606 5.505 0 1.647-.884 3.146-2.284 4.154zM16.673 8.099a9 9 0 0 0-.28-.005c-4.174 0-7.606 2.86-7.606 6.505 0 .554.08 1.09.228 1.6h-.089a10 10 0 0 1-2.584-.368c-.074-.025-.148-.025-.222-.025a.83.83 0 0 0-.418.123l-1.748 1.005c-.05.025-.099.05-.148.05a.273.273 0 0 1-.27-.27c0-.074.024-.123.049-.197.024-.024.246-.834.369-1.324 0-.05.024-.123.024-.172a.56.56 0 0 0-.221-.442C2.058 13.376 1 11.586 1 9.598 1 5.945 4.57 3 8.95 3c3.765 0 6.93 2.169 7.723 5.098zm-5.154.418c.573 0 1.026-.477 1.026-1.026 0-.573-.453-1.026-1.026-1.026s-1.026.453-1.026 1.026.453 1.026 1.026 1.026m-5.26 0c.573 0 1.027-.477 1.027-1.026 0-.573-.454-1.026-1.027-1.026-.572 0-1.026.453-1.026 1.026s.454 1.026 1.026 1.026"})))}const Sd=o.forwardRef(Od);var _d;function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nd.apply(this,arguments)}function Dd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Nd({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_d||(_d=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2 6.667v2.666M5 4v8M8 2v12m3-10v8m3-5.333v2.666"})))}const Ld=o.forwardRef(Dd);var Ad;function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rd.apply(this,arguments)}function Zd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Rd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ad||(Ad=o.createElement("path",{d:"M5 4.167h1.667v11.666H5zm8.333 0H15v11.666h-1.667z"})))}const Fd=o.forwardRef(Zd);var zd;function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bd.apply(this,arguments)}function Vd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Bd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,zd||(zd=o.createElement("path",{d:"M7.5 7.069v5.863L12.525 10zM6.46 4.534l8.757 5.108a.417.417 0 0 1 0 .719L6.46 15.469a.418.418 0 0 1-.626-.362V4.893a.417.417 0 0 1 .626-.36"})))}const Hd=o.forwardRef(Vd);var Wd;function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ud.apply(this,arguments)}function Gd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ud({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Wd||(Wd=o.createElement("path",{d:"M15.926 3.333a.74.74 0 0 1 .74.741v11.852a.74.74 0 0 1-.74.74H4.074a.74.74 0 0 1-.74-.74V4.074a.74.74 0 0 1 .74-.74zM9.26 4.815H4.815v10.37h4.444v-2.963h1.482v2.963h4.444V4.815h-4.444v2.963H9.259zm2.963 2.963L14.445 10l-2.223 2.222v-1.481H7.778v1.481L5.556 10l2.222-2.222v1.481h4.444z"})))}const qd=o.forwardRef(Gd);var $d;function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jd.apply(this,arguments)}function Qd(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Jd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,$d||($d=o.createElement("path",{d:"M14.358 15.045a6.667 6.667 0 1 1 1.102-1.218L13.334 10h2a5.333 5.333 0 1 0-1.64 3.848z"})))}const Kd=o.forwardRef(Qd);var Yd;function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xd.apply(this,arguments)}function ec(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Xd({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Yd||(Yd=o.createElement("path",{d:"M7.527 10 5 8.217v3.566zM3.99 14.537a.418.418 0 0 1-.657-.341V5.804a.417.417 0 0 1 .657-.34L9.934 9.66a.417.417 0 0 1 0 .68zm8.51-2.754L15.027 10 12.5 8.217zm-1.666-5.979a.417.417 0 0 1 .656-.34l5.944 4.196a.416.416 0 0 1 0 .68l-5.944 4.197a.418.418 0 0 1-.656-.341z"})))}const tc=o.forwardRef(ec);var nc;function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ic.apply(this,arguments)}function oc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ic({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 18 18",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,nc||(nc=o.createElement("path",{fillRule:"evenodd",d:"M9 .666A8.336 8.336 0 0 0 .667 8.999c0 4.6 3.733 8.334 8.333 8.334s8.333-3.734 8.333-8.334S13.6.666 9 .666m-.834 12.5v-5h1.667v5zm0-8.333v1.666h1.667V4.833z",clipRule:"evenodd"})))}const ac=o.forwardRef(oc);var lc;function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rc.apply(this,arguments)}function sc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",rc({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,lc||(lc=o.createElement("path",{fillRule:"evenodd",d:"M6 0C2.688 0 0 2.688 0 6s2.688 6 6 6 6-2.688 6-6-2.688-6-6-6m-.6 9V5.4h1.2V9zm0-6v1.2h1.2V3z",clipRule:"evenodd"})))}const dc=o.forwardRef(sc);var cc;function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uc.apply(this,arguments)}function pc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",uc({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 18 18",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,cc||(cc=o.createElement("path",{fillRule:"evenodd",d:"M.667 9C.667 4.4 4.392.665 8.992.665c4.608 0 8.342 3.733 8.342 8.333s-3.734 8.334-8.342 8.334c-4.6 0-8.325-3.734-8.325-8.334m11.642-3.334h2.458a6.7 6.7 0 0 0-3.608-2.967c.5.925.883 1.925 1.15 2.967M9 2.366c.692 1 1.234 2.108 1.592 3.3H7.409c.358-1.192.9-2.3 1.591-3.3M2.334 8.999c0 .575.083 1.134.216 1.667h2.817c-.067-.55-.117-1.1-.117-1.667 0-.566.05-1.116.117-1.666H2.55a7 7 0 0 0-.216 1.666m.9 3.334h2.458c.267 1.041.65 2.041 1.15 2.966a6.66 6.66 0 0 1-3.608-2.966m0-6.667h2.458c.267-1.042.65-2.042 1.15-2.967a6.66 6.66 0 0 0-3.608 2.967M9 15.633a11.7 11.7 0 0 1-1.591-3.3h3.183A11.7 11.7 0 0 1 9 15.633M6.917 8.999c0 .567.058 1.117.133 1.667h3.9c.075-.55.134-1.1.134-1.667 0-.566-.059-1.125-.134-1.666h-3.9c-.075.541-.133 1.1-.133 1.666m4.242 6.3c.5-.925.883-1.925 1.15-2.966h2.458a6.7 6.7 0 0 1-3.608 2.966M12.75 9a14 14 0 0 1-.116 1.667h2.816A7 7 0 0 0 15.667 9c0-.575-.083-1.133-.217-1.666h-2.816c.066.55.116 1.1.116 1.666",clipRule:"evenodd"})))}const hc=o.forwardRef(pc);var vc;function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gc.apply(this,arguments)}function fc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",gc({xmlns:"http://www.w3.org/2000/svg",width:53,height:28,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 53 28",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,vc||(vc=o.createElement("path",{d:"m28 22.758-.01-.186c-.286-2.08-3.189-2.077-3.48 0l-.01.186-.01.313-.029.313a5.247 5.247 0 0 1-5.474 4.61l-.318-.025-.308-.044a5.26 5.26 0 0 1-4.336-5.704l.044-.308.058-.314.05-.254c.404-3.04-2.887-5.097-5.442-3.397l-.21.152-.254.19-.264.176c-3.405 2.068-7.73-.172-7.997-4.15L0 13.998l.01-.318c.267-3.972 4.594-6.216 7.997-4.15l.264.176.254.19.21.157c2.553 1.697 5.844-.356 5.441-3.397l-.049-.26-.058-.307-.044-.313a5.256 5.256 0 0 1 4.33-5.7l.314-.044.313-.024a5.25 5.25 0 0 1 5.48 4.6l.029.313.01.317.01.181c.294 2.076 3.192 2.08 3.48 0l.01-.18.01-.319.029-.312c.342-2.731 2.732-4.748 5.485-4.6l.312.024.313.044a5.25 5.25 0 0 1 4.326 5.7l-.039.313-.058.308-.05.259c-.412 3.031 2.893 5.1 5.436 3.397l.21-.156.255-.19.269-.177c3.407-2.066 7.721.178 7.997 4.15l.01.318-.01.318c-.265 3.97-4.599 6.222-7.997 4.15l-.269-.175-.254-.191-.21-.152c-2.547-1.704-5.85.364-5.436 3.397l.049.255.058.313.04.312a5.25 5.25 0 0 1-4.336 5.7l-.309.044-.317.025a5.253 5.253 0 0 1-5.475-4.615l-.03-.313-.01-.317"})))}const mc=o.forwardRef(fc);var yc;function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wc.apply(this,arguments)}function bc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",wc({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,yc||(yc=o.createElement("path",{d:"M9.333 10v1.394A4 4 0 0 0 4 15.166H2.667A5.334 5.334 0 0 1 9.333 10M8 9.167c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m0-1.333A2.666 2.666 0 1 0 8 2.5a2.666 2.666 0 1 0 0 5.334m4 4v-2h1.333v2h2v1.333h-2v2H12v-2h-2v-1.333z"})))}const Cc=o.forwardRef(bc);var xc;function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ic.apply(this,arguments)}function jc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ic({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,xc||(xc=o.createElement("path",{d:"M8 9.833v1.333a4 4 0 0 0-4 4H2.667A5.333 5.333 0 0 1 8 9.833m0-.667c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m0-1.333a2.666 2.666 0 1 0 0-5.334 2.666 2.666 0 1 0 0 5.334m1.73 5.208a2.34 2.34 0 0 1 0-1.082l-.661-.382.666-1.155.662.382c.265-.251.586-.437.936-.541v-.764h1.334v.764c.354.105.674.293.936.541l.662-.382.666 1.155-.66.382a2.34 2.34 0 0 1 0 1.081l.66.382-.666 1.155-.662-.382a2.3 2.3 0 0 1-.936.541v.763h-1.334v-.763a2.3 2.3 0 0 1-.936-.541l-.662.382-.666-1.155zm2.27.458a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})))}const Mc=o.forwardRef(jc);var kc;function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tc.apply(this,arguments)}function Ec(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Tc({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,kc||(kc=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.46 12.722a7.007 7.007 0 1 1-9.256-9.151m9.277 3.744c.28.677.452 1.393.51 2.121.015.18.022.27-.013.351a.37.37 0 0 1-.155.167c-.077.042-.175.042-.37.042h-5.885c-.197 0-.295 0-.37-.038a.35.35 0 0 1-.153-.153c-.038-.075-.038-.173-.038-.37V3.55c0-.195 0-.292.042-.37a.37.37 0 0 1 .167-.154c.081-.036.171-.029.351-.014a7.01 7.01 0 0 1 5.914 4.303"})))}const Pc=o.forwardRef(Ec);var Oc;function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sc.apply(this,arguments)}function _c(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Sc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Oc||(Oc=o.createElement("path",{d:"M12 3.2h1.067v3.2h-1.066V4.265H9.867V3.199zm-8.533 0h2.134v1.066H3.467v2.133H2.401V3.2zm8.534 8.533V9.599h1.066v3.2h-3.2v-1.066zm-8.534 0h2.134v1.066H2.4V9.6h1.066z"})))}const Nc=o.forwardRef(_c);var Dc;function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lc.apply(this,arguments)}function Ac(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Lc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Dc||(Dc=o.createElement("path",{d:"M2 12.665h12V14H2zM8.667 8.78l4.047-4.048.943.943L8 11.332 2.343 5.675l.943-.943 4.047 4.047V1.332h1.334z"})))}const Rc=o.forwardRef(Ac);var Zc;function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fc.apply(this,arguments)}function zc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Fc({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Zc||(Zc=o.createElement("path",{d:"m10 11.173 4.95-4.95 1.414 1.414L10 14 3.636 7.637 5.05 6.223z"})))}const Bc=o.forwardRef(zc);var Vc;function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hc.apply(this,arguments)}function Wc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Hc({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Vc||(Vc=o.createElement("path",{d:"m11.172 10-4.95-4.95 1.414-1.413L14 10l-6.364 6.364-1.414-1.414z"})))}const Uc=o.forwardRef(Wc);var Gc;function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qc.apply(this,arguments)}function $c(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qc({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Gc||(Gc=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3m.08 4h.01M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10"})))}const Jc=o.forwardRef($c);var Qc;function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kc.apply(this,arguments)}function Yc(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Kc({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qc||(Qc=o.createElement("path",{d:"M7.333 2.67H14v1.334H7.333zM4 4.67v2.667H2.667V4.671h-2l2.666-2.667L6 4.67zm0 6.667h2l-2.667 2.667-2.666-2.667h2V8.671H4zm3.333.667H14v1.333H7.333zM6 7.337h8v1.334H6z"})))}const Xc=o.forwardRef(Yc);var eu;function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tu.apply(this,arguments)}function nu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",tu({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,eu||(eu=o.createElement("path",{d:"M7.333 3.167H14V6.5H7.333zM4 5.167v2.666H2.667V5.167h-2L3.333 2.5 6 5.167zm0 6.666h2L3.333 14.5.667 11.833h2V9.167H4zm3.333.667H14v1.333H7.333zm0-3.667H14v1.334H7.333z"})))}const iu=o.forwardRef(nu);var ou;function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},au.apply(this,arguments)}function lu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",au({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ou||(ou=o.createElement("path",{d:"M7.333 3.167H14V10H7.333zM4 5.167v2.666H2.667V5.167h-2L3.333 2.5 6 5.167zm0 6.666h2L3.333 14.5.667 11.833h2V9.167H4zm3.333.667H14v1.333H7.333z"})))}const ru=o.forwardRef(lu);var su;function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},du.apply(this,arguments)}function cu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",du({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,su||(su=o.createElement("path",{d:"M4 22a8 8 0 0 1 16 0h-2a6 6 0 1 0-12 0zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6m0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4"})))}const uu=o.forwardRef(cu);var pu;function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hu.apply(this,arguments)}function vu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",hu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,pu||(pu=o.createElement("path",{d:"m17.657 14.827-1.414-1.414 1.414-1.414a3.998 3.998 0 0 0-1.298-6.524A4 4 0 0 0 12 6.342l-1.414 1.414-1.414-1.414 1.414-1.414a6 6 0 0 1 8.485 8.485zm-2.829 2.829-1.414 1.414a5.999 5.999 0 1 1-8.485-8.485l1.414-1.414 1.414 1.414-1.414 1.414A4 4 0 0 0 12 17.656l1.414-1.414zm0-9.9 1.415 1.415-7.071 7.07-1.415-1.414z"})))}const gu=o.forwardRef(vu);var fu,mu;function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yu.apply(this,arguments)}function wu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",yu({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,fu||(fu=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"m4.7 9.414-1.413 1.414 1.885 1.886 7.542-7.543-1.885-1.885L9.413 4.7l.944.942-.944.944-.942-.943-.943.943.943.943-.943.943-.943-.943-.943.943.943.942-.943.944zm6.6-7.542L14.128 4.7a.667.667 0 0 1 0 .942l-8.485 8.486a.667.667 0 0 1-.943 0L1.872 11.3a.667.667 0 0 1 0-.943l8.485-8.485a.667.667 0 0 1 .943 0m-1.887 10.37.944-.943 1.494 1.495h.943v-.942l-1.495-1.496.943-.942L14 11.17V14h-2.828zM3.757 6.585 1.871 4.7a.667.667 0 0 1 0-.944l1.886-1.885a.667.667 0 0 1 .943 0l1.887 1.885-.944.944-1.414-1.415-.943.943L4.7 5.642z"}))),mu||(mu=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const bu=o.forwardRef(wu);var Cu,xu;function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iu.apply(this,arguments)}function ju(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Iu({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Cu||(Cu=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M3.333 10.5v1.333c0 .703.634 1.334 1.334 1.334h2V14.5h-2A2.667 2.667 0 0 1 2 11.833V10.5zM12 7.167l2.933 7.333h-1.436l-.801-2H9.969l-.799 2H7.734l2.933-7.333zm-.667 1.923-.831 2.077h1.661zM2 2.5h4a2 2 0 0 1 1.49 3.333A2 2 0 0 1 6 9.167H2zm4 4H3.333v1.333H6A.667.667 0 1 0 6 6.5m5.333-4A2.667 2.667 0 0 1 14 5.167V6.5h-1.333V5.167a1.333 1.333 0 0 0-1.334-1.334h-2V2.5zM6 3.833H3.333v1.334H6a.667.667 0 1 0 0-1.334"}))),xu||(xu=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 .5h16v16H0z"})))))}const Mu=o.forwardRef(ju);var ku;function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tu.apply(this,arguments)}function Eu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Tu({xmlns:"http://www.w3.org/2000/svg",width:165,height:19,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 165 19",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ku||(ku=o.createElement("path",{d:"M160.646 18.354a.5.5 0 0 0 .708 0l3.182-3.182a.5.5 0 0 0-.708-.708L161 17.293l-2.828-2.828a.501.501 0 0 0-.708.707zM1.5 18V5h-1v13zM5 1.5h152v-1H5zM160.5 5v13h1V5zM157 1.5a3.5 3.5 0 0 1 3.5 3.5h1A4.5 4.5 0 0 0 157 .5zM1.5 5A3.5 3.5 0 0 1 5 1.5v-1A4.5 4.5 0 0 0 .5 5z"})))}const Pu=o.forwardRef(Eu);var Ou;function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Su.apply(this,arguments)}function _u(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Su({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ou||(Ou=o.createElement("path",{d:"M15.728 9.684 14.314 8.27 5 17.584v1.414h1.414zm1.414-1.414 1.414-1.414-1.414-1.414-1.414 1.414zm-9.9 12.728H3v-4.243L16.435 3.32a1 1 0 0 1 1.414 0l2.829 2.83a1 1 0 0 1 0 1.413L7.243 20.998z"})))}const Nu=o.forwardRef(_u);var Du;function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lu.apply(this,arguments)}function Au(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Lu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Du||(Du=o.createElement("path",{d:"m13.828 1.688 8.486 8.486-1.415 1.414-.707-.707-4.242 4.242-.707 3.536-1.415 1.414-4.242-4.244-4.95 4.95-1.414-1.413 4.95-4.95-4.243-4.242 1.414-1.415 3.537-.707 4.242-4.242-.707-.707zm.708 3.536-4.67 4.67-2.823.565 6.5 6.5.564-2.822 4.671-4.67z"})))}const Ru=o.forwardRef(Au);var Zu;function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fu.apply(this,arguments)}function zu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Fu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Zu||(Zu=o.createElement("path",{d:"M2 11h20v2H2z"})))}const Bu=o.forwardRef(zu);var Vu;function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hu.apply(this,arguments)}function Wu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Hu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Vu||(Vu=o.createElement("path",{d:"M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1m1 2v14h14V5z"})))}const Uu=o.forwardRef(Wu);var Gu;function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qu.apply(this,arguments)}function $u(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qu({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Gu||(Gu=o.createElement("path",{d:"m16.757 3.002-2 2H5v14h14V9.245l2-2v12.757a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-16a1 1 0 0 1 1-1zm3.728-.9L21.9 3.518l-9.192 9.192-1.412.003-.002-1.417z"})))}const Ju=o.forwardRef($u);var Qu;function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ku.apply(this,arguments)}function Yu(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ku({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qu||(Qu=o.createElement("path",{d:"M13 6v15h-2V6H5V4h14v2z"})))}const Xu=o.forwardRef(Yu);var ep;function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tp.apply(this,arguments)}function np(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",tp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ep||(ep=o.createElement("path",{d:"M10 18.335a8.333 8.333 0 1 1 0-16.667 8.333 8.333 0 1 1 0 16.667m0-1.667a6.667 6.667 0 1 0 0-13.333 6.667 6.667 0 0 0 0 13.333"})))}const ip=o.forwardRef(np);var op;function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ap.apply(this,arguments)}function lp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ap({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,op||(op=o.createElement("path",{d:"M14 3a1 1 0 0 1 1 1v5h5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-5H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm-1 2H5v8h8z"})))}const rp=o.forwardRef(lp);var sp,dp;function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cp.apply(this,arguments)}function up(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",cp({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sp||(sp=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M10 3.167H3.333v10.667h9.334v-8H10zm-8-.672c0-.365.298-.661.666-.661h8L14 5.167v9.329a.666.666 0 0 1-.662.671H2.662A.666.666 0 0 1 2 14.506zm7.02 7.636A2.668 2.668 0 0 1 5.78 5.95a2.667 2.667 0 0 1 4.182 3.24l1.473 1.473-.942.943zm-.413-1.354a1.333 1.333 0 1 0-1.852-1.918 1.333 1.333 0 0 0 1.852 1.918"}))),dp||(dp=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 .5h16v16H0z"})))))}const pp=o.forwardRef(up);var hp;function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vp.apply(this,arguments)}function gp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",vp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,hp||(hp=o.createElement("path",{d:"M14.584 2.063 19.167 10l-4.584 7.938H5.418L.833 10.001l4.584-7.938zm-.963 1.666H6.379l-3.621 6.272 3.621 6.272h7.242L17.243 10z"})))}const fp=o.forwardRef(gp);var mp;function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yp.apply(this,arguments)}function wp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",yp({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,mp||(mp=o.createElement("path",{d:"m4.965 5.095 3.546 12.41 3.04-6.08 5.637-2.255zM2.9 2.3l18.806 6.268a.5.5 0 0 1 .028.94L13 12.998l-4.425 8.85a.5.5 0 0 1-.928-.086L2.26 2.91a.5.5 0 0 1 .64-.61"})))}const bp=o.forwardRef(wp);var Cp;function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xp.apply(this,arguments)}function Ip(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",xp({xmlns:"http://www.w3.org/2000/svg",width:14,height:8,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 14 8",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Cp||(Cp=o.createElement("path",{d:"M7 4.977 2.05.852.638 2.031 7 7.334l6.364-5.303L11.95.852z"})))}const jp=o.forwardRef(Ip);var Mp;function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kp.apply(this,arguments)}function Tp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",kp({width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Mp||(Mp=o.createElement("circle",{cx:4,cy:4,r:3.5,fill:"#DE350B",stroke:"white"})))}const Ep=o.forwardRef(Tp);var Pp;function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Op.apply(this,arguments)}function Sp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Op({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Pp||(Pp=o.createElement("g",{clipPath:"url(#clip0_8772_38222)"},o.createElement("path",{d:"M12.243 4.257 11.3 5.2a4.667 4.667 0 1 0 1.367 3.3H14a6 6 0 1 1-1.757-4.243"}))))}const _p=o.forwardRef(Sp);var Np;function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dp.apply(this,arguments)}function Lp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Dp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Np||(Np=o.createElement("path",{d:"M8.75 6.667a2.917 2.917 0 1 1 0-5.834 2.917 2.917 0 0 1 0 5.834M8.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M7.5 3.775c.01.527.348.975.817 1.148L0 10V8.333zm1.848-1.123L13.71 0h2.671l-6.39 3.901Q10 3.826 10 3.75a1.25 1.25 0 0 0-.652-1.098m7.688 10.919h-2.762l1.454 3.542a.484.484 0 0 1-.246.624l-1.28.558a.46.46 0 0 1-.608-.253l-1.382-3.363-2.257 2.322c-.3.31-.788.07-.788-.335V5.476c0-.427.518-.635.788-.334l7.407 7.618c.298.291.078.811-.326.811"})))}const Ap=o.forwardRef(Lp);var Rp;function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zp.apply(this,arguments)}function Fp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Zp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Rp||(Rp=o.createElement("path",{d:"M12.323 12.905 7.207 8.629l-4.37 5.026 3.458 3.006h2.763zm-1.066 3.756h7.91v1.667H5.673l-3.929-3.415a1.667 1.667 0 0 1-.164-2.351L10.874 1.87a1.667 1.667 0 0 1 2.351-.164l5.032 4.373c.694.604.768 1.657.164 2.352z"})))}const zp=o.forwardRef(Fp);var Bp;function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vp.apply(this,arguments)}function Hp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Vp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Bp||(Bp=o.createElement("path",{d:"M15 9.167V5.833L20 10l-5 4.167v-3.334h-4.167V15h3.334L10 20l-4.167-5h3.334v-4.167H5v3.334L0 10l5-4.167v3.334h4.167V5H5.833L10 0l4.167 5h-3.334v4.167z"})))}const Wp=o.forwardRef(Hp);var Up;function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gp.apply(this,arguments)}function qp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Gp({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Up||(Up=o.createElement("path",{d:"m7.745 10.402 2.186-9.18 1.78-.98-.635 9.078 8.592-2.792-.52 1.963-8.316 4.31-.092 1.325q.206-.015.417 0a2.917 2.917 0 1 1-2.139.727l.123-1.762-.439-.457-.879-.505-1.68.546a2.917 2.917 0 1 1 .29-1.846zm-3.801 2.111a1.25 1.25 0 1 0-.773-2.378 1.25 1.25 0 0 0 .773 2.378m5.763 4.435a1.25 1.25 0 1 0 2.494.174 1.25 1.25 0 0 0-2.494-.174"})))}const $p=o.forwardRef(qp);var Jp;function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qp.apply(this,arguments)}function Kp(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Qp({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 48 48",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Jp||(Jp=o.createElement("g",{clipPath:"url(#clip0_8772_38014)"},o.createElement("path",{d:"M14 41.962a13 13 0 0 1-5.871-24 16.002 16.002 0 0 1 31.744 0 13 13 0 0 1-5.872 24v.037H14zm12-15.963h6l-8-10-8 10h6v8h4z"}))))}const Yp=o.forwardRef(Kp);var Xp,eh;function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},th.apply(this,arguments)}function nh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",th({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Xp||(Xp=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M8.668 5.22v8.115H7.335V5.22L3.76 8.796l-.943-.943 5.186-5.185 5.185 5.185-.943.943z"}))),eh||(eh=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const ih=o.forwardRef(nh);var oh;function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ah.apply(this,arguments)}function lh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ah({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 18 18",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,oh||(oh=o.createElement("path",{d:"m2.175 1.725 14.104 4.7a.375.375 0 0 1 .02.705L9.75 9.75l-3.319 6.637a.375.375 0 0 1-.696-.064l-4.04-14.14a.375.375 0 0 1 .48-.458"})))}const rh=o.forwardRef(lh);var sh;function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dh.apply(this,arguments)}function ch(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",dh({width:16,height:14,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sh||(sh=o.createElement("path",{d:"M9.33329 13.9987L7.46663 11.6654H3.99996C3.82315 11.6654 3.65358 11.5951 3.52855 11.4701C3.40353 11.3451 3.33329 11.1755 3.33329 10.9987V3.73403C3.33329 3.55722 3.40353 3.38765 3.52855 3.26263C3.65358 3.1376 3.82315 3.06736 3.99996 3.06736H14.6666C14.8434 3.06736 15.013 3.1376 15.138 3.26263C15.2631 3.38765 15.3333 3.55722 15.3333 3.73403V10.9987C15.3333 11.1755 15.2631 11.3451 15.138 11.4701C15.013 11.5951 14.8434 11.6654 14.6666 11.6654H11.2L9.33329 13.9987ZM10.5593 10.332H14V4.4007H4.66663V10.332H8.10729L9.33329 11.864L10.5593 10.332ZM1.33329 0.332031H12.6666V1.66536H1.99996V8.9987H0.666626V0.998698C0.666626 0.821887 0.736864 0.652318 0.861888 0.527293C0.986912 0.402269 1.15648 0.332031 1.33329 0.332031Z",fill:"currentColor"})))}const uh=o.forwardRef(ch);var ph,hh,vh;function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gh.apply(this,arguments)}function fh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",gh({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ph||(ph=o.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"none"})),hh||(hh=o.createElement("path",{d:"M10 2H14V5.33333H12.6667V3.33333H10V2ZM6 2V3.33333H3.33333V5.33333H2V2H6ZM10 14V12.6667H12.6667V10.6667H14V14H10ZM6 14H2V10.6667H3.33333V12.6667H6V14Z",fill:"#505F79"})),vh||(vh=o.createElement("path",{d:"M6.66667 8C6.66667 7.26362 7.26362 6.66667 8 6.66667C8.73638 6.66667 9.33333 7.26362 9.33333 8C9.33333 8.73638 8.73638 9.33333 8 9.33333C7.26362 9.33333 6.66667 8.73638 6.66667 8Z",fill:"#505F79"})))}const mh=o.forwardRef(fh);var yh,wh,bh;function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ch.apply(this,arguments)}function xh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ch({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,yh||(yh=o.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"none"})),wh||(wh=o.createElement("path",{d:"M6 2V3.33333H3.33333V5.33333H2V2H6ZM10 14V12.6667H12.6667V10.6667H14V14H10Z",fill:"#505F79"})),bh||(bh=o.createElement("path",{d:"M2.66667 12L12.0948 2.57191L13.0376 3.51472L3.60948 12.9428L2.66667 12Z",fill:"#505F79"})))}const Ih=o.forwardRef(xh);var jh;function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mh.apply(this,arguments)}function kh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Mh({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 40 40",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,jh||(jh=o.createElement("path",{d:"M35 25v5h5v3.333h-5v5h-3.334v-5h-5V30h5v-5zm.013-20c.913 0 1.653.742 1.653 1.655v15.582a10 10 0 0 0-3.333-.57V8.333H6.666l.002 23.334 15.487-15.489a1.665 1.665 0 0 1 2.2-.14l.155.142 5.91 5.917a10.003 10.003 0 0 0-6.517 12.905L4.986 35a1.655 1.655 0 0 1-1.653-1.655V6.655A1.667 1.667 0 0 1 4.986 5zm-21.68 6.667a3.333 3.333 0 1 1 0 6.666 3.333 3.333 0 0 1 0-6.666"})))}const Th=o.forwardRef(kh);var Eh;function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ph.apply(this,arguments)}function Oh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ph({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Eh||(Eh=o.createElement("path",{d:"m5.286 12.187-2.357 2.357 2.946 2.946L17.071 6.294l-2.946-2.946-1.768 1.768 1.179 1.178-1.18 1.178-1.178-1.178-1.767 1.768 1.768 1.767L10 11.01 8.233 9.242l-1.769 1.767 1.18 1.178-1.18 1.18zM14.714 1.58l4.125 4.125a.833.833 0 0 1 0 1.178L6.464 19.258a.833.833 0 0 1-1.178 0l-4.125-4.125a.833.833 0 0 1 0-1.178L13.536 1.58a.833.833 0 0 1 1.178 0"})))}const Sh=o.forwardRef(Oh);var _h;function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nh.apply(this,arguments)}function Dh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Nh({xmlns:"http://www.w3.org/2000/svg",width:135,height:22,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 135 22",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_h||(_h=o.createElement("path",{d:"M45.726 2.17v15.42h2.527V6.965h.086l4.536 10.627h2.181l4.536-10.627h.086v10.627h2.527V2.17h-2.959L54.02 14.265h-.086L48.685 2.17zm23.721 3.952c-1.425 0-2.548.238-3.369.756-.972.562-1.577 1.469-1.814 2.7l2.44.194a1.94 1.94 0 0 1 .93-1.296c.41-.259.95-.367 1.64-.367 1.599 0 2.398.713 2.398 2.182v.431l-2.44.065q-2.463.065-3.823 1.037c-.994.67-1.47 1.642-1.47 2.894 0 .929.346 1.685 1.038 2.29.67.583 1.576.885 2.742.885.973 0 1.815-.173 2.528-.497a4.36 4.36 0 0 0 1.598-1.274v1.469h2.29v-7.128q0-2.04-1.038-3.11c-.777-.82-2.008-1.231-3.65-1.231m2.225 6.371v.562c0 .864-.346 1.577-.993 2.138-.648.54-1.448.821-2.398.821-.54 0-.972-.151-1.317-.41-.346-.26-.497-.583-.497-.972 0-1.34.972-2.03 2.937-2.074zm10.071-6.371q-2.204 0-3.37 1.49V6.424h-2.29v15.443h2.463v-5.81c.907 1.21 2.03 1.836 3.326 1.836 1.598 0 2.873-.583 3.78-1.75.842-1.08 1.274-2.44 1.274-4.081 0-1.728-.432-3.11-1.296-4.19q-1.425-1.75-3.887-1.75m-.368 1.987q1.62 0 2.398 1.166c.41.648.626 1.577.626 2.787s-.237 2.138-.691 2.786c-.518.69-1.34 1.058-2.419 1.058-.8 0-1.447-.324-1.965-.972-.584-.713-.864-1.663-.864-2.83v-.172c0-1.123.216-2.009.69-2.678.52-.778 1.253-1.145 2.225-1.145m10.553-5.291-2.463 1.015v2.591h-2.008v2.03h2.008v6.307c0 .908.216 1.577.648 2.052q.68.778 2.138.778h1.88v-2.03h-1.47c-.258 0-.431-.065-.56-.195-.13-.151-.174-.345-.174-.605V8.455h2.484v-2.03h-2.484zm8.753 3.304c-1.425 0-2.548.238-3.369.756-.972.562-1.577 1.469-1.814 2.7l2.44.194a1.94 1.94 0 0 1 .93-1.296c.41-.259.95-.367 1.641-.367 1.598 0 2.397.713 2.397 2.182v.431l-2.441.065q-2.461.065-3.823 1.037c-.993.67-1.468 1.642-1.468 2.894 0 .929.345 1.685 1.036 2.29.67.583 1.577.885 2.744.885.971 0 1.814-.173 2.526-.497a4.36 4.36 0 0 0 1.599-1.274v1.469h2.289v-7.128q0-2.04-1.037-3.11c-.777-.82-2.008-1.231-3.65-1.231m2.225 6.371v.562c0 .864-.346 1.577-.994 2.138-.647.54-1.447.821-2.397.821-.54 0-.972-.151-1.317-.41-.346-.26-.497-.583-.497-.972 0-1.34.972-2.03 2.937-2.074zm4.412-10.626v15.724h2.289v-1.188q1.167 1.49 3.37 1.49 2.462 0 3.887-1.75c.864-1.08 1.296-2.483 1.296-4.19 0-1.64-.432-3.002-1.274-4.081-.929-1.167-2.182-1.75-3.78-1.75-1.296 0-2.419.605-3.326 1.836v-6.09zm5.205 6.242c1.101 0 1.922.367 2.441 1.102.432.626.669 1.533.669 2.743s-.216 2.138-.626 2.786q-.778 1.166-2.398 1.166c-.972 0-1.706-.389-2.224-1.145-.475-.69-.691-1.598-.691-2.678v-.173c0-1.187.28-2.138.864-2.829.518-.648 1.166-.972 1.965-.972m7.356-6.242v15.724h2.462V1.867zm9.371 4.255c-1.663 0-2.98.562-3.931 1.706-.993 1.123-1.468 2.506-1.468 4.169 0 1.857.518 3.304 1.555 4.363.972 1.015 2.289 1.533 3.952 1.533 1.49 0 2.722-.432 3.715-1.274.778-.691 1.296-1.577 1.555-2.614h-2.462c-.302.627-.626 1.08-.994 1.361-.475.346-1.08.518-1.835.518-.886 0-1.577-.28-2.052-.82s-.756-1.34-.843-2.376h8.359c0-2.009-.454-3.585-1.339-4.709-.972-1.252-2.376-1.857-4.212-1.857m.065 2.009c1.728 0 2.7.885 2.916 2.7h-5.745q.226-1.329.907-2.01c.475-.474 1.101-.69 1.922-.69M20 16.389l-.006-.133c-.205-1.486-2.279-1.484-2.487 0l-.007.133-.006.223-.022.224a3.75 3.75 0 0 1-3.91 3.292l-.227-.017-.22-.032a3.756 3.756 0 0 1-3.097-4.074l.031-.22.042-.224.035-.181c.289-2.172-2.062-3.642-3.886-2.427l-.15.108-.182.136-.189.126a3.75 3.75 0 0 1-5.712-2.964L0 10.132l.007-.227c.191-2.838 3.282-4.44 5.712-2.965l.189.126.182.136.15.112a2.502 2.502 0 0 0 3.886-2.427l-.035-.185-.042-.22-.031-.223A3.754 3.754 0 0 1 13.11.187l.224-.031.223-.018a3.75 3.75 0 0 1 3.914 3.286l.021.224.007.226.007.13c.21 1.482 2.28 1.485 2.486 0l.008-.13.006-.227.021-.223A3.75 3.75 0 0 1 23.946.138l.223.018.224.031a3.75 3.75 0 0 1 3.09 4.072l-.028.223-.041.22-.036.185c-.294 2.165 2.066 3.642 3.883 2.427l.15-.112.182-.136.192-.126a3.753 3.753 0 0 1 5.712 2.965l.007.227-.007.227c-.19 2.836-3.285 4.444-5.712 2.964l-.192-.126-.182-.136-.15-.108c-1.819-1.217-4.178.26-3.883 2.427l.035.181.042.224.028.223a3.75 3.75 0 0 1-3.097 4.071l-.22.032-.227.017a3.75 3.75 0 0 1-3.91-3.296l-.022-.223-.007-.227"})))}const Lh=o.forwardRef(Dh);var Ah;function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rh.apply(this,arguments)}function Zh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Rh({width:53,height:28,viewBox:"0 0 53 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ah||(Ah=o.createElement("path",{d:"M28.0007 22.7581L27.9909 22.5724C27.704 20.4919 24.8011 20.495 24.5103 22.5724L24.5004 22.7581L24.4908 23.0712L24.4612 23.3839C24.1293 26.1258 21.7419 28.1258 18.9865 27.9937L18.6688 27.9694L18.3607 27.9253C15.637 27.4465 13.757 24.9734 14.0247 22.2205L14.0688 21.9126L14.1271 21.5995L14.1762 21.3454C14.5806 18.3053 11.29 16.2476 8.73538 17.9481L8.52533 18.0996L8.27116 18.2905L8.00713 18.4663C4.60242 20.5342 0.276682 18.2936 0.00956149 14.3161L0 13.9984L0.00956149 13.6804C0.277299 9.70844 4.60397 7.46415 8.00713 9.53016L8.27116 9.70628L8.52533 9.89691L8.73538 10.0533C11.2884 11.7504 14.5793 9.69672 14.1762 6.65601L14.1271 6.39691L14.0688 6.08877L14.0247 5.776C13.7524 3.03294 15.6404 0.548985 18.3557 0.076129L18.6688 0.0323288L18.9816 0.00765275C21.729 -0.138862 24.1281 1.87779 24.4612 4.60759L24.4908 4.92066L24.5004 5.23837L24.5103 5.41912C24.8048 7.495 27.7025 7.49839 27.9909 5.41912L28.0007 5.23837L28.0103 4.92036L28.0396 4.60759C28.382 1.87656 30.7716 -0.140404 33.5245 0.00765275L33.8373 0.0323288L34.1504 0.076129C36.8666 0.550835 38.75 3.03294 38.4764 5.776L38.4372 6.08877L38.3789 6.39691L38.3296 6.65601C37.9172 9.68716 41.2219 11.7553 43.7654 10.0533L43.9758 9.89691L44.23 9.70628L44.4989 9.53016C47.9061 7.46446 52.2204 9.70752 52.4962 13.6804L52.5061 13.9984L52.4962 14.3161C52.2306 18.2868 47.8972 20.5379 44.4989 18.4663L44.23 18.2905L43.9758 18.0996L43.7654 17.9481C41.2192 16.2442 37.9166 18.3121 38.3296 21.3454L38.3789 21.5995L38.4372 21.9126L38.4764 22.2251C38.7469 24.9749 36.8638 27.4521 34.1405 27.9253L33.8323 27.9694L33.5146 27.9937C30.7601 28.127 28.3724 26.118 28.0396 23.379L28.0103 23.0662L28.0007 22.7485",fill:"currentColor"})))}const Fh=o.forwardRef(Zh);var zh,Bh,Vh,Hh;function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wh.apply(this,arguments)}function Uh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Wh({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 34",width:42,height:34,ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,zh||(zh=o.createElement("defs",null,o.createElement("clipPath",{clipPathUnits:"userSpaceOnUse",id:"cp1"},o.createElement("path",{d:"m-2-6h48v48h-48z"})))),Bh||(Bh=o.createElement("style",null,".a{fill:currentColor}.b{fill:currentColor;stroke:#fff;stroke-width:2}")),Vh||(Vh=o.createElement("g",{clipPath:"url(#cp1)"},o.createElement("path",{className:"a",d:"m6 24v-13c0-2.4 0.9-4.7 2.6-6.4 1.7-1.7 4-2.6 6.4-2.6 2.4 0 4.7 0.9 6.4 2.6 1.7 1.7 2.6 4 2.6 6.4v14c0 1.3 0.5 2.6 1.5 3.5 0.9 1 2.2 1.5 3.5 1.5 1.3 0 2.6-0.5 3.5-1.5 1-0.9 1.5-2.2 1.5-3.5v-13.3c-1.3-0.5-2.5-1.4-3.2-2.7-0.7-1.2-1-2.6-0.7-4 0.2-1.4 0.9-2.7 2-3.6 1.1-0.9 2.5-1.4 3.9-1.4 1.4 0 2.8 0.5 3.9 1.4 1.1 0.9 1.8 2.2 2 3.6 0.3 1.4 0 2.8-0.7 4-0.7 1.3-1.9 2.2-3.2 2.7v13.3c0 2.4-0.9 4.7-2.6 6.4-1.7 1.7-4 2.6-6.4 2.6-2.4 0-4.7-0.9-6.4-2.6-1.7-1.7-2.6-4-2.6-6.4v-14c0-1.3-0.5-2.6-1.5-3.5-0.9-1-2.2-1.5-3.5-1.5-1.3 0-2.6 0.5-3.5 1.5-1 0.9-1.5 2.2-1.5 3.5v13h6l-8 10-8-10z"}))),Hh||(Hh=o.createElement("path",{className:"b",d:"m14.8 15.7l-0.7 0.7 0.7 0.7 2.9 2.8-2.9 2.8-0.7 0.7 0.7 0.7 2.9 2.9 0.7 0.7 0.7-0.7 2.8-2.9 2.8 2.9 0.7 0.7 0.7-0.7 2.9-2.9 0.7-0.7-0.7-0.7-2.9-2.8 2.9-2.8 0.7-0.7-0.7-0.7-2.9-2.9-0.7-0.7-0.7 0.7-2.8 2.9-2.8-2.9-0.7-0.7-0.7 0.7z"})))}const Gh=o.forwardRef(Uh);var qh,$h;function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jh.apply(this,arguments)}function Qh(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Jh({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,qh||(qh=o.createElement("path",{d:"M11.182 10.682L8 13.864L4.818 10.682C4.18867 10.0526 3.76009 9.2508 3.58646 8.37788C3.41284 7.50497 3.50195 6.60017 3.84255 5.77791C4.18315 4.95565 4.75992 4.25285 5.49994 3.75838C6.23996 3.26392 7.10999 3 8 3C8.89001 3 9.76004 3.26392 10.5001 3.75838C11.2401 4.25285 11.8169 4.95565 12.1575 5.77791C12.498 6.60017 12.5872 7.50497 12.4135 8.37788C12.2399 9.2508 11.8113 10.0526 11.182 10.682ZM8 9.49996C8.53043 9.49996 9.03914 9.28924 9.41421 8.91417C9.78929 8.5391 10 8.03039 10 7.49996C10 6.96953 9.78929 6.46082 9.41421 6.08575C9.03914 5.71067 8.53043 5.49996 8 5.49996C7.46957 5.49996 6.96086 5.71067 6.58579 6.08575C6.21071 6.46082 6 6.96953 6 7.49996C6 8.03039 6.21071 8.5391 6.58579 8.91417C6.96086 9.28924 7.46957 9.49996 8 9.49996Z",fill:"currentColor"})),$h||($h=o.createElement("path",{d:"M11.182 10.682L8 13.864L4.818 10.682C4.18867 10.0526 3.76009 9.2508 3.58646 8.37788C3.41284 7.50497 3.50195 6.60017 3.84255 5.77791C4.18315 4.95565 4.75992 4.25285 5.49994 3.75838C6.23996 3.26392 7.10999 3 8 3C8.89001 3 9.76004 3.26392 10.5001 3.75838C11.2401 4.25285 11.8169 4.95565 12.1575 5.77791C12.498 6.60017 12.5872 7.50497 12.4135 8.37788C12.2399 9.2508 11.8113 10.0526 11.182 10.682ZM8 9.49996C8.53043 9.49996 9.03914 9.28924 9.41421 8.91417C9.78929 8.5391 10 8.03039 10 7.49996C10 6.96953 9.78929 6.46082 9.41421 6.08575C9.03914 5.71067 8.53043 5.49996 8 5.49996C7.46957 5.49996 6.96086 5.71067 6.58579 6.08575C6.21071 6.46082 6 6.96953 6 7.49996C6 8.03039 6.21071 8.5391 6.58579 8.91417C6.96086 9.28924 7.46957 9.49996 8 9.49996Z",stroke:"currentColor"})))}const Kh=o.forwardRef(Qh);var Yh,Xh;function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ev.apply(this,arguments)}function tv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ev({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Yh||(Yh=o.createElement("path",{d:"M8.4 3.302C9.778 3.302 10.948 3.783 11.91 4.745C12.859 5.707 13.34 6.877 13.34 8.268C13.34 9.659 12.859 10.829 11.91 11.778C10.948 12.714 9.778 13.195 8.4 13.195C6.996 13.195 5.826 12.714 4.89 11.778C3.928 10.816 3.46 9.646 3.46 8.268C3.46 6.877 3.928 5.707 4.89 4.745C5.839 3.783 7.009 3.302 8.4 3.302Z",fill:"currentColor"})),Xh||(Xh=o.createElement("path",{d:"M11.91 4.745L12.6219 4.0427L12.6171 4.03789L11.91 4.745ZM11.91 11.778L12.6074 12.4948L12.6171 12.4851L11.91 11.778ZM4.89 11.778L4.18289 12.4851L4.18289 12.4851L4.89 11.778ZM4.89 4.745L5.59712 5.45212L5.6019 5.44728L4.89 4.745ZM8.4 4.302C9.51662 4.302 10.4311 4.68034 11.2029 5.45211L12.6171 4.03789C11.4649 2.88566 10.0394 2.302 8.4 2.302V4.302ZM11.1981 5.44728C11.9599 6.21949 12.34 7.1361 12.34 8.268H14.34C14.34 6.6179 13.7581 5.19451 12.6219 4.04272L11.1981 5.44728ZM12.34 8.268C12.34 9.40109 11.9593 10.3145 11.2029 11.0709L12.6171 12.4851C13.7587 11.3435 14.34 9.91691 14.34 8.268H12.34ZM11.2126 11.0613C10.4379 11.8151 9.51834 12.195 8.4 12.195V14.195C10.0377 14.195 11.4581 13.6129 12.6074 12.4947L11.2126 11.0613ZM8.4 12.195C7.25042 12.195 6.33808 11.8119 5.59711 11.0709L4.18289 12.4851C5.31393 13.6161 6.74158 14.195 8.4 14.195V12.195ZM5.59711 11.0709C4.83014 10.3039 4.46 9.39158 4.46 8.268H2.46C2.46 9.90042 3.02586 11.3281 4.18289 12.4851L5.59711 11.0709ZM4.46 8.268C4.46 7.13 4.83111 6.21811 5.59711 5.45211L4.18289 4.03789C3.0249 5.19589 2.46 6.624 2.46 8.268H4.46ZM5.6019 5.44728C6.35689 4.68195 7.26777 4.302 8.4 4.302V2.302C6.75024 2.302 5.32111 2.88405 4.1781 4.04272L5.6019 5.44728Z",fill:"currentColor"})))}const nv=o.forwardRef(tv);var iv;function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ov.apply(this,arguments)}function av(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ov({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,iv||(iv=o.createElement("path",{d:"M3.281 3.666h9.178v9.204H3.281z"})))}const lv=o.forwardRef(av);var rv;function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sv.apply(this,arguments)}function dv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",sv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,rv||(rv=o.createElement("path",{d:"m7.8 3.172 5.174 5.174L7.8 13.52 2.626 8.346z"})))}const cv=o.forwardRef(dv);var uv;function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pv.apply(this,arguments)}function hv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",pv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,uv||(uv=o.createElement("path",{d:"m8 3.705 5.291 9.165H2.709z"})))}const vv=o.forwardRef(hv);var gv;function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fv.apply(this,arguments)}function mv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",fv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,gv||(gv=o.createElement("path",{d:"M6.342 8 3.5 5.158 5.158 3.5 8 6.342 10.842 3.5 12.5 5.158 9.658 8l2.842 2.842-1.658 1.658L8 9.658 5.158 12.5 3.5 10.842z"})))}const yv=o.forwardRef(mv);var wv;function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bv.apply(this,arguments)}function Cv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",bv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,wv||(wv=o.createElement("path",{d:"M6.871 6.871V3h2.258v3.871H13v2.258H9.129V13H6.871V9.129H3V6.871z"})))}const xv=o.forwardRef(Cv);var Iv;function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jv.apply(this,arguments)}function Mv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",jv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Iv||(Iv=o.createElement("path",{d:"M3.645 13V3.666h.351q1.053 0 2.145.169 1.106.156 2.223.507 1.119.351 2.054.533.936.169 1.677.182v5.798h-.572a7 7 0 0 1-1.235-.13 32 32 0 0 1-1.677-.39 16 16 0 0 0-1.833-.39 11 11 0 0 0-1.625-.13q-.142 0-.286.013-.129 0-.273.013-.129 0-.273.013V13z"})))}const kv=o.forwardRef(Mv);var Tv;function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ev.apply(this,arguments)}function Pv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ev({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Tv||(Tv=o.createElement("path",{d:"m8 1.884 1.656 4.44h4.2l-3.54 2.664 1.716 4.476L8 10.44l-4.02 3.024 1.704-4.476-3.54-2.664h4.188z"})))}const Ov=o.forwardRef(Pv);var Sv;function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_v.apply(this,arguments)}function Nv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",_v({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Sv||(Sv=o.createElement("path",{d:"M8.41 3.827a3.245 3.245 0 0 1 4.587 4.579L8.409 13 3.823 8.406A3.247 3.247 0 0 1 8.41 3.827"})))}const Dv=o.forwardRef(Nv);var Lv;function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Av.apply(this,arguments)}function Rv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Av({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Lv||(Lv=o.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0-7.99L6.02 5.03l-.99.99L7.01 8 5.03 9.98l.99.99L8 8.99l1.98 1.98.99-.99L8.99 8l1.98-1.98-.99-.99z"})))}const Zv=o.forwardRef(Rv);var Fv;function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zv.apply(this,arguments)}function Bv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",zv({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Fv||(Fv=o.createElement("path",{d:"M10.707 16.952V20h3.048v-3.048zm3.048-2.506A5.337 5.337 0 0 0 12.231 4 5.335 5.335 0 0 0 7 8.286l2.99.6a2.286 2.286 0 1 1 2.241 2.733 1.524 1.524 0 0 0-1.524 1.524v2.286h3.048z"})))}const Vv=o.forwardRef(Bv);var Hv,Wv;function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uv.apply(this,arguments)}function Gv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Uv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Hv||(Hv=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M2 2h5.333v5.333H2zm0 6.667h5.333V14H2zM8.667 2H14v5.333H8.667zm0 6.667H14V14H8.667zM10 3.333V6h2.667V3.333zM10 10v2.667h2.667V10zM3.333 3.333V6H6V3.333zm0 6.667v2.667H6V10z"}))),Wv||(Wv=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const qv=o.forwardRef(Gv);var $v;function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jv.apply(this,arguments)}function Qv(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Jv({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,$v||($v=o.createElement("path",{d:"M2 2.667h12V4H2zm0 4.666h12v1.334H2zM2 12h12v1.333H2z"})))}const Kv=o.forwardRef(Qv);var Yv,Xv;function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},eg.apply(this,arguments)}function tg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",eg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Yv||(Yv=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M1.5 14.5a4.952 4.952 0 0 1 9.905 0zm4.952-5.571a3.713 3.713 0 0 1-3.714-3.715A3.713 3.713 0 0 1 6.452 1.5a3.713 3.713 0 0 1 3.715 3.714A3.713 3.713 0 0 1 6.452 8.93m4.558 1.382a4.65 4.65 0 0 1 3.48 4.189h-1.847a6.17 6.17 0 0 0-1.633-4.19M9.758 8.9a4.94 4.94 0 0 0 1.647-3.687 4.93 4.93 0 0 0-.629-2.416 3.095 3.095 0 0 1-1.018 6.104"}))),Xv||(Xv=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const ng=o.forwardRef(tg);var ig,og;function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ag.apply(this,arguments)}function lg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ag({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ig||(ig=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M11.716 5.333h1.238a.62.62 0 0 1 .619.62v7.428a.62.62 0 0 1-.62.619H3.05a.62.62 0 0 1-.619-.619V5.952a.62.62 0 0 1 .619-.619h1.238v-.619a3.714 3.714 0 1 1 7.429 0zM7.382 10.12v1.404H8.62V10.12a1.238 1.238 0 1 0-1.238 0m3.096-4.787v-.619a2.476 2.476 0 0 0-4.953 0v.62z"}))),og||(og=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const rg=o.forwardRef(lg);var sg,dg;function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cg.apply(this,arguments)}function ug(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",cg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sg||(sg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M12.905 14.5H3v-1.238a3.095 3.095 0 0 1 3.095-3.095H9.81a3.096 3.096 0 0 1 3.095 3.095zM7.952 8.929a3.714 3.714 0 1 1 0-7.429 3.714 3.714 0 0 1 0 7.429"}))),dg||(dg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const pg=o.forwardRef(ug);var hg;function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vg.apply(this,arguments)}function gg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",vg({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,hg||(hg=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10 2.5v15m-3.5-15h7c1.4 0 2.1 0 2.635.272a2.5 2.5 0 0 1 1.092 1.093C17.5 4.4 17.5 5.1 17.5 6.5v7c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-7c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2.5 15.6 2.5 14.9 2.5 13.5v-7c0-1.4 0-2.1.272-2.635a2.5 2.5 0 0 1 1.093-1.093C4.4 2.5 5.1 2.5 6.5 2.5"})))}const fg=o.forwardRef(gg);var mg,yg;function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wg.apply(this,arguments)}function bg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",wg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,mg||(mg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M6.667 2c.368 0 .666.299.666.667v10.666a.667.667 0 0 1-.666.667h-4A.667.667 0 0 1 2 13.333V2.667C2 2.299 2.299 2 2.667 2zM6 3.333H3.333v9.334H6zm6 1.334a3.334 3.334 0 1 1 0 6.667 3.334 3.334 0 0 1 0-6.667M12.667 6h-1.334v1.333H10v1.334l1.333-.001V10h1.334V8.666H14V7.334h-1.333z"}))),yg||(yg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const Cg=o.forwardRef(bg);var xg,Ig;function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jg.apply(this,arguments)}function Mg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",jg({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,xg||(xg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M14 5.333v8.662a.665.665 0 0 1-.662.672H2.662A.66.66 0 0 1 2 14.005V1.995c0-.358.3-.662.668-.662h7.33zM12.667 6H9.333V2.667h-6v10.666h9.334zM5.333 4.667h2V6h-2zm0 2.666h5.334v1.334H5.333zm0 2.667h5.334v1.333H5.333z"}))),Ig||(Ig=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h16v16H0z"})))))}const kg=o.forwardRef(Mg);var Tg,Eg;function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pg.apply(this,arguments)}function Og(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Pg({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Tg||(Tg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M14.667 14.083a.667.667 0 0 1-.667.667H2a.666.666 0 0 1-.667-.667V3.417A.667.667 0 0 1 2 2.75h12a.667.667 0 0 1 .667.667zM7.333 10.75H2.667v2.667h4.666zm6-2.667H8.667v5.334h4.666zm-6-4H2.667v5.334h4.666zm6 0H8.667V6.75h4.666z"}))),Eg||(Eg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 .75h16v16H0z"})))))}const Sg=o.forwardRef(Og);var _g;function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ng.apply(this,arguments)}function Dg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ng({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 40 40",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_g||(_g=o.createElement("path",{d:"M36.667 35H3.334v-3.333h1.667v-25A1.667 1.667 0 0 1 6.667 5h23.334a1.667 1.667 0 0 1 1.666 1.667V15h3.334v16.667h1.666zm-8.333-3.333h3.333V18.333h-10v13.334h3.334v-10h3.333zm0-16.667V8.333h-20v23.334h10V15zm-16.667 3.333h3.334v3.334h-3.334zm0 6.667h3.334v3.333h-3.334zm0-13.333h3.334V15h-3.334z"})))}const Lg=o.forwardRef(Dg);var Ag;function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rg.apply(this,arguments)}function Zg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Rg({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ag||(Ag=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.25 3.75a2.083 2.083 0 0 1 4.167 0V5h.833c1.165 0 1.748 0 2.207.19a2.5 2.5 0 0 1 1.353 1.353c.19.46.19 1.042.19 2.207h1.25a2.083 2.083 0 1 1 0 4.167H15v1.416c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272h-.583v-1.458a1.875 1.875 0 1 0-3.75 0v1.458h-1c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.534-.272-1.235-.272-2.635v-1.416h1.25a2.083 2.083 0 1 0 0-4.167h-1.25c0-1.165 0-1.747.19-2.207A2.5 2.5 0 0 1 3.21 5.19C3.67 5 4.252 5 5.417 5h.833z"})))}const Fg=o.forwardRef(Zg);var zg,Bg;function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vg.apply(this,arguments)}function Hg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Vg({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,zg||(zg=o.createElement("g",{clipPath:"url(#a)"},o.createElement("path",{d:"M15.999 7.006c0-.013-.006-.027-.007-.04a.7.7 0 0 0-.02-.138q-.014-.037-.032-.073c-.013-.03-.024-.062-.042-.09q-.025-.039-.055-.072c-.02-.024-.037-.048-.06-.068-.024-.023-.051-.04-.079-.06q-.022-.02-.048-.038l-.026-.01c-.011-.006-.02-.016-.031-.021L10.865 4.16a2 2 0 0 0-.813-.16c-.323 0-.63.064-.863.178L4.392 6.514A.68.68 0 0 0 4 7.13l.003.016L4 7.162v5.72c0 .398.353.863.801 1.074l4.662 1.954a.74.74 0 0 0 .334.078c.086 0 .172-.02.255-.051a.8.8 0 0 0 .222-.059l4.904-2.063c.468-.22.822-.687.822-1.084V7.01zm-5.832 1.725a.9.9 0 0 1-.402.012L6.317 7.116l3.519-1.713a.6.6 0 0 1 .216-.03c.1 0 .165.015.184.022l3.444 1.626zm4.398 3.84-.014.01-3.906 1.8-.134-4.241.026-.015 4.03-1.987v4.433z"}))),Bg||(Bg=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{d:"M0 0h20v20H0z"})))))}const Wg=o.forwardRef(Hg);var Ug,Gg;function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qg.apply(this,arguments)}function $g(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",qg({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ug||(Ug=o.createElement("g",{clipPath:"url(#clip0_793_5569)"},o.createElement("path",{d:"M12.5 1.66675C13.0853 1.66668 13.6602 1.8207 14.1671 2.11331C14.6739 2.40592 15.0948 2.82681 15.3873 3.33366C15.6799 3.84052 15.8339 4.41547 15.8338 5.00071C15.8337 5.58595 15.6795 6.16084 15.3867 6.66759L19.1667 6.66675V8.33342H17.5V16.6668C17.5 16.8878 17.4122 17.0997 17.256 17.256C17.0997 17.4123 16.8877 17.5001 16.6667 17.5001H3.33337C3.11236 17.5001 2.9004 17.4123 2.74412 17.256C2.58784 17.0997 2.50004 16.8878 2.50004 16.6668V8.33342H0.833374V6.66675L4.61337 6.66759C4.19993 5.95166 4.06728 5.10763 4.24119 4.2994C4.4151 3.49116 4.88316 2.77639 5.55449 2.29388C6.22581 1.81137 7.05248 1.59554 7.874 1.68832C8.69551 1.78109 9.45323 2.17584 10 2.79592C10.3122 2.4404 10.6968 2.15573 11.1279 1.96098C11.5591 1.76624 12.0269 1.66592 12.5 1.66675ZM10.8334 8.33342H9.16671V16.6668H10.8334V8.33342ZM7.50004 3.33342C7.06755 3.33148 6.65125 3.49774 6.33908 3.79707C6.02691 4.0964 5.84332 4.50535 5.82709 4.93754C5.81086 5.36972 5.96327 5.79129 6.25212 6.11318C6.54096 6.43508 6.94363 6.63209 7.37504 6.66259L7.50004 6.66675H9.16671V5.00009C9.16672 4.6018 9.02411 4.21668 8.7647 3.91447C8.50529 3.61225 8.14623 3.41293 7.75254 3.35259L7.62421 3.33759L7.50004 3.33342ZM12.5 3.33342C12.0796 3.33329 11.6746 3.49209 11.3663 3.778C11.0579 4.06391 10.8691 4.45579 10.8375 4.87509L10.8334 5.00009V6.66675H12.5C12.9205 6.66689 13.3255 6.50808 13.6338 6.22217C13.9421 5.93626 14.131 5.54438 14.1625 5.12509L14.1667 5.00009C14.1667 4.55806 13.9911 4.13414 13.6786 3.82158C13.366 3.50901 12.9421 3.33342 12.5 3.33342Z",fill:"url(#paint0_linear_793_5569)"}))),Gg||(Gg=o.createElement("defs",null,o.createElement("linearGradient",{id:"paint0_linear_793_5569",x1:.833374,y1:1.66675,x2:16.4981,y2:19.8048,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#F17B41"}),o.createElement("stop",{offset:.494792,stopColor:"#E05BA2"}),o.createElement("stop",{offset:1,stopColor:"#CD4BC9"})),o.createElement("clipPath",{id:"clip0_793_5569"},o.createElement("rect",{width:20,height:20,fill:"white"})))))}const Jg=o.forwardRef($g);var Qg;function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kg.apply(this,arguments)}function Yg(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Kg({xmlns:"http://www.w3.org/2000/svg",width:80,height:80,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 80 80",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Qg||(Qg=o.createElement("path",{d:"M73.333 66.69A3.333 3.333 0 0 1 70.027 70H9.973a3.31 3.31 0 0 1-3.306-3.31v-3.357h60v-39L40 48.333l-33.333-30v-5A3.333 3.333 0 0 1 10 10h60a3.333 3.333 0 0 1 3.333 3.333zM14.78 16.667 40 39.367l25.22-22.7zM0 50h26.667v6.667H0zm0-16.667h16.667V40H0z"})))}const Xg=o.forwardRef(Yg);var ef;function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tf.apply(this,arguments)}function nf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",tf({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 21 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ef||(ef=o.createElement("path",{d:"M18 12.5V15h2.5v1.667H18v2.5h-1.667v-2.5h-2.5V15h2.5v-2.5zm.006-10c.457 0 .827.37.827.828v7.505h-1.666V4.167H3.832v11.666L12.166 7.5l2.5 2.5v2.358l-2.5-2.5-5.977 5.975h5.977V17.5H2.993a.827.827 0 0 1-.826-.828V3.329a.833.833 0 0 1 .826-.828zM7.166 5.833a1.667 1.667 0 1 1 0 3.334 1.667 1.667 0 0 1 0-3.334"})))}const of=o.forwardRef(nf);var af;function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lf.apply(this,arguments)}function rf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",lf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,af||(af=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 4v16m4-8h14m0 0-7 7m7-7-7-7"})))}const sf=o.forwardRef(rf);var df;function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cf.apply(this,arguments)}function uf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",cf({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,df||(df=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.5 14.667v-3.334m0-6.666V1.333M1.833 3h3.333M1.833 13h3.333m4-11L8.01 5.006c-.188.489-.282.733-.428.939a2 2 0 0 1-.47.47c-.207.147-.45.24-.94.429L3.166 8l3.006 1.156c.49.188.733.282.94.428a2 2 0 0 1 .47.471c.146.206.24.45.428.94L9.166 14l1.156-3.006c.189-.489.283-.733.429-.939q.196-.275.47-.47c.206-.147.45-.24.94-.429L15.165 8 12.16 6.844c-.488-.188-.733-.282-.938-.428a2 2 0 0 1-.471-.471c-.146-.206-.24-.45-.428-.94z"})))}const pf=o.forwardRef(uf);var hf;function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vf.apply(this,arguments)}function gf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",vf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,hf||(hf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.5 7.278 12 12m0 0L3.5 7.278M12 12v9.5m9-5.442V7.941c0-.342 0-.514-.05-.666a1 1 0 0 0-.215-.364c-.109-.119-.258-.202-.558-.368l-7.4-4.111c-.284-.158-.425-.237-.575-.268a1 1 0 0 0-.403 0c-.15.031-.292.11-.576.268l-7.4 4.11c-.3.167-.45.25-.558.369a1 1 0 0 0-.215.364C3 7.427 3 7.599 3 7.94v8.117c0 .343 0 .515.05.667a1 1 0 0 0 .215.364c.109.119.258.202.558.368l7.4 4.111c.284.158.425.237.576.267.133.028.27.028.402 0 .15-.03.292-.11.576-.267l7.4-4.11c.3-.167.45-.25.558-.369a1 1 0 0 0 .215-.364c.05-.152.05-.324.05-.667"})))}const ff=o.forwardRef(gf);var mf;function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yf.apply(this,arguments)}function wf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",yf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,mf||(mf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M14 17H8m8-4H8m12-3.012V17.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C17.72 22 16.88 22 15.2 22H8.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C4 19.72 4 18.88 4 17.2V6.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C6.28 2 7.12 2 8.8 2h3.212c.733 0 1.1 0 1.446.083.306.073.598.195.867.36.303.185.562.444 1.08.963l3.19 3.188c.518.519.777.778.963 1.081a3 3 0 0 1 .36.867c.082.346.082.712.082 1.446"})))}const bf=o.forwardRef(wf);var Cf;function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xf.apply(this,arguments)}function If(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",xf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Cf||(Cf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 12.5V6.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C17.72 2 16.88 2 15.2 2H8.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C4 4.28 4 5.12 4 6.8v10.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 22 7.12 22 8.8 22H12m2-11H8m2 4H8m8-8H8m6.5 12 2 2 4.5-4.5"})))}const jf=o.forwardRef(If);var Mf;function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kf.apply(this,arguments)}function Tf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",kf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Mf||(Mf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.094 11.229A8 8 0 0 1 6 10c0-4.418 3.605-8 8.053-8 4.447 0 8.052 3.582 8.052 8a7.9 7.9 0 0 1-.52 2.835c-.07.182-.105.274-.12.345a1 1 0 0 0-.024.194c-.002.073.008.153.028.314l.403 3.27c.043.355.065.532.006.66a.5.5 0 0 1-.257.252c-.13.055-.306.03-.66-.022l-3.184-.467c-.167-.024-.25-.037-.326-.036a1 1 0 0 0-.2.021 3 3 0 0 0-.358.122 8.2 8.2 0 0 1-4.07.42M7.632 22C10.597 22 13 19.538 13 16.5S10.597 11 7.632 11s-5.369 2.462-5.369 5.5c0 .61.097 1.198.277 1.747.075.232.113.348.126.427.013.083.015.13.01.213-.005.08-.025.17-.065.351L2 22l2.995-.409c.163-.022.245-.034.316-.033.076 0 .115.005.19.02.07.013.173.05.381.123a5.3 5.3 0 0 0 1.75.299"})))}const Ef=o.forwardRef(Tf);var Pf;function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Of.apply(this,arguments)}function Sf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Of({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Pf||(Pf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 11.333 8.667 8 12 4.667m-4.667 6.666L4 8l3.333-3.333"})))}const _f=o.forwardRef(Sf);var Nf;function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Df.apply(this,arguments)}function Lf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Df({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Nf||(Nf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 11.333 7.333 8 4 4.667m4.667 6.666L12 8 8.667 4.667"})))}const Af=o.forwardRef(Lf);var Rf;function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zf.apply(this,arguments)}function Ff(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Zf({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Rf||(Rf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.988 7-1.102-2.231c-.317-.642-.476-.963-.712-1.198a2 2 0 0 0-.739-.462C10.124 3 9.769 3 9.06 3H5.284c-1.106 0-1.66 0-2.082.218a2 2 0 0 0-.863.874c-.216.428-.216.988-.216 2.108V7m0 0h15.013c1.659 0 2.489 0 3.123.327.557.288 1.01.747 1.294 1.311.323.642.323 1.482.323 3.162v4.4c0 1.68 0 2.52-.323 3.162a3 3 0 0 1-1.294 1.311c-.634.327-1.464.327-3.123.327H6.864c-1.66 0-2.49 0-3.123-.327a3 3 0 0 1-1.295-1.311c-.323-.642-.323-1.482-.323-3.162zm7.408 4.5 4.938 5m1.482-2.5c0 2.21-1.77 4-3.951 4s-3.95-1.79-3.95-4 1.768-4 3.95-4 3.95 1.79 3.95 4"})))}const zf=o.forwardRef(Ff);var Bf;function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vf.apply(this,arguments)}function Hf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Vf({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Bf||(Bf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.66,d:"M10 5a.833.833 0 1 0 0-1.667A.833.833 0 0 0 10 5m0 5.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666m0 5.834A.833.833 0 1 0 10 15a.833.833 0 0 0 0 1.667M15.834 5a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667m0 5.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666m0 5.834a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667M4.167 5a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667m0 5.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666m0 5.834a.833.833 0 1 0 0-1.667.833.833 0 0 0 0 1.667"})))}const Wf=o.forwardRef(Hf);var Uf;function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gf.apply(this,arguments)}function qf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Gf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Uf||(Uf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 12a8 8 0 0 1-8 8m8-8a8 8 0 0 0-8-8m8 8h2m-10 8a8 8 0 0 1-8-8m8 8v2M4 12a8 8 0 0 1 8-8m-8 8H2m10-8V2m3 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0"})))}const $f=o.forwardRef(qf);var Jf;function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qf.apply(this,arguments)}function Kf(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Qf({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Jf||(Jf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8 3 8 18M3 17l9-5m-4.2 9h8.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C21 18.72 21 17.88 21 16.2V7.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C18.72 3 17.88 3 16.2 3H7.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C3 5.28 3 6.12 3 7.8v8.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C5.28 21 6.12 21 7.8 21"})))}const Yf=o.forwardRef(Kf);var Xf;function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},em.apply(this,arguments)}function tm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",em({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Xf||(Xf=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.5 5h.434c3.048 0 4.571 0 5.15.547a2 2 0 0 1 .586 1.845c-.156.781-1.4 1.66-3.888 3.42l-4.064 2.876c-2.488 1.76-3.732 2.639-3.888 3.42a2 2 0 0 0 .586 1.845c.579.547 2.102.547 5.15.547h.934M8 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0"})))}const nm=o.forwardRef(tm);var im;function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},om.apply(this,arguments)}function am(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",om({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,im||(im=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10m0-20a15.3 15.3 0 0 0-4 10 15.3 15.3 0 0 0 4 10m0-20C6.477 2 2 6.477 2 12s4.477 10 10 10m0-20c5.523 0 10 4.477 10 10s-4.477 10-10 10M2.5 9h19m-19 6h19"})))}const lm=o.forwardRef(am);var rm;function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sm.apply(this,arguments)}function dm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",sm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,rm||(rm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 13.374c3.532.695 6 2.28 6 4.126 0 2.485-4.477 4.5-10 4.5S2 19.985 2 17.5c0-1.845 2.468-3.431 6-4.126M12 17V3l5.318 3.272c.388.24.581.358.643.509a.5.5 0 0 1-.011.407c-.07.146-.271.254-.672.47L12 10.5"})))}const cm=o.forwardRef(dm);var um;function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pm.apply(this,arguments)}function hm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",pm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,um||(um=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3h4.2c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C21 5.28 21 6.12 21 7.8v8.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V12m5 1v4m8-6v6M12 7v10M5 8V2M2 5h6"})))}const vm=o.forwardRef(hm);var gm;function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fm.apply(this,arguments)}function mm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",fm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,gm||(gm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 20h.2c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C12 17.72 12 16.88 12 15.2V8.8c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311C9.72 4 8.88 4 7.2 4H7m0 16a2 2 0 1 1-4 0 2 2 0 0 1 4 0M7 4a2 2 0 1 1-4 0 2 2 0 0 1 4 0m10 8H7m10 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0M7 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})))}const ym=o.forwardRef(mm);var wm;function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bm.apply(this,arguments)}function Cm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",bm({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,wm||(wm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M16 18.5 14.5 17M14 2H8.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C4 4.28 4 5.12 4 6.8v10.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 22 7.12 22 8.8 22h6.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 19.72 20 18.88 20 17.2V8zm1.5 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"})))}const xm=o.forwardRef(Cm);var Im;function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jm.apply(this,arguments)}function Mm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",jm({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 17",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Im||(Im=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.49 4.589v-.498c0-.697 0-1.045-.136-1.311a1.24 1.24 0 0 0-.544-.544C9.544 2.1 9.195 2.1 8.498 2.1h-.995c-.697 0-1.046 0-1.312.136-.234.119-.425.31-.544.544-.136.266-.136.614-.136 1.311v.498m1.245 3.422v3.111m2.489-3.11v3.11M2.4 4.59h11.2m-1.244 0v6.969c0 1.045 0 1.568-.203 1.967a1.87 1.87 0 0 1-.816.816c-.4.204-.922.204-1.968.204H6.632c-1.046 0-1.569 0-1.968-.204a1.87 1.87 0 0 1-.816-.816c-.203-.399-.203-.922-.203-1.967v-6.97"})))}const km=o.forwardRef(Mm);var Tm;function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Em.apply(this,arguments)}function Pm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Em({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Tm||(Tm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m13.333 4-7.334 7.333L2.666 8"})))}const Om=o.forwardRef(Pm);var Sm;function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_m.apply(this,arguments)}function Nm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",_m({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Sm||(Sm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.667 11.333H4.333m7.334-2.666H4.333M2 6h12M5.2 2h5.6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874C14 3.52 14 4.08 14 5.2v5.6c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C12.48 14 11.92 14 10.8 14H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 12.48 2 11.92 2 10.8V5.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 2 4.08 2 5.2 2"})))}const Dm=o.forwardRef(Nm);var Lm;function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Am.apply(this,arguments)}function Rm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Am({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Lm||(Lm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.667 6.667H2M13.333 4H2m11.333 5.333H2M10.667 12H2"})))}const Zm=o.forwardRef(Rm);var Fm;function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zm.apply(this,arguments)}function Bm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",zm({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Fm||(Fm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.5 6.667h10m0 0a2.5 2.5 0 1 0 5 0 2.5 2.5 0 0 0-5 0m-5 6.666h10m-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"})))}const Vm=o.forwardRef(Bm);var Hm;function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wm.apply(this,arguments)}function Um(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Wm({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Hm||(Hm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.5 10v3.5c0 1.4 0 2.1-.273 2.635a2.5 2.5 0 0 1-1.092 1.092c-.535.273-1.235.273-2.635.273h-7c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 0 1-1.093-1.092C2.5 15.6 2.5 14.9 2.5 13.5V10m10.833-4.167L10 2.5m0 0L6.667 5.833M10 2.5v10"})))}const Gm=o.forwardRef(Um);var qm;function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$m.apply(this,arguments)}function Jm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",$m({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,qm||(qm=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m15 12.5-5-5-5 5"})))}const Qm=o.forwardRef(Jm);var Km;function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ym.apply(this,arguments)}function Xm(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Ym({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Km||(Km=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m5 7.5 5 5 5-5"})))}const ey=o.forwardRef(Xm);var ty;function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ny.apply(this,arguments)}function iy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ny({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ty||(ty=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10 8 6l-4 4"})))}const oy=o.forwardRef(iy);var ay;function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ly.apply(this,arguments)}function ry(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ly({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,ay||(ay=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m4 6 4 4 4-4"})))}const sy=o.forwardRef(ry);var dy;function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cy.apply(this,arguments)}function uy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",cy({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,dy||(dy=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9h18M3 15h18M12 3v18M7.8 3h8.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C21 5.28 21 6.12 21 7.8v8.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V7.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C5.28 3 6.12 3 7.8 3"})))}const py=o.forwardRef(uy);var hy;function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vy.apply(this,arguments)}function gy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",vy({xmlns:"http://www.w3.org/2000/svg",fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,hy||(hy=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M16 13H8m8 4H8m2-8H8m6-7H8.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311C4 4.28 4 5.12 4 6.8v10.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311C6.28 22 7.12 22 8.8 22h6.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C20 19.72 20 18.88 20 17.2V8z"})))}const fy=o.forwardRef(gy);var my;function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yy.apply(this,arguments)}function wy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",yy({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,my||(my=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m16.667 5-9.166 9.167L3.334 10"})))}const by=o.forwardRef(wy);var Cy;function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xy.apply(this,arguments)}function Iy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",xy({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Cy||(Cy=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 17.003 5.833-5.833m0 0h-5m5 0v5M17.003 3 11.17 8.833m0 0h5m-5 0v-5"})))}const jy=o.forwardRef(Iy);var My;function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ky.apply(this,arguments)}function Ty(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ky({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,My||(My=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.333 10v1.333m2.667-4v4m2.667-6.666v6.666M5.2 14h5.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C14 12.48 14 11.92 14 10.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C12.48 2 11.92 2 10.8 2H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 3.52 2 4.08 2 5.2v5.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C3.52 14 4.08 14 5.2 14"})))}const Ey=o.forwardRef(Ty);var Py;function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oy.apply(this,arguments)}function Sy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Oy({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 12 12",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Py||(Py=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 4.5V3A1.5 1.5 0 1 0 3 4.5zm0 0v3m0-3h3m-3 3V9A1.5 1.5 0 1 1 3 7.5zm0 0h3m0 0H9A1.5 1.5 0 1 1 7.5 9zm0 0v-3m0 0V3A1.5 1.5 0 1 1 9 4.5z"})))}const _y=o.forwardRef(Sy);var Ny;function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dy.apply(this,arguments)}function Ly(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Dy({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ny||(Ny=o.createElement("path",{fill:"currentColor",d:"M13.5 2h-8a.5.5 0 0 0-.5.5V5H2.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V11h2.5a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5M10 13H3V6h7zm3-3h-2V5.5a.5.5 0 0 0-.5-.5H6V3h7z"})))}const Ay=o.forwardRef(Ly);var Ry,Zy;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fy.apply(this,arguments)}function zy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Fy({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ry||(Ry=o.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.25,clipPath:"url(#a)"},o.createElement("path",{d:"M14.67 7.388v.614a6.667 6.667 0 1 1-3.954-6.094"}),o.createElement("path",{d:"M14.667 2.667 8 9.34l-2-2"}))),Zy||(Zy=o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))}const By=o.forwardRef(zy);var Vy,Hy;function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wy.apply(this,arguments)}function Uy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Wy({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Vy||(Vy=o.createElement("g",{clipPath:"url(#clip0_27663_66742)"},o.createElement("path",{d:"M8.00001 1.33527C11.6813 1.33527 14.6667 3.98727 14.6667 7.26127C14.6661 8.2434 14.2757 9.18515 13.5812 9.87957C12.8866 10.574 11.9448 10.9642 10.9627 10.9646H9.65201C9.03734 10.9646 8.54068 11.4613 8.54068 12.0759C8.54068 12.3573 8.65201 12.6166 8.82201 12.8093C9.00001 13.0093 9.11134 13.2686 9.11134 13.5573C9.11134 14.1726 8.60001 14.6686 8.00001 14.6686C4.31868 14.6686 1.33334 11.6833 1.33334 8.00193C1.33334 4.3206 4.31868 1.33527 8.00001 1.33527ZM7.20734 12.0759C7.20708 11.7548 7.27013 11.4368 7.3929 11.1401C7.51566 10.8434 7.69572 10.5738 7.92278 10.3467C8.14984 10.1196 8.41945 9.93958 8.71617 9.81682C9.01288 9.69406 9.3309 9.631 9.65201 9.63127H10.9627C11.5911 9.63091 12.1937 9.38122 12.6381 8.937C13.0826 8.49277 13.3326 7.89033 13.3333 7.26193C13.3333 4.76127 10.9787 2.6686 8.00001 2.6686C6.62373 2.66734 5.30024 3.19817 4.30626 4.1501C3.31229 5.10203 2.72478 6.40135 2.66658 7.7764C2.60838 9.15146 3.084 10.4958 3.99399 11.5283C4.90397 12.5608 6.17788 13.2016 7.54934 13.3166C7.32612 12.9415 7.20799 12.5131 7.20734 12.0766V12.0759ZM5.00001 8.00193C4.73479 8.00193 4.48044 7.89658 4.2929 7.70904C4.10537 7.5215 4.00001 7.26715 4.00001 7.00193C4.00001 6.73672 4.10537 6.48236 4.2929 6.29483C4.48044 6.10729 4.73479 6.00193 5.00001 6.00193C5.26523 6.00193 5.51958 6.10729 5.70712 6.29483C5.89465 6.48236 6.00001 6.73672 6.00001 7.00193C6.00001 7.26715 5.89465 7.5215 5.70712 7.70904C5.51958 7.89658 5.26523 8.00193 5.00001 8.00193ZM11 8.00193C10.7348 8.00193 10.4804 7.89658 10.2929 7.70904C10.1054 7.5215 10 7.26715 10 7.00193C10 6.73672 10.1054 6.48236 10.2929 6.29483C10.4804 6.10729 10.7348 6.00193 11 6.00193C11.2652 6.00193 11.5196 6.10729 11.7071 6.29483C11.8947 6.48236 12 6.73672 12 7.00193C12 7.26715 11.8947 7.5215 11.7071 7.70904C11.5196 7.89658 11.2652 8.00193 11 8.00193ZM8.00001 6.00193C7.73479 6.00193 7.48044 5.89658 7.2929 5.70904C7.10537 5.5215 7.00001 5.26715 7.00001 5.00193C7.00001 4.73672 7.10537 4.48236 7.2929 4.29483C7.48044 4.10729 7.73479 4.00193 8.00001 4.00193C8.26523 4.00193 8.51958 4.10729 8.70712 4.29483C8.89465 4.48236 9.00001 4.73672 9.00001 5.00193C9.00001 5.26715 8.89465 5.5215 8.70712 5.70904C8.51958 5.89658 8.26523 6.00193 8.00001 6.00193Z",fill:"currentColor"}))),Hy||(Hy=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_27663_66742"},o.createElement("rect",{width:16,height:16,fill:"white",transform:"translate(0 0.00195312)"})))))}const Gy=o.forwardRef(Uy);var qy;function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$y.apply(this,arguments)}function Jy(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",$y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,qy||(qy=o.createElement("path",{d:"M11.36 4.48a1.14 1.14 0 0 0-.931-.48l-6.286.006A1.14 1.14 0 0 0 3 5.143v5.714a1.14 1.14 0 0 0 1.143 1.137l6.286.006c.382 0 .725-.189.931-.48L13.857 8z"})))}const Qy=o.forwardRef(Jy);var Ky,Yy,Xy;function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ew.apply(this,arguments)}function tw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ew({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ky||(Ky=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"white"})),Yy||(Yy=o.createElement("path",{d:"M11.36 4.48C11.1543 4.18857 10.8114 4 10.4286 4L4.14286 4.00571C3.51429 4.00571 3 4.51429 3 5.14286V10.8571C3 11.4857 3.51429 11.9943 4.14286 11.9943L10.4286 12C10.8114 12 11.1543 11.8114 11.36 11.52L13.8571 8L11.36 4.48Z",fill:"currentColor"})),Xy||(Xy=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.49989 13L10.4999 1.99998L11.7654 2.8053L4.76538 13.8053L3.49989 13Z",fill:"white"})))}const nw=o.forwardRef(tw);var iw,ow;function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},aw.apply(this,arguments)}function lw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",aw({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,iw||(iw=o.createElement("circle",{cx:11,cy:11,r:11,fill:"currentColor"})),ow||(ow=o.createElement("path",{d:"M15.8348 6.27832L5.13127 9.5885C4.52935 9.78399 4.62065 10.6726 5.2494 10.7458L10.1178 11.3123C10.1757 11.3191 10.2285 11.3485 10.2647 11.3942C10.3009 11.4399 10.3174 11.4982 10.3107 11.5561L9.74419 16.4238C9.67101 17.0526 10.5222 17.3442 10.8494 16.8047L16.5216 7.14603C16.5845 7.0431 16.6143 6.92335 16.607 6.80294C16.5997 6.68253 16.5556 6.56726 16.4808 6.47267C16.4059 6.37808 16.3039 6.30874 16.1884 6.27398C16.0728 6.23923 15.9495 6.24075 15.8348 6.27832Z",fill:"white"})))}const rw=o.forwardRef(lw);var sw;function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dw.apply(this,arguments)}function cw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",dw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,sw||(sw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.374 1.955c.225-.164.337-.246.46-.277a.7.7 0 0 1 .332 0c.123.031.236.113.46.277l5.413 3.928c.226.163.338.245.407.353.06.094.095.203.102.315.008.127-.035.26-.121.525L12.36 13.43c-.086.265-.13.397-.21.495a.7.7 0 0 1-.268.195c-.119.047-.258.047-.536.047H4.655c-.279 0-.418 0-.536-.047a.7.7 0 0 1-.268-.195c-.081-.098-.125-.23-.21-.495L1.572 7.076c-.086-.265-.129-.398-.12-.525a.7.7 0 0 1 .102-.315c.068-.108.18-.19.406-.353z"})))}const uw=o.forwardRef(cw);var pw;function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hw.apply(this,arguments)}function vw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",hw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,pw||(pw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 8h.007M11 8h.007M8 8h.007M8 11h.007M8 5h.007M2 5.2v5.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C3.52 14 4.08 14 5.2 14h5.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C14 12.48 14 11.92 14 10.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C12.48 2 11.92 2 10.8 2H5.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C2 3.52 2 4.08 2 5.2"})))}const gw=o.forwardRef(vw);var fw;function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mw.apply(this,arguments)}function yw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",mw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,fw||(fw=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 1.333A10.2 10.2 0 0 1 10.667 8 10.2 10.2 0 0 1 8 14.667M8 1.333A10.2 10.2 0 0 0 5.334 8 10.2 10.2 0 0 0 8 14.667M8 1.333a6.667 6.667 0 0 0 0 13.334M8 1.333a6.667 6.667 0 1 1 0 13.334M1.667 6h12.667M1.667 10h12.667"})))}const ww=o.forwardRef(yw);var bw;function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cw.apply(this,arguments)}function xw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Cw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,bw||(bw=o.createElement("path",{d:"m6.003 1.228 4.049 2.362 4.617-1.924v5.667h-1.333V3.666l-2.667 1.112v2.555H9.336V4.716L6.669 3.16v8.124l1.246.726-.672 1.152-1.29-.753-4.617 1.924V3.95zm-.667 9.994V3.16L2.669 4.716v7.617zm7.858-3.165 2.751 2.751-4.857 4.858H8.336v-2.752zm-.615 2.5.866.867.615-.616-.867-.866zm-.076 1.809-.867-.867-1.967 1.967v.867h.867z"})))}const Iw=o.forwardRef(xw);var jw;function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mw.apply(this,arguments)}function kw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Mw({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,jw||(jw=o.createElement("path",{d:"M9.5 2a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-1 0v-15a.5.5 0 0 1 .5-.5M4 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h4V4zm11 1a1 1 0 0 1 1 1v.5a.5.5 0 0 0 1 0V6a2 2 0 0 0-2-2h-.5a.5.5 0 0 0 0 1zm0 10a1 1 0 0 0 1-1v-.5a.5.5 0 0 1 1 0v.5a2 2 0 0 1-2 2h-.5a.5.5 0 0 1 0-1zm1.5-7a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-.5-.5m-4-4a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1zm.5 11.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0 0 1h1a.5.5 0 0 0 .5-.5"})))}const Tw=o.forwardRef(kw);var Ew;function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pw.apply(this,arguments)}function Ow(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Pw({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ew||(Ew=o.createElement("path",{d:"M2.7624 11.8637C3.5599 12.5003 4.73406 12.5003 7.08073 12.5003C7.19124 12.5003 7.29722 12.5442 7.37536 12.6224C7.4535 12.7005 7.4974 12.8065 7.4974 12.917C7.4974 15.2645 7.4974 16.4378 8.13406 17.2353C8.27017 17.4064 8.42406 17.5603 8.59573 17.697C9.39323 18.3337 10.5674 18.3337 12.9141 18.3337C15.2607 18.3337 16.4349 18.3337 17.2324 17.697C17.4031 17.5609 17.5579 17.406 17.6941 17.2353C18.3307 16.4378 18.3307 15.2645 18.3307 12.917C18.3307 10.5703 18.3307 9.39616 17.6941 8.59866C17.5579 8.42798 17.4031 8.27312 17.2324 8.13699C16.4349 7.50033 15.2616 7.50033 12.9141 7.50033C12.8036 7.50033 12.6976 7.45643 12.6194 7.37829C12.5413 7.30015 12.4974 7.19417 12.4974 7.08366C12.4974 4.73699 12.4974 3.56283 11.8607 2.76533C11.7246 2.59464 11.5697 2.43978 11.3991 2.30366C10.6016 1.66699 9.4274 1.66699 7.08073 1.66699C4.73406 1.66699 3.5599 1.66699 2.7624 2.30366C2.59171 2.43978 2.43685 2.59464 2.30073 2.76533C1.66406 3.56283 1.66406 4.73699 1.66406 7.08366C1.66406 9.43033 1.66406 10.6045 2.30073 11.402C2.43684 11.5737 2.59073 11.7275 2.7624 11.8637Z",stroke:"black",strokeMiterlimit:16,strokeLinecap:"round"})))}const Sw=o.forwardRef(Ow);var _w;function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nw.apply(this,arguments)}function Dw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Nw({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,_w||(_w=o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.58 4.168h.363c2.54 0 3.809 0 4.29.456.417.394.602.975.49 1.537-.13.651-1.167 1.384-3.24 2.85l-3.388 2.397c-2.073 1.466-3.11 2.2-3.24 2.85a1.67 1.67 0 0 0 .49 1.537c.481.456 1.751.456 4.29.456h.78M6.664 4.168a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0M18.33 15.835a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"})))}const Lw=o.forwardRef(Dw);var Aw;function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rw.apply(this,arguments)}function Zw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Rw({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Aw||(Aw=o.createElement("path",{d:"M18.33 16.667a.834.834 0 0 1-.833.833h-15a.833.833 0 0 1-.833-.833V3.333a.833.833 0 0 1 .833-.833h15a.833.833 0 0 1 .834.833zM9.165 12.5H3.331v3.333h5.833zm7.5-3.333h-5.833v6.666h5.833zm-7.5-5H3.331v6.666h5.833zm7.5 0h-5.833V7.5h5.833z"})))}const Fw=o.forwardRef(Zw);var zw;function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bw.apply(this,arguments)}function Vw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Bw({width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,zw||(zw=o.createElement("path",{d:"M9 3.5V2M5.06066 5.06066L4 4M5.06066 13L4 14.0607M13 5.06066L14.0607 4M3.5 9H2M15.8645 16.1896L13.3727 20.817C13.0881 21.3457 12.9457 21.61 12.7745 21.6769C12.6259 21.7349 12.4585 21.7185 12.324 21.6328C12.1689 21.534 12.0806 21.2471 11.9038 20.6733L8.44519 9.44525C8.3008 8.97651 8.2286 8.74213 8.28669 8.58383C8.33729 8.44595 8.44595 8.33729 8.58383 8.2867C8.74213 8.22861 8.9765 8.3008 9.44525 8.44519L20.6732 11.9038C21.247 12.0806 21.5339 12.169 21.6327 12.324C21.7185 12.4586 21.7348 12.6259 21.6768 12.7745C21.61 12.9458 21.3456 13.0881 20.817 13.3728L16.1896 15.8645C16.111 15.9068 16.0717 15.9279 16.0374 15.9551C16.0068 15.9792 15.9792 16.0068 15.9551 16.0374C15.9279 16.0717 15.9068 16.111 15.8645 16.1896Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const Hw=o.forwardRef(Vw);var Ww;function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uw.apply(this,arguments)}function Gw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Uw({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,Ww||(Ww=o.createElement("path",{fill:"currentColor",strokeWidth:.25,d:"M7.992.11a.4.4 0 0 0-.383.317l-.26 1.228H4.503a.56.56 0 0 0-.427.198L.133 6.495a.56.56 0 0 0 .427.923l5.576-.004-.495 2.348-3.87.003 1.315-1.55-1.47.002L.133 9.963a.56.56 0 0 0 .427.923l4.845-.003-.096.453a.4.4 0 0 0 .391.482h4.6a.4.4 0 0 0 .391-.482l-.096-.457 4.845-.003a.56.56 0 0 0 .427-.923l-1.481-1.745-1.469.001 1.314 1.548-3.872.002-.495-2.348 5.576-.003a.56.56 0 0 0 .427-.923l-3.933-4.632a.56.56 0 0 0-.426-.198H8.65L8.391.426A.4.4 0 0 0 7.992.11M4.761 2.774h2.353l-.742 3.519-4.601.003zm4.125 0h2.362l2.983 3.513-4.604.004zm5.5 8.888-1.469.001 1.314 1.548-12.46.008 1.315-1.549-1.47.001-1.483 1.746a.56.56 0 0 0 .427.923l14.88-.01a.56.56 0 0 0 .427-.923z"})))}const qw=o.forwardRef(Gw);var $w,Jw,Qw,Kw;function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yw.apply(this,arguments)}function Xw(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 16",stroke:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,$w||($w=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",strokeWidth:.2,d:"M4.033 11.932a6.666 6.666 0 0 1 .173-8.09.667.667 0 1 1 1.042.832 5.333 5.333 0 1 0 5.066-1.931.667.667 0 0 1 .224-1.314 6.666 6.666 0 1 1-6.505 10.503",clipRule:"evenodd"})),Jw||(Jw=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",strokeWidth:.2,d:"M6.208 10.392a4 4 0 0 1 .065-4.868.667.667 0 1 1 1.047.826 2.667 2.667 0 1 0 2.48-.988.667.667 0 0 1 .193-1.32 4 4 0 1 1-3.785 6.352z",clipRule:"evenodd"})),Qw||(Qw=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",strokeWidth:.2,d:"M3.61 2.195a.667.667 0 0 1 .942 0L9.885 7.53a.667.667 0 0 1-.942.942L3.609 3.138a.667.667 0 0 1 0-.943",clipRule:"evenodd"})),Kw||(Kw=o.createElement("path",{fill:"currentColor",strokeWidth:.2,d:"M8.75 8.332a1 1 0 1 1 2 0 1 1 0 0 1-2 0"})))}const eb=o.forwardRef(Xw);var tb,nb;function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ib.apply(this,arguments)}function ob(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ib({width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,tb||(tb=o.createElement("g",{clipPath:"url(#clip0_6574_34228)"},o.createElement("path",{d:"M1.33073 8.9987C1.33073 5.3167 4.3154 2.33203 7.9974 2.33203C11.6794 2.33203 14.6641 5.3167 14.6641 8.9987C14.6641 12.6807 11.6794 15.6654 7.9974 15.6654",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M7.32885 2.36719C7.32885 2.36719 5.32885 5.00052 5.32885 9.00052M8.66219 15.6339C8.66219 15.6339 10.6622 13.0005 10.6622 9.00052C10.6622 5.00052 8.66219 2.36719 8.66219 2.36719M14.2422 11.3339H7.99552M14.2422 6.66719H1.74885",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M1.41387 12.9425C1.08454 13.1451 1.1052 13.6378 1.44387 13.6765L3.1552 13.8705L3.92254 15.4118C4.07454 15.7178 4.54454 15.5678 4.62254 15.1891L5.4592 11.1118C5.5252 10.7918 5.2372 10.5905 4.9592 10.7618L1.41387 12.9425Z",stroke:"currentColor"}))),nb||(nb=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_6574_34228"},o.createElement("rect",{width:16,height:16,fill:"white",transform:"matrix(-1 0 0 1 16 1)"})))))}const ab=o.forwardRef(ob);var lb;function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rb.apply(this,arguments)}function sb(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",rb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,lb||(lb=o.createElement("path",{d:"m10 14-4-1.4-3.1 1.2a.6.6 0 0 1-.617-.075.66.66 0 0 1-.283-.558V3.833a.62.62 0 0 1 .125-.383.76.76 0 0 1 .342-.25L6 2l4 1.4 3.1-1.2a.6.6 0 0 1 .617.075q.283.21.283.558v9.334a.62.62 0 0 1-.125.383.75.75 0 0 1-.342.25zm-.667-1.633v-7.8l-2.666-.934v7.8zm1.334 0 2-.667V3.8l-2 .767zM3.333 12.2l2-.767v-7.8l-2 .667z"})))}const db=o.forwardRef(sb);var cb;function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ub.apply(this,arguments)}function pb(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",ub({xmlns:"http://www.w3.org/2000/svg",width:17,height:17,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 17 17",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,cb||(cb=o.createElement("path",{d:"M8 15q2.1 0 3.717-1.275a5.8 5.8 0 0 0 2.1-3.258.5.5 0 0 0-.1-.458.65.65 0 0 0-.45-.242.72.72 0 0 0-.484.1.7.7 0 0 0-.3.4 4.44 4.44 0 0 1-1.65 2.45 4.56 4.56 0 0 1-2.833.95q-1.95 0-3.309-1.358Q3.333 10.95 3.333 9t1.358-3.308Q6.048 4.335 8 4.333a4.5 4.5 0 0 1 2.15.534 4.95 4.95 0 0 1 1.683 1.466h-1.166a.65.65 0 0 0-.476.192A.64.64 0 0 0 10 7a.65.65 0 0 0 .192.475.64.64 0 0 0 .475.192h2.666a.64.64 0 0 0 .475-.192A.65.65 0 0 0 14 7V4.333a.64.64 0 0 0-.192-.474.65.65 0 0 0-.475-.192.64.64 0 0 0-.475.192.64.64 0 0 0-.191.474v.9A5.95 5.95 0 0 0 8 3q-1.25 0-2.342.475a6.1 6.1 0 0 0-1.9 1.283 6.1 6.1 0 0 0-1.283 1.9A5.8 5.8 0 0 0 2 9q0 1.25.475 2.342a6.1 6.1 0 0 0 1.283 1.9q.81.807 1.9 1.283A5.8 5.8 0 0 0 8 15m-.667-6.267L5.667 10.4a.63.63 0 0 0-.184.467q0 .283.184.466a.63.63 0 0 0 .466.184.63.63 0 0 0 .467-.184l1.867-1.866a.67.67 0 0 0 .2-.484v-2.65a.64.64 0 0 0-.192-.474A.65.65 0 0 0 8 5.667a.64.64 0 0 0-.475.192.64.64 0 0 0-.192.474z"})))}const hb=o.forwardRef(pb);var vb;function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gb.apply(this,arguments)}function fb(e,t){let{title:n,titleId:i,...a}=e;return o.createElement("svg",gb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",ref:t,"aria-labelledby":i},a),n?o.createElement("title",{id:i},n):null,vb||(vb=o.createElement("path",{d:"M6.073 3.63c.399-1.166 2.011-1.201 2.484-.105l.04.106.538 1.574a2.67 2.67 0 0 0 1.517 1.607l.145.054 1.573.537c1.167.399 1.202 2.011.107 2.484l-.107.04-1.573.538a2.67 2.67 0 0 0-1.608 1.517l-.054.144-.538 1.574c-.398 1.167-2.01 1.202-2.482.107l-.042-.107-.537-1.573a2.67 2.67 0 0 0-1.517-1.608l-.144-.054L2.3 9.927c-1.166-.397-1.2-2.01-.105-2.482l.106-.042 1.574-.537a2.67 2.67 0 0 0 1.607-1.517l.054-.144zm1.262.431-.537 1.574a4 4 0 0 1-2.327 2.432l-.166.061-1.574.537 1.574.538a4 4 0 0 1 2.432 2.326l.061.167.537 1.573.538-1.573a4 4 0 0 1 2.326-2.433l.167-.06 1.573-.538-1.573-.537a4 4 0 0 1-2.433-2.327l-.06-.166zm5.334-2.729a.67.67 0 0 1 .598.373l.032.078.234.684.684.234a.667.667 0 0 1 .079 1.23l-.079.032-.684.233-.233.685a.667.667 0 0 1-1.23.078l-.032-.078-.233-.684-.685-.234a.667.667 0 0 1-.079-1.23l.079-.032.684-.233.233-.685a.67.67 0 0 1 .632-.451"})))}const mb=o.forwardRef(fb),yb="icon_icon__wTqY+",wb="icon_rotate__EXHkI";var bb=n(94553);const Cb={map:(0,bb.jsx)(s,{}),undo:(0,bb.jsx)(p,{}),redo:(0,bb.jsx)(f,{}),filter:(0,bb.jsx)(b,{}),grouping:(0,bb.jsx)(j,{}),sorting:(0,bb.jsx)(E,{}),search:(0,bb.jsx)(_,{}),settings:(0,bb.jsx)(R,{}),export:(0,bb.jsx)(B,{}),share:(0,bb.jsx)(U,{}),arrowExpand:(0,bb.jsx)(J,{}),projectList:(0,bb.jsx)(X,{}),recycleBin:(0,bb.jsx)(ie,{}),help:(0,bb.jsx)(ue,{}),notification:(0,bb.jsx)(re,{}),table:(0,bb.jsx)(ge,{}),arrowRight2:(0,bb.jsx)(we,{}),arrowRight3:(0,bb.jsx)(je,{}),arrowRight4:(0,bb.jsx)(Pe,{}),arrowRight5:(0,bb.jsx)(Ne,{}),arrowLeft:(0,bb.jsx)(Re,{}),arrowLeft3:(0,bb.jsx)(Ve,{}),arrowLeft4:(0,bb.jsx)(qe,{}),folder:(0,bb.jsx)(Ke,{}),folderSingle:(0,bb.jsx)(nt,{}),layer:(0,bb.jsx)(lt,{}),more:(0,bb.jsx)(pt,{}),plus:(0,bb.jsx)(mt,{}),caretBottom:(0,bb.jsx)(Ct,{}),visible:(0,bb.jsx)(Mt,{}),invisible:(0,bb.jsx)(Pt,{}),close:(0,bb.jsx)(Nt,{}),closeFilled:(0,bb.jsx)(Rt,{}),filledStar:(0,bb.jsx)(Ut,{}),star:(0,bb.jsx)(Bt,{}),point:(0,bb.jsx)(Jt,{}),line:(0,bb.jsx)(Xt,{}),polygon:(0,bb.jsx)(on,{}),datetime:(0,bb.jsx)(_n,{}),createTime:(0,bb.jsx)(An,{}),updateTime:(0,bb.jsx)(zn,{}),multiLineText:(0,bb.jsx)(pn,{}),coordinate:(0,bb.jsx)(fn,{}),number:(0,bb.jsx)(bn,{}),singleChoice:(0,bb.jsx)(jn,{}),multiChoice:(0,bb.jsx)(En,{}),attachment:(0,bb.jsx)(Wn,{}),formula:(0,bb.jsx)($n,{}),doc:(0,bb.jsx)(ni,{}),xls:(0,bb.jsx)(pi,{}),zip:(0,bb.jsx)(wi,{}),download:(0,bb.jsx)(Ii,{}),edit:(0,bb.jsx)(Ti,{}),mark:(0,bb.jsx)(Si,{}),info:(0,bb.jsx)(Li,{}),movable:(0,bb.jsx)(Fi,{}),config:(0,bb.jsx)(Hi,{}),expandArrow:(0,bb.jsx)(qi,{}),mapPin:(0,bb.jsx)(Ki,{}),mapCenter:(0,bb.jsx)(to,{}),batch:(0,bb.jsx)(ao,{}),operationSaving:(0,bb.jsx)(co,{}),networkBroken:(0,bb.jsx)(vo,{}),networkConnected:(0,bb.jsx)(yo,{}),networkConnecting:(0,bb.jsx)(Po,{}),members:(0,bb.jsx)(No,{}),inviteMember:(0,bb.jsx)(Ro,{}),plainPlus:(0,bb.jsx)(Bo,{}),union:(0,bb.jsx)(Uo,{}),chart:(0,bb.jsx)(Jo,{}),columnChart:(0,bb.jsx)(Xo,{}),scatterChart:(0,bb.jsx)(fa,{}),pieChart:(0,bb.jsx)(ia,{}),lineChart:(0,bb.jsx)(ra,{}),stackedChart:(0,bb.jsx)(Ca,{}),barChart:(0,bb.jsx)(Ma,{}),comboChart:(0,bb.jsx)(Pa,{}),shrink:(0,bb.jsx)(Na,{}),checkbox:(0,bb.jsx)(Ra,{}),boolean:(0,bb.jsx)(Ra,{}),snapshot:(0,bb.jsx)(Ba,{}),apps:(0,bb.jsx)(Ua,{}),data:(0,bb.jsx)(Ja,{}),setting:(0,bb.jsx)(Xa,{}),earth:(0,bb.jsx)(il,{}),compass:(0,bb.jsx)(rl,{}),treasureMap:(0,bb.jsx)(ul,{}),pushpin:(0,bb.jsx)(gl,{}),pinDistance:(0,bb.jsx)(wl,{}),shoppingBag3:(0,bb.jsx)(Il,{}),thumbUp:(0,bb.jsx)(Tl,{}),moneyDollarCircle:(0,bb.jsx)(Sl,{}),moneyCNYCircle:(0,bb.jsx)(Ll,{}),swap:(0,bb.jsx)(dr,{}),lightbulbFlash:(0,bb.jsx)(Fl,{}),seeding:(0,bb.jsx)(Hl,{}),numbers:(0,bb.jsx)(ql,{}),fileText:(0,bb.jsx)(Kl,{}),fileTextReverse:(0,bb.jsx)(tr,{}),todo:(0,bb.jsx)(ar,{}),menuCsv:(0,bb.jsx)(hr,{}),menuSync:(0,bb.jsx)(mr,{}),menuFolder:(0,bb.jsx)(Cr,{}),menuExcel:(0,bb.jsx)(Mr,{}),menuGeoJson:(0,bb.jsx)(Pr,{}),menuPaste:(0,bb.jsx)(Dr,{}),menuTable:(0,bb.jsx)(Zr,{}),warning:(0,bb.jsx)(Vr,{}),warning2:(0,bb.jsx)(Gr,{}),tableSubscribed:(0,bb.jsx)(Kr,{}),tablePublished:(0,bb.jsx)(ns,{}),tableSyncFail:(0,bb.jsx)(rs,{}),bigTable:(0,bb.jsx)(us,{}),bigTablePublished:(0,bb.jsx)(Is,{}),bigTableSubscribed:(0,bb.jsx)(ms,{}),ellipse:(0,bb.jsx)(Ts,{}),userGroup:(0,bb.jsx)(Ss,{}),checked:(0,bb.jsx)(As,{}),user:(0,bb.jsx)(Bs,{}),alert:(0,bb.jsx)(Us,{}),dataList:(0,bb.jsx)(Js,{}),subscribe:(0,bb.jsx)(Xs,{}),publish:(0,bb.jsx)(id,{}),succeeded:(0,bb.jsx)(rd,{}),sync:(0,bb.jsx)(ud,{}),form:(0,bb.jsx)(gd,{}),personal:(0,bb.jsx)(wd,{}),lock:(0,bb.jsx)(Id,{}),menu:(0,bb.jsx)(Td,{}),wechat:(0,bb.jsx)(Sd,{}),timeline:(0,bb.jsx)(Ld,{}),timelinePause:(0,bb.jsx)(Fd,{}),timelinePlay:(0,bb.jsx)(Hd,{}),timelineRange:(0,bb.jsx)(qd,{}),timelineReset:(0,bb.jsx)(Kd,{}),timelineSpeed:(0,bb.jsx)(tc,{}),description:(0,bb.jsx)(ac,{}),infoReverse:(0,bb.jsx)(dc,{}),"3d":(0,bb.jsx)(hc,{}),logo:(0,bb.jsx)(mc,{}),creator:(0,bb.jsx)(Cc,{}),updater:(0,bb.jsx)(Mc,{}),dashboard:(0,bb.jsx)(Pc,{}),fullscreen:(0,bb.jsx)(Nc,{}),download2:(0,bb.jsx)(Rc,{}),groupExpand:(0,bb.jsx)(Bc,{}),groupCollapse:(0,bb.jsx)(Uc,{}),question:(0,bb.jsx)(Jc,{}),rowHeightLow:(0,bb.jsx)(Xc,{}),rowHeightMiddle:(0,bb.jsx)(iu,{}),rowHeightHigh:(0,bb.jsx)(ru,{}),member:(0,bb.jsx)(uu,{}),hyperlink:(0,bb.jsx)(gu,{}),related:(0,bb.jsx)(Mu,{}),relatedFrom:(0,bb.jsx)(Pu,{className:wb}),relatedTo:(0,bb.jsx)(Pu,{}),annotation:(0,bb.jsx)(bu,{}),annotationFreeline:(0,bb.jsx)(Nu,{}),annotationLine:(0,bb.jsx)(Bu,{}),annotationMarker:(0,bb.jsx)(Ru,{}),annotationRectangle:(0,bb.jsx)(Uu,{}),annotationSticker:(0,bb.jsx)(Ju,{}),annotationText:(0,bb.jsx)(Xu,{}),annotationCircle:(0,bb.jsx)(ip,{}),annotationForward:(0,bb.jsx)(rp,{}),lookup:(0,bb.jsx)(pp,{}),annotationPolygon:(0,bb.jsx)(fp,{}),cursor:(0,bb.jsx)(bp,{}),arrowDown:(0,bb.jsx)(jp,{}),warningPoint:(0,bb.jsx)(Ep,{}),loading:(0,bb.jsx)(_p,{}),upload:(0,bb.jsx)(Yp,{}),circle:(0,bb.jsx)(sn,{}),eraser:(0,bb.jsx)(zp,{}),editVertex:(0,bb.jsx)(Ap,{}),scissors:(0,bb.jsx)($p,{}),move:(0,bb.jsx)(Wp,{}),arrow:(0,bb.jsx)(ih,{}),location:(0,bb.jsx)(rh,{}),chat:(0,bb.jsx)(uh,{}),focus:(0,bb.jsx)(mh,{}),focusReverse:(0,bb.jsx)(Ih,{}),noImage:(0,bb.jsx)(Th,{}),distance:(0,bb.jsx)(Sh,{}),maptable:(0,bb.jsx)(Lh,{}),maptableLogo:(0,bb.jsx)(Fh,{}),embedNotFound:(0,bb.jsx)(Gh,{}),iconLayerIconLocation:(0,bb.jsx)(Kh,{}),iconLayerIconCircle:(0,bb.jsx)(nv,{}),iconLayerIconSquare:(0,bb.jsx)(lv,{}),iconLayerIconDiamond:(0,bb.jsx)(cv,{}),iconLayerIconTriangle:(0,bb.jsx)(vv,{}),iconLayerIconCross:(0,bb.jsx)(yv,{}),iconLayerIconPlus:(0,bb.jsx)(xv,{}),iconLayerIconFlag:(0,bb.jsx)(kv,{}),iconLayerIconStar:(0,bb.jsx)(Ov,{}),iconLayerIconLove:(0,bb.jsx)(Dv,{}),delete:(0,bb.jsx)(Zv,{}),questionMark:(0,bb.jsx)(Vv,{}),cardView:(0,bb.jsx)(qv,{}),listView:(0,bb.jsx)(Kv,{}),groupFill:(0,bb.jsx)(ng,{}),lockFill:(0,bb.jsx)(rg,{}),userFill:(0,bb.jsx)(pg,{}),dualView:(0,bb.jsx)(fg,{}),splitView:(0,bb.jsx)(Cg,{}),document:(0,bb.jsx)(kg,{}),region:(0,bb.jsx)(Sg,{}),building:(0,bb.jsx)(Lg,{}),giftFill:(0,bb.jsx)(Jg,{}),email:(0,bb.jsx)(Xg,{}),picture:(0,bb.jsx)(of,{}),alignLeft:(0,bb.jsx)(sf,{}),star2:(0,bb.jsx)(pf,{}),container:(0,bb.jsx)(ff,{}),file:(0,bb.jsx)(bf,{}),fileCheck:(0,bb.jsx)(jf,{}),message:(0,bb.jsx)(Ef,{}),doubleArrowLeft:(0,bb.jsx)(_f,{}),doubleArrowRight:(0,bb.jsx)(Af,{}),folderClosed:(0,bb.jsx)(zf,{}),allApp:(0,bb.jsx)(Wf,{}),geocoding:(0,bb.jsx)($f,{}),boundary:(0,bb.jsx)(Yf,{}),direction:(0,bb.jsx)(nm,{}),analysis:(0,bb.jsx)(lm,{}),isochrone:(0,bb.jsx)(cm,{}),enrichment:(0,bb.jsx)(vm,{}),aggregate:(0,bb.jsx)(ym,{}),mapFilter:(0,bb.jsx)(xm,{}),remove:(0,bb.jsx)(km,{}),right:(0,bb.jsx)(Om,{}),sortTable:(0,bb.jsx)(Dm,{}),sortList:(0,bb.jsx)(Zm,{}),settings2:(0,bb.jsx)(Vm,{}),share2:(0,bb.jsx)(Gm,{}),arrowUp2:(0,bb.jsx)(Qm,{}),arrowDown2:(0,bb.jsx)(ey,{}),collapse:(0,bb.jsx)(oy,{}),expand:(0,bb.jsx)(sy,{}),tableView:(0,bb.jsx)(py,{}),formView:(0,bb.jsx)(fy,{}),check:(0,bb.jsx)(by,{}),minimize:(0,bb.jsx)(jy,{}),statistics:(0,bb.jsx)(Ey,{}),toolboxes:(0,bb.jsx)(_y,{}),templates:(0,bb.jsx)(Wg,{}),template:(0,bb.jsx)(Fg,{}),copy:(0,bb.jsx)(Ay,{}),guaranteed:(0,bb.jsx)(By,{}),palette:(0,bb.jsx)(Gy,{}),label:(0,bb.jsx)(Qy,{}),labelOff:(0,bb.jsx)(nw,{}),navigate:(0,bb.jsx)(rw,{}),pentagon:(0,bb.jsx)(uw,{}),gridDots:(0,bb.jsx)(gw,{}),globe:(0,bb.jsx)(ww,{}),layerEdit:(0,bb.jsx)(Iw,{}),split:(0,bb.jsx)(Tw,{}),merge:(0,bb.jsx)(Sw,{}),route:(0,bb.jsx)(Lw,{}),adminBoundary:(0,bb.jsx)(Fw,{}),cursorClick:(0,bb.jsx)(Hw,{}),vectorTile:(0,bb.jsx)(qw,{}),proximityAnalysis:(0,bb.jsx)(eb,{}),global:(0,bb.jsx)(ab,{}),map1:(0,bb.jsx)(db,{}),history:(0,bb.jsx)(hb,{}),ai:(0,bb.jsx)(mb,{})},xb=(0,o.forwardRef)(((e,t)=>{let{type:n,className:i,style:o={},cursor:l,onClick:r,...s}=e;return(0,bb.jsx)("i",{...s,className:(0,a.default)(yb,i),style:{cursor:l,...o},onClick:r,"aria-label":n,ref:t,children:Cb[n]})})),Ib=xb},82845:(e,t,n)=>{"use strict";n.d(t,{q:()=>q});var i=n(57323),o=n.n(i),a=n(74720),l=n.n(a),r=n(2550),s=n(15972),d=n.n(s),c=n(17646),u=n.n(c),p=n(7070),h=n.n(p),v=n(33324),g=n.n(v),f=n(43614),m=n.n(f),y=n(19087),w=n.n(y),b=n(78587),C=n.n(b),x=n(87797);const I=[x.nn.AmapDark,x.nn.AmapDarkBlue,x.nn.AmapSatellite,x.nB.GoogleMapDark,x.nB.GoogleMapNight,x.R6.MapboxDark,x.R6.MapboxSatellite];var j=n(602),M=n(468),k=n.n(M),T=n(56356),E=n.n(T),P=n(99661),O=n(61469);class S{constructor(){o()(this,"drawMode","Point"),o()(this,"isEditing",!1),o()(this,"geometry",null),o()(this,"drawOptions",{color:"#3384FF",lineWidth:2,fontSize:P.Kt[1]}),o()(this,"minTargetZoom",4),o()(this,"maxTargetZoom",20)}getId(){var e;return null===(e=this.geometry)||void 0===e?void 0:e.getId()}convertDrawOptionsToSymbol(e){return{}}startEdit(e){this.isEditing=!0,this.geometry=e.target}stopEdit(){var e;null===(e=this.geometry)||void 0===e||e.endEdit(),this.isEditing=!1,this.geometry=null}getData(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.geometry;if(!t)return;const n=null!==(e=null===t||void 0===t?void 0:t.getProperties())&&void 0!==e?e:{};return{id:this.getId(),properties:n}}update(e){if(!this.geometry)return;const t=this.geometry.getProperties(),n=this.convertDrawOptionsToSymbol(e);this.geometry.setSymbol(n),this.geometry.setProperties({...t,...e});const i=this.getData(this.geometry);return i&&this.geometry.setProperties(i.properties),i}updateGeometry(e){this.geometry=e}remove(){setTimeout((()=>{var e;null===(e=this.geometry)||void 0===e||e.remove(),this.geometry=null}))}destroy(){this.remove()}}const _="    ";class N extends S{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),o()(this,"drawMode","Point"),o()(this,"type","marker"),o()(this,"geometry",null),o()(this,"map",null),o()(this,"drawTool",null),o()(this,"element",null),o()(this,"darkTheme",!1),this.map=n,this.drawTool=e,this.layer=t,this.drawOptions=d()({},this.drawOptions,i),this.darkTheme=a}createEditorElement(e,t){if(this.map){var n;const i=this.map.getContainer(),o=document.createElement("div"),a=document.createElement("input");a.placeholder=null!==(n=null===O.N||void 0===O.N?void 0:O.N.$t({id:"mOeXU5",defaultMessage:"Enter Text"}))&&void 0!==n?n:"",a.className="mt-input",a.style.color=this.darkTheme?"#fff":"#091e42",o.appendChild(a),o.className="markerLabelEditor";let l=e.y,r=e.x;l<20?l=Math.max(e.y,20):l>i.clientHeight-20&&(l=Math.min(e.y,i.clientHeight-20)),r<100?r=e.x:r>i.clientWidth-220&&(r=e.x-220),o.style.cssText="top: ".concat(l,"px; left: ").concat(r+110,"px;"),this.isEditing||(a.onblur=e=>{setTimeout((()=>{this.endDraw()}),100)}),a.onkeydown=e=>{"Enter"===e.key&&(a.onblur=null,this.endDraw()),"Escape"===e.key&&(a.onblur=null,this.stopEdit())},i.appendChild(o),this.element=o,t&&(a.value=t),setTimeout((()=>{var e,t;a.focus(),null===(e=this.map)||void 0===e||e.on("click",this.endDraw,this),null===(t=this.drawTool)||void 0===t||t.disable()}))}}convertDrawOptionsToSymbol(e){const{color:t}=e;return{markerType:"ellipse",markerFillOpacity:.8,markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14,markerLineColor:"#ffffff",markerFill:null!==t&&void 0!==t?t:this.drawOptions.color,textSymbol:{textFaceName:"Arial",textHorizontalAlignment:"right",textFill:this.darkTheme?"#fff":"#091e42",textSize:16,textHaloFill:this.darkTheme?"#091e42":"#fff",textHaloRadius:2},boxStyle:{symbol:{markerFill:"transparent",markerLineColor:"transparent",markerLineWidth:0}}}}onDragEnd(e){setTimeout((()=>{this.endDraw()}))}startEdit(e){var t;const n=e.target,i=n.getGeometries()[0],o=n.getGeometries()[1],a=null===(t=this.map)||void 0===t?void 0:t.coordinateToContainerPoint(i.getCoordinates());return this.isEditing=!0,n.on("dragend",this.onDragEnd,this),n.startEdit({fixAspectRatio:!0,vertexHandleSymbol:P.NY}),a&&this.createEditorElement(a,E()(o.getContent())),this.geometry=n,this}stopEdit(){var e,t,n,i,o;(null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),null===(t=this.geometry)||void 0===t||t.endEdit(),null===(n=this.geometry)||void 0===n||n.off("dragend",this.onDragEnd,this),this.isEditing)||(null===(i=this.geometry)||void 0===i||i.remove(),null===(o=this.drawTool)||void 0===o||o.enable());this.removeElement(),this.isEditing=!1,this.geometry=null}endDraw(){if(this.geometry&&this.map&&this.element){var e,t,n;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this);const o=E()(null===(t=this.element.querySelector("input"))||void 0===t?void 0:t.value);if(!o)return this.remove(),void setTimeout((()=>{var e,t;null===(e=this.drawTool)||void 0===e||e.endDraw(),null===(t=this.drawTool)||void 0===t||t.enable()}));const a=this.geometry.getGeometries()[0],l=this.geometry.getProperties(),r=this.geometry.getId(),s=this.geometry.getZIndex();this.removeElement(),this.geometry.remove();const d=this.createGeometry({id:r,properties:{...l,content:o,zIndex:s},geometry:a.toGeoJSONGeometry()});var i;if(d&&(this.geometry=d),null===(n=this.drawTool)||void 0===n||n.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!1}),!this.isEditing)null===(i=this.drawTool)||void 0===i||i.enable()}this.isEditing=!1}getCoordinates(e,t){const n=t.getBoundingClientRect(),i=new r.E9(n.left+105,n.top-70);return e.containerPointToCoordinate(i)}createGeometry(e,t){const{properties:n,geometry:i,id:o}=e,{coordinates:a}=i,l=d()({},this.drawOptions,n),s=this.convertDrawOptionsToSymbol(l),c=new r.Jx(a,{id:"".concat(o,"-marker"),symbol:k()(s,["textSymbol","boxStyle"])}).setProperties(n),u=new r.__("".concat(_).concat(n.content),a,{id:"".concat(o,"-label"),editable:!1,textSymbol:s.textSymbol,boxStyle:s.boxStyle}).setProperties(n),p=new r.JH([c,u],{id:o,zIndex:n.zIndex}).setProperties(n);return Object.assign(p,{_annotation:this}),this.geometry=p,t?(this.createEditorElement(t),void this.layer.addGeometry(this.geometry)):p}update(e){if(!this.geometry)return;const t=this.geometry.getProperties();this.geometry.setProperties({...t,...e});const n=this.getData(this.geometry);n&&this.geometry.setProperties(n.properties);const i=this.geometry.getGeometries()[0];return i.startEdit({fixAspectRatio:!0,vertexHandleSymbol:P.NY,symbol:{...i.getSymbol(),markerFill:e.color}}),n}updateGeometry(e){this.geometry=e,this.layer.addGeometry(this.geometry)}removeElement(){var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null}remove(){setTimeout((()=>{var e,t;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),null===(t=this.geometry)||void 0===t||t.remove(),this.geometry=null}))}getData(e){var t;const n=null!==e&&void 0!==e?e:this.geometry;if(!n)return;const i=n instanceof r.JH,o=null===n||void 0===n?void 0:n.getZIndex(),a=null===n||void 0===n?void 0:n.getId(),l=null!==(t=null===n||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},{color:s=this.drawOptions.color}=l;let d=_,c=null===n||void 0===n?void 0:n.toGeoJSONGeometry();if(i){const e=n.getGeometries(),t=e[0],i=e[1];d=E()(i.getContent()),c=t.toGeoJSONGeometry()}return{id:a,properties:{type:this.type,zIndex:o,color:s,content:d,height:0,width:0,radius:0,lineWidth:0},geometry:c}}}class D extends S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","LineString"),o()(this,"type","line"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t,lineWidth:n}=e;return{lineOpacity:1,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color,lineWidth:null!==n&&void 0!==n?n:this.drawOptions.lineWidth}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:n,id:i}=e,{coordinates:o}=n,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.Yp(o,{id:i,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const n=null!==e&&void 0!==e?e:this.geometry;if(!n)return;const i=null===n||void 0===n?void 0:n.getZIndex(),o=null===n||void 0===n?void 0:n.getId(),a=null!==(t=null===n||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color,lineWidth:r=this.drawOptions.lineWidth}=a;return{id:o,properties:{type:this.type,zIndex:i,color:l,lineWidth:r,height:0,width:0,content:"",radius:0},geometry:null===n||void 0===n?void 0:n.toGeoJSONGeometry()}}}class L extends S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","FreeHandLineString"),o()(this,"type","freeline"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t,lineWidth:n}=e;return{lineOpacity:1,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color,lineWidth:null!==n&&void 0!==n?n:this.drawOptions.lineWidth}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:n,id:i}=e,{coordinates:o}=n,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.Yp(o,{id:i,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const n=null!==e&&void 0!==e?e:this.geometry;if(!n)return;const i=null===n||void 0===n?void 0:n.getZIndex(),o=null===n||void 0===n?void 0:n.getId(),a=null!==(t=null===n||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color,lineWidth:r=this.drawOptions.lineWidth}=a;return{id:o,properties:{type:this.type,zIndex:i,color:l,lineWidth:r,height:0,width:0,content:"",radius:0},geometry:null===n||void 0===n?void 0:n.toGeoJSONGeometry()}}}var A=n(64505);class R extends S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","Rectangle"),o()(this,"type","rectangle"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t}=e;return{lineWidth:2,lineOpacity:1,polygonOpacity:.2,polygonFill:null!==t&&void 0!==t?t:this.drawOptions.color,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color}}startEdit(e){const{target:t}=e;return t.startEdit({fixAspectRatio:!0,vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:n,id:i}=e,{coordinates:o}=n,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s="Polygon"===n.type?new r.mg(o,{id:i,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t):new r.Ae(o,t.width,t.height,{id:i,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const n=null!==e&&void 0!==e?e:this.geometry;if(!n)return;const i=null===n||void 0===n?void 0:n.getZIndex(),o=null===n||void 0===n?void 0:n.getId(),a=null!==(t=null===n||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color}=a,r=null===n||void 0===n?void 0:n.getShell(),s=r[0],d=r[1],c=r[3],u=(0,A.Z)([s.x,s.y],[d.x,d.y],{units:"meters"}),p=(0,A.Z)([s.x,s.y],[c.x,c.y],{units:"meters"});return{id:o,properties:{type:this.type,zIndex:i,color:l,height:p,width:u,content:"",radius:0,lineWidth:0},geometry:{type:"Point",coordinates:s.toArray()}}}}class Z extends S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","Circle"),o()(this,"type","circle"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{color:n}=e;return{lineWidth:2,lineOpacity:1,markerFillOpacity:.8,markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14,markerType:t?"ellipse":null,markerLineColor:null!==n&&void 0!==n?n:this.drawOptions.color,markerFill:null!==n&&void 0!==n?n:this.drawOptions.color,lineColor:null!==n&&void 0!==n?n:this.drawOptions.color,polygonFill:null!==n&&void 0!==n?n:this.drawOptions.color,polygonOpacity:.2}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:n,id:i}=e,{coordinates:o}=n,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.Cd(o,t.radius,{id:i,symbol:l,zIndex:t.zIndex}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const n=null!==e&&void 0!==e?e:this.geometry;if(!n)return;const i=null===n||void 0===n?void 0:n.getZIndex(),o=null===n||void 0===n?void 0:n.getId(),a=null!==(t=null===n||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},l=n instanceof r.Cd?n.getRadius():0,{color:s=this.drawOptions.color}=a;return{id:o,type:"Feature",properties:{type:this.type,zIndex:i,radius:l,color:s,height:0,width:0,content:"",lineWidth:0},geometry:{type:"Point",coordinates:null===n||void 0===n?void 0:n.getCenter().toArray()}}}}function F(e,t,n){let i=0,o=0,a=0,l=0;function r(t){(t=t||window.event).preventDefault(),i=a-t.clientX,o=l-t.clientY,a=t.clientX,l=t.clientY;let n=e.offsetTop-o,r=e.offsetLeft-i;const s=e.clientWidth/2,d=e.clientHeight/2;r<=s&&(r=s),r>=window.innerWidth-s&&(r=window.innerWidth-s),n<=d&&(n=d),n>=window.innerHeight-90-d&&(n=window.innerHeight-90-d),e.style.top=n+"px",e.style.left=r+"px"}function s(){null===n||void 0===n||n(),document.onmouseup=null,document.onmousemove=null}t.onmousedown=function(e){(e=e||window.event).preventDefault(),a=e.clientX,l=e.clientY,document.onmouseup=s,document.onmousemove=r}}class z extends S{calculateTextSizeStops(e,t,n){const i=null===e||void 0===e?void 0:e.getResolution(n),o=null===e||void 0===e?void 0:e.getResolution(this.minTargetZoom),a=null===e||void 0===e?void 0:e.getResolution(this.maxTargetZoom);return[[this.minTargetZoom,t*i/o],[this.maxTargetZoom,t*i/a]]}constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),o()(this,"drawMode","Text"),o()(this,"type","text"),o()(this,"drawTool",null),o()(this,"element",null),o()(this,"map",null),o()(this,"isEditing",!1),o()(this,"geometry",null),o()(this,"stops",[]),o()(this,"threshholdZoom",13),o()(this,"minTargetZoom",4),o()(this,"maxTargetZoom",20),r.nh.registerMode("Text",{clickLimit:1,action:["click"],create:this.create.bind(this),update:()=>{},generate:this.generate.bind(this)}),this.drawTool=e,this.map=n,this.layer=t,this.drawOptions=d()({},this.drawOptions,i)}createEditorElement(e,t,n){if(this.map){var i;const o=this.map.getContainer(),a=document.createElement("div"),l=document.createElement("input"),r=document.createElement("div");r.className="geometryEditorHandler",l.placeholder=null!==(i=null===O.N||void 0===O.N?void 0:O.N.$t({id:"mOeXU5",defaultMessage:"Enter Text"}))&&void 0!==i?i:"",l.className="mt-input",l.style.color=this.drawOptions.color,l.style.textAlign="center",a.appendChild(l),t&&(a.appendChild(r),l.style.width=t.length*(n||24)+"px"),a.className="labelEditor";let s=e.y,d=e.x;s<20?s=Math.max(e.y,20):s>o.clientHeight-20&&(s=Math.min(e.y,o.clientHeight-20)),d<100?d=Math.max(e.x,100):d>o.clientWidth-100&&(d=Math.min(e.x,o.clientWidth-100)),a.style.cssText="top: ".concat(s,"px; left: ").concat(d,"px;"),this.isEditing||(l.onblur=e=>{setTimeout((()=>{this.endDraw()}),100)}),l.onkeydown=e=>{"Enter"===e.key&&(l.onblur=null,this.endDraw()),"Escape"===e.key&&(l.onblur=null,this.stopEdit())},F(a,r,(()=>{this.endMove()})),o.appendChild(a),this.element=a,t&&(l.value=t),l.style.fontSize="".concat(n,"px"),setTimeout((()=>{var e;l.focus(),null===(e=this.map)||void 0===e||e.on("click",this.endDraw,this)}))}}create(e,t,n){const{containerPoint:i}=n,o=e.unproject(t[0]),a=new r.__("",o);return this.createEditorElement(i,"",this.drawOptions.fontSize),a._setPrjCoordinates(t[0]),this.geometry=a,this.geometry.hide(),a}convertDrawOptionsToSymbol(e){const{color:t,fontSize:n=P.Kt[1]}=e,i=e.zoomLevel,o=this.calculateTextSizeStops(this.map,n,i);return this.stops=o,{textSymbol:{textFaceName:"Arial",textFill:null!==t&&void 0!==t?t:this.drawOptions.color,textSize:{base:2,stops:o}},boxStyle:{padding:[0,0],symbol:{markerLineColor:"transparent",markerFill:"transparent",markerLineWidth:0}}}}endDraw(){if(this.geometry&&this.map&&this.element){var e,t,n;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this);const i=E()(null===(t=this.element.querySelector("input"))||void 0===t?void 0:t.value);if(!i)return this.removeElement(),void setTimeout((()=>{var e;null===(e=this.drawTool)||void 0===e||e.endDraw()}));const o=this.geometry.getCoordinates(),a=this.geometry.getProperties(),l=this.geometry.getId(),r=this.geometry.getZIndex(),s=Math.round(this.isEditing?a.zoomLevel:this.map.getZoom());this.removeElement(),this.geometry.remove(),this.geometry=this.createGeometry({id:l,type:"Feature",properties:{...a,content:i,zIndex:r,zoomLevel:s},geometry:{type:"Point",coordinates:o}}),null===(n=this.drawTool)||void 0===n||n.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!1})}this.isEditing=!1}endMove(){if(this.geometry&&this.element&&this.map){var e,t;const n=E()(null===(e=this.element.querySelector("input"))||void 0===e?void 0:e.value),i=this.getCoordinates(this.map,this.element),o=this.geometry.getProperties(),a=this.getId(),l=this.geometry.getZIndex();this.geometry.remove(),this.geometry=this.createGeometry({id:a,type:"Feature",properties:{...o,content:n,zIndex:l},geometry:{type:"Point",coordinates:i}}),this.geometry.hide(),null===(t=this.drawTool)||void 0===t||t.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!0})}}createGeometry(e){const{properties:t,geometry:n,id:i}=e,{coordinates:o}=n,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.__(t.content||(null===O.N||void 0===O.N?void 0:O.N.$t({id:"QFdM/z",defaultMessage:"Empty text"}))||"",o,{id:i,textSymbol:l.textSymbol,zIndex:t.zIndex}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getCoordinates(e,t){const n=t.getBoundingClientRect(),i=new r.E9(n.left+100,n.top-68);return e.containerPointToCoordinate(i)}removeElement(){try{var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null}catch{}}generate(e){return e}update(e){var t,n;if(!this.geometry)return;const i=this.geometry.getProperties(),o=this.convertDrawOptionsToSymbol(e);this.geometry.setTextSymbol(o.textSymbol),this.geometry.setProperties({...i,...e,zoomLevel:e.fontSize?Math.round(null!==(t=null===(n=this.map)||void 0===n?void 0:n.getZoom())&&void 0!==t?t:this.threshholdZoom):i.zoomLevel});const a=this.getData(this.geometry);return a&&this.geometry.setProperties(a.properties),a}updateGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.geometry=e,t?this.geometry.hide():this.geometry.show(),this.layer.addGeometry(e)}startEdit(e){var t,n;const{target:i,containerPoint:o}=e;this.geometry=i,this.geometry.hide(),this.isEditing=!0;const a=null!==(t=null===(n=this.map)||void 0===n?void 0:n.coordinateToContainerPoint(this.geometry.getCenter()))&&void 0!==t?t:o,l=this.geometry._getCompiledSymbol().textSize;this.createEditorElement(a,this.geometry.getContent(),l)}stopEdit(){var e,t,n,i;null===(e=this.drawTool)||void 0===e||e.endDraw(),null===(t=this.drawTool)||void 0===t||t.fire("editend",{target:this.geometry}),null===(n=this.map)||void 0===n||n.off("click",this.endDraw,this),null===(i=this.geometry)||void 0===i||i.show(),this.removeElement(),this.isEditing=!1,this.geometry=null}remove(){var e,t;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),null===(t=this.geometry)||void 0===t||t.remove(),this.geometry=null}getData(e){var t,n,i,o,a;const l=null!==e&&void 0!==e?e:this.geometry;if(!l)return;const r=null!==(t=null===l||void 0===l?void 0:l.getContent())&&void 0!==t?t:"",s=null===l||void 0===l?void 0:l.getZIndex(),d=null===l||void 0===l?void 0:l.getId(),c=null!==(n=null===l||void 0===l?void 0:l.getProperties())&&void 0!==n?n:{},{type:u=this.type,color:p=this.drawOptions.color,fontSize:h=this.drawOptions.fontSize}=c;return{id:d,properties:{type:u,height:0,width:0,content:r,radius:0,zIndex:s,fontSize:h,color:p,zoomLevel:Math.round(this.isEditing?null!==(i=c.zoomLevel)&&void 0!==i?i:this.threshholdZoom:null!==(o=null===(a=this.map)||void 0===a?void 0:a.getZoom())&&void 0!==o?o:this.threshholdZoom),lineWidth:0},geometry:null===l||void 0===l?void 0:l.toGeoJSONGeometry()}}destroy(){var e;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),this.geometry=null,this.drawTool=null,this.map=null,this.isEditing=!1}}var B=n(34362),V=n.n(B);const H=[];class W extends S{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),o()(this,"drawMode","Sticker"),o()(this,"type","sticker"),o()(this,"drawTool",null),o()(this,"element",null),o()(this,"map",null),o()(this,"geometry",null),o()(this,"threshholdZoom",13),o()(this,"updateSymbol",(e=>{var t,n,i,o,a,l,s,c,u,p;const h=null!==(t=null===(n=this.geometry)||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},v=h.width,g=h.height,f=h.fontSize||24,m=null!==(i=h.zoomLevel)&&void 0!==i?i:this.threshholdZoom,y=null===(o=this.map)||void 0===o?void 0:o.getResolution(m),w=null===(a=this.map)||void 0===a?void 0:a.getResolution(this.minTargetZoom),b=null===(l=this.map)||void 0===l?void 0:l.getResolution(this.maxTargetZoom),C={base:2,stops:[[this.minTargetZoom,v*y/w],[this.maxTargetZoom,v*y/b]]},x={base:2,stops:[[this.minTargetZoom,g*y/w],[this.maxTargetZoom,g*y/b]]},I={base:2,stops:[[this.minTargetZoom,f*y/w],[this.maxTargetZoom,f*y/b]]},j=this.convertDrawOptionsToSymbol(h);let M;if(null===(s=this.geometry)||void 0===s||s.setWidth(C),null===(c=this.geometry)||void 0===c||c.setHeight(x),null===(u=this.geometry)||void 0===u||u.setTextStyle(d()({},j.textStyle,{symbol:{textSize:I}})),null!==(p=this.geometry)&&void 0!==p&&p.getMap())M=this.geometry._getCompiledSymbol();else{const e={textSize:I,width:C,height:x};M=r.fy.loadFunctionTypes(e,(()=>{var e;return H[0]=null===(e=this.map)||void 0===e?void 0:e.getZoom(),H}))}const k=M.textSize,T=M.markerWidth,E=M.markerHeight;if(this.drawOptions.fontSize=k,this.element){this.element.style.width="".concat(T,"px"),this.element.style.height="".concat(E,"px");const e=this.element.querySelector("textarea");e&&(e.style.fontSize="".concat(k,"px"))}})),r.nh.registerMode("Sticker",{clickLimit:1,action:["click"],create:this.create.bind(this),update:()=>{},generate:this.generate.bind(this)}),this.drawTool=e,this.map=n,this.layer=t,this.drawOptions=d()({},this.drawOptions,i)}createEditorElement(e,t,n,i,o){if(this.map){var a;const l=this.map.getContainer(),r=document.createElement("div"),s=document.createElement("textarea");s.placeholder=null!==(a=null===O.N||void 0===O.N?void 0:O.N.$t({id:"mOeXU5",defaultMessage:"Enter Text"}))&&void 0!==a?a:"",s.className="mt-input",s.style.background=this.drawOptions.color,s.style.color=V()(this.drawOptions.color,"#fff")?"#0065ff":"#fff";const d=document.createElement("div");d.className="geometryEditorHandler",r.appendChild(s),t&&r.appendChild(d),r.className="stickerEditor";let c=e.y,u=e.x;c<100?c=Math.max(e.y,100):c>l.clientHeight-100&&(c=Math.min(e.y,l.clientHeight-100)),u<100?u=Math.max(e.x,100):u>l.clientWidth-100&&(u=Math.min(e.x,l.clientWidth-100)),r.style.cssText="top: ".concat(c,"px; left: ").concat(u,"px;"),this.isEditing||(s.onblur=e=>{setTimeout((()=>{this.endDraw()}),100)}),s.onkeydown=e=>{"Escape"===e.key&&(s.onblur=null,this.stopEdit()),"Enter"===e.key&&e.stopPropagation()},F(r,d,(()=>{this.endMove()})),l.appendChild(r),this.element=r,t&&(s.value=t),s.style.fontSize="".concat(o||66,"px"),n&&i&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(i,"px")),setTimeout((()=>{var e;s.focus(),null===(e=this.map)||void 0===e||e.on("click",this.endDraw,this)}))}}create(e,t,n){const{containerPoint:i}=n,o=e.unproject(t[0]),a=new r.zC("",o,0,0);return this.createEditorElement(i),a._setPrjCoordinates(t[0]),this.geometry=a,this.geometry.hide(),a}convertDrawOptionsToSymbol(e){const{color:t,fontSize:n=P.Kt[0]}=e;return{textStyle:{verticalAlignment:"top",horizontalAlignment:"left",wrap:!0,symbol:{textFaceName:"Arial",textSize:n,textFill:V()(t,"#fff")?"#0065ff":"#fff"}},boxSymbol:{markerType:"square",markerFillOpacity:1,markerLineWidth:1,markerFill:null!==t&&void 0!==t?t:this.drawOptions.color,markerLineColor:null!==t&&void 0!==t?t:this.drawOptions.color}}}endDraw(){if(this.geometry&&this.map&&this.element){var e,t;const n=E()(null===(e=this.element.querySelector("textarea"))||void 0===e?void 0:e.value);if(!n)return this.removeElement(),void setTimeout((()=>{var e;null===(e=this.drawTool)||void 0===e||e.endDraw()}));const i=this.getCoordinates(this.map,this.element),{width:o,height:a}=this.element.getBoundingClientRect(),l=this.geometry.getProperties(),r=this.getId(),s=this.geometry.getZIndex(),d=this.map.getZoom();this.geometry.remove(),this.removeElement(),this.geometry=this.createGeometry({id:r,type:"Feature",properties:{...l,zoomLevel:d,width:o,height:a,content:n,zIndex:s,fontSize:this.drawOptions.fontSize},geometry:{type:"Point",coordinates:i}}),null===(t=this.drawTool)||void 0===t||t.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!1}),this.map.off("click",this.endDraw,this)}this.isEditing=!1}endMove(){if(this.geometry&&this.element&&this.map){var e,t;const n=E()(null===(e=this.element.querySelector("textarea"))||void 0===e?void 0:e.value),i=this.getCoordinates(this.map,this.element),{width:o,height:a}=this.element.getBoundingClientRect(),l=this.geometry.getProperties(),r=this.getId(),s=this.geometry.getZIndex();this.geometry.remove(),this.geometry=this.createGeometry({id:r,type:"Feature",properties:{...l,width:o,height:a,content:n,zIndex:s},geometry:{type:"Point",coordinates:i}}),this.geometry.hide(),null===(t=this.drawTool)||void 0===t||t.fire("drawend",{geometry:this.geometry,drawTool:this.drawTool,isEditing:this.isEditing,keepEditing:!0})}}createGeometry(e,t){var n,i,o,a,l;const{properties:s,geometry:c,id:u}=e,{coordinates:p}=c;this.drawOptions=d()({},this.drawOptions,s);const h=this.convertDrawOptionsToSymbol(this.drawOptions),v=new r.zC(s.content||(null===O.N||void 0===O.N?void 0:O.N.$t({id:"OFPsPz",defaultMessage:"Empty text"}))||"",p,s.width,s.height,{id:u,symbol:h,textStyle:h.textStyle,boxSymbol:h.boxSymbol,zIndex:s.zIndex}).setProperties(s);return Object.assign(v,{_annotation:this}),this.geometry=v,this.updateSymbol({from:null!==(n=null!==(i=s.zoomLevel)&&void 0!==i?i:null===(o=this.map)||void 0===o?void 0:o.getZoom())&&void 0!==n?n:this.threshholdZoom,to:null!==(a=null===(l=this.map)||void 0===l?void 0:l.getZoom())&&void 0!==a?a:this.threshholdZoom}),v}getCoordinates(e,t){const n=t.getBoundingClientRect(),i=new r.E9(n.left+n.width/2,n.top+n.height/2-88);return e.containerPointToCoordinate(i)}removeElement(){var e;null===(e=this.element)||void 0===e||e.remove(),this.element=null}generate(e){return e}update(e){if(!this.geometry)return;const t=this.geometry.getProperties(),n=this.convertDrawOptionsToSymbol(e);this.geometry.setBoxSymbol(n.boxSymbol),this.geometry.setTextStyle(n.textStyle),this.geometry.setProperties({...t,...e});const i=this.getData(this.geometry);var o,a,l,r,s,d;i&&(this.geometry.setProperties(i.properties),this.updateSymbol({from:null!==(o=null!==(a=null===(l=i.properties)||void 0===l?void 0:l.zoomLevel)&&void 0!==a?a:null===(r=this.map)||void 0===r?void 0:r.getZoom())&&void 0!==o?o:this.threshholdZoom,to:null!==(s=null===(d=this.map)||void 0===d?void 0:d.getZoom())&&void 0!==s?s:this.threshholdZoom}));if(this.element){const t=this.element.querySelector("textarea");var c;if(t)t.style.background=null!==(c=e.color)&&void 0!==c?c:this.drawOptions.color}return i}updateGeometry(e){var t,n,i;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.geometry=e;const a=this.geometry.getProperties();this.drawOptions=d()({},this.drawOptions,k()(a,["fontSize"])),o?this.geometry.hide():this.geometry.show(),this.layer.addGeometry(this.geometry),this.updateSymbol({from:null!==(t=a.zoomLevel)&&void 0!==t?t:this.threshholdZoom,to:null!==(n=null===(i=this.map)||void 0===i?void 0:i.getZoom())&&void 0!==n?n:this.threshholdZoom})}startEdit(e){var t,n;const{target:i,containerPoint:o}=e;this.geometry=i,this.geometry.hide(),this.isEditing=!0;const a=null!==(t=null===(n=this.map)||void 0===n?void 0:n.coordinateToContainerPoint(this.geometry.getCenter()))&&void 0!==t?t:o,l=this.geometry._getCompiledSymbol(),r=l.markerWidth,s=l.markerHeight;this.createEditorElement(a,this.geometry.getContent(),r,s,this.drawOptions.fontSize)}stopEdit(){var e,t,n,i;null===(e=this.drawTool)||void 0===e||e.endDraw(),null===(t=this.drawTool)||void 0===t||t.fire("editend",{target:this.geometry}),null===(n=this.map)||void 0===n||n.off("click",this.endDraw,this),this.isEditing=!1,null===(i=this.geometry)||void 0===i||i.show(),this.geometry=null,this.removeElement()}getData(e){var t,n,i;const o=null!==e&&void 0!==e?e:this.geometry;if(!o)return;const a=null!==(t=null===o||void 0===o?void 0:o.getContent())&&void 0!==t?t:"",l=null===o||void 0===o?void 0:o.getProperties(),s=o instanceof r.zC?l.width:0,d=o instanceof r.zC?l.height:0,c=null===o||void 0===o?void 0:o.getZIndex(),u=null!==(n=null===(i=this.map)||void 0===i?void 0:i.getZoom())&&void 0!==n?n:this.threshholdZoom,p=null===o||void 0===o?void 0:o.getId(),h=null!==l&&void 0!==l?l:{},{type:v=this.type,color:g=this.drawOptions.color,fontSize:f=this.drawOptions.fontSize}=h;return{id:p,properties:{type:v,height:d,width:s,content:a,radius:0,zIndex:c,fontSize:Math.round(f),color:g,zoomLevel:u,lineWidth:0},geometry:null===o||void 0===o?void 0:o.toGeoJSONGeometry()}}remove(){var e,t;null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.removeElement(),null===(t=this.geometry)||void 0===t||t.remove(),this.geometry=null}destroy(){var e;this.removeElement(),null===(e=this.map)||void 0===e||e.off("click",this.endDraw,this),this.geometry=null,this.drawTool=null,this.map=null,this.isEditing=!1}}class U extends S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"drawMode","Polygon"),o()(this,"type","polygon"),o()(this,"geometry",null),this.drawOptions=d()({},this.drawOptions,e)}convertDrawOptionsToSymbol(e){const{color:t}=e;return{lineWidth:2,lineOpacity:1,polygonOpacity:.2,polygonFill:null!==t&&void 0!==t?t:this.drawOptions.color,lineColor:null!==t&&void 0!==t?t:this.drawOptions.color}}startEdit(e){const{target:t}=e;return t.startEdit({vertexHandleSymbol:P.kD,centerHandleSymbol:P.v2,newVertexHandleSymbol:P.D9}),this.isEditing=!0,this.geometry=t,this}createGeometry(e){const{properties:t,geometry:n,id:i}=e,{coordinates:o}=n,a=d()({},this.drawOptions,t),l=this.convertDrawOptionsToSymbol(a),s=new r.mg(o,{id:i,symbol:l,zIndex:t.zIndex,enableSimplify:!1}).setProperties(t);return Object.assign(s,{_annotation:this}),this.geometry=s,s}getData(e){var t;const n=null!==e&&void 0!==e?e:this.geometry;if(!n)return;const i=null===n||void 0===n?void 0:n.getZIndex(),o=null===n||void 0===n?void 0:n.getId(),a=null!==(t=null===n||void 0===n?void 0:n.getProperties())&&void 0!==t?t:{},{color:l=this.drawOptions.color}=a;return{id:o,properties:{type:this.type,zIndex:i,color:l,lineWidth:0,height:0,width:0,content:"",radius:0},geometry:null===n||void 0===n?void 0:n.toGeoJSONGeometry()}}}const G={marker:"Point",line:"LineString",freeline:"FreeHandLineString",rectangle:"Rectangle",circle:"Circle",text:"Text",sticker:"Sticker",polygon:"Polygon"};class q{static getDrawMode(e){return e?G[e]:"Point"}constructor(e){o()(this,"drawTool",null),o()(this,"layer",null),o()(this,"drawOptions",{lineWidth:2}),o()(this,"editingGeometry",null),o()(this,"isDrawing",!1),o()(this,"isEditing",!1),o()(this,"enableEdit",!1),o()(this,"isAttached",!1),o()(this,"mode",null),o()(this,"annotation",null),o()(this,"textAnnotation",null),o()(this,"stickerAnnotaion",null),o()(this,"darkTheme",!1),o()(this,"onDrawEnd",(e=>{if(!e.geometry||!this.annotation)return;const{geometry:t,isEditing:n,keepEditing:i,containerPoint:o}=e,a=this.annotation.getData(t);if(!a)return;const l=this.annotation.createGeometry(a,o);if(l)if("text"!==this.mode&&"sticker"!==this.mode||setTimeout((()=>{this.clearDrawTool()})),l.on("click",this.onGeometryEdit,this),l.on("editend",this.onGeometryEditEnd,this),n){var r;const e=l.getId();this.props.onUpdate({...a,id:e},i),null===(r=this.annotation)||void 0===r||r.updateGeometry(l,i),i||(this.annotation=null)}else{var s,d;if(this.props.onDrawEnd(),("text"===this.mode||"sticker"===this.mode)&&!a.properties.content)return;const e=null!==(s=null===(d=this.layer)||void 0===d?void 0:d.getGeoMaxZIndex())&&void 0!==s?s:1;a.properties.zIndex=e+1,this.props.onCreate(a)}}));const{mode:t}=e;this.props=e,this.mode=t,this.init()}init(){const{mode:e,baseMapStyle:t,onDrawStart:n=w()}=this.props;this.baseMapStyle=t,this.baseMapStyle&&(this.darkTheme=I.includes(this.baseMapStyle));const i=new r.nh({mode:q.getDrawMode(e)}),o=new r.DJ("annotationLayer_".concat(m()()),null,{drawImmediate:!0,forceRenderOnZooming:!0,forceRenderOnMoving:!0,forceRenderOnRotating:!0}).setZIndex(j.Y8);i.on("drawend",this.onDrawEnd,this),i.on("editend",this.onEditEnd,this),i.on("drawstart",(()=>{n(this.mode)}),this),this.layer=o,this.drawTool=i}async attach(e){return new Promise((t=>{this.drawTool&&this.layer&&(this.drawTool.addTo(e).disable(),this.layer.addTo(e),this.textAnnotation=new z(this.drawTool,this.layer,e),this.stickerAnnotaion=new W(this.drawTool,this.layer,e),e.on("contextmenu",this.clearDrawTool,this),this.props.data&&this.setGeometries(C()(this.props.data)?this.props.data:[this.props.data]),this.isAttached=!0,t(!0))}))}createAnnotation(e,t){var n,i,o;if(!this.drawTool||!this.layer)return null;switch(e){case"marker":return new N(this.drawTool,this.layer,null===(n=this.drawTool)||void 0===n?void 0:n.getMap(),t,this.darkTheme);case"line":return new D(t);case"freeline":return new L(t);case"rectangle":return new R(t);case"circle":return new Z(t);case"text":return new z(this.drawTool,this.layer,null===(i=this.drawTool)||void 0===i?void 0:i.getMap(),t);case"sticker":return new W(this.drawTool,this.layer,null===(o=this.drawTool)||void 0===o?void 0:o.getMap(),t);case"polygon":return new U(t)}}startDraw(e,t){var n;this.stopEdit(),this.isDrawing=!0,this.mode=e,this.drawOptions=d()({},this.drawOptions,t);const i=null===(n=this.drawTool)||void 0===n?void 0:n.getMap(),o=this.createAnnotation(e,this.drawOptions);if(o&&i){var a,l,r;this.annotation=o;const e=o.drawMode,t=o.convertDrawOptionsToSymbol(this.drawOptions,!0);i.setCursor("crosshair"),null===(a=this.drawTool)||void 0===a||a.setMode(e),null===(l=this.drawTool)||void 0===l||l.setSymbol(t),null===(r=this.drawTool)||void 0===r||r.enable()}}stopDraw(){var e,t;this.isDrawing=!1,this.annotation=null;const n=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===n||void 0===n||n.setCursor("default"),null===(t=this.drawTool)||void 0===t||t.disable(),this.isEditing=!1}stopEdit(){var e,t;null===(e=this.annotation)||void 0===e||e.stopEdit(),null===(t=this.editingGeometry)||void 0===t||t.endEdit(),this.annotation=null,this.editingGeometry=null,this.isEditing=!1}updateEditingGeometry(e){if(this.annotation){this.drawOptions=d()({},this.drawOptions,e);const t=this.annotation.update(this.drawOptions);t&&this.props.onUpdate(t)}}deleteEditingGeometry(){if(this.annotation){const e=this.annotation.getId();this.annotation.remove(),this.annotation=null,e&&this.props.onDelete(e)}}clearDrawTool(){const e=l()(this.drawTool,"_clearStage");e&&e.call(this.drawTool)}onGeometryEdit(e){if(!this.enableEdit)return;if(e.domEvent.stopPropagation(),this.isDrawing)return;this.annotation&&this.annotation.isEditing&&this.annotation.stopEdit();const{target:t,containerPoint:n}=e;if(t&&n){var i,o,a;const n=l()(t,"_annotation");this.annotation=n,null===(i=this.annotation)||void 0===i||i.startEdit(e),this.clearDrawTool(),this.isEditing=!0,this.mode=t.getProperties().type,null===(o=this.drawTool)||void 0===o||o.disable(),this.props.onEdit(null===(a=this.annotation)||void 0===a?void 0:a.getData())}}onGeometryEditEnd(e){var t;const n=null===(t=this.annotation)||void 0===t?void 0:t.getData();n&&n.id&&(this.props.onUpdate(n),this.isEditing=!1)}onEditEnd(e){this.props.onEditEnd()}setEditingGeometryZIndex(e){var t,n;const i=null===(t=this.annotation)||void 0===t?void 0:t.geometry;if(!i)return;switch(e){case"top":i.bringToFront();break;case"bottom":i.bringToBack();break;case"up":i.setZIndex(i.getZIndex()+1);break;case"down":i.setZIndex(i.getZIndex()-1)}const o=null===(n=this.annotation)||void 0===n?void 0:n.getData();o&&this.props.onUpdate(o)}setGeometries(){var e,t,n,i;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const a=null===(e=this.annotation)||void 0===e?void 0:e.getId(),l=g()(h()(null!==(t=null===(n=this.layer)||void 0===n?void 0:n.getGeometries())&&void 0!==t?t:[],(e=>e.getId())).concat(o.map((e=>e.id))).filter((e=>e!==a)));null===(i=this.layer)||void 0===i||i.removeGeometry(l);const r=null===o||void 0===o?void 0:o.filter((e=>e.id!==a));u()(r,(e=>{if(e){const t=this.createAnnotation(e.properties.type,e.properties),n=null===t||void 0===t?void 0:t.createGeometry(e);n&&this.layer&&(n.on("click",this.onGeometryEdit,this),n.on("editend",this.onGeometryEditEnd,this),this.layer.addGeometry(n))}}))}toggleEnableEdit(e){this.enableEdit=e}updateBaseMapStyle(e){this.baseMapStyle=e,this.darkTheme=I.includes(this.baseMapStyle)}destroy(){var e,t,n,i,o;const a=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();a&&(a.setCursor("default"),a.off("contextmenu",this.clearDrawTool,this)),null===(t=this.annotation)||void 0===t||t.destroy(),null===(n=this.layer)||void 0===n||n.clear(),null===(i=this.drawTool)||void 0===i||i.remove(),null===(o=this.layer)||void 0===o||o.remove(),this.drawTool=null,this.layer=null,this.annotation=null,this.isAttached=!1}}},98720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(57323),o=n.n(i),a=n(602);class l{constructor(e){o()(this,"isDestroyed",!1),o()(this,"isLoaded",!1),o()(this,"isCompleted",!1),this.props=e}}o()(l,"defaultMapOptions",{zoom:8,center:[116.397428,39.90923],minZoom:2,maxZoom:19,bearing:0,pitch:0,features:a.tR})},92940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(57323),o=n.n(i),a=n(2550),l=n(19087),r=n.n(l),s=n(98720);class d extends a.mM{constructor(e,t){super(e,t),o()(this,"options",{bgColor:""}),o()(this,"defaultMapOptions",{...s.Z.defaultMapOptions}),o()(this,"mapInstance",new Promise((e=>e(!0)))),this.id=e,this.options=t,this.props={mapOptions:Object.assign({},this.defaultMapOptions,t.mapOptions)}}draw(e){var t;const{bgColor:n}=this.options,i=null===(t=this.getMap())||void 0===t?void 0:t.getSize();e.fillStyle=n,e.fillRect(0,0,(null===i||void 0===i?void 0:i.width)||0,(null===i||void 0===i?void 0:i.height)||0)}drawOnInteracting(e){this.draw(e)}create(){return this.props.mapOptions&&this.props.mapOptions.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center),new Promise((e=>e(this)))}resize(){var e,t;null!==(e=this.props.mapOptions)&&void 0!==e&&e.zoom&&null!==(t=this.props.mapOptions)&&void 0!==t&&t.center&&this.setZoomAndCenter(this.props.mapOptions.zoom,this.props.mapOptions.center)}setMapStyle(){r()()}getMapStyle(){r()()}syncViewState(){var e;const t=this.getRenderer();null===t||void 0===t||null===(e=t.syncViewState)||void 0===e||e.call(t)}getBaseMap(){return null}getProvider(){return"customize"}getCenter(){return this.getMap().getCenter().toArray()}destroy(){r()()}setZoomAndCenter(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=arguments.length>1?arguments[1]:void 0;const i=new a.c7(n);null===(e=this.getMap())||void 0===e||e.setCenterAndZoom(i,t)}setPitch(){r()()}setBearing(){r()()}setFeatures(){}setLanguage(e){}getContainer(){return this.getMap().getContainer()}takeScreenshot(){const e=this.getRenderer();return Promise.resolve(e.canvas.toDataURL())}}const c=d},23764:(e,t,n)=>{"use strict";n.d(t,{dR:()=>p,N$:()=>O,Dg:()=>C,IV:()=>S.I});var i=n(57323),o=n.n(i),a=(n(68414),n(15972)),l=n.n(a),r=n(70363),s=n.n(r),d=n(94908),c=n(87797),u=n(98720);class p extends u.Z{constructor(e){super(e),o()(this,"defaultProps",{version:"2.0",plugins:["AMap.Scale"]}),o()(this,"defaultMapOptions",{...u.Z.defaultMapOptions,rotateEnable:!0,pitchEnable:!0,viewMode:"3D"}),o()(this,"provider","amap"),this.props=Object.assign({},this.defaultProps,e),this.init()}init(){const{key:e,version:t,plugins:n,securityJsCode:i,serviceHost:o}=this.props;if(!e)throw new Error("AMap key is required");const a={serviceHost:"".concat(o||window.location.origin,"/_AMapService")};i&&(a.securityJsCode=i,o&&(a.serviceHost="".concat(o,"/_AMapService"))),Object.assign(window,{_AMapSecurityConfig:a,forceWebGL:!0}),window.AMap&&window.AMap.Map?(this.isLoaded=!0,this.loader=Promise.resolve()):this.loader=s().load({key:e,version:t,plugins:n}).then((()=>{this.isLoaded=!0}))}async create(e,t){var n,i,o,a;if(this.isDestroyed)return null;await this.loader;const r=l()({},this.props.mapOptions,t),s=null!==(n=null===r||void 0===r?void 0:r.center)&&void 0!==n?n:this.defaultMapOptions.center,p=-(null!==(i=null===r||void 0===r?void 0:r.bearing)&&void 0!==i?i:0),h=null!==(o=null===r||void 0===r?void 0:r.zooms)&&void 0!==o?o:[u.Z.defaultMapOptions.minZoom,u.Z.defaultMapOptions.maxZoom];if(this.map=new AMap.Map(e,{...this.defaultMapOptions,...r,zoom:this.transformStandardZoomToAmapZoom(null!==(a=null===r||void 0===r?void 0:r.zoom)&&void 0!==a?a:this.defaultMapOptions.zoom),mapStyle:this.getStyle(null===r||void 0===r?void 0:r.style),zooms:h,center:(0,d.transformWGS84ToGCJ02)(s,!0),rotation:p,layers:this.props.useTileLayer?[new AMap.TileLayer]:[]}),r.style===c.nn.AmapSatellite){const e=new AMap.TileLayer.Satellite;this.map.addLayer(e),this.currentTileLayer=e}return this.props.disableScaleControl||this.addScaleControl(),new Promise((e=>{this.map.on("complete",(()=>{this.isCompleted=!0,e(this)}))}))}get mapInstance(){return new Promise(((e,t)=>{this.loader.then((()=>{e(this.map)})).catch((e=>{t(e)}))}))}transformStandardZoomToAmapZoom(e){return e+1}transformAmapZoomToStandardZoom(e){return e-1}getContainer(){return this.map.getContainer()}on(e,t){this.map.on(e,t)}off(e,t){this.map.off(e,t)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}setCenter(e){if(!(0,d.isValidCoordinate)(e))return;const t=(0,d.transformWGS84ToGCJ02)(e,!0);(0,d.isValidCoordinate)(t)&&this.map.setCenter(t)}getCenter(){const e=this.map.getCenter(),t=[e.lng,e.lat];return(0,d.isValidCoordinate)(t)?(0,d.transformGCJ02ToWGS84)(t,!0):[116.397428,39.90923]}setPitch(e){this.map.setPitch(e,!0)}getPitch(){return this.map.getPitch()}setZoom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;this.map.setZoom(this.transformStandardZoomToAmapZoom(e))}getZoom(){var e;return this.transformAmapZoomToStandardZoom(null!==(e=this.map.getZoom())&&void 0!==e?e:0)}setZoomAndCenter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1?arguments[1]:void 0;if(!(0,d.isValidCoordinate)(t))return;const n=(0,d.transformWGS84ToGCJ02)(t,!0);(0,d.isValidCoordinate)(n)&&this.map.setZoomAndCenter(this.transformStandardZoomToAmapZoom(e),n,!0)}setBearing(e){this.map.setRotation(-e,!0)}getBearing(){return-this.map.getRotation()}getStyle(e){switch(e){case c.nn.AmapStandard:return"amap://styles/normal";case c.nn.AmapLight:return"amap://styles/whitesmoke";case c.nn.AmapDark:return"amap://styles/grey";case c.nn.AmapDarkBlue:return"amap://styles/darkblue";default:return"amap://styles/normal"}}setMapStyle(e){if(this.map){if(this.currentTileLayer&&this.map.removeLayer(this.currentTileLayer),this.map.getContainer().classList.remove("amap-blank"),"AmapBlank"===e)this.map.setMapStyle("amap://styles/normal"),this.map.setFeatures([]),this.map.getContainer().classList.add("amap-blank");else if(e===c.nn.AmapSatellite){const e=new AMap.TileLayer.Satellite;this.map.addLayer(e),this.currentTileLayer=e}else this.map.setMapStyle(this.getStyle(e));this.baseMapStyle=e}}getMapStyle(){return this.baseMapStyle}setFeatures(e){this.map&&this.map.setFeatures(e)}setLanguage(e){}getProvider(){return this.provider}destroy(){this.isLoaded&&(this.isDestroyed=!0,this.map&&this.map.getContainer()&&(this.map.getContainer().classList.remove("amap-container"),this.map.getContainer().innerHTML="",this.map.destroy(),delete this.map))}interactive(e){}resize(){var e;null===(e=this.map)||void 0===e||e.resize()}addScaleControl(){var e;const t=new AMap.Scale({position:"RB",offset:[180,20]});null===(e=this.map)||void 0===e||e.addControl(t),this.moveControlsToFront()}moveControlsToFront(){const e=document.querySelector(".amap-controls"),t=this.getContainer().closest(".maptalks-wrapper");e&&t&&t.appendChild(e)}takeScreenshot(){return new Promise(((e,t)=>{var n;const i=new AMap.CustomLayer(document.createElement("canvas"),{render:()=>{const n=this.getContainer().querySelector("canvas");n?e(n.toDataURL()):t(),setTimeout((()=>{this.map.remove(i)}))}});this.map.add(i),null===(n=this.map)||void 0===n||n.render()}))}}var h=n(90458),v=n.n(h),g=n(602),f=n(8942),m=n.n(f);const y="__baseMapsScriptId";let w=function(e){return e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE",e}({});class b{constructor(e){let{id:t=y,styleUrl:n,url:i}=e;if(o()(this,"CALLBACK","__baseMapsCallback"),o()(this,"callbacks",[]),o()(this,"done",!1),o()(this,"loading",!1),o()(this,"errors",[]),this.id=t||y,this.url=i,this.styleUrl=n,b.instance){if(!m()(this.options,b.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(b.instance.options)));return b.instance}b.instance=this}get options(){return{id:this.id,url:this.url}}get status(){return this.errors.length?w.FAILURE:this.done?w.SUCCESS:this.loading?w.LOADING:w.INITIALIZED}get failed(){return this.done&&!this.loading}createUrl(){let e=this.url;return e+="?callback=".concat(this.CALLBACK),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e({})}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");if(t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.styleUrl){const e=document.createElement("link");e.rel="stylesheet",e.crossOrigin="anonymous",e.href=this.styleUrl,document.head.appendChild(e)}document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[]}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.onerrorEvent=e,this.callback()}setCallback(){window.__baseMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}class C extends u.Z{constructor(e){super(e),o()(this,"defaultProps",{version:"2.8.2"}),o()(this,"defaultMapOptions",{...u.Z.defaultMapOptions,style:{version:8,layers:[],sources:{}}}),o()(this,"provider","mapbox"),o()(this,"features",null),o()(this,"language",null),this.props=Object.assign({},this.defaultProps,e),this.init()}get mapInstance(){return new Promise(((e,t)=>{this.loader.then((()=>{e(this.map)})).catch((e=>{t(e)}))}))}init(){const{version:e,key:t}=this.props;if(!t)throw new Error("Mapbox key is required");const n=new b({url:"https://api.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.js"),styleUrl:"https://api.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")});window.mapboxgl&&window.mapboxgl.Map?(this.loader=Promise.resolve(),this.isLoaded=!0):this.loader=n.load().then((()=>{this.isLoaded=!0}))}async create(e,t){var n;if(this.isDestroyed)return null;await this.loader,window.mapboxgl.accessToken=this.props.key;const i=l()({},this.props.mapOptions,t);return this.features=i.features||null,this.map=new window.mapboxgl.Map({...this.defaultMapOptions,...i,container:e,antialias:!0,minZoom:(null!==(n=i.minZoom)&&void 0!==n?n:u.Z.defaultMapOptions.minZoom)-1,style:this.getStyle(i.style)}),this.map.getCanvas().style.cursor="default",this.props.disableScaleControl||this.addScaleControl(i.mapBoxScalePosition),this.addLanguagePlugin(this.props.locale,i.style),new Promise(((e,t)=>{this.map.on("style.load",(()=>{this.features&&this.setFeatures(this.features),this.isCompleted=!0,e(this)}))}))}on(e,t){this.map.on(e,t)}off(e,t){this.map.off(e,t)}addLanguagePlugin(e,t){var n;if(t===c.R6.MapboxSatellite)return;const i=null===(n=navigator)||void 0===n||null===(n=n.languages)||void 0===n?void 0:n[0],o=["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","vi","zh-Hans","zh-Hant"].includes(i)?i:"en",a="zh-CN"===e?{defaultLanguage:"zh-Hans"}:"ja-JP"===e?{defaultLanguage:"ja"}:{defaultLanguage:o},l=new(v())(a);this.language=l,this.map.addControl(l)}setBearing(e){this.map.setBearing(e)}getBearing(){return this.map.getBearing()}setPitch(e){this.map.setPitch(e)}getPitch(){return this.map.getPitch()}getCenter(){var e;if(!this.map)return(null===(e=this.props.mapOptions)||void 0===e?void 0:e.center)||u.Z.defaultMapOptions.center;const t=this.map.getCenter();return[t.lng,t.lat]}setCenter(e){this.map.setCenter({lng:e[0],lat:e[1]})}getZoom(){return this.map.getZoom()}setZoom(e){this.map.setZoom(e)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}setZoomAndCenter(e,t){this.map.jumpTo({zoom:e,center:t})}setLanguage(e){this.map&&"zh-CN"===e&&this.baseMapStyle!==c.R6.MapboxSatellite&&(this.language?this.map.setStyle(this.language.setLanguage(this.map.getStyle(),"zh-Hans")):this.addLanguagePlugin(e))}getStyle(e){switch(e){case c.R6.MapboxStreets:return"mapbox://styles/mapbox/streets-v11";case c.R6.MapboxOutdoors:return"mapbox://styles/mapbox/outdoors-v11";case c.R6.MapboxLight:return"mapbox://styles/mapbox/light-v10";case c.R6.MapboxDark:return"mapbox://styles/mapbox/dark-v10";case c.R6.MapboxSatellite:return"mapbox://styles/mapbox/satellite-v9";default:return"mapbox://styles/mapbox/streets-v11"}}setMapStyle(e){var t,n;e===c.R6.MapboxSatellite&&this.language?(null===(n=this.map)||void 0===n||n.removeControl(this.language),this.language=null):this.map&&this.addLanguagePlugin(this.props.locale,e);null===(t=this.map)||void 0===t||t.setStyle(this.getStyle(e)),this.baseMapStyle=e}getMapStyle(){return this.baseMapStyle}setFeatures(e){if(!this.map)return;const t=g.tR.filter((t=>!e.includes(t))),n=[],i=[];t.forEach((e=>{g.ak[e]&&n.push(...g.ak[e])})),e.forEach((e=>{g.ak[e]&&i.push(...g.ak[e])})),this.map.isStyleLoaded()&&(n.forEach((e=>{var t;(null===(t=this.map)||void 0===t?void 0:t.getLayer(e))&&this.map.setLayoutProperty(e,"visibility","none")})),i.forEach((e=>{var t;(null===(t=this.map)||void 0===t?void 0:t.getLayer(e))&&this.map.setLayoutProperty(e,"visibility","visible")}))),this.features=e}getContainer(){return this.map.getContainer()}getProvider(){return this.provider}destroy(){this.isLoaded&&(this.map.remove(),this.isDestroyed=!0)}interactive(e){e?this.map.dragPan.enable():this.map.dragPan.disable()}resize(){this.map.resize()}addScaleControl(e){const t=new window.mapboxgl.ScaleControl;this.map.addControl(t,e||"bottom-right"),this.moveControlsToFront()}moveControlsToFront(){const e=document.querySelector(".mapboxgl-control-container"),t=this.getContainer().closest(".maptalks-wrapper");e&&t&&t.appendChild(e)}takeScreenshot(){return new Promise(((e,t)=>{this.map._render();const n=this.getContainer().querySelector("canvas");n?e(n.toDataURL()):t()}))}}var x=n(60933),I=n(13307),j=n.n(I);const M=[{featureType:"landscape.man_made",elementType:"all",stylers:[{color:"#faf5ed"},{lightness:"0"},{gamma:"1"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5a6"}]},{featureType:"road",elementType:"all",stylers:[{weight:"1.00"},{gamma:"1.8"},{saturation:"0"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ffb200"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{lightness:"0"},{gamma:"1"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{hue:"#b000ff"},{saturation:"23"},{lightness:"-4"},{gamma:"0.80"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a0daf2"}]}],k=[{featureType:"water",stylers:[{visibility:"on"},{color:"#b5cbe4"}]},{featureType:"landscape",stylers:[{color:"#efefef"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#83a5b0"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#bdcdd3"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e3eed3"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",stylers:[{lightness:20}]}],T=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],E=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],P=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];class O extends u.Z{constructor(e){var t;super(e),t=this,o()(this,"defaultProps",{version:"weekly"}),o()(this,"defaultMapOptions",{zoom:u.Z.defaultMapOptions.zoom,minZoom:u.Z.defaultMapOptions.minZoom,maxZoom:u.Z.defaultMapOptions.maxZoom,center:{lng:u.Z.defaultMapOptions.center[0],lat:u.Z.defaultMapOptions.center[1]},streetViewControl:!1,clickableIcons:!1,disableDefaultUI:!0,fullscreenControl:!1,isFractionalZoomEnabled:!0,draggableCursor:"default"}),o()(this,"provider","google"),o()(this,"setZoomAndCenter",j()((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=arguments.length>1?arguments[1]:void 0;t.map.moveCamera({zoom:t.transformStandardZoomToGoogleZoom(e),center:{lng:n[0],lat:n[1]}})}),10)),this.props=Object.assign({},this.defaultProps,e),this.init()}get mapInstance(){return new Promise(((e,t)=>{this.loader.then((()=>{e(this.map)})).catch((e=>{t(e)}))}))}init(){const{key:e,version:t}=this.props;if(!e)throw new Error("GoogleMap key is required");const n=new x.aN({apiKey:e,version:t,language:"zh-CN"===this.props.locale?"zh-CN":"en"});window.google&&window.google.maps?(this.isLoaded=!0,this.loader=Promise.resolve()):this.loader=n.importLibrary("maps").then((()=>{this.isLoaded=!0}))}async create(e,t){if(this.isDestroyed)return null;await this.loader;const n=l()({},this.props.mapOptions,t);return this.map=new google.maps.Map("string"===typeof e?document.getElementById(e):e,{...this.defaultMapOptions,...this.transformToGoogleMapOptions(n),styles:this.getStyle(n.style)}),this.baseMapStyle=n.style,new Promise((e=>{this.map.addListener("tilesloaded",(()=>{this.isCompleted=!0,e(this)}))}))}transformToGoogleMapOptions(e){if(e){var t,n,i;const{center:o,zoom:a,minZoom:l,maxZoom:r}=e;return{zoom:this.transformStandardZoomToGoogleZoom(null!==(t=null!==a&&void 0!==a?a:this.defaultMapOptions.zoom)&&void 0!==t?t:1),minZoom:null!==(n=null!==l&&void 0!==l?l:this.defaultMapOptions.minZoom)&&void 0!==n?n:1,maxZoom:null!==(i=null!==r&&void 0!==r?r:this.defaultMapOptions.maxZoom)&&void 0!==i?i:1,center:o?{lng:o[0],lat:o[1]}:this.defaultMapOptions.center}}}getContainer(){return this.map.getDiv()}on(e,t){this.map.addListener(e,t)}off(e,t){google.maps.event.clearListeners(this.map,e)}addListener(e,t){return google.maps.event.addListener(this.map,e,t)}removeListener(e){google.maps.event.removeListener(e)}setCenter(e){this.map.moveCamera({center:{lng:e[0],lat:e[1]}})}getCenter(){const e=this.map.getCenter();return e?[e.lng(),e.lat()]:[null===(t=this.defaultMapOptions.center)||void 0===t?void 0:t.lng,null===(n=this.defaultMapOptions.center)||void 0===n?void 0:n.lat];var t,n}zoomIn(){var e;this.map.moveCamera({zoom:null!==(e=this.map.getZoom())&&void 0!==e?e:2})}zoomOut(){var e;this.map.moveCamera({zoom:null!==(e=this.map.getZoom())&&void 0!==e?e:0})}setZoom(e){this.map.moveCamera({zoom:this.transformStandardZoomToGoogleZoom(e)})}getZoom(){var e;return this.transformGoogleZoomToStandardZoom(null!==(e=this.map.getZoom())&&void 0!==e?e:1)}setPitch(e){this.map.setTilt(e)}getPitch(){var e;return null!==(e=this.map.getTilt())&&void 0!==e?e:0}setBearing(e){return this.map.setHeading(e)}getBearing(){var e;return null!==(e=this.map.getHeading())&&void 0!==e?e:0}getStyle(e){switch(e){case c.nB.GoogleMapAtlas:return M;case c.nB.GoogleMapLight:return k;case c.nB.GoogleMapGrey:return T;case c.nB.GoogleMapDark:return E;case c.nB.GoogleMapNight:return P;case c.nB.GoogleMapSatellite:default:return[]}}setMapStyle(e){this.map&&(e===c.nB.GoogleMapSatellite?this.map.setOptions({mapTypeId:"satellite",styles:[]}):this.map.setOptions({mapTypeId:"roadmap",styles:this.getStyle(e)}),this.baseMapStyle=e)}getMapStyle(){return this.baseMapStyle}getProvider(){return this.provider}destroy(){this.isLoaded&&(this.map.getDiv().innerHTML="",this.isDestroyed=!0)}interactive(e){}setFeatures(e){if(!this.map)return;const t=structuredClone(this.getStyle(this.baseMapStyle));e.includes("bg")||t.forEach((e=>{var t,n;null!==(t=e.featureType)&&void 0!==t&&t.includes("landscape")&&(e.stylers=[{visibility:"off"}]),null!==(n=e.featureType)&&void 0!==n&&n.includes("water")&&(e.stylers=[{visibility:"off"}])})),e.includes("road")||t.forEach((e=>{var t;null!==(t=e.featureType)&&void 0!==t&&t.includes("road")&&(e.stylers=[{visibility:"off"}])})),e.includes("building")||t.push({featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.medical",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]},{featureType:"poi.school",elementType:"all",stylers:[{visibility:"off",color:"#ffffff"}]}),e.includes("point")||(t.forEach((e=>{var t;null!==(t=e.featureType)&&void 0!==t&&t.includes("poi")&&(e.stylers=[{visibility:"off"}])})),t.push({featureType:"poi",elementType:"labels",stylers:[{visibility:"off",color:"#ffffff"}]})),this.map.setOptions({mapTypeId:this.baseMapStyle===c.nB.GoogleMapSatellite?"satellite":"roadmap",styles:t})}setLanguage(e){}resize(){google.maps.event.trigger(this.map,"resize")}takeScreenshot(){return Promise.resolve("")}transformStandardZoomToGoogleZoom(e){return e+1}transformGoogleZoomToStandardZoom(e){return e-1}}var S=n(95131)},87797:(e,t,n)=>{"use strict";n.d(t,{R6:()=>a,nB:()=>o,nn:()=>i});let i=function(e){return e.AmapStandard="AmapStandard",e.AmapLight="AmapLight",e.AmapDark="AmapDark",e.AmapDarkBlue="AmapDarkBlue",e.AmapSatellite="AmapSatellite",e}({}),o=function(e){return e.GoogleMapAtlas="GoogleMapAtlas",e.GoogleMapLight="GoogleMapLight",e.GoogleMapGrey="GoogleMapGrey",e.GoogleMapDark="GoogleMapDark",e.GoogleMapNight="GoogleMapNight",e.GoogleMapSatellite="GoogleMapSatellite",e}({}),a=function(e){return e.MapboxStreets="MapboxStreets",e.MapboxOutdoors="MapboxOutdoors",e.MapboxLight="MapboxLight",e.MapboxDark="MapboxDark",e.MapboxSatellite="MapboxSatellite",e}({});i.AmapDark,i.AmapDarkBlue,i.AmapSatellite,o.GoogleMapDark,o.GoogleMapNight,a.MapboxDark,a.MapboxSatellite},95131:(e,t,n)=>{"use strict";n.d(t,{I:()=>p,a:()=>u});var i=n(41989),o=n.n(i),a=n(25806),l=n.n(a),r=n(87797);const s=[1,19];var d=function(e){return e[e.R=6378137]="R",e[e.SIZE=256]="SIZE",e[e.MAX_ZOOM=20]="MAX_ZOOM",e}(d||{});const c=2*d.R*Math.PI/(d.SIZE*Math.pow(2,d.MAX_ZOOM));function u(e){var t;return null!==(t=o()([s[1]-Math.log(e/c)/Math.LN2,s[0]]))&&void 0!==t?t:0}function p(e){return e?l()(r.nn,e)?"amap":l()(r.nB,e)?"google":l()(r.R6,e)?"mapbox":"customize":"mapbox"}},34197:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var i=n(57435),o=n(2550),a=n(95620);function l(e){let{active:t,getDirection:n,baseMapProvider:l,method:s,map:d,projectId:c}=e;const[u,p]=(0,i.useState)(),[h,v]=(0,i.useState)(),g=(0,a.Z)(),f=(0,i.useRef)(),m=(0,i.useRef)(),y=(0,i.useRef)(),w=g.$t({id:"route.start",defaultMessage:"Start"}),b=g.$t({id:"route.end",defaultMessage:"End"}),[C,x]=(0,i.useState)(),[I,j]=(0,i.useState)(),[M,k]=(0,i.useState)(!1),T=(0,i.useRef)([]),E=(0,i.useCallback)((()=>{T.current.forEach((e=>{e.remove()}))}),[]),P=(0,i.useCallback)((e=>{if(!m.current)return;0===m.current.getCount()?p(e.coordinate.toArray()):v(e.coordinate.toArray());const[t,n]=function(e,t){const n=new o.Jx(e,{symbol:{markerType:"ellipse",markerFill:"#0065FF",markerLineColor:"#fff",markerLineWidth:2,markerWidth:12,markerHeight:12}}),i=document.createElement("div");i.innerHTML=t,i.style.color="#fff",i.style.backgroundColor="#0065FF",i.style.padding="0px 4px",i.style.borderRadius="4px",i.style.whiteSpace="nowrap";const a=new o.ui.UIMarker(e,{content:i,dy:20});return[n,a]}(e.coordinate,0===m.current.getCount()?w:b);m.current.addGeometry(t),n.addTo(m.current.getMap()),T.current.push(t,n)}),[b,w]),O=(0,i.useCallback)((e=>{m.current&&e&&(x(e.distance),j(e.duration),y.current&&m.current.removeGeometry(y.current),y.current=r(e.coordinates),m.current.addGeometry(y.current))}),[]),S=(0,i.useCallback)(((e,t)=>{var n,i,a,l;p(e),v(t),null===(n=m.current)||void 0===n||n.clear(),E(),null===(i=f.current)||void 0===i||i.enable(),null===(a=f.current)||void 0===a||a.fire("drawend",{coordinate:new o.c7(e)}),null===(l=f.current)||void 0===l||l.fire("drawend",{coordinate:new o.c7(t)})}),[E]),_=(0,i.useCallback)((()=>{var e,t;p(void 0),v(void 0),x(void 0),j(void 0),null===(e=f.current)||void 0===e||e.enable(),null===(t=m.current)||void 0===t||t.clear(),E()}),[E]);return(0,i.useEffect)((()=>{t&&null!==d&&void 0!==d&&d.mapTalksMap&&(f.current||m.current||(f.current=new o.nh({mode:"Point",symbol:{markerType:"ellipse",markerFill:"#0065FF",markerLineColor:"#fff",markerLineWidth:2,markerWidth:12,markerHeight:12}}).addTo(d.mapTalksMap),m.current=new o.DJ("direction").addTo(d.mapTalksMap),y.current=r(),f.current.on("drawend",P)))}),[t,d,w,P]),(0,i.useEffect)((()=>{t&&f.current&&f.current.setSymbol({markerType:"ellipse",markerFill:"#0065FF",markerLineColor:"#fff",markerLineWidth:2,markerWidth:12,markerHeight:12})}),[t,u,b,w]),(0,i.useEffect)((()=>{t&&f.current&&u&&h&&(f.current.disable(),"amap"!==l&&"mapbox"!==l||(k(!0),null===n||void 0===n||n({origin:u,destination:h,type:null!==s&&void 0!==s?s:"driving",service:l,projectId:c}).then(O).finally((()=>k(!1)))))}),[t,h,u,n,s,l,c,O]),(0,i.useEffect)((()=>{var e,n,i;t||(null===(e=f.current)||void 0===e||e.remove(),null===(n=m.current)||void 0===n||n.remove(),null===(i=y.current)||void 0===i||i.remove(),f.current=void 0,m.current=void 0,y.current=void 0,E(),p(void 0),v(void 0),x(void 0),j(void 0));return()=>{var e,t,n;null===(e=f.current)||void 0===e||e.remove(),null===(t=m.current)||void 0===t||t.remove(),null===(n=y.current)||void 0===n||n.remove(),E(),f.current=void 0,m.current=void 0,y.current=void 0}}),[t,E]),{distance:C,duration:I,isLoading:M,getData:(0,i.useCallback)((()=>{var e;const t=null===(e=y.current)||void 0===e?void 0:e.toGeoJSON();if(t)return{type:"FeatureCollection",features:[t]}}),[]),resetDirection:_,loadHistory:S}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new o.Yp(e,{symbol:{lineColor:"#0065FF",lineWidth:5,lineJoin:"round",lineCap:"round"}})}},61924:(e,t,n)=>{"use strict";n.d(t,{ZX:()=>g,br:()=>v,OO:()=>k,$N:()=>x,h_:()=>u,g3:()=>X,rm:()=>ne,zy:()=>j,Ly:()=>y});var i=n(57435),o=n(6895),a=n(95315),l=n(94553);const r=(0,i.forwardRef)(((e,t)=>{let{container:n,children:o,className:r,id:s,placeholder:d,style:c,...u}=e;const[p]=(0,i.useState)({className:r,id:s,style:{width:"100%",height:"100%",...c}}),[h,v]=(0,i.useState)(null);(0,i.useImperativeHandle)(t,(()=>null!==h&&void 0!==h?h:null),[h]);const g=(0,i.useCallback)((e=>{if(null!==e&&null===h){const t=new a.Z({container:n||e,...u});v(t)}}),[h,u,n]);return(0,i.useEffect)((()=>{if(h&&u.baseMap){const e="customize"===u.baseMap.getProvider()?"customize":"built-in";h.setBaseMap(u.baseMap,e)}}),[u.baseMap,h]),(0,i.useEffect)((()=>{var e;h&&h.setLayers(null!==(e=u.layers)&&void 0!==e?e:[])}),[u.layers,h]),(0,i.useEffect)((()=>{h&&u.geometryEditor&&h.setGeometryEditor(u.geometryEditor)}),[u.geometryEditor,h]),(0,i.useEffect)((()=>{h&&u.annotation&&h.setAnnotation(u.annotation)}),[u.annotation,h]),(0,i.useEffect)((()=>{var e;null!==h&&void 0!==h&&h.deckLayer&&(null===(e=h.deckLayer)||void 0===e||e.setProps({...u.deckProps}))}),[u.deckProps,null===h||void 0===h?void 0:h.deckLayer]),(0,i.useEffect)((()=>{u.locale&&h&&h.setLanguage(u.locale)}),[u.locale,h]),(0,i.useEffect)((()=>()=>{null===h||void 0===h||h.destroy()}),[h]),(0,l.jsx)("div",{...p,ref:g,onContextMenu:e=>e.preventDefault()})})),s={width:"100%",height:"100%",position:"relative"},d={width:"50%",height:"100%",position:"absolute",overflow:"hidden",top:0,bottom:0};function c(e,t){const{dualMap:n,children:a,placeholder:c,subMapRef:u,onViewStateSync:p,syncOptions:h}=e,[v,g]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),y=(0,i.useRef)(v),w=(0,i.useRef)(h);(0,i.useImperativeHandle)(t,(()=>null!==v&&void 0!==v?v:null),[v]);const b=(0,i.useCallback)((e=>{null===p||void 0===p||p(e);const t=w.current;var n,i;null!==t&&void 0!==t&&t.viewport&&(null===u||void 0===u||null===(n=u.current)||void 0===n||n.setViewState(e));null!==t&&void 0!==t&&t.viewport||null===t||void 0===t||!t.zoom||(null===u||void 0===u||null===(i=u.current)||void 0===i||i.setViewState({zoom:e.zoom}))}),[p,u]),C=(0,i.useCallback)((e=>{const t=w.current;var n,i;null!==t&&void 0!==t&&t.viewport&&(null===y||void 0===y||null===(n=y.current)||void 0===n||n.setViewState(e));null!==t&&void 0!==t&&t.viewport||null===t||void 0===t||!t.zoom||(null===y||void 0===y||null===(i=y.current)||void 0===i||i.setViewState({zoom:e.zoom}))}),[]),x=(0,i.useMemo)((()=>v?(0,l.jsx)(o.Ib,{value:{map:v,setMap:g,subMap:f,setSubMap:m},children:a}):null!==c&&void 0!==c?c:null),[v,f,c,a]);return(0,i.useEffect)((()=>{w.current=h}),[h]),(0,i.useEffect)((()=>{y.current=v}),[v]),(0,i.useEffect)((()=>{u&&(u.current=f)}),[u,f]),n?(0,l.jsxs)("div",{style:s,children:[(0,l.jsx)("div",{style:{...d},children:(0,l.jsx)(r,{ref:g,...e,onViewStateSync:b})}),(0,l.jsx)("div",{style:{...d,left:"50%"},children:(0,l.jsx)(r,{ref:m,...n,onViewStateSync:C})}),x]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r,{ref:g,...e}),x]})}const u=(0,i.forwardRef)(c);var p=n(4738),h=n(33718);n(11286);const v=e=>{let{name:t,className:n,active:o,persistentActive:a,icon:r,title:s,children:d,showClose:c,onClick:u,onClose:v}=e;const[g,f]=(0,i.useState)(null!==a&&void 0!==a?a:o),m=(0,p.useMediaQuery)({query:"(max-width: 767px)"}),y=i.useRef(null);(0,i.useEffect)((()=>{f(null!==a&&void 0!==a?a:o)}),[o,a]);return(0,i.useEffect)((()=>{if(!y.current)return;const e=y.current.querySelector(".mtmap-controls__panel");if(!e)return;const t=new ResizeObserver((()=>{var t;const{height:n}=e.getBoundingClientRect(),i=null===(t=y.current)||void 0===t?void 0:t.querySelector(".mtmap-controls__close");i&&(i.style.top="-".concat(n-30,"px"))}));return t.observe(e),()=>{t.disconnect()}}),[]),(0,l.jsxs)("div",{ref:y,className:(0,h.default)("mtmap-controls__block",n),"data-testid":"".concat(t,"Control"),children:[(0,l.jsx)("div",{className:(0,h.default)("mtmap-controls__item mtmap-controls__label",{active:g}),"aria-label":m?void 0:s,"data-balloon-pos":"left",onClick:()=>{null===u||void 0===u||u(!g,t)},children:r}),d&&(0,l.jsx)("div",{className:(0,h.default)("mtmap-controls__panel",{hide:!g}),children:d}),c&&d?(0,l.jsx)("span",{className:(0,h.default)("mtmap-controls__close",{hide:!g}),onClick:()=>{null===u||void 0===u||u(!1,t),null===v||void 0===v||v()},children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M14 3.209 12.791 2 8 6.791 3.209 2 2 3.209 6.791 8 2 12.791 3.209 14 8 9.209 12.791 14 14 12.791 9.209 8z",clipRule:"evenodd"})})}):null]})},g=(0,i.forwardRef)(((e,t)=>{let{children:n,className:o,defaultActiveControls:a,style:r}=e;const[s,d]=(0,i.useState)(a);function c(e,t){if(e&&t)d((e=>e?[...e,t]:[t]));else{const e=null===s||void 0===s?void 0:s.filter((e=>e!==t));d(e)}}return(0,i.useImperativeHandle)(t,(()=>({setActiveControl:d}))),(0,l.jsx)("div",{id:"map-panel-controls",className:(0,h.default)("mtmap-controls",o),style:r,"data-testid":"mapControls",children:i.Children.map(n,(e=>i.isValidElement(e)&&i.cloneElement(e,{active:null!==s&&void 0!==s&&s.includes(e.props.name)?"true":void 0,onClick:c})))})}));var f=n(55349),m=n.n(f);const y=e=>{var t,n;let{step:a=1}=e;const{map:r}=(0,o.fx)(),s=null===r||void 0===r||null===(t=r.mapTalksMap)||void 0===t?void 0:t.getMaxZoom(),d=null===r||void 0===r||null===(n=r.mapTalksMap)||void 0===n?void 0:n.getMinZoom(),c=(0,i.useCallback)((()=>{var e;const t=null===r||void 0===r||null===(e=r.mapTalksMap)||void 0===e?void 0:e.getZoom();var n;m()(t)||m()(s)||(null===r||void 0===r||null===(n=r.mapTalksMap)||void 0===n||n.setZoom(Math.min(t+a,s)))}),[r,a,s]),u=(0,i.useCallback)((()=>{var e;const t=null===r||void 0===r||null===(e=r.mapTalksMap)||void 0===e?void 0:e.getZoom();var n;m()(t)||m()(d)||(null===r||void 0===r||null===(n=r.mapTalksMap)||void 0===n||n.setZoom(Math.max(t-a,d)))}),[r,a,d]);return(0,l.jsxs)("div",{className:"mtmap-controls__block",children:[(0,l.jsx)("div",{className:"mtmap-controls__item",onClick:c,"aria-label":"zoom in",children:(0,l.jsx)("svg",{style:{width:"12px",height:"12px"},width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.06691 5.93359V0.0664062H5.93358V5.93359H0.0668945V8.06693H5.93358V13.9331H8.06691V8.06693H13.9336V5.93359H8.06691Z"})})}),(0,l.jsx)("div",{className:"mtmap-controls__item",onClick:u,"aria-label":"zoom out",children:(0,l.jsx)("svg",{style:{width:"12px",height:"12px"},width:"16",height:"4",viewBox:"0 0 16 4",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("rect",{x:"0.533203",y:"0.933594",width:"14.9333",height:"2.13333"})})})]})};var w=n(95620);const b=()=>(0,l.jsx)("span",{className:"mtmap-controls__spin",children:(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"})})}),C=()=>(0,l.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("g",{clipPath:"url(#clip0_9916_40456)",children:(0,l.jsx)("path",{d:"M2.17502 1.72458L16.2788 6.42558C16.3518 6.44977 16.4156 6.49583 16.4615 6.5575C16.5075 6.61918 16.5333 6.69349 16.5356 6.77036C16.5379 6.84723 16.5165 6.92295 16.4743 6.98725C16.4321 7.05155 16.3712 7.10133 16.2998 7.12983L9.75002 9.74958L6.43127 16.3871C6.39749 16.4547 6.34409 16.5105 6.27806 16.5472C6.21203 16.5839 6.13644 16.5998 6.06121 16.5929C5.98597 16.5859 5.9146 16.5564 5.85644 16.5081C5.79828 16.4599 5.75604 16.3952 5.73527 16.3226L1.69502 2.18283C1.6763 2.11714 1.67588 2.04759 1.6938 1.98168C1.71173 1.91577 1.74731 1.856 1.79672 1.80884C1.84612 1.76167 1.90747 1.7289 1.97414 1.71405C2.04081 1.6992 2.11026 1.70284 2.17502 1.72458Z",fill:"currentColor"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_9916_40456",children:(0,l.jsx)("rect",{width:"18",height:"18",fill:"white"})})})]}),x=e=>{const{active:t,name:n="location",onLocationGet:a,onGeoLocationDeny:r,onGetLocation:s}=e,[d,c]=(0,i.useState)(t),[u,p]=(0,i.useState)(!1),{map:h,subMap:g}=(0,o.fx)(),f=(0,w.Z)();return(0,l.jsx)(v,{name:n,onClick:function(){if(s)return c(!1),p(!0),void s().then((e=>{if(!e||e.length<2)return c(!1),void p(!1);c(!0),p(!1),a?null===a||void 0===a||a(e,16):(null===h||void 0===h||h.setZoomAndCenter(16,e),null===g||void 0===g||g.setZoomAndCenter(16,e))})).catch((()=>{c(!1),p(!1)}));null===navigator.userAgent.match(/Android/i)&&navigator.permissions.query({name:"geolocation"}).then((e=>{"denied"!==e.state||null===r||void 0===r||r()})),c(!1),p(!0),navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:n}=e.coords,i=[n,t];c(!0),p(!1),a?null===a||void 0===a||a(i,16):(null===h||void 0===h||h.setZoomAndCenter(16,i),null===g||void 0===g||g.setZoomAndCenter(16,i))}),(()=>{c(!1),p(!1)}),{timeout:1e4,enableHighAccuracy:!0,maximumAge:0})},persistentActive:d,icon:u?(0,l.jsx)(b,{}):(0,l.jsx)(C,{}),title:f.$t({id:"JByBQZ",defaultMessage:"Show your location"})})},I=()=>(0,l.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.666992 8.99935C0.666992 4.39935 4.39199 0.666016 8.99199 0.666016C13.6003 0.666016 17.3337 4.39935 17.3337 8.99935C17.3337 13.5993 13.6003 17.3327 8.99199 17.3327C4.39199 17.3327 0.666992 13.5993 0.666992 8.99935ZM12.3087 5.66602H14.767C13.967 4.29102 12.692 3.22435 11.1587 2.69935C11.6587 3.62435 12.042 4.62435 12.3087 5.66602ZM9.00033 2.36602C9.69199 3.36602 10.2337 4.47435 10.592 5.66602H7.40866C7.76699 4.47435 8.30866 3.36602 9.00033 2.36602ZM2.33366 8.99935C2.33366 9.57435 2.41699 10.1327 2.55033 10.666H5.36699C5.30033 10.116 5.25033 9.56602 5.25033 8.99935C5.25033 8.43268 5.30033 7.88268 5.36699 7.33268H2.55033C2.41699 7.86601 2.33366 8.42435 2.33366 8.99935ZM3.23366 12.3327H5.69199C5.95866 13.3743 6.34199 14.3743 6.84199 15.2993C5.30866 14.7743 4.03366 13.716 3.23366 12.3327ZM3.23366 5.66602H5.69199C5.95866 4.62435 6.34199 3.62435 6.84199 2.69935C5.30866 3.22435 4.03366 4.28268 3.23366 5.66602ZM9.00033 15.6327C8.30866 14.6327 7.76699 13.5243 7.40866 12.3327H10.592C10.2337 13.5243 9.69199 14.6327 9.00033 15.6327ZM6.91699 8.99935C6.91699 9.56602 6.97533 10.116 7.05033 10.666H10.9503C11.0253 10.116 11.0837 9.56602 11.0837 8.99935C11.0837 8.43268 11.0253 7.87435 10.9503 7.33268H7.05033C6.97533 7.87435 6.91699 8.43268 6.91699 8.99935ZM11.1587 15.2993C11.6587 14.3743 12.042 13.3743 12.3087 12.3327H14.767C13.967 13.7077 12.692 14.7743 11.1587 15.2993ZM12.7503 8.99935C12.7503 9.56602 12.7003 10.116 12.6337 10.666H15.4503C15.5837 10.1327 15.667 9.57435 15.667 8.99935C15.667 8.42435 15.5837 7.86601 15.4503 7.33268H12.6337C12.7003 7.88268 12.7503 8.43268 12.7503 8.99935Z",fill:"currentColor"})});function j(e){const{map:t}=(0,o.fx)(),{name:n="3d",onToggle:a,persistentActive:r}=e,[s,d]=(0,i.useState)(r),c=(0,w.Z)();return(0,l.jsx)(v,{name:n,onClick:function(e){if(a){(null===a||void 0===a?void 0:a(e))&&d(e)}else null===t||void 0===t||t.toggle3D(e)},persistentActive:s,icon:(0,l.jsx)(I,{}),title:c.$t({id:"fisnYt",defaultMessage:"3D map"})})}const M=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16","aria-hidden":"true","data-slot":"icon",viewBox:"0 0 16 16",fill:"currentColor",children:(0,l.jsx)("path",{d:"M12 3.2h1.067v3.2h-1.066V4.265H9.867V3.199zm-8.533 0h2.134v1.066H3.467v2.133H2.401V3.2zm8.534 8.533V9.599h1.066v3.2h-3.2v-1.066zm-8.534 0h2.134v1.066H2.4V9.6h1.066z"})});function k(e){const{name:t="fitBounds",onFit:n,persistentActive:i}=e,o=(0,w.Z)();return(0,l.jsx)(v,{name:t,onClick:()=>{null===n||void 0===n||n()},persistentActive:i,icon:(0,l.jsx)(M,{}),title:o.$t({id:"hHXYmd",defaultMessage:"Zoom to fit"})})}var T=n(18878),E=n.n(T),P=n(68429),O=n(50239),S=n(95775),_=n(59680),N=n(10925),D=n(17778),L=n(53029);const A="Measurement_wrapper__4AgxX",R="Measurement_title__JwQ2x",Z="Measurement_proBadge__1RXxV",F="Measurement_tips__Vc+wN",z="Measurement_value__qShRo",B="Measurement_radioGroup__9iK-Y",V="Measurement_subTitle__iYjfR",H="Measurement_resetButton__hOrps",W="Measurement_history__RkdKu",U="Measurement_historyList__0kgKx";var G=n(91671),q=n(2550);var $=n(34197);function J(e){let{theme:t,locale:n,active:o,map:a,type:l,method:r,baseMapProvider:s,projectId:d,getDirection:c}=e;const{lastMeasure:u,distanceTool:p}=(e=>{let{theme:t="light",locale:n="en-US",active:o,map:a}=e;const[l,r]=(0,i.useState)(0),s=(0,i.useMemo)((()=>({...K(t),language:["zh-CN","en-US"].includes(n)?n:"en-US"})),[t,n]),d=(0,i.useMemo)((()=>o?new q.kg(s):void 0),[s,o]),c=(0,i.useCallback)((()=>d?Q(d.getLastMeasure()):0),[d]);return(0,i.useEffect)((()=>{o&&null!==a&&void 0!==a&&a.mapTalksMap&&d&&d.addTo(a.mapTalksMap)}),[o,d,a]),(0,i.useEffect)((()=>{if(!d)return;const e=()=>r(c());return d.addEventListener("drawend",e),()=>{d.removeEventListener("drawend",e)}}),[d,c]),(0,i.useEffect)((()=>(o||(null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove(),r(0)),()=>{null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove()})),[d,o]),{distanceTool:d,lastMeasure:l,getLastMeasure:c}})((0,i.useMemo)((()=>({theme:t,locale:n,active:o&&"distance"===l,map:a,projectId:d})),[o,n,a,t,l,d])),{lastMeasure:h,areaTool:v}=function(e){let{theme:t,locale:n,active:o,map:a}=e;const[l,r]=(0,i.useState)(0),s=(0,i.useMemo)((()=>{const e=K(t),i=["zh-CN","en-US"].includes(n)?n:"en-US";return{...e,symbol:{...e.symbol,polygonFill:"#0065FF",polygonOpacity:.3},language:i}}),[t,n]),d=(0,i.useMemo)((()=>o?new q.Hp(s):void 0),[s,o]),c=(0,i.useCallback)((()=>d?Q(d.getLastMeasure(),!0):0),[d]);return(0,i.useEffect)((()=>{o&&null!==a&&void 0!==a&&a.mapTalksMap&&d&&d.addTo(a.mapTalksMap)}),[o,d,a]),(0,i.useEffect)((()=>{if(!d)return;const e=()=>r(c());return d.addEventListener("drawend",e),()=>{d.removeEventListener("drawend",e)}}),[d,c]),(0,i.useEffect)((()=>(o||(null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove(),r(0)),()=>{null===d||void 0===d||d.clear(),null===d||void 0===d||d.remove()})),[d,o]),{areaTool:d,lastMeasure:l,getLastMeasure:c}}((0,i.useMemo)((()=>({theme:t,locale:n,active:o&&"area"===l,map:a,projectId:d})),[o,n,a,t,l,d])),{distance:g,duration:f,isLoading:m,loadHistory:y,resetDirection:w}=(0,$.g)((0,i.useMemo)((()=>({theme:t,locale:n,active:o&&"route"===l,map:a,method:r,baseMapProvider:s,projectId:d,getDirection:c})),[o,n,a,t,l,r,s,d,c]));return{lastDistanceMeasure:u,lastAreaMeasure:h,distanceTool:p,areaTool:v,distance:g,duration:f,isLoading:m,loadHistory:y,resetDirection:w}}function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,t,n){const i=n?t?["ft\xb2","mi\xb2"]:["ft","mi"]:t?["m\xb2","km\xb2"]:["m","km"],o=n?t?5280**2:5280:t?1e6:1e3,a=(e=n?t?10.764*e:3.28*e:e)>o;e=a?e/o:e;const l=(0,G.P)(e,2,"commaNumber");return"".concat(l," ").concat(a?i[1]:i[0])}const i=n(e,t,!1),o=n(e,t,!0);return"".concat(i,"(").concat(o,")")}function K(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";const t="dark"===e?"#091E42":"#FFF";return{symbol:{lineColor:"#0065FF",lineWidth:2},vertexSymbol:{markerType:"ellipse",markerFill:"#fff",markerLineColor:"#0065FF",markerLineWidth:2,markerWidth:10,markerHeight:10},labelOptions:{textSymbol:{textFaceName:"monospace",textFill:"#000",textLineSpacing:1,textHorizontalAlignment:"right",textDx:15,markerLineColor:t,markerFill:"#000"},boxStyle:{padding:[6,2],symbol:{markerType:"square",markerFill:"#FFF",markerFillOpacity:.9}}},clearButtonSymbol:[{markerType:"square",markerFill:"dark"===e?"#FFF":"#091E42",markerLineWidth:2,markerWidth:0,markerHeight:0,markerDx:0},{markerType:"x",markerWidth:0,markerHeight:0,markerLineColor:t,markerDx:0}]}}const Y=(e,t)=>{const{name:n="measurement",theme:a,active:r,locale:s,baseMapProvider:d,enableRoute:c,projectId:u,history:p,onClick:h,onActiveChange:g,getDirection:f,checkRights:m}=e,{map:y}=(0,o.fx)(),[b,C]=(0,i.useState)("distance"),[x,I]=(0,i.useState)("driving"),{lastDistanceMeasure:j,distanceTool:M,lastAreaMeasure:k,distance:T,duration:N,isLoading:W,loadHistory:U,resetDirection:G}=J((0,i.useMemo)((()=>({theme:a,locale:s,map:y,active:r,type:b,method:x,baseMapProvider:d,projectId:u,getDirection:f})),[s,a,y,r,b,x,d,u,f])),q=(0,w.Z)();function $(){null===h||void 0===h||h(!1,n),g(!1)}function Q(){g(!r),null===h||void 0===h||h(!r,n)}const K=(0,i.useMemo)((()=>{const e=[{value:"distance",label:q.$t({id:"measurement.distance",defaultMessage:"Distance"})},{value:"area",label:q.$t({id:"measurement.area",defaultMessage:"Area"})}];return c&&e.push({value:"route",label:(0,l.jsxs)(O.Z,{align:"center",children:[q.$t({id:"measurement.route",defaultMessage:"Route"}),(0,l.jsx)(L.Z,{className:Z})]})}),e}),[q,c]),Y=[{value:"driving",label:q.$t({id:"measurement.driving",defaultMessage:"Driving"})},{value:"walking",label:q.$t({id:"measurement.walking",defaultMessage:"Walking"})},{value:"bicycling",label:q.$t({id:"measurement.bicycling",defaultMessage:"Bicycling"})}];(0,i.useImperativeHandle)(t,(()=>({distanceTool:{open:()=>Q(),close:()=>$(),endDraw:()=>null===M||void 0===M?void 0:M.endDraw()},type:b,active:r}))),(0,i.useEffect)((()=>{r||(C("distance"),I("driving"))}),[r]);return(0,l.jsx)(v,{showClose:!0,name:n,onClick:Q,onClose:$,active:r,icon:(0,l.jsx)(P.Z,{type:"distance"}),title:q.$t({id:"XsDoHr",defaultMessage:"Measurement"}),children:(0,l.jsxs)("div",{className:A,children:[(0,l.jsx)("div",{className:R,children:q.$t({id:"XsDoHr",defaultMessage:"Measurement"})}),(0,l.jsx)(S.ZP.Group,{size:"small",options:K,optionType:"button",className:B,value:b,onChange:e=>(async e=>{if("route"===e){if(!await m())return;C(e)}else C(e)})(e.target.value),disabled:W}),"route"===b&&(0,l.jsxs)(_.Z,{spinning:W,indicator:(0,l.jsx)(D.Z,{}),children:[(0,l.jsxs)(O.Z,{align:"center",justify:"space-between",style:{marginBottom:6},children:[(0,l.jsx)("div",{className:V,children:q.$t({id:"lRiViJ",defaultMessage:"Travel method"})}),T&&N&&(0,l.jsx)("span",{className:H,onClick:G,children:q.$t({id:"Ks6VyE",defaultMessage:"clear"})})]}),(0,l.jsx)(S.ZP.Group,{size:"small",options:Y,optionType:"button",value:x,style:{marginBottom:10},onChange:e=>I(e.target.value)}),(0,l.jsxs)(O.Z,{align:"center",justify:"space-between",children:[(0,l.jsxs)("div",{className:V,children:[q.$t({id:"YILem4",defaultMessage:"Travel time"}),":"]}),(0,l.jsx)("div",{className:z,children:N?"".concat(E()(N)?Math.round(N/60):N," min"):""})]}),(0,l.jsxs)(O.Z,{align:"center",justify:"space-between",children:[(0,l.jsxs)("div",{className:V,children:[q.$t({id:"Y/tOfN",defaultMessage:"Travel distance"}),":"]}),(0,l.jsx)("div",{className:z,children:T?"".concat(E()(T)?(Math.round(T/1e3*100)/100).toFixed(2):T," km"):""})]}),(null===p||void 0===p?void 0:p.length)&&(0,l.jsx)(ee,{history:p,onClick:function(e){U(e.origin,e.destination)}})]}),("distance"===b||"area"===b)&&(0,l.jsx)("div",{className:F,children:q.$t({id:"DJB2vn",defaultMessage:"Click to start measurement, double click to end"})}),"distance"===b&&(0,l.jsxs)(O.Z,{align:"center",justify:"space-between","data-testid":"measureDistance",children:[(0,l.jsxs)("div",{children:[q.$t({id:"measurement.distance",defaultMessage:"Distance"}),":"]}),(0,l.jsx)("div",{className:z,children:j})]}),"area"===b&&(0,l.jsxs)(O.Z,{align:"center",justify:"space-between","data-testid":"measureDistance",children:[(0,l.jsxs)("div",{children:[q.$t({id:"measurement.area",defaultMessage:"Area"}),":"]}),(0,l.jsx)("div",{className:z,children:k})]})]})})},X=(0,i.forwardRef)(Y);function ee(e){let{history:t,onClick:n}=e;const i=(0,w.Z)();return(0,l.jsxs)("div",{className:W,children:[(0,l.jsx)("h3",{children:i.$t({id:"djJp6c",defaultMessage:"History"})}),(0,l.jsx)("ul",{className:U,children:t.map(((e,t)=>(0,l.jsxs)("li",{onClick:()=>n(e),children:[(0,l.jsx)(N.Z.Text,{ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.originName,destroyOnHidden:!0}},children:e.originName}),(0,l.jsx)(P.Z,{type:"arrowRight5"}),(0,l.jsx)(N.Z.Text,{ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.destinationName,destroyOnHidden:!0}},children:e.destinationName})]},t)))})]})}const te={control:"regionMatchResult_control__Th6Yq",title:"regionMatchResult_title__Xa+vF",divider:"regionMatchResult_divider__cQmKv",text:"regionMatchResult_text__3GRch",tip:"regionMatchResult_tip__DpdJm"};function ne(e){let{totalItems:t,notMatchedItems:n}=e;const o=(0,w.Z)(),[a,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{null!==n&&void 0!==n&&n.length?r(!0):r(!1)}),[n]),(0,l.jsx)(v,{name:"regionMatchResult",onClick:function(){r(!a)},active:a,icon:(0,l.jsx)(P.Z,{type:"info"}),title:o.$t({id:"TXlHZX",defaultMessage:"Match results"}),className:te.control,children:(0,l.jsx)(ie,{totalItems:t,notMatchedItems:n})})}function ie(e){var t,n;let{totalItems:i,notMatchedItems:o}=e;const a=(0,w.Z)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:te.title,children:a.$t({id:"TXlHZX",defaultMessage:"Match results"})}),(0,l.jsx)("div",{className:te.title,children:a.$t({id:"i1NSyk",defaultMessage:"Total: {count} row(s)"},{count:null!==(t=null===i||void 0===i?void 0:i.length)&&void 0!==t?t:""})}),null!==o&&void 0!==o&&o.length?(0,l.jsx)("div",{className:te.divider}):null,(0,l.jsx)("div",{className:te.title,children:a.$t({id:"L85JMq",defaultMessage:"Failed: {count} row(s)"},{count:null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:""})}),null===o||void 0===o?void 0:o.slice(0,5).map(((e,t)=>(0,l.jsxs)("div",{className:te.text,children:[t+1,". ",e.regionName]},e.rowId))),o&&(null===o||void 0===o?void 0:o.length)>5?(0,l.jsx)("div",{className:te.tip,children:a.$t({id:"+n5dHE",defaultMessage:"Only show the first 5 items"})}):null]})}},99661:(e,t,n)=>{"use strict";n.d(t,{D9:()=>d,DM:()=>i,Kt:()=>a,NY:()=>c,kD:()=>r,v:()=>o,v2:()=>s});const i=["#E55D3C","#FFD233","#5EC298","#33C6E1","#3384FF","#8476CD","#505F79","#ffffff"],o=[2,6,10],a=[40,64,96],l={markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#3384FF",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:14,markerHeight:14},r={...l,markerFillOpacity:.6,markerLineWidth:1},s={...l,markerType:"ellipse"},d={...l,markerType:"square"},c={markerType:"ellipse",markerFill:"#fff",markerLineColor:"#fff",markerLineWidth:0,markerWidth:0,markerHeight:0,opacity:0}},602:(e,t,n)=>{"use strict";n.d(t,{Y8:()=>i,ak:()=>o,tR:()=>a});const i=99,o={bg:["landcover","national-park","landuse","pitch-outline","water-shadow","water","waterway","hillshade","land-structure-polygon","land-structure-line","cliff","gate-fence-hedge","contour-line","contour-label","aeroway-polygon","aeroway-line","admin-1-boundary-bg","admin-0-boundary-bg","admin-1-boundary","admin-0-boundary","admin-0-boundary-disputed"],road:["tunnel-street-minor-low","tunnel-street-minor-case","tunnel-primary-secondary-tertiary-case","tunnel-major-link-case","tunnel-motorway-trunk-case","tunnel-construction","tunnel-path","tunnel-steps","tunnel-major-link","tunnel-pedestrian","tunnel-street-minor","tunnel-primary-secondary-tertiary","tunnel-oneway-arrow-blue","tunnel-motorway-trunk","tunnel-oneway-arrow-white","ferry","ferry-auto","road-path-bg","road-steps-bg","turning-feature-outline","road-pedestrian-case","road-minor-low","road-street-low","road-minor-case","road-street-case","road-secondary-tertiary-case","road-primary-case","road-major-link-case","road-motorway-trunk-case","road-construction","road-path","road-steps","road-major-link","road-pedestrian","road-pedestrian-polygon-fill","road-pedestrian-polygon-pattern","road-polygon","road-minor","road-street","road-secondary-tertiary","road-primary","road-oneway-arrow-blue","road-motorway-trunk","road-rail","road-rail-tracks","level-crossing","road-oneway-arrow-white","turning-feature","golf-hole-line","bridge-path-bg","bridge-steps-bg","bridge-pedestrian-case","bridge-street-minor-low","bridge-street-minor-case","bridge-primary-secondary-tertiary-case","bridge-major-link-case","bridge-motorway-trunk-case","bridge-construction","bridge-path","bridge-steps","bridge-major-link","bridge-pedestrian","bridge-street-minor","bridge-primary-secondary-tertiary","bridge-oneway-arrow-blue","bridge-motorway-trunk","bridge-rail","bridge-rail-tracks","bridge-major-link-2-case","bridge-motorway-trunk-2-case","bridge-major-link-2","bridge-motorway-trunk-2","bridge-oneway-arrow-white","aerialway","road-label","road-number-shield","golf-hole-label"],building:["building-outline","building"],point:["building-number-label","road-exit-shield","waterway-label","natural-line-label","natural-point-label","water-line-label","water-point-label","poi-label","transit-label","airport-label","settlement-subdivision-label","settlement-label","state-label","country-label"]},a=Object.keys(o)},6895:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>r,fx:()=>s});var i=n(57435),o=n(19087),a=n.n(o);const l=(0,i.createContext)({map:null,setMap:a(),subMap:null,setSubMap:a()}),r=l.Provider;function s(){const e=(0,i.useContext)(l);if(null==e)throw new Error("No context provided: useMapContext() can only be used in a descendant of <MapContainer>");return e}},95315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var i=n(57323),o=n.n(i),a=n(2550),l=n(15972),r=n.n(l),s=n(88264),d=n(88716),c=n.n(d),u=n(74720),p=n.n(u),h=n(13307),v=n.n(h),g=n(98720),f=n(61469);const m={1:1,2:2,3:2,4:3,5:4,6:4,7:5,8:6,9:6,10:7,11:8,12:8,13:9,14:10,15:10};function y(e){if(e)return e<2?1:e>14?10:m[Math.floor(e)]}var w=n(56765),b=n(95131);class C extends a.mh{constructor(e,t){super(e,{...C.defaultOptions}),o()(this,"baseMap",null),o()(this,"isReady",null),this.isReady=new Promise(((e,t)=>{this.on("resourceload",(()=>{e()})),this.on("fail",(()=>{t()}))})),this.baseMap=t}resize(){this.getRenderer().onResize()}syncViewState(){this.getRenderer().syncViewState()}getBaseMap(){return this.getRenderer().baseMap}}o()(C,"defaultOptions",{renderer:"gl",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0});class x extends a.jG.CanvasRenderer{constructor(){super(...arguments),o()(this,"baseMap",null),o()(this,"isLoaded",!1),o()(this,"containerHTMLClassName","maptalks-basemap-layer")}onAdd(){if(!this.baseMap){var e;const t=this.getMap(),n=t.getContainer(),i=p()(t.getPanels(),"backStatic"),o=document.createElement("div");o.className=this.containerHTMLClassName,o.style.cssText="width: ".concat(n.clientWidth,"px; height: ").concat(n.clientHeight,"px;"),i.appendChild(o),null===(e=this.layer.baseMap)||void 0===e||e.create(o,{zoom:(0,b.a)(t.getResolution(t.getZoom()))}).then((e=>{var n;this.isLoaded=!0,t.on("zooming",this.syncViewState,this),t.on("zoomend",this.syncViewState,this),t.on("moving",this.syncViewState,this),t.on("moveend",this.syncViewState,this),t.on("dragrotating",this.syncViewState,this),t.on("dragrotateend",this.syncViewState,this),this.baseMap=e,null===(n=this.layer)||void 0===n||n.fire("resourceload",{})})).catch((e=>{var t;null===(t=this.layer)||void 0===t||t.fire("fail",{}),console.warn(e)}))}}syncViewState(){const e=this.getMap();if(this.baseMap&&e){const t=e.getCenter().toArray(),n=e.getZoom(),i=e.getPitch(),o=e.getBearing(),a=e.getResolution(n);this.baseMap.setZoomAndCenter((0,b.a)(a),t),this.baseMap.setPitch(i),this.baseMap.setBearing(o)}}draw(){this.completeRender()}onResize(){var e;null===(e=this.baseMap)||void 0===e||e.mapInstance.then((()=>{const e=this.getMap(),t=null===e||void 0===e?void 0:e.getContainer();if((null===t||void 0===t?void 0:t.clientWidth)+(null===t||void 0===t?void 0:t.clientHeight)>0){var n;const i=p()(e.getPanels(),"backStatic").querySelector(".".concat(this.containerHTMLClassName));i&&(i.style.cssText="width: ".concat(t.clientWidth,"px; height: ").concat(t.clientHeight,"px;")),null===(n=this.baseMap)||void 0===n||n.resize()}}))}remove(){const e=this.getMap();e.off("zooming",this.syncViewState,this),e.off("zoomend",this.syncViewState,this),e.off("moving",this.syncViewState,this),e.off("moveend",this.syncViewState,this),e.off("dragrotating",this.syncViewState,this),e.off("dragrotateend",this.syncViewState,this);const t=p()(e.getPanels(),"backStatic");var n;(this.baseMap&&(this.baseMap.destroy(),this.baseMap=null),t)&&(null===(n=t.querySelector(".".concat(this.containerHTMLClassName)))||void 0===n||n.remove());super.remove()}drawOnInteracting(){this.draw()}hitDetect(){return!1}}C.registerRenderer("gl",x);var I=n(21999),j=n(5550),M=n(93611);const k=window.devicePixelRatio||1;class T extends a.mM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,{...T.canvasLayerOptions,...n}),this.props=t}setProps(e){Object.assign(this.props,e,{id:this.id});const t=this.getRenderer();return t&&(t.setOptions(this.options),t.setToRedraw(),setTimeout((()=>{t.setToRedraw()}))),this}setToRedraw(){var e;null===(e=this.getRenderer())||void 0===e||e.setToRedraw()}getProps(){return this.props}getCanvas(){var e;return null===(e=this.getRenderer())||void 0===e?void 0:e.canvas}getBounds(){var e;return null===(e=this.getRenderer().currentViewport)||void 0===e?void 0:e.getBounds()}getViewport(){return this.getRenderer().currentViewport}getDeckInstance(){return this.getRenderer().deckInstance}}o()(T,"canvasLayerOptions",{renderer:"gl",forceRenderOnMoving:!0,forceRenderOnZooming:!0,forceRenderOnRotating:!0});class E extends a.jG.CanvasRenderer{constructor(){super(...arguments),o()(this,"isProxyed",!1),o()(this,"deckProps",{}),o()(this,"currentViewport",null),o()(this,"onResizeDebounced",null),o()(this,"handleResize",null),o()(this,"isResizing",!1),o()(this,"onVisibilityChange",(()=>{"visible"===document.visibilityState&&this.onDebounceRedraw()}))}needToRedraw(){return!!this.options.animation||super.needToRedraw()}onAdd(){this.prepareCanvas(),document.addEventListener("visibilitychange",this.onVisibilityChange,!1);const e=this.getMap(),t=this.gl,n=this.layer.getProps(),i={_customRender:()=>{"ontouchstart"in window||navigator.maxTouchPoints>0||(this.setCanvasUpdated(),null!==n&&void 0!==n&&n._customRender&&n._customRender(""))},parameters:{depthMask:!0,depthTest:!0,blend:!0,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],polygonOffsetFill:!0,depthFunc:t.LEQUAL,blendEquation:t.FUNC_ADD},onLoad:()=>{setTimeout((()=>{this.setToRedraw()}))},userData:{setToRedraw:()=>{this.setToRedraw()}}};this.deckInstance||(this.deckProps=Object.assign(i,n,{gl:this.gl,width:!1,height:!1,viewState:P(e),useDevicePixels:k}),this.deckInstance=new I.Z(i),this.onResizeDebounced=v()((()=>{this.isResizing=!1,this.setToRedraw()}),300),this.handleResize=()=>{var e;this.isResizing=!0,null===(e=this.onResizeDebounced)||void 0===e||e.call(this)},e.on("mousemove",this.onMouseMove,this),e.on("mousedown",this.onMouseDown,this),e.on("touchstart",this.onMouseDown,this),e.on("click",this.onMouseClick,this),e.on("zoomend",this.onDebounceRedraw,this),e.on("resize",this.handleResize,this))}draw(){this.prepareCanvas();const e=this.getMap();this.deckInstance&&this.deckInstance.isInitialized&&(this.isResizing||this.deckInstance.setProps({viewState:P(e),...this.layer.getProps()}),this.repaintDeck()),this.completeRender()}onDebounceRedraw(){setTimeout((()=>{this.setToRedraw()}),800)}onMouseClick(e){let t={};e.offsetCenter||(t={type:"click",offsetCenter:e.containerPoint,srcEvent:e.domEvent}),this.deckInstance._onEvent(t),this.deckInstance._lastPointerDownInfo=null}onMouseMove(e){let t={};e.offsetCenter||(t={offsetCenter:e.containerPoint,srcEvent:e.domEvent}),this.deckInstance._onPointerMove(t),this.setToRedraw()}onMouseDown(e){let t={};e.offsetCenter||(t={offsetCenter:e.containerPoint,srcEvent:e.domEvent}),this.deckInstance._onPointerDown(t)}repaintDeck(){const e=this.getMap();if(this.deckInstance){const t=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new j.Z({id:"maptalks",x:0,y:0,width:e.width,height:e.height,repeat:i,...P(t),nearZMultiplier:n?.02:.1})}(this.deckInstance,e,!0,this.deckProps.repeat);this.deckInstance._drawLayers("maptalks-deck-repaint",{viewports:[t],clearCanvas:!1}),this.currentViewport=t}}createContext(){var e,t;if(null!==(e=this.canvas)&&void 0!==e&&e.gl&&null!==(t=this.canvas)&&void 0!==t&&t.gl.wrap){var n;this.gl=null===(n=this.canvas)||void 0===n?void 0:n.gl.wrap()}else{var i,o;const e=this.layer,t=(null===(i=e.options)||void 0===i?void 0:i.glOptions)||{alpha:!0,depth:!0,antialias:!0,stencil:!0};var a;if(t.preserveDrawingBuffer=!0,null!==(o=e.options)&&void 0!==o&&o.customCreateGLContext)this.gl=this.gl||(null===(a=e.options)||void 0===a?void 0:a.customCreateGLContext(this.canvas,t));else this.gl=this.gl||(0,M.kr)(this.canvas,t)}}resizeCanvas(e){if(!this.canvas)return;const t=this.getMap(),n=e||t.getSize(),i=Math.floor(n.width*k),o=Math.floor(n.height*k);var a;this.canvas.width===i&&this.canvas.height===o||(this.canvas.height=o,this.canvas.width=i,null===(a=this.gl)||void 0===a||a.viewport(0,0,i,o),this.deckInstance&&(this.deckInstance.width=n.width,this.deckInstance.height=n.height),this.isResizing||setTimeout((()=>{this.clearCanvas()})))}clearCanvas(){this.canvas&&this.gl&&this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}remove(){if(this.deckInstance){const e=this.getMap();e.off("mousemove",this.onMouseMove,this),e.off("mousedown",this.onMouseDown,this),e.off("click",this.onMouseClick,this),e.off("zoomend",this.onDebounceRedraw,this),this.handleResize&&e.off("resize",this.handleResize,this),this.onResizeDebounced&&(this.onResizeDebounced.cancel(),this.onResizeDebounced=null),this.handleResize=null,this.deckInstance.finalize()}document.removeEventListener("visibilitychange",this.onVisibilityChange),super.remove()}prepareCanvas(){const e=super.prepareCanvas(),t=this.getMap();return!this.isProxyed&&this.canvas&&((0,M.nB)(t,this.canvas,k),this.isProxyed=!0),e}drawOnInteracting(){this.draw()}hitDetect(){return!1}}function P(e){const t=e.getMaxZoom(),n=e.getMinZoom(),i=e.getCenter(),o=e.getPitch(),a=e.getBearing(),l=e.getZoom(),r=e.getResolution(l);return{latitude:i.y,longitude:i.x,zoom:n<2?l:(0,b.a)(r),bearing:a,pitch:o,maxZoom:t,minZoom:n}}T.registerRenderer("gl",E);class O{constructor(e){o()(this,"layers",[]),o()(this,"isReady",null),o()(this,"mapTalksMap",null),o()(this,"baseMap",null),o()(this,"baseMapLayer",null),o()(this,"baseMapType","built-in"),o()(this,"deckLayer",null),o()(this,"geometryEditor",null),o()(this,"annotation",null),o()(this,"geofence",null),o()(this,"defaultMapOptions",{...g.Z.defaultMapOptions,centerCross:!1,attribution:!1,panAnimation:!1}),o()(this,"defaultDeckProps",{controller:!1,getCursor:()=>"default"}),this.props=e,this.init()}init(){const{onError:e,disableVerticalRepeat:t=!0}=this.props;this.isReady=new Promise(((n,i)=>{try{var o;const{container:l,mapOptions:s,baseMap:d,locale:c="zh-CN",layers:u=[],onReady:h,onViewStateChange:g,onViewStateSync:m}=this.props,w=new a.D5(l,{...this.defaultMapOptions,...r()({},null===d||void 0===d||null===(o=d.props)||void 0===o?void 0:o.mapOptions,s)});this.mapTalksMap=w,this.createBaseMapLayer().then((()=>{n({mapTalksMap:w})})).catch((t=>{i(t),null===e||void 0===e||e(t)})),this.createGeometryEditor(),this.createDeckLayer(u),(0,f.K)(c),this.createAnnotationLayer(),this.resolution=y(w.getZoom()),w.on("moveend zoomend dragrotateend pitchend touchend",v()((()=>{const e=null===w||void 0===w?void 0:w.getZoom(),t=null===w||void 0===w?void 0:w.getCenter().toArray().slice(0,2);this.resolution=y(e),null===g||void 0===g||g({zoom:e,resolution:this.resolution,center:t,pitch:null===w||void 0===w?void 0:w.getPitch(),bearing:null===w||void 0===w?void 0:w.getBearing()})}),30)),w.on("zooming moving dragrotating",(()=>{const e=null===w||void 0===w?void 0:w.getZoom();this.resolution=y(e);const t=null===w||void 0===w?void 0:w.getCenter().toArray().slice(0,2);null===m||void 0===m||m({zoom:e,resolution:this.resolution,center:t,pitch:null===w||void 0===w?void 0:w.getPitch(),bearing:null===w||void 0===w?void 0:w.getBearing()})})),w.on("moveend zoomend",(()=>{const e=w.getExtent(),{ymin:n,ymax:i}=e,o=p()(w,"_originCenter");n>i&&o&&t&&w._setPrjCenter(o)})),null===h||void 0===h||h(this)}catch(l){i(l),null===e||void 0===e||e(l)}}))}resize(){var e;null===(e=this.baseMapLayer)||void 0===e||e.resize()}setZoomAndCenter(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,i=arguments.length>1?arguments[1]:void 0;null===(e=this.mapTalksMap)||void 0===e||e.setCenterAndZoom(new a.c7(i),n),null===(t=this.baseMapLayer)||void 0===t||t.syncViewState()}setFeatures(e){var t;null===(t=this.baseMap)||void 0===t||t.setFeatures(e)}setCenter(e){var t,n;null===(t=this.mapTalksMap)||void 0===t||t.setCenter(new a.c7(e)),null===(n=this.baseMapLayer)||void 0===n||n.syncViewState()}setViewState(e){this.mapTalksMap&&this.baseMapLayer&&this.mapTalksMap.setView(e)}getViewState(){var e;return null===(e=this.mapTalksMap)||void 0===e?void 0:e.getView()}getCenter(){var e;return null===(e=this.mapTalksMap)||void 0===e?void 0:e.getCenter().toArray().slice(0,2)}getZoom(){var e,t;return null!==(e=null===(t=this.mapTalksMap)||void 0===t?void 0:t.getZoom())&&void 0!==e?e:0}zoomIn(){var e;null===(e=this.mapTalksMap)||void 0===e||e.zoomIn()}zoomOut(){var e;null===(e=this.mapTalksMap)||void 0===e||e.zoomOut()}toggle3D(e){var t,n,i,o,a;e?(null===(n=this.mapTalksMap)||void 0===n||n.setPitch(60),null===(i=this.mapTalksMap)||void 0===i||i.setBearing(60)):(null===(o=this.mapTalksMap)||void 0===o||o.setPitch(0),null===(a=this.mapTalksMap)||void 0===a||a.setBearing(0));null===(t=this.baseMapLayer)||void 0===t||t.syncViewState()}is3D(){var e;return 0!==(null===(e=this.mapTalksMap)||void 0===e?void 0:e.getPitch())}destroy(){var e,t,n,i,o;null===(e=this.baseMap)||void 0===e||e.destroy(),null===(t=this.baseMapLayer)||void 0===t||t.remove(),null===(n=this.mapTalksMap)||void 0===n||n.remove(),null===(i=this.geometryEditor)||void 0===i||i.destroy(),null===(o=this.deckLayer)||void 0===o||o.remove(),this.removeGeometryEditor(),this.removeAnnotation(),this.mapTalksMap=null,this.baseMapLayer=null,this.baseMap=null,this.geometryEditor=null,this.deckLayer=null}setLanguage(e){(0,f.K)(e)}async setBaseMap(e,t){const{onError:n}=this.props;if(!this.isReady&&await this.isReady,this.mapTalksMap){if(this.baseMapLayer&&this.removeBaseMapLayer(),t&&(this.props.baseMapType=t),e.props.mapOptions){var i,o,a,l;const t=null!==(i=e.props.mapOptions.center)&&void 0!==i?i:this.mapTalksMap.getCenter().toArray().slice(0,2);this.props.mapOptions=r()({},this.props.mapOptions,{center:t,zoom:null!==(o=e.props.mapOptions.zoom)&&void 0!==o?o:this.mapTalksMap.getZoom(),pitch:null!==(a=e.props.mapOptions.pitch)&&void 0!==a?a:this.mapTalksMap.getPitch(),bearing:null!==(l=e.props.mapOptions.bearing)&&void 0!==l?l:this.mapTalksMap.getBearing()})}else{var s,d,c;const t=null===(s=this.mapTalksMap)||void 0===s?void 0:s.getCenter().toArray().slice(0,2),n={zoom:this.mapTalksMap.getZoom(),center:t,pitch:null!==(d=this.mapTalksMap.getPitch())&&void 0!==d?d:0,bearing:null!==(c=this.mapTalksMap.getBearing())&&void 0!==c?c:0};e.props.mapOptions=r()({},n),this.props.mapOptions=r()({},this.props.mapOptions,n)}this.props.baseMap=e,await this.createBaseMapLayer().catch((e=>{null===n||void 0===n||n(e)}))}}setLayers(e){if(!this.deckLayer)return void console.warn("deckLayer is not created");this.layers=e.map((e=>e.clone({})));const t=this.layers.some((e=>e instanceof w.Fw));this.deckLayer.setOptions({animation:t}),this.geofence?this.updateGeofence():this.deckLayer.setProps({layers:e})}restoreLayers(){c()(this.layers)||this.setLayers(this.layers)}createDeckLayer(e){var t;const{deckProps:n}=this.props;if(this.deckLayer)return this.deckLayer;const i=new T("deck",{...this.defaultDeckProps,getTooltip:()=>null,...n,layers:e});return null===(t=this.mapTalksMap)||void 0===t||t.addLayer(i),this.deckLayer=i,i}async createBaseMapLayer(){if(this.baseMapLayer)return this.baseMapLayer;if(!this.mapTalksMap||!this.props.baseMap)return null;const{baseMap:e,baseMapType:t="built-in"}=this.props;return new Promise(((n,i)=>{var o,l,s,d,c,u,p,h;const v=r()({},e.props.mapOptions,this.props.mapOptions);if(null===(o=this.mapTalksMap)||void 0===o||o.setCenter(new a.c7(null!==(l=v.center)&&void 0!==l?l:g.Z.defaultMapOptions.center)),null===(s=this.mapTalksMap)||void 0===s||s.setZoom(null!==(d=v.zoom)&&void 0!==d?d:g.Z.defaultMapOptions.zoom),null===(c=this.mapTalksMap)||void 0===c||c.setPitch(null!==(u=v.pitch)&&void 0!==u?u:g.Z.defaultMapOptions.pitch),null===(p=this.mapTalksMap)||void 0===p||p.setBearing(null!==(h=v.bearing)&&void 0!==h?h:g.Z.defaultMapOptions.bearing),"built-in"===t){var f,m;const t=new C("baseMap",e);null===(f=this.mapTalksMap)||void 0===f||f.addLayer(t),this.baseMapLayer=t,this.baseMap=t.baseMap,null===(m=t.isReady)||void 0===m||m.then((()=>{n(this.baseMap)})).catch((()=>{this.removeBaseMapLayer(),i()}))}else{var y;null===(y=this.mapTalksMap)||void 0===y||y.addLayer(e),this.baseMapLayer=e,this.baseMap=e,n(this.baseMap)}}))}removeBaseMapLayer(){this.baseMapLayer&&this.mapTalksMap?(this.mapTalksMap.removeLayer(this.baseMapLayer),this.baseMapLayer=null,this.baseMap=null):console.warn("baseMapLayer or mapTalksMap is not initialized")}async createGeometryEditor(){const{geometryEditor:e}=this.props;return e&&this.mapTalksMap&&this.props.baseMap?(await e.attach(this.mapTalksMap),void(this.geometryEditor=e)):null}async setGeometryEditor(e){if(!this.isReady&&await this.isReady,!this.mapTalksMap)return null;this.geometryEditor&&this.geometryEditor.destroy(),e&&(await e.attach(this.mapTalksMap),this.geometryEditor=e)}async removeGeometryEditor(){!this.isReady&&await this.isReady,this.geometryEditor&&(this.geometryEditor.destroy(),this.geometryEditor=null)}async createAnnotationLayer(){const{annotation:e}=this.props;return e&&this.mapTalksMap&&this.props.baseMap?(await e.attach(this.mapTalksMap),void(this.annotation=e)):null}async setAnnotation(e){if(!this.isReady&&await this.isReady,!this.mapTalksMap)return null;this.annotation&&this.annotation.destroy(),e&&(await e.attach(this.mapTalksMap),this.annotation=e)}async removeAnnotation(){!this.isReady&&await this.isReady,this.annotation&&(this.annotation.destroy(),this.annotation=null)}async fitBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?new Promise((n=>{setTimeout((()=>{if(this.mapTalksMap){var i,o;null===(i=this.mapTalksMap)||void 0===i||i.setCenter(e.getCenter()),null===(o=this.mapTalksMap)||void 0===o||o.fitExtent(e,t);const a=this.mapTalksMap.getCenter(),l=this.mapTalksMap.getZoom();n({longitude:a.x,latitude:a.y,zoom:l})}else n(void 0)}),300)})):Promise.resolve(void 0)}getBbox(){var e;const t=null===(e=this.deckLayer)||void 0===e?void 0:e.getBounds();return t||null}calculateBbox(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=null===(n=this.deckLayer)||void 0===n?void 0:n.getViewport();if(!a)return null;const l={targetZ:0},r=a.unproject([0+i,0+o],l),s=a.unproject([e+i,0+o],l),d=a.unproject([0+i,t+o],l),c=a.unproject([e+i,t+o],l);return[Math.min(r[0],s[0],d[0],c[0]),Math.min(r[1],s[1],d[1],c[1]),Math.max(r[0],s[0],d[0],c[0]),Math.max(r[1],s[1],d[1],c[1])]}async setGeofence(e){if(!this.isReady&&await this.isReady,!this.mapTalksMap)return null;this.geofence&&this.geofence.destroy(),e&&(e.attachTo(this.mapTalksMap),this.geofence=e)}async updateGeofence(){if(!this.isReady&&await this.isReady,!this.mapTalksMap||!this.geofence||!this.deckLayer)return null;const e=new s.Z({id:"geofence",data:[this.geofence.getExtent()],getPolygon:e=>e,operation:"mask"});this.deckLayer.setProps({layers:[...this.layers,e]})}removeGeofence(){var e;this.geofence&&(this.geofence.destroy(),this.geofence=null,null===(e=this.deckLayer)||void 0===e||e.setProps({layers:this.layers}))}}},40978:(e,t,n)=>{"use strict";n.d(t,{cG:()=>f,Zn:()=>m,be:()=>w,HF:()=>y,vs:()=>b});var i=n(37383),o=n(57323),a=n.n(o);class l{constructor(e){a()(this,"i",0),this.raw=e}peek(){if(this.i>this.raw.length)throw new Error("unexpected EOF");return this.raw[this.i]}skipWs(){if(!(this.i>=this.raw.length))for(let e=this.i;e<this.raw.length;e++){if(!r(this.raw.charAt(e)))return;this.i+=1}}scanStart(){this.skipWs();const e=this.peek();if("("!==e)throw new Error("expect '(' got ".concat(e));this.i++}scanContinue(){this.skipWs();const e=this.peek(),t=","===e;if(!t&&")"!==e)throw new Error("expect ',' or ')' got ".concat(e));return this.i++,t}scanCircle(){this.scanStart();const[e,t]=this.scanCoordinate();if(!t){const e=this.peek();throw new Error("expect ',' got ".concat(e))}this.i++,this.skipWs();const n=this.scanNumber(),i=this.peek();if(")"!==i)throw new Error("expect ')' got ".concat(i));return this.i++,[e[0],e[1],n]}scanCirlces(){this.scanStart();const e=[];for(;;){const t=this.scanCircle();e.push(t);if(!this.scanContinue())break}return e}scanNumber(){this.skipWs();let e="",t=this.peek();for(;s(t);)this.i+=1,e+=t,t=this.peek();const n=Number(e);if(Number.isNaN(n))throw new Error("number parse error ".concat(e));return n}scanCoordinate(){if(this.skipWs(),this.i>this.raw.length)throw new Error("unexpected EOF");const e=this.scanNumber();this.skipWs();const t=this.scanNumber();this.skipWs();const n=this.peek(),i=","===n;if(!i&&")"!==n)throw new Error("expect ',' or ')' got ".concat(n));return this.i++,[[e,t],i]}scanCoordinates(e){if(this.scanStart(),e)try{this.scanStart()}catch(n){e=!1}const t=[];for(;;){const[n,i]=this.scanCoordinate();if(t.push(n),!i){if(e){if(this.scanContinue()){this.scanStart();continue}}return t}if(e)throw new Error("expect ')' got ','")}}scanPolyData(e){this.scanStart();const t=[];for(;;){const n=this.scanCoordinates(!1);if(e){if(n.length<4)throw new Error("a polygon ring must have at least 4 points, got ".concat(n.length));if(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1])throw new Error("a polygon ring must be closed")}else if(n.length<2)throw new Error("must have at least 2 points, got ".concat(n.length));if(t.push(n),!this.scanContinue())return t}}scanMultiPolyData(){this.scanStart();const e=[];for(;;){const t=this.scanPolyData(!0);if(e.push(t),!this.scanContinue())return e}}scanIndent(){if(this.skipWs(),this.i>=this.raw.length)throw new Error("unexpected EOF");let e="",t=0;for(t=this.i;t<this.raw.length;t++){const n=this.raw.charAt(t);if(!d(n))break;e+=n.toUpperCase(),this.i+=1}if(0===e.length)throw new Error("indent not found");return e}scanGeometry(){const e=this.scanIndent();let t;switch(e){case"CIRCLE":t={type:"Circle",coordinates:this.scanCircle()};break;case"MULTICIRCLE":t={type:"MultiCircle",coordinates:this.scanCirlces()};break;case"POINT":{const e=this.scanCoordinates(!1);if(1!==e.length)throw new Error("expect 1 got ".concat(e.length," points"));t={type:"Point",coordinates:e[0]};break}case"MULTIPOINT":t={type:"MultiPoint",coordinates:this.scanCoordinates(!0)};break;case"LINESTRING":{const e=this.scanCoordinates(!1);if(e.length<2)throw new Error("must have at least 2 points, got ".concat(e.length));t={type:"LineString",coordinates:e};break}case"POLYGON":t={type:"Polygon",coordinates:this.scanPolyData(!0)};break;case"MULTIPOLYGON":t={type:"MultiPolygon",coordinates:this.scanMultiPolyData()};break;case"MULTILINESTRING":t={type:"MultiLineString",coordinates:this.scanPolyData(!1)};break;default:throw new Error("unknown geometry ".concat(e))}if(this.i+1<=this.raw.length)throw new Error("expect EOF");return t}}function r(e){return 1===e.length&&[" ","\n","\t","\r"].includes(e)}function s(e){return[".","-","0","1","2","3","4","5","6","7","8","9"].includes(e)}function d(e){return 1===e.length&&e.match(/[a-zA-Z]/i)}n(58205);var c=n(40517),u=(n(67045),n(80128)),p=n(80593),h=n(50294);function v(e){switch(e.type){case"Point":return e;case"Circle":{const t=e.coordinates;return{type:"Point",coordinates:[t[0],t[1]]}}case"LineString":{const t=c.Tu(e.coordinates),n=(0,u.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"Polygon":{const t=c.yu(e.coordinates),n=(0,p.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"MultiPoint":{const t=c.ot(e.coordinates),n=(0,u.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"MultiLineString":{const t=c._R(e.coordinates),n=(0,u.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"MultiPolygon":{const t=e.coordinates,n=t.reduce(((e,t)=>(0,h.Z)(c.yu(t))>(0,h.Z)(c.yu(e))?t:e),t[0]),i=c.yu(n),o=(0,u.Z)(i).geometry.coordinates;return{type:"Point",coordinates:[o[0],o[1]]}}default:return console.info("Unknown geometry type",e.type),e}}var g=n(59423);const f=i.default.GCJ02,m=i.default.WGS84;i.default.BD09MC;function y(e){return function(e){return new l(e).scanGeometry()}(e)}function w(e){return v(e)}function b(e,t,n){return(0,g.Z)(e,t,n)}},59423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(37383);const{transform:o}=i.default;function a(e,t,n){if("Point"!==e.type)return console.info("Unknown geometry type",e.type),e;return{type:"Point",coordinates:o(e.coordinates,t,n)}}},40585:(e,t,n)=>{"use strict";n.d(t,{$:()=>A,g:()=>R});var i=n(57323),o=n.n(i),a=n(2550),l=n(86117),r=n(43614),s=n.n(r),d=n(43069),c=n(51090),u=n(40590),p=n(94648),h=n(88716),v=n.n(h),g=n(40517),f=n(22787),m=n(82505),y=n(7070),w=n.n(y),b=n(78587),C=n.n(b),x=n(74720),I=n.n(x),j=n(90013),M=n.n(j),k=n(61469);function T(e){const t={type:"Feature",geometry:void 0,properties:null};function n(e){return!t.geometry||!!t.geometry&&t.geometry.type===e}if(e.forEach((e=>{var i,o,a,l;if("GeometryCollection"===e.geometry.type)return;const r=e.geometry,s=r.coordinates;switch(r.type){case"Point":case"MultiPoint":if(!n("MultiPoint"))return;t.geometry={type:"MultiPoint",coordinates:(null===(i=t.geometry)||void 0===i?void 0:i.coordinates)||[]},"Point"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"LineString":case"MultiLineString":if(!n("MultiLineString"))return;t.geometry={type:"MultiLineString",coordinates:(null===(o=t.geometry)||void 0===o?void 0:o.coordinates)||[]},"LineString"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Polygon":case"MultiPolygon":if(!n("MultiPolygon"))return;t.geometry={type:"MultiPolygon",coordinates:(null===(a=t.geometry)||void 0===a?void 0:a.coordinates)||[]},"Polygon"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s);break;case"Circle":case"MultiCircle":if(!n("MultiCircle"))return;t.geometry={type:"MultiCircle",coordinates:(null===(l=t.geometry)||void 0===l?void 0:l.coordinates)||[]},"Circle"===r.type?t.geometry.coordinates.push(s):t.geometry.coordinates.push(...s)}})),void 0!==t.geometry){if(1===t.geometry.coordinates.length)switch(t.geometry.type){case"MultiPoint":t.geometry.type="Point",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiLineString":t.geometry.type="LineString",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiPolygon":t.geometry.type="Polygon",t.geometry.coordinates=t.geometry.coordinates[0];break;case"MultiCircle":t.geometry.type="Circle",t.geometry.coordinates=t.geometry.coordinates[0]}return t}}const E={markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#0065ff",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:10,markerHeight:10},P={...E,markerWidth:14,markerHeight:14,markerFillOpacity:.6,markerLineWidth:1},O={...E,markerWidth:14,markerHeight:14,markerType:"ellipse"},S={...E,markerWidth:14,markerHeight:14,markerType:"square"},_={lineColor:"#0065ff",lineWidth:2,lineOpacity:1,polygonFill:"#0065ff",polygonOpacity:.2},N={lineColor:"#0065ff",lineWidth:2,lineOpacity:1,polygonFill:"#0065ff",polygonOpacity:.2,markerType:"ellipse",markerFill:"#fff",markerFillOpacity:.8,markerLineColor:"#0065ff",markerLineWidth:2,markerLineOpacity:1,markerOpacity:1,markerWidth:10,markerHeight:10,markerPlacement:"vertex"},D={vertexHandleSymbol:P,centerHandleSymbol:{...O,markerWidth:0,markerHeight:0},newVertexHandleSymbol:S},L={centerHandleSymbol:O,vertexHandleSymbol:{...P,markerHeight:0,markerWidth:0},newVertexHandleSymbol:{...S,markerHeight:0,markerWidth:0}};class A{constructor(e){o()(this,"drawTool",null),o()(this,"layer",null),o()(this,"tooltip",null),o()(this,"snap",null),o()(this,"editMode",null),o()(this,"drawMode","Point"),o()(this,"status","idle"),o()(this,"onlyOnePoint",!1),o()(this,"autoFinish",!1),o()(this,"history",new Z),o()(this,"defaultOptions",{symbol:{...N}}),o()(this,"shortcutBinding",(e=>{var t,n,i,o;null!==(t=this.drawTool)&&void 0!==t&&t.isEnabled()&&("Escape"===e.key&&this.clearDrawTool(),"z"===(null===(n=e.key)||void 0===n?void 0:n.toLowerCase())&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.undo()),"y"===(null===(i=e.key)||void 0===i?void 0:i.toLowerCase())&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.redo()),"Enter"===e.key&&"idle"!==this.status&&(null===(o=this.drawTool)||void 0===o||o.endDraw()))})),o()(this,"onMouseMove",(e=>{var t,n,i;const o=null===(t=this.drawTool)||void 0===t?void 0:t.getMap();if(!o||this.editMode||null===(n=this.drawTool)||void 0===n||!n.isEnabled())return;const l=o.getContainer(),r=this.drawMode,s=null===(i=this.drawTool)||void 0===i?void 0:i.getCurrentGeometry();if("Circle"===r&&s&&s instanceof a.Cd){var d;if(s.getRadius()>1e5)null===(d=this.drawTool)||void 0===d||d.endDraw(),s.setRadius(1e5)}if(this.tooltip){var c;const t=this.tooltip,n=e.containerPoint.x,i=e.containerPoint.y+20;if(n<5||n>l.offsetWidth-5)return void(t.style.display="none");if(i<20||i>l.offsetHeight-5)return void(t.style.display="none");t.style.display="block",t.style.left="".concat(n,"px"),t.style.top="".concat(i,"px"),t.innerHTML=null!==(c=this.getTooltipContent(r,s))&&void 0!==c?c:""}else{var u;const e=document.createElement("div"),t={position:"absolute",transform:"translate(-50%, -50%)",backgroundColor:"#fff",borderRadius:"4px",padding:"2px 6px",color:"#505F79",fontSize:"12px",userSelect:"none",pointerEvents:"none",whiteSpace:"nowrap"};e.classList.add("tooltipStyle"),Object.assign(e.style,t),e.textContent=null!==(u=this.getTooltipContent(r,s))&&void 0!==u?u:"",this.tooltip=e,l.appendChild(e)}})),o()(this,"onDrawEnd",(e=>{const{geometry:t}=e,{onDrawEnd:n}=this.props,i=s()("geometry_");if("cut"!==this.editMode){if("Point"===t.getType()){var o;this.onlyOnePoint&&this.clear();const e=new a.Jx(t.getCoordinates(),{symbol:E});null===(o=this.layer)||void 0===o||o.addGeometry(e),e.setId(i)}else{var l;t.setSymbol(_),null===(l=this.layer)||void 0===l||l.addGeometry(t).bringToFront(),t.setId(i)}this.status="idle",this.history.update(),null===n||void 0===n||n(t)}else this.doCut(t)})),o()(this,"onCircleChange",(e=>{if(e.target instanceof a.Cd){var t;this.lastEditingCircle=e.target.getId();let n=e.target.getRadius();n>1e5&&(n=1e5,this.exitEdit(),e.target.setRadius(n),this.startEditVertex()),null===(t=this.onCircleRadiusChange)||void 0===t||t.call(this,n)}})),this.props=e,this.init()}init(){const{options:e,onDrawStart:t}=this.props,n=new a.nh({...this.defaultOptions,...e});this.drawMode=e.mode,this.onlyOnePoint=!!e.onlyOnePoint,this.autoFinish=!!e.autoFinish;const i=new a.DJ(s()("editorLayer_"));document.addEventListener("keydown",this.shortcutBinding),n.on("drawend",this.onDrawEnd),n.on("drawstart",(e=>{var n,i;(e.tempGeometry instanceof a.mg||e.tempGeometry instanceof a.Yp)&&null!==(n=this.layer)&&void 0!==n&&n.getCount()&&(null===(i=this.snap)||void 0===i||i.effectGeometry(e.tempGeometry));this.status="drawing",null===t||void 0===t||t()})),this.layer=i,this.drawTool=n,this.history.setLayer(i)}async attach(e){return new Promise((t=>{var n,i,o,a,r;null===(n=this.drawTool)||void 0===n||n.addTo(e),null===(i=this.layer)||void 0===i||i.addTo(e),e.on("mousemove",this.onMouseMove),e.on("contextmenu",this.clearDrawTool,this),e.setCursor("crosshair");const s=new l.O(e,{tolerance:15,fiterGeometries:()=>{var e,t;return null!==(e=null===(t=this.layer)||void 0===t?void 0:t.getGeometries())&&void 0!==e?e:[]}});this.snap=s,null===this||void 0===this||null===(o=this.layer)||void 0===o||o.on("addgeo removegeo clear",(()=>{var e,t;s.effectGeometry(null!==(e=null===(t=this.layer)||void 0===t?void 0:t.getGeometries())&&void 0!==e?e:[])})),null===(a=(r=this.props).onAttached)||void 0===a||a.call(r),t(!0)}))}undo(){var e;"idle"===this.status||"Point"===this.drawMode?this.history.undo():null===(e=this.drawTool)||void 0===e||e.undo()}redo(){var e;"idle"===this.status||"Point"===this.drawMode?this.history.redo():null===(e=this.drawTool)||void 0===e||e.redo()}doCut(e){var t;const n=I()(e.toGeoJSONGeometry(),"coordinates");null===(t=this.layer)||void 0===t||t.forEach((e=>{const t=I()(e.toGeoJSONGeometry(),"coordinates"),i=e.getType();var o;"Point"!==i&&"MultiPoint"!==i||("Point"===i?(0,f.Z)((0,g.xm)(t),(0,g.yu)(n))&&(null===(o=this.layer)||void 0===o||o.removeGeometry(e)):t.forEach((t=>{if((0,f.Z)((0,g.xm)(t),(0,g.yu)(n))){var i;null===(i=this.layer)||void 0===i||i.removeGeometry(e)}else{var o;const e=new a.Jx(t,{symbol:E});null===(o=this.layer)||void 0===o||o.addGeometry(e)}})));if("LineString"===i||"MultiLineString"===i){var l;null===(l=this.layer)||void 0===l||l.removeGeometry(e);const o=(0,g.yu)(n);("LineString"===i?[t]:t).forEach((e=>{const t=(0,c.Z)((0,g.Tu)(e),o);if(0===t.features.length&&!(0,p.Z)((0,g.Tu)(e),o)){var n;const t=new a.Yp(e,{symbol:_});null===(n=this.layer)||void 0===n||n.addGeometry(t)}t.features.forEach((e=>{const t=(0,u.Z)(e);if(!(0,f.Z)(t,o)){var n;const t=new a.Yp(e.geometry.coordinates,{symbol:_});null===(n=this.layer)||void 0===n||n.addGeometry(t)}}))}))}if("Polygon"===i||"MultiPolygon"===i){var r;const o="Polygon"===i?(0,g.yu)(t):(0,g.tw)(t);if(!(0,m.Z)(o,(0,g.yu)(n)))return;const l=(0,d.Z)(o,(0,g.yu)(n));if("Polygon"===(null===l||void 0===l?void 0:l.geometry.type)){var s;const e=new a.mg(null===l||void 0===l?void 0:l.geometry.coordinates,{symbol:_});null===(s=this.layer)||void 0===s||s.addGeometry(e)}"MultiPolygon"===(null===l||void 0===l?void 0:l.geometry.type)&&(null===l||void 0===l||l.geometry.coordinates.forEach((e=>{var t;const n=new a.mg(e,{symbol:_});null===(t=this.layer)||void 0===t||t.addGeometry(n)}))),null===(r=this.layer)||void 0===r||r.removeGeometry(e)}}))}setMode(){var e,t,n,i;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";null===(e=this.drawTool)||void 0===e||e.setSymbol(N),null===(t=this.drawTool)||void 0===t||t.setMode(o),this.drawMode=o,null===(n=this.tooltip)||void 0===n||n.remove(),this.tooltip=null,null===(i=this.layer)||void 0===i||i.clear(),this.history.clear(),this.exitEdit()}clear(){var e;null===(e=this.layer)||void 0===e||e.clear(),this.history.update()}clearDrawTool(){const e=I()(this.drawTool,"_clearStage");e&&e.call(this.drawTool)}emit(e){switch(e){case"editVertex":return this.startEditVertex();case"move":return this.startMove();case"cut":return this.startCut();case"delete":return this.startDelete()}}startEdit(e){var t,n,i,o,a;const l=null===(t=this.drawTool)||void 0===t?void 0:t.getMap();null===(n=this.tooltip)||void 0===n||n.remove(),this.tooltip=null,null===(i=this.drawTool)||void 0===i||i.disable(),null===l||void 0===l||l.setCursor("pointer"),this.editMode=e,null===(o=(a=this.props).onEditStart)||void 0===o||o.call(a),this.status="editing",null===l||void 0===l||l.off("click",this.deleteGeometry,this)}startEditVertex(){var e;this.startEdit("editVertex"),null===(e=this.layer)||void 0===e||e.forEach((e=>{if("Point"!==e.getType()&&"MultiPoint"!==e.getType()){if(e.startEdit(D),e instanceof a.Cd){var t;if(!this.lastEditingCircle)this.lastEditingCircle=e.getId(),null===(t=this.onCircleRadiusChange)||void 0===t||t.call(this,e.getRadius());e.on("shapechange",this.onCircleChange,this)}}else e.config({draggable:!0})}))}startMove(){var e;this.startEdit("move"),null===(e=this.layer)||void 0===e||e.forEach((e=>{"Point"===e.getType()||"MultiPoint"===e.getType()?(e.config({draggable:!0}),e.setSymbol(E)):e.startEdit(L)}))}startDelete(){var e,t;this.startEdit("delete");const n=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===n||void 0===n||n.on("click",this.deleteGeometry,this),null===(t=this.layer)||void 0===t||t.forEach((e=>{"Point"===e.getType()||"MultiPoint"===e.getType()?e.setSymbol(E):e.endEdit()}))}deleteGeometry(e){var t;null===(t=this.layer)||void 0===t||t.forEach((t=>{if(t instanceof a.Kk||t instanceof a.vZ||t instanceof a.mn){var n,i;const o=t.filter((t=>!t.containsPoint(e.containerPoint)));null===(n=this.layer)||void 0===n||n.removeGeometry(t),t.setGeometries(o.getGeometries()),null===(i=this.layer)||void 0===i||i.addGeometry(t)}else{var o;if(t.containsPoint(e.containerPoint))null===(o=this.layer)||void 0===o||o.removeGeometry(t)}}))}startCut(){var e,t,n;this.startEdit("cut"),null===(e=this.drawTool)||void 0===e||e.setMode("Polygon"),null===(t=this.drawTool)||void 0===t||t.enable(),null===(n=this.layer)||void 0===n||n.forEach((e=>{"Point"===e.getType()||"MultiPoint"===e.getType()?e.setSymbol(E):e.endEdit()}))}exitEdit(){var e,t,n;let i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const o=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===(t=this.drawTool)||void 0===t||t.enable(),this.editMode=null,null===o||void 0===o||o.setCursor("crosshair"),null===o||void 0===o||o.off("click",this.deleteGeometry,this),null===(n=this.layer)||void 0===n||n.forEach((e=>{if("Point"===e.getType()||"MultiPoint"===e.getType())e.setSymbol(E);else if(e.endEdit(),e instanceof a.Cd)try{e.off("shapechange",this.onCircleChange)}catch(t){}})),this.status="idle",this.lastEditingCircle&&(this.lastEditingCircle=void 0),i?this.history.clear():this.history.update()}setEditableData(e){var t,n;this.setMode(R(e.type));const i=e.type,o=e.coordinates,l="Polygon"===i,r="Point"===i||"MultiPoint"===i;if(!o||0===o.length)return;let d=r?new a.mn(C()(o[0])?o:[o]):l?new a.mg(o,{enableSimplify:!1}):a.QZ.toGeometry(e);var c;("Circle"===i&&(d=new a.Cd([o[0],o[1]],o[2])),"MultiCircle"===i)?o.forEach(((e,t)=>{var n;const i=new a.Cd([e[0],e[1]],e[2]);i.setSymbol(_),i.setId(s()("editableGeometry_")),0===t&&(d=i),null===(n=this.layer)||void 0===n||n.addGeometry(i)})):(r?d.setSymbol(E):d.setSymbol(_),d.setId(s()("editableGeometry_")),null===(c=this.layer)||void 0===c||c.addGeometry(d).bringToFront());null===(t=(n=this.props).onEditStart)||void 0===t||t.call(n),this.history.setOrginalGeometries([d.toGeoJSON()])}setOnDrawEnd(e){this.props.onDrawEnd=e}getData(){var e;const t=null===(e=this.layer)||void 0===e?void 0:e.getGeometries().filter((e=>"tooltip"!==e.getId()));if(v()(t))return null;if("Circle"===this.drawMode){return{type:"FeatureCollection",features:[T(w()(t,(e=>({type:"Feature",geometry:{type:"Circle",coordinates:e.getCenter().toArray().concat(e.getRadius())}}))))]}}return{type:"FeatureCollection",features:[T(w()(t,(e=>e.toGeoJSON())))]}}getExtent(){var e;return null===(e=this.layer)||void 0===e?void 0:e.getExtent()}disable(){var e,t,n,i;const o=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();null===(t=this.drawTool)||void 0===t||t.disable(),null===(n=this.tooltip)||void 0===n||n.remove(),this.tooltip=null,null===o||void 0===o||o.resetCursor(),null===(i=this.layer)||void 0===i||i.forEach((e=>{e.endEdit()}))}destroy(){var e,t,n,i,o,a;const l=null===(e=this.drawTool)||void 0===e?void 0:e.getMap();l&&(l.off("contextmenu",this.clearDrawTool,this),l.off("mousemove",this.onMouseMove,this),l.resetCursor()),document.removeEventListener("keydown",this.shortcutBinding),null===(t=this.layer)||void 0===t||t.clear(),null===(n=this.drawTool)||void 0===n||n.remove(),null===(i=this.layer)||void 0===i||i.remove(),null===(o=this.snap)||void 0===o||o.dispose(),null===(a=this.tooltip)||void 0===a||a.remove(),this.drawTool=null,this.layer=null,this.tooltip=null,this.snap=null,this.history.clear(),this.lastEditingCircle&&(this.lastEditingCircle=void 0)}getTooltipContent(e,t){const n=I()(t,"_coordinates");if("Point"===e)return null===k.N||void 0===k.N?void 0:k.N.$t({id:"KXix+B",defaultMessage:"Click to draw"});if("LineString"===e||"Polygon"===e)return(null===n||void 0===n?void 0:n.length)>2?null===k.N||void 0===k.N?void 0:k.N.$t({id:"aGlOcW",defaultMessage:"Double-click to finish drawing"}):(null===n||void 0===n?void 0:n.length)>0?null===k.N||void 0===k.N?void 0:k.N.$t({id:"YrGnxZ",defaultMessage:"Click to continue drawing"}):null===k.N||void 0===k.N?void 0:k.N.$t({id:"JK/E9W",defaultMessage:"Click to draw starting point"});if("Circle"===e){if(n){const e=(I()(t,"_radius")/1e3).toFixed(2)+" km";return(null===k.N||void 0===k.N?void 0:k.N.$t({id:"Oae9KV",defaultMessage:"Click to finish circle<br/>Radius:"}))+e}return null===k.N||void 0===k.N?void 0:k.N.$t({id:"8Gihqg",defaultMessage:"Click to mark the center"})}return null===k.N||void 0===k.N?void 0:k.N.$t({id:"w4yNRa",defaultMessage:"Click to start drawing"})}on(e,t){var n;null===(n=this.drawTool)||void 0===n||n.on(e,t)}off(e,t){var n;null===(n=this.drawTool)||void 0===n||n.off(e,t)}updateCircleRadius(e){var t;if(!this.lastEditingCircle)return;const n=null===(t=this.layer)||void 0===t?void 0:t.getGeometryById(this.lastEditingCircle);n&&n instanceof a.Cd&&n.setRadius(e)}setOnCircleRadiusChange(e){this.onCircleRadiusChange=e}}function R(e){return"Point"===e||"MultiPoint"===e?"Point":"Polygon"===e||"MultiPolygon"===e?"Polygon":"LineString"===e||"MultiLineString"===e?"LineString":"Circle"===e||"MultiCircle"===e?"Circle":void 0}class Z{constructor(){o()(this,"history",[]),o()(this,"pointer",-1),o()(this,"layer",null),o()(this,"originalGeometries",[]),o()(this,"updateTrigger",null),this.history=[],this.pointer=-1}updateLayer(){if(!this.layer)return;this.layer.clear();const e=M()(this.history[this.pointer],"id");v()(e)&&!v()(this.originalGeometries)&&-1===this.pointer&&e.push(...this.originalGeometries),null===e||void 0===e||e.forEach((e=>{var t;e&&e.id&&(null===(t=this.layer)||void 0===t||t.removeGeometry(e.id));if("Point"===e.geometry.type||"MultiPoint"===e.geometry.type){var n;const t=e.geometry.coordinates,i=new a.mn(C()(t[0])?t:[t],{symbol:E});null===(n=this.layer)||void 0===n||n.addGeometry(i)}else{var i;const t=a.QZ.toGeometry(e);t.setSymbol(_),null===(i=this.layer)||void 0===i||i.addGeometry(t)}}))}getLayerGeometries(){var e,t;return null!==(e=null===(t=this.layer)||void 0===t?void 0:t.getGeometries().map((e=>e.toGeoJSON())))&&void 0!==e?e:[]}on(e,t){"update"===e&&(this.updateTrigger=t)}setLayer(e){this.layer=e}setOrginalGeometries(e){this.originalGeometries=e}canUndo(){return this.pointer>=0}canRedo(){return this.pointer<this.history.length-1}update(){var e;const t=this.getLayerGeometries();this.pointer<this.history.length-1&&(this.history=this.history.slice(0,this.pointer+1)),this.history.push(t),this.pointer=this.history.length-1,null===(e=this.updateTrigger)||void 0===e||e.call(this)}undo(){var e;this.pointer>0?this.pointer--:this.pointer=-1,this.updateLayer(),null===(e=this.updateTrigger)||void 0===e||e.call(this)}redo(){var e;this.pointer<this.history.length-1?this.pointer++:this.pointer=this.history.length-1,this.updateLayer(),null===(e=this.updateTrigger)||void 0===e||e.call(this)}clear(){var e;this.history=[],this.pointer=-1,null===(e=this.updateTrigger)||void 0===e||e.call(this)}getHistory(){return this.history}getPointer(){return this.pointer}}},28967:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(57323),o=n.n(i),a=n(32603);class l extends a.Z{constructor(e){super(e),o()(this,"configManager",null);const{data:t,configManager:n}=e;t&&n&&(this.configManager=n(t))}renderLayers(){return null}}l.layerName="BaseLayer"},94096:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});const i=["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"]},95094:(e,t,n)=>{"use strict";n.d(t,{X:()=>v});var i=n(21740),o=n(55349),a=n.n(o),l=n(88716),r=n.n(l),s=n(38981),d=n.n(s),c=n(40978),u=n(46131);const p=[255,255,255,255],h={enable:!0,direction:"bottom,middle",fontColor:"#000000",fontSize:12,strokeColor:"#000000",strokeWeight:0,backgroundColor:"#fff",backgroundOpacity:0,visibleRange:[1,19],collisionEnabled:!0};function v(e,t){const{labelConfig:n,fieldConfig:o}=e,{enable:l,direction:s,fontColor:v,fontSize:g,strokeWeight:f,strokeColor:m,backgroundColor:y,backgroundOpacity:w,visibleRange:b}=Object.assign({},h,n),C=v?(0,i.Z)(v,{format:"array",alpha:255}):p;return{fontSettings:{fontSize:32,sdf:!0},characterSet:"auto",getLabelVisible(e){if(b){const t=e+1;return l&&t>=b[0]&&t<=b[1]}return l},getClusterTotalPoints(e){var t,n;return d()(null!==(t=null!==(n=(0,u.oe)(e,"point_count_abbreviated"))&&void 0!==n?n:(0,u.oe)(e,"point_count"))&&void 0!==t?t:"1")},getClusterFontSize(e){var t;const n=null!==(t=(0,u.oe)(e,"point_count"))&&void 0!==t?t:1;return Math.max(12,Math.min(24,n))},getText:e=>(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID")),getValue:e=>(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID)),getTextSize:()=>g,getTextPixelOffset(e){const t=(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID"));if(t){const e=t.split(/\r\n|\r|\n/).length;return[0,g*e]}return[0,0]},getTextBackgroundColor(e){let t=(0,u.oe)(e,"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID"));return e.path&&(t=(0,u.oe)(e.path[0],"".concat(null===o||void 0===o?void 0:o.labelID,"-labelFieldID"))),y&&!r()(t)?(0,i.Z)(y,{format:"array",alpha:255*(null!==w&&void 0!==w?w:0)}):[0,0,0,0]},getTextAnchor(){const[,e]=s.split(",");return"start"===e?"start":"end"===e?"end":"middle"},getAlignmentBaseline(){const[e]=s.split(",");return"top"===e?"top":"bottom"===e?"bottom":"center"},getTextColor:()=>C,getPathLayerPosition(e,t){var n,i;const a=null===o||void 0===o?void 0:o.groupByFieldID,l=a?null===(n=e.properties)||void 0===n?void 0:n[a]:"default",r=null===t||void 0===t?void 0:t.find((e=>e.name===String(l))),s={type:"LineString",coordinates:(null===r||void 0===r?void 0:r.path)||[]};return((null===r||void 0===r||null===(i=r.path)||void 0===i?void 0:i.length)||0)<=1?null===r||void 0===r?void 0:r.path:(0,c.be)(s).coordinates},getTextOutlineWidth:()=>f,getTextOutlineColor:()=>m?(0,i.Z)(m,{format:"array",alpha:255}):[0,0,0,0],getTextBackgroundVisible:()=>l&&!a()(w)&&w>0,getCollisionEnabled:()=>n.collisionEnabled}}},38942:(e,t,n)=>{"use strict";n.d(t,{I:()=>m});var i=n(48828),o=n(86183),a=n(48744),l=n(21740),r=n(55349),s=n.n(r),d=n(53813),c=n.n(d),u=n(18878),p=n.n(u),h=n(46131),v=n(94096);const g=[217,217,217,190],f={colors:v.O,fillMethod:"quantize",thresholds:[],aggregateBy:"sum",fillOpacity:1,reverse:!1};function m(e,t){const{regionConfig:n,fieldConfig:r,outlineConfig:d}=e;let u=null;const{colors:v=[],fillMethod:m,thresholds:y,fillOpacity:w,labelVisible:b,labelTypes:C=["name","value"],disableLabelOffset:x}=Object.assign({},f,n);if(null!==r&&void 0!==r&&r.regionIndexStatsID&&null!==r&&void 0!==r&&r.regionDimensionID){const e=c()(t.features);null===e||void 0===e||e.map((e=>{const t=I(e);return s()(t)||(e.properties={...e.properties,aggregationValue:t}),e}));const n=(0,h.ge)(e,"aggregationValue",m);"quantize"===m&&(u=(0,i.Z)().domain(n).range(v)),"quantile"===m&&(u=(0,o.Z)().domain(n).range(v)),"customize"===m&&null!==y&&void 0!==y&&y.length&&(u=(0,a.Z)().domain((0,h.VM)(y)).range(v))}function I(e){if(null===r||void 0===r||!r.regionIndexStatsID)return null;const t=(0,h.oe)(e,"aggregationValue"),i=(0,h.oe)(e,"aggregationMethod")||(null===n||void 0===n?void 0:n.indexStatsMethod)||"sum";return t?(0,h.Bb)(t,i):null}function j(e){if(null===r||void 0===r||!r.regionIndexStatsID||!r.regionDimensionID)return"";const t=(0,h.oe)(e,"name")||"",i=function(e){var t;if(null===r||void 0===r||!r.regionIndexStatsID)return null;const i=(0,h.oe)(e,"aggregationValue"),o=(null===n||void 0===n?void 0:n.indexStatsMethod)||"sum",a=(0,h.oe)(e,"aggregationMethod")||o;if(null!==e&&void 0!==e&&null!==(t=e.properties)&&void 0!==t&&t.indexStatsColumn&&i){var l;const t=JSON.parse(null===e||void 0===e||null===(l=e.properties)||void 0===l?void 0:l.indexStatsColumn),n=(0,h.Bb)(i,a);return"count"===o||"nonEmptyCount"===o?Math.round(Number(n)):(0,h.V2)(t)(n)}return null}(e),o=s()(i)?"":p()(i)?(0,h.IG)(i)||"":i,a=null===C||void 0===C?void 0:C.includes("value"),l=null===C||void 0===C?void 0:C.includes("name");return l||a?a&&!l?o:!a&&l&&o?t:o?[t,o].join("\n"):"":""}const M=255*w,k=null!==r&&void 0!==r&&r.regionIndexStatsID&&null!==v&&void 0!==v&&v[0]?(0,l.Z)(v[0],{format:"array",alpha:M}):g;return{labelVisible:b,getLabelText:j,getRegionLineWidth(){var e;return null!==(e=null===d||void 0===d?void 0:d.strokeWeight)&&void 0!==e?e:1},getRegionLineColor(){var e;return null!==d&&void 0!==d&&null!==(e=d.colors)&&void 0!==e&&e[0]?(0,l.Z)(d.colors[0],{format:"array",alpha:255}):[197,197,197,255]},getRegionTextPixelOffset(e){const t=j(e);if(t&&!x){return[0,12*t.split(/\r\n|\r|\n/).length]}return[0,0]},getRegionFillColor:e=>u?s()(I(e))?g:(0,l.Z)(u(I(e)),{format:"array",alpha:M}):k}}},85604:(e,t,n)=>{"use strict";n.d(t,{R:()=>f});var i=n(21740),o=n(7070),a=n.n(o),l=n(89063),r=n.n(l),s=n(74720),d=n.n(s),c=n(40978),u=n(46131),p=n(94096);const h=["quantize","quantile","ordinal"],v={colors:p.O,fillMethod:"quantize",thresholds:[],aggregateBy:"sum",fillOpacity:1,reverse:!1},g={"wb-ADM0-RUS":[96.929428,62.496485],"cas-ADM0-RUS":[96.929428,62.496485],"wb-ADM0-USA":[-101.521326,40.136646],"cas-ADM0-USA":[-101.521326,40.136646],"china-ADM1-620000":[95.80377432760952,39.9249797139299],"china-ADM1-440000":[113.23221342594672,23.97241585811284],"china-ADM1-460000":[109.51471182760952,19.097513407738262],"china-ADM1-820000":[113.56977488617486,22.11434993155663],"china-ADM1-340000":[117.96303841985457,30.480578696479114],"china-ADM1-150000":[116.7438145609832,44.15161594984701],"china-ADM1-130000":[114.92959525321854,38.00261295287253],"china-ADM1-110000":[116.67320891598014,40.65494511417716],"china-ADM1-120000":[117.25292748255883,38.92641173770371],"china-ADM1-330000":[120.6667050223441,28.936992304623317]};function f(e){const{fillConfig:t,fieldConfig:n,visibilityConfig:o}=e,{colors:l,fillOpacity:s,fillMethod:p,aggregateBy:f}=Object.assign({},v,t),m=a()(l,(e=>/^#([0-9a-f]{3}){1,2}$/i.test(e)?(0,i.Z)(e,{format:"array",alpha:255*s}):[255,255,255,255]));return{getColorRange:()=>m,getColorScaleType:()=>h.includes(p)?p:"quantize",getColorValue(e){var t;let i=r()(e);if(null!==n&&void 0!==n&&n.fillID){const t=a()(e,(e=>{var t;return null!==(t=(0,u.oe)(e,n.fillID))&&void 0!==t?t:0}));i=(0,u.Bb)(t,f)}return null!==(t=i)&&void 0!==t?t:0},getPosition(e){const t=d()(e,"properties.id");return t&&g[t]?g[t]:(0,c.be)(e.geometry).coordinates},getVisible:e=>null===o||void 0===o||!o.visibleRange||e>=o.visibleRange[0]&&e<=o.visibleRange[1]}}},46131:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>b,G2:()=>g,IG:()=>I,V2:()=>j,VM:()=>y,fi:()=>m,ge:()=>f,oe:()=>w,pE:()=>C,s8:()=>x});var i=n(74720),o=n.n(i),a=n(7070),l=n.n(a),r=(n(75538),n(78587),n(75091),n(99540)),s=n.n(r),d=n(81659),c=n.n(d),u=n(11181),p=n(21740),h=n(91671),v=n(42015);n(97102);const g=201;function f(e,t,n){let i=Number.MAX_SAFE_INTEGER,o=0,a=[];return a=l()(e,(e=>{const n=parseFloat(w(e,t));return i=n<i?n:i,o=n>o?n:o,n})).filter((e=>!Number.isNaN(e))),"quantize"===n||"continuous"===n?[i,o]:a}function m(e,t){if(!e||null===t||void 0===t||!t.textQuantiles)return;const n=t.textQuantiles[e.id];return n?Object.keys(n):void 0}function y(e){const t=[...null!==e&&void 0!==e?e:[]];return t.pop(),t.shift(),t}function w(e,t){return o()(null===e||void 0===e?void 0:e.properties,null!==t&&void 0!==t?t:"")}function b(e,t){if(!(null===e||void 0===e?void 0:e.every((e=>null===e)))||"count"===t||"nonEmptyCount"===t)return(0,v.Bb)(e,t)}function C(e,t){const[n,i,o,a]=e,[l,r]=t,s=(0,p.Z)(n,{alpha:l,format:"object"}),d=(0,p.Z)(i,{alpha:l,format:"object"}),c=(0,p.Z)(o,{alpha:r,format:"object"}),h=(0,p.Z)(a,{alpha:r,format:"object"});return{colorLow:s,colorHigh:d,bivariateColorLow:c,bivariateColorHigh:h,mixedColorLow:(0,u.Jp)({r:s.red,g:s.green,b:s.blue,a:s.alpha},{r:c.red,g:c.green,b:c.blue,a:c.alpha}),mixedColorHigh:(0,u.Jp)({r:d.red,g:d.green,b:d.blue,a:d.alpha},{r:h.red,g:h.green,b:h.blue,a:h.alpha})}}function x(e){const t=o()(e,"red",o()(e,"r")),n=o()(e,"green",o()(e,"g")),i=o()(e,"blue",o()(e,"b")),a=o()(e,"alpha",o()(e,"a"));return"rgba(".concat(t,", ").concat(n,", ").concat(i,", ").concat(a,")")}function I(e){return function(e){const t=[{value:1e9,symbol:"b"},{value:1e6,symbol:"m"},{value:1e3,symbol:"k"}];if(e<1e3)return e.toString();for(const n of t)if(e>=n.value){const t=e/n.value,i=Math.floor(t).toString().length,o=Math.max(0,4-i);return t.toFixed(o).replace(/\.?0+$/,"")+n.symbol}return e.toString()}(function(e){if(0!==e&&e>-.1&&e<1){let t,n=e;for(t=0;t<10&&n>-.1&&n<1;t++)n*=10;return parseFloat(e.toFixed(t+2))}return parseFloat(s()(e).toFixed(3))}(e))}function j(e){var t,n,i,o,a,l;return c()(h.P,"number"===(null===e||void 0===e?void 0:e.type)||"lookup"===(null===e||void 0===e?void 0:e.type)||"formula"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.precision:null===e||void 0===e||null===(n=e.typeOptions)||void 0===n?void 0:n.numberPrecision,"number"===(null===e||void 0===e?void 0:e.type)||"lookup"===(null===e||void 0===e?void 0:e.type)||"formula"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(i=e.typeOptions)||void 0===i?void 0:i.format:null===e||void 0===e||null===(o=e.typeOptions)||void 0===o?void 0:o.numberFormat,"currency"===(null===e||void 0===e||null===(a=e.typeOptions)||void 0===a?void 0:a.format)?null===e||void 0===e||null===(l=e.typeOptions)||void 0===l?void 0:l.numberPrefix:void 0)}},56765:(e,t,n)=>{"use strict";n.d(t,{zi:()=>l.z,K7:()=>g,tn:()=>r,mU:()=>m,cH:()=>C,zP:()=>w,dX:()=>k,eE:()=>E,J1:()=>j,nr:()=>U,cD:()=>G,Fw:()=>F,l7:()=>Ge});var i=n(93232),o=n(36741),a=n(9626),l=n(28967);class r extends l.z{shouldUpdateState(e){let{changeFlags:t}=e;return null!==t.somethingChanged}renderGeoJsonLayer(){var e;const{id:t=r.layerName,data:n,autoHighlight:i=!0,pickable:a=!0,extensionPack:l}=this.props,s=this.configManager,d="".concat(t,"-geojson");if(!s)return;const c=null!==(e=s.config.bivariateFillConfig)&&void 0!==e&&e.enable?s.getBlendColor:s.getFillColor,u={center:s.getPointRadius,outside:e=>s.getPointRadius(e)+s.getLineWidth(e)/2,inside:e=>s.getPointRadius(e)-s.getLineWidth(e)/2};return new o.Z({id:d,data:n,autoHighlight:i,pickable:a,...l,getFillColor:c,getPointRadius:u[s.strokeAlign||"center"],getLineWidth:s.getLineWidth,getLineColor:s.getLineColor,getElevation:s.getElevation,elevationScale:s.getElevationScale(),extruded:s.getExtruded(),pointRadiusUnits:s.pointRadiusUnits,lineWidthMinPixels:s.lineWidthMinPixels,lineCapRounded:s.lineCapRounded,lineWidthUnits:s.lineWidthUnits,stroked:s.stroked,filled:s.filled,updateTriggers:{getFillColor:c,getPointRadius:s.getPointRadius,getLineWidth:s.getLineWidth,getLineColor:s.getLineColor,getElevation:s.getElevation}})}renderTextLayer(){const{id:e=r.layerName,data:t,extensionPack:n}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const s=[];o.getCollisionEnabled()&&s.push(new i.Z),null!==n&&void 0!==n&&n.extensions&&s.push(...n.extensions);const{setToRedraw:d}=this.context.userData;"function"===typeof d&&o.getLabelVisible(this.context.viewport.zoom)&&d();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...n,extensions:s,getPosition:o.getPosition,getRadius:o.getPointRadius,getText:o.getText,getPixelOffset:o.getTextPixelOffset,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){return[this.renderGeoJsonLayer(),this.renderTextLayer()]}}r.layerName="CommonLayer";var s=n(57323),d=n.n(s),c=n(99259),u=n(82253),p=n(74932),h=n(74720),v=n.n(h);class g extends u.Z{constructor(e){super(e),d()(this,"configManager",null);const{data:t,configManager:n}=e;t&&n&&(this.configManager=n(t))}initializeState(){const{data:e}=this.props;e&&this.initClusterIndex(e.features)}shouldUpdateState(e){let{changeFlags:t}=e;return t.somethingChanged}updateState(e){let{props:t,changeFlags:n}=e;(n.propsChanged||n.dataChanged)&&this.state.clusterIndex&&t.data&&this.state.clusterIndex.load(this.processData(t.data.features))}getPickingInfo(e){let{info:t}=e;const n=this.configManager;var i,o,a;return t.object&&n?{...t,object:{...t.object,count:null!==(i=null===(o=t.object)||void 0===o||null===(o=o.properties)||void 0===o?void 0:o.point_count)&&void 0!==i?i:1,cluster:null===(a=t.object)||void 0===a||null===(a=a.properties)||void 0===a?void 0:a.cluster,colorValue:n.getClusterColorValue(t.object)}}:t}initClusterIndex(e){if(this.state.clusterIndex)return;const t=new p.Z({map:e=>{var t,n;return{...e,points:[null!==(t=v()(e,null!==(n=null===e||void 0===e?void 0:e.fillFieldID)&&void 0!==n?n:""))&&void 0!==t?t:0]}},reduce:(e,t)=>(e.points=[...e.points,...t.points],e)});e&&t.load(this.processData(e)),Object.assign(this.state,{clusterIndex:t})}processData(e){return e.filter((e=>"Point"===e.geometry.type))}getClusters(){const{viewport:e}=this.context,{clusterIndex:t}=this.state;let n=this.context.viewport.getBounds();if(!n){const t=e.unproject([0,0]),i=e.unproject([e.width,e.height]);n=[t[0],i[1],i[0],t[1]]}return t.getClusters(n,Math.floor(e.zoom))}renderClusterLayer(){var e;const{id:t=g.layerName,pickable:n,autoHighlight:i,data:o,extensionPack:a,onSetColorDomain:l}=this.props,r=this.configManager;if(!r||!o)return null;this.initClusterIndex(null===o||void 0===o?void 0:o.features);const s=this.getClusters(),d=r.getRadiusRange(),u=r.getClusterDomain(s);return null===(e=r.fillScale)||void 0===e||e.domain(u),null===l||void 0===l||l(u),new c.Z({id:"".concat(t,"-cluster"),data:s,pickable:n,autoHighlight:i,radiusUnits:"pixels",parameters:{depthMask:!1},...a,radiusMinPixels:d[0],radiusMaxPixels:d[1],getPosition:e=>e.geometry.coordinates,getRadius:e=>{var t,n;return null!==(t=null===(n=e.properties)||void 0===n?void 0:n.point_count)&&void 0!==t?t:d[0]},getFillColor:e=>r.getClusterFillColor(e,u),updateTriggers:{getFillColor:r.getClusterFillColor}})}renderTextLayer(){const{id:e=g.layerName,extensionPack:t}=this.props,n=this.configManager,o="".concat(e,"-text");if(!n)return;const l=this.getClusters(),r=[];n.getCollisionEnabled()&&r.push(new i.Z),null!==t&&void 0!==t&&t.extensions&&r.push(...t.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&n.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:o,data:l,pickable:!1,parameters:{depthTest:!1},...t,extensions:r,getPosition:n.getPosition,getRadius:n.getPointRadius,getText:e=>n.getClusterTotalPoints(e),getSize:e=>n.getClusterFontSize(e),getColor:n.getTextColor,outlineWidth:n.getTextOutlineWidth(),outlineColor:n.getTextOutlineColor(),fontSettings:n.fontSettings,characterSet:n.characterSet,updateTriggers:{getRadius:n.getPointRadius,getPosition:n.getPosition,getText:n.getClusterTotalPoints,getColor:n.getTextColor}})}renderLayers(){return[this.renderClusterLayer(),this.renderTextLayer()]}}d()(g,"layerName","ClusterLayer");var f=n(81057);class m extends l.z{initializeState(e){super.initializeState(e),Object.assign(this.state,{visible:!1,aggregator:null})}renderGridLayer(){const{id:e=m.layerName,data:t,pickable:n,autoHighlight:i,onSetColorDomain:o}=this.props,a=this.configManager;if(!a||!t)return;return new f.Z({id:"".concat(e,"-grid"),data:t.features,getPosition:a.getPosition,colorRange:a.getColorRange(),pickable:n,autoHighlight:i,visible:this.state.visible,cellSize:a.getCellSize(),coverage:a.getCoverage(),colorScaleType:a.getColorScaleType(),extruded:a.getExtruded(),elevationScale:a.getElevationScale(),elevationRange:a.getElevationRange(),getElevationValue:e=>{var t;return a.getElevationValue(e,v()(null===(t=this.state.aggregator)||void 0===t?void 0:t.state.layerData,"data"))},getColorValue:a.getColorValue,onSetColorDomain:e=>{null===o||void 0===o||o(e)},updateTriggers:{getPosition:a.getPosition,getElevationValue:a.getElevationValue,getColorValue:a.getColorValue}})}renderLayers(){const e=this.renderGridLayer(),t=null===e||void 0===e?void 0:e.clone({id:"".concat(e.id,"-shadow"),visible:!1,onSetElevationDomain:()=>{this.setState({aggregator:t.state.cpuAggregator,visible:!0})}});return[t,e]}}d()(m,"layerName","GridLayer");var y=n(75770);class w extends l.z{renderHeatMapLayer(){const{id:e=w.layerName,data:t,extensionPack:n}=this.props,i=this.configManager;if(i&&t)return new y.Z({id:"".concat(e,"-heatmap"),data:t.features,...n,getPosition:i.getPosition,getWeight:i.getWeight,colorRange:i.getColorRange(),radiusPixels:i.radiusPixels,threshold:i.threshold,weightsTextureSize:1024,debounceTimeout:800,updateTriggers:{getPosition:i.getPosition,getWeight:i.getWeight}})}renderLayers(){return[this.renderHeatMapLayer()]}}w.layerName="HeatmapLayer";var b=n(98639);class C extends l.z{renderH3Layer(){const{id:e,data:t,pickable:n,autoHighlight:i,extensionPack:o}=this.props,a=this.configManager;if(t&&a)return new b.Z({id:"".concat(e,"-h3"),data:t.features,autoHighlight:i,pickable:n,...o,getHexagons:e=>{var t,n;return null!==(t=null===(n=e.properties)||void 0===n?void 0:n.hexIds)&&void 0!==t?t:[]},getFillColor:e=>a.getFillColor(e),lineWidthMinPixels:a.lineWidthMinPixels,lineWidthUnits:a.lineWidthUnits,getLineWidth:a.getLineWidth,getLineColor:e=>a.getLineColor(e),extruded:a.getExtruded(),elevationScale:a.getElevationScale(),getElevation:e=>a.getElevation(e),stroked:a.stroked,filled:a.filled,updateTriggers:{getFillColor:a.getFillColor,getLineWidth:a.getLineWidth,getLineColor:a.getLineColor,getElevation:a.getElevation}})}renderTextLayer(){const{id:e=C.layerName,data:t,extensionPack:n}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new i.Z),null!==n&&void 0!==n&&n.extensions&&r.push(...n.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&o.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...n,extensions:r,getPosition:o.getPosition,getRadius:o.getPointRadius,getText:o.getText,getPixelOffset:o.getTextPixelOffset,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){return[this.renderH3Layer(),this.renderTextLayer()]}}d()(C,"layerName","H3ClusterLayer");var x=n(39986),I=n(4105);class j extends l.z{renderLineLayer(){const{id:e=j.layerName,data:t,pickable:n,autoHighlight:i,extensionPack:o}=this.props,a=this.configManager;return a&&t?new x.Z({id:"".concat(e,"-odLine"),data:t.features,pickable:n,autoHighlight:i,...o,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition,getColor:a.getFillColor,getWidth:a.getOdLineWidth,updateTriggers:{getColor:a.getFillColor,getWidth:a.getOdLineWidth,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition}}):null}renderArcLayer(){const{id:e=j.layerName,data:t,pickable:n,autoHighlight:i,extensionPack:o}=this.props,a=this.configManager;return a&&t?new I.Z({id:"".concat(e,"-odArc"),data:null===t||void 0===t?void 0:t.features,pickable:n,autoHighlight:i,...o,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition,getSourceColor:a.getSourceColor,getTargetColor:a.getTargetColor,getWidth:a.getOdLineWidth,updateTriggers:{getSourceColor:a.getSourceColor,getTargetColor:a.getTargetColor,getWidth:a.getOdLineWidth,getSourcePosition:a.getPosition,getTargetPosition:a.getTargetPosition}}):null}renderLayers(){var e;return["arc"===(null===(e=this.configManager)||void 0===e?void 0:e.getODLineType())?this.renderArcLayer():this.renderLineLayer()]}}d()(j,"layerName","ODLineLayer");var M=n(66688);class k extends l.z{initializeState(e){super.initializeState(e),Object.assign(this.state,{visible:!1,aggregator:null})}renderHexagonLayer(){const{id:e=k.layerName,data:t,pickable:n,autoHighlight:i}=this.props,o=this.configManager;if(!o||!t)return;return new M.Z({id:"".concat(e,"-hexagon"),data:t.features,getPosition:o.getPosition,pickable:n,autoHighlight:i,visible:this.state.visible,colorRange:o.getColorRange(),radius:o.getCellSize(),coverage:o.getCoverage(),colorScaleType:o.getColorScaleType(),extruded:o.getExtruded(),elevationScale:o.getElevationScale(),elevationRange:o.getElevationRange(),getElevationValue:e=>{var t;return o.getElevationValue(e,v()(null===(t=this.state.aggregator)||void 0===t?void 0:t.state.layerData,"data"))},getColorValue:o.getColorValue,onSetColorDomain:e=>{var t,n;null===(t=(n=this.props).onSetColorDomain)||void 0===t||t.call(n,e)},updateTriggers:{getPosition:o.getPosition,getElevationValue:o.getElevationValue,getColorValue:o.getColorValue}})}renderLayers(){const e=this.renderHexagonLayer(),t=null===e||void 0===e?void 0:e.clone({id:"".concat(e.id,"-shadow"),visible:!1,onSetElevationDomain:()=>{this.setState({aggregator:t.state.cpuAggregator,visible:!0})}});return[t,e]}}k.layerName="Hexagonayer";var T=n(90286);class E extends l.z{renderIconLayer(){var e;const{id:t=E.layerName,data:n,autoHighlight:i,extensionPack:o}=this.props,a=this.configManager,l="".concat(t,"-icon");if(!a)return;const{setToRedraw:r}=this.context.userData;return"function"===typeof r&&null!==n&&void 0!==n&&null!==(e=n.features)&&void 0!==e&&e.length&&setTimeout((()=>{r()}),500),new T.Z({id:l,data:null===n||void 0===n?void 0:n.features,pickable:!0,autoHighlight:i,sizeMaxPixels:100,sizeMinPixels:1,sizeScale:1,sizeUnits:"pixels",...o,getIcon:a.getFillIcon,getPosition:a.getPosition,getColor:a.getFillColor,getSize:e=>a.getPointRadius(e),updateTriggers:{getIcon:a.getFillIcon,getPosition:a.getPosition,getColor:a.getFillColor,getSize:a.getPointRadius}})}renderTextLayer(){const{id:e=E.layerName,data:t,extensionPack:n}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new i.Z),null!==n&&void 0!==n&&n.extensions&&r.push(...n.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&o.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...n,extensions:r,isIconLayer:!0,getPosition:o.getPosition,getRadius:o.getPointRadius,getText:o.getText,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getPixelOffset:o.getTextPixelOffset,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){return[this.renderIconLayer(),this.renderTextLayer()]}}d()(E,"layerName","IconLayer");var P=n(39723),O=n(34929),S=n(43179),_=n.n(S),N=n(29449),D=n(17646),L=n.n(D),A=n(54057),R=n(8455),Z=n(93611);class F extends l.z{constructor(){super(...arguments),d()(this,"animate",(()=>{var e;const t=this.configManager;if(!t)return;this.state.animationId=window.requestAnimationFrame(this.animate);const n=(0,Z.IH)(null!==(e=this.state.currentTime)&&void 0!==e?e:0,t.getTripsSpeed());this.setState({currentTime:n})}))}initializeState(e){var t;super.initializeState(e),null!==(t=this.configManager)&&void 0!==t&&t.getTripsAnimation()&&!this.state.animationId&&(this.state.animationId=window.requestAnimationFrame(this.animate))}updateState(e){let{props:t,oldProps:n,context:i,changeFlags:o}=e;const a=this.configManager;if(o.propsChanged&&a){const{tripsConfig:e}=a.config;a.getTripsAnimation()&&!this.state.animationId&&(this.state.animationId=window.requestAnimationFrame(this.animate)),!a.getTripsAnimation()&&this.state.animationId&&(window.cancelAnimationFrame(this.state.animationId),this.state.animationId=void 0),(null===e||void 0===e?void 0:e.currentTime)!==this.state.manualUpdatedTime&&this.setState({currentTime:null===e||void 0===e?void 0:e.currentTime,manualUpdatedTime:null===e||void 0===e?void 0:e.currentTime})}if(o.dataChanged&&t.data&&a){const{fieldConfig:e}=a.config;let n,i;const o=null===e||void 0===e?void 0:e.groupByFieldID,l={};if(L()(t.data.features,(t=>{var a,r,s;const d=null===(a=t.properties)||void 0===a?void 0:a[null!==(r=null===e||void 0===e?void 0:e.timestampID)&&void 0!==r?r:""],c=o?null===(s=t.properties)||void 0===s?void 0:s[o]:"default";if("Point"===t.geometry.type&&null!==e&&void 0!==e&&e.timestampID&&d){const a=_()(d).valueOf();t.properties={...t.properties,[e.timestampID]:a},n=n?Math.min(n,a):a,i=i?Math.max(i,a):a,l[c]?(l[c].timestamps.push(a),l[c].path.push(t)):l[c]={id:null!==o&&void 0!==o?o:c,timestamps:[a],path:[t]}}})),n&&i)for(const[,t]of Object.entries(l))Object.assign(t,this.preProcess(t.path,[n,i],t.timestamps));this.setState({pathData:Object.values(l)})}super.updateState({props:t,oldProps:n,context:i,changeFlags:o})}finalizeState(e){this.state.animationId&&window.cancelAnimationFrame(this.state.animationId),super.finalizeState(e)}preProcess(e,t,n){const i=this.configManager,[o,a]=t;if(F.scaleTimestamp=(0,N.Z)(t,[0,Math.min(1e4,t[1])]),!e||!i)return;const l=i.getTripsSpeed(),r=Math.floor((a-o)/l),s=o,d={[s]:this.getHead(s,n,e).position};let c=s;for(let u=1;u<r;u++)c=(0,Z.IH)(c,l),d[c]=this.getHead(c,n,e).position;return{headPositions:d,scaledTimestamps:n.map((e=>Math.max(F.scaleTimestamp(e),0)))}}getCurrentSegment(e,t){if(!t||!t.length||void 0===e)return[0,0];let n=0,i=t.length-1;for(;n<=i;){const o=Math.floor((n+i)/2),a=t[o];if(a===e)return o;a<e?n=o+1:i=o-1}return i<0?n:n>=t.length?i:[i,n]}getHead(e,t,n){const i=this.configManager;if(void 0===e||!n||!t||!t.length||null===i||void 0===i||!i.config)return{position:[0,0],angle:0};const o=this.getCurrentSegment(e,t),{tripsConfig:a}=i.config;if(Array.isArray(o)){const[i,l]=o,r=n[i],s=n[l],d=null!==a&&void 0!==a&&a.iconRotation?(()=>{const[e,t]=r.geometry.coordinates,[n,i]=s.geometry.coordinates,o=Math.abs((i-t)/(n-e)),a=n>e&&i>t?1:n<e&&i>t?2:n<e&&i<t?3:4,l=Math.atan(o)*(180/Math.PI);return 1===a?270+l:2===a?90-l:3===a?90+l:4===a?-1*l-90:0})():0,c={type:"Feature",geometry:{type:"LineString",coordinates:n.slice(i,l+1).map((e=>e.geometry.coordinates))}},u=(0,A.Z)(c),p=Math.max((0,N.Z)([t[i],t[l]],[0,u])(e),0);return{position:(0,R.Z)(c,p).geometry.coordinates,angle:Number.isNaN(d)?0:d}}return{position:n[o].geometry.coordinates,angle:0}}renderTripsLayer(){var e;const{id:t=F.layerName,data:n,pickable:i,autoHighlight:o}=this.props,a=this.configManager;if(!a||!n)return;const l=F.scaleTimestamp(null!==(e=this.state.currentTime)&&void 0!==e?e:0);return new P.Z({id:"".concat(t,"-trips"),data:this.state.pathData,pickable:i,autoHighlight:o,widthUnits:"pixels",currentTime:l,capRounded:a.getCapRounded(),jointRounded:a.getJointRounded(),fadeTrail:a.getFadeTrail(),trailLength:a.getTrailLength(),getWidth:a.getTripWidth,getPath:a.getTripsPath,getColor:a.getTripColor,getTimestamps:a.getScaledTimestamps,updateTriggers:{getPath:a.getTripsPath,getColor:a.getTripColor,getWidth:a.getTripWidth,getTimestamps:a.getScaledTimestamps}})}renderTextLayer(){const{id:e=F.layerName,data:t}=this.props,n=this.configManager;if(!n||!t||!n.getLabelVisible(this.context.viewport.zoom))return;const i=n.getTripsIconSize(),o=null===n||void 0===n?void 0:n.getTripsIcon();return new O.Z({id:"".concat(e,"-text"),data:this.state.pathData,fontSettings:n.fontSettings,characterSet:n.characterSet,backgroundPadding:[5,5],getPixelOffset:()=>[0,o?-i/2:0],getBackgroundColor:n.getTextBackgroundColor,background:n.getTextBackgroundVisible(),outlineWidth:n.getTextOutlineWidth(),outlineColor:n.getTextOutlineColor(),visible:n.getLabelVisible(this.context.viewport.zoom),getText:n.getTripsText,getPosition:e=>{var t,n,i;return null!==(t=null===(n=e.headPositions)||void 0===n?void 0:n[null!==(i=this.state.currentTime)&&void 0!==i?i:0])&&void 0!==t?t:this.getHead(this.state.currentTime,e.timestamps,e.path).position},getColor:n.getTextColor,getSize:n.getTextSize,getTextAnchor:n.getTextAnchor,getAlignmentBaseline:n.getAlignmentBaseline,updateTriggers:{getPosition:this.state.currentTime,getText:n.getTripsText,getPixelOffset:i,getColor:n.getTextColor,getSize:n.getTextSize,getAlignmentBaseline:n.getAlignmentBaseline,getTextAnchor:n.getTextAnchor,getBackgroundColor:n.getTextBackgroundColor}})}renderIconLayer(){const{id:e=F.layerName,data:t,extensionPack:n}=this.props,i=this.configManager,o=null===i||void 0===i?void 0:i.getTripsIcon();if(i&&t&&o)return new T.Z({id:"".concat(e,"-icon"),data:this.state.pathData,pickable:!1,autoHighlight:!1,sizeMaxPixels:200,sizeMinPixels:0,sizeScale:1,sizeUnits:"pixels",...n,getIcon:i.getTripsIcon,getAngle:e=>{const{angle:t}=this.getHead(this.state.currentTime,e.timestamps,e.path);return t},getPosition:e=>{const{position:t}=this.getHead(this.state.currentTime,e.timestamps,e.path);return t},getSize:i.getTripsIconSize,updateTriggers:{getIcon:i.getTripsIcon,getSize:i.getTripsIconSize,getPosition:this.state.currentTime,getAngle:this.state.currentTime}})}renderLayers(){const e=this.renderTripsLayer(),t=this.renderTextLayer();return[e,this.renderIconLayer(),t]}}d()(F,"layerName","TripsLayer"),d()(F,"scaleTimestamp",(e=>e));var z=n(27469),B=n(97102),V=n.n(B),H=n(7070),W=n.n(H);class U extends l.z{initializeState(e){super.initializeState(e)}updateState(e){let{props:t,oldProps:n,context:i,changeFlags:o}=e;const a=this.configManager;if(o.dataChanged&&t.data&&a){const{fieldConfig:e}=a.config,n=null===e||void 0===e?void 0:e.groupByFieldID,i=null===e||void 0===e?void 0:e.sortByFieldID,o=this.processPathData(t.data.features,n,i);this.setState({pathData:o});const{wayPoints:l,allPoints:r,startPoints:s,endPoints:d}=this.processWayPoints(t.data.features,o);this.setState({wayPoints:l,allPoints:r,startPoints:s,endPoints:d})}super.updateState({props:t,oldProps:n,context:i,changeFlags:o})}processPathData(e,t,n){if(!n)return[];const i=e.filter((e=>{var t;return"Point"===(null===(t=e.geometry)||void 0===t?void 0:t.type)})),o=V()(i,(e=>{var n;return t?null===(n=e.properties)||void 0===n?void 0:n[t]:"default"}));return W()(o,((e,t)=>({path:(0,Z.w5)(e,n).map((e=>{var t;return null===(t=e.geometry)||void 0===t?void 0:t.coordinates})),name:t})))}processWayPoints(e,t){const n=e.filter((e=>{var t;return"Point"===(null===(t=e.geometry)||void 0===t?void 0:t.type)})),i=t.map((e=>e.path[0])),o=t.map((e=>e.path[e.path.length-1]));return{startPoints:n.filter((e=>{var t;return i.includes(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)})),endPoints:n.filter((e=>{var t;return o.includes(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)})),wayPoints:n.filter((e=>{var t,n;return!i.includes(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)&&!o.includes(null===(n=e.geometry)||void 0===n?void 0:n.coordinates)})),allPoints:n}}renderPathLayer(){const{id:e=U.layerName,data:t,pickable:n,autoHighlight:i}=this.props,{configManager:o}=this;if(o)return new z.Z({id:"".concat(e,"-path"),data:this.state.pathData,pickable:n,autoHighlight:i,capRounded:o.pathCapRounded,jointRounded:o.pathJointRounded,widthUnits:o.pathLineWidthUnits,getPath:e=>e.path,getColor:e=>o.getPathLayerLineColor(e,null===t||void 0===t?void 0:t.features),getWidth:e=>o.getPathLayerLineWidth(e,null===t||void 0===t?void 0:t.features),updateTriggers:{getPath:e=>e.path,getWidth:e=>o.getPathLayerLineWidth(e,null===t||void 0===t?void 0:t.features),getColor:e=>o.getPathLayerLineColor(e,null===t||void 0===t?void 0:t.features)}})}renderPointLayer(e,t,n){const{id:i=U.layerName,pickable:a,autoHighlight:l}=this.props,{configManager:r}=this;if(!r)return;const s=()=>({wayPoints:r.getPathWayPointsFillColor,startPoints:r.getPathStartPointsFillColor,endPoints:r.getPathEndPointsFillColor}[t]()),d=()=>({wayPoints:r.pathWayPointSize,startPoints:r.pathEndpointSize,endPoints:r.pathEndpointSize}[t]);return new o.Z({id:"".concat(i,"-").concat(t,"-geojson"),data:e,visible:n,pickable:a,autoHighlight:l,stroked:!1,pointRadiusUnits:"pixels",getFillColor:s,getPointRadius:d,updateTriggers:{getFillColor:s,getPointRadius:d}})}renderTextLayer(){const{id:e=U.layerName,data:t,extensionPack:n}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new i.Z),null!==n&&void 0!==n&&n.extensions&&r.push(...n.extensions);const{setToRedraw:s}=this.context.userData;"function"===typeof s&&o.getLabelVisible(this.context.viewport.zoom)&&s();return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...n,extensions:r,getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getPixelOffset:o.getTextPixelOffset,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.getLabelVisible(this.context.viewport.zoom),fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getTextPixelOffset}})}renderLayers(){var e,t,n;return[this.renderPathLayer(),this.renderTextLayer(),this.renderPointLayer(this.state.wayPoints,"wayPoints",null===(e=this.configManager)||void 0===e?void 0:e.getPathWayPointVisible),this.renderPointLayer(this.state.startPoints,"startPoints",null===(t=this.configManager)||void 0===t?void 0:t.getPathEndPointVisible),this.renderPointLayer(this.state.endPoints,"endPoints",null===(n=this.configManager)||void 0===n?void 0:n.getPathEndPointVisible)]}}d()(U,"layerName","PathLayer");class G extends l.z{initializeState(e){super.initializeState(e)}renderRegionLayer(){const{data:e,id:t=G.layerName,pickable:n,autoHighlight:i,extensionPack:a}=this.props,l=this.configManager;if(l)return new o.Z({id:"".concat(t,"-geojson"),data:e,pickable:n,...a,autoHighlight:i,stroked:!0,filled:!0,lineCapRounded:!0,lineWidthUnits:"pixels",getFillColor:l.getRegionFillColor,getLineWidth:l.getRegionLineWidth,getLineColor:l.getRegionLineColor,updateTriggers:{getFillColor:l.getRegionFillColor,getLineWidth:l.getRegionLineWidth,getLineColor:l.getRegionLineColor}})}renderTextLayer(){const{id:e=G.layerName,data:t,extensionPack:n}=this.props,o=this.configManager,l="".concat(e,"-text");if(!o)return;const r=[];o.getCollisionEnabled()&&r.push(new i.Z),null!==n&&void 0!==n&&n.extensions&&r.push(...n.extensions);return new a.g({id:l,data:null===t||void 0===t?void 0:t.features,pickable:!1,parameters:{depthTest:!1},...n,extensions:r,getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getLabelText,getSize:o.getTextSize,getTextAnchor:o.getTextAnchor,getPixelOffset:o.getRegionTextPixelOffset,getAlignmentBaseline:o.getAlignmentBaseline,getColor:o.getTextColor,getBackgroundColor:o.getTextBackgroundColor,background:o.getTextBackgroundVisible(),outlineWidth:o.getTextOutlineWidth(),outlineColor:o.getTextOutlineColor(),visible:o.labelVisible,fontSettings:o.fontSettings,characterSet:o.characterSet,updateTriggers:{getRadius:o.getPointRadius,getPosition:o.getPosition,getText:o.getLabelText,getColor:o.getTextColor,getSize:o.getTextSize,getAlignmentBaseline:o.getAlignmentBaseline,getTextAnchor:o.getTextAnchor,getBackgroundColor:o.getTextBackgroundColor,getPixelOffset:o.getRegionTextPixelOffset}})}renderLayers(){return[this.renderRegionLayer(),this.renderTextLayer()]}}d()(G,"layerName","RegionLayer");var q=n(85604),$=n(48828),J=n(86183),Q=n(48744),K=n(21740),Y=n(55349),X=n.n(Y),ee=n(36827),te=n.n(ee),ne=n(46131),ie=n(94096);const oe="".concat("https://icon-cdn.maptable.com","/assets/mapicons"),ae=["location","circle","square","diamond","triangle","cross","plus","flag","star","love"],le=256,re=[0,0,0,0],se={colors:ie.O,fillMethod:"quantize",thresholds:[],aggregateBy:"sum",fillOpacity:1,reverse:!1},de=te()(ne.ge);function ce(e,t){var n;const{fillConfig:i,fieldConfig:o}=e;let a=null,l=null;const{colors:r=[],fillMethod:s,thresholds:d,aggregateBy:c,fillOpacity:u}=Object.assign({},se,i);if(null!==o&&void 0!==o&&o.fillID){const e=i.domain?i.domain:(0,ne.ge)(t.features,o.fillID,s);"quantize"===s&&(a=(0,$.Z)().domain(e).range(r)),"quantile"===s&&(a=(0,J.Z)().domain(e).range(r)),"customize"===s&&(a=(0,Q.Z)().domain((0,ne.VM)(d)).range(r))}const p=255*u,h=(null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.length)>1?(0,K.Z)(r[0],{format:"array",alpha:p}):re;function v(e){var t;if(null!==o&&void 0!==o&&o.fillID&&e){var n,i;const t=null!==(n=e.properties.points)&&void 0!==n?n:[(0,ne.oe)(e,o.fillID)];return null!==(i=(0,ne.Bb)(t,c))&&void 0!==i?i:0}return null!==(t=e.properties.point_count)&&void 0!==t?t:1}function g(e){if(!e||ae.includes(e))return{url:"".concat(oe,"/").concat(e||"location",".png"),width:le,height:le,mask:!0};{const t=e.match(/w_(\d+).*h_(\d+)/),n=Number(null===t||void 0===t?void 0:t[1]),i=Number(null===t||void 0===t?void 0:t[2]),o=le,a=i*(o/n);return{url:e.replace("w_".concat(n,",h_").concat(i),""),width:o,height:a,mask:!1}}}return{filled:!0,fillScale:a,getFillColor:e=>a?X()((0,ne.oe)(e,null===o||void 0===o?void 0:o.fillID))?re:(0,K.Z)(a((0,ne.oe)(e,null===o||void 0===o?void 0:o.fillID)),{format:"array",alpha:p}):h,getFillIcon:e=>{var t,n;const o=null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.choicesId;return g(null===i||void 0===i||null===(n=i.icons)||void 0===n?void 0:n[o])},getBigDataTableIcon:e=>{var t;const n=(0,ne.oe)(e,null===o||void 0===o?void 0:o.fillID);return g(null===i||void 0===i||null===(t=i.icons)||void 0===t?void 0:t[n])},getClusterColorValue:v,getClusterDomain:function(e){let t=[];return t=null!==o&&void 0!==o&&o.fillID?de(e.map((e=>{var t;const n=null!==(t=e.properties.points)&&void 0!==t?t:[(0,ne.oe)(e,o.fillID)];var a;return n?{...e,properties:{...e.properties,clusterValue:(0,ne.Bb)(n,null!==(a=null===i||void 0===i?void 0:i.aggregateBy)&&void 0!==a?a:"sum")}}:e})),"clusterValue"):de(e,"point_count",null===i||void 0===i?void 0:i.fillMethod),t&&0!==t.length?t:[0,1]},getClusterFillColor:function(e,t){const n=v(e);return a?(0,K.Z)(a(n),{format:"array",alpha:p}):X()(n)?re:("quantize"===s&&(l=(0,$.Z)().domain(t).range(r)),"quantile"===s&&(l=(0,J.Z)().domain(t).range(r)),l?(0,K.Z)(l(n),{format:"array",alpha:p}):h)},getPathLayerLineColor(e,t){const n=null===o||void 0===o?void 0:o.groupByFieldID;if(!n)return h;const i=(t||[]).find((t=>{var i;return String(null===(i=t.properties)||void 0===i?void 0:i[n])===e.name}));return i?this.getFillColor(i):re}}}const ue={radius:100,fixedToMeter:!1,radiusRange:[10,100]};function pe(e,t){const{radiusConfig:n,fieldConfig:i}=e;let o=null;const{radius:a,fixedToMeter:l,radiusRange:r}=Object.assign({},ue,n);if(null!==i&&void 0!==i&&i.radiusID&&!X()(r)){const e=n.domain?n.domain:(0,ne.ge)(t.features,i.radiusID,"quantize");o=(0,N.Z)().domain(e).range(r)}const s=null!==l&&void 0!==l&&l;return{radiusScale:o,pointRadiusUnits:s?"meters":"pixels",pathLineWidthUnits:s?"meters":"pixels",getPointRadius:e=>o?X()((0,ne.oe)(e,null===i||void 0===i?void 0:i.radiusID))?0:o((0,ne.oe)(e,null===i||void 0===i?void 0:i.radiusID)):a,getRadiusRange:()=>r}}const he=[255,255,255,255],ve={colors:ie.O,strokeMethod:"quantize",thresholds:[],widthRange:[1,10],strokeWeight:1,reverse:!1,strokeOpacity:1};function ge(e,t){var n;const{outlineConfig:i,fieldConfig:o}=e;let a=null,l=null;const{colors:r,strokeWeight:s,strokeOpacity:d,strokeMethod:c,thresholds:u,widthRange:p}=Object.assign({},ve,i);if(null!==o&&void 0!==o&&o.outlineID){const e=null!==i&&void 0!==i&&i.domain?null===i||void 0===i?void 0:i.domain:(0,ne.ge)(t.features,null===o||void 0===o?void 0:o.outlineID,c);"quantize"!==c||X()(r)||(l=(0,$.Z)().domain(e).range(r)),"quantile"!==c||X()(r)||(l=(0,J.Z)().domain(e).range(r)),"customize"!==c||X()(r)||(l=(0,Q.Z)().domain((0,ne.VM)(u)).range(r))}if(null!==o&&void 0!==o&&o.outlineWidthID){const e=(0,ne.ge)(t.features,o.outlineWidthID,"continuous");p&&(a=(0,N.Z)().domain(e).range(p))}const h=255*d,v=s,g=(null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.length)>1?(0,K.Z)(r[0],{format:"array",alpha:h}):he;return{outlineWidthScale:a,outlineStrokeScale:l,getLineWidth:e=>a?a((0,ne.oe)(e,null===o||void 0===o?void 0:o.outlineWidthID)):v,getLineColor:e=>l?X()((0,ne.oe)(e,null===o||void 0===o?void 0:o.outlineID))?he:(0,K.Z)(l((0,ne.oe)(e,null===o||void 0===o?void 0:o.outlineID)),{format:"array",alpha:h}):g,lineWidthMinPixels:0,lineWidthMaxPixels:100,lineCapRounded:!0,lineJointRounded:!0,lineWidthUnits:"pixels",stroked:!0,strokeAlign:null===i||void 0===i?void 0:i.align}}var fe=n(95094),me=n(18937),ye=n(41176),we=n(89063),be=n.n(we),Ce=n(18765),xe=n.n(Ce);const Ie={enable:!1,height:100,multiplier:1,scale:"linear",heightRange:[0,100],aggregateBy:"sum"};function je(e,t){const{elevationConfig:n,fieldConfig:i}=e;let o=null,a=null;const{enable:l,multiplier:r,scale:s,heightRange:d,aggregateBy:c,height:u}=Object.assign({},Ie,n);if(null!==i&&void 0!==i&&i.elevationID){const e=xe()(t.features,(e=>"Polygon"===e.geometry.type||"MultiPolygon"===e.geometry.type)),a=n.domain?n.domain:(0,ne.ge)(e,i.elevationID,"quantize");"linear"===s&&(o=(0,N.Z)().domain(a).range(d)),"log"===s&&(o=(0,me.Z)().domain(a).range(d)),"sqrt"===s&&(o=(0,ye._b)().domain(a).range(d))}return{getExtruded:()=>l,getElevationScale:()=>r,getElevation:e=>o?null!==i&&void 0!==i&&i.elevationID?o((0,ne.oe)(e,null===i||void 0===i?void 0:i.elevationID)):o(u):u,getElevationRange:()=>d,getElevationValue(e,t){var n,r;if(!l)return 0;let s=null!==(n=be()(e))&&void 0!==n?n:0;if(null!==i&&void 0!==i&&i.elevationID&&c){var d;const n=W()(e,(e=>{var t;return null!==(t=(0,ne.oe)(e,i.elevationID))&&void 0!==t?t:0}));if(s=null!==(d=(0,ne.Bb)(n,c))&&void 0!==d?d:0,o&&t)return a=a||function(e){const t=W()(e,(e=>{var t;const n=W()(e.points,(e=>{var t;return null!==(t=(0,ne.oe)(e.source,null===i||void 0===i?void 0:i.elevationID))&&void 0!==t?t:0}));return null!==(t=(0,ne.Bb)(n,c))&&void 0!==t?t:0}));return[Math.min(...t),Math.max(...t)]}(t),o.domain(a),o(s)}return null!==(r=s)&&void 0!==r?r:0}}}const Me={threshold:.05};function ke(e){var t;const{heatmapConfig:n,radiusConfig:i,fieldConfig:o}=e,{threshold:a}=Object.assign({},Me,n);return{radiusPixels:null!==(t=null===i||void 0===i?void 0:i.radius)&&void 0!==t?t:30,threshold:a,getWeight(e){var t;return null!==o&&void 0!==o&&o.weightID?null!==(t=(0,ne.oe)(e,null===o||void 0===o?void 0:o.weightID))&&void 0!==t?t:0:1}}}const Te={cellSize:10,coverage:1};function Ee(e){const{gridConfig:t}=e,{cellSize:n,coverage:i}=Object.assign({},Te,t);return{getCellSize:()=>1e3*(null!==n&&void 0!==n?n:Te.cellSize),getCoverage:()=>i}}var Pe=n(40978);const Oe=[255,255,255,255],Se={width:1,widthRange:[1,1],originColor:"#08519c",destinationColor:"#eff3ff",type:"line"};function _e(e,t,n){const{odLineConfig:i,fieldConfig:o}=e;let a=null;const{widthRange:l,width:r,originColor:s,destinationColor:d,type:c}=Object.assign({},Se,i);if(null!==o&&void 0!==o&&o.outlineID&&l){const e=i.domain?i.domain:(0,ne.ge)(t.features,o.outlineID,"continuous");a=(0,N.Z)().domain(e).range(l)}return{getODLineType:()=>c,getTargetPosition(e){if(null!==o&&void 0!==o&&o.destinationID)try{const t=(0,ne.oe)(e,o.destinationID);return(0,Pe.be)(t).coordinates}catch{return(0,Pe.be)(e.geometry).coordinates}return(0,Pe.be)(e.geometry).coordinates},getOdLineWidth:e=>a?a((0,ne.oe)(e,null===o||void 0===o?void 0:o.outlineID)):r,getSourceColor(t){var i,a;return(0,ne.oe)(t,null===o||void 0===o?void 0:o.fillID)&&n.fillScale?(0,K.Z)(n.fillScale((0,ne.oe)(t,null===o||void 0===o?void 0:o.fillID)),{format:"array",alpha:255*(null!==(i=null===(a=e.fillConfig)||void 0===a?void 0:a.fillOpacity)&&void 0!==i?i:1)}):s?(0,K.Z)(s,{format:"array",alpha:255}):Oe},getTargetColor(t){var i,a;return(0,ne.oe)(t,null===o||void 0===o?void 0:o.fillID)&&n.fillScale?(0,K.Z)(n.fillScale((0,ne.oe)(t,null===o||void 0===o?void 0:o.fillID)),{format:"array",alpha:255*(null!==(i=null===(a=e.fillConfig)||void 0===a?void 0:a.fillOpacity)&&void 0!==i?i:1)}):d?(0,K.Z)(d,{format:"array",alpha:255}):Oe}}}var Ne=n(88406),De=n(22732),Le=n(33194);const Ae=[255,255,255,255],Re={enable:!1,colors:ie.O,fillMethod:"quantize",thresholds:[],fillOpacity:1,reverse:!1};function Ze(e,t){const{fieldConfig:n,fillConfig:i}=e;let o=null,a=null,l=null;const r=Object.assign({},Re,e.bivariateFillConfig);if(null!==n&&void 0!==n&&n.fillID&&null!==n&&void 0!==n&&n.bivariateFillID&&r.enable){const s=r.domain?r.domain:(0,ne.ge)(t.features,n.bivariateFillID,r.fillMethod),d=i.domain?i.domain:(0,ne.ge)(t.features,n.fillID,i.fillMethod);l=function(e,t){const{mixedColorHigh:n,mixedColorLow:i,colorHigh:o,bivariateColorHigh:a}=(0,ne.pE)([e.colors[0],e.colors[e.colors.length-1],t.colors[0],t.colors[t.colors.length-1]],[e.fillOpacity,t.fillOpacity]),l=(0,Le.Z)((0,ne.s8)(i),(0,ne.s8)(o)),r=(0,Le.Z)((0,ne.s8)(a),(0,ne.s8)(n));return(e,t)=>{var n;const i=(0,Le.Z)(l(e),r(e)),o=null===(n=(0,De.ZP)(i(t)))||void 0===n?void 0:n.clamp().rgb();return o?[o.r,o.g,o.b,255*o.opacity]:Ae}}(e.fillConfig,e.bivariateFillConfig);const c=[...(0,Ne.Z)(0,1,1/i.colors.length),1];"quantize"===i.fillMethod&&(o=(0,$.Z)().domain(d).range(c)),"quantile"===i.fillMethod&&(o=(0,J.Z)().domain(d).range(c)),"customize"===i.fillMethod&&(o=(0,Q.Z)().domain((0,ne.VM)(i.thresholds)).range(c)),"quantize"===r.fillMethod&&(a=(0,$.Z)().domain(s).range(c)),"quantile"===r.fillMethod&&(a=(0,J.Z)().domain(s).range(c)),"customize"===r.fillMethod&&(a=(0,Q.Z)().domain((0,ne.VM)(r.thresholds)).range(c))}return{getBlendColor(e){var t,i,r,s,d,c,u,p;const h=null!==(t=(0,ne.oe)(e,null===n||void 0===n?void 0:n.bivariateFillID))&&void 0!==t?t:0,v=null!==(i=(0,ne.oe)(e,null===n||void 0===n?void 0:n.fillID))&&void 0!==i?i:0,g=null!==(r=null===(s=o)||void 0===s?void 0:s(v))&&void 0!==r?r:0,f=null!==(d=null===(c=a)||void 0===c?void 0:c(h))&&void 0!==d?d:0;return null!==(u=null===(p=l)||void 0===p?void 0:p(g,f))&&void 0!==u?u:Ae}}}const Fe={fadeTrail:!0,trailLength:120,capRounded:!1,jointRounded:!1,animation:!1,speed:1,currentTime:!1,iconSize:20};function ze(e,t,n){const{fieldConfig:i,tripsConfig:o,outlineConfig:a}=e,{fadeTrail:l,trailLength:r,animation:s,capRounded:d,jointRounded:c,speed:u,icon:p,iconSize:h}=Object.assign({},Fe,o);return{getTripColor(e){let{path:t}=e;return n.getFillColor(t[0])},getTripWidth(){var e;return null!==(e=null===a||void 0===a?void 0:a.strokeWeight)&&void 0!==e?e:0},getCapRounded:()=>d,getJointRounded:()=>c,getFadeTrail:()=>l,getTrailLength:()=>r,getTripsAnimation:()=>s,getTripsSpeed:()=>u,getTripsPath(e){let{path:t}=e;return W()(t,(e=>e.geometry.coordinates))},getTimestamps(e){let{path:t}=e;return null!==i&&void 0!==i&&i.timestampID?W()(t,(e=>(0,ne.oe)(e,null===i||void 0===i?void 0:i.timestampID))):[]},getScaledTimestamps(e){let{scaledTimestamps:t}=e;return t},getTripsIcon:()=>p,getTripsIconSize:()=>h,getTripsText(e){let{path:t,id:n}=e;return(0,ne.oe)(t[0],"".concat(null===i||void 0===i?void 0:i.labelID,"-labelFieldID"))}}}const Be=[0,0,0,0],Ve={colors:ie.O,waypointOpacity:.8,waypointSize:4,isCustomEndpointColor:!1,endpointSize:4,endpointOpacity:.8},He={radius:5,fixedToMeter:!1,radiusRange:[1,100]};function We(e,t){var n,i,o;const{pathConfig:a,fieldConfig:l,radiusConfig:r,fillConfig:s}=e,{colors:d,waypointOpacity:c,endpointOpacity:u}=Object.assign({},Ve,a),{radius:p,radiusRange:h}=Object.assign({},He,r);let v=null;const{aggregateBy:g}=s,f=255*c,m=255*u,y=Array.isArray(d)&&(null===d||void 0===d||null===(n=d[0])||void 0===n?void 0:n.length)>1?(0,K.Z)(d[0],{format:"array",alpha:f}):"string"===typeof d?(0,K.Z)(d,{format:"array",alpha:f}):Be;return function(e){const n=null===l||void 0===l?void 0:l.groupByFieldID;if(!n)return v;const i=t.features.filter((e=>{var t;return"Point"===(null===(t=e.geometry)||void 0===t?void 0:t.type)})),o=V()(i,(e=>{var t;return null===(t=e.properties)||void 0===t?void 0:t[n]})),a=W()(o,((i,o)=>{const a=(t.features||[]).filter((e=>{var t;return String(null===(t=e.properties)||void 0===t?void 0:t[n])===o&&"Point"===e.geometry.type}));if(!a)return 1;const r=W()(a,(e=>{var t;return null!==(t=(0,ne.oe)(e,l.radiusID))&&void 0!==t?t:0}));return(0,ne.Bb)(r,e)||1}));v=(0,N.Z)().domain([Math.min(...a),Math.max(...a)]).range(null!==h&&void 0!==h?h:[10,100])}(g),{filled:!0,pathWayPointSize:a.waypointSize,pathEndpointSize:a.endpointSize,pathCapRounded:!0,pathJointRounded:!0,getPathWayPointVisible:null!==(i=a.showWaypoint)&&void 0!==i&&i,getPathEndPointVisible:null!==(o=a.isCustomEndpointColor)&&void 0!==o&&o,getPathLayerLineWidth:function(e,t){if(null===l||void 0===l||!l.radiusID||!v)return p;const n=null===l||void 0===l?void 0:l.groupByFieldID;if(!n)return p;const{aggregateBy:i}=s,o=(t||[]).filter((t=>{var i;return String(null===(i=t.properties)||void 0===i?void 0:i[n])===e.name&&"Point"===t.geometry.type}));if(!o)return p;const a=W()(o,(e=>{var t;return null!==(t=(0,ne.oe)(e,l.radiusID))&&void 0!==t?t:0})),r=(0,ne.Bb)(a,i);return v(r||1)},getPathStartPointsFillColor:()=>a.startPointColor?(0,K.Z)(a.startPointColor,{format:"array",alpha:m}):Be,getPathEndPointsFillColor:()=>a.endpointColor?(0,K.Z)(a.endpointColor,{format:"array",alpha:m}):Be,getPathWayPointsFillColor:()=>y}}var Ue=n(38942);function Ge(e,t){return n=>{var i;const o=null!==(i=null===t||void 0===t?void 0:t.extensions)&&void 0!==i?i:[];return{...[q.R,ce,pe,ge,fe.X,je,ke,Ee,_e,Ze,ze,We,Ue.I,...o].reduce(((t,i)=>(Object.assign(t,i(e,n,t)),t)),{}),config:e}}}},9626:(e,t,n)=>{"use strict";n.d(t,{g:()=>g});var i=n(57323),o=n.n(i),a=n(32603),l=n(55788),r=n(34929);const[s,d,c,u]=[0,1,2,3];class p extends l.Z{getShaders(){const e=super.getShaders();let t=e.vs;return t=t.replaceAll("padding.","_padding."),t=t.replace("void main(void) {","void main(void) {\n  vec4 _padding = padding + instancePixelOffsets.xyxy * vec4(1.0, 1.0, -1.0, -1.0);"),{...e,vs:t}}}o()(p,"layerName","EnhancedTextBackgroundLayer");class h extends r.Z{filterSubLayer(e){let{layer:t,renderPass:n}=e;if(t.id.includes("fill"))return!0;const i=t.id.includes("background");return"collision"===n?i:!i}}o()(h,"layerName","EnhancedTextLayer");const v={...r.Z.defaultProps};class g extends a.Z{calculatePixelOffset(){const{getTextAnchor:e,getAlignmentBaseline:t,getSize:n,getRadius:i=1,isIconLayer:o,getPixelOffset:a}=this.props,l="function"===typeof e?e():e,r="function"===typeof t?t():t,s="function"===typeof n?n():n,d="middle"===l?0:"start"===l?1:-1,c="center"===r?0:"bottom"===r?1:-1,u=s/4,p=1.25*s,h=1.25*(o?1/3:1);return"function"===typeof i?(e,t)=>{const[n,o]="function"===typeof a?a(e,t):[0,0],l=(t?i(e,t):1)*h;return[d*(l+u+n),c*(l+p+o)]}:()=>[d*(i*h+u),c*(i*h+p)]}calculateBackgroundPadding(){const{getTextAnchor:e,getAlignmentBaseline:t,getSize:n}=this.props,i="function"===typeof e?e():e,o="function"===typeof t?t():t,a="function"===typeof n?n():n,l=2*a,r=a,p=[0,0,0,0];return"top"===o?p[d]=r:"bottom"===o?p[u]=r:(p[d]=.5*r,p[u]=.5*r),"start"===i?p[s]=l:"end"===i?p[c]=l:(p[s]=.5*l,p[c]=.5*l),p}renderTextLayer(e,t){let{updateTriggers:n={},...i}=t;const{data:o,characterSet:a,fontFamily:l,fontSettings:r,fontWeight:s,outlineColor:d,outlineWidth:c,sizeScale:u,getAlignmentBaseline:v,getColor:g,getPosition:f,getTextAnchor:m,getSize:y,updateTriggers:w,background:b,getBackgroundColor:C}=this.props;return new h(this.getSubLayerProps({id:e,data:o,characterSet:a,fontFamily:l,fontSettings:r,fontWeight:s,outlineColor:d,outlineWidth:c,sizeScale:u,getSize:y,getAlignmentBaseline:v,getColor:g,getPosition:f,getTextAnchor:m,background:b,getBackgroundColor:C,updateTriggers:{...w,...n,getPixelOffset:[w.getRadius,w.getTextAnchor,w.getAlignmentBaseline,w.getSize,u]}}),{_subLayerProps:{background:{type:p,getCollisionPriority:1},characters:{getCollisionPriority:1}}},i)}renderLayers(){const{getText:e,updateTriggers:t,background:n}=this.props,i=this.calculatePixelOffset(),o=this.calculateBackgroundPadding(),a=n?"fill":"transparent";return this.renderTextLayer("".concat(t.getText,"-").concat(a),{backgroundPadding:o,getText:e,getPixelOffset:i,background:!0})}}o()(g,"layerName","PointLabelLayer"),o()(g,"defaultProps",v)},93611:(e,t,n)=>{"use strict";n.d(t,{IH:()=>r,kr:()=>a,nB:()=>l,w5:()=>d});var i=n(55349),o=n.n(i);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;function n(e){console.log(e.statusMessage)}e&&e.addEventListener&&e.addEventListener("webglcontextcreationerror",n,!1);let i=e.getContext("webgl2",t);return i=i||e.getContext("experimental-webgl2",t),i||(i=e.getContext("webgl",t),i=i||e.getContext("experimental-webgl",t)),e.removeEventListener&&e.removeEventListener("webglcontextcreationerror",n,!1),i};function l(e,t,n){Object.defineProperty(t,"clientWidth",{get:()=>t.width/n}),Object.defineProperty(t,"clientHeight",{get:()=>t.height/n}),Object.defineProperty(t,"parentElement",{get:()=>e.getContainer().querySelector(".maptalks-canvas-layer")})}function r(e,t){const n=s(e),i=s(t),o=Math.max(n,i),a=Math.pow(10,o);return(e*a+t*a)/a}function s(e){if(e%1!==0){const t=e.toString().split(".");if(2===t.length)return t[1].length}return 0}function d(e,t){var n,i;return null!==(n=null===(i=e.filter((e=>{var n;return!o()(null===(n=e.properties)||void 0===n?void 0:n[t])})))||void 0===i?void 0:i.sort(((e,n)=>{var i,o;const a=new Date(null===(i=e.properties)||void 0===i?void 0:i[t]),l=new Date(null===(o=n.properties)||void 0===o?void 0:o[t]);var r,s;return isNaN(a.getTime())||isNaN(l.getTime())?parseInt(null===(r=e.properties)||void 0===r?void 0:r[t])-parseInt(null===(s=n.properties)||void 0===s?void 0:s[t]):a.getTime()-l.getTime()})))&&void 0!==n?n:[]}},61469:(e,t,n)=>{"use strict";n.d(t,{K:()=>d,N:()=>s});var i=n(64201),o=n(21778),a=n(23502),l=n.n(a);const r=(0,i.Sn)();let s=null;async function d(e){const t=(await async function(e){switch(e){case"en-US":return n.e(401).then(n.t.bind(n,27641,19));case"ja-JP":return n.e(967).then(n.t.bind(n,656,19));default:return n.e(327).then(n.t.bind(n,25691,19))}}(e)).default;return s=(0,o.d)({locale:e,messages:{...l()(t,(e=>"__NOT_TRANSLATED__"===e))}},r),{intl:s}}},72120:(e,t,n)=>{"use strict";n.d(t,{Pc:()=>i,RG:()=>a,Se:()=>l,Y8:()=>o});const i={type:"MultiPolygon",coordinates:[[[[114.0437,22.5043],[114.033,22.4801],[114.0103,22.4759],[113.9989,22.4893],[113.9783,22.4594],[113.9574,22.4499],[113.9376,22.4263],[113.9143,22.421],[113.9123,22.4035],[113.9201,22.381],[113.9372,22.3592],[113.9765,22.3816],[114,22.3618],[114.03,22.3554],[114.0798,22.369],[114.1109,22.3666],[114.1294,22.3175],[114.1599,22.3155],[114.1698,22.293],[114.1931,22.3028],[114.1966,22.3202],[114.2221,22.3059],[114.2398,22.2862],[114.2605,22.3012],[114.2645,22.2755],[114.2739,22.2625],[114.293,22.276],[114.3122,22.2984],[114.3034,22.3105],[114.2722,22.3225],[114.2555,22.3577],[114.2766,22.3914],[114.2855,22.3957],[114.3348,22.3736],[114.3443,22.3475],[114.3732,22.3543],[114.3907,22.3864],[114.3754,22.4108],[114.3975,22.4241],[114.3977,22.4361],[114.3695,22.4379],[114.3697,22.4553],[114.3416,22.4445],[114.3273,22.4606],[114.3215,22.4805],[114.2676,22.4335],[114.238,22.4369],[114.2133,22.427],[114.1968,22.4386],[114.1975,22.4528],[114.2134,22.4733],[114.231,22.4723],[114.2477,22.4551],[114.307,22.4832],[114.303,22.4995],[114.2582,22.5477],[114.2267,22.5437],[114.2176,22.5559],[114.1893,22.5541],[114.1604,22.5615],[114.1475,22.5415],[114.1066,22.5344],[114.0886,22.5364],[114.0437,22.5043]]],[[[114.0478,22.3463],[114.0202,22.3331],[113.9709,22.3005],[113.9473,22.2971],[113.9326,22.2814],[113.916,22.2928],[113.8972,22.2912],[113.8844,22.2699],[113.8734,22.2687],[113.8613,22.247],[113.8416,22.2339],[113.842,22.2082],[113.8677,22.2028],[113.8833,22.2196],[113.9121,22.2064],[113.9308,22.2103],[113.9262,22.2257],[113.9734,22.2407],[113.9871,22.2122],[114.0174,22.2263],[113.9947,22.2398],[114.0215,22.2669],[114.0172,22.3098],[114.0552,22.3107],[114.0559,22.3344],[114.0478,22.3463]]],[[[114.2282,22.2833],[114.1948,22.2928],[114.1797,22.2807],[114.1388,22.2903],[114.1164,22.2747],[114.1378,22.2485],[114.1788,22.2442],[114.2103,22.2185],[114.23,22.2319],[114.2503,22.2276],[114.2574,22.2617],[114.2282,22.2833]]],[[[113.9356,22.321],[113.8932,22.3109],[113.8956,22.2937],[113.9159,22.2953],[113.9339,22.2906],[113.9422,22.3118],[113.9356,22.321]]],[[[114.1075,22.3631],[114.079,22.3586],[114.0928,22.3383],[114.1177,22.331],[114.1075,22.3631]]],[[[114.3057,22.3756],[114.3116,22.3431],[114.3274,22.3509],[114.3176,22.3781],[114.3057,22.3756]]]]},o={type:"MultiPolygon",coordinates:[[[[113.5733,22.1658],[113.5395,22.1625],[113.5517,22.1446],[113.5501,22.1121],[113.5704,22.112],[113.5886,22.147],[113.5733,22.1658]]],[[[113.5535,22.2155],[113.5346,22.2074],[113.5317,22.1793],[113.5586,22.1872],[113.5535,22.2155]]]]},a={type:"MultiPolygon",coordinates:[[[[121.5118,22.0812],[121.5077,22.0555],[121.5716,22.0036],[121.5677,22.0857],[121.5118,22.0812]]],[[[119.6559,23.6073],[119.6032,23.5984],[119.5991,23.5305],[119.683,23.5658],[119.6559,23.6073]]],[[[121.5502,25.2909],[121.4514,25.2485],[121.4071,25.1849],[121.3354,25.1253],[121.259,25.1216],[121.103,25.0661],[121.034,25.02],[120.9076,24.8209],[120.9117,24.7658],[120.829,24.6731],[120.7829,24.6622],[120.7232,24.6055],[120.6874,24.5238],[120.5825,24.3683],[120.5279,24.3134],[120.4887,24.2053],[120.4317,24.0976],[120.3303,23.9888],[120.2875,23.8756],[120.1841,23.7978],[120.1763,23.6987],[120.1439,23.6493],[120.1396,23.5497],[120.1195,23.4958],[120.1634,23.3929],[120.0968,23.2875],[120.1083,23.252],[120.069,23.1846],[120.0839,23.124],[120.0386,23.0635],[120.1559,22.9888],[120.2092,22.8178],[120.274,22.6836],[120.2504,22.6566],[120.325,22.5303],[120.585,22.3722],[120.6364,22.3128],[120.6857,22.209],[120.7176,22.0944],[120.6859,22.027],[120.7129,21.9835],[120.8346,21.919],[120.8455,21.9876],[120.8926,22.0507],[120.8911,22.3077],[120.9766,22.5538],[121.0343,22.6672],[121.1262,22.7185],[121.1999,22.7987],[121.1855,22.8333],[121.2349,22.8669],[121.3106,22.9727],[121.3677,23.0969],[121.4016,23.1294],[121.3957,23.1947],[121.4299,23.2861],[121.4658,23.3224],[121.4756,23.3905],[121.5144,23.4888],[121.5495,23.718],[121.5728,23.7603],[121.6113,23.9337],[121.6469,24.0094],[121.6189,24.0878],[121.6634,24.1363],[121.6748,24.2084],[121.741,24.2587],[121.8203,24.4622],[121.8735,24.5345],[121.8221,24.7421],[121.8356,24.8697],[121.9266,24.9695],[121.95,25.0195],[121.9207,25.1133],[121.7067,25.166],[121.6185,25.2767],[121.5502,25.2909]]]]},l=[[125.58839973,53.54714207],[129.2662002,49.55520405],[135.09,48.46],[133.42875043,44.63343451],[129.51,42.42],[125.40941331,40.54131566],[121.58,36.82],[123.35596532,29.66701186],[118.45,24.44],[116.21310015,22.69956384],[114.92862948,22.59018828],[114.69627683,22.39192848],[114.19524526,22.55964984],[114.09111587,22.52215452],[113.91677972,22.41891965],[113.71716877,22.31163189],[113.56918245,22.22062318],[113.51755783,22.20434412],[113.54311308,22.14799659],[113.56866834,22.08932798],[113.39737263,21.99057105],[112.11201474,21.74283406],[110.42237361,21.25453652],[111.4120249,18.68123209],[108.83210058,18.04226732],[107.46459293,21.51802018],[105.35262605,23.18026555],[102.85310565,22.35430024],[101.7982473,21.21864169],[100.50703361,21.37159309],[97.53,23.85],[98.68,27.54],[97.17,27.77],[92.81650152,26.83707646],[90.45641823,27.99544544],[88.76,27.12],[82.86935815,29.80621868],[79.23690964,33.24518669],[77.48355782,35.44051904],[76.23318539,37.22053026],[74.58871629,38.73533281],[73.12,39.81],[75.06606578,40.72854254],[77.83367076,41.4887545],[79.97194236,42.34467564],[80.72671603,43.78696634],[79.90952679,44.64301945],[81.23,45.32],[87.35,49.09],[95.27540337,45.28116598],[105.39785766,41.99802896],[114.48378989,47.62177024],[120.19919986,53.3571649],[125.58839973,53.54714207]]},94908:(e,t,n)=>{"use strict";n.d(t,{isValidCoordinate:()=>r,transformGCJ02ToWGS84:()=>l,transformWGS84ToGCJ02:()=>a});n(57323),n(80128),n(40517);var i=n(37383),o=(n(58205),n(57764));function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return i.default.transform(e,i.default.WGS84,i.default.GCJ02);return!t||(0,o.$)(e)?i.default.transform(e,i.default.WGS84,i.default.GCJ02):e}function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return i.default.transform(e,i.default.GCJ02,i.default.WGS84);return!t||(0,o.$)(e)?i.default.transform(e,i.default.GCJ02,i.default.WGS84):e}function r(e){if(!e||!Array.isArray(e))return!1;const[t,n]=e;return"number"===typeof t&&"number"===typeof n&&(!isNaN(t)&&!isNaN(n)&&!(t<-180||t>180||n<-90||n>90))}},57764:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var i=n(40517),o=n(22787),a=n(72120);const l=e=>{const[t,n]=e;return t>=119.3&&t<=124.5&&n>=21.8&&n<=25.3?(0,o.Z)(i.xm(e),i.tw(a.RG.coordinates)):t>=113.8&&t<=114.5&&n>=22.1&&n<=22.6?(0,o.Z)(i.xm(e),i.tw(a.Pc.coordinates)):t>=113.5&&t<=113.6&&n>=22.1&&n<=22.2&&(0,o.Z)(i.xm(e),i.tw(a.Y8.coordinates))};function r(e){const[t,n]=e;if(!(t>=73&&t<=135&&n>=18&&n<=53))return!1;if(l(e))return!1;const r=i.yu([a.Se]),s=i.xm([t,n]);return(0,o.Z)(s,r)}},6404:(e,t,n)=>{"use strict";n.d(t,{RI:()=>v,Vq:()=>p});var i=n(33718),o=n(89166),a=n(91100),l=n(71105),r=n(15905),s=n(95620),d=n(68429),c=n(27954),u=n(94553);function p(e){const t=(0,s.Z)(),{width:n=400,variant:l="",visible:r,...p}=e,h={};"plain"===l&&(h.footer=null,h.closable=!1);let v=e.footer;return"plain"!==l&&null!==e.footer&&(v=e.footer||(0,u.jsxs)("div",{className:(0,i.default)(c.Z.footer,e.footerClassName,{[c.Z.centered]:e.centered||e.footCentered}),children:[e.footerAddon&&(0,u.jsx)("div",{className:c.Z.footerAddon,children:e.footerAddon}),e.onCancel&&null!==e.cancelText&&(0,u.jsx)(o.ZP,{size:"middle",onClick:e.onCancel,...e.cancelButtonProps,children:e.cancelText||t.$t({id:"47FYwb",defaultMessage:"Cancel"})}),e.onOk&&(0,u.jsx)(o.ZP,{size:"middle",type:"primary",onClick:e.onOk,...e.okButtonProps,children:e.okText||t.$t({id:"N2IrpM",defaultMessage:"Confirm"})})]})),(0,u.jsxs)(a.Z,{...h,...p,open:r,width:n,footer:null,zIndex:e.zIndex||1030,transitionName:"dialog-animation",closeIcon:(0,u.jsx)(d.Z,{type:"close"}),className:(0,i.default)(c.Z.dialog,e.className,"plain"===l&&c.Z.plain),wrapClassName:(0,i.default)(c.Z.dialog,e.wrapClassName),children:[(0,u.jsx)("div",{className:c.Z.body,children:e.children}),v]})}const h=e=>(0,u.jsx)(o.ZP,{...e});function v(e){const{items:t,isInline:n=!1,renderItem:o=h}=e;return(0,u.jsxs)(l.Z,{gutter:12,className:(0,i.default)(e.className,c.Z.buttonGroup),"data-inline":n,children:[e.children&&(0,u.jsx)(r.Z,{style:{marginRight:"auto"},children:e.children}),t.map(((e,t)=>(0,u.jsx)(r.Z,{children:o(e)},t)))]})}},56912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(47752),o=n(71105),a=n(10925),l=n(15905),r=n(68429),s=n(11546),d=n(47587),c=n(53029),u=n(95620);const p="fieldTypeSelector_nameWrapper__Tzh-f",h="fieldTypeSelector_content__5iUKG",v="fieldTypeSelector_name__joXHP",g="fieldTypeSelector_icon__Cpdmh";var f=n(94553);const{Option:m}=d.Select,y=e=>{let{onChange:t,options:n=[],value:y,multiple:w,defaultOptions:b=[],notFoundContent:C,getPopupContainer:x,testID:I="field-select",...j}=e;const M=(0,u.Z)(),k=[...b,...n];return(0,f.jsx)(d.Select,{defaultActiveFirstOption:!1,onChange:t,value:y,mode:w?"multiple":void 0,getPopupContainer:x||(e=>e.parentNode),notFoundContent:C,"data-testid":I,placeholder:M.$t({id:"dUZ/2a",defaultMessage:"Select a field"}),...j,children:k.map((e=>{var t,n;return(0,f.jsx)(m,{value:e.id,disabled:e.disabled,name:e.name,children:(0,f.jsx)(i.Z,{title:e.tooltip,destroyOnHidden:!0,mouseLeaveDelay:0,children:(0,f.jsxs)(o.Z,{justify:"space-between",align:"middle",children:[(0,f.jsx)("div",{className:p,children:(0,f.jsxs)("span",{className:h,children:[e.type?null!==(t=e.typeOptions)&&void 0!==t&&t.textCoordinateType?(0,f.jsx)(r.Z,{className:g,type:s.Z9.multiLineText.icon}):(0,f.jsx)(r.Z,{className:g,type:null===(n=s.Z9[e.type])||void 0===n?void 0:n.icon}):null,(0,f.jsx)(a.Z.Text,{title:e.name,ellipsis:{tooltip:{title:e.name,destroyOnHidden:!0,mouseEnterDelay:.5}},className:v,children:e.name})]})}),e.shouldPro&&(0,f.jsx)(l.Z,{children:(0,f.jsx)(c.Z,{})})]})})},e.id)}))})}},45818:(e,t,n)=>{"use strict";n.d(t,{BQ:()=>v,sz:()=>w,L0:()=>y,t1:()=>u,xu:()=>c});var i=n(95620),o=n(15525),a=n(44459);const l={aggregateHelpDocFeiShu:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-ZK0Qdl8LBo0NvrxA61vcbHGRnwk","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc#part-FiSxdx1lros4Bhxlf7VcnqYnnNf","lark-en-US":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh","lark-zh-CN":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh"},aggregateHelpDoc:{"en-US":"https://maptable.feishu.cn/wiki/U7snwsjCdiGoh7kEsJMcHOvVnFe?fromScene=spaceOverview&v=1.0.10.7392#share-DHVTdCLJCoaeYFxHNbxcMYCynnh","zh-CN":"https://maptable.feishu.cn/wiki/AyEkw6SxHiMQVykBB4acuCsCnKe"},visualTypeFeiShu:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-WGB9dynKyoznKfxc02YcRI4an0f","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc#share-MBGzdn6FqocE51xe1ZXcdxD1nWd"},visualType:{"en-US":"https://maptable.feishu.cn/wiki/KG4rw1qGfieOIsk2H6ccoPBxn6f#V00ddc0pAoWU2DxTf9XcQtcinjg","zh-CN":"https://maptable.feishu.cn/wiki/L46hwHWrxib1m2krdPrc86xnnph#share-SFqXdMUTaonPZpxA3S3cqGGsnLf"},coordinateType:{"en-US":"https://maptable.feishu.cn/wiki/OTcBwMV5SiNTjukm8dXcLd6Vnrd?fromScene=spaceOverview#share-GB0qdlTTnoFzUpxHCc8c9ynLnee","zh-CN":"https://maptable.feishu.cn/wiki/Q8EmwPqz9ikID0kCh7DcK7HJnAe?fromScene=spaceOverview","lark-en-US":"https://maptable.sg.larksuite.com/wiki/TCAtwPNtXi7EyakQ6hzueaVZsTg?fromScene=spaceOverview#share-PlV6dUbRtob1epxOviQlLmBngec","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/TCAtwPNtXi7EyakQ6hzueaVZsTg?fromScene=spaceOverview#share-PlV6dUbRtob1epxOviQlLmBngec"},sampleData:{"en-US":"https://maptable.feishu.cn/wiki/WMi0wpOCJiyHBIkCTN1cpVJFnWc?from=from_copylink","zh-CN":"https://maptable.feishu.cn/wiki/WMi0wpOCJiyHBIkCTN1cpVJFnWc?from=from_copylink"},extensionUsingForMap:{"en-US":"https://maptable.feishu.cn/wiki/U7snwsjCdiGoh7kEsJMcHOvVnFe","zh-CN":"https://maptable.feishu.cn/wiki/ItXVwNfluiF34fkxfXpcRaUYnqd"},extensionUsingForTable:{"en-US":"https://maptable.feishu.cn/wiki/SDgjwcdURigH29kBJVec9NUJnbb","zh-CN":"https://maptable.feishu.cn/wiki/QOuhwd9cgirjXfkFRc3cJrrwnag"},fieldType:{"en-US":"https://maptable.feishu.cn/wiki/FmqKwIy2IiWsp3kUWFsc6HZ7nvh","zh-CN":"https://maptable.feishu.cn/wiki/NLHwwoeHniv2ofkI6vpcUPPAnCc"},lookupField:{"en-US":"https://maptable.feishu.cn/wiki/FmqKwIy2IiWsp3kUWFsc6HZ7nvh#part-UltZdZpFwoxjprxAhRkcBxWSnRe","zh-CN":"https://maptable.feishu.cn/wiki/XPjFwpx5Li7UW8kYPDLc2YPTnOh"},syncTable:{"en-US":"https://maptable.feishu.cn/wiki/TG0XwKdddiel0Lkfaz6cDTVXnAb?fromScene=spaceOverview#share-IhIbdKb0eonEIox2e0VcdmbDn7G","zh-CN":"https://maptable.feishu.cn/wiki/UKNYw9jPDiX3Qwkkgk3c5FT4nsf?fromScene=spaceOverview#part-MxBAd2M2XolZo1xcXYqcASofnOe"},splitMode:{"en-US":"https://maptable.feishu.cn/wiki/MpKMw0qbsiG9Q6kWfSqcDXQlnKd","zh-CN":"https://maptable.feishu.cn/wiki/TSfywcxFoi9DbykNattcF94InDh"},addView:{"en-US":"https://maptable.feishu.cn/wiki/TIkwwwJN5ir1clkK9sTcTEymnie","zh-CN":"https://maptable.feishu.cn/wiki/UX1ewWW7gi3qkTkqxUjcrwOjnWd"},filterGroup:{"en-US":"https://maptable.feishu.cn/wiki/MsBrwSQgsi0NFzk2lglcgXvRnOb?fromScene=spaceOverview#part-CxiHdGeVaoxXwZxaacucmifSnFh","zh-CN":"https://maptable.feishu.cn/wiki/OoKRw3W5qinqXAkJlIPcWPWunxb?fromScene=spaceOverview#part-Uw9ndwIPxoQhQRxngiCcDmLGnmb"},importData:{"en-US":"https://maptable.feishu.cn/wiki/TG0XwKdddiel0Lkfaz6cDTVXnAb","zh-CN":"https://maptable.feishu.cn/wiki/UKNYw9jPDiX3Qwkkgk3c5FT4nsf"},importField:{"en-US":"https://maptable.feishu.cn/wiki/TG0XwKdddiel0Lkfaz6cDTVXnAb?fromScene=spaceOverview#share-VMpideKhioUTYyxZezHctv6AnXM","zh-CN":"https://maptable.feishu.cn/wiki/UKNYw9jPDiX3Qwkkgk3c5FT4nsf?fromScene=spaceOverview#share-Da6fdRhJ4o4Xk7xfUEHcRsDmnxv"},appendData:{"en-US":"https://maptable.feishu.cn/wiki/EBlCwhmvMi6TdFkrIbLcE62AnNb","zh-CN":"https://maptable.feishu.cn/wiki/FGyHw0893i2DHvkv6atcBacZnTf"},streamField:{"en-US":"https://maptable.feishu.cn/wiki/FmqKwIy2IiWsp3kUWFsc6HZ7nvh","zh-CN":"https://maptable.feishu.cn/wiki/NLHwwoeHniv2ofkI6vpcUPPAnCc"},mapToken:{"en-US":"https://maptable.feishu.cn/wiki/SDgjwcdURigH29kBJVec9NUJnbb#part-BK53dNN2bo2WWWxc6zrcPDTsn8e","zh-CN":"https://maptable.feishu.cn/wiki/QOuhwd9cgirjXfkFRc3cJrrwnag#M6jMd1jJGoX8FFx5GZYc1ENnnEc"},projectPermission:{"en-US":"https://maptable.feishu.cn/wiki/Ter9wpDf0iGYETkQbADclgH9nRb#part-W1rndalQIowFu0x5acicnaw5nSd","zh-CN":"https://maptable.feishu.cn/wiki/UdtywzlLvin5TakyA5yckGjwnPh#part-TwZudj2oHov2aRx8eYGcJs16nQc"},rolePermission:{"en-US":"https://maptable.feishu.cn/wiki/Ter9wpDf0iGYETkQbADclgH9nRb","zh-CN":"https://maptable.feishu.cn/wiki/UdtywzlLvin5TakyA5yckGjwnPh"},dataConnection:{"en-US":"https://maptable.feishu.cn/wiki/VCBdwAiAvij7GVkPfWTcCAumnOg","zh-CN":"https://maptable.feishu.cn/wiki/NgjZwSfuDiGvROkV8cecEjfKnRd"},regionExtension:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-MzUAdpGA5oNphZxhfFdcWcN9nse","zh-CN":"https://maptable.feishu.cn/wiki/Xf00w94D0iyrTjkfcZNcQJvenKe","lark-en-US":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh","lark-zh-CN":"https://maptable.larksuite.com/wiki/EzznwyGmZirRy1kNDy4uXTOPsxh"},boundariesExtension:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe#share-RcPtddtdYoss08xOiSVcM3uQnBb","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc#part-BHvhdcR6EogTMmxVTBdcGgKtnkf","lark-en-US":"https://maptable.larksuite.com/wiki/NdZUwzsOEiFhrCk0C6uuBLJusld","lark-zh-CN":"https://maptable.larksuite.com/wiki/NdZUwzsOEiFhrCk0C6uuBLJusld"},analysisExtension:{"en-US":"https://maptable.feishu.cn/wiki/H61lw7ijfitQUskjg6AcdeCZnde","zh-CN":"https://maptable.feishu.cn/wiki/BjyzwVuxviTAYckYFL3c3JhbnWb","lark-en-US":"https://maptable.larksuite.com/wiki/GuT6w8P9sid5akkvvAxu06g0s3f","lark-zh-CN":"https://maptable.larksuite.com/wiki/GuT6w8P9sid5akkvvAxu06g0s3f"},feishuQuota:{"en-US":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f","zh-CN":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f"},dashboardPricing:{"en-US":"https://maptable.feishu.cn/wiki/W1PqwMwKeicrQYk1ekCcBl88n6e","zh-CN":"https://maptable.feishu.cn/wiki/W1PqwMwKeicrQYk1ekCcBl88n6e","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd"},dashboardActiveUsers:{"en-US":"https://maptable.feishu.cn/wiki/SNRRwYVBki86umk9aJCcxzMbn4b?fromScene=spaceOverview#share-JgG0dTyWsoqDhex8snucfac8nAc","zh-CN":"https://maptable.feishu.cn/wiki/W1PqwMwKeicrQYk1ekCcBl88n6e?fromScene=spaceOverview#part-AYk9dj588o8XVmx6fficbkzvnIb","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd#share-TTfPdLpqhor0ymxFqEqlp1sLgeb","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OPc1wDtAiiK1VbkmOhXu5uLSsLd#share-TTfPdLpqhor0ymxFqEqlp1sLgeb"},dashboardIcon:{"zh-CN":"https://maptable.feishu.cn/wiki/QPmswiYUjiTsBmkJgKpcyRq4nRc","en-US":"https://maptable.feishu.cn/wiki/QPmswiYUjiTsBmkJgKpcyRq4nRc","lark-en-US":"https://maptable.sg.larksuite.com/wiki/IB81wwfjwiXT83kwxh8lWRESgge","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/IB81wwfjwiXT83kwxh8lWRESgge"},dashboardHeatmap:{"zh-CN":"https://maptable.feishu.cn/wiki/Jw67wZXDSibPn2khFF7cAndwnyf","en-US":"https://maptable.feishu.cn/wiki/Jw67wZXDSibPn2khFF7cAndwnyf","lark-en-US":"https://maptable.sg.larksuite.com/wiki/ImJ7wk2oviVW1kkwiVQl16f4gjq","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/ImJ7wk2oviVW1kkwiVQl16f4gjq"},dashboardRegion:{"en-US":"https://maptable.feishu.cn/wiki/NbmTw3CDLiGFQwkCtzIcVaObnsd","zh-CN":"https://maptable.feishu.cn/wiki/NbmTw3CDLiGFQwkCtzIcVaObnsd","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe"},credits:{"en-US":"https://maptable.feishu.cn/wiki/H3sNwdO5OiBYQ0kIka5cblyinwc","zh-CN":"https://maptable.feishu.cn/wiki/C3y9wenwxiYjzvkszQSc2Gmin4b","feishu-en-US":"https://maptable.feishu.cn/wiki/EwuSw0ZcZihBVlklhfKcSMLHnib?fromScene=spaceOverview#share-UT3gd9ArOomjgyxR8TZc1szbnTf","feishu-zh-CN":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f?fromScene=spaceOverview#share-PXcsdFgzKolGGOx1KJVcvdi5nbf"},addData:{"en-US":"https://maptable.feishu.cn/wiki/B1oKwPsuRifYkLkdDuzcoHQ2nHg?fromScene=spaceOverview#share-FwyMdXxVVoki2Kx8pdEcdTZOnIf","zh-CN":"https://maptable.feishu.cn/wiki/HDv8wZbABiOXuIkxtOYco1ypnmc?fromScene=spaceOverview#share-Otb2dMoS7oHmPuxeosPcJPCdnce","feishu-en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe?fromScene=spaceOverview#share-M8NwduGGLoOrv9xX8qycCZnXnEB","feishu-zh-CN":"https://maptable.feishu.cn/wiki/S92tw5cX2iJWUakVYCVcxqE6ng9?fromScene=spaceOverview"},howToBuyFeishu:{"en-US":"https://maptable.feishu.cn/wiki/EwuSw0ZcZihBVlklhfKcSMLHnib?fromScene=spaceOverview","zh-CN":"https://maptable.feishu.cn/wiki/SX91wSUwxivMYbkJ4VHcZAQwn6f?fromScene=spaceOverview#GcRad02cwoHcbyxHivMcDyLQnfn"},conv2vector:{"en-US":"https://maptable.feishu.cn/wiki/H3sNwdO5OiBYQ0kIka5cblyinwc","zh-CN":"https://maptable.feishu.cn/wiki/C3y9wenwxiYjzvkszQSc2Gmin4b","feishu-en-US":"https://maptable.feishu.cn/wiki/Ye9OwMPoMiRjnGk52X7c8BF2nSh?fromScene=spaceOverview","feishu-zh-CN":"https://maptable.feishu.cn/wiki/Md0UwFv77iaceaku8vvcquiSnRb?fromScene=spaceOverview"},paymentStatus:{"en-US":"https://maptable.feishu.cn/wiki/KJlYwOqfciAFfokq1qGcsfiWnRe","zh-CN":"https://maptable.feishu.cn/wiki/C64rwRHOOiq6yBkOXKhcgWujnFc","lark-en-US":"https://maptable.larksuite.com/wiki/JVCLw39jiiTSRfkinPZu2HXOsCd","lark-zh-CN":"https://maptable.larksuite.com/wiki/JVCLw39jiiTSRfkinPZu2HXOsCd","dashboard-en-US":"https://maptable.feishu.cn/wiki/VjykwUa0WiejfAkJiMBcj9EhnV6","dashboard-zh-CN":"https://maptable.feishu.cn/wiki/ETtOwMd9biUEMTkcWgPcfLe1nlc"},selectMembers:{"en-US":"https://maptable.feishu.cn/wiki/X2t5wUZHBiuHjekPgvVcM4CcnQF?fromScene=spaceOverview#share-Vd9JdPRGqoOrlCxQYiRcpUpxnWe","zh-CN":"https://maptable.feishu.cn/wiki/F4GIwx5roilAdZkYCDWcG7llnMf?fromScene=spaceOverview#share-IZzcdCVU4oMhRGx8iGNcSdaInth","lark-en-US":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe?fromScene=spaceOverview#share-DxpodLLLEo2mtCxqI1mlgSGPgmc","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe?fromScene=spaceOverview#share-DxpodLLLEo2mtCxqI1mlgSGPgmc","dashboard-lark-en-US":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe","dashboard-lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe"},geocoding:{"en-US":"https://maptable.feishu.cn/wiki/Vu7fwccvziJ7KJkLFunclaSsnE6","zh-CN":"https://maptable.feishu.cn/wiki/MvYUwHHBripOk8kTOUic9287nZg?fromScene=spaceOverview","feishu-en-US":"https://maptable.feishu.cn/wiki/Ud3gwbqboiHcRYkH2IPc0Bsfnmc","feishu-zh-CN":"https://maptable.feishu.cn/wiki/MR4Awbap8iusJgk8WyQc8Lpznbh?fromScene=spaceOverview"},geocodingExtension:{"en-US":"https://maptable.feishu.cn/wiki/SDgjwcdURigH29kBJVec9NUJnbb?fromScene=spaceOverview#share-F3ycdabgHoehSLxF7Bccj95en1X","zh-CN":"https://maptable.feishu.cn/wiki/QOuhwd9cgirjXfkFRc3cJrrwnag?fromScene=spaceOverview#share-VIk9dQglHoG0jWx106EcjfT7nSf","feishu-en-US":"https://maptable.feishu.cn/wiki/Qi2iw7gJqii71fkJSj5ciCIZnkb","feishu-zh-CN":"https://maptable.feishu.cn/wiki/MwHawIjPPiccZKkN5encLgqJncc"},regionPerformance:{"en-US":"https://maptable.feishu.cn/wiki/MJZYwdHUKiuMLakSV2lcMDgXnDe?fromScene=spaceOverview#share-DfB4dUxXEocYwAxLfXGckcxBn3e ","zh-CN":"https://maptable.feishu.cn/wiki/NbmTw3CDLiGFQwkCtzIcVaObnsd?fromScene=spaceOverview#share-JQObdQD5Eo3tiVxI11HcK5FbnAt","lark-en-US":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/OLFMwDIHZiWIc0kN0EXlcL36gIe"},dashboardUserName:{"en-US":"https://maptable.feishu.cn/wiki/F4GIwx5roilAdZkYCDWcG7llnMf?fromScene=spaceOverview#share-PKgIdIPbcoYj7dx0dIYcrwkCnKh","zh-CN":"https://maptable.feishu.cn/wiki/F4GIwx5roilAdZkYCDWcG7llnMf?fromScene=spaceOverview#share-PKgIdIPbcoYj7dx0dIYcrwkCnKh","lark-en-US":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe?fromScene=spaceOverview#share-PWv2dUPAXojbcdxG9RlleJkhg2e","lark-zh-CN":"https://maptable.sg.larksuite.com/wiki/WGdlw2bEgim9u4kPx3wu6nvYsoe?fromScene=spaceOverview#share-PWv2dUPAXojbcdxG9RlleJkhg2e"}},r=!0,s=!1,d=!1;function c(e,t,n){return p(e,t,n)}function u(e,t){return p(e,t,void 0,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}function p(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n||!t)return n;const o="zh-CN"===e?"zh-CN":"en-US";let a;if(r){var c,u,p;if(!i)a=null===(c=l[t])||void 0===c?void 0:c["dashboard-lark-"+o];if(!a)a=null===(u=l[t])||void 0===u?void 0:u["dashboard-"+o];if(!i&&!a)a=null===(p=l[t])||void 0===p?void 0:p["lark-"+o]}else if(d){var h;a=null===(h=l[t])||void 0===h?void 0:h["lark-"+o]}var v,g;!a&&(s||r||d)&&(a=null===(v=l[t])||void 0===v?void 0:v["feishu-"+o]);a||(a=null===(g=l[t])||void 0===g?void 0:g[o]);return a}var h=n(94553);const v=e=>{let{text:t,linkUrl:n,link:l,isFeishuDashboard:r,useRouterLink:s,className:d,values:c}=e;const u=p((0,i.Z)().locale,l,n,r);function v(e){e.stopPropagation()}return(0,h.jsx)(o.Z,{...t,values:{...c,a:e=>s&&u?(0,h.jsx)(a.rU,{to:u,onClick:v,children:e}):(0,h.jsx)("a",{href:u,className:d,target:"_blank",rel:"noreferrer",onClick:v,children:e})}})};var g=n(47752),f=n(68429);const m="helpLink_linkIcon__oDcD6",y=e=>{let{text:t,link:n,linkUrl:o,style:a,className:l,secondary:r,isFeishuDashboard:s}=e;const d=p((0,i.Z)().locale,n,o,s);return(0,h.jsx)(g.Z,{title:(0,h.jsxs)("span",{children:[(0,h.jsx)(v,{text:t,link:n,linkUrl:o}),r&&(0,h.jsxs)("span",{children:[" ",r]})]}),className:l,children:(0,h.jsx)(f.Z,{type:"info",className:m,style:a,onClick:e=>{d&&(window.open(d,"_blank"),null===e||void 0===e||e.stopPropagation())}})})},w=e=>{const{link:t,linkUrl:n,isFeishuDashboard:o,onClick:a,...l}=e,r=p((0,i.Z)().locale,t,n,o);return(0,h.jsx)(f.Z,{type:"info",className:m,...l,onClick:e=>{a&&e?a(e):(null===e||void 0===e||e.stopPropagation(),r&&window.open(r,"_blank"))}})}},70645:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(33718);const o="proBadge_wrap__h0QOQ";var a=n(94553);const l=e=>{let{text:t="Pro",className:n}=e;return(0,a.jsx)("span",{className:(0,i.default)(o,n),children:t})}},53029:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i.Z});var i=n(70645)},47587:(e,t,n)=>{"use strict";n.d(t,{Select:()=>p});var i=n(57435),o=n(93293),a=n(33718),l=n(68429);const r="select_container__hgfaG",s="select_selectSuffixIcon__vUGj8";var d=n(94553);const c=(0,d.jsx)(l.Z,{type:"caretBottom",className:s});function u(e,t){const{suffixIcon:n=c,className:i,...l}=e;return(0,d.jsx)(o.Z,{...l,suffixIcon:n,className:(0,a.default)(r,i),ref:t})}const p=(0,i.forwardRef)(u);p.OptGroup=o.Z.OptGroup,p.Option=o.Z.Option},20935:(e,t,n)=>{"use strict";n.d(t,{J:()=>h,Z:()=>v});var i=n(50239),o=n(10925),a=n(47752),l=n(95620),r=n(7070),s=n.n(r),d=n(68429),c=n(47587);const u={viewItem:"tableViewSelector_viewItem__ySfNy",icon:"tableViewSelector_icon__4WwAi"};var p=n(94553);const h="MT_LAYER_EMPTY_VIEW_OPTION_ID",v=e=>{let{viewOptions:t,testID:n,onChange:r,...v}=e;const g=(0,l.Z)();return(0,p.jsx)(c.Select,{"data-testid":n,...v,onChange:r,children:s()(t,(e=>(0,p.jsx)(c.Select.Option,{value:e.id,name:e.name,disabled:e.disabled,children:(0,p.jsxs)(i.Z,{justify:"space-between",children:[(0,p.jsxs)("div",{className:u.viewItem,children:[e.id!==h&&(0,p.jsx)(d.Z,{type:e.isPersonal?"userFill":e.isLocked?"lockFill":"groupFill",className:u.icon}),(0,p.jsx)(o.Z.Paragraph,{className:u.viewName,title:e.name,ellipsis:{tooltip:{mouseEnterDelay:.5,title:e.name,placement:"right",destroyOnHidden:!0}},children:e.name})]}),e.noCoordinateColumn&&e.id!==h?(0,p.jsx)(a.Z,{title:g.$t({id:"LfmLIs",defaultMessage:"No location field"}),children:(0,p.jsx)(i.Z,{align:"center",children:(0,p.jsx)(d.Z,{type:"warning"})})}):null]})},e.id)))})}},29697:(e,t,n)=>{"use strict";n.d(t,{$J:()=>r,At:()=>d,Cf:()=>c,HU:()=>u,R6:()=>l,Sr:()=>p,f8:()=>s,nB:()=>a,nn:()=>o});var i=n(79129);let o=function(e){return e.AmapStandard="AmapStandard",e.AmapLight="AmapLight",e.AmapDark="AmapDark",e.AmapDarkBlue="AmapDarkBlue",e.AmapSatellite="AmapSatellite",e}({}),a=function(e){return e.GoogleMapAtlas="GoogleMapAtlas",e.GoogleMapLight="GoogleMapLight",e.GoogleMapGrey="GoogleMapGrey",e.GoogleMapDark="GoogleMapDark",e.GoogleMapNight="GoogleMapNight",e.GoogleMapSatellite="GoogleMapSatellite",e}({}),l=function(e){return e.MapboxStreets="MapboxStreets",e.MapboxOutdoors="MapboxOutdoors",e.MapboxLight="MapboxLight",e.MapboxDark="MapboxDark",e.MapboxSatellite="MapboxSatellite",e}({});const r=[o.AmapDark,o.AmapDarkBlue,o.AmapSatellite,a.GoogleMapDark,a.GoogleMapNight,l.MapboxDark,l.MapboxSatellite],s=[o.AmapStandard,o.AmapLight,a.GoogleMapAtlas,a.GoogleMapLight,a.GoogleMapGrey,l.MapboxStreets,l.MapboxOutdoors,l.MapboxLight],d=["google"],c={AmapStandard:{label:(0,i.Em)({id:"amap.style.standard",defaultMessage:"Standard"})},AmapLight:{label:(0,i.Em)({id:"amap.style.light",defaultMessage:"Light"})},AmapDark:{label:(0,i.Em)({id:"amap.style.dark",defaultMessage:"Dark"})},AmapDarkBlue:{label:(0,i.Em)({id:"amap.style.darkBlue",defaultMessage:"Dark Blue"})},AmapSatellite:{label:(0,i.Em)({id:"amap.style.satellite",defaultMessage:"Satellite"})}},u={GoogleMapAtlas:{label:(0,i.Em)({id:"google.map.atlas",defaultMessage:"Atlas"})},GoogleMapLight:{label:(0,i.Em)({id:"google.map.light",defaultMessage:"Light"})},GoogleMapGrey:{label:(0,i.Em)({id:"google.map.grey",defaultMessage:"Grey"})},GoogleMapDark:{label:(0,i.Em)({id:"google.map.dark",defaultMessage:"Dark"})},GoogleMapNight:{label:(0,i.Em)({id:"google.map.night",defaultMessage:"Night"})},GoogleMapSatellite:{label:(0,i.Em)({id:"google.map.satellite",defaultMessage:"Satellite"})}},p={MapboxStreets:{label:(0,i.Em)({id:"mapbox.style.streets",defaultMessage:"Streets"})},MapboxOutdoors:{label:(0,i.Em)({id:"mapbox.style.outdoors",defaultMessage:"Outdoors"})},MapboxLight:{label:(0,i.Em)({id:"mapbox.style.light",defaultMessage:"Light"})},MapboxDark:{label:(0,i.Em)({id:"mapbox.style.dark",defaultMessage:"Dark"})},MapboxSatellite:{label:(0,i.Em)({id:"mapbox.style.satellite",defaultMessage:"Satellite"})}}},96271:(e,t,n)=>{"use strict";n.d(t,{BE:()=>q,BK:()=>$,Cq:()=>Y,DE:()=>h,Er:()=>Q,FA:()=>F,Hd:()=>G,Jp:()=>K,N3:()=>te,P8:()=>J,R$:()=>X,T_:()=>W,Ws:()=>M,bT:()=>H,lK:()=>ee,lw:()=>U,wn:()=>R});var i,o=n(18263),a=n.n(o),l=n(74933),r=n.n(l),s=n(15288),d=n.n(s),c=n(65066),u=n.n(c),p=n(98968);const h=["maptableGreen1","maptableGreen2","maptablePink1","maptablePink2","maptablePink3","maptableBlue1"],v=["maptableBluePurple","maptableCyanBlack","maptableCyanGray","maptableRdBu"],g=["#E3F2E2","#BDDFD2","#99CDC2","#59A6A8","#3F9392","#267F7E","#086B6D","#00585D","#004548"],f=["#cdfcd7","#a9e4c9","#88cdba","#68b4ac","#499c9e","#35848d","#216d7d","#13546a","#073e58"],m=["#fff8bb","#ffe5a8","#ffd297","#ffbd89","#ffa87f","#ff927c","#ff7d7b","#f6677d","#ea5383"],y=["#f4e9a2","#fccf91","#ffb487","#fc9984","#f38088","#dd6c8f","#be5f98","#94559e","#5e4fa1"],w=["#eefc50","#ffc849","#fe946d","#f16b87","#db4486","#b61d7f","#850092","#520099","#130083"],b=["#59eefb","#4dd6ef","#40bde3","#34a4d7","#278bca","#4566c4","#5a3fbe","#6b0bb8","#7b00b3"],C=["#0083f8","#00a5cc","#00c5a1","#76c26d","#ffbe46","#ffa148","#ff824e","#e04a9f","#b900f8"],x=["#73c2a9","#c7dcc4","#eec4b4","#d46165","#c19280","#a7c39b","#7c6548","#442a1a","#050505"],I=["#55c5cb","#fcbe7b","#e8aad1","#81c679","#d3a0d0","#cfd385","#8dd2b7","#caa9aa","#b3b3b3"],j=["#1a79b3","#56e0c7","#8cc5dd","#bbe1e1","#bdf1d2","#ffffc5","#ffe1a0","#ffc07d","#fc9381","#ef5850","#e0203f"].reverse(),M=g.length,k={maptableGreen1:{3:g.slice(0,3),4:g.slice(0,4),5:g.slice(0,5),6:g.slice(0,6),7:g.slice(0,7),8:g.slice(0,8),9:g.slice(0,9)},maptableGreen2:{3:f.slice(0,3),4:f.slice(0,4),5:f.slice(0,5),6:f.slice(0,6),7:f.slice(0,7),8:f.slice(0,8),9:f.slice(0,9)},maptablePink1:{3:m.slice(0,3),4:m.slice(0,4),5:m.slice(0,5),6:m.slice(0,6),7:m.slice(0,7),8:m.slice(0,8),9:m.slice(0,9)},maptablePink2:{3:y.slice(0,3),4:y.slice(0,4),5:y.slice(0,5),6:y.slice(0,6),7:y.slice(0,7),8:y.slice(0,8),9:y.slice(0,9)},maptablePink3:{3:w.slice(0,3),4:w.slice(0,4),5:w.slice(0,5),6:w.slice(0,6),7:w.slice(0,7),8:w.slice(0,8),9:w.slice(0,9)},maptableBlue1:{3:b.slice(0,3),4:b.slice(0,4),5:b.slice(0,5),6:b.slice(0,6),7:b.slice(0,7),8:b.slice(0,8),9:b.slice(0,9)},maptableBluePurple:{3:C.slice(0,3),4:C.slice(0,4),5:C.slice(0,5),6:C.slice(0,6),7:C.slice(0,7),8:C.slice(0,8),9:C.slice(0,9)},maptableCyanBlack:{3:x.slice(0,3),4:x.slice(0,4),5:x.slice(0,5),6:x.slice(0,6),7:x.slice(0,7),8:x.slice(0,8),9:x.slice(0,9)},maptableCyanGray:{3:I.slice(0,3),4:I.slice(0,4),5:I.slice(0,5),6:I.slice(0,6),7:I.slice(0,7),8:I.slice(0,8),9:I.slice(0,9)},maptableRdBu:{3:j.slice(0,3),4:j.slice(0,4),5:j.slice(0,5),6:j.slice(0,6),7:j.slice(0,7),8:j.slice(0,8),9:j.slice(0,9),10:j.slice(0,10),11:j.slice(0,11)}},T=["#008080","#31968c","#78ac99","#a3c2a6","#cdd8b3","#f7eec1","#f4d1a3","#efb386","#e7966a","#dd7750","#d25836"].reverse(),E=["#009b9d","#00acad","#40bdbd","#8ccdcf","#c2dfe0","#f1f1f1","#ebd4e2","#e5b7d3","#ef9ac4","#d77ab7","#cf5aaa"].reverse(),P={BrBG:{3:T.slice(0,3),4:T.slice(0,4),5:T.slice(0,5),6:T.slice(0,6),7:T.slice(0,7),8:T.slice(0,8),9:T.slice(0,9),10:T.slice(0,10),11:T.slice(0,11)},PiYG:{3:E.slice(0,3),4:E.slice(0,4),5:E.slice(0,5),6:E.slice(0,6),7:E.slice(0,7),8:E.slice(0,8),9:E.slice(0,9),10:E.slice(0,10),11:E.slice(0,11)}},O={...p.Z,...k,...P},{sequential:S=[],singlehue:_=[],diverging:N=[],qualitative:D=[]}=null!==(i=null===p.Z||void 0===p.Z?void 0:p.Z.schemeGroups)&&void 0!==i?i:{},L=["BuGn","PuBu","PuBuGn","PuRd","RdPu","Pastel1","Set3","RdBu"],A=[...h,..._,...S,...N,...D,...v].filter((e=>!L.includes(e))),R=a()(3,12);function Z(e,t){if(N.includes(e)){var n;const i=null===(n=O[e])||void 0===n?void 0:n[t];return i?[...i].reverse():i}return O[e][t]}const F=d()(r()(R),(e=>u()(d()(r()(A),(t=>Z(t,e)))))),z=["Set1","Set2","Spectral","YlGn","YlGnBu","YlOrBr","YlOrRd","Accent","Dark2","Paired","Pastel2","maptableCyanBlack","maptableCyanGray"],B=[...h,"Oranges","PRGn","RdYlGn","maptableBluePurple","maptableRdBu"],V=[...h,"Blues","Purples","Oranges","PRGn","RdYlBu","RdYlGn",...v],H="Blues",W=d()(r()(R),(e=>u()(d()(r()(A.filter((e=>B.includes(e)))),(t=>Z(t,e)))))),U=d()(r()(R),(e=>u()(d()(r()(A.filter((e=>V.includes(e)))),(t=>Z(t,e)))))),G=d()(r()(R),(e=>u()(d()(r()(A.filter((e=>V.includes(e)))),(t=>Z(t,e)))))),q=d()(r()(R),(e=>u()(d()(r()(A.filter((e=>!z.includes(e)))),(t=>Z(t,e))))));function $(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,n=arguments.length>1?arguments[1]:void 0;const i=null!==(e=n||["PiYG","PRGn","PuOr",H][Math.floor(5*Math.random())])&&void 0!==e?e:H;return{colors:F[t][i],colorScheme:i}}const J={redLighter:"#FADADA",salmonLighter:"#FBE7E2",orangeLighter:"#FEF0E3",yellowLighter:"#FFF8E0",greenLighter:"#E7F6F0",cyanLighter:"#E0F6FB",blueLighter:"#E0EDFF",purpleLighter:"#EDEAF8",lilacLighter:"#F6E5FC",greyLighter:"#EDEEF2"},Q={redLight:"#F5B6B6",salmonLight:"#F6C6BB",orangeLight:"#FDDCBE",yellowLight:"#FFEFB8",greenLight:"#C7EADB",cyanLight:"#B8EBF4",blueLight:"#B8D4FF",purpleLight:"#D4CFEE",lilacLight:"#EFCFFB",greyLight:"#E1E4EA"},K={...J,...Q},Y={redDark:"#E64C4C",salmonDark:"#E55939",orangeDark:"#F99439",yellowDark:"#FFC80A",greenDark:"#5EC298",cyanDark:"#46CBE2",blueDark:"#3384FF",purpleDark:"#8476CD",lilacDark:"#C043EF",greyDark:"#505F79"},X={...K,...Y};function ee(e){return e&&"object"===typeof e&&"id"in e&&"bgColor"in e}const te=["#7E4C1E","#86281F","#275C3D","#2A5A72","#244AA3","#92235D","#78238B","#4F3B98","#06152E"]},57316:(e,t,n)=>{"use strict";n.d(t,{CS:()=>u,G1:()=>c,Q0:()=>h,T_:()=>l,_d:()=>p,by:()=>r,rm:()=>d,wU:()=>s,zT:()=>a});var i=n(65235),o=n.n(i);const a={"year/month/day":"YYYY/MM/DD","month/day/year":"MM/DD/YYYY",detail:"YYYY-M-DD"},l={"12-hour-clock":"h:mm","24-hour-clock":"HH:mm",hidden:""};function r(e){return[{value:"year/month/day",label:e.$t({id:"bZ7AbK",defaultMessage:"yyyy/mm/dd"})+"\uff08".concat(o()().format(a["year/month/day"]),"\uff09")},{value:"month/day/year",label:e.$t({id:"idHCOe",defaultMessage:"mm/dd/yyyy"})+"\uff08".concat(o()().format(a["month/day/year"]),")")},{value:"detail",label:e.$t({id:"Nz8Nyb",defaultMessage:"Detailed format"})+"\uff08".concat(o()().format(a.detail),"\uff09")}]}function s(e){return[{value:"hidden",label:e.$t({id:"VA/Z1S",defaultMessage:"Hide"})},{value:"12-hour-clock",label:e.$t({id:"XYZkZB",defaultMessage:"12h"})},{value:"24-hour-clock",label:e.$t({id:"54iQNA",defaultMessage:"24h"})}]}function d(e){return[{value:!1,label:e.$t({id:"VA/Z1S",defaultMessage:"Hide"})},{value:!0,label:e.$t({id:"K7AkdL",defaultMessage:"Show"})}]}const c="YYYY-MM-DDTHH:mm:ssZ";function u(e){return[{value:"number",label:e.$t({id:"kFkPWB",defaultMessage:"Number"})},{value:"percentage",label:e.$t({id:"4Ugzf2",defaultMessage:"Percentage (%)"})},{value:"commaNumber",label:e.$t({id:"YaPTLX",defaultMessage:"Thousands sep. (1,000)"})}]}const p=[{value:0,label:"1"},{value:1,label:"1.0"},{value:2,label:"1.00"},{value:3,label:"1.000"},{value:4,label:"1.0000"},{value:5,label:"1.00000"}],h=1e4},11546:(e,t,n)=>{"use strict";n.d(t,{AR:()=>h,CJ:()=>c,J1:()=>p,L8:()=>u,OU:()=>d,Qd:()=>r,Vj:()=>s,Z9:()=>l,aE:()=>g,n_:()=>f,t1:()=>v});var i=n(58674),o=n.n(i);const a=["multiLineText","coordinate","number","singleChoice","multiChoice","datetime","attachment","boolean","createTime","updateTime","formula","creator","updater","member","hyperlink","related","lookup"],l={multiLineText:{type:"multiLineText",icon:"multiLineText",computable:!0,bigTableType:"string",sortType:"alphabetically"},coordinate:{type:"coordinate",icon:"coordinate",bigTableType:"string",computable:!0},number:{type:"number",icon:"number",needConfirm:!0,computable:!0,bigTableType:"number",sortType:"numeric"},singleChoice:{type:"singleChoice",icon:"singleChoice",computable:!0,bigTableType:"string",sortType:"order"},multiChoice:{type:"multiChoice",icon:"multiChoice",bigTableType:"string",sortType:"order"},datetime:{type:"datetime",icon:"datetime",needConfirm:!0,computable:!0,bigTableType:"datetime",sortType:"numeric"},attachment:{type:"attachment",icon:"attachment",needConfirm:!0,bigTableType:"string",sortType:"alphabetically"},member:{type:"member",icon:"member",needConfirm:!1,computable:!1,generated:!1,bigTableType:"string",sortType:"order"},hyperlink:{type:"hyperlink",icon:"hyperlink",needConfirm:!1,computable:!0,generated:!1,bigTableType:"string",sortType:"order"},formula:{type:"formula",icon:"formula",computable:!0,bigTableType:"any",sortType:"alphabetically"},boolean:{type:"boolean",icon:"checkbox",computable:!0,bigTableType:"boolean",sortType:"boolean"},createTime:{type:"createTime",icon:"createTime",needConfirm:!0,computable:!0,generated:!0,bigTableType:"meta",sortType:"numeric"},updateTime:{type:"updateTime",icon:"updateTime",needConfirm:!0,computable:!0,generated:!0,bigTableType:"meta",sortType:"numeric"},creator:{type:"creator",icon:"creator",needConfirm:!0,computable:!1,generated:!0,bigTableType:"meta"},updater:{type:"updater",icon:"updater",needConfirm:!0,computable:!1,generated:!0,bigTableType:"meta"},related:{type:"related",icon:"related",needConfirm:!0},lookup:{type:"lookup",icon:"lookup",needConfirm:!0,computable:!0}},r=["multiLineText","datetime","number"],s=["multiLineText","singleChoice","multiChoice","coordinate","datetime","number","formula","lookup"],d=["multiLineText","number","datetime"],c=["creator","updater","createTime","updateTime"],u=["formula","creator","updater","createTime","updateTime","lookup"],p=["creator","updater","member","singleChoice","multiChoice","attachment","related","lookup"],h=["multiLineText","coordinate","number","singleChoice","multiChoice","datetime","attachment","boolean","createTime","updateTime","creator","updater","member","hyperlink","related"],v=(o()(a,"multiLineText","coordinate","number","singleChoice","multiChoice","datetime","attachment","boolean","hyperlink"),o()(a,"related","lookup")),g=["formula","lookup"],f=["formula"]},32820:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});const i=(0,n(79129).vU)({days:{id:"UA5qaX",defaultMessage:"{days, plural, one {# day} other {# days}}"}})},33760:(e,t,n)=>{"use strict";n.d(t,{Vr:()=>a,j$:()=>i,uW:()=>o});const i={MOBILE_MIN:360,MOBILE_MAX:500,SMALL_HEIGHT:380},o={WIDTH:312,HEIGHT:333,PADDING:16,IMAGE_HEIGHT:200,CONTENT_MAX_HEIGHT:310,CONTENT_MAX_HEIGHT_MOBILE:270},a={FIXED_OFFSET:30,BOTTOM_OFFSET:20,DEFAULT_LEFT:100,DEFAULT_TOP:100,SIDEBAR_LEFT:250,TOP_WITH_HEADER:85}},56043:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});const i="all_record"},36441:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});const i="china-ADM1-nineDashLine"},10260:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(88716),o=n.n(i);const a=(()=>{function e(e){return!!e&&("and"in e&&Array.isArray(e.and))}function t(e){return!!e&&("or"in e&&Array.isArray(e.or))}function n(n){return n?e(n)?0===n.and.length?null:1===n.and.length?n.and[0]:n:t(n)?0===n.or.length?null:1===n.or.length?n.or[0]:n:n:null}function i(n){return n?e(n)?[n,...n.and.flatMap(i)]:t(n)?[n,...n.or.flatMap(i)]:[n]:[]}function a(n,i){return!!n&&(e(n)?n.and.every((e=>a(e,i))):t(n)?0===n.or.length||n.or.some((e=>a(e,i))):"op"in n&&i(n))}return{isEmpty:function n(i){return!i||("object"!==typeof i||(e(i)?!i.and.length||i.and.every(n):t(i)?!i.or.length||i.or.every(n):!("op"in i)&&!("id"in i)))},flat:i,compact:n,map:function n(i,o){return i?e(i)?{...i,and:i.and.map((e=>n(e,o))).filter(Boolean)}:t(i)?{...i,or:i.or.map((e=>n(e,o))).filter(Boolean)}:"op"in i||"id"in i?o(i):null:null},filter:function n(i,o){if(!i)return null;if(!e(i)&&!t(i))return o(i)?i:null;const a="and"in i?i.and:i.or,l=[];for(const r of a)if(e(r)||t(r)){const e=n(r,o);e&&l.push(e)}else r&&o(r)&&l.push(r);return"and"in i?{...i,and:l}:{...i,or:l}},filterGroup:function n(i,o){if(!i)return null;if(!o(i))return null;if(!e(i)&&!t(i))return i;const a="and"in i?i.and:i.or,l=[];for(const r of a)if(e(r)||t(r)){const e=n(r,o);e&&l.push(e)}else l.push(r);return"and"in i?{...i,and:l}:{...i,or:l}},every:function n(i,o){return!i||(e(i)?i.and.every((e=>n(e,o))):t(i)?i.or.every((e=>n(e,o))):o(i))},and:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const o=n.filter((e=>!!e));if(0===o.length)return null;let a=o[0];for(let s=1;s<o.length;s++)l=a,r=o[s],a={and:[...e(l)?l.and:[l],...e(r)?r.and:[r]]};var l,r;return a},or:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const o=n.filter((e=>!!e));if(0===o.length)return null;let a=o[0];for(let s=1;s<o.length;s++)l=a,r=o[s],a={or:[...t(l)?l.or:[l],...t(r)?r.or:[r]]};var l,r;return a},append:function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];const l=o.filter((e=>!!e));return 0===l.length?n:e(n)?{...n,and:[...n.and,...l]}:t(n)?{...n,or:[...n.or,...l]}:{and:[n,...l]}},size:function(n,i){var a;return function n(i){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i)return 0;if("object"!==typeof i)return 0;if("filter"in i&&o()(null===i||void 0===i?void 0:i.filter))return 0;if(e(i)||t(i)){const t=a>0&&!l?1:0,o=(e,t)=>e+n(t,a+1,l);return(e(i)?i.and.reduce(o,0):i.or.reduce(o,0))||t}return"id"in i||"op"in i?1:0}(n,0,null!==(a=null===i||void 0===i?void 0:i.ignoreEmptyGroup)&&void 0!==a&&a)},mutate:function n(i,o){if(!i.id||!o.id)return{result:i,found:!1};if(i.id===o.id)return{result:o,found:!0};if(!e(i)&&!t(i))return{result:i,found:!1};const a=i.id,l="and"in i?i.and:i.or;let r=!1;const s=l.map((e=>{if(r)return e;const t=n(e,o);return t.found?(r=!0,t.result):e}));return{result:"and"in i?{id:a,and:s}:{id:a,or:s},found:r}},test:(e,t)=>a(n(e),t),conjunction:function(e){return"or"in e?"or":"and"},flipTo:function(n,i){if(!n)return null;if(e(n)){const{and:e,...t}=n;return"or"===i?{...t,or:e}:n}if(t(n)){const{or:e,...t}=n;return"and"===i?{...t,and:e}:n}return n},find:function(e,t){return i(e).find(t)},depth:function(n){const i=n=>n?e(n)?1+Math.max(...n.and.map(i)):t(n)?1+Math.max(...n.or.map(i)):0:0;return Math.max(i(n),1)},groups:function n(i){return i?e(i)?i.and.reduce(((e,t)=>[...e,...n(t)]),[i]):t(i)?i.or.reduce(((e,t)=>[...e,...n(t)]),[i]):[]:[]},remove:function e(t,n){return t.id===n?null:"and"in t?{...t,and:t.and.map((t=>e(t,n))).filter(Boolean)}:"or"in t?{...t,or:t.or.map((t=>e(t,n))).filter(Boolean)}:t},children:function(n){return e(n)?[...n.and]:t(n)?[...n.or]:[]}}})()},36639:(e,t,n)=>{"use strict";n.d(t,{K:()=>i.K,n:()=>o.n});var i=n(10260),o=n(30720)},30720:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});const i=(0,n(79129).vU)({is:{id:"filter.op.is",defaultMessage:"is"},isNot:{id:"filter.op.isNot",defaultMessage:"is not"},equals:{id:"filter.op.eq",defaultMessage:"equal to"},notEqual:{id:"filter.op.neq",defaultMessage:"not equal to"},startsWith:{id:"filter.op.startsWith",defaultMessage:"begins with"},endsWith:{id:"filter.op.endsWith",defaultMessage:"ends with"},lessThan:{id:"filter.op.lt",defaultMessage:"less than"},lessThanOrEqual:{id:"filter.op.lte",defaultMessage:"less than or equal to"},greaterThan:{id:"filter.op.gt",defaultMessage:"greater than"},greaterThanOrEqual:{id:"filter.op.gte",defaultMessage:"greater or equal to"},contains:{id:"filter.op.contains",defaultMessage:"contains"},containsAny:{id:"filter.op.containsAny",defaultMessage:"has any of"},containsAll:{id:"filter.op.containsAll",defaultMessage:"has all of"},notContains:{id:"filter.op.notContiains",defaultMessage:"has none of"},empty:{id:"filter.op.empty",defaultMessage:"is empty"},isNull:{id:"filter.op.isNull",defaultMessage:"is empty"},isNotNull:{id:"filter.op.isNotNull",defaultMessage:"is not empty"},inArea:{id:"filter.op.inArea",defaultMessage:"is in area"},isAfter:{id:"filter.op.after",defaultMessage:"is after"},isBefore:{id:"filter.op.before",defaultMessage:"is before"}})},89983:(e,t,n)=>{"use strict";n.d(t,{HF:()=>h,Of:()=>b,U6:()=>f,Ws:()=>v,Zn:()=>u,aP:()=>m,be:()=>y,fI:()=>p,pM:()=>g,vs:()=>w});var i=n(37383),o=(n(82086),n(40517)),a=(n(6778),n(27222),n(69820),n(17527),n(67045),n(22787)),l=(n(88716),n(52675),n(75279)),r=n(89148),s=n(56824),d=n(73352);const{GCJ02:c,WGS84:u,BD09MC:p}=i.default;function h(e){try{return(0,r.l)(e)}catch{return}}function v(e){return(0,l._)(e)}function g(e){if(1===e.features.length&&"Point"===e.features[0].geometry.type)return e.features[0].geometry.coordinates}function f(e){if(1===e.features.length)return v(e.features[0].geometry);const t=e.features[0].geometry.type.toUpperCase()+" ",n=e.features.map((e=>v(e.geometry))).join(",").replaceAll(t,"");return"MULTI".concat(t,"(").concat(n,")")}function m(e,t){try{const n=h(e),i=h(t);return!(!n||!i)&&(0,s.w1)(n,i)}catch(n){return!1}}function y(e){return(0,s.bP)(e)}function w(e,t,n){return(0,d.Z)(e,t,n)}function b(e,t){return(0,a.Z)(o.xm(e),o.yu([t]))}},89148:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var i=n(57323),o=n.n(i);function a(e){return new l(e).scanGeometry()}class l{constructor(e){o()(this,"i",0),this.raw=e}peek(){if(this.i>this.raw.length)throw new Error("unexpected EOF");return this.raw[this.i]}skipWs(){if(!(this.i>=this.raw.length))for(let e=this.i;e<this.raw.length;e++){if(!r(this.raw.charAt(e)))return;this.i+=1}}scanStart(){this.skipWs();const e=this.peek();if("("!==e)throw new Error("expect '(' got ".concat(e));this.i++}scanContinue(){this.skipWs();const e=this.peek(),t=","===e;if(!t&&")"!==e)throw new Error("expect ',' or ')' got ".concat(e));return this.i++,t}scanCircle(){this.scanStart();const[e,t]=this.scanCoordinate();if(!t){const e=this.peek();throw new Error("expect ',' got ".concat(e))}this.i++,this.skipWs();const n=this.scanNumber(),i=this.peek();if(")"!==i)throw new Error("expect ')' got ".concat(i));return this.i++,[e[0],e[1],n]}scanCirlces(){this.scanStart();const e=[];for(;;){const t=this.scanCircle();e.push(t);if(!this.scanContinue())break}return e}scanNumber(){this.skipWs();let e="",t=this.peek();for(;s(t);)this.i+=1,e+=t,t=this.peek();const n=Number(e);if(Number.isNaN(n))throw new Error("number parse error ".concat(e));return n}scanCoordinate(){if(this.skipWs(),this.i>this.raw.length)throw new Error("unexpected EOF");const e=this.scanNumber();this.skipWs();const t=this.scanNumber();this.skipWs();const n=this.peek(),i=","===n;if(!i&&")"!==n)throw new Error("expect ',' or ')' got ".concat(n));return this.i++,[[e,t],i]}scanCoordinates(e){if(this.scanStart(),e)try{this.scanStart()}catch(n){e=!1}const t=[];for(;;){const[n,i]=this.scanCoordinate();if(t.push(n),!i){if(e){if(this.scanContinue()){this.scanStart();continue}}return t}if(e)throw new Error("expect ')' got ','")}}scanPolyData(e){this.scanStart();const t=[];for(;;){const n=this.scanCoordinates(!1);if(e){if(n.length<4)throw new Error("a polygon ring must have at least 4 points, got ".concat(n.length));if(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1])throw new Error("a polygon ring must be closed")}else if(n.length<2)throw new Error("must have at least 2 points, got ".concat(n.length));if(t.push(n),!this.scanContinue())return t}}scanMultiPolyData(){this.scanStart();const e=[];for(;;){const t=this.scanPolyData(!0);if(e.push(t),!this.scanContinue())return e}}scanIndent(){if(this.skipWs(),this.i>=this.raw.length)throw new Error("unexpected EOF");let e="",t=0;for(t=this.i;t<this.raw.length;t++){const n=this.raw.charAt(t);if(!d(n))break;e+=n.toUpperCase(),this.i+=1}if(0===e.length)throw new Error("indent not found");return e}scanGeometry(){const e=this.scanIndent();let t;switch(e){case"CIRCLE":t={type:"Circle",coordinates:this.scanCircle()};break;case"MULTICIRCLE":t={type:"MultiCircle",coordinates:this.scanCirlces()};break;case"POINT":{const e=this.scanCoordinates(!1);if(1!==e.length)throw new Error("expect 1 got ".concat(e.length," points"));t={type:"Point",coordinates:e[0]};break}case"MULTIPOINT":t={type:"MultiPoint",coordinates:this.scanCoordinates(!0)};break;case"LINESTRING":{const e=this.scanCoordinates(!1);if(e.length<2)throw new Error("must have at least 2 points, got ".concat(e.length));t={type:"LineString",coordinates:e};break}case"POLYGON":t={type:"Polygon",coordinates:this.scanPolyData(!0)};break;case"MULTIPOLYGON":t={type:"MultiPolygon",coordinates:this.scanMultiPolyData()};break;case"MULTILINESTRING":t={type:"MultiLineString",coordinates:this.scanPolyData(!1)};break;default:throw new Error("unknown geometry ".concat(e))}if(this.i+1<=this.raw.length)throw new Error("expect EOF");return t}}function r(e){return 1===e.length&&[" ","\n","\t","\r"].includes(e)}function s(e){return[".","-","0","1","2","3","4","5","6","7","8","9"].includes(e)}function d(e){return 1===e.length&&e.match(/[a-zA-Z]/i)}},75279:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(58205),o=n.n(i);function a(e){return"Circle"===e.type?"CIRCLE (".concat(e.coordinates[0]," ").concat(e.coordinates[1],", ").concat(e.coordinates[2],")"):"MultiCircle"===e.type?"MULTICIRCLE (".concat(e.coordinates.map((e=>"(".concat(e[0]," ").concat(e[1],", ").concat(e[2],")"))).join(", "),")"):o().stringify(e)}},73352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(37383);const{transform:o}=i.default;function a(e,t,n){if("Point"!==e.type)return console.info("Unknown geometry type",e.type),e;return{type:"Point",coordinates:o(e.coordinates,t,n)}}},56824:(e,t,n)=>{"use strict";n.d(t,{bP:()=>d,w1:()=>u});var i=n(40517),o=n(82505),a=n(80128),l=(n(31890),n(52675),n(62953)),r=n(82086),s=n(64505);n(22787);function d(e){switch(e.type){case"Point":return e;case"Circle":{const t=e.coordinates;return{type:"Point",coordinates:[t[0],t[1]]}}case"LineString":{const t=i.Tu(e.coordinates),n=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"Polygon":{const t=i.yu(e.coordinates),n=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"MultiPoint":{const t=i.ot(e.coordinates),n=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"MultiLineString":{const t=i._R(e.coordinates),n=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}case"MultiPolygon":{const t=i.tw(e.coordinates),n=(0,a.Z)(t).geometry.coordinates;return{type:"Point",coordinates:[n[0],n[1]]}}default:return console.info("Unknown geometry type",e.type),e}}function c(e,t){const[n,i,a]=t.coordinates;if("Point"===e.type){return(0,s.Z)([n,i],e.coordinates,{units:"kilometers"})<=a/1e3}const d=a/1e3,c=d/111.32,u=d/(111.32*Math.cos(i*(Math.PI/180))),p=n-u,h=n+u,v=i-c,g=i+c,[f,m,y,w]=(0,r.Z)(e);if(y<p||f>h||w<v||m>g)return!1;if(f>=p&&y<=h&&m>=v&&w<=g){if([[f,m],[f,w],[y,m],[y,w]].every((e=>(0,s.Z)([n,i],e,{units:"kilometers"})<=d)))return!0}let b=Math.round(16+6*Math.sqrt(d));return b=Math.max(16,Math.min(b,64)),(0,o.Z)(e,(0,l.Z)([n,i],d,{steps:b,units:"kilometers"}).geometry)}function u(e,t){if("MultiCircle"===t.type){return t.coordinates.map((e=>({type:"Circle",coordinates:e}))).some((t=>c(e,t)))}return"Circle"===t.type?c(e,t):(0,o.Z)(e,t)}},74110:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let i=function(e){return e.table="table",e.bigTable="bigTable",e.group="group",e.snapshot="snapshot",e}({})},42015:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>I,HC:()=>E,OE:()=>h,Pd:()=>M,RG:()=>b,hW:()=>T,om:()=>g,qT:()=>v,rS:()=>k,uE:()=>x,uK:()=>p,y0:()=>C});var i=n(79129),o=n(27077),a=n(42514),l=n(6200),r=n(35546),s=n(70323),d=n(89063),c=n.n(d);const u="".concat("https://icon-cdn.maptable.com","/assets/boundary_data"),p={ADM0:"admin0",ADM1:"admin1",ADM2:"admin2",ADM3:"admin3"};(0,i.Em)({id:"qIy+j6",defaultMessage:"Admin0"}),(0,i.Em)({id:"Qxkkdf",defaultMessage:"Admin1"}),(0,i.Em)({id:"8IvwT/",defaultMessage:"Admin2"}),(0,i.Em)({id:"Lci7UK",defaultMessage:"Admin3"});function h(e){return"ADM0"===e?"admin1":"ADM1"===e?"admin2":"ADM2"===e?"admin3":"admin1"}const v=["china","usa","canada","uk","france","germany","italy","brazil","japan","mexico","singapore","indonesia","malaysia","vietnam","thailand","philippines","austria","belgium","denmark","finland","sweden","greece","netherlands","poland","portugal","spain","bangladesh","congoKinshasa","egypt","pakistan","zambia","australia","russia","southKorea","turkey","saudiArabia","switzerland","argentina","ireland","israel","unitedArabEmirates","norway","southAfrica"],g=["china"],f={},m={},y={};async function w(e,t){if(!t[e]){const n=await fetch(e),i=await n.json();t[e]=i}return t[e]}const b=async e=>{if(!e)return[];const t="".concat(e,"/index");return w("".concat(u,"/").concat(t,".json"),f)},C=async()=>w("".concat(u,"/index.json"),m),x=async(e,t)=>w("".concat(u,"/").concat(e,"/").concat(p[t],".json"),y);function I(e,t){switch(t){case"sum":return(0,o.Z)(e);case"min":return(0,a.Z)(e);case"max":return(0,l.Z)(e);case"mean":return(0,r.Z)(e);case"median":return(0,s.Z)(e);case"nonEmptyCount":return c()(e.filter((e=>null!=e)));default:return c()(e)}}const j={CHN:"china",USA:"usa",CAN:"canada",GBR:"uk",FRA:"france",DEU:"germany",ITA:"italy",BRA:"brazil",JPN:"japan",MEX:"mexico",SGP:"singapore",IDN:"indonesia",MYS:"malaysia",VNM:"vietnam",THA:"thailand",PHL:"philippines",AUT:"austria",BEL:"belgium",DNK:"denmark",FIN:"finland",SWE:"sweden",GRC:"greece",NLD:"netherlands",POL:"poland",PRT:"portugal",ESP:"spain",BGD:"bangladesh",COG:"congoKinshasa",EGY:"egypt",PAK:"pakistan",ZMB:"zambia",AUS:"australia",RUS:"russia",KOR:"southKorea",TUR:"turkey",SAU:"saudiArabia",CHE:"switzerland",ARG:"argentina",IRL:"ireland",ISR:"israel",ARE:"unitedArabEmirates",NOR:"norway",ZAF:"southAfrica"};function M(e){return j[e]}const k=[{label:(0,i.Em)({id:"jqdzk6",defaultMessage:"World"}),value:"world"},{label:(0,i.Em)({id:"1q/ois",defaultMessage:"China"}),value:"china"},{label:(0,i.Em)({id:"whQZpU",defaultMessage:"USA"}),value:"usa"},{label:(0,i.Em)({id:"3Rh+pv",defaultMessage:"Japan"}),value:"japan"},{label:(0,i.Em)({id:"PGzyr2",defaultMessage:"Germany"}),value:"germany"},{label:(0,i.Em)({id:"9N69Wd",defaultMessage:"UK"}),value:"uk"},{label:(0,i.Em)({id:"9KADbj",defaultMessage:"France"}),value:"france"},{label:(0,i.Em)({id:"VzQxqn",defaultMessage:"Italy"}),value:"italy"},{label:(0,i.Em)({id:"2abiy0",defaultMessage:"Canada"}),value:"canada"},{label:(0,i.Em)({id:"zJ+Qdi",defaultMessage:"Brazil"}),value:"brazil"},{label:(0,i.Em)({id:"QXG+La",defaultMessage:"Mexico"}),value:"mexico"},{label:(0,i.Em)({id:"rhaGlx",defaultMessage:"Singapore"}),value:"singapore"},{label:(0,i.Em)({id:"vQOevT",defaultMessage:"Indonesia"}),value:"indonesia"},{label:(0,i.Em)({id:"b7zond",defaultMessage:"Malaysia"}),value:"malaysia"},{label:(0,i.Em)({id:"+ieU8R",defaultMessage:"Vietnam"}),value:"vietnam"},{label:(0,i.Em)({id:"dQZuWX",defaultMessage:"Thailand"}),value:"thailand"},{label:(0,i.Em)({id:"RRQ7fk",defaultMessage:"Philippines"}),value:"philippines"},{label:(0,i.Em)({id:"ZwXv1C",defaultMessage:"Austria"}),value:"austria"},{label:(0,i.Em)({id:"o5InVy",defaultMessage:"Belgium"}),value:"belgium"},{label:(0,i.Em)({id:"OjT4Gq",defaultMessage:"Denmark"}),value:"denmark"},{label:(0,i.Em)({id:"OIc/xw",defaultMessage:"Finland"}),value:"finland"},{label:(0,i.Em)({id:"cOtCHW",defaultMessage:"Sweden"}),value:"sweden"},{label:(0,i.Em)({id:"yil/vB",defaultMessage:"Greece"}),value:"greece"},{label:(0,i.Em)({id:"hT/s2i",defaultMessage:"Netherlands"}),value:"netherlands"},{label:(0,i.Em)({id:"SZjU9E",defaultMessage:"Poland"}),value:"poland"},{label:(0,i.Em)({id:"67jBS8",defaultMessage:"Portugal"}),value:"portugal"},{label:(0,i.Em)({id:"GL9Msi",defaultMessage:"Spain"}),value:"spain"},{label:(0,i.Em)({id:"gEWjsM",defaultMessage:"Bangladesh"}),value:"bangladesh"},{label:(0,i.Em)({id:"fIBorD",defaultMessage:"Congo-Kinshasa"}),value:"congoKinshasa"},{label:(0,i.Em)({id:"BIR9MS",defaultMessage:"Egypt"}),value:"egypt"},{label:(0,i.Em)({id:"u5SBAU",defaultMessage:"Pakistan"}),value:"pakistan"},{label:(0,i.Em)({id:"t50FYQ",defaultMessage:"Zambia"}),value:"zambia"},{label:(0,i.Em)({id:"D4A2LZ",defaultMessage:"Australia"}),value:"australia"},{label:(0,i.Em)({id:"OhkbDU",defaultMessage:"Russia"}),value:"russia"},{label:(0,i.Em)({id:"tnrxhT",defaultMessage:"South Korea"}),value:"southKorea"},{label:(0,i.Em)({id:"k/pu+/",defaultMessage:"Turkey"}),value:"turkey"},{label:(0,i.Em)({id:"cbMqh0",defaultMessage:"Saudi Arabia"}),value:"saudiArabia"},{label:(0,i.Em)({id:"ERkh0f",defaultMessage:"Switzerland"}),value:"switzerland"},{label:(0,i.Em)({id:"wHkOq4",defaultMessage:"Argentina"}),value:"argentina"},{label:(0,i.Em)({id:"fGxzwb",defaultMessage:"Ireland"}),value:"ireland"},{label:(0,i.Em)({id:"vwXIZQ",defaultMessage:"Israel"}),value:"israel"},{label:(0,i.Em)({id:"eMHa+3",defaultMessage:"United Arab Emirates"}),value:"unitedArabEmirates"},{label:(0,i.Em)({id:"mdq/wu",defaultMessage:"Norway"}),value:"norway"},{label:(0,i.Em)({id:"XR8z3v",defaultMessage:"South Africa"}),value:"southAfrica"}],T=k,E=["singapore","israel"]},31918:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});const i=async e=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0}catch(i){console.error(i)}const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly","true"),t.style.position="fixed",t.style.left="-9999px",t.style.top="0",document.body.appendChild(t),t.focus(),t.select();let n=!1;try{n=document.execCommand("copy")}catch(i){n=!1}return document.body.removeChild(t),n}},19735:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,O:()=>r});var i=n(34362),o=n.n(i),a=n(96271);const l=e=>null===e||void 0===e?void 0:e.map((e=>e.color.bgColor)),r=(e,t)=>{if(e)return"string"===typeof e?"bg"===t?a.R$[e]||void 0:o()(Object.keys(a.Cq),e)?"#fff":void 0:"bg"===t?e.bgColor||void 0:e.textColor||"#fff"}},91671:(e,t,n)=>{"use strict";function i(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)}n.d(t,{E:()=>i,P:()=>a});const o={CNY:"zh-CN",USD:"en-US",EUR:"de-DE",GBP:"en-GB",AED:"ar-AE",AUD:"en-AU",BRL:"pt-BR",CAD:"en-CA",CHF:"de-CH",HKD:"zh-HK",INR:"en-IN",IDR:"id-ID",JPY:"ja-JP",KRW:"ko-KR",MOP:"zh-MO",MXN:"es-MX",MYR:"ms-MY",PHP:"en-PH",PLN:"pl-PL",RUB:"ru-RU",SGD:"en-SG",THB:"th-TH",TRY:"tr-TR",TWD:"zh-TW",VND:"vi-VN"};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"number",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD";const a={minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:"commaNumber"===n||"currency"===n,notation:(arguments.length>4?arguments[4]:void 0)?"compact":"standard"};if(null===e||"undefined"===typeof e||Number.isNaN(e))return;var l;if(String(e).toUpperCase().includes("E"))return null===e||void 0===e||null===(l=e.toExponential)||void 0===l?void 0:l.call(e,0===t?0:t-1);const r="currency"===n;if("percentage"===n)return(100*e).toLocaleString(void 0,a)+"%";if(r){const t=o[i]||"en-US";return e.toLocaleString(t,{...a,style:"currency",currency:i})}return"number"===typeof e?e.toLocaleString("en-US",a):e}},29630:(e,t,n)=>{"use strict";n(33382)},13424:(e,t,n)=>{"use strict";n(56356),n(42015),n(46131)},93033:(e,t,n)=>{"use strict";n(57323),n(55349),n(17646),n(56356),n(468),n(82813),n(42015),n(29630),n(13424)},61343:(e,t,n)=>{"use strict";n.d(t,{gd:()=>h,k7:()=>v});n(8942);var i=n(74720),o=n.n(i),a=n(34362),l=n.n(a),r=(n(55349),n(17646),n(56356),n(22787),n(468),n(53813),n(88716),n(82813),n(42015));n(40978),n(13424),n(29630),n(93033);const s="".concat("https://icon-cdn.maptable.com","/assets/boundary_data"),d={};const c=async(e,t)=>async function(e){if(!d[e]){const t=await fetch(e).then((e=>e.json()));d[e]=Promise.resolve(t)}return d[e]}("".concat(s,"/").concat(e,"/").concat(t,".json")),u=["china-ADM1-110000","china-ADM1-120000","china-ADM1-310000","china-ADM1-500000","china-ADM2-110000-0","china-ADM2-120000-0","china-ADM2-310000-0","china-ADM2-500000-0"],p=["china-ADM1-810000","china-ADM1-820000","china-ADM1-710000"];async function h(e){const{regionConfig:t}=e,{aggregateBy:n}=t||{};if("admin0"===n){const t=await async function(e){const{regionConfig:t}=e,{regionId:n}=t||{},i=n,o=await c(i,"admin0"),a=o.features.filter((e=>{var t;return"cas-ADM0-ATA"!==(null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.id)}));return{...o,features:a}}(e);return t}if("admin2"===n){const t=await async function(e){const{regionConfig:t}=e,{country:n,level:i="admin1",regionId:o}=t||{};if(n&&i){const e=await c(n,"admin2");return o&&r.qT.includes(o)?e:{type:"FeatureCollection",features:e.features.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.parentId)===o}))}}}(e);return t}if("admin3"===n){const t=await async function(e){const{regionConfig:t}=e,{country:n,regionId:i}=t||{},o=await c(n,"admin3"),a=l()(i,"ADM2");if(i)return{type:"FeatureCollection",features:o.features.filter((e=>{var t,n,o;return a?(null===(o=e.properties)||void 0===o?void 0:o.parentId)===i:l()(i,null===(t=e.properties)||void 0===t?void 0:t.gid1)&&"0"!==(null===(n=e.properties)||void 0===n?void 0:n.gid1)}))};return o}(e);return t}{const t=await async function(e){const{regionConfig:t}=e,{level:n="admin1",regionId:i}=t||{},o=null===i||void 0===i?void 0:i.split("-")[0];let a=n;const l=i;if(o&&n){i&&(u.includes(i)||p.includes(i))&&(a="admin1");const e=await c(o,a);return"admin1"===a&&i&&r.qT.includes(i)?e:"admin1"===a&&i&&(u.includes(i)||p.includes(i))?{type:"FeatureCollection",features:e.features.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.id)===i}))}:"admin2"===a?{type:"FeatureCollection",features:e.features.filter((e=>{var t;return(null===(t=e.properties)||void 0===t?void 0:t.parentId)===l}))}:e}}(e);return t}}function v(e,t){let n,i,a,l;if(t){const r=e;n=o()(r,"properties.aggregationValue"),i=o()(t,"regionConfig.dimension"),a=o()(t,"regionConfig.country"),l=o()(r,"properties.level")}else{const t=e,{object:r,layer:s}=t;n=o()(r,"properties.aggregationValue"),i=o()(s,"props.data.mapInfo.regionConfig.dimension"),a=o()(s,"props.data.mapInfo.regionConfig.country"),l=o()(r,"properties.level")}const s=!n;return!("ADM0"===l&&"region"===i||"ADM3"===l||"ADM2"===l&&!r.om.includes(a)||s||r.HC.includes(a))}},82755:(e,t,n)=>{"use strict";n.d(t,{TC:()=>l});var i=n(65270);const o=240,a=220;function l(){const{isMobile:e}=(0,i.F)();return{width:e?a:o}}},98238:(e,t,n)=>{"use strict";function i(e,t){if(!e.has(t))return t;for(let n=2;n<e.size+2;n++){const i="".concat(t," ").concat(n);if(!e.has(i))return i}return t}n.d(t,{D8:()=>i,DB:()=>a,NZ:()=>l});const o=["\xa5","$","\u20ac","\xa3","\u20b1","\u20b9","z\u0142","\u20b8","\u20a9","\u20bd","\u20ba","\u20b4","\u20ab","\u20ad","\u20ae","\u20af","\u20b0","\u20b2","\u20b3","\u20b4","\u20b5","\u20b6","\u20b7","\u20b8","\u20b9","\u20ba","\u20bb","\u20bc","\u20bd","\u20be","\u20bf","NT$","RM","MOP$","dh","R$","RM","Rp"];function a(e){return o.some((t=>String(e).startsWith(t)))}const l=e=>{if(null===e||void 0===e)return 0;let t;if("string"===typeof e)t=e;else{if(Array.isArray(e))return 5*e.length;if("object"===typeof e)return 100;t=String(e)}let n=0;for(let i=0;i<t.length;i++){const e=t.charCodeAt(i);n+=e>=19968&&e<=40959?2:1}return n}},91722:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});class i{constructor(e,t){this.url=e,this.options=t}async createWorker(){return new Worker(this.url,this.options)}}},61124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(13226),o=n.n(i),a=n(74797),l=n(22963),r=n(38362);const s=(0,l.Fs)({baseURL:o()(a.Z.baseApiURL,"api","admin")});class d extends l.tr{async getQuota(){{const{data:e}=await this.fetch.get("quota/",{baseURL:"".concat(a.Z.baseApiURL,"/config/")});return e.detail}}async getWhiteList(){const{data:e}=await this.fetch.get("trial/whitelist/");return e.detail}async addPhoneOrEmailToWhiteList(e){const{data:t}=await this.fetch.post("trial/whitelist/",{phoneOrEmail:e});return t}async getBalance(e){const{data:t}=await this.fetch.get("balance/".concat(encodeURI(e),"/"));return t.detail}async recharge(e,t,n){const{data:i}=await this.fetch.post("balance/".concat(encodeURI(e),"/recharge/"),{amount:t,type:n});return i.detail}async getPageOrgs(e,t,n,i,o){const a=t?"&id=".concat(t):"",l=n?"&plan=".concat(n):"",r=o?"&isSubscription=".concat(o):"",s=i?i.reduce(((e,t)=>e+"&order="+t),""):"",{data:d}=await this.fetch.get("org/?page=".concat(e).concat(a).concat(l).concat(s).concat(r));return{orgs:d.detail,extra:d.extra}}async updateOrg(e,t){const{data:n}=await this.fetch.patch("org/".concat(e,"/"),t);return n}async getPageUsers(e,t,n,i,o,a,l){const r=t?"&id=".concat(t):"",s=n?"&plan=".concat(n):"",d=o?"&isSubscription=".concat(o):"",c=a?"&phone=".concat(a):"",u=l?"&email=".concat(l):"",p=i?i.reduce(((e,t)=>e+"&order="+t),""):"",{data:h}=await this.fetch.get("user/?page=".concat(e).concat(r).concat(s).concat(p).concat(d).concat(c).concat(u));return{users:h.detail,extra:h.extra}}async updateUser(e,t){const{data:n}=await this.fetch.patch("user/".concat(e,"/"),t);return n}async addMaintainInfo(e){const{data:t}=await this.fetch.post("broadcast/maintain/",e);return t}async deleteMaintainInfo(){const{data:e}=await this.fetch.delete("broadcast/maintain/");return e}async reportIssue(e){const{data:t}=await this.fetch.post("issue/",e);return t}async listIssues(e){const{data:t}=await this.fetch.get("issue/?page=".concat(e,"&size=10"));return t}async deleteThirdpartyConfig(e){const{data:t}=await this.fetch.delete("thirdparty/config/".concat(e.thirdpartyType,"/").concat(e.thirdpartyAppId,"/"));return t.detail}async setThirdpartyConfig(e){const{data:t}=await this.fetch.post("thirdparty/config/",e);return t.detail}async sendCard(e,t){const{data:n}=await this.fetch.post("thirdparty/card/".concat(e,"/").concat(t,"/"));return n}async listThirdpartyConfig(e){const{data:t}=await this.fetch.get("thirdparty/config/?page=".concat(e,"&size=10"));return t}async listThirdpartyUserPlan(e,t,n,i){const o=n?"&thirdpartyType=".concat(n):"",a=i?"&includeFree=".concat(i):"",{data:l}=await this.fetch.get("/plan/user/?page=".concat(e).concat(t).concat(o).concat(a),{});return l}async listThirdpartyOrgPlan(e,t,n,i){const o=n?"&thirdpartyType=".concat(n):"",a=i?"&includeFree=".concat(i):"",{data:l}=await this.fetch.get("/plan/org/?page=".concat(e).concat(t).concat(o).concat(a),{});return l}async getAppConfig(e){const t=!!e,{data:n}=await this.fetch.get("config/detail/",{baseURL:t?o()(a.Z.baseApiURL,"api"):void 0}),i=(0,r.tq)(),l=!e||"lark"!==e&&!i,s=n.detail;let d,c,u=l;return null!==s&&void 0!==s&&s.length?(s.forEach((e=>{var n,o,a,r,s;if(e.value)switch(e.type){case"basemap":u=null!==(n=(!i||!t)&&(t?null===(o=e.value)||void 0===o?void 0:o["amap-feishu"]:null===(a=e.value)||void 0===a?void 0:a.amap))&&void 0!==n?n:l;break;case"amap":d=null===(r=e.value)||void 0===r?void 0:r.key;break;case"googleMap":c=null===(s=e.value)||void 0===s?void 0:s.key}})),{enableAMap:u,amapKey:d,googleKey:c}):{enableAMap:u,amapKey:d,googleKey:c}}async getAmapConfig(){const{data:e}=await this.fetch.get("config/amap/");return e.detail}async updateAmapConfig(e){const{data:t}=await this.fetch.patch("config/amap/",e);return t.detail}async getGoogleConfig(){const{data:e}=await this.fetch.get("config/googlemap/");return e.detail}async updateGoogleConfig(e){const{data:t}=await this.fetch.patch("config/googlemap/",e);return t.detail}async listPendingEdu(){const{data:e}=await this.fetch.get("user/edu/");return e.detail}async verifyEdu(e){const{data:t}=await this.fetch.patch("user/edu/",e);return t.detail}async templates(){const{data:e}=await this.fetch.get("templates/list/");return e.detail}}const c=new d(s)},4511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(34362),o=n.n(i),a=n(56439),l=n.n(a),r=n(74797),s=n(22963),d=n(3254),c=n.n(d);async function u(e,t,n,i,o){var a;const{url:l,signedUrl:r}=n;return await c().put(r,e,{signal:o,headers:null!==(a=n.headers)&&void 0!==a?a:{"Content-Type":"application/octet-stream","Content-Disposition":"attachment; filename=".concat(t)},onUploadProgress:i}),{url:l}}var p=n(40522),h=n(15328),v=n(72494);const g=(0,s.Fs)({baseURL:"".concat(r.Z.baseApiURL,"/file/")});class f extends s.tr{async getSignedUrlForUpload(e,t,n){const{data:i}=await this.fetch.post("/upload/",{type:e,fileName:t,extra:n});return i}async finishUpload(e){const{data:t}=await this.fetch.patch("/upload/",{fileID:e});return t}async getSignedUrlForDownload(e,t,n){let i=null;n&&(i="image/resize,m_fill,w_".concat(Math.floor(n),",h_").concat(Math.floor(n)));const{data:o}=await this.fetch.post(null!==t&&void 0!==t&&t.userToken?"/shared/download/":"/download/",{url:e,process:i,params:t});return o}async getFileContent(e){const{data:t}=await this.fetch.get(e,{responseType:"blob"});return t}async generateThumbnail(e){return await this.fetch.post("/thumbnail/".concat(e,"/"),{key:e}),!0}async uploadFile(e,t,n,i){if(t.size>v.f0)throw new Error((0,h.wv)({id:"I0vR3W",defaultMessage:"File size exceeds 100M limit"}));if("attachment"===e&&o()(p.q6,(0,p.lm)(t.name))&&t.size>v.Kr)throw new Error((0,h.wv)({id:"jb/5MP",defaultMessage:"Image size exceeds 100M limit"}));const a=l()(t.name,"."),r=a.pop(),s=encodeURIComponent(a.join("."))+(r?".".concat(r):""),{detail:d}=await this.getSignedUrlForUpload(e,s),{url:c}=await u(t,s,d,n,i);return await this.finishUpload(d.fileID),"attachment"===e&&o()(p.q6,(0,p.lm)(t.name))&&await this.generateThumbnail(d.fileID),{fileID:d.fileID,fileName:t.name,fileSize:t.size,fileExt:(0,p.lm)(t.name),fileType:t.type||"unknown",url:c}}async uploadBuffer(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/octet-stream",a=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;if(t.byteLength>v.f0)throw new Error((0,h.wv)({id:"I0vR3W",defaultMessage:"File size exceeds 100M limit"}));const s=new File([t],n,{type:i});let d=n;if(n.includes(".")){const e=l()(n,"."),t=e.pop();d=encodeURIComponent(e.join("."))+(t?".".concat(t):"")}else d=encodeURIComponent(n);const{detail:c}=await this.getSignedUrlForUpload(e,d),{url:g}=await u(s,d,c,a,r);return await this.finishUpload(c.fileID),"attachment"===e&&o()(p.q6,(0,p.lm)(n))&&await this.generateThumbnail(c.fileID),{fileID:c.fileID,fileName:n,fileSize:t.byteLength,fileExt:(0,p.lm)(n),fileType:i,url:g}}}const m=new f(g)},98868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(73187),o=n(74797),a=n(22963),l=n(98403);const r=(0,a.Fs)({baseURL:"".concat(o.Z.baseApiURL,"/projects/")});class s extends a.tr{async create(e){const{data:t}=await this.fetch.post("",{...e,timezone:(0,l.vd)()});return t}async update(e,t,n,i,o,a,l,r,s,d){const{data:c}=await this.fetch.patch("".concat(e,"/"),{name:n,themeColor:i,desc:o,icon:t,timezone:a,defaultView:l,roleInherited:r,mapConfig:s,weekStartOnMonday:d});return c}async getLayerNodes(e){const{data:t}=await this.fetch.get("".concat(e,"/layernodes/"));return t}async getLayerTables(e){const{data:t}=await this.fetch.get("".concat(e,"/tables/"));return t}async delete(e){const{data:t}=await this.fetch.delete("".concat(e,"/"));return t}async duplicate(e,t){const{data:n}=await this.fetch.post("".concat(e,"/duplicate/"),{name:t});return n}async transfer(e,t,n){const{data:i}=await this.fetch.post("".concat(e,"/transfer/"),{toOrgID:t,toUserID:n});return i}async deleteRecycle(e){const{data:t}=await this.fetch.delete("/recycle/".concat(e,"/"));return t}async recover(e){const{data:t}=await this.fetch.post("/recycle/".concat(e,"/recover/"));return t}async invite(e,t){const{data:n}=await this.fetch.post("".concat(e,"/members/invitations/"),{members:t});return n}async getMembers(e){const{data:t}=await this.fetch.get("".concat(e,"/members/"));return t.detail}async updateMember(e,t){const{data:n}=await this.fetch.put("".concat(e,"/members/"),{members:t});return n}async deleteMember(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/members/").concat(t,"/"));return n}async updateLastOpenTime(e){const{data:t}=await this.fetch.patch("".concat(e,"/open"));return t}async updateFavorite(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/favorite"),{isFavorite:t});return n}async shareProject(e,t,n,i,o,a,l){const{data:r}=await this.fetch.patch("".concat(t,"/share/").concat(e,"/"),{toggle:n,togglePassword:i,toggleExport:o,resetToken:a,resetPassword:l});return r}async getSharedProject(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/"),{params:{userToken:i},ignoreError:!0});return o.detail}async getSharedTables(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/tables/"),{params:{userToken:i},ignoreError:!0});return o.detail}async getSharedLayerNodes(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/layernodes/"),{params:{userToken:i},ignoreError:!0});return o}async getSharedAnnotations(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/annotations/"),{params:{userToken:i},ignoreError:!0});return o}async getSharedMembers(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/members/"),{params:{userToken:i},ignoreError:!0});return o.detail}async getSharedBasemaps(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/basemaps/"),{params:{userToken:i},ignoreError:!0});return o}async createCustomizeBaseMap(e,t){const{data:n}=await this.fetch.post("".concat(e,"/basemap/"),t);return n}async updateCustomizeBaseMap(e,t,n){const{data:i}=await this.fetch.patch("".concat(e,"/basemap/").concat(t,"/"),n);return i}async getCustomizeBaseMap(e){const{data:t}=await this.fetch.get("".concat(e,"/basemap/"));return t.detail}async deleteCustomizeBaseMap(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/basemap/").concat(t,"/"));return n}async installExtension(e,t){const{data:n}=await this.fetch.post("".concat(e,"/extension/"),t);return n}async updateExtension(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/extension/"),t);return n}async getExtensions(e){const{data:t}=await this.fetch.get("".concat(e,"/extension/"));return t}async uninstallExtension(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/extension/").concat(t,"/"));return n}async getIcons(e){const{data:t}=await this.fetch.get("".concat(e,"/mapicons/"));return t}async getSharedIcons(e){const{token:t,type:n,userToken:i}=e,{data:o}=await this.fetch.get("shared/".concat(n,"/").concat(t,"/mapicons/"),{params:{userToken:i},ignoreError:!0});return o}async updateIcon(e,t){const{data:n}=await this.fetch.put("".concat(e,"/mapicons/"),t);return n}async addIcon(e,t){const{data:n}=await this.fetch.post("".concat(e,"/mapicons/"),t);return n}async getTemplates(e){try{const{data:t}=await this.fetch.get("templates/",{params:{type:e},ignoreError:!0});return t.detail}catch{}}async getStatistics(e){try{const{data:t}=await this.fetch.get("".concat(e,"/statistics/"));return t.detail}catch{return null}}async updateStatistics(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/statistics/"),{statistics:t});return n}async updateAilyConfig(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/statistics/aily/"),{config:t});return n.detail}async summaryByAily(e,t){const{data:n}=await this.fetch.post("".concat(e,"/statistics/aily/"),t);return n.detail}async summaryTables(e,t){const n=new Uint8Array(i.ZP.gzip(JSON.stringify({tables:t}))).buffer,{data:o}=await this.fetch.post("".concat(e,"/summary/"),n,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return o.detail}async export(e){const{data:t}=await this.fetch.post("".concat(e,"/export/"));return t}}const d=new s(r)},6686:(e,t,n)=>{"use strict";n.d(t,{IK:()=>p,ZP:()=>v,uh:()=>h});var i=n(84527),o=n.n(i),a=n(74797),l=n(30731),r=n(22963),s=n(72494),d=n(69151),c=n(22601);const u=(0,r.Fs)({baseURL:"".concat(a.Z.baseApiURL,"/tablenodes/")}),p="needPassword";class h extends r.tr{async gets(e,t){if(!t.token&&!t.projectId)throw new Error("invalid options");let n="gets/";const i={ids:[...new Set(e)]};t.projectId?i.p=t.projectId:(n="shared/".concat(t.type,"/").concat(t.token,"/gets/"),i.userToken=t.token);const{data:o}=await this.fetch.get(n,{params:i});return o.detail?o.detail.map((e=>{const t=[];for(const n of e.columns||[]){const e=(0,d.UH)(n),i=(0,d.po)(n);(0,c.xm)(e,i)&&t.push({...n,type:e,typeOptions:i})}return{...e,columns:t}})):[]}async create(e){const{data:t}=await this.fetch.post("",e);return t}async importData(e){const{data:t}=await this.fetch.post("import/",e);return t}async appendData(e){const{data:t}=await this.fetch.post("append/",e);return t}async move(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/move/"),o()(t,["parentID","prevID","projectID"]));return n}async update(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/"),t);return n}async deleteNode(e){const{data:t}=await this.fetch.delete("".concat(e,"/"));return t}async sync(e,t){const{data:n}=await this.fetch.post("".concat(e,"/sync/"),{sharePassword:t});return n.detail}async deleteRecycle(e){const{data:t}=await this.fetch.delete("recycle/".concat(e,"/"));return t}async recover(e){const{data:t}=await this.fetch.post("recycle/".concat(e,"/recover/"));return t}async getBigTableRow(e,t){const{data:n}=await this.fetch.get("bt/".concat(e,"/rows/").concat(t,"/"),{ignoreError:!0});return n.detail}async getBigTableExportInfo(e,t){const{data:n}=await this.fetch.get("bt/".concat(e,"/export/"),{params:{viewID:t}});return n.detail}async bigTableExport(e,t,n){const{data:i}=await this.fetch.post("bt/".concat(e,"/export/"),{exportID:t,viewID:n});return i.detail}async postRow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{data:i}=await this.fetch.post("".concat(e,"/rows/"),{cells:n,prevRowId:t});return i}async addRows(e,t){const{data:n}=await this.fetch.post("".concat(e,"/rows/create/"),{rows:t});return n}async moveViewRows(e,t,n){const{data:i}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/rows/move/"),{items:n});return i}async deleteRows(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/rows/"),{data:{rowIDs:t}});return n}async shareRow(e,t,n,i,o,a){const{data:l}=await this.fetch.patch("".concat(e,"/rows/").concat(t,"/share/"),{toggle:n,togglePassword:i,resetToken:o,resetPassword:a});return l}async getColumns(e){const{data:t}=await this.fetch.get("".concat(e,"/columns/"));return t.detail}async createColumn(e,t,n,i,o,a){const{data:l}=await this.fetch.post("".concat(e,"/columns/"),{name:t,type:n,prevColumnID:i,typeOptions:o,autoRename:a});return l}async updateViewColumn(e,t,n,i){const{data:a}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/columns/"),{columnIDs:n,...o()(i,["isHidden","width","required","title","desc","statsOption","allowAddChoice"])});return a}async moveViewColumn(e,t,n,i){const{data:o}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/columns/").concat(n,"/move/"),{prevColumnID:i});return o}async updateColumn(e,t,n,i,o,a,l){const{data:r}=await this.fetch.patch("".concat(e,"/columns/").concat(t,"/"),{name:n,type:i,typeOptions:o,desc:a,state:l});return r}async deleteColumns(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/columns/"),{data:{columnIDs:t}});return n}async geocodingColumn(e){const{id:t,columnID:n,type:i,outputColumnID:o,regeo:a,destCity:l,destProvince:r,destDistrict:s,skipNotEmptyOutput:d,overwriteEmpty:c,createLayer:u,processID:p,key:h}=e,{data:v}=await this.fetch.post("".concat(t,"/columns/").concat(n,"/geocode/"),{type:i,outputColumnID:o,processID:p,regeo:a,destCity:l,destProvince:r,destDistrict:s,skipNotEmptyOutput:d,overwriteEmpty:c,createLayer:u,key:h});return v}async geocodingCount(e){const{id:t,columnID:n,type:i,outputColumnID:o,regeo:a,skipNotEmptyOutput:l}=e,{data:r}=await this.fetch.get("".concat(t,"/columns/").concat(n,"/geocode/"),{params:{type:i,output:o,skip:l,regeo:a}});return r.detail}async regionBoundaryColumn(e){const{id:t,columnID:n,level:i,country:o,outputColumnID:a,inArea:l,areaColumnID:r,skipNotEmptyOutput:s,overwriteEmpty:d,processID:c,createLayer:u}=e,{data:p}=await this.fetch.post("".concat(t,"/columns/").concat(n,"/region/"),{level:i,country:o,outputColumnID:a,inArea:l,areaColumnID:r,processID:c,skipNotEmptyOutput:s,overwriteEmpty:d,createLayer:u});return p}async regionBoundaryCount(e){const{id:t,columnID:n,outputColumnID:i,skipNotEmptyOutput:o}=e,{data:a}=await this.fetch.get("".concat(t,"/columns/").concat(n,"/region/"),{params:{output:i,skip:o}});return a.detail}async patchCell(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{data:i}=await this.fetch.patch("".concat(e,"/rows/").concat(t,"/cells/"),{cells:n});return i}async createView(e,t,n,i,o){const{data:a}=await this.fetch.post("".concat(e,"/views/"),{fromViewID:i,name:t,type:n,state:o});return a}async deleteView(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/views/").concat(t,"/"));return n}async updateView(e,t,n){const i=1===Object.keys(n||{}).length&&"filter"in n;let a=(0,l.OV)(n.filter);i&&!a&&(a={filterCondition:"and",filters:[],filter:{and:[]}});const{data:r}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/"),{...o()(n,["groups","name","orders","desc","rowHeight","backgroundColor","state","ownerID"]),...a});return r}async moveView(e,t,n){const{data:i}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/move/"),{prevViewID:n});return i}async shareView(e,t,n,i,o,a,l,r){const{data:s}=await this.fetch.patch("".concat(e,"/views/").concat(t,"/share/"),{toggle:n,togglePassword:i,toggleExport:o,resetToken:a,resetPassword:l,allowSubscribe:r});return s}async subscribeView(e,t,n,i,o){const{data:a}=await this.fetch.post("".concat(e,"/views/").concat(t,"/subscribe/"),{projectID:n,subscribe:i,sharePassword:o});return a.detail}async getShareViewInfo(e,t){const{data:n}=await this.fetch.get("view/share/".concat(e,"/"),{params:{sharePassword:t},ignoreError:!0});return n.detail}async getViewDetail(e,t){const{data:n}=await this.fetch.get("".concat(e,"/views/").concat(t,"/detail/"));return n}async addAttachment(e,t,n,i){const{data:o}=await this.fetch.post("".concat(e,"/rows/").concat(t,"/cells/").concat(n,"/attachments"),i);return o}async deleteAttachment(e,t,n,i){const{data:o}=await this.fetch.delete("".concat(e,"/rows/").concat(t,"/cells/").concat(n,"/attachments/").concat(i,"/"));return o}async updateAttachment(e,t,n,i,o){const{data:a}=await this.fetch.patch("".concat(e,"/rows/").concat(t,"/cells/").concat(n,"/attachments/").concat(i,"/"),{name:o});return a}async pasteCells(e,t){const{data:n}=await this.fetch.post("".concat(e,"/pasteCells/"),t);return n}async updateCells(e,t){const{data:n}=await this.fetch.post("".concat(e,"/updateCells/"),t);return n}static transformRLS(e){if(!e)return e;if("filter"in e)return e;const{enabled:t,filterCondition:n,rowFilters:i,filter:o}=e;return i?{enabled:t,filter:(0,l.n8)({filterCondition:n,filters:i,filter:o})}:{enabled:t}}static toDeprecatedRLS(e){if(!e||!e.filter)return e;const{filters:t,...n}=(0,l.OV)(e.filter)||{};return{enabled:e.enabled,...n,rowFilters:t}}async getMembers(e){var t;const{data:n}=await this.fetch.get("".concat(e,"/members/"));return null===(t=n.detail)||void 0===t?void 0:t.map((e=>({...e,rowLevelPermissions:h.transformRLS(e.rowLevelPermissions)})))}async updateMember(e,t){const{data:n}=await this.fetch.put("".concat(e,"/members/"),{members:null===t||void 0===t?void 0:t.map((e=>({...e,rowLevelPermissions:h.toDeprecatedRLS(e.rowLevelPermissions)})))});return n}async deleteMember(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/members/").concat(t,"/"));return n}async copy(e,t){const{data:n}=await this.fetch.post("".concat(e,"/copies/"),{...t},{timeout:s.KI});return n.detail}async getSnapshots(e,t){const{data:n}=await this.fetch.get("".concat(e,"/snapshots/"),{params:{projectID:t}});return n.detail}async deleteSnapshot(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/snapshots/").concat(t,"/"));return n.detail}async createSnapshot(e,t){const{data:n}=await this.fetch.post("".concat(e,"/snapshots/"),t,{timeout:s.KI});return n}async restoreSnapshot(e,t,n){const{data:i}=await this.fetch.post("".concat(e,"/snapshots/").concat(n,"/restore/"),{projectID:t},{timeout:s.KI});return i}async restoreRows(e,t){const{data:n}=await this.fetch.post("".concat(e,"/rows/restore/"),{rowIDs:t});return n}async restoreColumns(e,t){const{data:n}=await this.fetch.post("".concat(e,"/columns/restore/"),{columnIDs:t});return n}static transformView(e){if(!e)return null;if(!("filter"in e)&&!("filters"in e)&&!("filterCondition"in e))return e;const{filterCondition:t,filters:n,filter:i,...o}=e;return{...o,filter:(0,l.n8)({filterCondition:t,filters:n,filter:i})}}async getPartial(e,t,n){var i;const{data:o}=await this.fetch.get("".concat(e,"/partial/"),{params:{viewID:null!==t&&void 0!==t?t:void 0,lastSegmentRowID:n,size:5e3}}),a=o.detail;return a?{...a,views:null===(i=a.views)||void 0===i?void 0:i.map(h.transformView).filter(Boolean)}:a}async getBigtableRows(e,t,n,i){const{data:o}=await this.fetch.get("bt/".concat(e,"/rows/"),{params:{viewID:i,startRow:t,endRow:n}});return o}async getDataItemDetail(e){const{data:t}=await this.fetch.get("".concat(e,"/dataItem/"));return t.detail}async getSourceDataItemDetail(e){const{data:t}=await this.fetch.get("".concat(e,"/sourceDataItem/"));return t.detail}async getSharedRow(e,t){const{data:n}=await this.fetch.get("shared/row/".concat(e,"/"),{params:{userToken:t},ignoreError:!0});return n.detail}async getSharedView(e,t,n){const{type:i,token:o}=e,{data:a}=await this.fetch.get("shared/".concat(i,"/").concat(o,"/views/").concat(t,"/"),{params:{userToken:n},ignoreError:!0});return a.detail}async getSharedViewDetail(e,t,n){const{type:i,token:o}=e,{data:a}=await this.fetch.get("shared/".concat(i,"/").concat(o,"/views/").concat(t,"/detail/"),{params:{userToken:n},ignoreError:!0});return a.detail}async getSharedPartial(e,t,n,i){const{type:o,token:a}=e,{data:l}=await this.fetch.get("shared/".concat(o,"/").concat(a,"/").concat(t,"/partial/"),{params:{userToken:n,lastSegmentRowID:i,size:5e3}});return l.detail}async getSharedBigtableRows(e,t,n,i,o){const{type:a,token:l,userToken:r}=e,{data:s}=await this.fetch.get("shared/".concat(a,"/").concat(l,"/bt/").concat(t,"/rows/"),{params:{userToken:r,startRow:n,endRow:i,viewID:o}});return s}async getSharedBigtableRow(e,t,n){const{type:i,token:o,userToken:a}=e,{data:l}=await this.fetch.get("shared/".concat(i,"/").concat(o,"/bt/").concat(t,"/rows/").concat(n,"/"),{ignoreError:!0,params:{userToken:a}});return l.detail}async getFormulaType(e,t){var n;const{data:i}=await this.fetch.post("".concat(e,"/formula_type/"),{source:t});return null===(n=i.detail)||void 0===n?void 0:n.type}async aggregate(e,t,n,i){const{data:o}=await this.fetch.post("".concat(e,"/aggregate/"),{name:t,groupByColumnID:n,accumulators:i});return o}async enrichment(e,t,n,i,o,a,l){const{data:r}=await this.fetch.post("".concat(e,"/enrichment/"),{coordinateColumnID:t,outputColumnID:n,method:i,sourceID:o,sourceField:a,sourcePartitions:l});return r}async getRelatedColumnFilterOptions(e,t){const{data:n}=await this.fetch.get("".concat(e,"/columns/").concat(t,"/options/"));return n.detail}async getShareRelatedColumnFilterOptions(e,t,n,i){const{type:o,token:a}=e,{data:l}=await this.fetch.get("shared/".concat(o,"/").concat(a,"/").concat(t,"/").concat(n,"/options/"),{params:{userToken:i}});return l.detail}async createRegionAggregate(e,t){const{country:n,accumulators:i,columnID:o,name:a,type:l,specifyMatchColumnID:r}=t,{data:s}=await this.fetch.post("/".concat(e,"/region_aggregate/"),{country:n,accumulators:i,columnID:o,name:a,type:l,specifyMatchColumnID:r});return s}}const v=new h(u)},3207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/users/")});class l extends o.tr{async info(){const{data:e}=await this.fetch.get("info/");return e.detail}async update(e){const{data:t}=await this.fetch.patch("info/",e);return t.detail}async match(e){const{data:t}=await this.fetch.get("match/",{params:{phoneOrEmail:e},ignoreError:!0});return t}async search(e,t){const{data:n}=await this.fetch.get("search/",{params:{q:e,orgID:t}});return n}async survey(e){var t;const{data:n}=await this.fetch.post("survey/",{...e});return null===(t=n.detail)||void 0===t?void 0:t.id}async getOpenInfo(e){const{data:t}=await this.fetch.post("open/ids/",{ids:e});return t}async deleteMe(){const{data:e}=await this.fetch.delete("info/",{ignoreError:!0});return e}async bind(e){var t;const{data:n}=await this.fetch.post("bind/",e);return null===(t=n.detail)||void 0===t?void 0:t.id}async eduVerify(e){const{data:t}=await this.fetch.post("edu/",e);return t.detail}async unsubscribe(e){const{data:t}=await this.fetch.post("unsubscribe/".concat(e,"/"),{},{ignoreError:!0});return t}}const r=new l(a)},2496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/workspaces/")});class l extends o.tr{async get(){const{data:e}=await this.fetch.get("");return e.detail}async getDetail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{data:n}=await this.fetch.get("".concat(e,"/").concat(t,"/"),{ignoreError:!0});return n.detail}async getPublicInfo(e,t){const{data:n}=await this.fetch.get("open/".concat(e,"/").concat(t,"/info/"));return n.detail}async getWorkspaceRoles(e,t){const{data:n}=await this.fetch.get("".concat(e,"/").concat(t,"/roles/"));return n}async getQuota(e,t,n,i){const o=n?n.join():void 0,{data:a}=await this.fetch.get("".concat(e,"/").concat(t,"/quota/"),{params:{items:o,async:i}});return a.detail}async getMapTokens(e,t){const{data:n}=await this.fetch.get("".concat(e,"/").concat(t,"/maptokens/"));return n.detail}async setMapToken(e,t,n,i){const{data:o}=await this.fetch.patch("".concat(e,"/").concat(t,"/maptokens/"),{mapType:n,token:i});return o.detail}async deleteMapToken(e,t,n){const{data:i}=await this.fetch.delete("".concat(e,"/").concat(t,"/maptokens/").concat(n,"/"));return i.detail}async updateCustomColors(e,t,n){const{data:i}=await this.fetch.patch("".concat(e,"/").concat(t,"/"),{customColorPalette:n});return i}async canTrial(e,t){const{data:n}=await this.fetch.get("".concat(e,"/").concat(t,"/trial/"));return n.detail}}const r=new l(a)},98194:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var i=n(94553);function o(e){let{size:t=48}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:"none",viewBox:"0 0 48 48",children:(0,i.jsx)("path",{stroke:"#97a0af",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M40 21v-7.4c0-3.36 0-5.04-.654-6.324a6 6 0 0 0-2.622-2.622C35.44 4 33.76 4 30.4 4H17.6c-3.36 0-5.04 0-6.324.654a6 6 0 0 0-2.622 2.622C8 8.56 8 10.24 8 13.6v20.8c0 3.36 0 5.04.654 6.324a6 6 0 0 0 2.622 2.622C12.56 44 14.24 44 17.6 44H23m21 0-3-3m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})})}},81422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(57435),o=n(33718),a=n(19087),l=n.n(a),r=n(98248),s=n(10485),d=n(96271);const c="colorPicker_currentColor__htq7X",u="colorPicker_disabled__wmTnR",p="colorPicker_popover__bf8Ln",h="colorPicker_colorWrapper__hFAex",v="colorPicker_picker__hOedR",g="colorPicker_presets__mwdpK",f="colorPicker_preset__y+FIX",m="colorPicker_active__-+dlu";var y=n(94553);const w=e=>{let{color:t,className:n,withPreset:a=!0,disabled:w,onChange:b=l()}=e;const[C,x]=(0,i.useState)(t);return(0,i.useEffect)((()=>{x(t)}),[t]),(0,y.jsx)(s.Z,{placement:"bottomLeft",classNames:{root:p},content:(0,y.jsxs)("div",{className:v,children:[a&&(0,y.jsx)("div",{className:g,children:d.N3.map(((e,t)=>(0,y.jsx)("div",{className:(0,o.default)(f,{[m]:e===C}),style:{backgroundColor:e},onClick:()=>b(e)},t)))}),(0,y.jsx)(r.AI,{color:C,disableAlpha:!0,onChange:function(e){x(e.hex)},onChangeComplete:e=>{b(e.hex)}})]}),trigger:w?[]:"click",children:(0,y.jsx)("div",{className:h,children:(0,y.jsx)("div",{"data-testid":"color-pick-area",className:(0,o.default)(c,n,{[u]:w}),style:{backgroundColor:C}})})})}},16128:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(94553);const o=e=>{let{colors:t,colorKey:n}=e;return(0,i.jsx)("div",{"data-color-key":n,style:{width:"100%",borderRadius:2,height:12,background:"linear-gradient(90deg, ".concat(null===t||void 0===t?void 0:t.map(((e,n)=>"".concat(e," ").concat(0===n?0:(n/(t.length-1)*100).toFixed(2),"%"))).join(", "),")")}})}},73468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(33718),o=n(57435),a=n(95620);const l=n.p+"static/media/loading.90670de99ef870c5b288.svg";var r=n(30423),s=n(21101),d=n(74909),c=n(28137);const u=function(){const e=(0,r.I)();return{logout:(0,o.useCallback)((()=>{e(s.N.setAuth(!1)),e(d.Nw.clearWorkspace()),(0,c.jv)()}),[e])}};var p=n(38441);const h="loading_loading__GEW1R",v="loading_hide__5BFLA",g="loading_tip__Mox6k",f="loading_btn__SyZtZ";var m=n(94553);const y=e=>{let{hide:t=!1,enableLoadingTip:n}=e;const[r,s]=(0,o.useState)(!1),d=(0,a.Z)(),{logout:c}=u();(0,o.useEffect)((()=>{if(!t&&n){const e=setTimeout((()=>{s(!0)}),1e4);return()=>clearTimeout(e)}s(!1)}),[t,n]);const y=(0,o.useCallback)((()=>{window.open(p.bt,"_blank")}),[]);return(0,m.jsxs)("div",{className:(0,i.default)(h,{[v]:t}),children:[(0,m.jsx)("img",{src:l,alt:"Loading..."}),r&&(0,m.jsx)("div",{className:g,children:d.$t({id:"gfOyUk",defaultMessage:"Loading is taking too long. Please try <logout>clearing your cache</logout> and logging in again, or <contact>contact us</contact> for assistance."},{logout:e=>(0,m.jsx)("span",{className:f,onClick:c,children:e}),contact:e=>(0,m.jsx)("span",{className:f,onClick:y,children:e})})})]})}},75202:(e,t,n)=>{"use strict";n.d(t,{g:()=>p});var i=n(57435),o=n(33718),a=n(95620),l=n(64496),r=n(44387),s=n(50239),d=n(68429);const c={wrap:"showMore_wrap__J57xL",inner:"showMore_inner__erqxS",trigger:"showMore_trigger__QG0r8"};var u=n(94553);function p(e){const{active:t=!1,maxHeight:n=280,children:p}=e,h=(0,a.Z)(),[v,g]=(0,i.useState)(!1),[f,{height:m}]=(0,l.Z)();return(0,r.Z)((()=>{t&&m>n&&g(!0)})),t?(0,u.jsxs)("div",{ref:f,className:(0,o.default)(c.wrap),children:[(0,u.jsx)("div",{className:c.inner,style:{maxHeight:v?"none":n+20},children:p}),(0,u.jsxs)(s.Z,{className:c.trigger,align:"center",onClick:()=>g((e=>!e)),children:[v?h.$t({id:"qyJtWy",defaultMessage:"Show less"}):h.$t({id:"aWpBzj",defaultMessage:"Show more"}),v?(0,u.jsx)(d.Z,{type:"arrowUp2",cursor:"pointer"}):(0,u.jsx)(d.Z,{type:"arrowDown2",cursor:"pointer"})]})]}):p}},63856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(57435),o=n(47752);const a={tooltip:"TooltipIfNeed_tooltip__fkhoS",ellipsis:"TooltipIfNeed_ellipsis__mrlsu",pre:"TooltipIfNeed_pre__0Xf+h"};var l=n(94553);function r(e){const{text:t,reRender:n=!1}=e,r=(0,i.useRef)(null),[s,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const{offsetWidth:e,scrollWidth:t}=r.current||{offsetWidth:0,scrollWidth:0};d(e<t)}),[t,n]);const c=(0,i.useMemo)((()=>s?{}:{open:!1}),[s]);return t?(0,l.jsx)(o.Z,{classNames:{root:a.tooltipRoot},styles:{root:{maxWidth:680}},title:(0,l.jsx)("pre",{className:a.pre,children:t}),...c,children:(0,l.jsx)("div",{ref:r,className:a.ellipsis,style:{maxWidth:"100%"},onClick:e.onClick,children:t})}):null}},645:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(57435),o=n(94553);const a=e=>{const t=(0,i.useMemo)((()=>(0,i.lazy)((()=>Promise.all([n.e(24),n.e(32),n.e(408),n.e(760)]).then(n.bind(n,43760))))),[]);return(0,o.jsx)(i.Suspense,{children:(0,o.jsx)(t,{...e})})}},78731:(e,t,n)=>{"use strict";n.d(t,{X8:()=>M,TR:()=>P,h$:()=>k,Zt:()=>E,rT:()=>T});var i=n(15972),o=n.n(i),a=n(79129),l=n(18263),r=n.n(l),s=n(29697),d=n(95436);const c=n.p+"static/media/amap-standard.81603d51180fb2de262b.jpg",u=n.p+"static/media/amap-dark.43e1c8a00b32293ca260.jpg",p=n.p+"static/media/amap-dark-blue.106c2759973bd7292268.jpg",h=n.p+"static/media/amap-satellite.4ef520bc7f0c505f7859.jpg",v=n.p+"static/media/googlemap-atlas.8b4d6d2e19db8d4bca84.jpg",g=n.p+"static/media/googlemap-dark.e72320e26d9a0ed759ec.jpg",f=n.p+"static/media/googlemap-grey.08b020ac4e6e6c9a14b5.jpg",m=n.p+"static/media/googlemap-light.05a4861665a9056d5280.jpg",y=n.p+"static/media/googlemap-night.483f44c0548ef95ff24f.jpg",w=n.p+"static/media/googlemap-satellite.bc5868ebd3ec4813dc2d.jpg",b=n.p+"static/media/mapbox-streets.1ee0ed19eaa9ec50d32d.jpg",C=n.p+"static/media/mapbox-outdoors.115a0685c251aa3c4f73.jpg",x=n.p+"static/media/mapbox-light.5139600e9d413e6b05d1.jpg",I=n.p+"static/media/mapbox-dark.deb842168dca303b3842.jpg",j=n.p+"static/media/mapbox-satellite.42ffa811eefdf6c46994.jpg",M=o()({},s.Cf,{AmapStandard:{icon:c},AmapLight:{icon:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMDAwMDAwMDAwMEBAQEBAYFBQUFBgkGBwYHBgkOCAoICAoIDgwPDAsMDwwWEQ8PERYZFRQVGR4bGx4mJCYyMkMBAwMDAwMDAwMDAwQEBAQEBgUFBQUGCQYHBgcGCQ4ICggICggODA8MCwwPDBYRDw8RFhkVFBUZHhsbHiYkJjIyQ//CABEIAKAA0AMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAAABAIDBQEGBwn/2gAIAQEAAAAA/S1ji67bFUFysaR0SvlEGcpF63YoQz/QWnK4zVLS86qrF6nG2cXdpaS1ewYT4wpO1ScyqZOvY8zmu6Tskm+p3LvKJJuNNLXJeDfe+geTz/R9YjGyShB3xOZqu6rNTPfMp+h4oasou8XmxBNv5/Tb6R/patlu2ZHbNYcqvrtsV7bgP3sIdbnNXGX5I9LTdGluyggzRKvko+X9FkVldgbbVggx2pu0po5CZbiKkJh3R0ikossa5epZyFkY+bIki7Rpeqb5RxiBr4VmIh62/IypwmE9FxLInuNzVsmxfjed09BzyNsJdAc0sXtLGs5xW5hpJA7XjBIAtcz16aH9ZphyllrFbUxVeTAAAORmQt0dhvJ87KHLAAAAACE2dWzCp7zoBOAAABCYxXrYcudC5ptTPAAA5yRdrZFEoyJegFkVAAAITOOMqqHSWugos0AABzlmhC7OnTo0rQA//8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oACAECEAAAAFgBpkFRqXIa1iNxkLFWsLAuhkhTQlZg2AJNAAimbQQsX//EABcBAQEBAQAAAAAAAAAAAAAAAAABAgP/2gAIAQMQAAAAmNambUcnRtGbXLXPtbJjj16ONnaklSYze1xqicR1zdnOznRL10k5SgNa5gAWHXGQmkLP/8QAKxAAAwABBAIBAwQBBQAAAAAAAQIDBAAFERITIRAUIjEgIzAyQRU0QFFx/9oACAEBAAEIAOxb+gn3Xya7BRwvlWoacgSH76Vg45ElHPFCw9hVbtBy3ibj1Hn/AE8IdD0QdO4otOItkebinw1UV1m3mQHrp2DVbTOqAs23PR8ib6zqE2M9Pak0HWmIm9J0N3xcGD422LSCL2f6qnk7NnWujjxxq8aLSaoMmYyJTCSIKE8knT/lX1RBJH4Wh4PMUJxc8/MxythpUYEMQQwDAelUfDfa5OsnJVKaWLORS4oVUBdzxy/XOmENGVBuSriYYwI6sTTnImnWoBDzGRJsY4MnTy3olAUXow40TxxpGCdk1VeqgaQgTbUBziZYHjfXh1NAgodZOTJJNx5p+MCXmGvKT+OLWLaXGmn9UEaL2msgDy2JumFbJbEXGwsbGuXjujFstySeo51Nmw3RKNEsGtBEmizdqsXYPpf2adNL932F18fZD5io6FqBpq7FuR1GL/tsrVrrIgF8/j0jZlH7rrEbyrT6iaKvIloVpShWS/l9bqaDb8kyjkXxm7wpvG4WmZNt9xjFBI2EcaGtx587VYDk9yuM1UJeVRgvKS2koZXUFgCpdFohUz7zQGv9webLwVoF4MqrrggcnHPXFyNb1m0Oa04jOyAhTWO+OJqs0cp2GsbieKGXzaQKlHppD27EOyopZ8sQyCzHBAGMhG34PlZci2fnPaxExleb9rJpjkDvJ7PY8uSlVM6ypSZOJcKAoZy7Dko/M17IHKkdjPyKzaUxkrotEZG4ZfWLMa3fFfGzadpbdmWgciWBtxzTRRLBbqotYLBY468rrjn0O4l0TWaytD3KVLN0lhbXHDrR7Ze4GgMosTz1UAKAAlGmeVu3ZuYrJ2VXkJDxKLTtU0MMgkD2V5c+Qr9x4Hfr9q2RlI0nNZMmrEzljDW9wplwiY7VN5YGPOlMTHrWdnPSX3atP2GYOp/Ep8fe79DwxbHR0YWpm42Knixr5NbklyeATpQRyT8dVuDUl1UMJx7NNgbRSyhWm7VJjfXpF1R+gGkVirCs+07KpypVrQIv0/U8NMyHC6pZg7JObgAKXQccaZlkrcrvlzlMuPJLYuOH3B8jJZ3B+B97dv0YNqf0t4FVuxU8HnX2nkpZfIQ64l0r3V7W6nU2KnllBY+u3LQEsl2bIuDpFYOCaSdnLqVYcchHb85MBmYzxaeLjIFucvIa9GJ+G9/YPkAt6FlP1GMyToPGVY0Xg8TYq6kUHV3XVJsSKyRksrVVJl+WPPoKvsHWQCaGoFVNDMaJABJFUPv4HIcjW5U8GJKI+CwUclV4HJ+ISFXKmcUl2KPRXyZTTqRNiSQo5ZUC6shP7i6GOxcZKo65Mu8R5vSmr0QzGphGxUV9wg0HTKit+6q67y9bLLEljYu6YiipkAQGAUuygbrkefLchG7jn4H3Ht+iZYOvVHv3CUdJQXzXvnq0Xsc3PR8dHnhbvl3k60hlOehK2R2ZQSSeTSdJ0+pxp2W6B0YmnA1j16/t1zJFFjy8li4E9zpl4mYmYm35hzZO7S6SCqs7IJ5T6NVyH9aY8noAP0/VkTUDNxMvNqhx8nY8x+9MmOybQ0w5ntG0mP1CbdHEZykBt+QHV5FWQ8NrowpUzWgY9S57oH1jA5MXhrImiqsXLKWZCAAABwzFVTNY42OmGg/zpm6jnSjgfqj08qd8nc8m7Np2agIfHk0Z+NstLV6Rnk45l0vHGyfIoec91zpgKU3WLcC62wK0R0GE9wOn02VL7TLHy4e1yICzJ2psteWvBdvVFDZFcqCN4cDJfvQgchSeR9x7n+MgEEFJrMEL8P6AbSu6Hskd43GPHC54t4ktiul1vM7nXJxVSSF7ngMlLT5Knye9dQH7H/gofyp1jI1bIdZeR4SlpnLnuwEa3g8aNKgP/ej/AIP6vG/Xt/I3plb5jT2yMyMgDAsM/Bd3Pr38N+D+iHjNAKDDAcMf/MmPZfIP4iAwKlSSOD8TtwSH21UNbqrxdOx0PXr4X+o+UDFlCRNCgFWmCeBXhFZaJGL+l/iP2sD8n/B1g3GNlws2bzjZbozyWqhpj370PlHM3V1vZqQWkJZlpnWcPrnVn+irgNDLxP1EEfn5YdgRpTyPaIXdUU7cfC2sbCdmDWyENsNXab9G95CdXDiSGj9AyShFuUh5YzIdDNyh5I/Hz//EADsQAQABAgQDBQYDBwMFAAAAAAECABEDITFBElFhECIycYEEEyBCUqGRscEFMDNykrLRU8LhI0BiguL/2gAIAQEACT8A/q2rULSXe29F+rSSxIGed7HrWt73tXqU8MZlHDqP1Va8oRWXqVatcL2qcP6ge1lkXz8yoQIZ2lGSryy7ORUrSloVxXv9LQ+COom7TYKiRwklHvay4ixRaOHlbq6tTQ44ZbeIo93jYRf3vyh1qHBisGMvaD+Ir12qXFK3g5PKVNzeBkWqVsKWcZBZae8ferRg+K/ytF3eT+h2aTyf5j/NDeVi13LO97UZBWnvMLE8r3j2/wCn/uKLBTca2idnO9RZSYgRKSTtHaNFko7szvnKVR4lQDrUuHElEcSZrx6/bsAmA4htM5nWm0F/HzotKIuH5lYbwRimneU2jVvdoWDS1aOjRqh+Nayyv9LRazp2bxh/d2SpfB+pUxXu5d7XyonZAjaKdMlrDxP6GsHEfQPzaDCDK9+KVeaua9VrEJnOKJ9qb1P3mvEWybcmoXscRcpeb69i+4UMOS34FyIy6cqL74mGf3FTJziiBt0a0ftXgmrHpLVPWt3Lo099LKbX5daLzNdjzouvdlbmVkXrlH+6raXzbf5akPlG35rUzlI1/E0qRKAxsS50Eo+8vrey8uyMeGE+GbL9K+qpcMiH23rFlB6OvnWLaLlJhEFKhODr3zx2oZTTjBMyN7l68EwSW1gzo6BQGG5LLR6US4HuwxZN1foeXSvBiaJlwp8td4/BK33NRKLYun/1XiPvXk05jGX6fr2fNiQj+bU7GFEi23dWpDf5rZ1ON3NzzWtJFk51K5L2jfJyjmfeo1xd67a+WdfVSESsCBEvYiWftRqt/wAaAw4ZlzW36VNjGLs20qLOBrLdalxxeWtL3cuH6elRJRkWR0akyJ54WI2zTMH/AMj7lDdzI/5q0edsr2pekXd5UcPXUoOHSV6gBPJlp+BTfceZXzY9/wCmL/mlkYq4kZO96wGWHnmatuRXtEcLFg5QkZtYoy34DVoWMZRHP5nNqL+NDUHMvRLxFqgyelSkxsIP8Mem8n7Vcju87UnE5+laFPmOjWaZSdnodaZK7Od6jGS2kGUiKOT1RpZYgXjO1jEOZ1NymxR/KPLnWvLlWcd+tKxfC1rDOL+ZX0yl+Lb/AG1hs8SE8w5JUWMgbjteTWEe8gjGZk5dSjvjt8nWVStwSH71IfJrItkb0ARLZ1lDfZrDKk9mr2yIMS8+vUKOCMvFzfOixFuX65NZI8UZGsXmVliYecgLRmbSL7dnjka8jlQyk6RN6lfitkaRelfUCcxrCnaGDDviRiLtn51jRfIqU18go4LWz+Zv1otSgyjl61eLG9+JuRDWVYPHCRHDw4K3y382sYxMa/ERjpDlnzrFXCc4jY4eha2XbpFyy30v8GHGGJGItpXJEq7wt48g7JXDXmVLhnBvCfJ/xzKiRxMPxwOeydGu9OWh+r0qV7ufYRvGZxSkXWO9qvwxxGMTpEt2GWdSC8QzL6UVkWtUuHjykmyN2sGIezJKFi3etYKVO3fXOyHwC1kkpEnnGzlXyZj0cqa9TmVtJKSOLEtGSZWdYvRqLGQ2nF1ilPDE1k0vCbc+r2eDECUX0zKuoZu3l2NPZpM+5WUsT/qS9cj4LcTnJO1sBer52qcWcFliR3IsaG07B6N6bHZ/7dHn2d1iWT/Uj9H/ADtT3C8ZYchGCZJQWNxuv42qHDGaBLxWrDMW8uFZHEnlevkQnHbonKrWkXKgynjPFY5QqfDh4Xelhs73iZtgqV62R9DX7Va0ci1RlH+bs0Mjr1+CVm9r1hlvqKe78pbOXQq0eCLaHIKxiOLCVzhRu0w4op3wzfMqcWPD3paIvPpXBxRbIxL002xLWlFe7M/zVjZ6J0dKFOEC5wt/xaLFwltZ2lQSjKHDdzJBRbDxLobRkah5mZQOHwEI3zOaNYXAxeF3Gh4YxIm9rU5QwmK9Z5Wqcid+Jt+T2eb5fEd7dawmeHh4ZC42Ipre9e2ezezYMC6M2aBukBr9pkxjrGL9rpX7axYR4Vu4INjpxV+28LElbKONhTw3qZ3vWFh4iviwsVknkUI9cuxtLKRfwpLZ9Su7P6X9OZWeJhlnnKNN+GDPDpeNkOWkZRzPWrXMkqwGgVFlKTYDPWpXvNniyN58vSudZuxza1W78QJ1rEYwvkHKpMrls29IkV4U5NAQl4mnOAD1tvUmLvZtZrG95E+XECR969ktzlhS4fs3r2v3bwseHFixzbOpevd4pqMZDbqVFnG1tQn98moE8SWcPli2bp5utYEu/G7I+VNpcnrXtQyM2E/Fn5XvXtuAfyPFfyq7JO9iy5dKco5U8q02Etbr+8LjQAyXLr2/K38tmpyim42r2mUg2n3vzrGSeKCcK2JajZrE4ZT+UkwkPMHOseUrgTlPNbFvTSpiZ8yiIsba1wmXnnWa8/8AslWLa/PsQ4UX0qIyi962Vq7mOHDC7lPpfZoRK17Nn4oNudv3l+T2o8f1aX69Gr2unUTZ61n7R7Na7vKDkPxmSWKXg5dniDPr+70SrXMntUU8WtzS0h1KAJ+zzLxbx5lxzNKOKI24jM+IWV8qgDQl99ipcKjn+tYpOSXAQv8Au9JZPweEl3vJyaL7k4PC2d7mt6txXyQsSeSbS7Ob26jesSzuFS4hbpKpSjGJbgHKsSOIpnBTi+M+BteizuVrJtUlxLZBpUbR5X39K/jeyJhT6wc4vpV2LlIrOOJnfr/zrW7+lArl5tWG7dpvan4P/8QAHxEAAgICAQUAAAAAAAAAAAAAAAERMCAxAhASQEGB/9oACAECAQE/ACKlRGHaNZ8djgbr11SkjKLIeK2MWKk+jXsi+BeExO7/xAAjEQEAAgICAgIDAQEAAAAAAAABABECMRAhEiADUTBBYSJS/9oACAEDAQE/ALjmDUOTg4vjKxY7/tdvHjaPp1HLEg3398PQsPlx/ZMcvItjth6/JfjDys6mIj3wtCynJuKaxl/fs/6EnQB9cORjVxz/AJFXklwy+4zfNRoF9Kuau2GeNyh7GBXCWTNfHuYAaep8jo9NTJxb2zr/AIhkaqGeLLHTw/wj1H8WKnW4v6vv8zofQx6mR30e4LolPjymmK7ubbdz/9k="},AmapDark:{icon:u},AmapDarkBlue:{icon:p},AmapSatellite:{icon:h}}),k=o()({},s.HU,{GoogleMapAtlas:{icon:v},GoogleMapLight:{icon:m},GoogleMapGrey:{icon:f},GoogleMapDark:{icon:g},GoogleMapNight:{icon:y},GoogleMapSatellite:{icon:w}}),T=o()({},s.Sr,{MapboxStreets:{icon:b},MapboxOutdoors:{icon:C},MapboxLight:{icon:x},MapboxDark:{icon:I},MapboxSatellite:{icon:j}}),E=(s.nn,s.nB,s.R6,[{key:"amap",msg:(0,a.Em)({id:"basemap.amap.short",defaultMessage:"Amap"})},{key:"mapbox",msg:(0,a.Em)({id:"zeDMyV",defaultMessage:"Mapbox"})},{key:"google",msg:(0,a.Em)({id:"lzgH40",defaultMessage:"Google"})},{key:"customize",msg:(0,a.Em)({id:"Sjo1P4",defaultMessage:"Custom"})}]),P=((0,a.Em)({id:"myq2ZL",defaultMessage:"Normal"}),(0,a.Em)({id:"/sPrWg",defaultMessage:"Additive"}),(0,a.Em)({id:"vgZYnf",defaultMessage:"Subtractive"}),{bg:(0,a.Em)({id:"8o8Qs2",defaultMessage:"Area"}),road:(0,a.Em)({id:"bEzgqy",defaultMessage:"Road"}),building:(0,a.Em)({id:"oS/nae",defaultMessage:"Building"}),point:(0,a.Em)({id:"map.features.point",defaultMessage:"Label"})});r()(d.E[0],d.E[1]+1).map((e=>({key:e,label:e,value:e})))},83580:(e,t,n)=>{"use strict";n.d(t,{Vq:()=>i.Vq,RI:()=>i.RI,Ph:()=>o.Select});var i=n(6404),o=n(47587);n(57435);n(94553);n(68429)},74797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,i:()=>i});const i=n(88505).ZP,o={antdPrefix:"mt",baseApiURL:"".concat("https://maptable.com/api").concat("/thirdparty"),requestParams:null,useDevToggle:["blue","local"].includes("production")}},22601:(e,t,n)=>{"use strict";n.d(t,{Rp:()=>s,Xn:()=>p,cd:()=>u,fP:()=>r,go:()=>l,wn:()=>v,xm:()=>h});var i=n(84527),o=n.n(i),a=n(36639);const l=1e6,r={is:{key:"is"},isNot:{key:"isNot"},equals:{key:"equals",mark:"="},notEqual:{key:"notEqual",mark:"\u2260"},startsWith:{key:"startsWith"},endsWith:{key:"endsWith"},lessThan:{key:"lessThan",mark:"<"},lessThanOrEqual:{key:"lessThanOrEqual",mark:"\u2264"},greaterThan:{key:"greaterThan",mark:">"},greaterThanOrEqual:{key:"greaterThanOrEqual",mark:"\u2265"},contains:{key:"contains"},containsAny:{key:"contains"},containsAll:{key:"containsAll"},notContains:{key:"notContains"},empty:{key:"empty"},isNull:{key:"isNull"},isNotNull:{key:"isNotNull"},inArea:{key:"inArea"},inRange:{key:"inRange"},notInRange:{key:"notInRange"},isAfter:{key:"isAfter"},isBefore:{key:"isBefore"}};let s=function(e){return e.is="is",e.isNot="isNot",e.equals="equals",e.notEqual="notEqual",e.startsWith="startsWith",e.endsWith="endsWith",e.lessThan="lessThan",e.lessThanOrEqual="lessThanOrEqual",e.greaterThan="greaterThan",e.greaterThanOrEqual="greaterThanOrEqual",e.contains="contains",e.containsAll="containsAll",e.notContains="notContains",e.empty="empty",e.inRange="inRange",e.inArea="inArea",e.isNull="isNull",e.isNotNull="isNotNull",e.notInRange="notInRange",e.isBefore="isBefore",e.isAfter="isAfter",e}({});const d=["number"],c=["empty","notEmpty","isNull","isNotNull"],u=Object.keys(r),p=e=>!!e&&c.includes(e),h=(e,t)=>{if("lookup"===e&&t){var n,i;const o=["original","distinct"].includes(t.lookupResultType);e="formula"===t.lookupColumnType&&null!==t&&void 0!==t&&null!==(n=t.lookupColumnTypeOptions)&&void 0!==n&&n.expectedType?null===t||void 0===t||null===(i=t.lookupColumnTypeOptions)||void 0===i?void 0:i.expectedType:o?t.lookupColumnType:"number"}switch(e){case"multiLineText":case"hyperlink":return o()(r,["equals","notEqual","startsWith","endsWith","contains","notContains","isNull","isNotNull"]);case"number":return o()(r,["equals","notEqual","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","isNull","isNotNull"]);case"multiChoice":case"member":return o()(r,["equals","notEqual","containsAny","containsAll","notContains","isNull","isNotNull"]);case"singleChoice":case"creator":case"updater":case"related":return o()(r,["equals","notEqual","containsAny","notContains","isNull","isNotNull"]);case"datetime":case"createTime":case"updateTime":return o()(r,["is","isAfter","isBefore","isNull","isNotNull"]);case"boolean":return o()(r,["equals"]);case"coordinate":return o()(r,["inArea","isNull","isNotNull"]);default:return o()(r,["isNull","isNotNull"])}};function v(e,t,n){const i=d.indexOf(e)>-1?t.mark:null;return i||(t.key in a.n?n.$t(a.n[t.key]):t.key)}},13484:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={id:"hex",name:"Hex",type:"coordinate",mode:"normal",desc:"",isPrimary:!0}},38441:(e,t,n)=>{"use strict";n.d(t,{NQ:()=>s,Ox:()=>r,R2:()=>d,U8:()=>a,bt:()=>i,gL:()=>o,y2:()=>l,zP:()=>c});const i="https://maptable.com?chat=open",o="mailto:support@maptable.com",a="https://maptable.feishu.cn/wiki/C3y9wenwxiYjzvkszQSc2Gmin4b",l="https://maptable.feishu.cn/wiki/H3sNwdO5OiBYQ0kIka5cblyinwc",r="https://maptable.feishu.cn/wiki/L0xdwI5zkiFjqzkkhlvcp5tTnud",s="https://join.slack.com/t/maptablecommunity/shared_invite/zt-2do6x443n-VA6TCMylCHELt3SyEKEF0g",d="https://maptable.feishu.cn/docs/doccnwCgXR9wsasiC9LgIOYb4cc",c="https://maptable.feishu.cn/wiki/NneZwUVyVi3eSjkqtEqcz6gyn4H"},95436:(e,t,n)=>{"use strict";n.d(t,{BE:()=>d,Br:()=>y,Cq:()=>h,D0:()=>l,E:()=>u,Gr:()=>o,LW:()=>r,My:()=>v,dC:()=>w,fg:()=>b,iO:()=>a,jm:()=>m,lf:()=>f,mf:()=>s,r0:()=>c,ry:()=>g,z3:()=>p});var i=n(29697);const o=10,a=100,l={height:"1px",backgroundColor:"#0065ff",pointerEvents:"none",position:"absolute"},r={position:"absolute",pointerEvents:"none",color:"#0065ff"},s=40,d={size:{height:500,width:800},zoomLevel:8,baseMapStyle:i.nn.AmapLight},c=18,u=[2,19],p=0,h=100,v=5e3,g=[116.397,39.903],f=[-102.995,40.216],m=["location","circle","square","diamond","triangle","cross","plus","flag","star","love"],y=["car","taxi","metro","train","airplane","rocket","motor","bike","scooter","ship","truck","walking"],w=160,b="".concat("https://icon-cdn.maptable.com","/assets/mapicons")},33766:(e,t,n)=>{"use strict";n.d(t,{Jd:()=>a,zq:()=>l});var i=n(14083),o=n(20491);o.JC.NewMapLayer,o.JC.NewMapFolder,o.JC.NewMapLayer,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.NewMapLayer,o.JC.NewMapFolder,o.JC.NewMapLayer,o.JC.MapFolderRename,o.JC.MapFolderDelete,[{action:"fitBounds",key:"fitBounds"},{action:"showThisLayerOnly",key:"showThisLayerOnly"},{isDivider:!0},{action:"openLayerSetting",key:"openLayerSetting"},{key:"divider",isDivider:!0},{action:"editItem",key:"editItem",permission:o.JC.MapLayerRename},{action:"replicate",key:"duplicate",permission:o.JC.NewMapLayer},null,{isDivider:!0},{action:"conv2vector",key:"conv2vector",permission:o.JC.NewMapLayer,tooltip:(0,i.Em)({id:"8z1uai",defaultMessage:"Vector tiles significantly improve map layer loading performance when processing large-scale datasets. <a>Learn more about Vector tiles.</a>"}),link:"conv2vector",plan:"ent"},{action:"vtRecreate",key:"vtRecreate",permission:o.JC.NewMapLayer,plan:"ent"},{action:"publishLayer",key:"publishLayer",permission:o.JC.MapShare},{action:"deleteItem",key:"delete",type:"danger",permission:o.JC.MapLayerDelete}].filter(Boolean),o.JC.NewTable,o.JC.NewFolder,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,o.JC.ImportData,(0,i.Em)({id:"N455eL",defaultMessage:"Subscribe to publicly shared data tables from other collaborators to keep synced tables aligned with the source data. <a>Learn more about Maptable sync table.</a>"}),o.JC.ImportData,o.JC.TableFolderRename,o.JC.NewTable,o.JC.TableFolderDelete,o.ST.MenuItemRename,o.ST.MenuItemMember,o.ST.MenuItemDuplicate,o.ST.MenuItemDelete,o.ST.MenuItemRename,o.ST.MenuItemMember,o.ST.MenuItemSync,o.ST.MenuItemSync,o.ST.MenuItemDelete,o.ST.MenuItemRename,o.ST.MenuItemMember,o.ST.MenuItemDelete,o.JC.ProjectEdit,o.JC.Collaborator,o.ST.DataEdit,o.ST.DataEdit;const a="MT_LAYER_EMPTY_VIEW_OPTION_ID";function l(e,t){return{id:a,name:t||e.$t({id:"z0AHt3",defaultMessage:"Do not use view"})}}},72494:(e,t,n)=>{"use strict";n.d(t,{EH:()=>i,Ie:()=>a,KI:()=>o,Kr:()=>r,f0:()=>l});const i=3e4,o=18e5,a=365,l=104857600,r=20971520},20491:(e,t,n)=>{"use strict";n.d(t,{JC:()=>a,ST:()=>l,bp:()=>i,vA:()=>o});let i=function(e){return e.owner="owner",e.admin="admin",e.editable="editable",e.readonly="readonly",e}({});function o(e,t){return e?t.$t({id:"permission.role.".concat(e),defaultMessage:[]}):""}let a=function(e){return e.ProjectPage="readonly",e.ProjectEdit="admin",e.ProjectDuplicate="admin",e.Collaborator="readonly",e.CollaboratorEdit="admin",e.CollaboratorInvite="admin",e.CollaboratorRemove="admin",e.CollaboratorQuit="readonly",e.ProjectDelete="admin",e.ProjectTransfer="owner",e.ProjectRecycleBinPage="readonly",e.ProjectSetting="admin",e.RecycleBinRecover="admin",e.RecycleBinDelete="admin",e.TableSiderPlusButton="editable",e.NewTable="editable",e.NewFolder="editable",e.ImportData="editable",e.TableFolderRename="editable",e.TableFolderDelete="editable",e.MapSiderPlusButton="editable",e.NewMapLayer="editable",e.NewMapFolder="editable",e.MapSetting="editable",e.MapFolderRename="editable",e.MapFolderDelete="editable",e.MapLayerRename="editable",e.MapLayerSetting="editable",e.MapLayerViewTable="readonly",e.MapLayerDelete="admin",e.MapShare="admin",e.ProjectShare="admin",e.SiderHelp="readonly",e.TreeItemDraggable="editable",e.MapSearch="readonly",e.DashboardEdit="admin",e.DashboardShare="admin",e.TableViewCreate="editable",e.AnnotationEditable="editable",e.CreateH3Tile="admin",e}({}),l=function(e){return e.TablePage="readonly",e.MemberInvite="admin",e.ProjectRecycleBinActions="admin",e.MenuItemRename="editable",e.MenuItemMember="readonly",e.MenuItemDuplicate="admin",e.MenuItemDelete="admin",e.MenuItemSync="admin",e.GridHideColumn="editable",e.GridFilter="readonly",e.GridSorting="readonly",e.GridGrouping="readonly",e.GridRowHeight="editable",e.GridSearch="readonly",e.GridExport="editable",e.GridSnapshot="editable",e.LayerControl="readonly",e.MapFilter="readonly",e.MapNearBy="readonly",e.MapExport="editable",e.ViewShare="editable",e.FormFieldEdit="editable",e.RowShare="editable",e.InfoWindowConfig="admin",e.DetailPanelConfig="admin",e.DetailPanelShare="editable",e.DataEdit="editable",e.MapLayerSetting="editable",e.LockView="admin",e.ReassignView="admin",e.LockField="admin",e.LockTable="admin",e}({})},22138:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,$8:()=>m,$A:()=>s,$i:()=>p,Af:()=>b,Bs:()=>y,Ek:()=>a,GD:()=>g,HT:()=>u,HW:()=>h,JT:()=>d,Ld:()=>c,V2:()=>C,VR:()=>l,Wr:()=>E,fX:()=>w,g:()=>I,gU:()=>T,iK:()=>v,iu:()=>k,o3:()=>i,ob:()=>f,tM:()=>P,tZ:()=>x,vS:()=>j,wO:()=>M,z6:()=>o});const i="MT_TOKEN",o="MT_REFRESH_TOKEN",a="MT_LAST_REFRESH_TOKEN_TIMESTAMP",l="MT_TOKEN_EXPIRES_TIME",r="MT_IS_AUTH",s="MT_USER_TYPE",d="MT_HIDDEN_LAYER_IDS",c="MT_HIDDEN_CHANGE_FIELD_TYPE_CONFIRM_MODAL",u="MT_COPY_CACHE",p="MT_COPY_CACHE_RAW",h="MT_MAP_FILTERS",v="MT_APPS",g="MT_COORDINATES_EDITOR_CONFIG",f="MT_CURRENT_WORKSPACE",m="MT_NOTIFIED_WORKSPACE_QUOTAS",y="MT_SELECTED_VIEWS",w="MT_SELECTED_DASHBOARDS",b="MT_ANNOTATION_VISIBLE",C="MT_MAP_STAT_VISIBLE",x="MT_SHOWED_ANNOTATION_NOTIFICATION",I="MT_THEME",j="MT_DUAL_VIEWS",M="MT_DUAL_MAP_LAYER_STATE",k="MT_ACTIVE_LABEL_LAYERS_ID",T="MT_DASHBOARD_PLATFORM",E="MT_HIDDEN_LEGEND_PROJECT_IDS",P="MT_MEASUREMENT_HISTORY"},13334:(e,t,n)=>{"use strict";n.d(t,{rF:()=>i});const i=3},11846:(e,t,n)=>{"use strict";n.d(t,{F:()=>a,z:()=>l});var i=n(57435);const o={annotationText:!1,annotationSticker:!1,circleGeometry:!1,duplicateProject:!1,copyMoreCell:!1,publicLayer:!1,editPoi:!0,enableAIExtension:!1,googleMaps:!1,addRoute:!1,vtLayer:!1,vtSpatialAnalysis:!1,searchPoi:!0,detailPanelModal:!0,bigTableLayer:!0,sdkSearch:!0,regionLayer:!0,wechatMonthlyPayment:!1},a=n(74797).Z.useDevToggle?{annotationText:!0,annotationSticker:!0,circleGeometry:!1,duplicateProject:!0,copyMoreCell:!0,publicLayer:!0,editPoi:!0,enableAIExtension:!0,googleMaps:!0,addRoute:!0,vtLayer:!0,vtSpatialAnalysis:!0,searchPoi:!0,detailPanelModal:!0,bigTableLayer:!0,sdkSearch:!0,regionLayer:!0,wechatMonthlyPayment:!0}:o;window.__TOGGLES__=a;const l=(0,i.createContext)(o)},82394:(e,t,n)=>{"use strict";n.d(t,{WK:()=>m,bZ:()=>f});var i=n(57435),o=n(88716),a=n.n(o),l=n(468),r=n.n(l),s=n(15972),d=n.n(s),c=n(33718),u=n(95620),p=n(98506),h=n(68429),v=n(27954),g=n(94553);function f(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=(0,i.useState)(e),o=(0,i.useCallback)((()=>{n(!0)}),[n]),a=(0,i.useCallback)((()=>{n(!1)}),[n]);return(0,i.useMemo)((()=>({visible:t,open:o,close:a})),[a,o,t])}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{connectUrl:t="mailto:contact@maptable.com"}=e,n=(0,u.Z)(),{title:o,content:l,okText:s,cancelText:f}=function(e){var t,n;const i=(0,u.Z)(),{messageIds:o}=e,a=i.$t({id:"N2IrpM",defaultMessage:"Confirm"}),l=i.$t({id:"47FYwb",defaultMessage:"Cancel"});return{title:null!==o&&void 0!==o&&o.title?i.$t({id:o.title,defaultMessage:[]}):e.title,content:null!==o&&void 0!==o&&o.content?i.$t({id:o.content,defaultMessage:[]}):e.content,okText:null!==o&&void 0!==o&&o.okText?i.$t({id:o.okText,defaultMessage:[]}):null!==(t=e.okText)&&void 0!==t?t:a,cancelText:null!==o&&void 0!==o&&o.cancelText?i.$t({id:o.cancelText,defaultMessage:[]}):null!==(n=e.cancelText)&&void 0!==n?n:l}}(e),{modal:m}=p.Z.useApp();return(0,i.useCallback)((function(){var i;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const p=d()({},e.messageValues,u.messageValues);let y=l;var w;!a()(p)&&null!==(i=e.messageIds)&&void 0!==i&&i.content&&(y=n.$t({id:null===(w=e.messageIds)||void 0===w?void 0:w.content,defaultMessage:[]},d()({},p,{highlight:e=>(0,g.jsx)("strong",{children:e}),connect:e=>(0,g.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:e})})));return new Promise(((t,n)=>{const i=u.content?(0,g.jsx)("div",{className:v.Z.content,children:u.content}):y&&(0,g.jsx)("div",{className:v.Z.content,children:y}),a=m.confirm(d()({},{className:(0,c.default)(v.Z.confirmDialog,e.className,u.className),transitionName:"dialog-animation",title:o,content:i,width:400,okText:s,closable:!0,closeIcon:(0,g.jsx)(h.Z,{type:"close",onClick:()=>{var t;n("close"),a.destroy(),null===(t=e.onCancel)||void 0===t||t.call(e)}}),icon:null,zIndex:1030,okButtonProps:{type:"primary"},cancelText:f,onOk:()=>{var n;t(!0),a.destroy(),null===(n=e.onOk)||void 0===n||n.call(e)},onCancel:()=>{var t;n("cancel"),a.destroy(),null===(t=e.onCancel)||void 0===t||t.call(e)}},null===e.onCancel?{cancelButtonProps:{style:{display:"none"}}}:{},r()(e,["className"]),r()(u,["className","content"])))}))}),[o,s,f,l,e,n,t,m])}},39252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(57435),o=n(11846);function a(e){return(0,i.useContext)(o.z)[e]}},41122:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,y:()=>a});var i=n(89614);function o(e,t){var n,o;const a=i.Z.useFormInstance();return null!==(n=null!==(o=i.Z.useWatch(e,a))&&void 0!==o?o:a.getFieldValue(e))&&void 0!==n?n:t}const a=i.Z.useFormInstance},57830:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var i=n(57435),o=n(38981),a=n.n(o),l=n(99540),r=n.n(l),s=n(13682),d=n.n(s),c=n(11145),u=n(44459),p=n(1414);function h(){const e=(0,c.s0)(),{workspaceId:t,projectId:n,tableNodeId:o,workspaceType:l="uw",shareToken:s}=(0,c.UO)(),[h,v]=(0,u.lr)(),g=h.get("from"),f=(0,i.useCallback)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uw";const i=(0,p.Gn)("/".concat(n,"/:workspaceId"),{workspaceId:a()(t)});e("".concat(i).concat(g?"?from=".concat(g):""),{replace:!0})}),[e,g]),[m,y]=(0,i.useState)(void 0),[w,b]=(0,i.useState)(!1),{pathname:C}=(0,c.TH)();(0,i.useEffect)((()=>{C&&d()(C,"/s/")&&(d()(C,"/s/p/")?y("project"):d()(C,"/s/m/")||d()(C,"/s/embed/")?y("map"):d()(C,"/s/d/")?y("dashboard"):d()(C,"/s/r/")?y("row"):d()(C,"/s/t/")?(b(!0),y("view")):y("view"))}),[C]);const x=(0,i.useCallback)((i=>{const o=(0,p.Gn)("/".concat(l,"/:workspaceId/p/:projectId/t/:tableNodeId"),{workspaceId:null!==t&&void 0!==t?t:null,projectId:null!==n&&void 0!==n?n:null,tableNodeId:a()(i)});e(o,{replace:!0})}),[e,n,t,l]),I=(0,i.useCallback)((e=>{v({v:e})}),[v]);const j=(0,i.useCallback)((e=>{e?h.append("exp",e):h.delete("exp"),v(h)}),[h,v]),M=r()(t),k=C.startsWith("/s/embed/"),T=C.startsWith("/s/"),[E,P]=(0,i.useMemo)((()=>{const e=h.get("loc");if(e){const[t,n,i]=e.split(",");return[[n,t].join(","),r()(i.replace("z",""))]}return[null,null]}),[h]);return{orgId:"w"===l?M:void 0,workspaceId:M,setWorkspaceIdAndType:f,projectId:r()(n),tableNodeId:r()(o),setTableNodeId:x,workspaceType:l,viewId:h.get("v"),setView:I,shareType:m,shareToken:s,password:h.get("p")||"",isTableView:w,isEmbedPage:k,isSharePage:T,dashboardId:h.get("d")?r()(h.get("d")):null,zoomLevel:P,center:E,setDashboardId:function(e){let t={};h.forEach(((e,n)=>{t={...t,[n]:e}})),v({...t,d:a()(e)})},setExportingId:j,exportingId:h.get("exp")||void 0,from:g}}},65270:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var i=n(4738);function o(){const e=(0,i.useMediaQuery)({maxWidth:550}),t=(0,i.useMediaQuery)({maxWidth:767}),n=(0,i.useMediaQuery)({minWidth:1024}),o=(0,i.useMediaQuery)({maxWidth:960});return{small:e,isMobile:t,isDesktop:n,isPad:(0,i.useMediaQuery)({maxWidth:1200}),isMinWindow:(0,i.useMediaQuery)({maxHeight:600}),isMiddleScreen:o}}},12167:(e,t,n)=>{"use strict";n.d(t,{rr:()=>p,o1:()=>u,UP:()=>c});var i=n(57435),o=n(11145),a=(n(23903),n(53182),n(18765),n(62618),n(88716),n(40279),n(13682)),l=n.n(a),r=n(30423),s=(n(68885),n(1714),n(67661),n(57830));n(30731),n(58590);const d=(0,i.createContext)({sharingParams:void 0});function c(){const{pathname:e}=(0,o.TH)(),t=(0,r.v)((t=>l()(e,"/s/")?t.user.sharedUser:void 0));return{userToken:null===t||void 0===t?void 0:t.token}}function u(){return(0,i.useContext)(d)}function p(){const{shareType:e,shareToken:t}=(0,s.F)(),n=(0,r.v)((e=>e.user.sharedUser));return{shareParams:(0,i.useMemo)((()=>({token:t,type:e,userToken:null===n||void 0===n?void 0:n.token})),[t,e,null===n||void 0===n?void 0:n.token])}}},67661:(e,t,n)=>{"use strict";n.d(t,{mJ:()=>k,Ui:()=>M,Cc:()=>j});var i=n(57435),o=n(30289),a=n(7070),l=n.n(a),r=(n(18765),n(17646),n(23903)),s=n.n(r),d=(n(74720),n(82959)),c=n.n(d),u=n(33324),p=n.n(u),h=n(88716),v=n.n(h),g=n(55349),f=n.n(g),m=(n(62618),n(74110)),y=n(30423),w=n(68885),b=(n(42538),n(1714));n(57830),n(34362),n(8942),n(53926),n(38981),n(53813),n(68429),n(15328);n(94553);n(11846);n(69151);var C=n(65557),x=(n(74909),n(44839)),I=n(43498);function j(e,t){const n=(0,y.v)((t=>(0,I.tH)(t,e))),o=(0,i.useCallback)((e=>s()(n,(t=>t.id===e))),[n]),a=(0,i.useMemo)((()=>s()(n,(e=>e.id===t))),[t,n]);return{tableNodes:n,tableNode:a,getTableNode:o}}function M(e,t,n,o){const a=(0,y.I)(),r=(0,y.v)((n=>t||(0,x.Y)(n,e))),s=(0,y.v)((e=>e.map.isInitTableNodesReady)),d=(0,y.v)((t=>{var n;return null===(n=t.project.entities[e])||void 0===n?void 0:n.tableNodes})),u=(0,y.v)(b.TW.selectAll),h=(0,y.v)((e=>{var t;return null===(t=e.user.sharedUser)||void 0===t?void 0:t.token})),g=(0,i.useMemo)((()=>p()(c()(l()(null===r||void 0===r?void 0:r.filter((e=>{var t;return!(null!==(t=e.mapInfo)&&void 0!==t&&t.vectorTile)})),(e=>{var t;return null===(t=e.mapInfo)||void 0===t?void 0:t.tableNodeID}))))),[r]),{token:f,type:m}=(0,i.useMemo)((()=>null!==n&&void 0!==n?n:{}),[n]);(0,i.useEffect)((()=>{o&&!s&&a(C.Nw.setIsInitTableNodesReady(!0))}),[o,s,a]);const I=(0,i.useMemo)((()=>g.every((e=>!!u.find((t=>t.id===e))))),[g,u]),j=(0,i.useMemo)((()=>{if(!I)return[];const e=[];return null===r||void 0===r||r.forEach((t=>{var n,i,o;if(null!==(n=t.vtInfo)&&void 0!==n&&n.publicLayer)return;const a=null===(i=t.mapInfo)||void 0===i?void 0:i.tableNodeID,l=null===(o=t.mapInfo)||void 0===o?void 0:o.viewID;var r;a&&l&&(null!==e&&void 0!==e&&e.some((e=>e.id===a&&e.viewId===l))||null!==(r=u.find((e=>e.id===a)))&&void 0!==r&&null!==(r=r.views)&&void 0!==r&&r.some((e=>e.id===l&&e.columns))||e.push({id:a,viewId:l}))})),e}),[r,u,I]),M=(0,i.useCallback)((async t=>{try{return await a(C.Nw.setIsInitTableNodesReady(!1)),await a((0,w.ro)({projectId:e,tableNodeIds:t,shareParams:{token:f,type:m},userToken:h}))}finally{a(C.Nw.setIsInitTableNodesReady(!0))}}),[a,e,f,m,h]),k=(0,i.useCallback)((async e=>{try{return await a(C.Nw.setIsInitTableNodesReady(!1)),await a((0,w.FH)({tableViewIds:e,shareParams:{token:f,type:m},userToken:h}))}finally{a(C.Nw.setIsInitTableNodesReady(!0))}}),[a,f,m,h]);return(0,i.useEffect)((()=>{v()(g)||v()(d)||I||M(g)}),[d,g,I,M]),(0,i.useEffect)((()=>{o||v()(j)||k(j)}),[j,o,k]),(0,i.useEffect)((()=>{!s&&I&&(null===r||void 0===r?void 0:r.length)>0&&a(C.Nw.setIsInitTableNodesReady(!0))}),[a,s,null===r||void 0===r?void 0:r.length,I]),{isReady:s}}function k(e,t,n){const a=(0,y.I)(),l=(0,y.v)((n=>{var i;return null===(i=n.project.entities[e])||void 0===i||null===(i=i.tableNodes)||void 0===i?void 0:i.find((e=>e.id===t))})),r=(0,y.v)((e=>f()(t)?void 0:b.TW.selectById(e,t))),s=(0,y.v)((e=>f()(t)?void 0:b.DG.selectById(e,t))),d=(0,y.v)((e=>e.tableNode.selectedViews&&l?e.tableNode.selectedViews[l.id]:void 0)),{error:c,data:u,mutate:p}=(0,o.ZP)(l?["tableNode/".concat(l.id,"/").concat(d),l.id,l.type,d,n]:null,(t=>{let[n,i,o,l,r]=t;const s=o===m.e.bigTable?w.Zl:w.ZL;return a(s({projectId:e,id:i,viewId:l,shareParams:{type:null===r||void 0===r?void 0:r.type,token:null===r||void 0===r?void 0:r.token},userToken:null===r||void 0===r?void 0:r.userToken}))}));return(0,i.useEffect)((()=>{null!==r&&void 0!==r&&r.hasAppendRows&&null!==r&&void 0!==r&&r.id&&a((0,w.o0)({projectId:e,id:null===r||void 0===r?void 0:r.id}))}),[a,null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.hasAppendRows,e]),(0,i.useEffect)((()=>{null!==s&&void 0!==s&&s.id&&(a(b.Nw.synced({id:null===s||void 0===s?void 0:s.id,projectID:e})),p())}),[a,p,null===s||void 0===s?void 0:s.id,e]),{error:c,isFetching:l&&!c&&!u||(!0===(null===r||void 0===r?void 0:r.more)||!0===(null===r||void 0===r?void 0:r.syncing))&&r.type!==m.e.bigTable,data:r}}},54034:(e,t,n)=>{"use strict";n.d(t,{v3:()=>W});var i=n(57435),o=n(95620),a=n(55349),l=n.n(a),r=n(18878),s=n.n(r),d=n(36999),c=n.n(d),u=n(39427),p=n.n(u),h=n(74720),v=n.n(h),g=n(55690),f=n(48828),m=n(86183),y=n(56765),w=n(17646),b=n.n(w),C=n(7070),x=n.n(C),I=n(53813),j=n.n(I),M=n(23903),k=n.n(M),T=n(96271),E=n(46131),P=n(62618),O=n.n(P),S=n(13307),_=n.n(S),N=n(30423),D=n(84377),L=n(1714),A=n(27052),R=n(49210),Z=n(30731),F=n(17181),z=n(78543),B=n(71605);const V=[2,48,80],H=[1,4,8];function W(e){let{projectId:t,visLayers:n,dataLayers:a,layerNodes:r,onSetColorDomain:d,showOutlineLegend:c=!0,isLoading:u}=e;const p=(0,o.Z)(),h=(0,N.v)((e=>r||(t?e.project.layerNodes[t]:void 0))),v=(0,i.useMemo)((()=>{const e=null===h||void 0===h?void 0:h.reduce(((e,t)=>("group"===t.type&&e.push({order:t.order,children:O()(h.filter((e=>e.parentID===t.id)),"order")}),t.parentID||"group"===t.type||e.push(t),e)),[]);return O()(e,"order").flatMap((e=>"children"in e?e.children:e))}),[h]),g=(0,N.v)((e=>t?e.map.hiddenLayerIds[t]:void 0)),w=(0,N.v)(D.zO),[C,I]=(0,i.useState)([]),M=(0,i.useMemo)((()=>_()((e=>{I(e)}),300,{leading:!0,trailing:!0})),[]),T=(0,N.v)(A.EM.selectAll),P=(0,N.v)(L.TW.selectAll);d.current=(e,t,n)=>{const i=$(p,t,n);M((t=>{const n=t.findIndex((t=>t.id===e));return-1!==n&&Object.assign(t[n],{legends:i}),[...t]}))};const S=(0,i.useMemo)((()=>x()(v,(e=>{var t,i,o;if("group"===e.type)return;const r=k()(n,(t=>t.id===e.id));if(!r)return{id:e.id,title:e.name,layerType:e.type,parentID:e.parentID,visible:!(null!==g&&void 0!==g&&g.includes(e.id))};if(!(r instanceof y.zi)&&!(r instanceof y.K7))return void console.warn("Layer ".concat(r.id," is not supported in legend"));if(!r.configManager||!r.props.data)return;const d="region"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType),u=k()(a,(e=>e.id===r.id)),h=r.props.data.features,v=r.configManager,C=r.props.customProps.name,I=r.props.customProps.layerType,M=r.props.customProps.tableNodeID,O=k()(P,(e=>e.id===M)),S=r.props.customProps.isVectorTile?null===(i=r.props.customProps.vtInfo)||void 0===i?void 0:i.columns:null===O||void 0===O?void 0:O.columns,_=r.props.customProps.members,N=w[r.id]?(0,B.T)({mapInfo:w[r.id],columns:S,customizeIcons:T}):v.config,D=k()(S,(e=>e.id===N.fieldConfig.regionIndexStatsID)),L=k()(S,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.fillID)})),A=k()(S,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.bivariateFillID)})),Z=k()(S,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.outlineID)})),F=k()(S,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.outlineWidthID)})),z=k()(S,(e=>{var t;return e.id===(null===(t=N.fieldConfig)||void 0===t?void 0:t.radiusID)})),W=function(e){let{intl:t,features:n,layerType:i,layerConfig:o,configManager:a,isVectorTile:r,fillFieldTypeOptions:d,outlineFieldTypeOptions:c,members:u,showOutlineLegend:p,tableNode:h}=e;const{fillConfig:v,outlineConfig:g,bivariateFillConfig:y,flowConfig:w,fieldConfig:C,pathConfig:I,odLineConfig:M}=o;let k=function(e){var t;let{layerType:n,intl:i,flowConfig:o,fillConfig:a,fieldConfig:l,features:r,typeOptions:s,members:d,configManager:c,isVectorTile:u}=e;const p=null===a||void 0===a?void 0:a.fillMethod,h=null===l||void 0===l?void 0:l.fillFieldType,v=null!==(t=null===a||void 0===a?void 0:a.thresholds)&&void 0!==t?t:[],g=j()((null===a||void 0===a?void 0:a.icons)||{}),f=G(n,a,o),m=q({layerType:n,colors:f,intl:i,fillID:l.fillID,fillConfig:a,fillType:"fill",features:r,fieldConfig:l,fillFieldType:h,typeOptions:s,fillMethod:p,icons:g,members:d,fillScale:c.fillScale,thresholds:v,isVectorTile:u});return m}({layerType:i,intl:t,flowConfig:w,fillConfig:v,fieldConfig:C,features:n,typeOptions:d,members:u,configManager:a,isVectorTile:r});const T=function(e){var t;let{layerType:n,intl:i,flowConfig:o,outlineConfig:a,fieldConfig:l,features:r,typeOptions:s,members:d,configManager:c,isVectorTile:u}=e;if(!["pointLinePolygon"].includes(n))return[];const p=null===l||void 0===l?void 0:l.outlineWidthID,h=null===a||void 0===a?void 0:a.strokeWeight,v=null===a||void 0===a?void 0:a.strokeOpacity;if(0===v)return[];if(!p&&0===h)return[];const g=null===a||void 0===a?void 0:a.strokeMethod,f=null===l||void 0===l?void 0:l.outlineFillFieldType,m=null!==(t=null===a||void 0===a?void 0:a.thresholds)&&void 0!==t?t:[],y=G(n,a,o),w=q({layerType:n,colors:y,intl:i,fillID:l.outlineID,fillConfig:a,fillType:"outline",features:r,fieldConfig:l,fillFieldType:f,typeOptions:s,fillMethod:g,members:d,fillScale:c.outlineStrokeScale,thresholds:m,isVectorTile:u});return w}({layerType:i,intl:t,flowConfig:w,outlineConfig:g,fieldConfig:C,features:n,typeOptions:c,members:u,configManager:a,isVectorTile:r}),P=function(e,t,n){const{odLineConfig:i,outlineConfig:o}=t;let a=[];if(null===e||void 0===e||!e.outlineWidthID)return a;if(null!==i&&void 0!==i&&i.widthRange&&null!==o&&void 0!==o&&o.colors){var l,r,s,d,c,u;const t=null===(l=n.outlineWidthScale)||void 0===l?void 0:l.domain(),i=J(Math.floor(null===(r=n.outlineWidthScale)||void 0===r?void 0:r.invert(H[0])),t),p=J(Math.floor(null===(s=n.outlineWidthScale)||void 0===s?void 0:s.invert(H[1])),t),h=J(Math.floor(null===(d=n.outlineWidthScale)||void 0===d?void 0:d.invert(H[2])),t),v=e.outlineID?"#c1c7d0":null!==(c=null===(u=o.colors)||void 0===u?void 0:u[0])&&void 0!==c?c:"#c1c7d0";a=[{color:v,value:i,name:"".concat(i)},{color:v,value:p,name:"".concat(p)},{color:v,value:h,name:"".concat(h)}]}return a}(C,o,a),O=function(e,t,n,i){let o=[];if(null===e||void 0===e||!e.radiusID||"icon"===i)return o;const{radiusConfig:a}=t;if(null!==a&&void 0!==a&&a.radiusRange&&!a.fixedToMeter){var l,r,s,d;const e=null===(l=n.radiusScale)||void 0===l?void 0:l.domain(),t=J(Math.floor(null===(r=n.radiusScale)||void 0===r?void 0:r.invert(V[0])),e),i=J(Math.floor(null===(s=n.radiusScale)||void 0===s?void 0:s.invert(V[1])),e),a=J(Math.floor(null===(d=n.radiusScale)||void 0===d?void 0:d.invert(V[2])),e),c="#c1c7d0";o=[{color:c,value:t,name:"".concat(t)},{color:c,value:i,name:"".concat(i)},{color:c,value:a,name:"".concat(a)}]}return o}(C,o,a,i);(function(e,t){const n=null===e||void 0===e?void 0:e.enable;return n&&s()(null===t||void 0===t?void 0:t.fillOpacity)&&s()(null===e||void 0===e?void 0:e.fillOpacity)})(y,v)&&(k=function(e,t){let n=[];if(null===t||void 0===t||!t.colors||null===e||void 0===e||!e.colors||!t.fillOpacity||!e.fillOpacity)return n;const{mixedColorHigh:i,mixedColorLow:o,colorHigh:a,bivariateColorHigh:l}=(0,E.pE)([t.colors[0],t.colors[t.colors.length-1],e.colors[0],e.colors[e.colors.length-1]],[t.fillOpacity,e.fillOpacity]);return n=[{color:(0,E.s8)(o),name:"bottomLeft"},{color:(0,E.s8)(a),name:"bottomRight"},{color:(0,E.s8)(l),name:"topLeft"},{color:(0,E.s8)(i),name:"topRight"}],n}(y,v));"region"===i&&(k=function(e){var t;let{layerConfig:n,features:i,intl:o}=e;const a=[],{regionConfig:r}=n,s=(null===r||void 0===r?void 0:r.fillMethod)||"quantize",d=null!==(t=null===r||void 0===r?void 0:r.thresholds)&&void 0!==t?t:[],c=null===r||void 0===r?void 0:r.indexStatsMethod,u=null===r||void 0===r?void 0:r.colors;if(!u||null===u||void 0===u||!u.length||!i||0===i.length)return[];let p=null;const h=function(){let{features:e,propertyPath:t,method:n,indexStatsMethod:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return[];let o=Number.MAX_SAFE_INTEGER,a=0,l=[];return l=x()(e,(e=>{const n=(0,E.oe)(e,t),l=(0,E.oe)(e,"aggregationMethod")||i,r=parseFloat((0,E.Bb)(n||[],l));return o=r<o?r:o,a=r>a?r:a,r})),"quantize"===n||"continuous"===n?[o,a]:l}({features:i,propertyPath:"aggregationValue",method:s,indexStatsMethod:c});"quantize"===s&&(p=(0,f.Z)().domain(h).range(u));"quantile"===s&&(p=(0,m.Z)().domain(h).range(u));if("customize"===s){const e=[];0===d.length&&(p=(0,m.Z)().domain(h).range(u),e.push(...u.map((e=>{const[t,n]=p.invertExtent(e);return[(0,R.SH)(t),(0,R.SH)(n)]}))));for(let t=0;t<d.length-1;t++)e.push([d[t],d[t+1]]);return a.push(...x()(u,((t,n)=>{var i,a;const r=null===(i=e[n])||void 0===i?void 0:i[0],s=null===(a=e[n])||void 0===a?void 0:a[1];return{color:t,values:[r,s],name:l()(r)||l()(s)?"":"".concat(0===n?o.$t({id:"mFYgAX",defaultMessage:"Less"}):(0,R.IG)(r),"-").concat(n===u.length-1?o.$t({id:"I5NMJ8",defaultMessage:"More"}):(0,R.IG)(s))}}))),a}return b()(u,(e=>{var t;const n=null===(t=p)||void 0===t?void 0:t.invertExtent(e);a.push({color:e,values:n,name:l()(null===n||void 0===n?void 0:n[0])||l()(null===n||void 0===n?void 0:n[1])?"":"".concat((0,R.IG)(n[0]),"-").concat((0,R.IG)(n[1]))})})),a}({layerConfig:o,features:n,intl:t}));let S=[],_=[];if("path"===i){var N,D;if(null!==I&&void 0!==I&&I.isCustomEndpointColor&&I.startPointColor&&I.endpointColor&&(S=[{color:I.startPointColor,name:t.$t({id:"wwoByg",defaultMessage:"Origin"})},{color:I.endpointColor,name:t.$t({id:"3K+cZG",defaultMessage:"Dest."})}]),null!==I&&void 0!==I&&I.showWaypoint&&null!==(N=I.colors)&&void 0!==N&&N[0])S=[...S,{color:null===(D=I.colors)||void 0===D?void 0:D[0],name:t.$t({id:"UYcDWF",defaultMessage:"Waypoint"})}]}"odLine"===i&&null!==M&&void 0!==M&&M.originColor&&null!==M&&void 0!==M&&M.destinationColor&&!C.fillID&&(_=[{color:null===M||void 0===M?void 0:M.originColor,name:t.$t({id:"wwoByg",defaultMessage:"Origin"})},{color:null===M||void 0===M?void 0:M.destinationColor,name:t.$t({id:"3K+cZG",defaultMessage:"Dest."})}],k=[]);return{legends:[...k],endpointsLegends:S,odLineLegends:_,outlineWidthFieldLegends:p?[...P]:[],outlineFillFieldLegends:p?[...T]:[],radiusLegends:O}}({intl:p,features:h,visLayer:r,layerType:I,layerConfig:N,configManager:v,isVectorTile:r.props.customProps.isVectorTile,fillFieldTypeOptions:null===L||void 0===L?void 0:L.typeOptions,outlineFieldTypeOptions:null===Z||void 0===Z?void 0:Z.typeOptions,members:_,showOutlineLegend:c,tableNode:O}),U=null===(o=N.bivariateFillConfig)||void 0===o?void 0:o.enable;return{...W,fillField:d?D:L,bivariateFillField:A,outlineField:Z,outlineWidthField:F,radiusField:z,title:C,id:r.id,isBivariate:U,layerType:I,layerDesc:null===u||void 0===u?void 0:u.mapInfo.layerDesc}})).filter((e=>void 0!==e))),[n,a,v,g,w,p,T,P,c]);return(0,i.useEffect)((()=>()=>{M.cancel()}),[M]),(0,i.useEffect)((()=>{u||M(S)}),[S,M,u]),C}function U(e,t,n,i){const o=[],a=[],r=(0,z.p)(i),s=e=>r?(0,R.N5)(e,null===i||void 0===i?void 0:i.precision):(0,R.IG)(e);for(let l=0;l<t.length-1;l++)a.push([t[l],t[l+1]]);return o.push(...x()(n,((t,i)=>{var o,r;const d=null===(o=a[i])||void 0===o?void 0:o[0],c=null===(r=a[i])||void 0===r?void 0:r[1];return{color:t,values:[d,c],name:l()(d)||l()(c)?"":"".concat(0===i?e.$t({id:"mFYgAX",defaultMessage:"Less"}):s(d),"-").concat(i===n.length-1?e.$t({id:"I5NMJ8",defaultMessage:"More"}):s(c))}}))),o}function G(e,t,n){const i=null===n||void 0===n?void 0:n.colorScheme;return"flow"===e&&i?T.FA[7][i]:j()((null===t||void 0===t?void 0:t.colors)||[])}function q(e){let{layerType:t,colors:n,intl:i,fillID:o,fillConfig:a,features:r,fieldConfig:d,fillType:u,fillFieldType:p,typeOptions:h,fillMethod:f,icons:m,members:y,fillScale:w,thresholds:C,isVectorTile:I}=e,j=[];if("heatmap"===t)return n.forEach((e=>{j.push({color:e,name:i.$t({id:"WEDRDw",defaultMessage:"Heatmap"})})})),j;if(o&&a){var M;const{legends:e,length:o}=function(e){let{features:t,fieldConfig:n,layerType:i,fillType:o,fillMethod:a,intl:r}=e,s=0;const d=[],c="fill"===o?null===n||void 0===n?void 0:n.fillID:null===n||void 0===n?void 0:n.outlineID;b()(t,(e=>{l()(v()(e.properties,c))&&s++})),s&&("ordinal"===a&&"icon"===i?d.push({color:"#FFF",name:"".concat(r.$t({id:"UG5qoS",defaultMessage:"No data"}),"(").concat(s,")"),icon:"location"}):d.push({color:"transparent",name:"".concat(r.$t({id:"UG5qoS",defaultMessage:"No data"}),"(").concat(s,")")}));return{legends:d,length:s}}({features:r,fieldConfig:d,layerType:t,fillType:u,fillMethod:f,intl:i});if(!I&&o===r.length)return j;if("string"===p){var E,P;const e=null!==(E=a._uniqDomain)&&void 0!==E?E:[],n=null!==(P=a.colors)&&void 0!==P?P:[],i=(0,g.Z)().domain(e).range(n),o=x()(e,((e,n)=>{const o={color:i(e)||"",values:[0,1],name:e};if("icon"===t){const e=(null===m||void 0===m?void 0:m[n])||"location";o.icon=e}return o}));j.push(...o)}if("user"===p){var O;const e=null!==(O=a._uniqDomain)&&void 0!==O?O:[],t=a.colors,n=(0,g.Z)().domain(e).range(t),i=x()(e,(e=>{const t=n(e),i=e?String(e).split(","):[],o=x()(i,(e=>{var t;const n=k()(y,(t=>t.id===Number(e)||t.id===e));return null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:""}));return{color:t||"",values:i.map((e=>s()(e)?Number(e):e)),name:(null===o||void 0===o?void 0:o.join(", "))||""}}));j.push(...i)}if("singleChoice"===p||"lookup"===p&&(null!==h&&void 0!==h&&h.choices||null!==h&&void 0!==h&&null!==(M=h.lookupColumnTypeOptions)&&void 0!==M&&M.choices)){var S,_;const e=a.colorScheme===F.nC,n=(null===h||void 0===h?void 0:h.choices)||(null===h||void 0===h||null===(S=h.lookupColumnTypeOptions)||void 0===S?void 0:S.choices)||[],i=n.map((e=>e.id)),o=null!==(_=a.colors)&&void 0!==_?_:[];j.push(...x()(i,((i,a)=>{var l,r,s;const d=n.find((e=>e.id===i)),u=d?[(0,Z.SD)(c()(d.id)),(0,Z.SD)(c()(d.id))]:void 0,p=null===d||void 0===d?void 0:d.color,h=p?(0,T.lK)(null===d||void 0===d?void 0:d.color)?p.bgColor:T.R$[p]:"#fff",v={color:e?h:null!==(l=null!==(r=o[a])&&void 0!==r?r:o[a%o.length])&&void 0!==l?l:"#fff",values:u,name:null!==(s=null===d||void 0===d?void 0:d.name)&&void 0!==s?s:""};return"icon"===t&&d&&m&&(v.icon=m[d.id]||"location"),v})))}else if("quantile"!==f&&"quantize"!==f||"string"===p)"customize"===f&&C.length&&n&&j.push(...U(i,C,n,h));else{const e=(0,z.p)(h),i=t=>e?(0,R.N5)(t,null===h||void 0===h?void 0:h.precision):(0,R.IG)(t);j.push(...x()(n,((e,n)=>{var o;const a=null===w||void 0===w?void 0:w.invertExtent(e);return{color:e,values:a,icon:"icon"===t?null!==(o=null===m||void 0===m?void 0:m[n])&&void 0!==o?o:"location":void 0,name:l()(null===a||void 0===a?void 0:a[0])||l()(null===a||void 0===a?void 0:a[1])?"":"".concat(i(a[0]),"-").concat(i(a[1]))}})))}j.push(...e)}else j=[{icon:"icon"===t?null===m||void 0===m?void 0:m[0]:void 0,color:n[0],name:"fill"===u?i.$t({id:"HKEVKu",defaultMessage:"Fill Color"}):i.$t({id:"aEhjYg",defaultMessage:"Outline"})}];return j}const $=_()(((e,t,n)=>{var i,o;const a=[],{fillMethod:r,thresholds:s}=t.fillConfig,d=null!==(i=null===(o=t.fillConfig.colors)||void 0===o?void 0:o.filter((e=>e)))&&void 0!==i?i:[];let c;return"quantize"===r&&(c=(0,f.Z)().domain(n).range(d)),"quantile"===r&&(c=(0,m.Z)().domain(n).range(d)),"customize"===r&&null!==s&&void 0!==s&&s.length&&a.push(...U(e,s,d)),c&&b()(d,(e=>{var t;const n=null===(t=c)||void 0===t?void 0:t.invertExtent(e);n&&a.push({color:e,name:p()(n,(e=>!l()(e)&&!Number.isNaN(e)))?"".concat((0,R.IG)(n[0]),"-").concat((0,R.IG)(n[1])):""})})),a}),30,{leading:!0,trailing:!0});function J(e,t){if(t){return e<t[0]?"-":e}return e}},71605:(e,t,n)=>{"use strict";n.d(t,{T:()=>Ne,r:()=>_e});var i=n(57435),o=n(27371),a=n(95620),l=n(7070),r=n.n(l),s=n(15972),d=n.n(s),c=n(77995),u=n.n(c),p=n(55349),h=n.n(p),v=n(468),g=n.n(v),f=n(74720),m=n.n(f),y=n(15288),w=n.n(y),b=n(15609),C=n.n(b),x=n(13682),I=n.n(x),j=n(23903),M=n.n(j),k=n(56765),T=n(74110),E=n(89983),P=n(82755),O=n(30423),S=n(12167),_=n(76592),N=n(65557),D=n(27052),L=n(95436),A=n(33625),R=n(41711),Z=n(90874),F=n(57323),z=n.n(F),B=n(28967),V=n(91986),H=n(17646),W=n.n(H);class U extends B.z{static transformToFlowMapData(e,t){const n=[],i=[],o=t.config;return W()(e.features,(e=>{var a;const l=e,r=t.getPosition(e),s=t.getTargetPosition(e),d=r.join(),c=s.join();var u,p;-1===n.findIndex((e=>e.id===d))&&n.push({id:d,position:r,name:null===(u=l.properties)||void 0===u?void 0:u.name});-1===n.findIndex((e=>e.id===c))&&n.push({id:c,position:s,name:null===(p=l.properties)||void 0===p?void 0:p.name});i.push({dest:c,origin:d,count:null!==o&&void 0!==o&&null!==(a=o.fieldConfig)&&void 0!==a&&a.weightID?t.getWeight(l):0})})),{locations:n,flows:i}}renderLayers(){var e;const{id:t,data:n,pickable:i}=this.props,o=this.configManager;if(!o||!n)return null;const a=U.transformToFlowMapData(n,o);return[new V.$G({id:"".concat(t,"-flow"),data:a,fadeOpacityEnabled:!0,pickable:i,opacity:o.flowOpacity,darkMode:o.darkMode,colorScheme:null!==(e=o.colorScheme)&&void 0!==e?e:"Blues",fadeEnabled:o.fadeEnabled,fadeAmount:o.fadeAmount,locationTotalsEnabled:o.locationtotalsEnabled,clusteringEnabled:o.clusteringEnabled,clusteringAuto:o.clusteringAuto,clusteringLevel:o.clusteringLevel,getLocationId:o.getLocationId,getLocationLon:o.getLocationLon,getLocationLat:o.getLocationLat,getFlowDestId:o.getFlowDestId,getFlowOriginId:o.getFlowOriginId,getFlowMagnitude:o.getFlowMagnitude,getLocationName:o.getLocationName,updateTriggers:{getLocationId:o.getLocationId,getLocationLon:o.getLocationLon,getLocationLat:o.getLocationLat,getFlowDestId:o.getFlowDestId,getFlowOriginId:o.getFlowOriginId,getFlowMagnitude:o.getFlowMagnitude,getLocationName:o.getLocationName}})]}}z()(U,"layerName","FlowLayer");const G=e=>{var t;const{flowConfig:n,fillConfig:i}=e;return{flowOpacity:null!==(t=null===i||void 0===i?void 0:i.fillOpacity)&&void 0!==t?t:.8,darkMode:n.darkMode,colorScheme:n.colorScheme,fadeEnabled:n.fadeEnabled,fadeAmount:100*n.fadeAmount,locationtotalsEnabled:n.locationTotalsEnabled,clusteringEnabled:n.clusteringEnabled,clusteringAuto:n.clusteringAuto,clusteringLevel:n.clusteringLevel,getLocationId:e=>e.id,getLocationLon:e=>e.position[0],getLocationLat:e=>e.position[1],getFlowDestId:e=>e.dest,getFlowOriginId:e=>e.origin,getFlowMagnitude:e=>e.count,getLocationName:e=>e.name}};var q=n(49492),$=n(17096),J=n(25625),Q=n(64359),K=n(44219),Y=n(37588),X=n.n(Y),ee=n(8942),te=n.n(ee),ne=n(30731),ie=n(22138),oe=n(74797);const ae={name:"Maptable H3 Tile",version:"1.0",id:"maptableH3Tile",module:"maptable",extensions:[],mimeTypes:["application/vnd.maptable-h3-tile"],category:"geometry",parse:async e=>le(e),parseSync:le,worker:!1,options:{}};function le(e){if(!e)return null;try{return JSON.parse((new TextDecoder).decode(e))}catch{return null}}(0,K.fh)([ae]);const re={...$.Z.defaultProps};class se extends $.Z{initializeState(){super.initializeState(),this.setState({binary:!0,data:null,tileJSON:null})}updateState(e){var t;let{props:n,oldProps:i,context:o,changeFlags:a}=e;if(a.dataChanged){const e=this.props.data;this.setState({data:e})}null!==(t=this.state)&&void 0!==t&&t.data&&super.updateState({props:n,oldProps:i,context:o,changeFlags:a})}getTileData(e){const t=(0,J.z0)(this.state.data,e);if(!t)return Promise.reject("Invalid URL");const n=this.getLoadOptions(),{fetch:i}=this.props,{signal:o}=e;return i(t,{propName:"data",layer:this,loadOptions:n,signal:o})}renderSubLayers(e){if(null===e.data||0===e.data.length)return null;const t={...e,getHexagon:e=>e.hex,highPrecision:!0};return new Q.ZP(t)}}z()(se,"layerName","H3TileLayer"),z()(se,"defaultProps",re);class de extends B.z{renderLayers(){var e,t,n;const i=function(e){var t,n,i,o,a,l;const{id:r,customProps:s}=e,{tableNodeID:d,vtParams:c,shareParams:u,vtInfo:p}=s;if(!r||!d)return null;const h=null===u||void 0===u?void 0:u.userToken,v="".concat(oe.Z.baseApiURL,"/layernodes").concat(h?"/shared":"")+"/h3/".concat(d,"/").concat(r,"/{z}/{x}/{y}/?v=").concat(null!==(t=null===c||void 0===c?void 0:c.recreateAt)&&void 0!==t?t:0).concat(h?"&userToken="+h:"")+(null!==(n=oe.Z.requestParams)&&void 0!==n&&n.cors_disable_token?"&cors_disable_token="+oe.Z.requestParams.cors_disable_token:"");return{id:"".concat(r,"-h3t"),data:v,loadOptions:{fetch:{method:"GET",headers:{Authorization:X().get(ie.o3)}}},maxZoom:null!==(i=null===p||void 0===p||null===(o=p.metadata)||void 0===o?void 0:o.maxzoom)&&void 0!==i?i:0,minZoom:null!==(a=null===p||void 0===p||null===(l=p.metadata)||void 0===l?void 0:l.minzoom)&&void 0!==a?a:0}}(this.props);if(!this.configManager||!i)return null;const{pickable:o,autoHighlight:a,customProps:l}=this.props,r=this.configManager,{setToRedraw:s}=this.context.userData,d=function(e){const{layerFilter:t,timeline:n}=e,i=(0,q.ls)(t);return{...(0,Z.Xq)(n),getFilterValue:e=>{const t=[i?(0,ne.lv)(e,i,!0):1,1];if(null!==n&&void 0!==n&&n.columnId){const i=e[n.columnId];t[1]=null!==i&&void 0!==i?i:0}return t}}}(l),{timeline:c,layerFilter:u}=l;te()(null===(e=this.state.filter)||void 0===e?void 0:e.timelineColumnId,null===c||void 0===c?void 0:c.columnId)&&te()(null===(t=this.state.filter)||void 0===t?void 0:t.layerFilter,u)||this.setState({filter:{timelineColumnId:null===c||void 0===c?void 0:c.columnId,layerFilter:u}}),te()(this.state.config,r.config)||this.setState({config:r.config});const p=null!==(n=r.config.bivariateFillConfig)&&void 0!==n&&n.enable?r.getBlendColor:r.getFillColor,h={...i,onViewportLoad:()=>{setTimeout((()=>{null===s||void 0===s||s()}))},lineWidthMinPixels:0,lineWidthUnits:r.lineWidthUnits,getFillColor:e=>p({properties:e}),getLineWidth:e=>r.getLineWidth({properties:e}),getLineColor:e=>r.getLineColor({properties:e}),getElevation:e=>r.getElevation({properties:e}),extruded:r.getExtruded(),elevationScale:r.getElevationScale(),stroked:!0,filled:!0,pickable:o,autoHighlight:a,updateTriggers:{getFillColor:this.state.config,getLineWidth:this.state.config,getLineColor:this.state.config,getElevation:this.state.config,getFilterValue:this.state.filter},...d};return[new se(h)]}}z()(de,"layerName","H3tLayer");var ce=n(84377),ue=n(55690),pe=n(75538),he=n.n(pe),ve=n(46131),ge=n(78587),fe=n.n(ge),me=n(75091),ye=n.n(me),we=n(21740),be=n(17181);const Ce=(e,t,n)=>{const{fieldConfig:i,fillConfig:o,outlineConfig:a}=e;if(null!==i&&void 0!==i&&i.fillID&&"singleChoice"===i.fillFieldType){var l;const e=o.colorScheme===be.nC,t=null!==(l=o._ordinalDomain)&&void 0!==l?l:[],a=e?o._ordinalColors:o.colors,r=(0,ue.Z)().domain(t).range(a);n.getFillColor=e=>{return h()((0,ve.oe)(e,null===i||void 0===i?void 0:i.fillID))?[255,255,255,255]:(0,we.Z)(r((0,ve.oe)(e,null===i||void 0===i?void 0:i.fillID)),{format:"array",alpha:255*(null!==(t=o.fillOpacity)&&void 0!==t?t:1)});var t}}if(null!==i&&void 0!==i&&i.outlineID&&"singleChoice"===i.outlineFillFieldType){var r;const e=(null===a||void 0===a?void 0:a.colorScheme)===be.nC,t=null!==(r=null===a||void 0===a?void 0:a._ordinalDomain)&&void 0!==r?r:[],o=e?null===a||void 0===a?void 0:a._ordinalColors:null===a||void 0===a?void 0:a.colors,l=(0,ue.Z)().domain(t).range(o);n.getLineColor=e=>{return h()((0,ve.oe)(e,null===i||void 0===i?void 0:i.outlineID))?[255,255,255,255]:(0,we.Z)(l((0,ve.oe)(e,null===i||void 0===i?void 0:i.outlineID)),{format:"array",alpha:255*(null!==(t=null===a||void 0===a?void 0:a.strokeOpacity)&&void 0!==t?t:1)});var t}}},xe=(e,t,n)=>{const{fieldConfig:i,fillConfig:o,outlineConfig:a}=e;if(null!==i&&void 0!==i&&i.fillID&&"string"===i.fillFieldType){var l,r;const e=null!==(l=o._uniqDomain)&&void 0!==l?l:[],t=null!==(r=o.colors)&&void 0!==r?r:[],a=(0,ue.Z)().domain(e).range(t);n.getFillColor=e=>{return h()((0,ve.oe)(e,null===i||void 0===i?void 0:i.fillID))?[255,255,255,255]:(0,we.Z)(a((0,ve.oe)(e,null===i||void 0===i?void 0:i.fillID)),{format:"array",alpha:255*(null!==(t=o.fillOpacity)&&void 0!==t?t:1)});var t}}if(null!==i&&void 0!==i&&i.outlineID&&"string"===i.outlineFillFieldType){var s;const e=null!==(s=null===a||void 0===a?void 0:a._uniqDomain)&&void 0!==s?s:[],t=null===a||void 0===a?void 0:a.colors,o=(0,ue.Z)().domain(e).range(t);n.getLineColor=e=>{return h()((0,ve.oe)(e,null===i||void 0===i?void 0:i.outlineID))?[255,255,255,255]:(0,we.Z)(o((0,ve.oe)(e,null===i||void 0===i?void 0:i.outlineID)),{format:"array",alpha:255*(null!==(t=null===a||void 0===a?void 0:a.strokeOpacity)&&void 0!==t?t:1)});var t}}},Ie=(e,t,n)=>{const{fieldConfig:i,fillConfig:o,outlineConfig:a}=e;if(null!==i&&void 0!==i&&i.fillID&&"user"===i.fillFieldType){var l;const e=null!==(l=o._uniqDomain)&&void 0!==l?l:[],t=o.colors,a=(0,ue.Z)().domain(e).range(t);n.getFillColor=e=>{const t=(0,ve.oe)(e,null===i||void 0===i?void 0:i.fillID);if(h()(t))return[255,255,255,255];{var n;const e=fe()(t)?he()(t,","):ye()(t)?t.id:t;return(0,we.Z)(a(e),{format:"array",alpha:255*(null!==(n=o.fillOpacity)&&void 0!==n?n:1)})}}}if(null!==i&&void 0!==i&&i.outlineID&&"user"===i.outlineFillFieldType){var r;const e=null!==(r=null===a||void 0===a?void 0:a._ordinalDomain)&&void 0!==r?r:[],t=null===a||void 0===a?void 0:a.colors,o=(0,ue.Z)().domain(e).range(t);n.getLineColor=e=>{const t=(0,ve.oe)(e,null===i||void 0===i?void 0:i.outlineID);if(h()(t))return[255,255,255,255];{var n;const e=fe()(t)?he()(t,","):ye()(t)?t.id:t;return(0,we.Z)(o(e),{format:"array",alpha:255*(null!==(n=null===a||void 0===a?void 0:a.strokeOpacity)&&void 0!==n?n:1)})}}}};var je=n(13484),Me=n(78062),ke=n(40978);function Te(e){const t=function(e){if(!e)return;const t=(0,Me.rS)(e);return Array.isArray(t)?"POINT(".concat(t[1],"  ").concat(t[0],")"):void 0}(e);if(t)return(0,ke.HF)(t)}var Ee=n(69151),Pe=n(22601),Oe=n(62502),Se=n(65270);function _e(e){var t,n,l;const{projectId:s,layers:c=[],disableInfoWindow:p,getInfoWindowIds:v,map:f,onSetColorDomain:y,activeLabels:w,isDualView:b,mapId:C,enablePickingMultiObjects:x}=e,I=(0,O.I)(),j=(0,a.Z)(),M=(0,O.v)((e=>e.map.editor)),F=(0,S.o1)(),z=(0,O.v)((e=>e.map.timeline)),B=(0,O.v)((e=>e.project.mapSiderVisible)),V=(0,O.v)((e=>e.project.layerSettingsVisible)),H=(0,O.v)((e=>e.map.spatialAnalysis)),W=(0,O.v)((e=>e.map.stat)),{width:$}=(0,P.TC)(),{isMobile:J}=(0,Se.F)(),Q=(0,i.useMemo)((()=>({x:B?V?2*$:$:0,y:0})),[V,B,$]),[K,Y]=(0,i.useState)(new Map),X=(0,i.useRef)(K),ee=(0,O.v)(ce.pi),te=(0,O.v)(D.EM.selectAll),ne=(0,O.v)((e=>e.map.tripsLayerTimeLine)),ie=(0,O.v)((e=>e.layerNode.vtLayersParams)),oe=null===f||void 0===f||null===(t=f.deckLayer)||void 0===t?void 0:t.getDeckInstance(),ae=(0,i.useCallback)((e=>{var t,n;const i=e.object;let a=null===(t=i.properties)||void 0===t?void 0:t.layerID;!a&&null!==(n=e.layer)&&void 0!==n&&n.id&&(a=e.layer.id);const l=c.find((e=>e.id===a));if(!l)return;if("cluster"===l.mapInfo.layerType&&f&&e.coordinate&&(f.setCenter(e.coordinate),f.zoomIn()),l.mapInfo.vectorTile&&"heatmap"===l.mapInfo.layerType)return;if(M.isOpen&&M.isEditing&&("Polygon"===i.geometry.type||"MultiPolygon"===i.geometry.type))return a!==M.layerNodeID&&a&&(I(_.Nw.updateSelectedKeys({keys:[a]})),I(N.Nw.updateEditor({layerNodeID:a}))),void I(N.Nw.updateEditorSelectedFeatures(i));if(M.isOpen||M.isAdding||p||!e.layer||l.isAnalysis)return;if(!l.tableNodeId)return;if("custom"===W.filterType&&e.coordinate&&W.coordinates&&!(0,E.Of)(e.coordinate,W.coordinates))return;const[r,s=C]=e.layer.id&&"string"===typeof e.layer.id?e.layer.id.split(":"):[e.layer.id];if(("clickOtherPOI"===l.infoWindowCloseWay||J)&&I(R.Nw.removeAll()),I(_.Nw.updateSelectedKeys({keys:[r]})),I(N.Nw.updateEditor({layerNodeID:r})),!i||i.cluster)return;const d=le(l,e,r),u=v();if(d.properties&&!(u.indexOf(d.properties.id)>=0))if(u.length>=L.Gr)o.ZP.error(j.$t({id:"fstDfY",defaultMessage:"Only{count}information windows can be opened"},{count:L.Gr}));else{const{x:t,y:n}=e,i=x?null===oe||void 0===oe?void 0:oe.pickMultipleObjects({x:t,y:n,depth:L.iO}):void 0,o=null===i||void 0===i?void 0:i.map((t=>{const n=c.find((e=>{var n;return e.id===(null===(n=t.object.properties)||void 0===n?void 0:n.layerID)}));if(!n)return;const i=le(n,t,r);return{geometry:d.geometry,...i.properties,position:(0,A.DE)(e,s,b,Q),from:s}})).filter(Boolean),a={geometry:d.geometry,...d.properties,position:(0,A.DE)(e,s,b,Q),from:s,list:o};I(R.Nw.add(a)),Oe.g_.emit({tableNodeId:l.tableNodeId,rowId:d.properties.rowID,cellId:d.properties.cellID})}}),[M.isOpen,M.isAdding,M.isEditing,M.layerNodeID,p,W.filterType,W.coordinates,f,C,J,c,I,v,j,b,Q,oe,x]);function le(e,t,n){const i=t.object;if("h3Tile"===e.mapInfo.layerType&&i.hex){var o,a;i.properties={id:i.hex,name:i.hex,tableNodeType:T.e.bigTable,geometry:Te(i.hex)};const t=[{...je.A,value:i.hex},...null!==(o=null===(a=e.vtInfo)||void 0===a||null===(a=a.columns)||void 0===a?void 0:a.map((e=>{let t=m()(i,e.id);return"datetime"===e.type&&(t*=Pe.go),{...e,value:t}})))&&void 0!==o?o:[]];Object.assign(i.properties,{...i.properties,layerType:"h3t",layerID:n,tableNodeID:e.tableNodeId,vtInfo:e.vtInfo,editable:!1,cells:t})}else if(e.mapInfo.vectorTile){var l;const t=(null===(l=e.vtInfo)||void 0===l||null===(l=l.columns)||void 0===l?void 0:l.map((e=>{let t=m()(i.properties,e.id);return"datetime"===e.type&&(t*=Pe.go),{...e,value:t}})))||[];Object.assign(i.properties,{...i.properties,layerType:"vt",layerID:e.id,tableNodeID:e.tableNodeId,rowID:i.properties.id,cellID:e.mapInfo.coordinateFieldID,latCellID:e.mapInfo.latitudeFieldID,vtInfo:e.vtInfo,cells:t})}return i}const re=(0,i.useCallback)((e=>{Y((()=>{const t=new Map(r()(e,(e=>[e.id,e])));return X.current=t,t}))}),[]),se=(0,i.useCallback)((()=>{var e;null===f||void 0===f||null===(e=f.deckLayer)||void 0===e||e.setToRedraw()}),[f]),ue=(0,i.useCallback)(((e,t)=>{I(t?N.Nw.setSpatialAnalysisOverlayVtData(e):N.Nw.setSpatialAnalysisVtData(e))}),[I]),pe=(0,i.useMemo)((()=>function(e){return Array.from(e.values())}(K)),[K]),he=(0,O.v)((e=>e.map.mapConfig.zoomLevel)),ve=(0,O.v)((e=>e.project.drillDown)),ge=(0,i.useMemo)((()=>c.map((e=>{var t,n,i,o;const a=ee[e.id]?u()({},e.mapInfo,g()(ee[e.id],ce.ji),((e,t,n)=>{if(Array.isArray(e)&&Array.isArray(t)&&"colors"===n)return t})):e.mapInfo,l=null===pe||void 0===pe||null===(t=pe.find((t=>t.id===e.id)))||void 0===t?void 0:t.active,r=e.columns,d=e.members,c=Ne({mapInfo:a,columns:r,labelVisible:l,customizeIcons:te,tripsLayerTimeline:ne,zoom:he}),p=(null===(n=H.config)||void 0===n?void 0:n.overlayLayerId)===e.id,h=p||(null===(i=H.config)||void 0===i?void 0:i.layerId)===e.id?e=>{ue(e,p)}:void 0;return function(e){var t;const{layer:n,config:i,customProps:o,pickable:a,currentZoom:l,enableGeofence:r,drillDownState:s,onClick:d,onSetColorDomain:c}=e,u=(0,k.l7)(i,{extensions:[G,Ce,xe,Ie,q.RS]}),p=n.mapInfo.layerType,h=n.mapInfo.vectorTile,{timeline:v}=o,g=(0,Z.c3)(r),f=(0,Z.Xq)(v),m=function(e){let{layerNodeID:t,drillDownState:n,zoom:i,visibleRange:o}=e;if(t&&null!==n&&void 0!==n&&n.layerNodeID&&null!==n&&void 0!==n&&n.breadcrumbPath&&n.breadcrumbPath.length>1)return t===n.layerNodeID;if(o&&i)return i>=o[0]&&i<=o[1];return!0}({layerNodeID:n.id,drillDownState:s,zoom:l,visibleRange:null===(t=i.visibilityConfig)||void 0===t?void 0:t.visibleRange}),y={id:n.id,data:n,configManager:u,autoHighlight:!0,visible:m,customProps:o,pickable:a,onClick:d};switch(p){case"heatmap":return h?new q.Vm(y):new k.zP({...y,extensionPack:f});case"grid":return new k.mU({...y,onSetColorDomain:c});case"hexagon":return new k.dX({...y,onSetColorDomain:c});case"odLine":return new k.J1({...y,extensionPack:f});case"h3":return new k.cH({...y,extensionPack:f});case"cluster":return new k.K7({...y,onSetColorDomain:c,extensionPack:(0,Z.Q9)(g,f)});case"flow":return new U({...y});case"icon":return h?new q.ng({...y}):new k.eE({...y,extensionPack:(0,Z.Q9)(g,f)});case"h3Tile":return new de(y);case"trips":return new k.Fw({...y,extensionPack:(0,Z.Q9)(g,f)});case"path":return new k.nr({...y,extensionPack:(0,Z.Q9)(g,f)});case"region":return new k.cD({...y,extensionPack:(0,Z.Q9)(g,f)});default:return h?new q.Nn({...y,extensionPack:g}):new k.tn({...y,extensionPack:(0,Z.Q9)(g,f)})}}({layer:{...e,mapInfo:a},projectId:s,config:c,currentZoom:he,pickable:!M.isOpen||M.isEditing,enableGeofence:"custom"===W.filterType,onClick:ae,onSetColorDomain(t){var n;null===y||void 0===y||null===(n=y.current)||void 0===n||n.call(y,e.id,c,t),I(_.Nw.setAggregateLayerData({id:e.id,colorDomain:t}))},customProps:{projectId:s,name:e.name,coordId:e.mapInfo.coordinateFieldID,layerType:e.mapInfo.layerType,tableNodeID:e.tableNodeId,vtInfo:e.vtInfo,layerFilter:e.layerFilter,timezone:e.timezone,shareParams:F.sharingParams,members:d,timeline:z.enable&&z.range?{range:z.range,columnId:null===(o=e.timelineColumn)||void 0===o?void 0:o.id}:void 0,vtParams:ie[e.id],isVectorTile:e.mapInfo.vectorTile||!1,isDualView:b,mapInfo:a,setVtFeatures:h},drillDownState:ve})}))),[c,s,ae,y,z.enable,z.range,pe,ee,F.sharingParams,M.isEditing,M.isOpen,te,I,ne,ie,b,null===(n=H.config)||void 0===n?void 0:n.layerId,null===(l=H.config)||void 0===l?void 0:l.overlayLayerId,ue,he,W.filterType,ve]);return(0,i.useEffect)((()=>{setTimeout((()=>{se()}),300)}),[ge,se]),(0,i.useEffect)((()=>{Y(new Map),c.forEach((e=>{const t=ee[e.id]?d()({},e.mapInfo,g()(ee[e.id],ce.ji)):e.mapInfo;Y((n=>{const i={id:e.id,label:e.name,active:!h()(null===t||void 0===t?void 0:t.labelFieldID),disabled:h()(null===t||void 0===t?void 0:t.labelFieldID)};var o;X.current.has(e.id)&&(i.active=!h()(null===t||void 0===t?void 0:t.labelFieldID)&&!(null===(o=X.current.get(e.id))||void 0===o||!o.active));return null!==w&&void 0!==w&&w.includes(e.id)&&(i.active=!0),n.set(e.id,i),n}))}))}),[c,w,ee]),{visLayers:ge,layersLabel:pe,updateLayersLabel:re}}function Ne(e){var t,n,i,o,a,l,r,s,d,c,u,p,h,v,g,f,m,y,b,x,j,k,T,E,P,O,S,_,N,D,A,R,Z,F,z,B,V,H,W,U,G,$,J,Q,K,Y,X,ee,te,ne,ie,oe,ae,le,re,se,de,ce,ue,pe,he,ve,ge,fe,me,ye,we,be,Ce,xe,Ie,je,Me,ke,Te,Pe,Oe,Se,_e,Ne,Le,Ae,Re,Ze,Fe,ze,Be,Ve,He,We,Ue,Ge,qe,$e,Je,Qe,Ke,Ye,Xe,et,tt,nt,it,ot,at,lt,rt,st,dt,ct,ut,pt,ht,vt,gt,ft,mt,yt,wt,bt,Ct,xt,It,jt,Mt,kt;const{mapInfo:Tt,columns:Et,labelVisible:Pt=!1,customizeIcons:Ot,tripsLayerTimeline:St,zoom:_t}=e,Nt=Tt.vectorTile,Dt=w()(Tt.fillConfig.icons,(e=>{const t=I()(e,"c:")?C()(e,"c:"):e;if(L.jm.includes(t))return t;const n=null===Ot||void 0===Ot?void 0:Ot.find((e=>e.id===t));return n?"svg"===n.ext?n.imageUrl:"".concat(n.imageUrl,"?w_").concat(n.width,",h_").concat(n.height):"location"})),Lt=M()(Et,(e=>e.id===Tt.fillFieldID)),At=(0,Ee.Ql)(Lt),Rt=M()(Et,(e=>e.id===Tt.outlineFieldID)),Zt=(0,Ee.Ql)(Rt),Ft=function(e,t,n){if(!e)return;if(L.Br.includes(e))return{imageUrl:"".concat(L.fg,"/").concat(e,".png"),width:L.dC,height:L.dC};{const i=null===t||void 0===t?void 0:t.find((t=>t.id===C()(e,"c:")));if(!i)return;return{...i,imageUrl:"".concat(i.imageUrl,"?w_").concat(null!==n&&void 0!==n?n:i.width,",h_").concat(null!==n&&void 0!==n?n:i.height),height:null!==n&&void 0!==n?n:i.height,width:null!==n&&void 0!==n?n:i.width}}}(null===(t=Tt.tripsConfig)||void 0===t?void 0:t.icon,Ot,null===(n=Tt.tripsConfig)||void 0===n?void 0:n.iconSize),zt=(0,Ee.Ql)(M()(Et,(e=>e.id===Tt.groupByFieldID))),Bt="region"===Tt.layerType;return{visibilityConfig:{visibleRange:null!==(i=null===(o=Tt.visibilityConfig)||void 0===o?void 0:o.visibleRange)&&void 0!==i?i:L.E},fieldConfig:{fillID:Tt.fillFieldID,fillFieldType:At,bivariateFillID:Tt.bivariateFillFieldID,destinationID:Tt.destinationFieldID,elevationID:Tt.heightFieldID,labelID:Tt.labelFieldID,outlineID:Tt.outlineFieldID,outlineFillFieldType:Zt,outlineWidthID:Tt.outlineWidthFieldID,radiusID:Tt.radiusFieldID,weightID:Tt.weightFieldID,timestampID:Tt.timestampFieldID,groupByFieldID:Tt.groupByFieldID,groupByFieldType:zt,sortByFieldID:Tt.sortByFieldID,regionDimensionID:Tt.regionDimensionFieldID,regionIndexStatsID:Tt.regionIndexStatsFieldID,specifyByFieldID:Tt.specifyByFieldID},fillConfig:{colors:Tt.fillConfig.colors,icons:Dt,fillMethod:null!==(a=Tt.fillConfig.fillMethod)&&void 0!==a?a:"quantile",fillOpacity:Tt.fillConfig.fillOpacity,colorScheme:Tt.fillConfig.colorScheme,aggregateBy:Tt.fillConfig.aggregateBy,reverse:null!==(l=Tt.fillConfig.reverse)&&void 0!==l&&l,thresholds:Tt.fillConfig.thresholds,_ordinalDomain:Tt.fillConfig._ordinalDomain,_ordinalColors:Tt.fillConfig._ordinalColors,_uniqDomain:Tt.fillConfig._uniqDomain,domain:Tt.fillConfig._domain?Tt.fillConfig._domain:Nt&&Tt.fillConfig.fillMethod&&null!==(r=Tt.fillConfig)&&void 0!==r&&r._quantiles?(0,q.HG)(Tt.fillConfig.fillMethod,null===(s=Tt.fillConfig)||void 0===s?void 0:s._quantiles,Tt.fillConfig.colors.length):void 0},radiusConfig:{radius:Tt.radiusConfig.radius,radiusRange:Tt.radiusConfig.radiusRange,fixedToMeter:null!==(d=Tt.radiusConfig.fixedToMeter)&&void 0!==d&&d,domain:Nt&&null!==(c=Tt.radiusConfig)&&void 0!==c&&c._quantiles?(0,q.HG)("quantize",null===(u=Tt.radiusConfig)||void 0===u?void 0:u._quantiles):void 0},bivariateFillConfig:{colors:null!==(p=null===(h=Tt.bivariateFillConfig)||void 0===h?void 0:h.colors)&&void 0!==p?p:["#08519c"],colorScheme:null===(v=Tt.bivariateFillConfig)||void 0===v?void 0:v.colorScheme,enable:null!==(g=Tt.fillConfig.bivariate)&&void 0!==g&&g,fillMethod:null!==(f=null===(m=Tt.bivariateFillConfig)||void 0===m?void 0:m.fillMethod)&&void 0!==f?f:"quantile",fillOpacity:null!==(y=null===(b=Tt.bivariateFillConfig)||void 0===b?void 0:b.fillOpacity)&&void 0!==y?y:.8,reverse:null!==(x=null===(j=Tt.bivariateFillConfig)||void 0===j?void 0:j.reverse)&&void 0!==x&&x,thresholds:null!==(k=null===(T=Tt.bivariateFillConfig)||void 0===T?void 0:T.thresholds)&&void 0!==k?k:[],domain:Nt&&Tt.bivariateFillConfig.fillMethod&&null!==(E=Tt.bivariateFillConfig)&&void 0!==E&&E._quantiles?(0,q.HG)(Tt.bivariateFillConfig.fillMethod,null===(P=Tt.bivariateFillConfig)||void 0===P?void 0:P._quantiles,Tt.bivariateFillConfig.colors.length):void 0},outlineConfig:Tt.outlineConfig?{strokeOpacity:Tt.outlineConfig.strokeOpacity,colors:Bt?["#c5c5c5"]:Tt.outlineConfig.colors,colorScheme:Tt.outlineConfig.colorScheme,reverse:null!==(O=Tt.outlineConfig.reverse)&&void 0!==O&&O,strokeMethod:Tt.outlineConfig.strokeMethod,strokeWeight:Tt.outlineConfig.strokeWeight,thresholds:Tt.outlineConfig.thresholds,widthRange:Tt.odLineConfig.widthRange,align:Tt.outlineConfig.align,_ordinalDomain:Tt.outlineConfig._ordinalDomain,_ordinalColors:Tt.outlineConfig._ordinalColors,_uniqDomain:Tt.outlineConfig._uniqDomain,domain:Nt&&Tt.outlineConfig.strokeMethod&&null!==(S=Tt.outlineConfig)&&void 0!==S&&S._quantiles&&Tt.outlineConfig.colors?(0,q.HG)(Tt.outlineConfig.strokeMethod,null===(_=Tt.outlineConfig)||void 0===_?void 0:_._quantiles,Tt.outlineConfig.colors.length):void 0,_widthFiledQuantiles:Tt.outlineConfig._widthFiledQuantiles}:{},labelConfig:{enable:Pt,direction:Bt?"center,middle":(null===(N=Tt.labelConfig)||void 0===N?void 0:N.direction)||"bottom,middle",fontColor:(null===(D=Tt.labelConfig)||void 0===D?void 0:D.fillColor)||"#091E42",fontSize:(null===(A=Tt.labelConfig)||void 0===A?void 0:A.fontSize)||13,strokeWeight:null!==(R=null===(Z=Tt.labelConfig)||void 0===Z?void 0:Z.strokeWeight)&&void 0!==R?R:0,strokeColor:null!==(F=null===(z=Tt.labelConfig)||void 0===z?void 0:z.strokeColor)&&void 0!==F?F:"#000",backgroundColor:null!==(B=null===(V=Tt.labelConfig)||void 0===V?void 0:V.backgroundColor)&&void 0!==B?B:"#fff",backgroundOpacity:null!==(H=null===(W=Tt.labelConfig)||void 0===W?void 0:W.backgroundOpacity)&&void 0!==H?H:0,visibleRange:null!==(U=null===(G=Tt.labelConfig)||void 0===G?void 0:G.visibleRange)&&void 0!==U?U:L.E,collisionEnabled:!(null!==($=null===(J=Tt.labelConfig)||void 0===J?void 0:J.collisionDisabled)&&void 0!==$&&$)},elevationConfig:{aggregateBy:null===(Q=Tt.heightConfig)||void 0===Q?void 0:Q.aggregateBy,enable:null!==(K=null===(Y=Tt.heightConfig)||void 0===Y?void 0:Y.toggle)&&void 0!==K&&K,height:null===(X=Tt.heightConfig)||void 0===X?void 0:X.height,heightRange:null===(ee=Tt.heightConfig)||void 0===ee?void 0:ee.heightRange,multiplier:(null!==(te=null===(ne=Tt.heightConfig)||void 0===ne?void 0:ne.multiplier)&&void 0!==te?te:1)*De(_t),scale:null===(ie=Tt.heightConfig)||void 0===ie?void 0:ie.scale,domain:Nt&&null!==(oe=Tt.heightConfig)&&void 0!==oe&&oe._quantiles?(0,q.HG)("quantize",null===(ae=Tt.heightConfig)||void 0===ae?void 0:ae._quantiles):void 0},odLineConfig:{destinationColor:Tt.odLineConfig.destinationColor,originColor:Tt.odLineConfig.originColor,type:Tt.odLineConfig.type,widthRange:Tt.odLineConfig.widthRange,width:Tt.odLineConfig.width,domain:Nt&&null!==(le=Tt.outlineConfig)&&void 0!==le&&le._quantiles?(0,q.HG)("continuous",null===(re=Tt.outlineConfig)||void 0===re?void 0:re._quantiles):void 0},gridConfig:{cellSize:Tt.radiusConfig.gridSize,coverage:Tt.radiusConfig.coverage},heatmapConfig:{threshold:null!==(se=null===(de=Tt.heatmapConfig)||void 0===de?void 0:de.threshold)&&void 0!==se?se:.03},flowConfig:{darkMode:null!==(ce=null===(ue=Tt.flowConfig)||void 0===ue?void 0:ue.darkMode)&&void 0!==ce&&ce,colorScheme:null!==(pe=null===(he=Tt.flowConfig)||void 0===he?void 0:he.colorScheme)&&void 0!==pe?pe:"Blues",fadeEnabled:null!==(ve=null===(ge=Tt.flowConfig)||void 0===ge?void 0:ge.fadeEnabled)&&void 0!==ve&&ve,fadeAmount:null!==(fe=null===(me=Tt.flowConfig)||void 0===me?void 0:me.fadeAmount)&&void 0!==fe?fe:.5,locationTotalsEnabled:null!==(ye=null===(we=Tt.flowConfig)||void 0===we?void 0:we.locationTotalsEnabled)&&void 0!==ye&&ye,clusteringEnabled:null===(be=null===(Ce=Tt.flowConfig)||void 0===Ce?void 0:Ce.clusteringEnabled)||void 0===be||be,clusteringAuto:null===(xe=null===(Ie=Tt.flowConfig)||void 0===Ie?void 0:Ie.clusteringAuto)||void 0===xe||xe,clusteringLevel:null!==(je=null===(Me=Tt.flowConfig)||void 0===Me?void 0:Me.clusteringLevel)&&void 0!==je?je:5},tripsConfig:{fadeTrail:null===(ke=null===(Te=Tt.tripsConfig)||void 0===Te?void 0:Te.fadeTrail)||void 0===ke||ke,trailLength:null!==(Pe=null===(Oe=Tt.tripsConfig)||void 0===Oe?void 0:Oe.trailLength)&&void 0!==Pe?Pe:3e3,capRounded:null!==(Se=null===(_e=Tt.tripsConfig)||void 0===_e?void 0:_e.capRounded)&&void 0!==Se&&Se,jointRounded:null!==(Ne=null===(Le=Tt.tripsConfig)||void 0===Le?void 0:Le.jointRounded)&&void 0!==Ne&&Ne,animation:null!==(Ae=null===St||void 0===St?void 0:St.playing)&&void 0!==Ae&&Ae,speed:(null!==(Re=null===St||void 0===St?void 0:St.speed)&&void 0!==Re?Re:1)*(null!==(Ze=null===St||void 0===St?void 0:St.multiplier)&&void 0!==Ze?Ze:1),currentTime:null!==(Fe=null===St||void 0===St?void 0:St.manualUpdatedTime)&&void 0!==Fe?Fe:0,icon:null!==(ze=Tt.tripsConfig)&&void 0!==ze&&ze.icon&&Ft?{url:Ft.imageUrl,width:Ft.width,height:Ft.height}:void 0,iconSize:null===(Be=Tt.tripsConfig)||void 0===Be?void 0:Be.iconSize,iconRotation:null===(Ve=Tt.tripsConfig)||void 0===Ve?void 0:Ve.iconRotation},pathConfig:{showWaypoint:null!==(He=null===(We=Tt.pathConfig)||void 0===We?void 0:We.showWaypoint)&&void 0!==He&&He,colors:null!==(Ue=null===(Ge=Tt.pathConfig)||void 0===Ge?void 0:Ge.colors)&&void 0!==Ue?Ue:[],waypointOpacity:null!==(qe=null===($e=Tt.pathConfig)||void 0===$e?void 0:$e.waypointOpacity)&&void 0!==qe?qe:.8,waypointSize:null!==(Je=null===(Qe=Tt.pathConfig)||void 0===Qe?void 0:Qe.waypointSize)&&void 0!==Je?Je:8,isCustomEndpointColor:null!==(Ke=null===(Ye=Tt.pathConfig)||void 0===Ye?void 0:Ye.isCustomEndpointColor)&&void 0!==Ke&&Ke,endpointColor:null!==(Xe=null===(et=Tt.pathConfig)||void 0===et?void 0:et.endpointColor)&&void 0!==Xe?Xe:"#e64c4c",startPointColor:null!==(tt=null===(nt=Tt.pathConfig)||void 0===nt?void 0:nt.startPointColor)&&void 0!==tt?tt:"#3384ff",endpointSize:null!==(it=null===(ot=Tt.pathConfig)||void 0===ot?void 0:ot.endpointSize)&&void 0!==it?it:4,endpointOpacity:null!==(at=null===(lt=Tt.pathConfig)||void 0===lt?void 0:lt.endpointOpacity)&&void 0!==at?at:.8},regionConfig:{country:null!==(rt=null===Tt||void 0===Tt||null===(st=Tt.regionConfig)||void 0===st?void 0:st.country)&&void 0!==rt?rt:"china",level:null!==(dt=null===Tt||void 0===Tt||null===(ct=Tt.regionConfig)||void 0===ct?void 0:ct.level)&&void 0!==dt?dt:"admin1",regionId:null===Tt||void 0===Tt||null===(ut=Tt.regionConfig)||void 0===ut?void 0:ut.regionId,dimension:null!==(pt=null===Tt||void 0===Tt||null===(ht=Tt.regionConfig)||void 0===ht?void 0:ht.dimension)&&void 0!==pt?pt:"region",indexStatsMethod:null!==(vt=null===Tt||void 0===Tt||null===(gt=Tt.regionConfig)||void 0===gt?void 0:gt.indexStatsMethod)&&void 0!==vt?vt:"sum",aggregateBy:null!==(ft=null===Tt||void 0===Tt||null===(mt=Tt.regionConfig)||void 0===mt?void 0:mt.aggregateBy)&&void 0!==ft?ft:"admin1",colors:null!==(yt=null===Tt||void 0===Tt||null===(wt=Tt.regionConfig)||void 0===wt?void 0:wt.colors)&&void 0!==yt?yt:["#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801"],labelVisible:null===(bt=null===Tt||void 0===Tt||null===(Ct=Tt.regionConfig)||void 0===Ct?void 0:Ct.labelVisible)||void 0===bt||bt,labelTypes:(null===Tt||void 0===Tt||null===(xt=Tt.regionConfig)||void 0===xt?void 0:xt.labelTypes)||["name","value"],fillMethod:(null===Tt||void 0===Tt||null===(It=Tt.regionConfig)||void 0===It?void 0:It.fillMethod)||"quantize",thresholds:null===Tt||void 0===Tt||null===(jt=Tt.regionConfig)||void 0===jt?void 0:jt.thresholds,reverse:null!==(Mt=null===Tt||void 0===Tt||null===(kt=Tt.regionConfig)||void 0===kt?void 0:kt.reverse)&&void 0!==Mt&&Mt,disableLabelOffset:!0}}}function De(e,t){return t||!e?1:Math.pow(2,Math.max(8-e,0))}},2715:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var i=n(57435),o=n(59267),a=n.n(o),l=n(11145),r=n(30423),s=n(58590),d=n(57830),c=n(9217);function u(e,t){const n=(0,l.s0)(),{workspaceType:o}=(0,d.F)(),u=(0,r.v)((e=>e.user.userId)),p=(0,r.v)(s.Hx.selectAll),h=(0,r.v)((e=>null==t?void 0:s.Hx.selectById(e,t))),{data:v,isLoading:g}=(0,c.Dp)(null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.id,u);return(0,i.useEffect)((()=>{null!==v&&void 0!==v&&v.detail&&function(e,t,n){null==n||a()(n)||t.some((e=>e.id===n))||e()}((()=>{n("/".concat(o,"/").concat(null===e||void 0===e?void 0:e.id),{replace:!0})}),v.detail.projects||[],t)}),[n,o,null===e||void 0===e?void 0:e.id,t,v]),{projects:p,isLoading:g,project:h,currentWorkspace:v}}},70:(e,t,n)=>{"use strict";n.d(t,{HP:()=>w,Pl:()=>y});var i=n(23903),o=n.n(i),a=n(30289),l=n(55349),r=n.n(l),s=n(57435),d=n(62618),c=n.n(d),u=n(53182),p=n.n(u),h=n(30423),v=n(57830),g=n(67661),f=n(12167),m=n(68885);function y(e,t,n){var i,l,d;const c=(0,h.I)(),{viewId:u,projectId:p,tableNodeId:y,shareToken:w,shareType:b}=(0,v.F)(),C=null!==n&&void 0!==n?n:p,x=null!==e&&void 0!==e?e:y,{data:I}=(0,g.mJ)(C,x),j=(0,h.v)((e=>{var t;return e.tableNode.selectedViews&&I?null===(t=e.tableNode)||void 0===t?void 0:t.selectedViews[I.id]:void 0})),M=null!==(i=null!==(l=null!==t&&void 0!==t?t:u)&&void 0!==l?l:j)&&void 0!==i?i:null===I||void 0===I||null===(d=I.views)||void 0===d?void 0:d[0].id,k=(0,s.useMemo)((()=>{var e,t;return null!==(e=o()(null===I||void 0===I?void 0:I.views,(e=>e.id===M)))&&void 0!==e?e:null===I||void 0===I||null===(t=I.views)||void 0===t?void 0:t[0]}),[M,null===I||void 0===I?void 0:I.views]),{userToken:T}=(0,f.UP)();return(0,a.ZP)(k&&r()(k.columns)?["view",k,x,w,b,T]:null,(e=>{let[t,n,i,o,a,l]=e;return c((0,m.AB)({id:i,viewId:n.id,token:o,type:a,userToken:l}))})),{view:k}}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table";const n=p()(c()(e,"order").filter((e=>e.type===t&&!e.isLocked&&!e.isPersonal)));return null!==n&&void 0!==n?n:p()(e)}},30423:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,v:()=>a});var i=n(82583);const o=()=>(0,i.I0)(),a=i.v9},81987:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var i=n(57435),o=n(23903),a=n.n(o),l=n(16108),r=n(30423),s=n(57830),d=n(20491);function c(){const{projectId:e,workspaceType:t}=(0,s.F)(),[n,o]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),p=(0,r.v)((e=>e.workspace.workspaceRoles));(0,i.useEffect)((()=>{let e=!1,t=!1;null===p||void 0===p||p.forEach((n=>{"org"===n.type&&"owner"===n.role&&(e=!0),"project"===n.type&&"owner"===n.role&&(t=!0)})),o(e),u(t)}),[p,e]);const h=(0,i.useCallback)(((n,i,o)=>{if(!i)return console.warn("".concat(i," is not valid expectedRole, checkPermission will always return false")),!1;const l="uw"===t&&"table"===o,r=l?"project":o,s=l&&null!==e&&void 0!==e?e:n,c="uw"===t&&"datafile"===o?{id:0,type:"datafile",role:"admin"}:a()(p,(e=>e.id===s&&e.type===r));switch(null===c||void 0===c?void 0:c.role){case d.bp.readonly:return i===d.bp.readonly;case d.bp.editable:return i===d.bp.readonly||i===d.bp.editable;case d.bp.admin:return i===d.bp.readonly||i===d.bp.editable||i===d.bp.admin;case d.bp.owner:return i===d.bp.readonly||i===d.bp.editable||i===d.bp.admin||i===d.bp.owner;default:return!1}}),[p,t,e]),v=(0,i.useCallback)((e=>{var t;if(e)return null===(t=a()(p,(t=>t.id===e&&"table"===t.type)))||void 0===t?void 0:t.rowLevelPermissions}),[p]);return{workspaceRoles:p,checkPermission:h,checkOrgPermission:(e,t)=>h(e,t,l.d.org),checkTablePermission:(e,t)=>h(e,t,l.d.table),checkProjectPermission:(e,t)=>h(e,t,l.d.project),checkDataFilePermission:(e,t)=>h(e,t,l.d.datafile),getTableRowLevelPermission:v,isOrgOwner:n,isProjectOwner:c}}},9217:(e,t,n)=>{"use strict";n.d(t,{Dp:()=>j,_O:()=>I});var i=n(57435),o=n(30289),a=n(11145),l=n(1414),r=n(88716),s=n.n(r),d=n(30423),c=n(81837),u=(n(57830),n(55349)),p=n.n(u),h=n(59267),v=n.n(h),g=n(23903),f=n.n(g),m=n(46481),y=n(74909),w=n(8343);const b={user:"uw",org:"w"},C=n.n(w)()(b);const x=(0,m.P1)([(e,t)=>y.MY.selectAll(e),(e,t)=>t.workspaceId,(e,t)=>t.workspaceType],((e,t,n)=>{var i;const o=null!==(i=function(e){return C[e]}(n))&&void 0!==i?i:"user";return p()(t)||v()(t)?f()(e,(e=>e.type===o)):f()(e,(e=>e.id===t&&e.type===o))}));(0,m.P1)((e=>e.workspace.workspaceRoles),(e=>e.workspace.workspace),((e,t)=>{var n;return"user"===(null===t||void 0===t?void 0:t.type)?"admin":null===e||void 0===e||null===(n=e.find((e=>e.id===(null===t||void 0===t?void 0:t.id))))||void 0===n?void 0:n.role})),(0,m.P1)([e=>{var t;return null!==(t=e.workspace.current)&&void 0!==t&&t.user&&e.workspace.current.user!==e.user.userId?void 0:e.workspace.current}],(e=>e));function I(e,t,n){const r=(0,d.I)(),u=(0,a.s0)(),p=(0,d.v)(y.MY.selectAll),h=(0,d.v)((e=>e.user.isAuth)),v=(0,d.v)((n=>x(n,{workspaceId:t,workspaceType:e}))),g=(0,d.v)((e=>{var t;return null===(t=y.MY.selectAll(e))||void 0===t||null===(t=t.find((e=>"user"===e.type)))||void 0===t?void 0:t.id})),{pathname:f}=(0,a.TH)(),m=(0,l.LX)("/uw/:workspaceId/p/:projectId/t/:tableNodeId",f),w=(0,l.LX)("/uw/:workspaceId/p/:projectId/map",f),b=f.startsWith("/s/"),C=s()(p);(0,o.ZP)(C&&h&&!b&&!n?"getWorkspaces":null,(()=>r((0,c.fX)())));const I=!b&&!C&&!v;return(0,i.useEffect)((()=>{if(I)if(m||w){var t;const{tableNodeId:n,projectId:i}=null!==(t=null===m||void 0===m?void 0:m.params)&&void 0!==t?t:{},o="/".concat(e,"/").concat(g,"/p");u(w?"".concat(o,"/").concat(w.params.projectId,"/map"):n?"".concat(o,"/").concat(i,"/t/").concat(n):"".concat(o,"/").concat(i,"/t/"),{replace:!0})}else u("/uw/")}),[m,g,e,I,u,w]),{workspaces:p,workspace:v,userWorkspaceId:g}}function j(e,t,n){const i=(0,d.I)(),a=(0,d.v)((e=>e.workspace.workspace)),{error:l,isLoading:r}=(0,o.ZP)(e&&t&&n?["workspaceDetail",e,t,n]:null,(e=>{let[t,n,o,a]=e;return i((0,c.F9)({type:n,id:o,userId:a}))}));return{data:a,isLoading:r,error:l}}},25394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(18765),o=n.n(i),a=n(7070),l=n.n(a),r=n(43179),s=n.n(r),d=n(49163),c=n(68885),u=n(1714);const p=(0,d.Gx)(c.ZL,c.Zl),h=e=>t=>n=>{if(p(n)){const t=e.getState(),n=l()(o()(u.TW.selectEntities(t),(e=>{const t=s()(null===e||void 0===e?void 0:e.lastRetrievedAt).add(10,"day");return s()().isAfter(t)})),"id");e.dispatch(u.Nw.cleanCacheByIds(n))}return t(n)}},28137:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h,jv:()=>u});var i=n(74720),o=n.n(i),a=n(37588),l=n.n(a),r=n(21101),s=n(22138),d=n(3705),c=n(93707);function u(){l().set(s.$,"false"),l().remove(s.$A),l().remove(s.o3),l().remove(s.z6),l().remove(s.Ek)}const p=e=>function(t){if(t&&"object"===typeof t&&"name"in t){if("NetworkError"!==t.name||!navigator.onLine)return"AuthError"===t.name?(u(),e(r.N.setAuth(!1)),window.location.pathname.startsWith("/s/")?void 0:{redirectUrl:"/login"}):void("QuotaLimitError"!==t.name||e(c.Nw.updateQuotaLimitDialogConfig({quotaError:JSON.parse(t.message)})));e(c.Nw.networkStatus(d.Ie.NETWORK_ERROR))}};const h=e=>{let{dispatch:t}=e;const n=p(t);return e=>t=>{if(!t)return e(t);const i=o()(t,"error");if(!i)return e(t);const a=n(i),l=null===a||void 0===a?void 0:a.redirectUrl;if(!l)return e(t);window.location.href=l}}},95151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(74720),o=n.n(i),a=n(49163),l=n(93707);const r=e=>t=>n=>{if(!(0,a.Lz)(n))return t(n);const i=o()(n.meta,"syncWithWebSocket"),r=o()(n.meta,"requestID");return i&&(0,a.zR)(n)?e.dispatch(l.Nw.addFetching({requestId:n.meta.requestId,actionType:n.type})):r&&(e.dispatch(l.Nw.addWsSyncedData({requestId:r,payload:n.payload})),e.dispatch(l.Nw.removeFetching(r))),(0,a.Iv)(n)&&n.meta.requestId&&e.dispatch(l.Nw.removeFetching(n.meta.requestId)),t(n)}},1667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>we});var i=n(49163),o=n(37750);const a=new Map;var l=n(74720),r=n.n(l),s=n(23903),d=n.n(s),c=n(15288),u=n.n(c),p=n(1714),h=n(68885);const v={action:h.I,undoAction:h.yG,redoAction:h.LU,getRedoPayload:function(e,t,n){const{wsSyncedData:i}=n,{id:o,rowId:a,cells:l}=e;return{id:o,rowId:a,cells:u()(l,((e,t)=>r()(null===i||void 0===i?void 0:i.updateCells,t,null)))}},getUndoPayload:function(e,t){var n;const{id:i,rowId:o,cells:a}=e,l=p.TW.selectById(t,i),s=d()(null===l||void 0===l?void 0:l.rows,(e=>e.id===o)),c=s?u()(a,((e,t)=>r()(null===s||void 0===s?void 0:s.cells,t,null))):null!==(n=e.prevCells)&&void 0!==n?n:{};return{id:i,rowId:o,cells:c}}};var g=n(58590);const f={action:h.xQ,undoAction:h.e7,redoAction:h.Ic,getUndoPayload:(e,t)=>{var n;const{projectID:i,id:o}=e,a=g.Hx.selectById(t,i);return{id:o,projectID:i,name:null===(n=d()(null===a||void 0===a?void 0:a.tableNodes,(e=>e.id===o)))||void 0===n?void 0:n.name}},getRedoPayload:e=>e};var m=n(63679),y=n.n(m),w=n(62618),b=n.n(w),C=n(18765),x=n.n(C);const I={action:h.V6,undoAction:h.Ps,redoAction:h.xf,getUndoPayload:(e,t)=>{const{id:n,moveInfo:i}=e,{projectID:o}=i,a=g.Hx.selectById(t,o),l=d()(null===a||void 0===a?void 0:a.tableNodes,(e=>e.id===n)),s=b()(x()(null===a||void 0===a?void 0:a.tableNodes,(e=>e.parentID===(null===l||void 0===l?void 0:l.parentID))),"order"),c=y()(s,(e=>e.id===(null===l||void 0===l?void 0:l.id)));return{id:n,moveInfo:{projectID:o,parentID:null===l||void 0===l?void 0:l.parentID,prevID:r()(s,"".concat(c-1,".id"))}}},getRedoPayload:e=>e};var j=n(37756),M=n.n(j);const k={action:h.JD,undoAction:h.OW,redoAction:h.e,getUndoPayload:e=>e,getFulfilledUndoPayload(e,t,n,i){var o;const{id:a,columnId:l,rowId:r}=n,{wsSyncedData:s}=i,c=p.TW.selectById(t,a),u=t.user.userId,h=d()(null===c||void 0===c?void 0:c.rows,(e=>e.id===r)),v=null!==(o=M()(x()(null===h||void 0===h?void 0:h.cells[l],(e=>e.uploaderID===u))))&&void 0!==o?o:M()(null===s||void 0===s?void 0:s.attachments);return{id:a,rowId:r,columnId:l,fileId:null===v||void 0===v?void 0:v.fileID,attachments:null===s||void 0===s?void 0:s.attachments}},getRedoPayload:(e,t,n)=>{var i;const{id:o,columnId:a,rowId:l}=e,{wsSyncedData:r}=n,s=p.TW.selectById(t,o),c=d()(null===s||void 0===s?void 0:s.rows,(e=>e.id===l)),u=null!==(i=null===c||void 0===c?void 0:c.cells[a])&&void 0!==i?i:null===r||void 0===r?void 0:r.attachments;return{id:o,rowId:l,cells:{[a]:u}}}};const T={action:h.OW,undoAction:h.e,redoAction:h.e,getUndoPayload:function(e,t){var n;const{id:i,columnId:o,rowId:a}=e,l=p.TW.selectById(t,i),r=d()(null===l||void 0===l?void 0:l.rows,(e=>e.id===a)),s=null!==(n=null===r||void 0===r?void 0:r.cells[o])&&void 0!==n?n:e.attachments;return{id:i,rowId:a,cells:{[o]:s}}},getRedoPayload:function(e,t,n){var i,o;const{id:a,columnId:l,rowId:r}=e,{wsSyncedData:s}=n,c=p.TW.selectById(t,a),u=d()(null===c||void 0===c?void 0:c.rows,(e=>e.id===r)),h=null!==(i=null!==(o=null===u||void 0===u?void 0:u.cells[l])&&void 0!==o?o:e.attachments)&&void 0!==i?i:null===s||void 0===s?void 0:s.attachments;return{id:a,rowId:r,cells:{[l]:h}}}};function E(e,t){const{id:n,rowIDs:i}=e;return{id:n,rowIDs:i}}const P={action:h.M5,undoAction:h.D9,redoAction:h.IK,getRedoPayload:E,getUndoPayload:E};var O=n(88716),S=n.n(O),_=n(70);function N(e,t){var n;const{id:i,prevRowId:o,viewId:a}=e,l=p.TW.selectById(t,i),r=t.tableNode.currentView,s=(0,_.HP)(l.views),d=null!==(n=null===l||void 0===l?void 0:l.views.find((e=>e.id===r||e.id===a)))&&void 0!==n?n:s,c=[];if(d){const e=b()(d.rows,"order");if(!S()(e)){const t=e.findIndex((e=>e.id===o));if(-1!==t){const n=e[t+1].id;c.push(n)}else c.push(e[0].id)}}return{id:i,rowIDs:c}}const D={action:h.v,undoAction:h.vD,redoAction:h.rD,getRedoPayload:N,getFulfilledUndoPayload:N};function L(e){const{id:t,columnIds:n}=e;return{id:t,columnIds:n}}const A={action:h.ih,undoAction:h.E,redoAction:h.r7,getRedoPayload:L,getUndoPayload:L};function R(e,t){const{id:n,prevColumnId:i}=e;let o=null;const a=t.tableNode.currentView,l=p.TW.selectById(t,n),r=null===l||void 0===l?void 0:l.views.find((e=>e.id===a));if(r){const e=b()(r.columns,"order"),t=e.findIndex((e=>e.id===i));o=e[t+1].id}return{id:n,columnIds:[o]}}const Z={action:h.wy,undoAction:h.QR,redoAction:h.eT,getRedoPayload:R,getFulfilledUndoPayload:R};function F(e,t){const n=p.TW.selectById(t,e.id),i=null===n||void 0===n?void 0:n.columns.find((t=>t.id===e.columnId));var o;if(i)return{columnId:e.columnId,id:e.id,name:i.name,type:i.type,typeOptions:i.typeOptions,pasteCellsParams:{destColumnIDs:[e.columnId],destRowIDs:null!==(o=null===n||void 0===n?void 0:n.rows.map((e=>e.id)))&&void 0!==o?o:[],source:null===n||void 0===n?void 0:n.rows.map((t=>[t.cells[e.columnId]])),sourceColumns:[{isPrimary:i.isPrimary,id:e.columnId,name:i.name,type:i.type,typeOptions:i.typeOptions}]}}}const z={action:h.Gw,undoAction:h.KV,redoAction:h.be,getRedoPayload:F,getUndoPayload:F};var B=n(7070),V=n.n(B),H=n(17646),W=n.n(H);const U={action:h.Sq,undoAction:h.UQ,redoAction:h.ZJ,getRedoPayload:function(e,t){const{id:n,params:i}=e,o=p.TW.selectById(t,n),a=[];W()(i.destRowIDs,(e=>{var t;const n=null===o||void 0===o||null===(t=o.rows)||void 0===t?void 0:t.find((t=>t.id===e)),l=V()(i.destColumnIDs,(e=>null===n||void 0===n?void 0:n.cells[e]));a.push(l)}));const l=V()(i.destColumnIDs,(e=>null===o||void 0===o?void 0:o.columns.find((t=>t.id===e))));return{id:n,params:{...i,source:a,sourceColumns:l}}},getUndoPayload:function(e,t){const{id:n,params:i,destCells:o}=e,a=p.TW.selectById(t,n),l=[];W()(i.destRowIDs,(e=>{var t;const n=null===a||void 0===a||null===(t=a.rows)||void 0===t?void 0:t.find((t=>t.id===e)),r=V()(i.destColumnIDs,(t=>{var i;return null!==(i=null===n||void 0===n?void 0:n.cells[t])&&void 0!==i?i:null===o||void 0===o?void 0:o[e][t]}));l.push(r)}));const r=V()(i.destColumnIDs,(e=>null===a||void 0===a?void 0:a.columns.find((t=>t.id===e))));return{id:n,params:{...i,source:l,sourceColumns:r}}}};const G={action:h.mc,undoAction:h.pt,redoAction:h.x6,getRedoPayload:(e,t)=>e,getUndoPayload:function(e,t){const{id:n,viewId:i,items:o}=e,a=p.TW.selectById(t,n),l=t.tableNode.currentView,r=null===a||void 0===a?void 0:a.views.find((e=>e.id===l));if(!r)return{id:n,viewId:i,items:[]};const s=o.map((e=>{let{rowID:t,cells:n}=e;const i=b()(r.rows,"order"),o=i.findIndex((e=>e.id===t)),l=o<=0?void 0:i[o-1].id,s={};if(n){const e=d()(null===a||void 0===a?void 0:a.rows,(e=>e.id===t));e&&W()(n,((t,n)=>{s[n]=e.cells[n]}))}return{rowID:t,prevRowID:l,cells:n?s:void 0}})).reverse();return{...e,items:s}}};const q={action:h.Yg,undoAction:h.O7,redoAction:h.Lu,getRedoPayload:(e,t)=>e,getUndoPayload:function(e,t){const{id:n,viewId:i,columnId:o}=e,a=p.TW.selectById(t,n),l=null===a||void 0===a?void 0:a.views.find((e=>e.id===i));if(!l)return e;const r=b()(l.columns,"order"),s=r.findIndex((e=>e.id===o)),d=s<=0?void 0:r[s-1].id;return{...e,prevColumnId:d}}};var $=n(15972),J=n.n($),Q=n(84527),K=n.n(Q),Y=n(65301),X=n.n(Y),ee=n(41012);const te={action:ee.hS,undoAction:ee.cE,redoAction:ee.Pf,getRedoPayload:(e,t)=>e,getUndoPayload:function(e,t){var n,i;const{id:o,viewId:a,columnIds:l,params:r}=e,s=p.TW.selectById(t,o),d=null===s||void 0===s?void 0:s.views.find((e=>e.id===a));if(!d||0===(null===(n=d.columns)||void 0===n?void 0:n.length)||0===l.length)return e;const c=null===(i=d.columns)||void 0===i?void 0:i.filter((e=>e.id===l[0]));return 0===(null===c||void 0===c?void 0:c.length)?e:{...e,params:J()({},r,K()(null===c||void 0===c?void 0:c[0],X()(r)))}}};var ne=n(2954),ie=n.n(ne),oe=n(27831),ae=n.n(oe),le=n(89063),re=n.n(le);const se={action:h.W0,undoAction:h.fV,redoAction:h.V2,getUndoPayload:function(e,t){const{id:n,params:i,destCells:o}=e,{destColumnIDs:a,destRowIDs:l}=i,r=p.TW.selectById(t,n);if(r){const e=V()(l,(e=>V()(a,(t=>{var n,i;const a=null===(n=r.rows)||void 0===n?void 0:n.find((t=>t.id===e));return null!==(i=null===a||void 0===a?void 0:a.cells[t])&&void 0!==i?i:null===o||void 0===o?void 0:o[e][t]})))),t=V()(a,(e=>r.columns.find((t=>t.id===e))));return{id:n,params:{...i,source:e,sourceColumns:t}}}return e},getRedoPayload:function(e,t,n){const{wsSyncedData:i}=n,o=V()(i.addedRows,(e=>e.id)),a=V()(i.addedColumns,(e=>e.id)),l=V()(ie()(e.params.source,o.length),(e=>ie()(e,a.length))),r=ae()(e.params.sourceColumns,re()(l[0]));return Object.assign(e,{params:{...e.params,source:l,sourceColumns:r},addedRowIds:o,addedColumnIds:a})},getFulfilledUndoPayload:function(e,t,n,i){const{wsSyncedData:o}=i,a=V()(o.addedColumns,(e=>e.id)),l=V()(o.addedRows,(e=>e.id));return Object.assign(n,{addedColumnIds:a,addedRowIds:l})}},de=se;var ce=n(95475),ue=n(50810);const pe={action:ce.Bh,undoAction:ce.Ai,redoAction:ce.Wp,getRedoPayload:function(e,t){var n;const{projectId:i}=e,o=ue.s.getSelectors().selectAll(t.annotation.annotations);return{projectId:i,annotationId:null===(n=M()(o))||void 0===n?void 0:n.id}},getFulfilledUndoPayload:function(e,t){var n;const{projectId:i}=e,o=ue.s.getSelectors().selectAll(t.annotation.annotations);return{projectId:i,annotationId:null===(n=M()(o))||void 0===n?void 0:n.id}}};const he={action:ce.Dl,undoAction:ce.x4,redoAction:ce.wB,getRedoPayload:function(e,t){const{projectId:n,annotationId:i}=e;return{projectId:n,annotationId:i}},getUndoPayload:function(e,t){const{projectId:n,annotationId:i}=e;return{projectId:n,annotationId:i}}};const ve={action:ce._E,undoAction:ce.v,redoAction:ce.AL,getRedoPayload:function(e,t){const{projectId:n,annotation:i}=e;return{projectId:n,annotation:i}},getUndoPayload:function(e,t){const{projectId:n,annotation:i}=e;return i.id?{projectId:n,annotation:ue.s.getSelectors().selectById(t.annotation.annotations,i.id)}:{projectId:n,annotation:i}}};var ge=n(80778);const fe=[v,f,I,k,T,P,D,A,Z,z,U,G,q,te,de,pe,he,ve,{action:ge.Qw,undoAction:ge.d3,redoAction:ge.fu,getRedoPayload:(e,t,n)=>{const{wsSyncedData:i}=n,{id:o,appendRowIDs:a}=null!==i&&void 0!==i?i:{};return{id:o,rowIDs:a}},getFulfilledUndoPayload:(e,t,n,i)=>{const{wsSyncedData:o}=i,{id:a,appendRowIDs:l}=null!==o&&void 0!==o?o:{};return{tableNodeId:a,rowIds:l}}},{action:ge.cT,undoAction:ge.CZ,redoAction:ge.u0,getRedoPayload:(e,t,n)=>{const{deleteRowIds:i,prevRowId:o}=e,{wsSyncedData:a}=n,{id:l,tableNodeID:r}=null!==a&&void 0!==a?a:{};return{tableNodeId:r,rowIds:[l],prevRowId:o,deleteRowIds:i}},getFulfilledUndoPayload:(e,t,n,i)=>{const{deleteRowIds:o,prevRowId:a}=e,{wsSyncedData:l}=i,{id:r,tableNodeID:s}=null!==l&&void 0!==l?l:{};return{tableNodeId:s,prevRowId:a,deleteRowIds:o,rowIds:[r]}}}],me=(0,i.Gx)(...fe.map((e=>e.action)));function ye(e){return fe.find((t=>[t.action.pending.match(e),t.action.fulfilled.match(e),t.action.rejected.match(e)].some((e=>e))))}const we=e=>t=>n=>{if(me(n)){const t=ye(n);t&&function(e,t,n){const{dispatch:i,getState:l}=n,r=t.action;if(r.pending.match(e)){var s,d;const n=null===(s=t.getUndoPayload)||void 0===s?void 0:s.call(t,null!==(d=e.meta.arg)&&void 0!==d?d:{},l());a.set(e.meta.requestId,n),i(o.N.clearRedo())}if(r.fulfilled.match(e)&&a.has(e.meta.requestId)){const n=a.get(e.meta.requestId),r=t.getFulfilledUndoPayload?t.getFulfilledUndoPayload(e.meta.arg,l(),n,e.payload):n,s=t.getRedoPayload(e.meta.arg,l(),e.payload);i(o.N.appendUndo({originalActionType:e.type,undoAction:t.undoAction,redoAction:t.redoAction,undoPayload:r,redoPayload:s,pathname:document.location.pathname})),a.delete(e.meta.requestId)}r.rejected.match(e)&&a.delete(e.meta.requestId)}(n,t,e)}return t(n)}},26436:(e,t,n)=>{"use strict";n.d(t,{cq:()=>O,ev:()=>b,fw:()=>P});var i=n(57323),o=n.n(i);let a=function(e){return e[e.LeftParen=0]="LeftParen",e[e.RightParen=1]="RightParen",e[e.Comma=2]="Comma",e[e.Minus=3]="Minus",e[e.Plus=4]="Plus",e[e.Divide=5]="Divide",e[e.Multiply=6]="Multiply",e[e.Mod=7]="Mod",e[e.Equal=8]="Equal",e[e.Greater=9]="Greater",e[e.GreaterEqual=10]="GreaterEqual",e[e.Less=11]="Less",e[e.LessEqual=12]="LessEqual",e[e.Variable=13]="Variable",e[e.FunctionName=14]="FunctionName",e[e.String=15]="String",e[e.Number=16]="Number",e[e.EOF=17]="EOF",e[e.Concat=18]="Concat",e}({});function l(e,t){return{id:e,message:t}}const r=l("bad_syntax","Syntax error"),s=l("missing_operand","Missing operand"),d=l("missing_right_paren","Expression missing right parenthesis"),c=l("unknown_char","Unknown character"),u=l("fn_left_paren","Function must be followed by left parenthesis"),p=l("fn_right_paren","Function calls missing right parenthesis"),h=l("fn_max_params","Maximum support for function calls is 256 parameters"),v=l("incomplete_number","Number incomplete"),g=l("incomplete_string","String incomplete"),f=l("var_name","Variable name error");class m{constructor(e){o()(this,"source",[]),o()(this,"tokens",[]),o()(this,"start",0),o()(this,"current",0);for(const t of e)this.source.push(t)}scanTokens(){for(;!this.isAtEnd();){this.start=this.current;const e=this.scanToken();if(void 0!==e)return[void 0,e]}return this.tokens.push({type:a.EOF,range:{start:this.current,end:this.current}}),[this.tokens,void 0]}scanToken(){const e=this.advance();switch(e){case"(":case"\uff08":this.addToken(a.LeftParen,void 0);break;case")":case"\uff09":this.addToken(a.RightParen,void 0);break;case",":case"\uff0c":this.addToken(a.Comma,void 0);break;case"-":case"\uff0d":this.addToken(a.Minus,void 0);break;case"+":case"\uff0b":this.addToken(a.Plus,void 0);break;case"/":case"\uff0f":this.addToken(a.Divide,void 0);break;case"*":case"\uff0a":this.addToken(a.Multiply,void 0);break;case"%":case"\uff05":this.addToken(a.Mod,void 0);break;case"=":case"\uff1d":this.addToken(a.Equal,void 0);break;case">":case"\uff1e":this.match("=")||this.match("\uff1d")?this.addToken(a.GreaterEqual,void 0):this.addToken(a.Greater,void 0);break;case"<":case"\uff1c":this.match("=")||this.match("\uff1d")?this.addToken(a.LessEqual,void 0):this.addToken(a.Less,void 0);break;case" ":case"\t":case"\r":case"\n":break;case'"':case"\u201c":case"\u201d":{const[e,t]=this.stringValue(['"',"\u201c","\u201d"]);if(void 0!==t)return t;this.addToken(a.String,e);break}case"'":case"\u2018":case"\u2019":{const[e,t]=this.stringValue(["'","\u2018","\u2019"]);if(void 0!==t)return t;this.addToken(a.String,e);break}case"$":case"\uff04":{const e=this.peek();if(!this.isAlpha(e))return{pos:{start:this.current-1,end:this.current-1},err:f};this.addToken(a.Variable,this.identifierValue().slice(1));break}case"&":this.addToken(a.Concat,void 0);break;default:if(this.isDigit(e)){const[e,t]=this.numberValue();if(void 0!==t)return t;this.addToken(a.Number,e)}else{if(!this.isAlpha(e))return{pos:{start:this.current-1,end:this.current-1},err:c};this.addToken(a.FunctionName,this.identifierValue())}}}stringValue(e){const t=this.current-1;for(;!e.includes(this.peek())&&!this.isAtEnd();)this.advance();return this.isAtEnd()?["",{pos:{start:t,end:this.current-1},err:g}]:(this.advance(),[this.source.slice(this.start+1,this.current-1).join(""),void 0])}identifierValue(){for(;this.isAlphaNumeric(this.peek());)this.advance();return this.source.slice(this.start,this.current).join("")}numberValue(){const e=this.current-1;for(;this.isDigit(this.peek());)this.advance();if("."===this.peek()){if(!this.isDigit(this.peekNext()))return[0,{pos:{start:e,end:this.current},err:v}];for(this.advance();this.isDigit(this.peek());)this.advance()}const t=parseFloat(this.source.slice(this.start,this.current).join(""));return isNaN(t)?[0,{pos:{start:e,end:this.current},err:v}]:[t,void 0]}isAtEnd(){return this.current>=this.source.length}advance(){return this.current+=1,this.source[this.current-1]}match(e){return!this.isAtEnd()&&(this.source[this.current]===e&&(this.current++,!0))}lexemeSubstitution(e){switch(e){case"\uff08":return"(";case"\uff09":return")";case"\uff0c":return",";case"\uff0d":return"-";case"\uff0b":return"+";case"\uff0f":return"/";case"\uff0a":return"*";case"\uff1d":return"=";case"\uff1e":return">";case"\uff1c":return"<";case"\uff04":return"$";case">\uff1d":case"\uff1e=":case"\uff1e\uff1d":return">=";case"<\uff1d":case"\uff1c=":case"\uff1c\uff1d":return"<=";default:return e}}addToken(e,t){const n={type:e,lexeme:this.lexemeSubstitution(this.source.slice(this.start,this.current).join("")),literal:t,range:{start:this.start,end:this.current-1}};this.tokens.push(n)}peek(){return this.isAtEnd()?"\0":this.source[this.current]}peekNext(){return this.current+1>=this.source.length?"\0":this.source[this.current+1]}isAlpha(e){return 1===e.length&&!!e.match(/[a-zA-Z_]/i)}isDigit(e){return 1===e.length&&!!e.match(/[0-9]/i)}isAlphaNumeric(e){return 1===e.length&&!!e.match(/[0-9a-zA-Z_]/i)}}class y{constructor(e){o()(this,"tokens",[]),o()(this,"current",0),this.tokens=e}parse(){const[e,t]=this.expression();return t?[void 0,t]:this.isAtEnd()?[e,void 0]:[void 0,{pos:this.pos(),err:r}]}expression(){let e;const[t,n]=this.comparison();if(e=t,n)return[void 0,n];for(;this.match([a.Equal]);){const t=this.previous(),[n,i]=this.comparison();if(i)return[void 0,i];e={left:e,operator:t,right:n}}return[e,void 0]}comparison(){let e;const[t,n]=this.addition();if(e=t,n)return[void 0,n];for(;this.match([a.Greater,a.GreaterEqual,a.Less,a.LessEqual]);){const t=this.previous(),[n,i]=this.addition();if(i)return[void 0,i];e={left:e,operator:t,right:n}}return[e,void 0]}addition(){let e;const[t,n]=this.multiplication();if(e=t,n)return[void 0,n];for(;this.match([a.Plus,a.Minus,a.Concat]);){const t=this.previous(),[n,i]=this.multiplication();if(i)return[void 0,i];e={left:e,operator:t,right:n}}return[e,void 0]}multiplication(){let e;const[t,n]=this.unary();if(e=t,n)return[void 0,n];for(;this.match([a.Multiply,a.Divide,a.Mod]);){const t=this.previous(),[n,i]=this.unary();if(i)return[void 0,i];e={left:e,operator:t,right:n}}return[e,void 0]}unary(){if(this.match([a.Minus,a.Plus])){const e=this.previous(),[t,n]=this.unary();return n?[void 0,{pos:this.pos(),err:s}]:[{operator:e,operand:t},void 0]}return this.primary()}primary(){if(this.match([a.Number,a.String]))return[{val:this.previous().literal},void 0];if(this.match([a.Variable]))return[{name:this.previous()},void 0];if(this.match([a.LeftParen])){let e;const[t,n]=this.expression();return e=n,e?[void 0,e]:(e=this.consume(a.RightParen,{pos:this.pos(),err:d}),[{expression:t},void 0])}if(this.match([a.FunctionName])){const e=this.previous(),t=e.range;let n=this.consume(a.LeftParen,{pos:t,err:u});if(n)return[void 0,n];const i=[];if(!this.check(a.RightParen)){const e=()=>{const e=this.pos();if(e.start+=1,e.end+=1,i.length>=256)return{pos:e,err:h};const[t,n]=this.expression();if(n)return n;i.push(t)},t=e();if(t)return[void 0,t];for(;this.match([a.Comma]);){const t=e();if(t)return[void 0,t]}}return n=this.consume(a.RightParen,{pos:this.pos(),err:p}),n?[void 0,n]:[{callee:e,arguments:i},void 0]}switch(this.previous().type){case a.Minus:case a.Divide:case a.Plus:case a.Multiply:case a.Mod:case a.Concat:return[void 0,{pos:this.pos(),err:s}];default:return[void 0,{pos:this.pos(),err:r}]}}pos(){const e=this.peek();return{start:e.range.start,end:e.range.end}}peek(){return this.tokens[this.current]}previous(){return 0===this.current?this.peek():this.tokens[this.current-1]}isAtEnd(){return this.peek().type===a.EOF}advance(){return this.isAtEnd()||(this.current+=1),this.previous()}check(e){return!this.isAtEnd()&&this.peek().type===e}consume(e,t){if(!this.check(e))return t;this.advance()}match(e){for(const t of e)if(this.check(t))return this.advance(),!0;return!1}}function w(e,t){if("left"in e)w(e.left,t),t(e.operator.lexeme),w(e.right,t);else if("operand"in e)t(e.operator.lexeme),w(e.operand,t);else if("callee"in e){t(e.callee.lexeme),t("(");const n=e.arguments;for(let e=0;e<n.length;e++)w(n[e],t),e<n.length-1&&t(",");t(")")}else"expression"in e?(t("("),w(e.expression,t),t(")")):"val"in e&&null!=e.val?"string"===typeof e.val?t('"'.concat(e.val,'"')):t("".concat(e.val)):"name"in e&&t(e.name.lexeme)}function b(e){const t=new m(e),[n,i]=t.scanTokens();if(i)return i;const o=new y(n),[a,l]=o.parse();if(l)return l;const r=[];return w(a,(e=>{r.push(e)})),r}var C=n(17646),x=n.n(C),I=n(78587),j=n.n(I),M=n(13226),k=n.n(M),T=n(75348),E=n.n(T);function P(e){const t=[];return x()(e,(e=>{if(e.childNodes&&e.childNodes.length){const n=e.getAttribute("data-id");if(!n)return t.push(...P(e.childNodes));t.push("$c_".concat(n))}else{const n=e.textContent||"";n&&t.push(k()(n,/\r\n|\r|\t|\n|\u00a0|\u2424|\u200b/g,""))}})),t}function O(e,t){return j()(e)?E()(e,t):e.indexOf(t)}},55519:(e,t,n)=>{"use strict";n.d(t,{g:()=>v});var i=n(57435),o=n(33718),a=n(68429),l=n(53029);const r="folder_accordion__TA7me",s="folder_open__EtN00",d="folder_title__MHzbH",c="folder_content__4-wv4",u="folder_hide__dMzk8",p="folder_icon__WE28l";var h=n(94553);const v=(0,i.forwardRef)(((e,t)=>{var n;const{title:v,children:g,className:f,testId:m,isPro:y}=e,[w,b]=(0,i.useState)(null!==(n=e.defaultOpen)&&void 0!==n&&n);return(0,i.useImperativeHandle)(t,(()=>({open:()=>b(!0),close:()=>b(!1)}))),(0,h.jsxs)("div",{className:(0,o.default)(r,f,{[s]:w}),"data-testid":m,"aria-expanded":w,children:[(0,h.jsxs)("div",{className:d,onClick:function(){var t;b((e=>!e)),null===(t=e.onOpenChange)||void 0===t||t.call(e,!w)},children:[(0,h.jsxs)("div",{children:[v," ",y&&(0,h.jsx)(l.Z,{})]}),(0,h.jsx)("div",{className:p,children:(0,h.jsx)(a.Z,{type:w?"collapse":"expand"})})]}),(0,h.jsx)("div",{className:(0,o.default)(c,{[u]:!w}),children:g})]})}))},70546:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var i=n(89614),o=n(33718);const a={formItem:"formItem_formItem__C3FQe"};var l=n(94553);function r(e){let{children:t,name:n,className:r,...s}=e;return(0,l.jsx)(i.Z.Item,{name:n,className:(0,o.default)(a.formItem,r),...s,children:t})}},17738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i.x});var i=n(70546)},38256:(e,t,n)=>{"use strict";n.d(t,{ge:()=>Ne,gt:()=>Ee.g,xJ:()=>Pe.x,$1:()=>Te,gG:()=>qe,iR:()=>Ve});var i=n(57435),o=n(11347),a=n(14840),l=n(10485),r=n(95620),s=n(64493),d=n.n(s),c=n(15609),u=n.n(c),p=n(33718),h=n(96271),v=n(68429),g=n(98248),f=n(53029),m=n(30423),y=n(27052),w=n(95436),b=n(27371),C=n(75605),x=n(59680),I=n(7070),j=n.n(I),M=n(56439),k=n.n(M),T=n(54864),E=n(15525),P=n(64496);const O={container:"uploader_container__LCCsN",filelist:"uploader_filelist__pFb0B",default:"uploader_default__btfQ2",dashed:"uploader_dashed__Yjlia",content:"uploader_content__zF1NL",iconWrap:"uploader_iconWrap__6o9Xd",title:"uploader_title__zT-Gq",description:"uploader_description__pRaBz"};var S=n(1716),_=n(49210);const N="upload-file_item__kHDpb",D="upload-file_icon__RKCML",L="upload-file_content__zi7JA",A="upload-file_name__wCcrR",R="upload-file_size__RgqK1",Z="upload-file_action__O8ncT";var F=n(94553);function z(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065ff",fillOpacity:".15",d:"M27.494 4.361H10.592a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33H32.74a2.338 2.338 0 0 0 2.33-2.33v-21.37l-7.575-7.577Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M27.494 9.604a2.34 2.34 0 0 0 2.33 2.333h5.244L27.494 4.36v5.243ZM6.74 23.525h17.808c1.446 0 2.17.723 2.17 2.17v5.785c0 1.446-.724 2.17-2.17 2.17H6.74c-1.447 0-2.17-.724-2.17-2.17v-5.786c0-1.446.723-2.17 2.17-2.17ZM11.645 8.355h11.073V9.91H11.645V8.355Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M13.2 8.354v11.073h-1.555V8.355l1.554-.001Zm3.615 0v11.073H15.26V8.354h1.555Zm3.616 0v11.073h-1.555V8.354h1.555Zm3.616 0v11.073h-1.555V8.354h1.555Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M11.645 11.786h11.073v1.555H11.645v-1.555Zm0 3.432h11.7v1.555h-11.7v-1.555Zm0 3.433h12.402v1.555H11.645V18.65Z"}),(0,F.jsx)("path",{fill:"#fff",d:"m9.644 29.243.425.633-1.784 2.411h-.857l2.216-3.044Zm.033.44L7.46 26.78h.86l1.809 2.476 2.26 3.032h-.852l-1.86-2.603Zm.143-.509 1.627-2.403h.86l-2.088 2.976-.4-.573Zm3.99 1.663a.79.79 0 0 0 .18.543.616.616 0 0 0 .481.193h.51v.712h-.645a1.198 1.198 0 0 1-.955-.383 1.576 1.576 0 0 1-.338-1.085V24.56h.767v6.277Zm3.24 1.53-.422-.087a3.614 3.614 0 0 1-.783-.258 2.864 2.864 0 0 1-.645-.409l.441-.542c.29.196.604.354.935.47.294.107.605.164.918.168.424.025.847-.067 1.222-.266a.856.856 0 0 0 .434-.767.675.675 0 0 0-.21-.542 1.142 1.142 0 0 0-.53-.246 7.694 7.694 0 0 0-.887-.105h-.302a5.242 5.242 0 0 1-.915-.159 1.266 1.266 0 0 1-.614-.4 1.275 1.275 0 0 1-.246-.844c-.01-.32.08-.636.257-.903.189-.261.452-.46.755-.568.382-.14.787-.207 1.194-.197.242 0 .484.023.723.07.24.04.475.103.703.188.215.086.419.196.61.328l-.442.526a3.717 3.717 0 0 0-.819-.362 2.84 2.84 0 0 0-.797-.125 1.905 1.905 0 0 0-1.085.26.837.837 0 0 0-.381.735.586.586 0 0 0 .202.499c.154.114.334.188.524.215.288.043.579.072.87.085h.052a.2.2 0 0 0 .046 0h.065c.332.013.662.061.985.142.268.073.507.227.683.442.202.274.3.611.277.95.01.328-.087.649-.277.915a1.723 1.723 0 0 1-.808.577c-.412.142-.846.21-1.282.199l-.452.01ZM22.464 30.052l-1.654 2.236h-.857l2.068-2.84-2.036-2.668h.86l1.62 2.218 1.507-2.226h.86l-1.954 2.785 2.035 2.731h-.851l-1.598-2.236Z"})]})}function B(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065ff",fillOpacity:".15",d:"M27.494 4.361H10.592a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33H32.74a2.338 2.338 0 0 0 2.33-2.33v-21.37l-7.575-7.577Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M27.494 9.604a2.34 2.34 0 0 0 2.33 2.333h5.244L27.494 4.36v5.243ZM6.57 23.525h17.808c1.446 0 2.17.724 2.17 2.17v5.785c0 1.446-.724 2.17-2.17 2.17H6.57c-1.446 0-2.17-.724-2.17-2.17v-5.785c0-1.446.724-2.17 2.17-2.17ZM11.645 8.355h11.073V9.91H11.645V8.355Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M13.2 8.353v11.074h-1.555V8.353h1.554Zm3.615 0v11.074H15.26V8.353h1.555Zm3.616 0v11.074h-1.555V8.353h1.555Zm3.616 0v11.074h-1.555V8.353h1.555Z"}),(0,F.jsx)("path",{fill:"#5493ea",d:"M11.645 11.787h11.073v1.555H11.645v-1.555Zm0 3.431h11.7v1.555h-11.7v-1.555Zm0 3.434h12.402v1.554H11.645v-1.554Z"}),(0,F.jsx)("path",{fill:"#fff",d:"m13.007 30.504-.51-.49c-.385.427-.686.583-1.175.583-.5 0-.915-.197-1.186-.582-.239-.333-.333-.728-.333-1.373s.094-1.04.333-1.373c.27-.385.687-.582 1.186-.582.489 0 .79.145 1.175.572l.51-.479c-.53-.572-.978-.759-1.685-.759-1.29 0-2.267.874-2.267 2.621 0 1.747.977 2.62 2.267 2.62.707 0 1.154-.186 1.685-.758ZM17.606 29.703c0-.957-.614-1.3-1.508-1.383l-.822-.073c-.644-.052-.894-.312-.894-.749 0-.52.395-.842 1.144-.842.53 0 .998.124 1.362.405l.49-.489c-.459-.374-1.114-.55-1.842-.55-1.092 0-1.882.56-1.882 1.497 0 .842.53 1.29 1.529 1.373l.842.072c.593.052.853.302.853.75 0 .602-.52.904-1.363.904-.634 0-1.185-.166-1.59-.593l-.5.5c.562.54 1.238.738 2.1.738 1.239 0 2.08-.572 2.08-1.56ZM22.05 26.084h-.811l-1.404 4.108-1.394-4.108h-.81l1.871 5.116h.666l1.882-5.116Z"})]})}function V(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065FF",fillOpacity:".15",d:"M27.725 4.4H10.823a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33h22.146a2.337 2.337 0 0 0 2.33-2.33v-21.37L27.726 4.4Z"}),(0,F.jsx)("path",{fill:"#5493EA",d:"M27.725 9.643a2.34 2.34 0 0 0 2.33 2.332h5.243L27.725 4.4v5.243ZM6.97 23.564h17.808c1.447 0 2.17.724 2.17 2.17v5.785c0 1.447-.724 2.17-2.17 2.17H6.97c-1.446 0-2.17-.723-2.17-2.17v-5.785c0-1.446.724-2.17 2.17-2.17ZM12.959 9.84h11.073v1.555H12.96V9.84Zm0 3.431h11.073v1.555H12.96v-1.555Zm0 3.432h14.763v1.555H12.96v-1.555Zm0 3.433h18.066v1.555H12.96v-1.555Z"}),(0,F.jsx)("path",{fill:"#fff",d:"M10.763 25.2v-.762h-.77v.763h.77Zm-.047 6.794v-5.446h-.686v5.418c0 .452-.152.678-.628.678h-.37v.594h.494c.818 0 1.19-.537 1.19-1.244ZM14.864 29.799c0-.867-.562-1.178-1.38-1.253l-.752-.066c-.59-.047-.818-.283-.818-.679 0-.47.361-.763 1.046-.763.486 0 .914.113 1.247.368l.447-.443c-.418-.34-1.018-.5-1.684-.5-1 0-1.722.51-1.722 1.357 0 .763.485 1.168 1.398 1.244l.771.066c.543.047.78.273.78.678 0 .547-.475.82-1.246.82-.58 0-1.085-.15-1.456-.537l-.457.452c.514.49 1.133.669 1.922.669 1.133 0 1.903-.518 1.903-1.413ZM18.832 28.838c0-.716-.095-1.366-.57-1.847-.324-.32-.771-.528-1.342-.528-.571 0-1.018.208-1.342.528-.476.48-.57 1.13-.57 1.847 0 .716.094 1.366.57 1.846.324.32.77.528 1.342.528.57 0 1.018-.207 1.341-.528.476-.48.571-1.13.571-1.846Zm-.685 0c0 .518-.028 1.093-.37 1.432-.22.217-.524.339-.857.339-.333 0-.628-.122-.847-.34-.343-.338-.38-.913-.38-1.431s.037-1.093.38-1.432c.219-.217.514-.34.847-.34.333 0 .637.123.856.34.343.339.371.914.371 1.432ZM23.031 31.155v-2.967c0-.537-.152-.97-.485-1.291-.285-.283-.695-.434-1.199-.434-.523 0-.98.189-1.313.566v-.509h-.685v4.636h.685V28.3c0-.81.457-1.235 1.16-1.235.705 0 1.152.415 1.152 1.235v2.855h.685Z"})]})}function H(){return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[(0,F.jsx)("path",{fill:"#0065FF",fillOpacity:".15",d:"M27.725 4.4H10.823a2.338 2.338 0 0 0-2.33 2.33v26.617a2.338 2.338 0 0 0 2.33 2.33h22.146a2.337 2.337 0 0 0 2.33-2.33v-21.37L27.726 4.4Z"}),(0,F.jsx)("path",{fill:"#5493EA",d:"M27.725 9.643a2.34 2.34 0 0 0 2.33 2.332h5.243L27.725 4.4v5.243ZM7.504 23.6h22.193c1.803 0 2.704.714 2.704 2.142v5.715c0 1.428-.901 2.143-2.704 2.143H7.504c-1.802 0-2.703-.715-2.703-2.143v-5.715c0-1.428.901-2.142 2.703-2.142Z"}),(0,F.jsx)("path",{fill:"#fff",d:"M9.636 31.26V26.51h-.663v.543c-.374-.487-.786-.6-1.29-.6-.468 0-.88.16-1.122.404-.458.459-.561 1.171-.561 1.92 0 .75.103 1.463.56 1.922.244.244.646.412 1.113.412.496 0 .916-.122 1.29-.6v.722c0 .787-.374 1.415-1.262 1.415-.533 0-.766-.159-1.103-.459l-.44.431c.487.44.87.619 1.562.619 1.206 0 1.916-.834 1.916-1.978Zm-.673-2.483c0 .862-.14 1.724-1.14 1.724-1 0-1.15-.862-1.15-1.724s.15-1.725 1.15-1.725c1 0 1.14.863 1.14 1.725ZM13.908 28.992v-.309c0-1.368-.701-2.23-1.888-2.23-1.169 0-1.889.871-1.889 2.361 0 1.631.795 2.362 2.01 2.362.786 0 1.216-.244 1.683-.712l-.458-.403c-.365.365-.673.525-1.206.525-.879 0-1.355-.581-1.355-1.594h3.103Zm-.673-.506h-2.43c.018-.375.037-.515.14-.768a1.143 1.143 0 0 1 1.075-.694c.486 0 .897.272 1.075.694.102.253.121.393.14.768ZM17.92 28.814c0-.712-.093-1.359-.56-1.837-.318-.318-.757-.524-1.318-.524s-1 .206-1.318.524c-.468.478-.561 1.125-.561 1.837 0 .713.093 1.36.56 1.837.319.319.758.525 1.319.525.56 0 1-.206 1.318-.525.467-.478.56-1.124.56-1.837Zm-.672 0c0 .516-.028 1.087-.365 1.425a1.177 1.177 0 0 1-.841.337c-.327 0-.617-.122-.832-.337-.337-.338-.374-.91-.374-1.425s.037-1.087.374-1.424c.215-.216.505-.338.832-.338.327 0 .626.122.841.338.337.337.365.909.365 1.424ZM19.148 25.197v-.76h-.757v.76h.757Zm-.047 6.757v-5.417h-.673v5.389c0 .45-.15.674-.617.674h-.364v.59h.486c.804 0 1.168-.533 1.168-1.236ZM23.176 29.77c0-.862-.551-1.171-1.355-1.246l-.739-.066c-.58-.047-.804-.281-.804-.675 0-.468.356-.759 1.029-.759.476 0 .897.113 1.224.366l.44-.44c-.412-.338-1-.497-1.655-.497-.982 0-1.692.506-1.692 1.35 0 .758.477 1.161 1.374 1.236l.757.066c.533.047.767.272.767.675 0 .543-.468.815-1.225.815-.57 0-1.065-.15-1.43-.534l-.449.45c.505.487 1.113.665 1.889.665 1.112 0 1.87-.515 1.87-1.406ZM27.075 28.814c0-.712-.093-1.359-.56-1.837-.319-.318-.758-.524-1.319-.524-.56 0-1 .206-1.318.524-.467.478-.56 1.125-.56 1.837 0 .713.093 1.36.56 1.837.318.319.757.525 1.318.525s1-.206 1.318-.525c.468-.478.561-1.124.561-1.837Zm-.673 0c0 .516-.028 1.087-.365 1.425a1.177 1.177 0 0 1-.84.337c-.328 0-.618-.122-.833-.337-.336-.338-.374-.91-.374-1.425s.038-1.087.374-1.424c.215-.216.505-.338.832-.338.327 0 .626.122.841.338.337.337.365.909.365 1.424ZM31.2 31.12v-2.952c0-.534-.15-.966-.477-1.284-.28-.281-.682-.431-1.178-.431-.514 0-.962.187-1.29.562v-.506h-.673v4.61h.673V28.28c0-.806.45-1.228 1.14-1.228.693 0 1.132.413 1.132 1.228v2.84h.673Z"}),(0,F.jsx)("path",{fill:"#5493EA",d:"M12.959 9.84h11.073v1.555H12.96V9.84Zm0 3.431h11.073v1.555H12.96v-1.555Zm0 3.432h14.763v1.555H12.96v-1.555Zm0 3.433h18.066v1.555H12.96v-1.555Z"})]})}function W(e){let{type:t}=e;switch(t){case"xlsx":return(0,F.jsx)(z,{});case"csv":return(0,F.jsx)(B,{});case"json":return(0,F.jsx)(V,{});case"geojson":return(0,F.jsx)(H,{});default:return(0,F.jsx)(v.Z,{type:"file"})}}function U(e){var t;const n=e.name.split("."),i=null===(t=n[n.length-1])||void 0===t?void 0:t.toLowerCase();if(!i)return"file";switch(i){case"csv":return"csv";case"json":return"json";case"geojson":return"geojson";case"xls":case"xlsx":return"xlsx";default:return"file"}}function G(e){let{file:t,onRemove:n}=e;return(0,F.jsxs)("div",{className:N,children:[(0,F.jsx)("div",{className:D,children:(0,F.jsx)(W,{type:U(t)})}),(0,F.jsxs)("div",{className:L,children:[(0,F.jsx)("div",{className:A,children:t.fileName||t.name}),(0,F.jsx)("div",{className:R,children:(0,_.kK)(t.size||0)}),(0,F.jsx)(S.Z,{percent:t.percent,status:"active",style:"done"===t.status?{display:"none"}:void 0})]}),(0,F.jsx)("div",{className:Z,children:(0,F.jsx)("button",{onClick:n,children:(0,F.jsx)(v.Z,{type:"recycleBin"})})})]})}const q=(e,t,n,i)=>(0,F.jsx)(G,{file:t,onRemove:i.remove});function $(e){const{description:t,className:n,testId:i="uploader",fileList:o,children:a,...l}=e;return(0,F.jsx)(C.default.Dragger,{...l,itemRender:q,fileList:o,className:(0,p.default)(O.container,n,null!==o&&void 0!==o&&o.length?O.filelist:O.default),children:a||(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(J,{}),(0,F.jsxs)("div",{className:O.content,"data-testid":i,children:[(0,F.jsx)("div",{className:O.iconWrap,children:(0,F.jsx)(Q,{})}),(0,F.jsx)("p",{className:O.title,children:(0,F.jsx)(E.Z,{id:"uploader.title",defaultMessage:"<b>Click to upload</b> or drag and drop",values:{b:e=>(0,F.jsx)("b",{children:e})}})}),t&&(0,F.jsx)("p",{className:O.description,children:t})]})]})})}function J(){const[e,{height:t,width:n}]=(0,P.Z)();return(0,F.jsx)("div",{className:O.dashed,ref:e,children:n&&t?(0,F.jsx)("svg",{viewBox:"0 0 ".concat(n," ").concat(t),fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)("rect",{x:"0.5",y:"0.5",width:n-1,height:t-1,rx:"8",fill:"#fafbfc",stroke:"currentColor",strokeDasharray:"8 8"})}):null})}function Q(e){let{size:t=20}=e;return(0,F.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:"none",viewBox:"0 0 20 20",children:(0,F.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.667",d:"M6.666 13.333 9.999 10m0 0 3.334 3.333M9.999 10v7.5m6.667-3.548a4.583 4.583 0 0 0-2.917-8.12.516.516 0 0 1-.445-.25 6.25 6.25 0 1 0-9.816 7.58"})})}const K="customIconUploader_customIconList__jlxlu",Y="customIconUploader_customIcon__wUO-I",X="customIconUploader_customIconImage__z3z5D",ee="customIconUploader_active__l9lWq",te="customIconUploader_deleteIcon__SrbDb",ne="customIconUploader_customIconUploader__vpacz",ie="customIconUploader_small__y38wl",oe="customIconUploader_uploadBtn__7qqfz",ae="customIconUploader_iconUpload__9kfyp",le="customIconUploader_badgeSm__VwS7y",re=["jpg","jpeg","png","webp"],se=e=>{let{projectId:t,activeIcon:n,icons:o,enableDelete:a,emoji:l,onSelectedIcon:r}=e;const s=(0,m.I)(),[d,c]=(0,i.useState)(l?n:u()(n,"c:"));return(0,F.jsx)("div",{className:K,children:j()(o,(e=>(0,F.jsxs)("div",{className:(0,p.default)(Y,{[ee]:d===e.id}),onClick:()=>{return t=e.id,void(d===t?(c(""),r(null)):(c(t),r(t)));var t},children:[(0,F.jsx)("div",{className:X,children:(0,F.jsx)("img",{src:e.imageUrl,alt:"icon"})}),a&&(0,F.jsx)(v.Z,{type:"delete",className:te,onClick:n=>{var i;null===n||void 0===n||n.stopPropagation(),i=e.id,s({type:"icons/remove",payload:i}),t&&s((0,T.wo)({projectID:t,icons:o.filter((e=>e.id!==i)).map((e=>e.id))}))}})]},e.id)))})},de=e=>{let{projectId:t,activeIcon:n,icons:o,disabled:a,onSelectedIcon:l,onClick:s}=e;const d=(0,m.I)(),[c,u]=(0,i.useState)(!1),h=o.length,g=(0,r.Z)();return(0,F.jsx)("div",{onClick:s,children:(0,F.jsxs)(x.Z,{spinning:c,children:[h>0&&(0,F.jsx)(se,{projectId:t,activeIcon:n,icons:o,onSelectedIcon:e=>{l(e?"c:".concat(e):null)},enableDelete:!0}),(0,F.jsx)($,{testId:"iconUploader",className:(0,p.default)(ne,{[ie]:h>0}),accept:re.map((e=>".".concat(e))).join(","),beforeUpload:function(e,t){const n=k()(e.name,".").pop();return h>=10?(b.ZP.error(g.$t({id:"aLPNCo",defaultMessage:"The number of icons has reached the limit"})),C.default.LIST_IGNORE):e.size>1048576?(b.ZP.error(g.$t({id:"SJW82r",defaultMessage:"File size cannot exceed 1Mb"})),C.default.LIST_IGNORE):n&&re.includes(n.toLocaleLowerCase())?"":(b.ZP.error(g.$t({id:"HW/VI/",defaultMessage:"File format not supported"})),C.default.LIST_IGNORE)},customRequest:function(e){const n=e.file;u(!0),d((0,T.P8)({file:n})).then((e=>{const{payload:n}=e;n&&t&&d((0,T.Ug)({projectID:t,fileID:n})).then((e=>{e.payload&&d({type:"icons/list",payload:e.payload.detail})}))})).catch((()=>{b.ZP.error(g.$t({id:"W7540A",defaultMessage:"File upload failed. Please try again."}))})).finally((()=>{u(!1)}))},multiple:!1,description:g.$t({id:"doQgGn",defaultMessage:"Support PNG, JPG, JPEG, WebP formats, up to 10 custom icons"}),disabled:a,children:h>0&&(0,F.jsxs)("div",{className:oe,children:[(0,F.jsx)(v.Z,{type:"plainPlus",className:ae}),g.$t({id:"p4N05H",defaultMessage:"Upload"}),(0,F.jsx)(f.Z,{className:le})]})})]})})},ce="iconPicker_colorPalette__tOOS+",ue="iconPicker_active__bI6lY",pe="iconPicker_subTitle__W9vHF",he="iconPicker_iconSelect__3O6h4",ve="iconPicker_icon__b8zpu",ge="iconPicker_colorPicker__dXZU4",fe="iconPicker_colorPickerButton__8E5B9",me="iconPicker_disabled__lTVQJ",ye="iconPicker_iconPickerButton__uBiVG",we="iconPicker_currentColor__L6+OI",be="iconPicker_feishuColorPalette__1MMOs",Ce="iconPicker_iconAndColorPickerTabs__EtkhP",xe="iconPicker_wide__alKZt",Ie="iconPicker_customizeIconTabTitle__0P5c3",je="iconPicker_maptableColorPalette__6sqOr",Me="iconPicker_iconColorPicker__U+Rhq",ke=(h.Cq,h.Er,h.P8,e=>{const{projectId:t,color:n,icon:s,optionIndex:c,choiceId:h,showIcon:b=!1,isThirdPartyTable:C,enableCustomizedIcon:x=!1,showProBadge:I=!0,className:j,overlayClassName:M,disabled:k,disableCustomColor:T,onIconChange:E,onColorChange:P,onUseCustomizeIcon:O}=e,[S,_]=(0,i.useState)(!1),[N,D]=(0,i.useState)("location"),[L,A]=(0,i.useState)(n),R=(0,m.v)(y.EM.selectAll),Z=(0,r.Z)();(0,i.useEffect)((()=>{A(n),D(s||"location")}),[n,s]);const z=()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:pe,children:Z.$t({id:"kk4TVW",defaultMessage:"Icon"})}),(0,F.jsx)("div",{className:he,children:w.jm.map((e=>(0,F.jsx)(i.Fragment,{children:(0,F.jsx)(v.Z,{className:(0,p.default)(ve,e===N?ue:void 0),style:{color:L&&L},type:"iconLayerIcon".concat(d()(e)),onClick:()=>{return D(t=e),null===E||void 0===E||E(t,h),void _(!1);var t}})},e)))})]}),B=i.memo((()=>{if(w.jm.includes(N))return(0,F.jsx)(v.Z,{"data-icon":"builtin",className:(0,p.default)(fe,{[me]:k}),style:{color:L||"#fff"},type:"iconLayerIcon".concat(d()(N)),onClick:k?void 0:()=>_(!0)});{var e;const t=u()(N,"c:"),n=null===(e=R.find((e=>e.id===t)))||void 0===e?void 0:e.imageUrl;return n?(0,F.jsx)("div",{className:ye,style:{backgroundImage:"url(".concat(n,")")},"data-icon":"custom"}):(0,F.jsx)(v.Z,{"data-icon":"builtin",className:fe,style:{color:L&&L},type:"iconLayerIconLocation",onClick:k?void 0:()=>_(!0)})}}));return(0,F.jsx)(l.Z,{content:()=>{const e=(0,i.useMemo)((()=>{const e=u()(N,"c:");return w.jm.includes(e)?"builtinIcon":"customizeIcon"}),[]),[n,l]=(0,i.useState)(e);return b?(0,F.jsx)(o.Z,{defaultActiveKey:e,activeKey:n,className:(0,p.default)(Ce,{[xe]:C}),onTabClick:async e=>{if("builtinIcon"===e)l(e);else{const e=await(null===O||void 0===O?void 0:O());l(e?"customizeIcon":"builtinIcon")}},items:[{key:"builtinIcon",label:Z.$t({id:"O4QELA",defaultMessage:"Default icons"}),children:(0,F.jsxs)("div",{className:(0,p.default)(ce,C?be:je),children:[!T&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:Me,children:(0,F.jsx)(g.AI,{color:L,disableAlpha:!0,onChangeComplete:e=>{null===P||void 0===P||P(e.hex,c)}})}),(0,F.jsx)(a.Z,{})]}),(0,F.jsx)(z,{})]})},{key:"customizeIcon",disabled:!x,label:(0,F.jsxs)("span",{children:[(0,F.jsx)("span",{className:Ie,children:Z.$t({id:"i1TbWq",defaultMessage:"Customize icons"})}),I&&(0,F.jsx)(f.Z,{})]}),children:(0,F.jsx)(de,{projectId:t,activeIcon:N,icons:R,onSelectedIcon:e=>{_(!1),D(null!==e&&void 0!==e?e:"location"),null===E||void 0===E||E(null!==e&&void 0!==e?e:"location",h)}})}]}):(0,F.jsx)("div",{className:(0,p.default)(ce,C?be:je),children:(0,F.jsx)("div",{className:Me,children:(0,F.jsx)(g.AI,{color:L,disableAlpha:!0,onChangeComplete:e=>{null===P||void 0===P||P(e.hex,c)}})})})},placement:"right",open:S,trigger:k?[]:"click",onOpenChange:_,classNames:{root:M},children:(0,F.jsx)("div",{className:(0,p.default)(ge,j),children:b?(0,F.jsx)(B,{}):(0,F.jsx)("div",{className:(0,p.default)(we,{[me]:k}),style:{backgroundColor:L&&L},onClick:()=>k?void 0:_(!0)})})})}),Te=i.memo(ke);var Ee=n(55519),Pe=n(70546),Oe=n(49633),Se=n(17738);const _e={horizontal:"boolean_horizontal__kCqPq"};function Ne(e){let{name:t,disabled:n,className:i,onChange:o,...a}=e;return(0,F.jsx)(Se.Z,{name:t,valuePropName:"checked",className:(0,p.default)(_e.horizontal,i),...a,children:(0,F.jsx)(Oe.Z,{size:"small",disabled:n,onChange:o})})}var De=n(30541),Le=n(50239),Ae=n(34221),Re=n(71105),Ze=n(15905),Fe=n(18878),ze=n.n(Fe);const Be={inputNumber:"slider_inputNumber__Dq084"};function Ve(e){let{name:t,rangeName:n,min:i,max:o,step:a=1,controls:l=!0,range:r=!1,rangeValue:s,label:d,formatter:c,parser:u,onRangeChange:p,hidden:h=!1}=e;return r&&Array.isArray(s)?(0,F.jsxs)(Se.Z,{label:d,hidden:h,children:[(0,F.jsx)(Se.Z,{name:n,noStyle:!0,children:(0,F.jsx)(De.Z,{min:i,max:o,step:a,range:!0})}),(0,F.jsxs)(Le.Z,{justify:"space-between",children:[(0,F.jsx)(Se.Z,{noStyle:!0,children:(0,F.jsx)(Ae.Z,{min:i,max:s[1],size:"small",value:s[0],"data-testid":"".concat(Array.isArray(n)?n.join("_"):n,"_min"),onChange:e=>{ze()(e)&&e<s[1]?null===p||void 0===p||p([e,s[1]]):ze()(e)&&(null===p||void 0===p||p([s[1],s[1]]))}})}),(0,F.jsx)(Se.Z,{noStyle:!0,children:(0,F.jsx)(Ae.Z,{min:s[0],max:o,size:"small",value:s[1],"data-testid":"".concat(Array.isArray(n)?n.join("_"):n,"_max"),onChange:e=>{ze()(e)&&e>s[0]?null===p||void 0===p||p([s[0],e]):ze()(e)&&(null===p||void 0===p||p([s[0],s[0]]))}})})]})]}):(0,F.jsx)(Se.Z,{label:d,hidden:h,children:(0,F.jsxs)(Re.Z,{gutter:4,align:"middle",children:[(0,F.jsx)(Ze.Z,{span:18,children:(0,F.jsx)(Se.Z,{name:t,noStyle:!0,children:(0,F.jsx)(De.Z,{min:i,max:o,step:a})})}),(0,F.jsx)(Ze.Z,{span:6,children:(0,F.jsx)(Se.Z,{name:t,noStyle:!0,children:(0,F.jsx)(Ae.Z,{size:"small",min:i,max:o,"data-testid":"".concat(Array.isArray(t)?t.join("_"):t,"_input"),formatter:c,parser:u,controls:l,className:Be.inputNumber})})})]})})}n(81422);var He=n(99540),We=n.n(He),Ue=n(13226),Ge=n.n(Ue);function qe(e){let{name:t,label:n,hidden:i=!1}=e;const o=(0,r.Z)();return(0,F.jsx)(Ve,{name:t,label:null!==n&&void 0!==n?n:o.$t({id:"PHutSR",defaultMessage:"Opacity"}),min:0,max:1,step:.1,controls:!1,formatter:e=>"".concat(100*We()(e),"%"),parser:e=>We()(Ge()(null!==e&&void 0!==e?e:"","%",""))/100,hidden:i})}n(91671),n(87522)},4285:(e,t,n)=>{"use strict";n.d(t,{u:()=>p,y:()=>c});var i=n(50239),o=n(57435),a=n(79129),l=n(95620),r=n(83580),s=n(38256),d=n(94553);const c=["top,end","top,middle","top,start","center,end","center,middle","center,start","bottom,end","bottom,middle","bottom,start"],u=[{label:(0,a.Em)({id:"NKBALi",defaultMessage:"Above left"})},{label:(0,a.Em)({id:"bDMypK",defaultMessage:"Above center"})},{label:(0,a.Em)({id:"w3Anpd",defaultMessage:"Above right"})},{label:(0,a.Em)({id:"MDOlVv",defaultMessage:"Center left"})},{label:(0,a.Em)({id:"QPmWTa",defaultMessage:"Center"})},{label:(0,a.Em)({id:"84/Bfw",defaultMessage:"Center right"})},{label:(0,a.Em)({id:"tUgLVg",defaultMessage:"Below left"})},{label:(0,a.Em)({id:"sty7Qy",defaultMessage:"Below center"})},{label:(0,a.Em)({id:"lMRC6w",defaultMessage:"Below right"})}];function p(){const e=(0,l.Z)(),t=(0,o.useMemo)((()=>u.map(((t,n)=>({value:c[n],label:(0,d.jsx)(h,{index:n,children:e.$t(t.label)})})))),[e]);return(0,d.jsx)(s.xJ,{name:["labelConfig","direction"],label:e.$t({id:"/wvSvu",defaultMessage:"Placement"}),children:(0,d.jsx)(r.Ph,{"data-testid":"label-direction-selector",getPopupContainer:e=>e.parentNode,options:t})})}function h(e){let{index:t,children:n}=e;return(0,d.jsxs)(i.Z,{align:"center",gap:6,children:[(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Array.from({length:9}).map(((e,n)=>(0,d.jsx)("rect",{x:n%3*6+2,y:6*Math.floor(n/3)+2,width:"4",height:"4",fill:n===t?"#505F79":"#C1C7D0"},n)))}),n]})}},17181:(e,t,n)=>{"use strict";n.d(t,{UU:()=>b,_u:()=>y,fR:()=>f,ix:()=>C,nC:()=>w,rT:()=>m,re:()=>g});var i=n(15972),o=n.n(i),a=n(56043),l=n(96271),r=n(74720),s=n.n(r),d=n(55349),c=n.n(d),u=n(5512),p=n.n(u),h=n(95436),v=n(4285);function g(e,t){var n,i,r,d,c,u,g,f,m,y,w,b,x,I,j,M,k,T,E,P,O,S,_,N,D,L,A,R,Z,F,z,B,V,H,W,U,G,q,$,J,Q,K,Y,X,ee,te,ne,ie,oe,ae,le,re,se,de,ce,ue,pe,he,ve,ge,fe,me,ye,we,be,Ce,xe,Ie,je,Me,ke,Te,Ee,Pe,Oe,Se,_e,Ne,De,Le,Ae,Re,Ze,Fe,ze,Be,Ve,He,We,Ue,Ge;const{labelConfig:qe,fillConfig:$e,bivariateFillConfig:Je,outlineConfig:Qe,radiusConfig:Ke,odLineConfig:Ye,heightConfig:Xe,flowConfig:et,heatmapConfig:tt,tripsConfig:nt,pathConfig:it,regionConfig:ot,visibilityConfig:at}=null!==e&&void 0!==e?e:{},{coordinateType:lt,destCoordinateType:rt}=C(e,t),st=p()(l.DE),dt=st?s()(l.FA[7],st,["#0065ff"]):["#0065ff"];return o()({},e,{viewID:null===e||void 0===e?void 0:e.viewID,coordinateType:lt,destCoordinateType:rt,regionIndexStatsFieldID:null!==(n=null===e||void 0===e?void 0:e.regionIndexStatsFieldID)&&void 0!==n?n:a.N,specifyByFieldID:null===e||void 0===e?void 0:e.specifyByFieldID,visibilityConfig:{visibleRange:null!==(i=null===at||void 0===at?void 0:at.visibleRange)&&void 0!==i?i:h.E},labelConfig:{fillColor:null!==(r=null===qe||void 0===qe?void 0:qe.fillColor)&&void 0!==r?r:"#000000",fontSize:null!==(d=null===qe||void 0===qe?void 0:qe.fontSize)&&void 0!==d?d:15,direction:null!==qe&&void 0!==qe&&qe.direction&&v.y.includes(null===qe||void 0===qe?void 0:qe.direction)?null===qe||void 0===qe?void 0:qe.direction:"bottom,middle",strokeWeight:null!==(c=null===qe||void 0===qe?void 0:qe.strokeWeight)&&void 0!==c?c:4,strokeColor:null!==(u=null===qe||void 0===qe?void 0:qe.strokeColor)&&void 0!==u?u:"#FFFFFF",backgroundColor:null!==(g=null===qe||void 0===qe?void 0:qe.backgroundColor)&&void 0!==g?g:"#FFFFFF",backgroundOpacity:null!==(f=null===qe||void 0===qe?void 0:qe.backgroundOpacity)&&void 0!==f?f:0,visibleRange:null!==(m=null===qe||void 0===qe?void 0:qe.visibleRange)&&void 0!==m?m:h.E,items:null!==(y=null===qe||void 0===qe?void 0:qe.items)&&void 0!==y?y:[],collisionDisabled:null!==(w=null===qe||void 0===qe?void 0:qe.collisionDisabled)&&void 0!==w&&w},fillConfig:{colors:null!==(b=null===$e||void 0===$e?void 0:$e.colors)&&void 0!==b?b:dt,fillOpacity:null!==(x=null===$e||void 0===$e?void 0:$e.fillOpacity)&&void 0!==x?x:1,fillMethod:null!==(I=null===$e||void 0===$e?void 0:$e.fillMethod)&&void 0!==I?I:"quantile",reverse:null!==(j=null===$e||void 0===$e?void 0:$e.reverse)&&void 0!==j&&j,aggregateBy:null!==(M=null===$e||void 0===$e?void 0:$e.aggregateBy)&&void 0!==M?M:"sum",bivariate:null!==(k=null===$e||void 0===$e?void 0:$e.bivariate)&&void 0!==k&&k,_step:null!==(T=null===$e||void 0===$e||null===(E=$e.colors)||void 0===E?void 0:E.length)&&void 0!==T?T:7,icons:null!==(P=null===$e||void 0===$e?void 0:$e.icons)&&void 0!==P?P:{},colorScheme:null!==(O=null===$e||void 0===$e?void 0:$e.colorScheme)&&void 0!==O?O:st,thresholds:null!==(S=null===$e||void 0===$e?void 0:$e.thresholds)&&void 0!==S?S:[]},bivariateFillConfig:{colors:null!==(_=null===Je||void 0===Je?void 0:Je.colors)&&void 0!==_?_:["#0065ff"],_step:null!==(N=null===Je||void 0===Je||null===(D=Je.colors)||void 0===D?void 0:D.length)&&void 0!==N?N:7,colorScheme:null===Je||void 0===Je?void 0:Je.colorScheme,fillMethod:null!==(L=null===Je||void 0===Je?void 0:Je.fillMethod)&&void 0!==L?L:"quantile",reverse:null!==(A=null===Je||void 0===Je?void 0:Je.reverse)&&void 0!==A&&A,thresholds:null!==(R=null===Je||void 0===Je?void 0:Je.thresholds)&&void 0!==R?R:[],fillOpacity:null!==(Z=null===Je||void 0===Je?void 0:Je.fillOpacity)&&void 0!==Z?Z:.7},outlineConfig:{strokeWeight:null!==(F=null===Qe||void 0===Qe?void 0:Qe.strokeWeight)&&void 0!==F?F:1,strokeOpacity:null!==(z=null===Qe||void 0===Qe?void 0:Qe.strokeOpacity)&&void 0!==z?z:0,align:null!==(B=null===Qe||void 0===Qe?void 0:Qe.align)&&void 0!==B?B:"center",colors:null!==(V=null===Qe||void 0===Qe?void 0:Qe.colors)&&void 0!==V?V:["#c5c5c5"],_step:null!==(H=null===Qe||void 0===Qe||null===(W=Qe.colors)||void 0===W?void 0:W.length)&&void 0!==H?H:7,colorScheme:null===Qe||void 0===Qe?void 0:Qe.colorScheme,thresholds:null!==(U=null===Qe||void 0===Qe?void 0:Qe.thresholds)&&void 0!==U?U:[],strokeMethod:null!==(G=null===Qe||void 0===Qe?void 0:Qe.strokeMethod)&&void 0!==G?G:"quantile",reverse:null!==(q=null===Qe||void 0===Qe?void 0:Qe.reverse)&&void 0!==q&&q},radiusConfig:{radius:null!==($=null===Ke||void 0===Ke?void 0:Ke.radius)&&void 0!==$?$:25,radiusRange:null!==(J=null===Ke||void 0===Ke?void 0:Ke.radiusRange)&&void 0!==J?J:[h.z3,h.Cq],fixedToMeter:null!==(Q=null===Ke||void 0===Ke?void 0:Ke.fixedToMeter)&&void 0!==Q&&Q,gridSize:null!==(K=null===Ke||void 0===Ke?void 0:Ke.gridSize)&&void 0!==K?K:1,coverage:null!==(Y=null===Ke||void 0===Ke?void 0:Ke.coverage)&&void 0!==Y?Y:1},odLineConfig:{type:null!==(X=null===Ye||void 0===Ye?void 0:Ye.type)&&void 0!==X?X:"line",widthRange:null!==(ee=null===Ye||void 0===Ye?void 0:Ye.widthRange)&&void 0!==ee?ee:[0,100],width:null!==(te=null===Ye||void 0===Ye?void 0:Ye.width)&&void 0!==te?te:1,originColor:null!==(ne=null===Ye||void 0===Ye?void 0:Ye.originColor)&&void 0!==ne?ne:"#78238b",destinationColor:null!==(ie=null===Ye||void 0===Ye?void 0:Ye.destinationColor)&&void 0!==ie?ie:"#d5a722"},heightConfig:{toggle:null!==(oe=null===Xe||void 0===Xe?void 0:Xe.toggle)&&void 0!==oe&&oe,multiplier:null!==(ae=null===Xe||void 0===Xe?void 0:Xe.multiplier)&&void 0!==ae?ae:1,scale:null!==(le=null===Xe||void 0===Xe?void 0:Xe.scale)&&void 0!==le?le:"linear",heightRange:null!==(re=null===Xe||void 0===Xe?void 0:Xe.heightRange)&&void 0!==re?re:[0,100],height:null!==(se=null===Xe||void 0===Xe?void 0:Xe.height)&&void 0!==se?se:10,aggregateBy:null!==(de=null===Xe||void 0===Xe?void 0:Xe.aggregateBy)&&void 0!==de?de:"sum"},flowConfig:{fadeEnabled:null!==(ce=null===et||void 0===et?void 0:et.fadeEnabled)&&void 0!==ce&&ce,fadeAmount:null!==(ue=null===et||void 0===et?void 0:et.fadeAmount)&&void 0!==ue?ue:.5,locationTotalsEnabled:null===(pe=null===et||void 0===et?void 0:et.locationTotalsEnabled)||void 0===pe||pe,clusteringEnabled:null===(he=null===et||void 0===et?void 0:et.clusteringEnabled)||void 0===he||he,clusteringAuto:null===(ve=null===et||void 0===et?void 0:et.clusteringAuto)||void 0===ve||ve,clusteringLevel:null!==(ge=null===et||void 0===et?void 0:et.clusteringLevel)&&void 0!==ge?ge:5,colorScheme:null===et||void 0===et?void 0:et.colorScheme,darkMode:null!==(fe=null===et||void 0===et?void 0:et.darkMode)&&void 0!==fe&&fe},heatmapConfig:{threshold:null!==(me=null===tt||void 0===tt?void 0:tt.threshold)&&void 0!==me?me:.05},tripsConfig:{fadeTrail:null===(ye=null===nt||void 0===nt?void 0:nt.fadeTrail)||void 0===ye||ye,trailLength:null!==(we=null===nt||void 0===nt?void 0:nt.trailLength)&&void 0!==we?we:3e3,capRounded:null!==(be=null===nt||void 0===nt?void 0:nt.capRounded)&&void 0!==be&&be,jointRounded:null!==(Ce=null===nt||void 0===nt?void 0:nt.jointRounded)&&void 0!==Ce&&Ce,icon:null!==(xe=null===nt||void 0===nt?void 0:nt.icon)&&void 0!==xe?xe:null,iconRotation:null!==(Ie=null===nt||void 0===nt?void 0:nt.iconRotation)&&void 0!==Ie&&Ie,iconSize:null!==(je=null===nt||void 0===nt?void 0:nt.iconSize)&&void 0!==je?je:20},pathConfig:{showWaypoint:null===(Me=null===it||void 0===it?void 0:it.showWaypoint)||void 0===Me||Me,colors:null!==(ke=null===it||void 0===it?void 0:it.colors)&&void 0!==ke?ke:["#0065ff"],waypointOpacity:null!==(Te=null===it||void 0===it?void 0:it.waypointOpacity)&&void 0!==Te?Te:.8,waypointSize:null!==(Ee=null===it||void 0===it?void 0:it.waypointSize)&&void 0!==Ee?Ee:7,isCustomEndpointColor:null===(Pe=null===it||void 0===it?void 0:it.isCustomEndpointColor)||void 0===Pe||Pe,startPointColor:null!==(Oe=null===it||void 0===it?void 0:it.startPointColor)&&void 0!==Oe?Oe:"#3384ff",endpointColor:null!==(Se=null===it||void 0===it?void 0:it.endpointColor)&&void 0!==Se?Se:"#e64c4c",endpointOpacity:null!==(_e=null===it||void 0===it?void 0:it.endpointOpacity)&&void 0!==_e?_e:.8,endpointSize:null!==(Ne=null===it||void 0===it?void 0:it.endpointSize)&&void 0!==Ne?Ne:7},regionConfig:{country:null!==(De=null===ot||void 0===ot?void 0:ot.country)&&void 0!==De?De:"china",level:null!==(Le=null===ot||void 0===ot?void 0:ot.level)&&void 0!==Le?Le:"admin1",regionId:null!==(Ae=null===ot||void 0===ot?void 0:ot.regionId)&&void 0!==Ae?Ae:"china",aggregateBy:null!==(Re=null===ot||void 0===ot?void 0:ot.aggregateBy)&&void 0!==Re?Re:"admin1",dimension:null!==(Ze=null===ot||void 0===ot?void 0:ot.dimension)&&void 0!==Ze?Ze:"region",_step:null!==(Fe=null===ot||void 0===ot||null===(ze=ot.colors)||void 0===ze?void 0:ze.length)&&void 0!==Fe?Fe:7,indexStatsMethod:null!==(Be=null===ot||void 0===ot?void 0:ot.indexStatsMethod)&&void 0!==Be?Be:"count",colors:null!==(Ve=null===ot||void 0===ot?void 0:ot.colors)&&void 0!==Ve?Ve:dt,colorScheme:null!==(He=null===ot||void 0===ot?void 0:ot.colorScheme)&&void 0!==He?He:st,labelVisible:null===(We=null===ot||void 0===ot?void 0:ot.labelVisible)||void 0===We||We,labelTypes:(null===ot||void 0===ot?void 0:ot.labelTypes)||["name","value"],fillMethod:null!==(Ue=null===ot||void 0===ot?void 0:ot.fillMethod)&&void 0!==Ue?Ue:"quantile",reverse:null!==(Ge=null===ot||void 0===ot?void 0:ot.reverse)&&void 0!==Ge&&Ge}})}const f=7,m=3,y=11,w="FIELDCOLORS";const b=["line","polygon"];function C(e,t){var n;const i=null===t||void 0===t?void 0:t.find((t=>t.id===(null===e||void 0===e?void 0:e.coordinateFieldID)));return{coordinateType:"region"===(null===e||void 0===e?void 0:e.layerType)?"admin":null!==e&&void 0!==e&&e.layerSubType&&b.includes(null===e||void 0===e?void 0:e.layerSubType)||null!==i&&void 0!==i&&null!==(n=i.typeOptions)&&void 0!==n&&n.textCoordinateType?"wkt":c()(null===e||void 0===e?void 0:e.latitudeFieldID)?"coord":"lng-lat",destCoordinateType:c()(null===e||void 0===e?void 0:e.destLatitudeFieldID)?"coord":"lng-lat"}}},27685:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>l,eX:()=>a});var i=n(57435);const o=(0,i.createContext)({projectId:NaN,isVectorTile:!1,isPublicLayer:!1,isThirdPartyTable:!1,isBigTable:!1,isDynamicLoadData:!1,isThirdPartyBigTable:!1,isPro:!1,isEnt:!1,isLark:!1,form:{},coordinateType:"coord",destCoordinateType:"coord",fields:[],coordinateFields:[],locationFields:[],textCoordinateFields:[],labelFields:[],numberFields:[],h3Fields:[],timestampFields:[],dateTimeFields:[],enableCustomizedIcon:!1,showProBadge:!0,manualUpdate:()=>{}}),a=o.Provider;function l(){return(0,i.useContext)(o)}},87522:(e,t,n)=>{"use strict";n.d(t,{$k:()=>m,Kd:()=>b,cI:()=>f,mG:()=>y});var i=n(89614),o=n(57435),a=n(98864),l=n.n(a),r=n(49623),s=n.n(r),d=n(13682),c=n.n(d),u=n(23502),p=n.n(u),h=n(41122),v=n(17181),g=n(27685);function f(e,t){const[n]=i.Z.useForm(),a=(0,o.useRef)(!1),[l,r]=(0,o.useState)(void 0);return(0,o.useEffect)((()=>{null!==e&&void 0!==e&&e.mapInfo&&!a.current&&(a.current=!0,r({...(0,v.re)(null===e||void 0===e?void 0:e.mapInfo,t),layerName:null===e||void 0===e?void 0:e.name}))}),[null===e||void 0===e?void 0:e.mapInfo,null===e||void 0===e?void 0:e.name,t]),{form:n,initialValues:l}}const m=h.$,y=(e,t,n)=>{const{isLoading:i,form:a}=(0,g.Yg)();(0,o.useEffect)((()=>{if(i||null===e||void 0===e||!e.length||null===a||void 0===a||!a.getFieldValue||null===a||void 0===a||!a.setFieldValue)return;const o=a.getFieldValue(t);e.length&&o&&!e.find((e=>e.id===o))&&a.setFieldsValue({[t]:n})}),[e,t,i,a,n])},w=["layerName","coordinateType","destCoordinateType"];function b(e){return l()(e,((e,t,n)=>{if(w.includes(n))return e;s()(t)?e[n]=p()(t,((e,t)=>c()(t,"_"))):e[n]=t}),{})}},78543:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,p:()=>s});var i=n(99540),o=n.n(i),a=n(57435),l=n(49210);function r(e){var t,n;const i=s(null===e||void 0===e?void 0:e.typeOptions),r=(0,a.useCallback)(((e,t)=>i?(0,l.N5)(e,t):(0,l.IG)(e)),[i]),d=(0,a.useCallback)((t=>{var n,o;return i?(0,l.E_)(100*t,null!==(n=null===e||void 0===e||null===(o=e.typeOptions)||void 0===o?void 0:o.precision)&&void 0!==n?n:2):t}),[null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.precision,i]),c=(0,a.useCallback)((t=>{var n,a;const r=o()(t);return i?(0,l.E_)(r/100,null!==(n=null===e||void 0===e||null===(a=e.typeOptions)||void 0===a?void 0:a.precision)&&void 0!==n?n:2):r}),[null===e||void 0===e||null===(n=e.typeOptions)||void 0===n?void 0:n.precision,i]);return{isPercentage:i,formatDisplay:r,formatValue:d,parseValue:c}}function s(e){return"percentage"===(null===e||void 0===e?void 0:e.format)||"number"===(null===e||void 0===e?void 0:e.expectedType)&&"percentage"===e.numberFormat}},73004:(e,t,n)=>{"use strict";n(97780)},90874:(e,t,n)=>{"use strict";n.d(t,{Q9:()=>r,Xq:()=>a,c3:()=>l});var i=n(24099),o=n(60206);function a(e){const t=[[0,1],[1,1]];null!==e&&void 0!==e&&e.range&&null!==e&&void 0!==e&&e.columnId&&(t[1]=e.range);return{getFilterValue:e=>{var t,n,i,o;return[null!==(t=null===(n=e.properties)||void 0===n?void 0:n.filterValue)&&void 0!==t?t:1,null!==(i=null===(o=e.properties)||void 0===o?void 0:o.timelineValue)&&void 0!==i?i:1]},filterRange:t,extensions:[new i.Z({filterSize:2})]}}function l(e){return{extensions:[new o.Z],maskByInstance:!0,maskId:e?"geofence":""}}function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{var n,i;return null===(n=e.extensions)||void 0===n||n.push(...null!==(i=t.extensions)&&void 0!==i?i:[]),delete t.extensions,Object.assign(e,t),e}),{extensions:[]})}},49492:(e,t,n)=>{"use strict";n.d(t,{Vm:()=>A,ng:()=>L,Nn:()=>D,HG:()=>F,RS:()=>z,ls:()=>R});var i=n(57323),o=n.n(i),a=n(28967),l=n(75770),r=n(93232),s=n(29449),d=n(88716),c=n.n(d),u=n(8942),p=n.n(u),h=n(46131),v=n(36639),g=n(9626),f=n(89983),m=n(90874),y=n(30731),w=n(13334),b=n(17481),C=n(98173),x=n(36741),I=n(97780),j=n(6100),M=n(64274),k=n.n(M);const T={id:"pmt",module:"pmt",name:"PMTiles",version:"latest",extensions:["pmtiles"],mimeTypes:["application/x-protobuf"],worker:!0,category:"geometry",options:{pmt:{raster:!1},mvt:{},image:{}}};function E(e,t){var n,i;if(t&&null!==t&&void 0!==t&&null!==(n=t.pmt)&&void 0!==n&&n.raster){const t=new Blob([e],{type:"image/png"});URL.createObjectURL(t);return createImageBitmap(t)}if(null!==t&&void 0!==t&&null!==(i=t.pmt)&&void 0!==i&&i.tileCompression){const n=function(e,t){if(t===I.Rj.None||t===I.Rj.Unknown)return e;if(t===I.Rj.Gzip)return(0,j.iF)(new Uint8Array(e));throw Error("Compression method not supported")}(e,t.pmt.tileCompression);return k()(n,t)}}const P={...x.Z.defaultProps,onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,binary:!0,raster:!1,loaders:[T]};class O extends I.JJ{async getZxyOffset(e,t,n,i){const o=(0,I.Av)(e,t,n),a=await this.cache.getHeader(this.source);if(e<a.minZoom||e>a.maxZoom)return;let l=a.rootDirectoryOffset,r=a.rootDirectoryLength;for(let s=0;s<=3;s++){const e=await this.cache.getDirectory(this.source,l,r,a),t=(0,I.QV)(e,o);if(!t)return;if(t.runLength>0)return{offset:t.offset,length:t.length};l=a.leafDirectoryOffset+t.offset,r=t.length}throw Error("Maximum directory depth exceeded")}}class S extends C.Z{initializeState(){super.initializeState();const e=void 0===this.context.viewport.resolution&&this.props.binary,t=this.props.raster;this._updateTileData=async()=>{const e=this.props.data,t=this.props.raster,n=new O(e),i=await n.getHeader();this.setState({data:e,pmtiles:n,raster:t,header:i})},this.setState({binary:e,raster:t,data:null})}getTileData(e,t){const{index:n,signal:i}=e,{data:o,binary:a,raster:l,pmtiles:r,header:s}=this.state,{x:d,y:c,z:u}=n;let p=this.getLoadOptions();const{fetch:h}=this.props;return r.getZxyOffset(u,d,c,i).then((e=>{var t;if(!e)return new Promise((e=>e(null)));const r=e.offset+s.tileDataOffset,d=e.length;return p={...p,mimeType:"application/x-protobuf",pmt:{workerUrl:"https://maptable-public.oss-cn-hangzhou.aliyuncs.com/assets/pmt-worker.js",coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:n,raster:l,tileCompression:s.tileCompression,...null===(t=p)||void 0===t?void 0:t.pmt},gis:a?{format:"binary"}:{},fetch:{headers:{Range:"bytes=".concat(r,"-").concat(r+d-1)}}},h(o,{propName:"data",layer:this,loadOptions:p,signal:i})}))}getRenderedFeatures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return super.getRenderedFeatures(e)}}o()(S,"layerName","PMTilesLayer"),o()(S,"defaultProps",P);const _=S;n(57435);function N(e){var t,n,i,o;const{id:a,customProps:l}=e,{vtInfo:r,vtParams:s,layerType:d}=l;if(!a||null===s||void 0===s||!s.signedUrl||!r)return null;const c=function(e,t,n){var i;const o=null!==(i=null===n||void 0===n?void 0:n.recreateAt)&&void 0!==i?i:0,a="heatmap"===t?"h":"p";return"".concat(e,"-pmt-").concat(a,"-").concat(o)}(a,d,s);return{id:c,data:"".concat(s.signedUrl),maxZoom:null!==(t=null===(n=r.metadata)||void 0===n?void 0:n.maxzoom)&&void 0!==t?t:0,minZoom:null!==(i=null===(o=r.metadata)||void 0===o?void 0:o.minzoom)&&void 0!==i?i:0}}class D extends a.z{constructor(){super(...arguments),o()(this,"isIconLayer",!1)}initializeState(e){super.initializeState(e),Object.assign(this.state,{data:[]})}pmtToGeojson(e){var t;if(!e||c()(e))return;const n=null===(t=e.map((e=>null===e||void 0===e?void 0:e.dataInWGS84)))||void 0===t||null===(t=t.flat())||void 0===t?void 0:t.filter((e=>!!e));setTimeout((()=>{this.updateData(n)}))}formatLabel(e){const{vtInfo:t,timezone:n,members:i,mapInfo:o}=this.props.customProps;return o&&o.labelFieldID?e.map((e=>{var a,l;if(null===t||void 0===t||!t.columns||null!==(a=o.labelConfig.items)&&void 0!==a&&a.length&&o.labelConfig.items.every((e=>e.hiddenLabel)))return{...e,properties:{...e.properties,label:""}};const{label:r}=(0,b.tP)({columns:t.columns,cells:e.properties,items:o.labelConfig.items,labelFieldIDs:o.labelFieldID?[o.labelFieldID].concat(null!==(l=o.extraLabelFieldIDs)&&void 0!==l?l:[]):[],timezone:n,members:i});return{...e,properties:{...e.properties,label:r}}})):e}updateData(e){const{setToRedraw:t}=this.context.userData,n=this.formatLabel(e);this.setState({data:n}),"function"===typeof t&&setTimeout((()=>{t()}))}renderTextLayer(){const{setToRedraw:e}=this.context.userData,{id:t=D.layerName,customProps:n,extensionPack:i}=this.props,{mapInfo:o}=n,a="".concat(t,"-text"),l=this.configManager;if(!l)return;const s=Z(n);l.getCollisionEnabled()&&s.extensions.push(new r.Z),null!==i&&void 0!==i&&i.extensions&&s.extensions.push(...i.extensions),"function"===typeof e&&l.getLabelVisible(this.context.viewport.zoom)&&e();return new g.g({id:a,data:this.state.data,pickable:!1,parameters:{depthTest:!1},...i,...s,getRadius:l.getPointRadius,getPosition:l.getPosition,getText:e=>{var t,n;return null!==(t=null===(n=e.properties)||void 0===n?void 0:n.label)&&void 0!==t?t:""},getSize:l.getTextSize,getTextAnchor:l.getTextAnchor,getAlignmentBaseline:l.getAlignmentBaseline,getPixelOffset:l.getTextPixelOffset,getColor:l.getTextColor,getBackgroundColor:l.getTextBackgroundColor,background:l.getTextBackgroundVisible(),outlineWidth:l.getTextOutlineWidth(),outlineColor:l.getTextOutlineColor(),visible:l.getLabelVisible(this.context.viewport.zoom),fontSettings:l.fontSettings,characterSet:l.characterSet,updateTriggers:{getRadius:this.state.config,getPosition:this.state.config,getText:o,getColor:this.state.config,getSize:this.state.config,getAlignmentBaseline:this.state.config,getTextAnchor:this.state.config,getFilterValue:this.state.filter,getBackgroundColor:this.state.config,getPixelOffset:this.state.config}})}updateVtFeatures(e,t){if(!this.state.pmtLayer)return;const n=this.state.pmtLayer.getRenderedFeatures();e(null===n||void 0===n?void 0:n.map((e=>({type:e.type,bbox:e.bbox,geometry:{type:e.geometry.type,coordinates:[...e.geometry.coordinates]},properties:{}})))),"function"===typeof t&&setTimeout((()=>{t()}))}updateState(e){var t;let{props:n,oldProps:i,changeFlags:o}=e;if(!o.propsChanged||!this.state.pmtLayer)return;this.updateData(null!==(t=this.state.data)&&void 0!==t?t:[]);const{customProps:{setVtFeatures:a}}=n;if(a&&"function"===typeof a){if(!o.viewportChanged){const{customProps:{setVtFeatures:e}}=i;if(e)return}a(void 0),setTimeout((()=>{this.updateVtFeatures(a)}))}}getPickingInfo(e){var t,n,i;let{info:o}=e;const{mapInfo:a,timezone:l,members:r,vtInfo:s}=this.props.customProps;if(!a||null===s||void 0===s||!s.columns)return o;const{tooltip:d}=(0,b.tP)({columns:s.columns,cells:null===(t=o.object)||void 0===t?void 0:t.properties,labelFieldIDs:a.labelFieldID?[a.labelFieldID].concat(null!==(n=a.extraLabelFieldIDs)&&void 0!==n?n:[]):[],items:a.labelConfig.items,timezone:l,members:r});return{...o,object:{...o.object,properties:{...null===(i=o.object)||void 0===i?void 0:i.properties,tooltip:d}}}}renderLayers(){var e,t,n;const i=N(this.props);if(!this.configManager||!i)return null;const{pickable:o,autoHighlight:a,customProps:l,extensionPack:r}=this.props,s=this.configManager,{setToRedraw:d}=this.context.userData,c=Z(l);null!==r&&void 0!==r&&r.extensions&&c.extensions.push(...r.extensions);const{timeline:u,layerFilter:h,setVtFeatures:v}=l;p()(null===(e=this.state.filter)||void 0===e?void 0:e.timelineColumnId,null===u||void 0===u?void 0:u.columnId)&&p()(null===(t=this.state.filter)||void 0===t?void 0:t.layerFilter,h)||this.setState({filter:{timelineColumnId:null===u||void 0===u?void 0:u.columnId,layerFilter:h}}),p()(this.state.config,s.config)||this.setState({config:s.config});const g=null!==(n=s.config.bivariateFillConfig)&&void 0!==n&&n.enable?s.getBlendColor:s.getFillColor;let m={...i,onViewportLoad:e=>{s.getLabelVisible(this.context.viewport.zoom)&&this.pmtToGeojson(e),v&&this.updateVtFeatures(v,d)},lineWidthMinPixels:0,lineWidthUnits:s.lineWidthUnits,getFillColor:g,getLineWidth:s.getLineWidth,getLineColor:s.getLineColor,getPointRadius:s.getPointRadius,getElevation:s.getElevation,extruded:s.getExtruded(),elevationScale:s.getElevationScale(),pointRadiusUnits:s.pointRadiusUnits,stroked:!0,filled:!0,pickable:o,autoHighlight:a,uniqueIdProperty:"id",updateTriggers:{getFillColor:this.state.config,getPointRadius:this.state.config,getLineWidth:this.state.config,getLineColor:this.state.config,getElevation:this.state.config,getFilterValue:this.state.filter},...r,...c};this.isIconLayer&&(m={...m,pointType:"icon",stroked:!1,filled:!1,iconSizeMaxPixels:100,iconSizeMinPixels:1,iconSizeScale:1,iconSizeUnits:"pixels",getIcon:s.getBigDataTableIcon,getPosition:e=>(0,f.be)(e.geometry).coordinates,getIconColor:e=>s.getFillColor(e),getIconSize:e=>s.getPointRadius(e),updateTriggers:{getIcon:this.state.config,getPosition:this.state.config,getIconColor:this.state.config,getIconSize:this.state.config,getFilterValue:this.state.filter}});const y=new _(m);this.setState({pmtLayer:y});return[y,this.renderTextLayer()]}}o()(D,"layerName","PmtLayer");class L extends D{constructor(){super(...arguments),o()(this,"isIconLayer",!0)}}o()(L,"layerName","PmtIconLayer");class A extends D{renderLayers(){var e,t;const{id:n,pickable:i,customProps:o,extensionPack:a}=this.props,r=this.configManager,s=N(this.props);if(!n||!r||!s)return null;const{timeline:d,layerFilter:c}=o;p()(null===(e=this.state.filter)||void 0===e?void 0:e.timelineColumnId,null===d||void 0===d?void 0:d.columnId)&&p()(null===(t=this.state.filter)||void 0===t?void 0:t.layerFilter,c)||this.setState({filter:{timelineColumnId:null===d||void 0===d?void 0:d.columnId,layerFilter:c}}),p()(this.state.config,r.config)||this.setState({config:r.config});const u=new _({...s,getFillColor:[0,0,0,0],getLineWidth:0,onViewportLoad:e=>{this.pmtToGeojson(e)}}),h=Z(o);null!==a&&void 0!==a&&a.extensions&&h.extensions.push(...a.extensions);const v={id:"".concat(s.id,"-heatmap"),data:this.state.data,pickable:i,getPosition:r.getPosition,getWeight:r.getWeight,weightsTextureSize:512,colorRange:r.getColorRange(),radiusPixels:r.radiusPixels,threshold:r.threshold,updateTriggers:{getWeight:this.state.config,getPosition:this.state.config,getFilterValue:this.state.filter},...a,...h};return[u,new l.Z(v)]}}function R(e){const t=e?v.K.and(...[e.view,e.row,e.layer,e.legend,e.extension].filter(Boolean)):void 0;return v.K.isEmpty(t)?void 0:t}function Z(e){const{layerFilter:t,timeline:n}=e,i=R(t);return{...(0,m.Xq)(n),getFilterValue:e=>{const t=[i?(0,y.lv)(e.properties,i,!0):1,1];if(null!==n&&void 0!==n&&n.columnId){const i=e.properties[n.columnId];t[1]=null!==i&&void 0!==i?i:0}return t}}}function F(e,t,n){let i=[];const o=t[0][0],a=t[0][w.rF-1];return n&&n>2&&t.length>n-w.rF&&(i=t[n-w.rF]),"quantize"===e||"continuous"===e?[o,a]:i}o()(A,"layerName","PmtHeatmapLayer");const z=(e,t,n)=>{const{fieldConfig:i,outlineConfig:o}=e;if(null!==i&&void 0!==i&&i.outlineID&&null!==o&&void 0!==o&&o._widthFiledQuantiles&&null!==o&&void 0!==o&&o.widthRange){const e=F("continuous",o._widthFiledQuantiles),t=(0,s.Z)().domain(e).range(o.widthRange);n.getLineWidth=e=>{return t?t((0,h.oe)(e,null===i||void 0===i?void 0:i.outlineWidthID)):null!==(n=null===o||void 0===o?void 0:o.strokeWeight)&&void 0!==n?n:1;var n}}}},39342:(e,t,n)=>{"use strict";n.d(t,{Jn:()=>p,m6:()=>h});var i=n(7070),o=n.n(i),a=n(56439),l=n.n(a),r=n(99540),s=n.n(r),d=(n(35257),n(78587),n(39698),n(29697)),c=(n(89983),n(25806)),u=n.n(c);n(73004);function p(e){return e?o()(l()(e,","),s()):[116.395645,39.907921]}function h(e){return e?u()(d.nn,e)||u()(d.nB,e)||u()(d.R6,e)?"built-in":"customize":"built-in"}},68955:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var i=n(98506),o=n(74797),a=n(65886),l=n(94553);function r(e){let{children:t,locale:n}=e;return(0,l.jsx)(o.i,{prefixCls:o.Z.antdPrefix,button:{autoInsertSpace:!1},locale:n,wave:{disabled:!0},theme:a.u,children:(0,l.jsx)(i.Z,{style:{height:"100%"},children:t})})}},44839:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,Y:()=>c});var i=n(46481),o=n(18765),a=n.n(o),l=n(34362),r=n.n(l),s=n(88716),d=n.n(s);const c=(0,i.P1)([(e,t)=>e.map.hiddenLayerIds[t],(e,t)=>e.project.layerNodes[t]],((e,t)=>a()(t,(t=>"map"===t.type&&!r()(e,t.id))))),u=(0,i.P1)(((e,t)=>c(e,t)),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!d()(e)&&!d()(t)&&(e.length===t.length&&e.every(((e,n)=>e.id===t[n].id&&e.version===t[n].version&&e.stale===t[n].stale)))}})},84377:(e,t,n)=>{"use strict";n.d(t,{eH:()=>v,ji:()=>p,pi:()=>g,zO:()=>f});var i=n(46481),o=n(7070),a=n.n(o),l=n(39427),r=n.n(l),s=n(88716),d=n.n(s),c=n(8942),u=n.n(c);const p=["tableNodeID","viewID","coordinateFieldID","latitudeFieldID","labelFieldID","extraLabelFieldIDs","fillFieldID","bivariateFillFieldID","radiusFieldID","outlineFieldID","outlineWidthFieldID","weightFieldID","destinationFieldID","destLatitudeFieldID","heightFieldID","timestampFieldID","groupByFieldID","sortByFieldID","regionDimensionFieldID","regionIndexStatsFieldID","regionConfig"],h=["layerType","fillConfig","bivariateFillConfig","labelConfig","outlineConfig","radiusConfig","heightConfig","odLineConfig","flowConfig","heatmapConfig","tripsConfig","pathConfig","visibilityConfig","regionConfig"],v=(0,i.P1)((e=>e.project.previewMapInfos),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!(!d()(e)||!d()(t))||!d()(t)&&r()(t,((t,n)=>r()(p,(i=>{var o;return t[i]===(null===(o=e[n])||void 0===o?void 0:o[i])}))))}}),g=(0,i.P1)((e=>e.project.previewMapInfos),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!(!d()(e)||!d()(t))||!d()(t)&&r()(t,((t,n)=>r()(h,(i=>{var o;return u()(t[i],null===(o=e[n])||void 0===o?void 0:o[i])}))))}}),f=(0,i.P1)([e=>e.project.previewMapInfos,e=>e.project.computedPreviewMapInfos],((e,t)=>Object.fromEntries(a()(e,((e,n)=>{var i,o,a,l,r,s,d,c,u;const p=t[n];return p?[n,{...e,fillConfig:{...e.fillConfig,_ordinalDomain:p.fillConfig._ordinalDomain,_uniqDomain:p.fillConfig._uniqDomain,_quantiles:null===(i=p.fillConfig)||void 0===i?void 0:i._quantiles,_domain:null===(o=p.fillConfig)||void 0===o?void 0:o._domain},outlineConfig:{...e.outlineConfig,_ordinalDomain:null===(a=p.outlineConfig)||void 0===a?void 0:a._ordinalDomain,_uniqDomain:null===(l=p.outlineConfig)||void 0===l?void 0:l._uniqDomain,_quantiles:null===(r=p.outlineConfig)||void 0===r?void 0:r._quantiles,_widthFiledQuantiles:null===(s=p.outlineConfig)||void 0===s?void 0:s._widthFiledQuantiles},bivariateFillConfig:{...e.bivariateFillConfig,_quantiles:null===(d=p.bivariateFillConfig)||void 0===d?void 0:d._quantiles},radiusConfig:{...e.radiusConfig,_quantiles:null===(c=p.radiusConfig)||void 0===c?void 0:c._quantiles},heightConfig:{...e.heightConfig,_quantiles:null===(u=p.heightConfig)||void 0===u?void 0:u._quantiles}}]:[n,e]})))))},17547:(e,t,n)=>{"use strict";n.d(t,{C:()=>l});var i=n(46481),o=n(1714),a=n(30731);const l=(0,i.P1)([(e,t)=>{var n;return null===(n=o.TW.selectById(e,t.tableNodeId))||void 0===n?void 0:n.columns},(e,t)=>{var n;return null===(n=o.TW.selectById(e,t.tableNodeId))||void 0===n?void 0:n.views},(e,t)=>t.viewId],(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!e||!t)return null;const i=t.find((e=>e.id===n))||t[0];return i?(0,a.hu)(i.filter,e):null}))},43498:(e,t,n)=>{"use strict";n.d(t,{H8:()=>y,eD:()=>b,kq:()=>m,tH:()=>w});var i=n(8942),o=n.n(i),a=n(88716),l=n.n(a),r=n(18765),s=n.n(r),d=n(7070),c=n.n(d),u=n(46481),p=n(74110),h=n(1714),v=n(30731),g=n(58590),f=n(17547);const m=(0,u.P1)([f.C,(e,t)=>h.TW.selectById(e,t.tableNodeId),(e,t)=>t],((e,t,n)=>{var i;if(!t)return;if(!e&&null!==n&&void 0!==n&&n.viewId&&null!==(i=t.views)&&void 0!==i&&i.length){var o;const e=null===(o=t.views)||void 0===o?void 0:o.find((e=>e.id===n.viewId));if(e&&e.rows&&e.rows.length){var a;const n=c()(e.rows,(e=>e.id)),i=(null===(a=t.rows)||void 0===a?void 0:a.filter((e=>n.includes(e.id))))||[];return{...t,rows:i}}}if(!e||t.type===p.e.bigTable)return t;const l=new v.VQ(e,{mondayFirst:null===n||void 0===n?void 0:n.mondayFirst,timezone:null===n||void 0===n?void 0:n.timezone}),r=t.rows.filter((e=>l.test(e.cells)));return{...t,rows:r}})),y=(0,u.P1)((e=>h.TW.selectAll(e)),(e=>e),{devModeChecks:{identityFunctionCheck:"never"},memoizeOptions:{resultEqualityCheck:(e,t)=>!l()(e)&&!l()(t)&&o()(e,t)}}),w=(0,u.P1)([(e,t)=>g.Hx.selectById(e,t)],(e=>s()(null===e||void 0===e?void 0:e.tableNodes,(e=>e.type===p.e.table||e.type===p.e.bigTable)))),b=(0,u.P1)([(e,t)=>{var n;return h.TW.selectById(e,null!==(n=t.tableNodeId)&&void 0!==n?n:NaN)},(e,t)=>t.viewId],((e,t)=>(0,v.bs)(null===e||void 0===e?void 0:e.columns,null===e||void 0===e?void 0:e.views,t)));(0,u.P1)([(e,t)=>h.TW.selectById(e,null!==t&&void 0!==t?t:NaN)],(e=>s()(null===e||void 0===e?void 0:e.views,(e=>"table"===e.type))))},95475:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>y,Dl:()=>x,fy:()=>h,Wp:()=>b,wB:()=>j,AL:()=>k,Ai:()=>w,x4:()=>I,v:()=>T,_E:()=>M});var i=n(40365),o=n(74797),a=n(22963);const l=(0,a.Fs)({baseURL:"".concat(o.Z.baseApiURL,"/projects/")});class r extends a.tr{async get(e){const{data:t}=await this.fetch.get("".concat(e,"/annotations/"));return t.detail}async create(e,t){const{data:n}=await this.fetch.post("".concat(e,"/annotations/"),t);return n}async update(e,t){const{data:n}=await this.fetch.patch("".concat(e,"/annotations/").concat(t.id,"/"),t);return n}async delete(e,t){const{data:n}=await this.fetch.delete("".concat(e,"/annotations/").concat(t,"/"));return n}async restore(e,t){const{data:n}=await this.fetch.post("".concat(e,"/annotations/").concat(t,"/"));return n}}const s=new r(l),d="annotation",{createAsyncAction:c,createUndoRedoActions:u}=(0,i.w)({typePrefix:d,syncWithWebSocket:!0}),{createAsyncAction:p}=(0,i.w)({typePrefix:d}),h=p("get",(async(e,t)=>s.get(e)));function v(e){return c(e,(async(e,t)=>{const{projectId:n,annotationId:i}=e;return await s.withRequestId(t.requestId).restore(n,i)}))}const g="deleteAnnotation";const f="createAnnotation",m=u(f,(async(e,t)=>{const{projectId:n,annotation:i}=e;return await s.withRequestId(t.requestId).create(n,i)}))({undo:function(e){return c(e,(async(e,t)=>{const{projectId:n,annotationId:i}=e;return s.withRequestId(t.requestId).delete(n,i)}))}("undo_".concat(f)),redo:v("redo_".concat(f))}),y=m.action,w=m.undoAction,b=m.redoAction,C=u(g,(async(e,t)=>{const{projectId:n,annotationId:i}=e;return s.withRequestId(t.requestId).delete(n,i)}))({undo:v("redo_".concat(g))}),x=C.action,I=C.undoAction,j=C.redoAction,{action:M,redoAction:k,undoAction:T}=u("updateAnnotation",(async(e,t)=>{const{projectId:n,annotation:i}=e;return s.withRequestId(t.requestId).update(n,i)}))()},50810:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const i=(0,n(49163).HF)({})},71331:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,Z:()=>s});var i=n(49163),o=n(50810);const a={list:function(e,t){var n;const i=null===(n=t.payload[0])||void 0===n?void 0:n.projectID;e.projectId===i&&o.s.setAll(e.annotations,t.payload)},create:function(e,t){e.projectId===t.payload.projectID&&(o.s.addOne(e.annotations,t.payload),t.payload.tempID&&o.s.removeOne(e.annotations,t.payload.tempID))},update:function(e,t){e.projectId===t.payload.ProjectID&&o.s.updateOne(e.annotations,{id:t.payload.id,changes:t.payload.updatedFields})},restore:function(e,t){e.projectId===t.payload.projectID&&o.s.upsertOne(e.annotations,t.payload)},delete:function(e,t){e.projectId===t.payload.projectID&&o.s.removeOne(e.annotations,t.payload.id)},clear:function(e){o.s.removeAll(e.annotations),e.projectId=null},setProjectId:function(e,t){e.projectId=t.payload}},l={annotations:o.s.getInitialState(),projectId:null},r=(0,i.oM)({name:"annotation",initialState:l,reducers:a,extraReducers(e){}}),s=r,d=r.actions},3705:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>d,XZ:()=>s,ll:()=>c});var i=n(37588),o=n.n(i),a=n(53926),l=n.n(a),r=n(22138);let s=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.NO_AUTH=4]="NO_AUTH",e[e.OVER_MAX_RETRY_COUNT=5]="OVER_MAX_RETRY_COUNT",e}({}),d=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e[e.NETWORK_ERROR=2]="NETWORK_ERROR",e}({});const c={updateWSReadyState:function(e,t){e.wsReadyState=t.payload},appInitialized:function(e,t){e.initialized=e.initialized||t.payload},clearFetchingList:function(e){e.fetchingList=[],e.isNetworkFetching=!1},networkStatus:function(e,t){e.networkStatus=t.payload},addFetching:function(e,t){const{requestId:n,actionType:i}=t.payload;e.fetchingList.push({[n]:i}),e.isNetworkFetching=!0},removeFetching:function(e,t){const n=e.fetchingList.findIndex((e=>e[t.payload]));-1!==n&&e.fetchingList.splice(n,1),0===e.fetchingList.length&&(e.isNetworkFetching=!1)},addWsSyncedData:function(e,t){const{requestId:n,payload:i}=t.payload;Object.assign(e.wsSyncedData,{[n]:i})},resolveWsSyncedData:function(e,t){delete e.wsSyncedData[t.payload]},clearWsSyncedData:function(e){e.wsSyncedData={}},installExtension:function(e,t){const n=t.payload;l().set(r.iK,{...l().get(r.iK,{}),[n.instanceId]:n}),e.extensions=l().get(r.iK,{})},removeExtension:function(e,t){const n=t.payload,i=l().get(r.iK,{});delete i[n],l().set(r.iK,i),e.extensions=i},updateExtensionConfig:function(e,t){const n=t.payload;l().set(r.iK,{...l().get(r.iK,{}),[n.instanceId]:n}),e.extensions=l().get(r.iK,{})},updateQuotaLimitDialogConfig:function(e,t){e.quotaLimitDialogConfig=t.payload},toggleFullScreen:function(e,t){e.isFullScreen=t.payload},setLocale:function(e,t){e.locale=t.payload},setNewLocale:function(e,t){e.newLocale=t.payload},setAppConfig:function(e,t){e.amapKey=t.payload.amapKey,e.enableAMap=t.payload.enableAMap,e.googleKey=t.payload.googleKey},changeTheme:function(e,t){e.theme=t.payload,l().set(r.g,t.payload)},updateSharedBanner:function(e,t){e.sharedBanner=t.payload,o().set("MT_SHARED_BANNER",t.payload?"1":"0",{expires:7})}}},93707:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>f,ZP:()=>g});var i=n(53926),o=n.n(i),a=n(49163),l=n(37588),r=n.n(l),s=n(3705),d=n(20535),c=n(21101),u=n(22138);let p=function(e){return e.LIGHT="LIGHT",e.DARK="DARK",e}({});const h={wsReadyState:null,initialized:!1,fetchingList:[],wsSyncedData:{},isNetworkFetching:!1,networkStatus:s.Ie.ONLINE,quotaLimitDialogConfig:void 0,extensions:o().get(u.iK,{}),isFullScreen:!1,locale:"zh-CN",newLocale:void 0,theme:o().get(u.g,p.LIGHT),sharedBanner:"1"===r().get("MT_SHARED_BANNER"),enableAMap:!0},v=(0,a.oM)({name:"app",initialState:h,reducers:s.ll,extraReducers(e){e.addCase(d.Nw.arrive,((e,t)=>{const{detail:n}=t.payload;"quota"===n.level&&n.detail&&n.payload.params&&(e.quotaLimitDialogConfig={quotaError:{...n.payload.params,id:n.detail}})})),e.addCase(c.N.loggedIn,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.googleLogin,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.wechatBind,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.wechatLogin,((e,t)=>{t.payload.locale&&(e.newLocale=t.payload.locale)})),e.addCase(c.N.update,((e,t)=>{t.payload.updatedFields.locale&&(e.newLocale=t.payload.updatedFields.locale)}))}}),g=v,f=v.actions},46331:(e,t,n)=>{"use strict";n.d(t,{$1:()=>u,P8:()=>c,Ws:()=>r,ip:()=>d,ut:()=>s});var i=n(49163),o=n(98868),a=n(40365);const{createAsyncAction:l}=(0,a.w)({typePrefix:"basemap"}),r=(l("createCustomizeBaseMap",(async e=>{const{projectId:t,data:n}=e;return await o.Z.createCustomizeBaseMap(t,n)})),l("updateCustomizeBaseMap",(async e=>{const{projectId:t,baseMapId:n,data:i}=e;return await o.Z.updateCustomizeBaseMap(t,n,i)})),l("deleteCustomizeBaseMap",(async e=>{const{projectId:t,baseMapId:n}=e;return await o.Z.deleteCustomizeBaseMap(t,n)})),l("list",(async e=>{const{projectID:t}=e;return await o.Z.getCustomizeBaseMap(t)}))),s=(0,i.PH)("basemap/list"),d=(0,i.PH)("basemap/create"),c=(0,i.PH)("basemap/delete"),u=(0,i.PH)("basemap/update")},5129:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const i={updateCurrentEditCellId:function(e,t){e.currentEditCellId=t.payload}},o=(0,n(49163).oM)({name:"cell",initialState:{currentEditCellId:""},reducers:i}),a=o;o.actions},98825:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>d,ZP:()=>s});var i=n(49163);const o=(0,i.HF)({sortComparer:(e,t)=>-e.createTime.localeCompare(t.createTime)});const a={create:function(e,t){o.addOne(e,t.payload)},update:function(e,t){const{dataFileID:n,updatedFields:i}=t.payload;o.updateOne(e,{id:n,changes:i})},recover:function(e,t){const{datafile:n}=t.payload;o.addOne(e,n)},setDataFiles:function(e,t){o.removeAll(e),o.addMany(e,t.payload.dataFiles)},delete:function(e,t){o.removeOne(e,t.payload.id)},deleteRecycle:function(e,t){}},l=o.getInitialState(),r=(0,i.oM)({name:"datafile",initialState:l,reducers:a,extraReducers(e){e.addMatcher(i.Iv,((e,t)=>{throw t.error}))}}),s=r,d=r.actions;o.getSelectors((e=>e.dataFile))},92922:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,wl:()=>d});var i=n(49163);const o=(0,i.HF)({});const a={list:function(e,t){o.setAll(e,t.payload)},install:function(e,t){o.addOne(e,t.payload)},uninstall:function(e,t){o.removeOne(e,t.payload.id)},update:function(e,t){o.updateOne(e,{id:t.payload.id,changes:t.payload})}},l=o.getInitialState({ids:[],entities:{}}),r=(0,i.oM)({name:"extension",initialState:l,reducers:a}),s=r,d=(r.actions,o.getSelectors((e=>e.extension)))},54864:(e,t,n)=>{"use strict";n.d(t,{Gv:()=>c,P8:()=>u,Ug:()=>r,wo:()=>s,wu:()=>d});var i=n(98868),o=n(4511),a=n(40365);const{createAsyncAction:l}=(0,a.w)({typePrefix:"icons"}),r=l("add",(async e=>{const{projectID:t,fileID:n}=e;return await i.Z.addIcon(t,{fileID:n})})),s=l("update",(async e=>{const{projectID:t,icons:n}=e;return await i.Z.updateIcon(t,{icons:n})})),d=l("list",(async e=>{const{projectID:t}=e;return await i.Z.getIcons(t)})),c=l("getSharedIcons",(async e=>{const{sharingParams:t}=e;return await i.Z.getSharedIcons(t)})),u=l("uploadIcon",(async e=>{const{file:t}=e;return(await o.Z.uploadFile("avatar",t,e.uploadChange)).fileID}))},27052:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,EM:()=>d});var i=n(49163);const o=(0,i.HF)({});const a={list:function(e,t){o.setAll(e,t.payload)},create:function(e,t){o.addOne(e,t.payload)},remove:function(e,t){o.removeOne(e,t.payload)}},l=o.getInitialState({ids:[],entities:{}}),r=(0,i.oM)({name:"icons",initialState:l,reducers:a,extraReducers(e){}}),s=r,d=(r.actions,o.getSelectors((e=>e.icons)))},41711:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>u,ZP:()=>c,qg:()=>p});var i=n(49163),o=n(56717),a=n.n(o);const l=(0,i.HF)({sortComparer:(e,t)=>e.order-t.order});const r={add:function(e,t){const{id:n,tableNodeID:i,layerID:o}=t.payload;if(!i||!o)return;let a=e.entities[n];e.order+=.01,a?(a.order=e.order,l.updateOne(e,{id:n,changes:a})):(a=t.payload,a.order||(a.order=e.order),l.addOne(e,a))},removeByLayerID:function(e,t){const n=e.entities,i=[];a()(n).forEach((e=>{e&&t.payload.ids.indexOf(e.layerID)>-1&&i.push(e.id)})),l.removeMany(e,i)},updatePoi:function(e,t){const{id:n}=t.payload;l.updateOne(e,{id:n,changes:t.payload})},removeAll:function(e){l.removeAll(e)},setInfoWindowInvisible:function(e,t){!0===t.payload&&l.removeAll(e),e.disableInfoWindow=t.payload}},s=l.getInitialState({order:0,disableInfoWindow:!1}),d=(0,i.oM)({name:"infoWindows",initialState:s,reducers:{remove:l.removeOne,clear:l.removeAll,...r}}),c=d,u=d.actions,p=l.getSelectors((e=>e.infoWindow))},66168:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>C,X5:()=>y,IK:()=>j,JZ:()=>k,Fz:()=>T,Ab:()=>M,lZ:()=>w,Q$:()=>b,Vx:()=>x,pA:()=>I});var i=n(49163),o=n(84527),a=n.n(o),l=n(73187),r=n(74797),s=n(22963);const d=(0,s.Fs)({baseURL:"".concat(r.Z.baseApiURL,"/layernodes/")});class c extends s.tr{async create(e){if(!e.vtInfo){const{data:t}=await this.fetch.post("",e);return t.detail}const t=new Uint8Array(l.ZP.gzip(JSON.stringify(e))).buffer,{data:n}=await this.fetch.post("",t,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return n.detail}async move(e){const{data:t}=await this.fetch.patch("".concat(e.id,"/move/"),a()(e,["parentID","prevID","projectID"]));return t}async update(e){const{data:t}=await this.fetch.patch("/".concat(e.id,"/"),a()(e,["mapInfo","name","projectID","groupMode","infoWindowConfig"]));return t}async deleteNode(e){return await this.fetch.delete("/".concat(e.id,"/?projectID=").concat(e.projectID)),e.id}async getDetail(e){const{data:t}=await this.fetch.get("/".concat(e,"/"));return t}async getVtSignedUrl(e){const{data:t}=await this.fetch.get("/vt/".concat(e,"/"),{ignoreError:!0});return t.detail}async getSharedVtSignedUrl(e,t){const{data:n}=await this.fetch.get("/shared/vt/".concat(e,"/"),{params:{userToken:t},ignoreError:!0});return n.detail}async vtConvert(e,t,n){const i={projectID:t,vectorTileInfo:n};if(!n){const{data:t}=await this.fetch.post("/vt/".concat(e,"/convert/"),i);return t}const o=new Uint8Array(l.ZP.gzip(JSON.stringify(i))).buffer,{data:a}=await this.fetch.post("/vt/".concat(e,"/convert/"),o,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return a}async vtRecreate(e,t,n){const i={projectID:t,vectorTileInfo:n};if(!n){const{data:t}=await this.fetch.patch("/vt/".concat(e,"/"),i);return t}const o=new Uint8Array(l.ZP.gzip(JSON.stringify(i))).buffer,{data:a}=await this.fetch.patch("/vt/".concat(e,"/"),o,{headers:{"Content-Encoding":"gzip","Content-Type":"application/json"}});return a}async h3Recreate(e,t){const{data:n}=await this.fetch.patch("/h3/".concat(e,"/").concat(t,"/recreate/"));return n}async getVtCreatePercent(e){const{data:t}=await this.fetch.get("/vt/".concat(e.tableNodeID,"/").concat(e.id,"/percent/"));return t.detail}async createRegionAggregate(e){const{data:t}=await this.fetch.post("/region_aggregate/",e);return t}async getPublicLayerCategory(){const{data:e}=await this.fetch.get("/public/list/",{ignoreError:!0});return e.detail}async getPublicLayers(){const{data:e}=await this.fetch.get("/public/list/",{ignoreError:!0});return e.detail}async getPublicLayer(e){const{data:t}=await this.fetch.get("/public/layer/".concat(e,"/"),{ignoreError:!0});return t.detail}async publishPublicLayer(e,t){const{data:n}=await this.fetch.post("/public/layer/".concat(e,"/"),t);return n.detail}async updatePublicLayer(e,t){const{data:n}=await this.fetch.patch("/public/".concat(e,"/"),t);return n.detail}async usePublicLayer(e,t,n,i){const{data:o}=await this.fetch.post("/public/".concat(e,"/"),{name:n,parentID:i,projectID:t});return o.detail}async newLayerID(){const{data:e}=await this.fetch.get("/id/");return e.detail}}const u=new c(d);var p=n(40365),h=n(72494);const v="layerNode",{createAsyncAction:g}=(0,p.w)({typePrefix:v,syncWithWebSocket:!0}),f=(0,p.w)({typePrefix:v,syncWithWebSocket:!1}).createAsyncAction,m=(0,p.w)({typePrefix:v,syncWithWebSocket:!0,timeoutTime:h.KI}).createAsyncAction,y=(0,i.PH)("".concat(v,"/delete")),w=(0,i.PH)("".concat(v,"/preview")),b=(0,i.PH)("".concat(v,"/previewComputed")),C=(f("create",(async e=>await u.create(e))),f("create",(async e=>await u.create(e)))),x=(g("move",(async(e,t)=>await u.withRequestId(t.requestId).move(e))),g("update",(async(e,t)=>await u.withRequestId(t.requestId).update(e)))),I=f("update",(async e=>await u.update(e))),j=g("deleteNode",(async(e,t)=>await u.withRequestId(t.requestId).deleteNode(e))),M=(g("getDetail",(async(e,t)=>await u.withRequestId(t.requestId).getDetail(e))),f("getTileLayerCreatePercent",(async e=>await u.getVtCreatePercent(e))),f("tileLayerConvert",(async e=>await u.vtConvert(e.id,e.projectID,e.vtInfo))),f("tileLayerRecreate",(async e=>{var t;return"h3Tile"===(null===(t=e.mapInfo)||void 0===t?void 0:t.layerType)?await u.h3Recreate(e.projectID,e.id):await u.vtRecreate(e.id,e.projectID,e.vtInfo)})),f("getVtSignedUrl",(async e=>{const{id:t}=e;if(t)return await u.getVtSignedUrl(t)}))),k=f("getSharedVtSignedUrl",(async e=>{const{id:t,userToken:n}=e;if(t&&n)return await u.getSharedVtSignedUrl(t,n)})),T=f("getSignedUrlByLayers",(async(e,t)=>{let{dispatch:n,getState:i}=t;const{layers:o,userToken:a}=e,l=a?k:M,r=i();return await Promise.all(o.filter((e=>{var t;return!(null!==(t=r.layerNode.vtLayersParams[e.id])&&void 0!==t&&t.signedUrl)})).map((e=>n(l({id:e.id,userToken:a})))))}));m("createRegionAggregate",(async(e,t)=>0===(await u.withRequestId(t.requestId).createRegionAggregate(e)).code))},76592:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>y,ZP:()=>m});var i=n(49163),o=n(7070),a=n.n(o),l=n(88716),r=n.n(l),s=n(17481);const d=(0,i.HF)(),c=(0,i.HF)(),u=(0,i.HF)();function p(e,t){e.vtLayersParams[t.id]={...e.vtLayersParams[t.id],recreateAt:Date.now()}}const h={create:function(e,t){if(!t.payload.mapInfo)return;const n=(0,s.GC)(t.payload.id,t.payload.mapInfo,t.payload.name);d.setOne(e.creatingLayers,{...n,layerNode:t.payload})},update:function(e,t){},move:function(e,t){},refreshStaleLayer:function(e,t){},h3Recreate:function(e,t){const n=t.payload;null!==n&&void 0!==n&&n.mapInfo&&(d.updateOne(e.creatingLayers,{id:n.id,changes:{layerNode:n}}),p(e,n))},vtRecreate:function(e,t){const{layerNodes:n}=t.payload,i=a()(null===n||void 0===n?void 0:n.filter((e=>e.mapInfo)),(e=>({id:e.id,changes:{layerNode:e}})));r()(i)||(d.updateMany(e.creatingLayers,i),null===i||void 0===i||i.forEach((t=>{p(e,t.changes.layerNode)})))},updateSelectedKeys:function(e,t){e.selectedKeys=t.payload.keys},setCreatingLayer:function(e,t){const n=d.getSelectors().selectById(e.creatingLayers,t.payload.id);null!==n&&void 0!==n&&n.layerNode||d.setOne(e.creatingLayers,t.payload)},removeCreatingLayer:function(e,t){d.removeOne(e.creatingLayers,t.payload)},setTilePercent:function(e,t){c.setOne(e.tilePercents,t.payload)},removeTilePercent:function(e,t){const n=c.getSelectors().selectById(e.tilePercents,t.payload);n&&n.timeout&&clearTimeout(n.timeout),c.removeOne(e.tilePercents,t.payload)},setAggregateLayerData:function(e,t){u.setOne(e.aggregateLayers,t.payload)},vtSignedUrl:function(e,t){var n,i;const{id:o,url:a}=t.payload,l=e.vtLayersParams[o],r=null!==(n=null===l||void 0===l?void 0:l.signedUrl)&&void 0!==n?n:a,s=null!==(i=null===l||void 0===l?void 0:l.recreateAt)&&void 0!==i?i:Date.now();e.vtLayersParams[o]={signedUrl:r,recreateAt:s}},regionAggregate:function(e,t){},setLayerReadyState:function(e,t){var n;const{projectId:i,layerId:o,ready:a}=t.payload;e.layersReadyState=null!==(n=e.layersReadyState)&&void 0!==n?n:[];const l=e.layersReadyState.findIndex((e=>e.projectId===i&&e.layerId===o));-1===l?e.layersReadyState.push({projectId:i,layerId:o,ready:a}):e.layersReadyState[l].ready=a},setCreatingVtLayer:function(e,t){e.creatingVtLayer=t.payload}};var v=n(66168);const g={selectedKeys:[],creatingLayers:d.getInitialState(),tilePercents:c.getInitialState(),aggregateLayers:u.getInitialState(),vtLayersParams:{},layersReadyState:[]},f=(0,i.oM)({name:"layerNode",initialState:g,reducers:h,extraReducers(e){e.addCase(v.IK.rejected,((e,t)=>{throw t.error})).addCase(v.Vx.rejected,((e,t)=>{throw t.error})).addCase(v.Ab.fulfilled,((e,t)=>{const{id:n}=t.meta.arg;n&&t.payload&&h.vtSignedUrl(e,{type:"layerNode/vtSignedUrl",payload:{id:n,url:String(t.payload)}})})).addCase(v.JZ.fulfilled,((e,t)=>{const{id:n,userToken:i}=t.meta.arg;n&&i&&t.payload&&h.vtSignedUrl(e,{type:"layerNode/vtSignedUrl",payload:{id:n,url:String(t.payload)}})}))}}),m=f,y=f.actions;d.getSelectors((e=>e.layerNode.creatingLayers)),c.getSelectors((e=>e.layerNode.tilePercents))},65557:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>b,ZP:()=>w});var i=n(53926),o=n.n(i),a=n(49163),l=n(15288),r=n.n(l),s=n(36639),d=n(22138),c=n(27371),u=n(65147),p=n(82505),h=n(33324),v=n.n(h),g=n(15328);const f={updateEditor:function(e,t){Object.assign(e.editor,t.payload)},updateEditorSelectedFeatures:function(e,t){var n;const i=t.payload;if(null!==(n=e.editor.selectedFeatures)&&void 0!==n&&n.length&&"dissolve"===e.editor.editingMode)if(-1===e.editor.selectedFeatures.findIndex((e=>{var t,n;return(null===(t=e.properties)||void 0===t?void 0:t.id)===(null===(n=i.properties)||void 0===n?void 0:n.id)}))){e.editor.selectedFeatures.some((e=>(0,p.Z)((0,u.Z)(e,{precision:6}),(0,u.Z)(i,{precision:6}))))?e.editor.selectedFeatures.push(i):null!==g.gs&&void 0!==g.gs&&g.gs.$t&&c.ZP.info(g.gs.$t({id:"xlTjiO",defaultMessage:"Please select adjacent polygons to dissolve"}))}else e.editor.selectedFeatures=e.editor.selectedFeatures.filter((e=>{var t,n;return(null===(t=e.properties)||void 0===t?void 0:t.id)!==(null===(n=i.properties)||void 0===n?void 0:n.id)}));else{var o;if(null!==(o=e.editor.selectedFeatures)&&void 0!==o&&o.length)return;e.editor.selectedFeatures=[i]}},updateHiddenLayers:function(e,t){const{ids:n,hidden:i,projectId:a}=t.payload;e.hiddenLayerIds[a]||(e.hiddenLayerIds[a]=[]);const l=o().get(d.JT,{});l[a]=[...e.hiddenLayerIds[a]],n.forEach((e=>{const t=l[a].findIndex((t=>t===e));i?l[a].push(e):-1!==t&&l[a].splice(t,1)})),e.hiddenLayerIds[a]=v()([...l[a]]),o().set(d.JT,l)},updatePoiDetail:function(e,t){Object.assign(e.poiDetail,t.payload)},clearPoiDetail:function(e){Object.assign(e.poiDetail,{visible:!1,tableNodeId:void 0,rowId:void 0,id:void 0,labelFieldId:void 0,newCreated:!1})},updateMapFilters:function(e,t){const{id:n,type:i,filter:a,persistence:l=!0}=t.payload;if(!n)return;e.filters[n]?("layer"!==i||s.K.isEmpty(a)||(e.filters[n].layer=a),"legend"!==i||s.K.isEmpty(a)||(e.filters[n].legend=a),"arbitrary"!==i||s.K.isEmpty(a)||(e.filters[n].arbitrary=a)):e.filters[n]={[i]:a},l&&o().set(d.HW,r()(e.filters,(e=>({layer:e.layer}))))},removeMapFilters:function(e,t){const{id:n,type:i,persistence:a=!0}=t.payload;i?e.filters[n]&&delete e.filters[n][i]:delete e.filters[n],a&&o().set(d.HW,r()(e.filters,(e=>({layer:e.layer}))))},clearMapFilters:function(e,t){const{type:n,persistence:i=!0}=t.payload;for(const o in e.filters)delete e.filters[o][n];i&&o().set(d.HW,r()(e.filters,(e=>({layer:e.layer}))))},updateBaseMap:function(e,t){e.baseMap=t.payload},setIsInitTableNodesReady:function(e,t){e.isInitTableNodesReady=t.payload},toggleTimeline:function(e,t){e.timeline.enable=t.payload,e.timeline.isOpen=t.payload,t.payload||(e.timeline.layers=[])},toggleTimelineOpen:function(e,t){e.timeline.isOpen=t.payload},updateTimelineFilters:function(e,t){e.timeline.layers=t.payload},updateTimelineRange:function(e,t){e.timeline.range=t.payload},updateMapConfig:function(e,t){Object.assign(e.mapConfig,{...e.mapConfig,...t.payload})},updateMapConfigStaging:function(e,t){e.mapConfigStaging?Object.assign(e.mapConfigStaging,{...e.mapConfigStaging,...t.payload}):e.mapConfigStaging={...t.payload}},clearMapConfigStaging:function(e){e.mapConfigStaging=null},updateActiveLabels:function(e,t){e.activeLabels=t.payload,o().set(d.iu,t.payload)},updateAnnotationStatus:function(e,t){Object.assign(e.annotationStatus,t.payload),o().set(d.Af,e.annotationStatus.visible)},updateExtensionPanelVisible:function(e,t){e.extensionPanelVisible=t.payload},updateSpatialAnalysisVisible:function(e,t){e.spatialAnalysis.isOpen=t.payload,t.payload||(e.spatialAnalysis.isLoading=!1,e.spatialAnalysis.config=void 0)},updateLayerSettingVisible:function(e,t){e.layerSettingVisible=t.payload},updateSpatialAnalysisConfig:function(e,t){e.spatialAnalysis.config&&t.payload?Object.assign(e.spatialAnalysis.config,t.payload):e.spatialAnalysis.config=t.payload},setSpatialAnalysisConfig:function(e,t){e.spatialAnalysis.config=t.payload},setSpatialAnalysisLoading:function(e,t){e.spatialAnalysis.isLoading=t.payload},setSpatialAnalysisAnalyzing:function(e,t){e.spatialAnalysis.isAnalyzing=t.payload},setSpatialAnalysisProgress:function(e,t){e.spatialAnalysis.progress=t.payload},setSpatialAnalysisGridCount:function(e,t){e.spatialAnalysis.gridCount=t.payload},setSpatialAnalysisVtData:function(e,t){e.spatialAnalysis.vtData=t.payload},setSpatialAnalysisOverlayVtData:function(e,t){e.spatialAnalysis.overlayVtData=t.payload},updateTripsLayerTimeline:function(e,t){e.tripsLayerTimeLine={...e.tripsLayerTimeLine,...t.payload}},setTheme:function(e,t){e.theme=t.payload},updateStatVisible:function(e,t){e.stat.isOpen=t.payload,o().set(d.V2,t.payload)},updateStatFilterType:function(e,t){e.stat.center=void 0,e.stat.filterType=t.payload},updateStatCoordinates:function(e,t){e.stat.coordinates=t.payload},updateStatCustomCenter:function(e,t){e.stat.center=t.payload,e.stat.filterType="custom"},updateStatPreview:function(e,t){e.stat.preview=t.payload},setProximityAnalysisProgress:function(e,t){e.stat.progress=t.payload}};const m={editor:{enable:!1,isNew:!0},filters:r()(o().get(d.HW,{}),(function(e){return Array.isArray(e)?{layer:s.K.and(...e.filter((e=>e&&"layer"===e.type)).map((e=>({id:e.id,op:e.relation,field:e.field,value:e.value}))))}:e})),hiddenLayerIds:o().get(d.JT,{}),poiDetail:{visible:!1},baseMap:null,isInitTableNodesReady:!1,timeline:{enable:!1,layers:[]},tripsLayerTimeLine:{active:!1,playing:!1,speed:1e4,multiplier:1},mapConfig:{},activeLabels:o().get(d.iu),annotationStatus:{selected:!1,visible:o().get(d.Af,!0)},extensionPanelVisible:!1,spatialAnalysis:{isOpen:!1,isLoading:!1,isAnalyzing:!1,gridCount:0,progress:0},stat:{isOpen:o().get(d.V2,!1),progress:0},layerSettingVisible:!1},y=(0,a.oM)({name:"map",initialState:m,reducers:f}),w=y,b=y.actions},91017:(e,t,n)=>{"use strict";n.d(t,{TH:()=>c,SF:()=>p,zJ:()=>u});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/notifications/")});class l extends o.tr{async get(e,t){const{data:n}=await this.fetch.get("",{params:{page:e,mode:t}});return n}async markAsRead(e){const{data:t}=await this.fetch.post("/".concat(e,"/"));return t}}const r=new l(a);var s=n(40365);const{createAsyncAction:d}=(0,s.w)({typePrefix:"notification"}),c=d("get",(async e=>{const{page:t,mode:n}=e;return await r.get(t,n)})),u=d("markAsRead",(async e=>await r.markAsRead(e))),p=d("markAllAsRead",(async()=>await r.markAsRead(0)))},20535:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>E,ZP:()=>T,tu:()=>P});var i=n(49163),o=n(18878),a=n.n(o),l=n(2542),r=n.n(l),s=(n(55349),n(13682)),d=n.n(s),c=n(17646),u=n.n(c),p=n(75348),h=n.n(p),v=n(20491),g=n(15328);function f(e,t){var n;let i=e.content;var o;d()(i,"notify.")&&(i=null!==(o=t.$t({id:i,defaultMessage:[]}))&&void 0!==o?o:"");const a={};return u()(null===(n=e.payload)||void 0===n?void 0:n.params,((e,n)=>{a[n]=e;try{h()(e,".")>0&&(a[n]=t.$t({id:e,defaultMessage:[]}))}catch(i){}})),r()(i)({...e.payload,...a,role:(0,v.vA)(e.payload.role,t),roleRows:e.payload.roleRows?t.$t({id:"zp4Cgx",defaultMessage:"Specify rows"}):t.$t({id:"Wa/fqf",defaultMessage:"All rows"})})}function m(e){var t;"Notification"in window&&g.gs&&("granted"===Notification.permission&&new Notification(null!==(t=g.gs.$t({id:"NAidKb",defaultMessage:"Notifications"}))&&void 0!==t?t:"",{body:f(e,g.gs)}))}const y=(0,i.HF)(),w=(0,i.HF)(),b=(0,i.HF)(),C=(0,i.HF)();const x={arrive:function(e,t){const{detail:n,unreadCount:i,popup:o}=t.payload;e.unreadCount=i,o&&(e.newestNotification=n,m(n))},update:function(e,t){var n;const{detail:i,unreadCount:o,popup:a}=t.payload;e.unreadCount=o,y.setOne(e.updatedNotifications,i),a&&(e.newestNotification=i,m(i));const{progressID:l,progressRate:r}=i.payload;l&&("processing"===i.level&&r?w.setOne(e.notificationProgress,{id:l,rate:r}):"processing"===i.level||r||w.removeOne(e.notificationProgress,l),a&&"url"===i.level&&i.detail&&(null===(n=P.selectById(e,l))||void 0===n?void 0:n.id)===l&&(C.removeOne(e.downloads,l),window.open("/download/".concat(encodeURIComponent(btoa(i.detail))),"_blank")))},reset:function(e){e.newestNotification=null},resetUpdated:function(e,t){y.removeOne(e.updatedNotifications,t.payload)},removeProgressFinished:function(e,t){b.removeOne(e.progressFinished,t.payload)},setDownloading:function(e,t){C.setOne(e.downloads,{id:t.payload})}};var I=n(81837),j=n(91017),M=n(1714);const k=(0,i.oM)({name:"notification",initialState:{unreadCount:0,newestNotification:null,updatedNotifications:{ids:[],entities:{}},notificationProgress:{ids:[],entities:{}},progressFinished:{ids:[],entities:{}},downloads:{ids:[],entities:{}}},reducers:x,extraReducers(e){e.addCase(I.F9.fulfilled,((e,t)=>{const{detail:n}=t.payload;a()(n.unreadNotificationsCount)&&(e.unreadCount=n.unreadNotificationsCount)})),e.addCase(j.zJ.fulfilled,((e,t)=>{const{detail:n}=t.payload;e.unreadCount=n.unreadCount})).addCase(j.SF.fulfilled,((e,t)=>{const{detail:n}=t.payload;e.unreadCount=n.unreadCount})).addCase(j.TH.fulfilled,((e,t)=>{const{extra:n}=t.payload;e.unreadCount=n.unreadCount})).addCase(M.Nw.bigtableExport,((e,t)=>{b.setOne(e.progressFinished,{id:t.payload,rate:0})}))}}),T=k,E=k.actions,P=(y.getSelectors((e=>e.notification.updatedNotifications)),w.getSelectors((e=>e.notification.notificationProgress)),w.getSelectors((e=>e.notification.progressFinished)),C.getSelectors((e=>e.downloads)))},96576:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,Z:()=>l});var i=n(49163);const o={create:function(e,t){},invited:function(e,t){},update:function(e,t){},delete:function(e,t){}},a=(0,i.oM)({name:"org",initialState:{},reducers:o,extraReducers(e){e.addMatcher(i.Iv,((e,t)=>{throw t.error}))}}),l=a,r=a.actions},42538:(e,t,n)=>{"use strict";n.d(t,{$L:()=>h,th:()=>f,mr:()=>m,NV:()=>v,SQ:()=>g,Zw:()=>y,pJ:()=>w,hW:()=>b});var i=n(74797),o=n(22963);const a=(0,o.Fs)({baseURL:"".concat(i.Z.baseApiURL,"/")});class l extends o.tr{async getInvitations(e,t){const{data:n}=await this.fetch.get("".concat(t,"/").concat(e,"/invitations/"));return n.detail}async inviteMember(e,t,n){const{data:i}=await this.fetch.post("".concat(t,"s/").concat(e,"/members/invitations/"),{members:n});return i}async deleteInvitation(e,t,n){const{data:i}=await this.fetch.delete("".concat(t,"/").concat(e,"/invitations/").concat(n,"/"));return i}async resendInvitation(e,t,n){const{data:i}=await this.fetch.post("".concat(t,"/").concat(e,"/invitations/").concat(n,"/resend/"));return i}}const r=new l(a);var s=n(98868),d=n(40365);const c="project",{createAsyncAction:u}=(0,d.w)({typePrefix:c}),p=(0,d.w)({typePrefix:c,syncWithWebSocket:!0}).createAsyncAction,h=p("create",(async(e,t)=>await s.Z.withRequestId(t.requestId).create(e))),v=p("update",(async(e,t)=>{const{projectId:n,icon:i,name:o,desc:a,timezone:l,defaultView:r,mapConfig:d,roleInherited:c,themeColor:u,weekStartOnMonday:p}=e;return await s.Z.withRequestId(t.requestId).update(n,i,o,u,a,l,r,c,d,p)})),g=u("update",(async e=>{const{projectId:t,icon:n,name:i,desc:o,timezone:a,defaultView:l,mapConfig:r,roleInherited:d,themeColor:c}=e;return await s.Z.update(t,n,i,c,o,a,l,d,r)})),f=(u("getLayerNodes",(async e=>await s.Z.getLayerNodes(e))),u("getLayerTables",(async e=>await s.Z.getLayerTables(e))),u("delete",(async e=>await s.Z.delete(e)))),m=u("duplicate",(async e=>{const{projectId:t,name:n}=e;return await s.Z.duplicate(t,n)})),y=(u("deleteRecycle",(async e=>await s.Z.deleteRecycle(e))),u("recover",(async e=>await s.Z.recover(e))),p("transfer",(async(e,t)=>{const{projectId:n,toOrgID:i,toUserID:o}=e;return await s.Z.withRequestId(t.requestId).transfer(n,i,o)})),u("inviteMembers",(async e=>{const{projectId:t,members:n}=e;return await s.Z.invite(t,n)})),u("getMembers",(async e=>await s.Z.getMembers(e)))),w=(u("updateMember",(async e=>{const{projectId:t,members:n}=e;return(await s.Z.updateMember(t,n)).detail})),u("deleteMember",(async e=>{const{projectId:t,memberId:n}=e;return(await s.Z.deleteMember(t,n)).detail})),u("deleteInvitation",(async e=>{const{id:t,invitationID:n}=e;return await r.deleteInvitation(t,"project",n)})),u("resendInvitation",(async e=>{const{id:t,invitationID:n}=e;return await r.resendInvitation(t,"project",n)})),u("getSharedLayerNodes",(async e=>{const{sharingParams:t}=e;return await s.Z.getSharedLayerNodes(t)})),u("getSharedAnnotations",(async e=>{const{sharingParams:t}=e;return await s.Z.getSharedAnnotations(t)}))),b=u("getSharedBasempas",(async e=>{const{sharingParams:t}=e;return await s.Z.getSharedBasemaps(t)}));p("shareProject",(async(e,t)=>{const{type:n,id:i,toggle:o,togglePassword:a,toggleExport:l,resetToken:r,resetPassword:d}=e;return await s.Z.withRequestId(t.requestId).shareProject(n,i,o,a,l,r,d)})),u("updateLastOpenTime",(async e=>{const{projectId:t}=e;return s.Z.updateLastOpenTime(t)})),u("updateProjectFavorite",(async e=>{const{projectID:t,isFavorite:n}=e;return s.Z.updateFavorite(t,n)}))},58590:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>P,ZP:()=>E,Hx:()=>O});var i=n(49163),o=n(53926),a=n.n(o),l=n(18765),r=n.n(l),s=n(17646),d=n.n(s),c=n(88716),u=n.n(c),p=n(63679),h=n.n(p),v=n(76592),g=n(66168),f=n(22138),m=n(95436),y=n(1714),w=n(46331);const b=(0,i.HF)({sortComparer:(e,t)=>-e.createTime.localeCompare(t.createTime)});var C=n(70093);const x=(e,t,n)=>{t.forEach((t=>{"map"===t.type&&(e.zIndexMap[t.id]=n.count--),t.children&&x(e,t.children,n)}))};function I(e,t){const{projectID:n,updatedFields:i}=t.payload;if(n&&i&&b.updateOne(e,{id:n,changes:i}),i.quota){if(i.quota.id&&e.currentProjectId&&i.quota.id!==e.currentProjectId)return;e.currentProjectQuota=i.quota}}const j={create:function(e,t){b.addOne(e,t.payload)},recover:function(e,t){const{project:n}=t.payload;b.addOne(e,n)},update:I,setProject:function(e,t){b.getSelectors().selectById(e,t.payload.id)?b.updateOne(e,{id:t.payload.id,changes:t.payload}):b.addOne(e,t.payload),t.payload.quota&&(e.currentProjectQuota=t.payload.quota)},setProjects:function(e,t){b.removeAll(e),b.addMany(e,t.payload.projects),e.currentWorkspace=t.payload.workspace},duplicate:function(e){e.isDuplicating=!1},setMembers:function(e,t){e.members=t.payload},setLayerNodes:function(e,t){e.layerNodes[t.payload.id]=t.payload.layerNodes},updateZIndexMap:function(e,t){const{payload:n}=t;let i=0;var o;e.layerNodes[n.projectID]&&(null===(o=e.layerNodes[n.projectID])||void 0===o||o.forEach((e=>{"map"===e.type&&i++})),x(e,n.treeData,{count:i}))},delete:function(e,t){b.removeOne(e,t.payload.id)},deleteRecycle:function(e,t){},updateCoordinateEditor:function(e,t){t.payload.config?(a().set(f.GD,{...e.coordinateEditor.config,...t.payload.config}),Object.assign(e.coordinateEditor.config,t.payload.config)):Object.assign(e.coordinateEditor,t.payload)},updateMultiLineTextEditor:function(e,t){Object.assign(e.multiLineTextEditor,t.payload)},updateTableSiderVisible:function(e,t){e.currentProjectId&&C.t.set(e.currentProjectId,"table:sider",t.payload),e.tableSiderVisible=t.payload},updateMapSiderVisible:function(e,t){e.mapSiderVisible=t.payload,e.currentProjectId&&C.t.set(e.currentProjectId,"map:sider",t.payload)},updateLayerSettingsVisible:function(e,t){e.layerSettingsVisible=t.payload},updateCurrentProjectId:function(e,t){var n,i;e.currentProjectId=t.payload,t.payload&&(e.mapSiderVisible=null===(n=C.t.get(t.payload,"map:sider"))||void 0===n||n,e.tableSiderVisible=null===(i=C.t.get(t.payload,"table:sider"))||void 0===i||i)},updateCurrentTableNodeId:function(e,t){e.currentTableNodeId=t.payload},userInfoUpdate:function(e,t){I(e,t)},updateDualViews:function(e,t){var n;e.currentProjectId&&(e.dualViews={...e.dualViews,[e.currentProjectId]:{...null===(n=e.dualViews)||void 0===n?void 0:n[e.currentProjectId],...t.payload}},a().set(f.vS,e.dualViews))},setDrillDownState:function(e,t){e.drillDown=t.payload},updateLayerNodeForProject:function(e,t){const{projectId:n,layerNode:i}=t.payload,o=e.layerNodes[n];e.layerNodes[n]=null===o||void 0===o?void 0:o.map((e=>e.id===i.id?{...e,...i,stale:!0,version:Date.now()}:e))}};var M=n(42538);const k=b.getInitialState({currentWorkspace:void 0,layerNodes:{},previewMapInfos:{},computedPreviewMapInfos:{},zIndexMap:{},coordinateEditor:{visible:!1,config:a().get(f.GD,m.BE)},multiLineTextEditor:{visible:!1},mapSiderVisible:!0,layerSettingsVisible:!1,tableSiderVisible:!0,currentProjectId:null,members:void 0,customizeBaseMap:[],isDuplicating:!1,dualViews:a().get(f.vS)}),T=(0,i.oM)({name:"project",initialState:k,reducers:j,extraReducers(e){e.addCase(M.$L.rejected,((e,t)=>{throw t.error})).addCase(M.NV.rejected,((e,t)=>{throw t.error})).addCase(M.th.rejected,((e,t)=>{throw t.error})).addCase(M.mr.pending,((e,t)=>{e.isDuplicating=!0})),e.addCase(y.Nw.create,((e,t)=>{const{payload:n}=t,i=e.entities[n.projectID];if(!i)return e;i.tableNodes?i.tableNodes.push(n):i.tableNodes=[n]})).addCase(y.Nw.update,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.entities[i.projectID])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i.id));o&&Object.assign(o,i.updatedFields)})).addCase(y.Nw.move,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.entities[i.projectID])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i.id));o&&Object.assign(o,{order:i.order,parentID:i.parentID})})).addCase(y.Nw.delete,((e,t)=>{const{payload:n}=t,i=e.entities[n.projectID],o=e.layerNodes[n.projectID];i&&n.recycleTableNode&&(i.recycleTableNodes=[n.recycleTableNode,...i.recycleTableNodes||[]]),d()(n.ids,(e=>{const t=h()(null===i||void 0===i?void 0:i.tableNodes,(t=>t.id===e));var n;-1!==t&&(null===i||void 0===i||null===(n=i.tableNodes)||void 0===n||n.splice(t,1))})),d()(n.layerNodeIDs,(e=>{const t=h()(o,(t=>t.id===e));-1!==t&&o.splice(t,1)}))})).addCase(y.Nw.deleteRecycle,((e,t)=>{const{payload:n}=t,i=e.entities[n.projectID];var o;i&&Object.assign(i,{...i,recycleTableNodes:null===i||void 0===i||null===(o=i.recycleTableNodes)||void 0===o?void 0:o.filter((e=>e.id!==n.tableNodeID))})})).addCase(y.Nw.recoverRecycle,((e,t)=>{var n;const{payload:i}=t,o=e.entities[i.projectID];if(!o)return e;o.tableNodes?o.tableNodes=[...o.tableNodes,...i.tableNodes]:o.tableNodes=i.tableNodes;const a=e.layerNodes[i.projectID];u()(a)?e.layerNodes[i.projectID]=i.layerNodes:d()(i.layerNodes,(e=>{a.push(e)})),Object.assign(o,{...o,recycleTableNodes:null===o||void 0===o||null===(n=o.recycleTableNodes)||void 0===n?void 0:n.filter((e=>e.id!==i.recycleID))})})).addCase(y.Nw.syncStart,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.entities[i.projectID])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i.id));o&&Object.assign(o,{syncing:!0})})).addCase(y.Nw.sync,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.entities[i.projectID])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i.id));null!==o&&void 0!==o&&o.syncing&&Object.assign(o,{syncing:!1})})).addCase(y.Nw.synced,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.entities[i.projectID])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i.id));null!==o&&void 0!==o&&o.syncing&&Object.assign(o,{syncing:!1})})),e.addCase(v.Nw.create,((e,t)=>{const n=t.payload,i=e.layerNodes[n.projectID]||[];e.layerNodes[n.projectID]=[...i,n]})).addCase(v.Nw.refreshStaleLayer,((e,t)=>{var n;const i=t.payload.layerId;if(!i)return;const o=null===(n=e.layerNodes[t.payload.projectId])||void 0===n?void 0:n.find((e=>e.id===i));o&&o.stale&&(o.stale=!1,delete e.previewMapInfos[i],delete e.computedPreviewMapInfos[i])})).addCase(v.Nw.update,((e,t)=>{var n;const{projectID:i,layerNodeID:o,updatedFields:a}=t.payload;i&&o&&(e.layerNodes[i]=null===(n=e.layerNodes[i])||void 0===n?void 0:n.map((e=>e.id===o?{...e,...a,stale:!0,version:Date.now()}:e)))})).addCase(v.Nw.vtRecreate,((e,t)=>{var n;const{projectID:i,layerNodes:o}=t.payload;null!==o&&void 0!==o&&o.length&&(e.layerNodes[i]=null===(n=e.layerNodes[i])||void 0===n?void 0:n.map((e=>{const t=null===o||void 0===o?void 0:o.find((t=>t.id===e.id));return null!==t&&void 0!==t&&t.mapInfo?{...e,mapInfo:t.mapInfo,vtInfo:t.vtInfo,stale:!0,version:Date.now()}:e})))})).addCase(v.Nw.h3Recreate,((e,t)=>{var n;const{id:i,projectID:o,vtInfo:a}=t.payload,l=null===(n=e.layerNodes[o])||void 0===n?void 0:n.find((e=>e.id===i));l&&(Object.assign(l,{vtInfo:a}),e.layerNodes={...e.layerNodes})})).addCase(v.Nw.move,((e,t)=>{var n;const{payload:i}=t,o=null===(n=e.layerNodes[i.projectID])||void 0===n?void 0:n.find((e=>e.id===i.id));o&&Object.assign(o,{order:i.order,parentID:i.parentID}),e.layerNodes={...e.layerNodes}})).addCase(g.X5,((e,t)=>{const{payload:n}=t,i=n.ids;e.layerNodes[n.projectID]=r()(e.layerNodes[n.projectID],(e=>i.indexOf(e.id)<=-1))})).addCase(g.lZ,((e,t)=>{const n=t.payload;n.mapInfo?e.previewMapInfos={[n.id]:n.mapInfo}:(delete e.previewMapInfos[n.id],delete e.computedPreviewMapInfos[n.id])})).addCase(g.Q$,((e,t)=>{const n=t.payload;n.id&&n.mapInfo&&(e.computedPreviewMapInfos={[n.id]:n.mapInfo})})),e.addCase(M.Zw.fulfilled,((e,t)=>{e.members=t.payload})).addCase(M.Zw.rejected,((e,t)=>{e.members=void 0})),e.addCase(w.ut,((e,t)=>{e.customizeBaseMap=t.payload})).addCase(w.ip,((e,t)=>{e.customizeBaseMap=[...e.customizeBaseMap,t.payload]})).addCase(w.P8,((e,t)=>{e.customizeBaseMap=r()(e.customizeBaseMap,(e=>e.id!==t.payload.id))})).addCase(w.$1,((e,t)=>{e.customizeBaseMap=e.customizeBaseMap.map((e=>e.id===t.payload.id?{...e,...t.payload.updatedFields}:e))}))}}),E=T,P=T.actions,O=b.getSelectors((e=>e.project))},68885:(e,t,n)=>{"use strict";n.d(t,{JD:()=>ce,wy:()=>O.wy,v:()=>S.v,ZG:()=>S.ZG,r8:()=>R,OW:()=>ue,Sq:()=>be,ih:()=>O.ih,M5:()=>S.M5,Ed:()=>$,AB:()=>de,o0:()=>Me,iX:()=>Ie,aL:()=>je,Yn:()=>ee,Zl:()=>K,ro:()=>te,ZL:()=>Q,yf:()=>X,FH:()=>ne,ZN:()=>Z,mc:()=>S.mc,V6:()=>U,Yg:()=>O.Yg,W0:()=>ge,eT:()=>O.eT,rD:()=>S.rD,ZJ:()=>Ce,r7:()=>O.r7,IK:()=>S.IK,x6:()=>S.x6,xf:()=>G,Lu:()=>O.Lu,V2:()=>me,LU:()=>ae,be:()=>O.be,Ic:()=>B,qp:()=>ke,QR:()=>O.QR,vD:()=>S.vD,UQ:()=>xe,E:()=>O.E,D9:()=>S.D9,pt:()=>S.pt,Ps:()=>q,O7:()=>O.O7,fV:()=>fe,yG:()=>le,KV:()=>O.mZ,e7:()=>V,Y5:()=>he,e:()=>pe,I:()=>oe,Gw:()=>O.Gw,Cv:()=>O.Cv,tu:()=>H,xQ:()=>z,NK:()=>re,Uk:()=>O.hS});var i=n(43179),o=n.n(i),a=n(7070),l=n.n(a),r=n(15972),s=n.n(r),d=n(17646),c=n.n(d),u=n(88716),p=n.n(u),h=n(37756),v=n.n(h),g=n(74110),f=n(72494),m=n(6686),y=n(22963),w=n(74797);const b=(0,y.Fs)({baseURL:"".concat(w.Z.baseApiURL,"/inference/"),timeout:f.KI});class C extends y.tr{async convertColumns(e){const{data:t}=await this.fetch.post("columns/convert/",e);return t}async inferenceData(e){const{data:t}=await this.fetch.post("inference/",e);return t}}const x=new C(b),I=(0,y.Fs)({baseURL:"".concat(w.Z.baseApiURL,"/dataenrichment/")});class j extends y.tr{async list(){const{data:e}=await this.fetch.get("/");return e.detail}}const M=new j(I);var k=n(4511),T=n(3207),E=n(40365),P=n(1714),O=n(41012),S=n(80778);const _="tableNode",{createAsyncAction:N,createUndoRedoActions:D}=(0,E.w)({typePrefix:_,syncWithWebSocket:!0}),L=(0,E.w)({typePrefix:_,syncWithWebSocket:!0,timeoutTime:f.KI}).createAsyncAction,A=(0,E.w)({typePrefix:_,syncWithWebSocket:!1}).createAsyncAction,R=N("create",(async(e,t)=>await m.ZP.withRequestId(t.requestId).create(e))),Z=(A("inferenceTableNodeFile",(async e=>{const{sheetsOptions:t,name:n,type:i,url:o}=e,{detail:a}=await x.inferenceData({sheetsOptions:t,name:n,type:i,url:o});return a})),L("importTableNodeFile",(async(e,t)=>{const{sheetsOptions:n,name:i,projectID:o,sheets:a,type:l,url:r,importID:s,createLayer:d}=e;return await m.ZP.withRequestId(t.requestId).importData({importID:s,sheetsOptions:n,createLayer:d,name:i,projectID:o,sheets:a,type:l,url:r})}))),F=(L("appendTableNode",(async(e,t)=>{const{sheetsOptions:n,tableNodeID:i,columns:o,type:a,url:l,importID:r,mergeStrategy:s,indexColumnID:d}=e;return await m.ZP.withRequestId(t.requestId).appendData({sheetOptions:p()(n)?{firstRowAsHeader:!0}:n[0],tableNodeID:i,importID:r,columns:o,type:a,url:l,mergeStrategy:s,indexColumnID:d})})),L("geocodingColumn",(async(e,t)=>await m.ZP.withRequestId(t.requestId).geocodingColumn(e))),L("regionBoundaryColumn",(async(e,t)=>await m.ZP.withRequestId(t.requestId).regionBoundaryColumn(e))),D("updateName",(async(e,t)=>{const{id:n,name:i,projectID:o}=e;return await m.ZP.withRequestId(t.requestId).update(n,{name:i,projectID:o})}))()),z=F.action,B=F.redoAction,V=F.undoAction,H=N("update",(async(e,t)=>{const{id:n,tableNode:i}=e;return await m.ZP.withRequestId(t.requestId).update(n,i)})),W=D("move",(async(e,t)=>{const{id:n,moveInfo:i}=e;return await m.ZP.withRequestId(t.requestId).move(n,i)}))(),U=W.action,G=W.redoAction,q=W.undoAction,$=(N("deleteRecycle",(async(e,t)=>await m.ZP.withRequestId(t.requestId).deleteRecycle(e))),N("recoverRecycle",(async(e,t)=>await m.ZP.withRequestId(t.requestId).recover(e))),N("deleteNode",(async(e,t)=>await m.ZP.withRequestId(t.requestId).deleteNode(e)))),J=(L("syncTableNode",(async(e,t)=>{let{dispatch:n,requestId:i}=t;await n(P.Nw.syncStart(e));const o=await m.ZP.withRequestId(i).sync(e.id,e.sharePassword);if(o.needPassword)throw new Error(m.IK+":"+o.shareToken);return o})),(e,t)=>{const n=t().tableNode.entities[e],i=!(null===n||void 0===n||!n.lastRetrievedAt)&&o()().isBefore(o()(null===n||void 0===n?void 0:n.lastRetrievedAt).add(1,"day"));if(n&&i&&!n.more)return!1}),Q=A("getDetail",(async(e,t)=>{var n,i;const{id:o,viewId:a,shareParams:l,userToken:r,projectId:s,withData:d}=e,c=t.getState(),u=c.tableNode.entities[o];if(c.tableNode.fetchingTableNodeIds.includes(o))return;t.dispatch(P.Nw.updateFetchingTableNodeIds({id:o,isFetching:!0}));const p=await Y({projectId:s,id:o,viewId:a,shareParams:l,userToken:r,lastSegmentRowID:null!==(n=null===u||void 0===u?void 0:u.lastRowID)&&void 0!==n?n:null===(i=v()(null===u||void 0===u?void 0:u.rows))||void 0===i?void 0:i.id},t.dispatch);return d?t.getState().tableNode.entities[o]:p}),{condition:(e,t)=>{let{getState:n}=t;const{id:i}=e;return J(i,n)}}),K=A("getTableNodeBigTableDetail",(async(e,t)=>{var n;const i=null!==(n=e.shareParams)&&void 0!==n&&n.token?ee:X;await t.dispatch(i(e))}),{condition:(e,t)=>{let{getState:n}=t;const{id:i}=e;return J(i,n)}});async function Y(e,t){var n,i,o;const a=null!==(n=e.shareParams)&&void 0!==n&&n.token?ee:X,l=(await t(a(e))).payload,r=null!==(i=null===l||void 0===l?void 0:l.lastRowID)&&void 0!==i?i:null===(o=v()(l.rows))||void 0===o?void 0:o.id;if(l.more&&r&&l.type!==g.e.bigTable){const n={...e,lastSegmentRowID:r};await Y(n,t)}}const X=A("getDetailPartial",(async(e,t)=>{var n;const{id:i,viewId:o,lastSegmentRowID:a,projectId:l}=e;return(null===(n=t.getState().project.entities[l])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i)))?await m.ZP.withRequestId(t.requestId).getPartial(i,o,a):{}})),ee=A("getSharedTableNodePartial",(async(e,t)=>{var n;const{id:i,lastSegmentRowID:o,shareParams:a,userToken:l,projectId:r}=e,s=null===(n=t.getState().project.entities[r])||void 0===n||null===(n=n.tableNodes)||void 0===n?void 0:n.find((e=>e.id===i));return null!==a&&void 0!==a&&a.type&&null!==a&&void 0!==a&&a.token&&l&&s?await m.ZP.withRequestId(t.requestId).getSharedPartial({type:a.type,token:a.token},i,l,o):{}})),te=A("getTableNodeDetailByIds",(async(e,t)=>{let{dispatch:n}=t;const{tableNodeIds:i,shareParams:o,projectId:a,userToken:r}=e;return await Promise.all(l()(i,(e=>n(Q({projectId:a,id:e,shareParams:o,userToken:r})))))})),ne=A("getTableNodeDetailByIds",(async(e,t)=>{let{dispatch:n}=t;const{tableViewIds:i,shareParams:o,userToken:a}=e;return await Promise.all(l()(i,(e=>{let{id:t,viewId:i}=e;return n(de({id:t,viewId:i,type:null===o||void 0===o?void 0:o.type,token:null===o||void 0===o?void 0:o.token,userToken:a}))})))})),ie=D("updateCells",(async(e,t)=>{const{id:n,rowId:i,cells:o}=e;return await m.ZP.withRequestId(t.requestId).patchCell(n,i,o)}))(),oe=ie.action,ae=ie.redoAction,le=ie.undoAction,re=(N("createView",(async(e,t)=>{const{id:n,fromViewID:i,name:o,type:a,state:l}=e;return await m.ZP.withRequestId(t.requestId).createView(n,o,a,i,l)})),N("deleteView",(async(e,t)=>{const{id:n,viewId:i}=e;return await m.ZP.withRequestId(t.requestId).deleteView(n,i)})),N("updateView",(async(e,t)=>{const{id:n,viewId:i,params:o}=e;return await m.ZP.withRequestId(t.requestId).updateView(n,i,o)}))),se=(N("moveView",(async(e,t)=>{const{id:n,viewId:i,prevViewID:o}=e;return await m.ZP.withRequestId(t.requestId).moveView(n,i,o)})),N("shareView",(async(e,t)=>{const{id:n,viewId:i,toggle:o,togglePassword:a,toggleExport:l,resetToken:r,resetPassword:s,allowSubscribe:d}=e;return await m.ZP.withRequestId(t.requestId).shareView(n,i,o,a,l,r,s,d)})),N("getViewDetail",(async(e,t)=>{const{id:n,viewId:i}=e;return await m.ZP.withRequestId(t.requestId).getViewDetail(n,i)}))),de=(N("getSharedViewDetail",(async(e,t)=>{const{shareParams:n,viewId:i,userToken:o}=e;return await m.ZP.withRequestId(t.requestId).getSharedViewDetail({type:n.type,token:n.token},i,o)})),N("getAnyViewDetail",(async(e,t)=>{const{id:n,viewId:i,token:o,type:a,userToken:l}=e;if(o){if(!a||!l)return;return await m.ZP.withRequestId(t.requestId).getSharedViewDetail({type:a,token:o},i,l)}return await m.ZP.withRequestId(t.requestId).getViewDetail(n,i)}))),ce=(A("getSharedView",(async(e,t)=>{const{shareParams:n,viewId:i,userToken:o}=e;return await m.ZP.withRequestId(t.requestId).getSharedView({type:n.type,token:n.token},i,o)})),N("addAttachment",(async(e,t)=>{const{id:n,rowId:i,columnId:o,file:a}=e,l=await k.Z.uploadFile("attachment",a);return await m.ZP.withRequestId(t.requestId).addAttachment(n,i,o,l),{...l}}))),ue=N("deleteAttachment",(async(e,t)=>{const{id:n,rowId:i,columnId:o,fileId:a}=e;return await m.ZP.withRequestId(t.requestId).deleteAttachment(n,i,o,a),{id:n,rowId:i,columnId:o,fileId:a}})),pe=N("updateAttachments",(async(e,t)=>{const{id:n,rowId:i,cells:o}=e;return await m.ZP.withRequestId(t.requestId).patchCell(n,i,o)})),he=N("updateAttachment",(async(e,t)=>{const{id:n,rowId:i,columnId:o,fileId:a,name:l}=e;return await m.ZP.withRequestId(t.requestId).updateAttachment(n,i,o,a,l),{id:n,rowId:i,columnId:o,fileId:a,name:l}})),ve=(N("updateRowsCells",(async(e,t)=>{const{id:n,params:i}=e;return await m.ZP.withRequestId(t.requestId).updateCells(n,i)})),"pasteCells");const ge=D(ve,(async(e,t)=>{const{id:n,params:i}=e;return await m.ZP.withRequestId(t.requestId).pasteCells(n,i)}))().action,fe=N("undo_".concat(ve),(async(e,t)=>{const{id:n,params:i,addedRowIds:o,addedColumnIds:a}=e;return p()(o)||await m.ZP.deleteRows(n,o),p()(a)||await m.ZP.deleteColumns(n,a),await m.ZP.withRequestId(t.requestId).pasteCells(n,i)})),me=N("redo_".concat(ve),(async(e,t)=>{const{id:n,params:i,addedRowIds:o,addedColumnIds:a}=e;return p()(o)||await m.ZP.restoreRows(n,o),p()(a)||await m.ZP.restoreColumns(n,a),await m.ZP.withRequestId(t.requestId).pasteCells(n,i)})),ye="deleteCells",we=D(ye,(async(e,t)=>{const{id:n,params:i}=e,o=[];return c()(i.destRowIDs,(e=>{const t=l()(i.destColumnIDs,(e=>null));o.push(t)})),await m.ZP.withRequestId(t.requestId).pasteCells(n,s()({},i,{source:o,sourceColumns:[]}))}))({undo:function(e){return N(e,(async(e,t)=>{const{id:n,params:i}=e;return await m.ZP.withRequestId(t.requestId).pasteCells(n,i)}))}("undo_".concat(ye))}),be=we.action,Ce=we.redoAction,xe=we.undoAction,Ie=(A("getMembers",(e=>m.ZP.getMembers(e))),A("updateMember",(async e=>{const{id:t,members:n}=e;return(await m.ZP.updateMember(t,n)).detail})),A("deleteMember",(async e=>{const{id:t,memberId:n}=e;return(await m.ZP.deleteMember(t,n)).detail})),A("duplicate",(async e=>{const{data:t}=e;return await m.ZP.copy(t.id,t)})),A("createSnapshot",(async e=>{const{id:t,projectID:n,name:i}=e;return await m.ZP.createSnapshot(t,{projectID:n,name:i})})),A("restoreSnapshot",(async(e,t)=>{const{id:n,projectID:i,snapshotID:o}=e;return await m.ZP.restoreSnapshot(n,i,o)})),A("convertColumns",(async e=>(await x.convertColumns(e)).detail)),A("getColumns",(async e=>await m.ZP.getColumns(e))),N("getBigTableRows",(async(e,t)=>{const{id:n,startRow:i,endRow:o,viewId:a}=e;return await m.ZP.withRequestId(t.requestId).getBigtableRows(n,i,o,a)}))),je=N("getSharedBigTableRows",(async(e,t)=>{const{shareParams:n,id:i,startRow:o,endRow:a,viewId:l}=e;return await m.ZP.withRequestId(t.requestId).getSharedBigtableRows(n,i,o,a,l)})),Me=A("getAppendRows",(async(e,t)=>{const{id:n,projectId:i}=e,o=t.getState().tableNode.entities[n];if(!o||!o.hasAppendRows)return;if(await t.dispatch(P.Nw.setLoadAppendRows(n)),o.type!==g.e.table)return;const a=[];return c()(o.views,(e=>{"table"===e.type&&a.push(t.dispatch(se({id:n,viewId:e.id})))})),a.push(t.dispatch(Q({projectId:i,id:n}))),await Promise.all(a)})),ke=N("shareRow",(async(e,t)=>{const{id:n,rowId:i,toggle:o,togglePassword:a,resetToken:l,resetPassword:r}=e;return await m.ZP.withRequestId(t.requestId).shareRow(n,i,o,a,l,r)}));A("getUsersInfo",(async e=>(await T.Z.getOpenInfo(e)).detail)),L("aggregate",(async(e,t)=>{const{id:n,name:i,groupByColumnID:o,accumulators:a}=e;return(await m.ZP.withRequestId(t.requestId).aggregate(n,i,o,a)).detail})),A("enrichmentList",(async()=>await M.list())),A("getBigTableRow",(async e=>await m.ZP.getBigTableRow(e.id,e.rowId))),L("enrichment",(async(e,t)=>{const{id:n,coordinateColumnID:i,outputColumnID:o,method:a,sourceID:l,sourceField:r,sourcePartitions:s}=e;return(await m.ZP.withRequestId(t.requestId).enrichment(n,i,o,a,l,r,s)).detail})),L("createRegionAggregate",(async(e,t)=>{const{country:n,tableNodeID:i,accumulators:o,columnID:a,name:l,type:r,specifyMatchColumnID:s}=e,d=await m.ZP.withRequestId(t.requestId).createRegionAggregate(i,{country:n,accumulators:o,columnID:a,name:l,type:r,specifyMatchColumnID:s});return null===d||void 0===d?void 0:d.detail}))},41012:(e,t,n)=>{"use strict";n.d(t,{Cv:()=>E,E:()=>w,Gw:()=>O,Lu:()=>v,O7:()=>g,Pf:()=>u,QR:()=>j,Yg:()=>h,be:()=>_,cE:()=>p,eT:()=>M,hS:()=>c,ih:()=>y,mZ:()=>S,r7:()=>b,wy:()=>I});var i=n(6686),o=n(40365);const a="tableNode",{createAsyncAction:l,createUndoRedoActions:r}=(0,o.w)({typePrefix:a,syncWithWebSocket:!0}),s=(0,o.w)({typePrefix:a,syncWithWebSocket:!1}).createAsyncAction;function d(e){return l(e,(async(e,t)=>{const{id:n,columnIds:o}=e;return await i.ZP.withRequestId(t.requestId).restoreColumns(n,o)}))}const{action:c,redoAction:u,undoAction:p}=r("updateViewColumns",(async(e,t)=>{const{id:n,viewId:o,columnIds:a,params:l}=e;return await i.ZP.withRequestId(t.requestId).updateViewColumn(n,o,a,l)}))(),{action:h,redoAction:v,undoAction:g}=r("moveViewColumn",(async(e,t)=>{const{id:n,viewId:o,columnId:a,prevColumnId:l}=e;return await i.ZP.withRequestId(t.requestId).moveViewColumn(n,o,a,l)}))(),f="deleteColumns";const m=r(f,(async(e,t)=>{const{id:n,columnIds:o}=e;return await i.ZP.withRequestId(t.requestId).deleteColumns(n,o)}))({undo:d("undo_".concat(f))}),y=m.action,w=m.undoAction,b=m.redoAction,C="createColumn",x=r(C,(async(e,t)=>{const{id:n,name:o,type:a,prevColumnId:l,typeOptions:r,autoRename:s=!0}=e;return await i.ZP.withRequestId(t.requestId).createColumn(n,o,a,l,r,s)}))({undo:function(e){return l(e,(async(e,t)=>{const{id:n,columnIds:o}=e;return await i.ZP.withRequestId(t.requestId).deleteColumns(n,o)}))}("undo_".concat(C)),redo:d("redo_".concat(C))}),I=x.action,j=x.undoAction,M=x.redoAction,k="updateColumn";function T(e){return l(e,(async(e,t)=>{const{id:n,columnId:o,name:a,desc:l,type:r,typeOptions:s,pasteCellsParams:d}=e;return"formula"===r?await i.ZP.withRequestId(t.requestId).updateColumn(n,o,a,r,s,l):(await i.ZP.updateColumn(n,o,a,r,s,l),await i.ZP.withRequestId(t.requestId).pasteCells(n,d))}))}const E=s("updateColumnNoSync",(async e=>{const{id:t,columnId:n,name:o,type:a,typeOptions:l,desc:r,state:s}=e;return await i.ZP.updateColumn(t,n,o,a,l,r,s)})),P=r("updateColumn",(async(e,t)=>{const{id:n,columnId:o,name:a,type:l,typeOptions:r,desc:s,state:d}=e;return await i.ZP.withRequestId(t.requestId).updateColumn(n,o,a,l,r,s,d)}))({undo:T("undo_".concat(k)),redo:T("redo_".concat(k))}),O=P.action,S=P.undoAction,_=P.redoAction},80778:(e,t,n)=>{"use strict";n.d(t,{CZ:()=>O,D9:()=>u,IK:()=>p,M5:()=>c,Qw:()=>j,ZG:()=>C,cT:()=>P,d3:()=>M,fu:()=>k,mc:()=>y,pt:()=>b,rD:()=>m,u0:()=>S,v:()=>g,vD:()=>f,x6:()=>w});var i=n(6686),o=n(40365);const{createAsyncAction:a,createUndoRedoActions:l}=(0,o.w)({typePrefix:"tableNode",syncWithWebSocket:!0});function r(e){return a(e,(async(e,t)=>{const{id:n,rowIDs:o}=e;return await i.ZP.withRequestId(t.requestId).restoreRows(n,o)}))}const s="deleteRows";const d=l(s,(async(e,t)=>{const{id:n,rowIDs:o}=e;return await i.ZP.withRequestId(t.requestId).deleteRows(n,o)}))({undo:r("undo_".concat(s))}),c=d.action,u=d.undoAction,p=d.redoAction,h="createRow",v=l(h,(async(e,t)=>{const{id:n,prevRowId:o,cells:a}=e;return await i.ZP.withRequestId(t.requestId).postRow(n,o,a)}))({undo:function(e){return a(e,(async(e,t)=>{const{id:n,rowIDs:o}=e;return await i.ZP.withRequestId(t.requestId).deleteRows(n,o)}))}("undo_".concat(h)),redo:r("redo_".concat(h))}),g=v.action,f=v.undoAction,m=v.redoAction,{action:y,redoAction:w,undoAction:b}=l("moveViewRows",(async(e,t)=>{const{id:n,viewId:o,items:a}=e;return await i.ZP.withRequestId(t.requestId).moveViewRows(n,o,a)}))(),C=a("createRowWithoutUndoRedo",(async(e,t)=>{const{id:n,prevRowId:o,cells:a}=e;return await i.ZP.withRequestId(t.requestId).postRow(n,o,a)})),x=(a("createRows",(async(e,t)=>{const{id:n,rows:o}=e;return await i.ZP.withRequestId(t.requestId).addRows(n,o)})),"splitPolygon"),I=l(x,(async(e,t)=>{const{tableNodeId:n,rows:o}=e;return await i.ZP.withRequestId(t.requestId).addRows(n,o)}))({undo:a("undo_".concat(x),(async(e,t)=>await i.ZP.withRequestId(t.requestId).deleteRows(e.tableNodeId,e.rowIds))),redo:r("redo_".concat(x))}),j=I.action,M=I.undoAction,k=I.redoAction,T="dissolvePolygon",E=l(T,(async(e,t)=>{const{id:n,prevRowId:o,cells:a,deleteRowIds:l}=e;return l&&await i.ZP.deleteRows(n,l),await i.ZP.withRequestId(t.requestId).postRow(n,o,a)}))({undo:a("undo_".concat(T),(async(e,t)=>{const{tableNodeId:n,rowIds:o,deleteRowIds:a}=e;return a&&await i.ZP.restoreRows(n,a),await i.ZP.withRequestId(t.requestId).deleteRows(n,o)})),redo:a("redo_".concat(T),(async(e,t)=>{const{tableNodeId:n,rowIds:o,deleteRowIds:a}=e;return a&&await i.ZP.deleteRows(n,a),await i.ZP.withRequestId(t.requestId).restoreRows(n,o)}))}),P=E.action,O=E.undoAction,S=E.redoAction},1714:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>le,TG:()=>se,ZP:()=>ae,qX:()=>de,TW:()=>re,DG:()=>ue,Em:()=>ce});var i=n(49163),o=n(53926),a=n.n(o),l=n(17646),r=n.n(l),s=n(93707),d=n(76592),c=n(3705),u=n(22138),p=n(34362),h=n.n(p),v=n(88716),g=n.n(v),f=n(23903),m=n.n(f),y=n(468),w=n.n(y),b=n(7070),C=n.n(b),x=n(82959),I=n.n(x),j=n(90013),M=n.n(j),k=n(63679),T=n.n(k),E=n(74110),P=n(11546),O=n(6686);const S=(0,i.HF)(),_=(0,i.HF)({selectId:e=>"".concat(e.tableNodeId,"_").concat(e.row.id)}),N=(0,i.HF)(),D=(0,i.HF)(),L=(0,i.HF)(),A=(0,i.HF)();function R(e,t){var n;const i={id:t.id,cells:null!==(n=t.cells)&&void 0!==n?n:{}},o=T()(e.rows,(e=>e.id===t.id));var a,l;-1!==o?e.rows[o]=i:null===(a=e.rows)||void 0===a||null===(l=a.push)||void 0===l||l.call(a,i);r()(t.addedViewRows,(t=>{const n=e.views.find((e=>e.id===t.viewID));if(!n)return;n.rows||(n.rows=[]);const i=T()(n.rows,(e=>e.id===t.id));-1!==i?n.rows[i]=t:n.rows.push(t)}))}function Z(e,t){e.columns.push({id:t.id,name:t.name,type:t.type,mode:t.mode,typeOptions:t.typeOptions,isPrimary:!1,desc:null}),e.columns=M()(e.columns,"id"),r()(t.addedViewColumns,(t=>{const n=e.views.find((e=>e.id===t.viewID));null!==n&&void 0!==n&&n.columns&&n.columns.push(t)}));const n=t.updatedCells;n&&r()(null===e||void 0===e?void 0:e.rows,(e=>{Object.assign(e.cells,n[e.id])}))}function F(e,t){var n;if(e.type===E.e.bigTable)return;const i=null===(n=e.rows)||void 0===n?void 0:n.find((e=>e.id===t.rowID));null!==i&&void 0!==i&&i.cells&&Object.assign(i.cells,t.updateCells)}function z(e,t){var n;const i=null===e||void 0===e||null===(n=e.columns)||void 0===n?void 0:n.find((e=>e.id===t.id));i&&Object.assign(i,t)}function B(e,t){r()(t,(t=>{const n=e.columns.find((e=>e.id===t));null!==n&&void 0!==n&&n.typeOptions&&(n.typeOptions={...n.typeOptions,valid:!1})}))}function V(e,t,n){const{tableNodeID:i,columnID:o}=t;n?D.setOne(e.updatingColumns,{id:o,tableNodeID:i,columnID:o}):D.removeOne(e.updatingColumns,o)}function H(e,t){const{payload:n}=t,{tableNodeID:i,updatedCells:o,invalidedColumns:a,addedColumn:l}=n,s=e.entities[i];s&&(o&&r()(null===s||void 0===s?void 0:s.rows,(e=>{Object.assign(e.cells,o[e.id])})),l&&Z(s,l),a&&B(s,a))}function W(e,t){const{payload:n}=t;if(n.id){const t=e.entities[n.id];t&&F(t,n)}}function U(e,t){if(!t.tableNodeID)return;const n=e.entities[t.tableNodeID];if(!n)return;const i=n.views.find((e=>e.id===t.viewID));i&&Object.assign(i,O.uh.transformView(t.updatedFields))}function G(e,t){const{payload:n}=t,{tableNodeID:i,columnID:o,invalidedColumns:a}=n,l=e.entities[i];l&&(a&&B(l,a),m()(l.columns,(e=>e.id===o))&&J(e,l,{id:l.id,needRefresh:!0}),l.lastUpdatedAt=Date.now())}function q(e,t,n){const{rowID:i,updateCells:o}=n;K(e,t,[{tableNodeId:t.id,row:{id:i,cells:o},type:"update"}])}function $(e,t,n){K(e,t,C()(n,(e=>({row:e,tableNodeId:t.id,type:"update"}))))}function J(e,t,n){n.needRefresh?(N.setOne(e.tableNeedRefresh,{...n,isBigTable:!0}),n.purgeCache?(e.bigTableNeedReSort=!1,e.bigTableNeedReFilter=!1):Y(e,t)):N.removeOne(e.tableNeedRefresh,n.id)}function Q(e,t){N.setOne(e.tableNeedRefresh,{id:t,needRefresh:!0})}function K(e,t,n){g()(n)||(_.setMany(e.bigTableRowsChange,n),Y(e,t))}function Y(e,t){g()(t.views)||(g()(t.views[0].orders)||(e.bigTableNeedReSort=!0),t.views[0].filter&&(e.bigTableNeedReFilter=!0))}function X(e,t){const{id:n,isFetching:i}=t.payload;i?e.fetchingTableNodeIds.push(n):e.fetchingTableNodeIds=e.fetchingTableNodeIds.filter((e=>e!==n))}const ee={setDetail:function(e,t){const{payload:n}=t;if(!n.id)return;const i=e.entities[n.id],o=Date.now();if(i){if("segmentStart"===n.segmentType&&S.updateOne(e,{id:n.id,changes:w()({...n,lastRetrievedAt:o},["segmentType"])}),"segmentFrame"===n.segmentType){const t={more:n.more,lastRetrievedAt:o,rowsCount:n.rowsCount,domain:n.domain};if(n.rows&&(n.overwriteRows?t.rows=n.rows:t.rows=M()((i.rows||[]).concat(n.rows),"id")),n.columns&&(t.columns=M()((i.columns||[]).concat(n.columns),"id")),n.views){const e=i.views||[],o=M()(e.concat(n.views),"id");t.views=o.map((e=>{const t=n.views.find((t=>t.id===e.id));return t&&t.rows?t:t||e}))}S.updateOne(e,{id:n.id,changes:t})}}else S.addOne(e,w()({...n,lastRetrievedAt:o},["segmentType"]));n.more||X(e,{type:"tableNode/updateFetchingTableNodeIds",payload:{id:n.id,isFetching:!1}})},shareRow:function(e,t){var n;const{id:i,rowID:o,shareConfig:a}=t.payload,l=e.entities[i];if(!l||"bigTable"===l.type)return;const r=null===(n=l.rows)||void 0===n?void 0:n.find((e=>e.id===o));r&&Object.assign(r,{...r,shareConfig:a})},createRow:function(e,t){const{payload:n}=t,i=e.entities[n.tableNodeID];i&&(R(i,n),Q(e,i.id))},deleteRows:function(e,t){const{payload:n}=t,i=e.entities[n.id];i&&(!function(e,t){const n=e.rows||[];if(!n.length)return;const i=new Set(t.deletedRowIDs);i.size&&(e.rows=n.filter((e=>!i.has(e.id))))}(i,n),Q(e,i.id))},deleteBigTableUpdatedRows:function(e,t){_.removeMany(e.bigTableRowsChange,t.payload.map((e=>"".concat(e.tableNodeId,"_").concat(e.row.id))))},createColumn:function(e,t){const{payload:n}=t;if(n.tableNodeID){const t=e.entities[n.tableNodeID];t&&Z(t,n)}},updateColumn:function(e,t){const{payload:n}=t,{tableNodeID:i,columnID:o,updatedFields:a,updatedCells:l,invalidedColumns:s}=n;if(i){const t=e.entities[i];if(!t)return;z(t,{id:o,...a}),l&&r()(t.rows,(e=>{Object.assign(e.cells,l[e.id])})),B(t,s)}},updatingColumn:function(e,t){const{payload:n}=t;V(e,n,!0)},updatedColumn:function(e,t){const{payload:n}=t;V(e,n,!1)},recomputeColumn:function(e,t){H(e,t)},geocodeColumn:function(e,t){H(e,t)},regionBoundaryColumn:function(e,t){H(e,t)},deleteColumns:function(e,t){const{payload:n}=t;if(n.tableNodeID){const t=e.entities[n.tableNodeID];null!==t&&void 0!==t&&t.columns&&(t.columns=t.columns.filter((e=>!h()(n.columnIDs,e.id)))),null===t||void 0===t||t.views.forEach((e=>{var t,i;e.columns&&(e.columns=null!==(t=null===(i=e.columns)||void 0===i?void 0:i.filter((e=>!h()(n.columnIDs,e.id))))&&void 0!==t?t:[])}))}},updateViewColumns:function(e,t){const{payload:n}=t;if(n.tableNodeID){var i;const t=null===(i=e.entities[n.tableNodeID])||void 0===i||null===(i=i.views.find((e=>e.id===n.viewID)))||void 0===i||null===(i=i.columns)||void 0===i?void 0:i.filter((e=>n.columnIDs.includes(e.id)));t&&t.forEach((e=>Object.assign(e,n.updatedFields)))}},updateCells:W,updateCellsInClient:W,setAll:function(e,t){S.setAll(e,t.payload)},upsertMany:function(e,t){S.upsertMany(e,t.payload)},create:function(e,t){},update:function(e,t){const{id:n,updatedColumns:i}=t.payload;if(i){const t=e.entities[n];if(!t)return;r()(i,(e=>{z(t,e)}))}},move:function(e,t){},moveViewRow:function(e,t){const{payload:n}=t;if(n.tableNodeID){const t=e.entities[n.tableNodeID];if(t){var i;const o=t.views.find((e=>e.id===n.viewID));if(null===o||void 0===o||!o.rows)return;const a=null===o||void 0===o||null===(i=o.rows)||void 0===i?void 0:i.map((e=>{const t=n.results[e.id];return{...e,order:void 0!==t?t:e.order}}));Object.assign(o.rows,a),Q(e,t.id)}}},moveViewColumn:function(e,t){const{payload:n}=t;if(n.tableNodeID){const t=e.entities[n.tableNodeID];if(t){var i;const e=null===(i=t.views.find((e=>e.id===n.viewID)))||void 0===i||null===(i=i.columns)||void 0===i?void 0:i.find((e=>e.id===n.columnID));e&&(e.order=n.order)}}},sync:function(e,t){const{id:n}=t.payload;S.removeOne(e,n),L.setOne(e.tableNodeSync,{id:n})},synced:function(e,t){const n=t.payload.id;L.removeOne(e.tableNodeSync,n);const i=e.entities[n];i&&null!==i&&void 0!==i&&i.syncing&&(i.syncing=!1)},syncStart:function(e,t){const{id:n}=t.payload,i=e.entities[n];i&&(i.syncing=!0)},delete:function(e,t){const{ids:n}=t.payload;S.removeMany(e,n)},deleteRecycle:function(e,t){},recoverRecycle:function(e,t){},createView:function(e,t){const{payload:n}=t;if(n.view){const t=e.entities[n.tableNodeID];t&&t.views.push(n.view)}},deleteView:function(e,t){const{payload:n}=t;if(n.tableNodeID){const t=e.entities[n.tableNodeID];if(t){const e=T()(t.views,(e=>e.id===n.viewID));-1!==e&&t.views.splice(e,1)}}},updateView:function(e,t){const{payload:n}=t;U(e,n)},setViewDetail:function(e,t){const{payload:n}=t;if(n.id){var i;const t=null===(i=e.entities[n.id])||void 0===i?void 0:i.views.find((e=>e.id===n.viewID));t&&Object.assign(t,{rows:n.viewRows,columns:n.viewColumns})}},appendCellAttachment:function(e,t){const{tableNodeID:n,rowID:i,columnID:o,attachment:a}=t.payload,l=e.entities[n],r=null===l||void 0===l?void 0:l.rows.find((e=>e.id===i));if(!r)return;const s=null===r||void 0===r?void 0:r.cells[o];s?s.push(a):r.cells[o]=[a]},deleteCellAttachment:function(e,t){const{tableNodeID:n,rowID:i,columnID:o,fileID:a}=t.payload,l=e.entities[n],r=null===l||void 0===l?void 0:l.rows.find((e=>e.id===i));if(!r)return;const s=null===r||void 0===r?void 0:r.cells[o],d=T()(s,(e=>e.fileID===a));-1!==d&&s.splice(d,1)},updateAttachment:function(e,t){const{tableNodeID:n,rowID:i,columnID:o,fileID:a,name:l}=t.payload,r=e.entities[n],s=null===r||void 0===r?void 0:r.rows.find((e=>e.id===i));if(!s)return;const d=null===s||void 0===s?void 0:s.cells[o],c=T()(d,(e=>e.fileID===a));-1!==c&&(d[c].fileName=l)},pasteCells:function(e,t){const{updatedRows:n,tableNodeID:i,addedRows:o,addedColumns:a,updatedColumns:l}=t.payload||{},s=e.entities[i];s&&(o&&(r()(o,(e=>{R(s,e)})),Q(e,s.id)),a&&r()(a,(e=>{Z(s,e)})),l&&r()(l,(e=>{z(s,e)})),r()(n,(e=>{F(s,{id:i,rowID:e.id,updateCells:e.cells})})))},updateRowsCells:function(e,t){const{updatedRows:n,tableNodeID:i}=t.payload,o=e.entities[i];o&&r()(n,(e=>{F(o,{id:i,rowID:e.id,updateCells:e.cells})}))},updateSearchResults:function(e,t){e.searchResults=t.payload},restoreRows:function(e,t){const{id:n,rows:i,needRefresh:o}=t.payload,a=e.entities[n];a&&(o?(S.removeOne(e,n),L.setOne(e.tableNodeSync,{id:n})):a.rows.push(...i),Q(e,a.id))},clearRows:function(e,t){const{payload:n}=t;if(!n.id)return;const i=e.entities[n.id];i&&i.rows&&0!==i.rows.length&&(i.rows.splice(0),Q(e,i.id))},clipRows:function(e,t){var n;const{payload:i}=t,o=e.entities[i.id];if(!o||null===(n=i.rowIDs)||void 0===n||!n.length)return;const a=o.rows||[];if(!a.length)return;const l=new Set(i.rowIDs);l.size&&(o.rows=a.filter((e=>l.has(e.id))),Q(e,o.id))},restoreColumns:function(e,t){const{payload:n}=t;if(n.tableNodeID){const t=e.entities[n.tableNodeID],{addedColumns:i,addedViewColumns:o}=n;if(t&&i){t.columns.push(...i);const e=n.updatedCells;e&&r()(null===t||void 0===t?void 0:t.rows,(t=>{Object.assign(t.cells,e[t.id])})),r()(o,(e=>{var n;const i=t.views.find((t=>t.id===e.viewID));null===i||void 0===i||null===(n=i.columns)||void 0===n||n.push(e)}))}}},recomputeLookupColumn:function(e,t){const{payload:n}=t,{tableNodeID:i,columnID:o,columnTypeOptions:a,updatedCells:l}=n,s=e.entities[i];s&&(o&&a&&z(s,{id:o,typeOptions:a}),l&&r()(null===s||void 0===s?void 0:s.rows,(e=>{Object.assign(e.cells,l[e.id])})))},enrichment:function(e,t){const{payload:n}=t,{tableNodeID:i,updatedCells:o}=n,a=e.entities[i];a&&o&&r()(null===a||void 0===a?void 0:a.rows,(e=>{Object.assign(e.cells,o[e.id])}))},createRowBigTable:function(e,t){const{payload:n}=t,i=e.entities[n.tableNodeID];i&&(K(e,i,[{tableNodeId:i.id,row:{...n},type:"add"}]),i.lastUpdatedAt=Date.now())},deleteRowsBigTable:function(e,t){const{payload:n}=t,i=e.entities[n.id];i&&!g()(n.deletedRowIDs)&&(K(e,i,C()(n.deletedRowIDs,(e=>({row:{id:e,cells:{}},tableNodeId:i.id,type:"remove"})))),i.lastUpdatedAt=Date.now())},appendRowsBigTable:function(e,t){const{id:n,addedColumns:i,addedViewColumns:o,updatedColumns:a}=t.payload,l=e.entities[n];l&&(null===i||void 0===i||i.forEach((e=>{Z(l,{...e,addedViewColumns:o})})),null===a||void 0===a||a.forEach((e=>{z(l,e)})),J(e,l,{id:l.id,needRefresh:!0}),l.lastUpdatedAt=Date.now())},createRowsBigTable:function(e,t){const{id:n}=t.payload,i=e.entities[n];i&&(J(e,i,{id:i.id,needRefresh:!0}),i.lastUpdatedAt=Date.now())},restoreRowsBigTable:function(e,t){const{id:n,rows:i}=t.payload,o=e.entities[n];o&&K(e,o,C()(i,(e=>({tableNodeId:o.id,row:e,type:"add"}))))},createColumnBigTable:function(e,t){const{payload:n}=t;if(!n.tableNodeID)return;const i=e.entities[n.tableNodeID];i&&(Z(i,n),P.CJ.includes(n.type)&&J(e,i,{id:i.id,needRefresh:!0}),i.lastUpdatedAt=Date.now())},updateColumnBigTable:function(e,t){var n,i;const{payload:o}=t,{tableNodeID:a,columnID:l,updatedFields:s,invalidedColumns:d}=o;if(!a)return;const c=e.entities[a];c&&(z(c,{id:l,...s}),(null!==(n=o.updatedFields)&&void 0!==n&&n.type||null!==(i=o.updatedFields)&&void 0!==i&&i.typeOptions)&&J(e,c,{id:c.id,needRefresh:!0}),r()(d,(e=>{var t;const n=T()((null===c||void 0===c?void 0:c.columns)||[],(t=>t.id===e)),i=null===c||void 0===c||null===(t=c.columns[n])||void 0===t?void 0:t.typeOptions;-1!==n&&i&&Object.assign(i,{...i,valid:!1})})),c.lastUpdatedAt=Date.now())},recomputeColumnBigTable:function(e,t){G(e,t)},geocodeColumnBigTable:function(e,t){G(e,t)},regionBoundaryColumnBigTable:function(e,t){G(e,t)},updateCellsBigTable:function(e,t){const{payload:n}=t;if(!n.id)return;const i=e.entities[n.id];i&&(q(e,i,n),i.lastUpdatedAt=Date.now())},updateRowsCellsBigTable:function(e,t){const{updatedRows:n,tableNodeID:i}=t.payload,o=e.entities[i];o&&$(e,o,n)},clearRowsBigTable:function(e,t){const{payload:n}=t,i=e.entities[n.id];i&&(J(e,i,{id:i.id,needRefresh:!0,purgeCache:!0}),i.lastUpdatedAt=Date.now())},clipRowsBigTable:function(e,t){const{payload:n}=t,i=e.entities[n.id];i&&!g()(n.rowIDs)&&(J(e,i,{id:i.id,needRefresh:!0,purgeCache:!0}),i.lastUpdatedAt=Date.now())},pasteCellsBigTable:function(e,t){const{updatedRows:n,tableNodeID:i,updatedColumns:o}=t.payload||{},a=e.entities[i];a&&(o&&r()(o,(e=>{z(a,e)})),$(e,a,n),a.lastUpdatedAt=Date.now())},appendCellAttachmentBigTable:function(e,t){const{tableNodeID:n,rowID:i,columnID:o,attachments:a}=t.payload,l=e.entities[n];l&&q(e,l,{id:l.id,rowID:i,updateCells:{[o]:a}})},deleteCellAttachmentBigTable:function(e,t){const{tableNodeID:n,rowID:i,columnID:o,attachments:a}=t.payload,l=e.entities[n];l&&q(e,l,{id:l.id,rowID:i,updateCells:{[o]:a}})},updateAttachmentBigTable:function(e,t){const{tableNodeID:n,rowID:i,columnID:o,attachments:a}=t.payload,l=e.entities[n];l&&q(e,l,{id:l.id,rowID:i,updateCells:{[o]:a}})},updateViewBigTable:function(e,t){const{payload:n}=t;U(e,n);const{tableNodeID:i,updatedFields:o}=n,a=e.entities[i];a&&(o.orders||o.filter||"filterCondition"in o||"filters"in o)&&J(e,a,{id:i,needRefresh:!0,purgeCache:!0})},enrichmentBigTable:function(e,t){const{payload:n}=t,{tableNodeID:i,columnID:o}=n,a=e.entities[i];a&&(m()(a.columns,(e=>e.id===o))&&J(e,a,{id:a.id,needRefresh:!0}),a.lastUpdatedAt=Date.now())},bigtableExport:function(e,t){},rowLevelPermissionsChange:function(e,t){const{tableNodeID:n}=t.payload,i=e.entities[n];i&&("bigTable"!==i.type?(S.removeOne(e,n),L.setOne(e.tableNodeSync,{id:n})):J(e,i,{id:n,needRefresh:!0,purgeCache:!0}))},updateCellRangeSelection:function(e,t){e.cellRangeSelection=t.payload},updateExtensionPanelVisible:function(e,t){e.extensionPanelVisible=t.payload},expireAllCache:function(e){const t=I()(C()(e.entities,(e=>{if(e)return{id:e.id,changes:{lastRetrievedAt:0}}})));S.updateMany(e,t)},cleanCacheByIds:function(e,t){S.removeMany(e,t.payload)},setCurrentView:function(e,t){e.currentView=t.payload.viewId,t.payload.id&&(e.selectedViews||(e.selectedViews={}),e.selectedViews[t.payload.id]=t.payload.viewId,a().set(u.Bs,e.selectedViews))},appendRows:function(e,t){const{id:n,addedColumns:i,addedViewColumns:o,updatedColumns:a,needRefresh:l}=t.payload,r=e.entities[n];if(r){if(l)return S.removeOne(e,n),void L.setOne(e.tableNodeSync,{id:n});r.more=!0,r.hasAppendRows=!0,null===i||void 0===i||i.forEach((e=>{Z(r,{...e,addedViewColumns:o})})),null===a||void 0===a||a.forEach((e=>{z(r,e)}))}},createRows:function(e,t){const{id:n}=t.payload,i=e.entities[n];i&&(i.more=!0,i.hasAppendRows=!0)},setLoadAppendRows:function(e,t){const n=t.payload,i=e.entities[n];i&&(i.hasAppendRows=!1)},setTableRefreshed:function(e,t){N.removeOne(e.tableNeedRefresh,t.payload)},updateFetchingTableNodeIds:X,cleanCacheByIdsNotIn:function(e,t){const n=e.ids.filter((e=>!t.payload.includes(e)));n.length>0&&S.removeMany(e,n)},setFilterColId:function(e,t){e.filterColId=null===t.payload?null:{[t.payload]:t.payload}},setGroupColId:function(e,t){e.groupColId=null===t.payload?null:{[t.payload]:t.payload}},setSortColId:function(e,t){e.sortColId=null===t.payload?null:{[t.payload.colId]:t.payload.order}},setHideColId:function(e,t){e.hideColId=null===t.payload?null:{[t.payload]:t.payload}},regionAggregate:function(e,t){var n;const{payload:i}=t;(null===i||void 0===i||null===(n=i.layerIDs)||void 0===n?void 0:n.length)>0&&(e.defaultActiveRegionLayerId=i.layerIDs[0])},resetDefaultActiveRegionLayerId:function(e){e.defaultActiveRegionLayerId=void 0},moveView:function(e,t){const{tableNodeID:n,viewID:i,order:o}=t.payload,a=e.entities[n];if(!a)return;const l=a.views.find((e=>e.id===i));l&&(l.order=o)},importTable:function(e,t){t.payload.transferInfo&&A.setOne(e.transferAddress,t.payload.transferInfo)},resetTransferAddress:function(e,t){A.removeOne(e.transferAddress,t.payload)}};var te=n(68885);const ne=S.getInitialState({ids:[],entities:{},bigTableRowsChange:{ids:[],entities:{}},tableNeedRefresh:{ids:[],entities:{}},transferAddress:{ids:[],entities:{}},updatingColumns:{ids:[],entities:{}},tableNodeSync:{ids:[],entities:{}},searchResults:[],cellRangeSelection:null,extensionPanelVisible:!1,bigTableNeedReFilter:!1,bigTableNeedReSort:!1,currentView:void 0,selectedViews:a().get(u.Bs),fetchingTableNodeIds:[],filterColId:null,groupColId:null,sortColId:null,hideColId:null,defaultActiveRegionLayerId:void 0});function ie(e){return te.I.pending.match(e)||te.e.pending.match(e)}const oe=(0,i.oM)({name:"tableNode",initialState:ne,reducers:{clear:S.removeAll,...ee},extraReducers(e){e.addCase(te.ZL.rejected,((e,t)=>{throw t.error})).addCase(te.v.rejected,((e,t)=>{throw t.error})).addCase(te.I.rejected,((e,t)=>{throw t.error})).addCase(te.r8.rejected,((e,t)=>{throw t.error})).addCase(te.tu.rejected,((e,t)=>{throw t.error})).addCase(te.V6.rejected,((e,t)=>{throw t.error})).addCase(te.JD.rejected,((e,t)=>{throw t.error})).addCase(te.Ed.rejected,((e,t)=>{throw t.error})).addCase(te.yf.fulfilled,((e,t)=>{const{payload:n}=t;null!==n&&void 0!==n&&n.id&&ee.setDetail(e,{type:"tableNode/setDetail",payload:n})})).addCase(te.Yn.fulfilled,((e,t)=>{const{payload:n}=t;null!==n&&void 0!==n&&n.id&&ee.setDetail(e,{type:"tableNode/setDetail",payload:n})})).addCase(te.ZN.fulfilled,((e,t)=>{const{wsSyncedData:n}=t.payload;null!==n&&void 0!==n&&n.tableNodeIDs&&ee.importTable(e,{type:"tableNode/importTable",payload:n})})),e.addCase(s.Nw.networkStatus,((e,t)=>{t.payload===c.Ie.OFFLINE&&ee.expireAllCache(e)})),e.addCase(te.mc.pending,((e,t)=>{const{id:n,items:i}=t.meta.arg;r()(i,(t=>{t.cells&&ee.updateCellsInClient(e,{type:"tableNode/updateCellsInClient",payload:{id:n,rowID:t.rowID,updateCells:t.cells}})}))})),e.addCase(d.Nw.regionAggregate,((e,t)=>{var n;const{payload:i}=t;(null===i||void 0===i||null===(n=i.layerIDs)||void 0===n?void 0:n.length)>0&&(e.defaultActiveRegionLayerId=i.layerIDs[0])})),e.addMatcher(ie,((e,t)=>{const{id:n,rowId:i,cells:o}=t.meta.arg;ee.updateCellsInClient(e,{type:"tableNode/updateCellsInClient",payload:{id:n,rowID:i,updateCells:o}})}))}}),ae=oe,le=oe.actions,re=S.getSelectors((e=>e.tableNode)),se=_.getSelectors((e=>e.tableNode.bigTableRowsChange)),de=N.getSelectors((e=>e.tableNode.tableNeedRefresh)),ce=(A.getSelectors((e=>e.tableNode.transferAddress)),D.getSelectors((e=>e.tableNode.updatingColumns))),ue=L.getSelectors((e=>e.tableNode.tableNodeSync))},5272:(e,t,n)=>{"use strict";n.d(t,{K:()=>s,Y:()=>r});var i=n(37756),o=n.n(i),a=n(40365);const{createAsyncAction:l}=(0,a.w)({typePrefix:"undoRedo"}),r=l("undo",(async(e,t)=>{const n=t.getState(),i=o()(n.undoRedo.undo);null!==i&&void 0!==i&&i.undoAction&&await t.dispatch(null===i||void 0===i?void 0:i.undoAction(i.undoPayload))})),s=l("redo",(async(e,t)=>{const n=t.getState(),i=o()(n.undoRedo.redo);null!==i&&void 0!==i&&i.redoAction&&await t.dispatch(null===i||void 0===i?void 0:i.redoAction(i.redoPayload))}))},37750:(e,t,n)=>{"use strict";n.d(t,{N:()=>s,Z:()=>r});var i=n(49163);const o={appendUndo:function(e,t){e.undo.length>=20&&e.undo.shift(),e.undo.push(t.payload)},clear:function(e){e.undo=[],e.redo=[]},clearRedo:function(e){e.redo=[]}};var a=n(5272);const l=(0,i.oM)({name:"undoRedo",initialState:{undo:[],redo:[]},reducers:o,extraReducers(e){e.addCase(a.Y.fulfilled,(e=>{const t=e.undo.pop();t&&e.redo.push(t)})),e.addCase(a.K.fulfilled,(e=>{const t=e.redo.pop();t&&e.undo.push(t)}))}}),r=l,s=l.actions},25111:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>v,u9:()=>w,h$:()=>g,Nq:()=>f,Ed:()=>y,Hx:()=>m});var i=n(76806),o=n(74797),a=n(22963),l=n(48466);const r=(0,a.Fs)({baseURL:"".concat(o.Z.baseApiURL,"/auth/")});class s extends a.tr{async login(e,t){const{data:n}=await this.fetch.post("login/",{phoneOrEmail:e,code:t});return(0,l.l)(n.extra.token,n.extra.refreshToken,n.extra.userType),{...n.detail,token:n.extra.token,refreshToken:n.extra.refreshToken,userType:n.extra.userType,locale:n.extra.locale,email:n.extra.email}}async register(e){const{data:t}=await this.fetch.post("register/",e);return(0,l.l)(t.extra.token,t.extra.refreshToken,t.extra.userType),{...t.detail,token:t.extra.token,refreshToken:t.extra.refreshToken,userType:t.extra.userType,locale:t.extra.locale,email:t.extra.email}}async verifyUserExist(e){const{data:t}=await this.fetch.get("exists/",{params:{user:e}});return t.detail}async captcha(){const{data:e}=await this.fetch.get("captcha/");return e.detail}async recaptcha(){const{data:e}=await this.fetch.get("recaptcha/");return e.detail}async getCode(e,t,n,i,o){const{data:a}=await this.fetch.post("code/",{phoneOrEmail:e,challenge:t,validate:n,seccode:i,usage:o});return a}async validateInviteCode(e){const{data:t}=await this.fetch.get("validateRegistrationCode/",{params:{code:e}});return t}async wechatUrl(e){const{data:t}=await this.fetch.get("wechat/url/".concat(e,"/"));return t.detail}async wechatLogin(e,t){const{data:n}=await this.fetch.post("wechat/login/",{code:e,state:t});return{...n.detail,token:n.extra.token,refreshToken:n.extra.refreshToken,isNewUser:n.extra.isNewUser,userType:n.extra.userType,locale:n.extra.locale,email:n.extra.email}}async wechatBind(e,t,n,i,o,a){const{data:l}=await this.fetch.post("wechat/bind/",{phoneOrEmail:e,code:t,token:n,surveyID:i,locale:o,fromEdu:a});return{...l.detail,token:l.extra.token,refreshToken:l.extra.refreshToken,isNewUser:l.extra.isNewUser,userType:l.extra.userType,locale:l.extra.locale,email:l.extra.email}}async sharedLogin(e,t){var n;const{data:o}=await this.fetch.post("shared_login/",{shareType:e.type,shareToken:e.token,sharePassword:t});let a;if(null!==o&&void 0!==o&&null!==(n=o.extra)&&void 0!==n&&n.token){a=(0,i.Z)(o.extra.token).id}return{id:a,token:o.extra.token||"",errorType:o.extra.errorType}}async googleLogin(e,t){const{data:n}=await this.fetch.post("gmail/login/",{token:e,fromEdu:t});return{...n.detail,token:n.extra.token,refreshToken:n.extra.refreshToken,isNewUser:n.extra.isNewUser,userType:n.extra.userType,locale:n.extra.locale,email:n.extra.email}}async survey(e){var t;const{data:n}=await this.fetch.post("survey/",e);return null===(t=n.detail)||void 0===t?void 0:t.id}}const d=new s(r);var c=n(4511),u=n(3207),p=n(40365);const{createAsyncAction:h}=(0,p.w)({typePrefix:"user"}),v=h("getCode",(async e=>{const{phoneOrEmail:t,challenge:n,validate:i,seccode:o,usage:a}=e;return await d.getCode(t,n,i,o,a)})),g=h("matchPhoneOrEmail",(async e=>(await u.Z.match(e)).detail)),f=(h("search",(async e=>{const{query:t,orgId:n}=e;return(await u.Z.search(t,n)).detail})),h("update",(async e=>{const{name:t,avatar:n,locale:i,featuresGuideConfig:o,avatarBgColor:a}=e;return await u.Z.update({name:t,locale:i,avatar:n,featuresGuideConfig:o,avatarBgColor:a})}))),m=(h("uploadAvatar",(async e=>{const{avatar:t}=e,{url:n}=await c.Z.uploadFile("avatar",t);return n})),h("validateInviteCode",(async e=>{const{detail:t}=await d.validateInviteCode(e);return{valid:t}})),h("wechatLogin",(async e=>{const{code:t,state:n}=e,i=await d.wechatLogin(t,n);return i.isNewUser||(0,l.l)(i.token,i.refreshToken,i.userType),i}))),y=h("wechatBind",(async e=>{const{phoneOrEmail:t,code:n,token:i,surveyID:o,locale:a,fromEdu:r}=e,s=await d.wechatBind(t,n,i,o,a,r);return(0,l.l)(s.token,s.refreshToken,s.userType),s})),w=h("googleLogin",(async e=>{const{credential:t,fromEdu:n}=e,i=await d.googleLogin(t,n);return(0,l.l)(i.token,i.refreshToken,i.userType),i}))},21101:(e,t,n)=>{"use strict";n.d(t,{N:()=>p,Z:()=>u});var i=n(49163),o=n(32089),a=n(23903),l=n.n(a),r=n(81837);const s={loggedIn:function(e,t){let{payload:n}=t;return{...e,userType:n.userType,email:n.email,isAuth:!0}},googleLogin:function(e,t){},wechatLogin:function(e,t){},wechatBind:function(e,t){},setAuth:function(e,t){return{...e,isAuth:t.payload}},setUserType:function(e,t){return{...e,userType:t.payload}},setIsNewUser:function(e,t){return{...e,isNewUser:t.payload}},update:function(e,t){},setSessionId:function(e,t){e.sessionId=t.payload},setSharedUser:function(e,t){return{...e,sharedUser:t.payload}},setSharedUserSessionId:function(e,t){e.sharedUser&&(e.sharedUser={...e.sharedUser,sessionId:t.payload})}};var d=n(25111);const c=(0,i.oM)({name:"user",initialState:{isAuth:!1,isNewUser:!1,userType:null},reducers:s,extraReducers(e){e.addCase(d.Cq.rejected,((e,t)=>{throw t.error})),e.addCase(d.h$.rejected,((e,t)=>{})),e.addCase(d.u9.fulfilled,((e,t)=>{var n;e.isNewUser=null!==(n=t.payload.isNewUser)&&void 0!==n&&n,e.userType=t.payload.userType,e.email=t.payload.email,e.isAuth=!0})).addCase(d.u9.rejected,((e,t)=>{if("errors.auth.registerLock"!==t.error.message)throw t.error})),e.addCase(d.Ed.fulfilled,((e,t)=>{e.isAuth=!0,e.userType=t.payload.userType,e.email=t.payload.email})),e.addCase(d.Hx.fulfilled,((e,t)=>{t.payload.isNewUser||(e.isAuth=!0,e.userType=t.payload.userType,e.email=t.payload.email)})),e.addCase(r.fX.fulfilled,((e,t)=>{const n=l()(t.payload,(e=>"user"===e.type));e.username=null===n||void 0===n?void 0:n.name,e.userId=null===n||void 0===n?void 0:n.id,o.e((e=>{e.setUser({username:null===n||void 0===n?void 0:n.name,userId:null===n||void 0===n?void 0:n.id,userType:null===n||void 0===n?void 0:n.type})}))}))}}),u=c,p=c.actions},81837:(e,t,n)=>{"use strict";n.d(t,{F9:()=>v,fN:()=>f,fX:()=>h,hn:()=>g});var i=n(18878),o=n.n(i),a=n(2496),l=n(40365),r=n(58590),s=n(98825),d=n(74909),c=n(1714),u=n(91017);const{createAsyncAction:p}=(0,l.w)({typePrefix:"workspace"}),h=p("get",(async()=>await a.Z.get())),v=p("getDetail",(async(e,t)=>{var n;const{type:i,id:l}=e,{project:d}=t.getState();(null===(n=d.currentWorkspace)||void 0===n?void 0:n.type)===i&&d.currentWorkspace.id===l||(t.dispatch(r.Nw.setProjects({workspace:e,projects:[]})),t.dispatch(s.Nw.setDataFiles({dataFiles:[]})));const c=await a.Z.getDetail(i,l);return t.dispatch(r.Nw.setProjects({workspace:e,projects:c.detail.projects||[]})),t.dispatch(s.Nw.setDataFiles({dataFiles:c.detail.dataFiles||[]})),o()(c.detail.unreadNotificationsCount)||t.dispatch(u.TH({page:1,mode:"newestFirst"})),{...c,id:l}})),g=p("getWorkspaceRoles",(async(e,t)=>{const{type:n,id:i}=e;if(!n||!i)return;const{detail:o}=await a.Z.getWorkspaceRoles(n,i);if("user"!==n){const e=o.filter((e=>"table"===e.type)).map((e=>e.id));t.dispatch(c.Nw.cleanCacheByIdsNotIn(e))}return o})),f=p("getPublicInfo",(async(e,t)=>{const{type:n,id:i}=e;if(!n||!i)return;const o=await a.Z.getPublicInfo(n,i);return await t.dispatch(d.Nw.planUpdate({id:i,type:n,plan:o.plan,planExpired:o.planExpired})),o}));p("workspaceFullQuota",(async(e,t)=>{const{type:n,id:i}=e;return await a.Z.withRequestId(t.requestId).getQuota(n,i,void 0,!0)}))},74909:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>b,ZP:()=>w,Uz:()=>m,MY:()=>C});var i=n(49163),o=n(53926),a=n.n(o),l=n(6686),r=n(22138);const s=(0,i.HF)({selectId:e=>"".concat(e.type,"_").concat(e.id)}),d=(0,i.HF)({selectId:e=>"".concat(e.type,"-").concat(e.id)});const c={planChange:function(e,t){const{payload:n}=t,i=m(n.type,n.id);s.updateOne(e,{id:i,changes:{plan:n.plan,planTrialing:n.planTrialing,lastUpdate:Date.now()}})},planUpdate:function(e,t){const{payload:n}=t;if(!n.id||!n.type||!n.plan||!n.planExpired)return;const i=m(n.type,n.id);s.updateOne(e,{id:i,changes:{plan:n.plan,planExpired:n.planExpired}})},roleChange:function(e){var t,n;e.workspaceRoleChanged={type:null===(t=e.workspace)||void 0===t?void 0:t.type,id:null===(n=e.workspace)||void 0===n?void 0:n.id}},clearRoleChange:function(e){e.workspaceRoleChanged=void 0},clearWorkspace:function(e){e.current=void 0,a().remove(r.ob),s.removeAll(e)},setWorkspaceQuotaNotified:function(e,t){e.notifiedQuotas||(e.notifiedQuotas={}),e.notifiedQuotas[t.payload]=(new Date).toISOString(),a().set(r.$8,e.notifiedQuotas)},setWorkspaceUnsubscribed:function(e,t){e.unsubscribeOrderNo=t.payload},update:function(e,t){var n;const{payload:i}=t;null!==(n=e.workspace)&&void 0!==n&&n.detail&&Object.assign(e.workspace.detail,i.updatedFields)},quota:function(e,t){t.payload&&d.setOne(e.workspaceQuotas,t.payload)}};var u=n(21101),p=n(96576),h=n(58590),v=n(98825),g=n(81837);const f=s.getInitialState({ids:[],entities:{},workspaceQuotas:{ids:[],entities:{}},current:a().get(r.ob),workspace:void 0,workspaceRoles:void 0,workspaceRoleChanged:void 0,notifiedQuotas:a().get(r.$8)}),m=(e,t)=>"".concat(e,"_").concat(t),y=(0,i.oM)({name:"workspace",initialState:f,reducers:c,extraReducers(e){e.addCase(p.N.create,((e,t)=>{s.addOne(e,t.payload)})).addCase(p.N.delete,((e,t)=>{let{payload:n}=t;s.removeOne(e,m("org",n.id))})).addCase(p.N.update,((e,t)=>{var n;const i=m("org",t.payload.ID);e.entities[i]&&s.updateOne(e,{id:i,changes:t.payload.updatedFields}),(null===(n=e.workspace)||void 0===n?void 0:n.id)===t.payload.ID&&(e.workspace.detail={...e.workspace.detail,...t.payload.updatedFields})})).addCase(p.N.invited,((e,t)=>{const n=m("org",t.payload.orgWorkspace.id);e.entities[n]||s.addOne(e,t.payload.orgWorkspace)})).addCase(u.N.update,((e,t)=>{const n=m("user",t.payload.userID);if(e.entities[n]){var i,o,a,l;if(t.payload.updatedFields.featuresGuideConfig&&null!==(i=e.workspace)&&void 0!==i&&i.detail)Object.assign(null===(o=e.workspace)||void 0===o?void 0:o.detail,{...null===(a=e.workspace)||void 0===a?void 0:a.detail,currentUser:{...null===(l=e.workspace)||void 0===l||null===(l=l.detail)||void 0===l?void 0:l.currentUser,featuresGuideConfig:t.payload.updatedFields.featuresGuideConfig}});s.updateOne(e,{id:n,changes:t.payload.updatedFields})}})).addCase(h.Nw.delete,((e,t)=>{var n;const{recycleProject:i}=t.payload;var o;null===(null===(n=e.workspace)||void 0===n?void 0:n.detail.recycleProjects)?e.workspace.detail.recycleProjects=[i]:null===(o=e.workspace)||void 0===o||null===(o=o.detail.recycleProjects)||void 0===o||o.push(i)})).addCase(h.Nw.deleteRecycle,((e,t)=>{var n,i,o,a;(null===(n=e.workspace)||void 0===n?void 0:n.detail)&&Object.assign(null===(i=e.workspace)||void 0===i?void 0:i.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleProjects:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleProjects)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.projectID))})})).addCase(h.Nw.recover,((e,t)=>{var n,i,o,a;(null===(n=e.workspace)||void 0===n?void 0:n.detail)&&Object.assign(null===(i=e.workspace)||void 0===i?void 0:i.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleProjects:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleProjects)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.project.id))})})).addCase(v.Nw.delete,((e,t)=>{var n;const{recycleDataFile:i}=t.payload;var o;null===(null===(n=e.workspace)||void 0===n?void 0:n.detail.recycleDataFiles)?e.workspace.detail.recycleDataFiles=[i]:null===(o=e.workspace)||void 0===o||null===(o=o.detail.recycleDataFiles)||void 0===o||o.push(i)})).addCase(v.Nw.deleteRecycle,((e,t)=>{var n,i,o,a;(null===(n=e.workspace)||void 0===n?void 0:n.detail)&&Object.assign(null===(i=e.workspace)||void 0===i?void 0:i.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleDataFiles:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleDataFiles)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.dataFileID))})})).addCase(v.Nw.recover,((e,t)=>{var n,i,o,a;(null===(n=e.workspace)||void 0===n?void 0:n.detail)&&Object.assign(null===(i=e.workspace)||void 0===i?void 0:i.detail,{...null===(o=e.workspace)||void 0===o?void 0:o.detail,recycleDataFiles:null===(a=e.workspace)||void 0===a||null===(a=a.detail.recycleDataFiles)||void 0===a?void 0:a.filter((e=>e.id!==t.payload.datafile.id))})})),e.addCase(g.fX.fulfilled,((e,t)=>{let{payload:n}=t;s.setAll(e,n)})).addCase(g.fX.rejected,((e,t)=>{throw t.error})).addCase(g.F9.fulfilled,((e,t)=>{let{payload:n,meta:i}=t;e.workspace=n,e.current={id:n.id,type:n.type,user:i.arg.userId},a().set(r.ob,e.current)})).addCase(g.F9.rejected,((e,t)=>{throw t.error})).addCase(g.hn.fulfilled,((e,t)=>{let{payload:n}=t;e.workspaceRoles=(n||[]).map((e=>({...e,rowLevelPermissions:l.uh.transformRLS(e.rowLevelPermissions)||void 0})))})).addCase(g.hn.rejected,((e,t)=>{throw t.error}))}}),w=y,b=y.actions,C=s.getSelectors((e=>e.workspace));d.getSelectors((e=>e.workspace.workspaceQuotas))},65886:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});const i="#0065ff",o="#0056d9",a={token:{colorLinkHover:i,borderRadius:4,sizePopupArrow:0,colorError:"#de350b",fontSize:13,colorPrimary:i,colorPrimaryHover:o,colorTextBase:"#091e42"},components:{Button:{fontSize:13,fontWeight:500,colorLink:i,colorLinkHover:o},Layout:{siderBg:"white",bodyBg:"white",headerHeight:48,headerPadding:0},Menu:{itemHeight:32,itemBorderRadius:0,itemMarginInline:0,paddingContentHorizontal:0,itemHoverBg:"transparent",itemHoverColor:i,itemSelectedBg:"transparent",iconMarginInlineEnd:22,subMenuItemBorderRadius:0},Segmented:{itemSelectedColor:"white",itemSelectedBg:i},Slider:{trackBg:i,trackHoverBg:o,handleColor:i}}}},16108:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});let i=function(e){return e.org="org",e.project="project",e.table="table",e.datafile="datafile",e}({})},40365:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var i=n(15972),o=n.n(i),a=n(49163),l=n(72494);const r=300;async function s(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Promise((o=>{const a=t(),l=-1!==a.app.fetchingList.findIndex((t=>t[e]));let d=null;return i>=n?(d&&clearTimeout(d),o(d)):l?void(d=setTimeout((()=>{o(s(e,t,n,i+r))}),r)):(d&&clearTimeout(d),o(a.app.wsSyncedData[e]))}))}function d(e){const{syncWithWebSocket:t,timeoutTime:n}=e,i=e.typePrefix,r="async";return{createAsyncAction:function(e,d,c){const u=i?"".concat(i,"/").concat(e,"_").concat(r):"".concat(e,"_").concat(r),p=o()({},c,{getPendingMeta:()=>({syncWithWebSocket:t})});return(0,a.hg)(u,(async function(){const e=arguments.length<=1?void 0:arguments[1];try{const t=await d(...arguments),i=await s(e.requestId,e.getState,null!==n&&void 0!==n?n:l.EH);return i&&(e.dispatch({type:"app/resolveWsSyncedData",payload:e.requestId}),Object.assign(t,{wsSyncedData:i})),t}catch(t){return Promise.reject(t)}}),p)},createUndoRedoActions:function(e,d,c){return function(){var u,p;let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};async function v(){const e=arguments.length<=1?void 0:arguments[1];try{const t=await d(...arguments),i=await s(e.requestId,e.getState,null!==n&&void 0!==n?n:l.EH);return i&&(e.dispatch({type:"app/resolveWsSyncedData",payload:e.requestId}),Object.assign(t,{wsSyncedData:i})),t}catch(t){return Promise.reject(t)}}const g=i?"".concat(i,"/").concat(e,"_").concat(r):"".concat(e,"_").concat(r),f=i?"".concat(i,"/undo_").concat(e,"_").concat(r):"undo_".concat(e,"_").concat(r),m=i?"".concat(i,"/redo_").concat(e,"_").concat(r):"redo_".concat(e,"_").concat(r),y=o()({},c,{getPendingMeta:()=>({syncWithWebSocket:t})}),w=(0,a.hg)(g,v,y),b=(0,a.hg)(f,v,y),C=(0,a.hg)(m,v,y);return{action:w,undoAction:null!==(u=h.undo)&&void 0!==u?u:b,redoAction:null!==(p=h.redo)&&void 0!==p?p:C}}}}}},40522:(e,t,n)=>{"use strict";n.d(t,{A$:()=>b,LR:()=>w,NH:()=>f,Pl:()=>g,V9:()=>v,aZ:()=>h,kv:()=>m,lm:()=>p,q6:()=>c,xz:()=>y});var i=n(36999),o=n.n(i),a=n(34362),l=n.n(a),r=n(15684),s=n.n(r),d=n(4511);const c=["png","jpeg","jpg","gif"],u=c;function p(e){var t;const n=null!==(t=null===e||void 0===e?void 0:e.lastIndexOf("."))&&void 0!==t?t:-1;return o()(n<1?"unknown":null===e||void 0===e?void 0:e.substr(n+1))}function h(e){const t=e.lastIndexOf(".");return t<1?e:e.slice(0,t)}function v(e,t){return"unknown"===t?e:"".concat(e,".").concat(t)}function g(e){return l()(u,e)}function f(e){return"pdf"===e}function m(e){return g(e)||f(e)}async function y(e,t,n,i,o){var a,l;if(!n)return;const r=null===(a=n.querySelectorAll(".".concat(t))[e])||void 0===a?void 0:a.querySelector("img"),c=null===(l=n.querySelectorAll(".".concat(t))[e])||void 0===l?void 0:l.querySelector("embed");if(r&&(r.onload=()=>new(s())(r,{inline:!0,backdrop:!1,button:!1,navbar:!1,title:!1,minWidth:n.offsetWidth,minHeight:n.offsetHeight,toolbar:{oneToOne:3,zoomIn:3,zoomOut:3,rotateLeft:3,rotateRight:3,flipHorizontal:3,flipVertical:3,reset:3,prev:!1,next:!1,play:!1}}),r.dataset.url))if(o)r.src=r.dataset.url;else{const e=await d.Z.getSignedUrlForDownload(r.dataset.url,i);r.src=e.detail}if(c){const e=c.dataset.url;if(e)if(o)c.src=e;else{const t=await d.Z.getSignedUrlForDownload(e,i),n=await d.Z.getFileContent(t.detail),o=URL.createObjectURL(new Blob([n],{type:"application/pdf"}));c.src=o}}}async function w(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){e=(await d.Z.getSignedUrlForDownload(e,t)).detail}const n=document.createElement("a");n.style.display="none",n.href=e,document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}function b(e,t){const n=document.createElement("a");n.style.display="none",n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},48466:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var i=n(37588),o=n.n(i),a=n(76806),l=n(53926),r=n.n(l),s=n(22138),d=n(72494);let c=function(e){return e.SupperAdmin="supperAdmin",e.Admin="admin",e.User="user",e}({});const u=(e,t,n)=>{var i,l;o().set(s.o3,e,{expires:d.Ie}),o().set(s.z6,t,{expires:d.Ie}),r().set(s.o3,e),r().set(s.z6,t);const u=(0,a.Z)(e);o().set(s.$A,null!==(i=null!==n&&void 0!==n?n:null===u||void 0===u?void 0:u.userType)&&void 0!==i?i:c.User,{expires:d.Ie}),o().set(s.VR,""+Math.round(null!==(l=null===u||void 0===u?void 0:u.exp)&&void 0!==l?l:(new Date).getTime()/1e3+432e3)),o().set(s.$,"true",{expires:d.Ie})}},49756:(e,t,n)=>{"use strict";n.d(t,{Dw:()=>a});var i=n(56356),o=n.n(i);function a(e){return o()(getComputedStyle(document.documentElement).getPropertyValue(e))}},62502:(e,t,n)=>{"use strict";n.d(t,{g_:()=>s,ky:()=>l,m2:()=>r,qf:()=>a});const i=(0,n(51373).Z)();function o(e){return{on(t){i.on(e,t)},emit(t){i.emit(e,t)},off(t){i.off(e,t)}}}o("createTableNode");const a=o("previewAttachment"),l=o("openDetailPanel"),r=o("fitLayerBounds"),s=o("selectTableRow");o("focusOnPoi"),o("closeMobileDrawer")},38362:(e,t,n)=>{"use strict";function i(){return null!==navigator.userAgent.match(/Android/i)}function o(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}function a(){return i()||o()}function l(){return/micromessenger\/([\d.]+)/i.test(navigator.userAgent)}function r(){return null!==navigator.userAgent.match(/Lark|Feishu/i)}n.d(t,{Dt:()=>i,PG:()=>r,e3:()=>l,gn:()=>o,tq:()=>a})},22963:(e,t,n)=>{"use strict";n.d(t,{tr:()=>q,Fs:()=>U});var i=n(57323),o=n.n(i),a=n(3254),l=n.n(a),r=n(27371),s=n(37588),d=n.n(s),c=n(53926),u=n.n(c),p=n(58081),h=n.n(p),v=n(15972),g=n.n(v),f=n(53813),m=n.n(f),y=n(99540),w=n.n(y),b=n(22299),C=n.n(b),x=n(38981),I=n.n(x),j=n(88716),M=n.n(j),k=n(74720),T=n.n(k),E=n(468),P=n.n(E),O=n(74797),S=n(22138),_=n(15328);class N extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,N),this.name="AuthError",this.code="401"}}class D extends Error{constructor(e,t){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,D),this.name="QuotaLimitError",this.message=JSON.stringify({...t,id:e})}}class L extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,L),this.name="NetworkError",this.code="503"}}class A extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,A),this.name="RequestTooOftenError",this.code="400"}}var R=n(48466),Z=n(66368),F=n(72494);let z;r.ZP.config({prefixCls:O.Z.antdPrefix+"-message",maxCount:3});const B=e=>"token/refresh/"===e,V=()=>u().get(S.o3)||"";class H{static create(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.instance||(this.instance=this.fetchToken(e)),this.instance}static async fetchToken(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(0,Z.R1)())return this.retries>=this.maxRetries?(this.instance=null,Promise.reject(new Error("Max refresh token retries exceeded"))):(this.retries++,U({baseURL:"".concat(O.Z.baseApiURL,"/")}).post("token/refresh/",{refreshToken:u().get(S.z6)||""},{ignoreError:!0}).then((e=>{null!==e&&void 0!==e&&e.data&&(0,R.l)(e.data.extra.token,e.data.extra.refreshToken),this.instance=null,this.retries=0})).catch((t=>(this.instance=null,!e||l().isCancel(t)||401!==T()(t,"response.status")&&401!==T()(t,"response.data.code")&&"errors.user.noPermission"!==T()(t,"response.data.message")?Promise.reject(t):Promise.reject(new N(t))))))}static dailyRefresh(){if("true"!==d().get(S.$)||!d().get(S.o3)||!d().get(S.z6))return!1;const e=Date.now();e-w()(d().get(S.Ek)||0)>864e5&&(d().set(S.Ek,I()(e)),this.fetchToken())}}o()(H,"instance",null),o()(H,"maxRetries",10),o()(H,"retries",0);const W=e=>H.create(!0).then(e);function U(e){let t=null,n=null;return new Proxy({},{get:(i,o)=>async function(){const i=await(async()=>t||(n||(n=(async()=>{const n=g()({},{baseURL:O.Z.baseApiURL,timeout:F.EH,paramsSerializer:function(e){return h().stringify(e,{arrayFormat:"repeat"})}},e);"larkDashboard"===(0,Z.lO)()&&(n.baseURL=n.baseURL.replace("https://maptable.com/api","https://maptable.net/api")),t=l().create(n),t.interceptors.request.use((e=>(e.token||H.dailyRefresh(),e.params={...e.params},O.Z.requestParams&&(e.params=Object.assign(e.params,O.Z.requestParams)),e.headers&&(e.token?e.headers.Authorization=e.token:e.headers.Authorization=V(),e.headers.Locale=(0,_.nI)(),z&&(e.headers["x-maptable-current-org"]=I()(z))),e)),(e=>Promise.reject(e))),t.interceptors.response.use((e=>e),(e=>{if(!l().isCancel(e)){if("Request too often"===T()(e,"response.data.message",e))return Promise.reject(new A(e));if("Network Error"===T()(e,"message"))return Promise.reject(new L(e));if(401===T()(e,"response.status")||401===T()(e,"response.data.code")){const n=null===e||void 0===e?void 0:e.config;return B(null===n||void 0===n?void 0:n.url)||n.token?Promise.reject(new N(e)):W((()=>{var e;return n.headers.Authorization=d().get(S.o3),null===(e=t)||void 0===e?void 0:e(n)}))}if(403===T()(e,"response.data.code")){r.ZP.destroy();const t=T()(e,"response.data.message","errors.network.request"),{domain:n,current:i,required:o}=T()(e,"response.data.params",{}),a=null===_.gs||void 0===_.gs?void 0:_.gs.$t({id:t,defaultMessage:[]},{domain:M()(n)?void 0:_.gs.$t({id:n,defaultMessage:[]}),current:M()(i)?void 0:_.gs.$t({id:i,defaultMessage:[]}),required:M()(o)?void 0:_.gs.$t({id:o,defaultMessage:[]})});r.ZP.error(a)}else if(413===T()(e,"response.status"))r.ZP.error(null===_.gs||void 0===_.gs?void 0:_.gs.$t({id:"qvWOWk",defaultMessage:"The requested data size is too large, please reduce the data and try again."}));else if(!T()(e,"response.config.ignoreError")){if(4001===T()(e,"response.data.code"))return Promise.reject(new D(T()(e,"response.data.message",e),T()(e,"response.data.params",void 0)));if("ECONNABORTED"===T()(e,"code"))r.ZP.destroy(),r.ZP.error(null===_.gs||void 0===_.gs?void 0:_.gs.$t({id:"F65NCR",defaultMessage:"Network request timed out, please try again later."}));else{r.ZP.destroy();const t=T()(e,"response.data.message","errors.network.request"),n=T()(e,"response.data.params",void 0),i=T()(n,"to","pro"),o=T()(n,"toTeam"),a=null===_.gs||void 0===_.gs?void 0:_.gs.$t({id:t,defaultMessage:[]},{...n,nextPlan:o?_.gs.$t({id:"yZHTdD",defaultMessage:"Pro(Team)"}):_.gs.$t({id:"plan.type.".concat(i),defaultMessage:[]})});a&&r.ZP.error({key:t,content:a})}}}const n=T()(e,"response.data.message","errors.network.request"),i=T()(e,"response.data.params",void 0),o=null===_.gs||void 0===_.gs?void 0:_.gs.$t({id:n,defaultMessage:[]},i);return Object.assign(e,{message:"".concat(o," ").concat(e.message)}),Promise.reject(e)}))})()),await n,t))();return i[o](...arguments)}})}const G=["post","put","delete","get","patch"];class q{constructor(e){var t=this;o()(this,"requestId",null),o()(this,"customHeaders",{}),this.fetch=P()(e,G),G.forEach((n=>{this.fetch[n]=async function(i){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;const l=t.getCustomHeaders(),r=m()(o);t.clearRequestId(),["delete","get"].includes(n)&&!M()(l)&&Object.assign(r,{headers:l});return await e[n](i,r,g()({},a,M()(l)?{}:{headers:l}))}}))}getCustomHeaders(){return C()(this.customHeaders)}withRequestId(e){return this.customHeaders={...this.customHeaders,"x-maptable-requestid":e},this}clearRequestId(){this.customHeaders["x-maptable-requestid"]&&delete this.customHeaders["x-maptable-requestid"]}}},69151:(e,t,n)=>{"use strict";n.d(t,{BC:()=>Z,CB:()=>E,Ef:()=>k,Jz:()=>V,NU:()=>$,Q4:()=>W,Qf:()=>B,Ql:()=>Y,S8:()=>L,Tt:()=>O,UH:()=>J,Zw:()=>_,_3:()=>R,_M:()=>G,c8:()=>K,dV:()=>F,eU:()=>S,kE:()=>D,np:()=>M,oM:()=>z,oh:()=>T,pk:()=>N,po:()=>Q,s0:()=>H,sI:()=>A,uL:()=>j,v6:()=>q,wf:()=>U});var i=n(91671),o=n(75538),a=n.n(o),l=n(7070),r=n.n(l),s=n(23903),d=n.n(s),c=n(56439),u=n.n(c),p=n(55349),h=n.n(p),v=n(18878),g=n.n(v),f=n(46881),m=n.n(f),y=n(92626),w=n.n(y),b=n(99540),C=n.n(b),x=n(11546),I=n(49210);function j(e){let{type:t,typeOptions:n}=e;return"formula"===t&&"coordinate"===(null===n||void 0===n?void 0:n.expectedType)}function M(e){let{type:t,typeOptions:n}=e;return"formula"===t&&"multiLineText"===(null===n||void 0===n?void 0:n.expectedType)}function k(e){let{type:t,typeOptions:n}=e;return"formula"===t&&"number"===(null===n||void 0===n?void 0:n.expectedType)}function T(e){let{type:t,typeOptions:n}=e;return"lookup"===t&&!(null===n||void 0===n||!n.lookupResultType)&&"original"!==n.lookupResultType&&"distinct"!==n.lookupResultType}function E(e){var t;return P(e)&&("multiLineText"===e.typeOptions.lookupColumnType||"formula"===e.typeOptions.lookupColumnType&&"multiLineText"===(null===(t=e.typeOptions.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType))}function P(e){let{type:t,typeOptions:n}=e;return"lookup"===t&&("original"===(null===n||void 0===n?void 0:n.lookupResultType)||"distinct"===(null===n||void 0===n?void 0:n.lookupResultType))}function O(e){var t;return P(e)&&("coordinate"===e.typeOptions.lookupColumnType||"formula"===e.typeOptions.lookupColumnType&&"coordinate"===(null===(t=e.typeOptions.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType))}function S(e){var t,n,i;return"lookup"===e.type&&("original"!==(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupResultType)&&"distinct"!==(null===(n=e.typeOptions)||void 0===n?void 0:n.lookupResultType)||!(null===(i=e.typeOptions)||void 0===i||!i.lookupColumnType||!d()(x.Z9,(t=>{var n;return!0===t.computable&&(null===t||void 0===t?void 0:t.type)===(null===(n=e.typeOptions)||void 0===n?void 0:n.lookupColumnType)}))))}function _(e){return!!e&&("singleChoice"===e.type||"multiChoice"===e.type)}function N(e){let{typeOptions:t}=e;return"singleChoice"===(null===t||void 0===t?void 0:t.lookupColumnType)||"multiChoice"===(null===t||void 0===t?void 0:t.lookupColumnType)}function D(e){return!!e&&("number"===e.type||k(e)||T(e))}function L(e){return!!e&&("multiLineText"===e.type||H(e)||M(e))}function A(e){return!!e&&(D(e)||function(e){var t;return P(e)&&("number"===e.typeOptions.lookupColumnType||"formula"===e.typeOptions.lookupColumnType&&"number"===(null===(t=e.typeOptions.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType))}(e))}function R(e){return!!e&&"singleChoice"===e.type}function Z(e){var t,n;return!!e&&(R(e)||"singleChoice"===(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)||"singleChoice"===(null===(n=e.typeOptions)||void 0===n?void 0:n.expectedType))}function F(e){let{type:t,typeOptions:n}=e;return"datetime"===t||"updateTime"===t||"createTime"===t||"formula"===t&&"datetime"===(null===n||void 0===n?void 0:n.expectedType)||"lookup"===t&&"datetime"===(null===n||void 0===n?void 0:n.lookupColumnType)}function z(e){return"related"===e.type}function B(e){return"lookup"===e.type}function V(e){return"formula"===e.type}function H(e){let{type:t,typeOptions:n}=e;return"lookup"===t&&("original"===(null===n||void 0===n?void 0:n.lookupResultType)||"distinct"===(null===n||void 0===n?void 0:n.lookupResultType))&&"coordinate"!==n.lookupColumnType&&"attachment"!==n.lookupColumnType&&"singleChoice"!==n.lookupColumnType&&"number"!==n.lookupColumnType}function W(e){var t;return"lookup"===e.type&&"attachment"===(null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)}function U(e){var t,n,i;return"lookup"===(null===e||void 0===e?void 0:e.type)&&("member"===(null===e||void 0===e||null===(t=e.typeOptions)||void 0===t?void 0:t.lookupColumnType)||"creator"===(null===e||void 0===e||null===(n=e.typeOptions)||void 0===n?void 0:n.lookupColumnType)||"updater"===(null===e||void 0===e||null===(i=e.typeOptions)||void 0===i?void 0:i.lookupColumnType))}function G(e){var t;if("lookup"!==(null===e||void 0===e?void 0:e.type)||null===e||void 0===e||!e.typeOptions)return!1;const n=null===e||void 0===e?void 0:e.typeOptions;return"datetime"===n.lookupColumnType||"updateTime"===n.lookupColumnType||"createTime"===n.lookupColumnType||"formula"===n.lookupColumnType&&"datetime"===(null===(t=n.lookupColumnTypeOptions)||void 0===t?void 0:t.expectedType)}function q(e){let{type:t,typeOptions:n}=e;return"creator"===t||"updater"===t||U({type:t,typeOptions:n})}function $(e){return!!e&&(q(e)||"member"===e.type)}function J(e){var t;let{type:n,typeOptions:i}=e;return i?"formula"!==n?n:null!==(t=i.expectedType)&&void 0!==t?t:n:n}function Q(e){let{type:t,typeOptions:n}=e;var i;return"formula"===t&&"number"===(null===n||void 0===n?void 0:n.expectedType)?{...n,precision:null!==(i=n.numberPrecision)&&void 0!==i?i:0,format:n.numberFormat}:n}function K(e,t,n,o){var l,s;let d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const c=null===t||void 0===t?void 0:t.type,p=null===t||void 0===t?void 0:t.typeOptions;if("singleChoice"===c||"multiChoice"===c||"singleChoice"===(null===t||void 0===t||null===(l=t.typeOptions)||void 0===l?void 0:l.expectedType)||"lookup"===c&&("singleChoice"===(null===p||void 0===p?void 0:p.lookupColumnType)||"multiChoice"===(null===p||void 0===p?void 0:p.lookupColumnType))){var v,f,m;const t=null!==(v=null!==(f=null===p||void 0===p?void 0:p.choices)&&void 0!==f?f:null===p||void 0===p||null===(m=p.lookupColumnTypeOptions)||void 0===m?void 0:m.choices)&&void 0!==v?v:[];return a()(r()(u()(e,","),(e=>{var n,i;return null!==(n=null===(i=t.find((t=>t.id===e)))||void 0===i?void 0:i.name)&&void 0!==n?n:""})))}if("attachment"===c)return a()(r()(e,(e=>e.url)));if("multiLineText"===c&&d){const t=new(w())([[e]]).encode(),n=t.slice(1,-1);return n.match(/[\n\t"]/gm)?t:n}if("boolean"===c)return e?"True":"False";var y,b,x;if("number"===c)return g()(e)?(0,i.P)(e,null!==(y=null===p||void 0===p?void 0:p.precision)&&void 0!==y?y:0,null===p||void 0===p?void 0:p.format):e;if("formula"===c){var j;if("number"===(null===p||void 0===p?void 0:p.expectedType)&&null!==e)return(0,i.P)(C()(e),null!==(j=null===p||void 0===p?void 0:p.numberPrecision)&&void 0!==j?j:0,null===p||void 0===p?void 0:p.numberFormat);if("multiLineText"===(null===p||void 0===p?void 0:p.expectedType)&&d){const t=new(w())([[e]]).encode(),n=t.slice(1,-1);return n.match(/[\n\t"]/gm)?t:n}if(null!==e&&Array.isArray(e))return e.map((e=>e.text)).join(",")}if("member"===c)return a()(r()(e,(e=>{var t,i;return null!==(t=null===n||void 0===n||null===(i=n.find((t=>t.id===e)))||void 0===i?void 0:i.name)&&void 0!==t?t:""})));if("updater"===c||"creator"===c)return null!==(b=null!==(x=null===e||void 0===e?void 0:e.name)&&void 0!==x?x:a()(r()(e,(e=>{var t,i;return null!==(t=null===n||void 0===n||null===(i=n.find((t=>t.id===e)))||void 0===i?void 0:i.name)&&void 0!==t?t:""}))))&&void 0!==b?b:"";if("related"===c)return a()(r()(e,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.displayName)&&void 0!==t?t:""})));if("lookup"===c)switch(null===p||void 0===p?void 0:p.lookupColumnType){case"number":return a()(r()(e,(e=>{var t;return g()(e)?(0,i.P)(e,null!==(t=null===p||void 0===p?void 0:p.precision)&&void 0!==t?t:0,null===p||void 0===p?void 0:p.format):e})));case"updater":case"creator":case"member":return a()(r()(e,(e=>{var t,i;return null!==(t=null===n||void 0===n||null===(i=n.find((t=>t.id===e)))||void 0===i?void 0:i.name)&&void 0!==t?t:""})));case"singleChoice":case"multiChoice":return a()(r()(u()(e,","),(e=>{var t,n;return null!==(t=null===p||void 0===p||null===(n=p.lookupColumnTypeOptions)||void 0===n||null===(n=n.choices)||void 0===n||null===(n=n.find((t=>t.id===e)))||void 0===n?void 0:n.name)&&void 0!==t?t:""})));case"datetime":case"createTime":case"updateTime":return a()(r()(e,(e=>h()(e)?"":(0,I.U)(e,null===p||void 0===p?void 0:p.lookupColumnTypeOptions,o))));case"related":return a()(r()(e,(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.displayName)&&void 0!==t?t:""})));case"formula":switch(null===p||void 0===p||null===(s=p.lookupColumnTypeOptions)||void 0===s?void 0:s.expectedType){case"datetime":return a()(r()(e,(e=>{var t,n,i;return h()(e)?"":(0,I.U)(e,{dateFormat:null===p||void 0===p||null===(t=p.lookupColumnTypeOptions)||void 0===t?void 0:t.datetimeDateFormat,timeFormat:null===p||void 0===p||null===(n=p.lookupColumnTypeOptions)||void 0===n?void 0:n.datetimeTimeFormat,showTimezone:null===p||void 0===p||null===(i=p.lookupColumnTypeOptions)||void 0===i?void 0:i.showTimezone},o)})));case"number":return a()(r()(e,(e=>{var t;return g()(e)?(0,i.P)(e,null!==(t=null===p||void 0===p?void 0:p.precision)&&void 0!==t?t:0,null===p||void 0===p?void 0:p.format):e})))}return a()(e);default:return Array.isArray(e)?a()(e):e}return null!==e&&void 0!==e?e:""}function Y(e){if(!e)return;const t={string:L(e),singleChoice:Z(e),number:A(e),user:$(e)};return m()(t,(e=>e))}},30731:(e,t,n)=>{"use strict";n.d(t,{Jl:()=>z,OV:()=>V,Oy:()=>R,SD:()=>Z,UM:()=>L,VQ:()=>O,bs:()=>F,cm:()=>S,hu:()=>D,lv:()=>A,n8:()=>B});n(57435);var i=n(43179),o=n.n(i),a=n(56439),l=n.n(a),r=n(99540),s=n.n(r),d=n(62618),c=n.n(d),u=n(57889),p=n.n(u),h=(n(55349),n(42552)),v=n(31343),g=n(36639),f=n(89983),m=n(22601),y=n(69151),w=n(33766),b=n(49210),C=n(98403);function x(e){let{date:t,typeOptions:n,isGpuDatetime:i}=e;if(null!==n&&void 0!==n&&n.dateFormat&&null!==n&&void 0!==n&&n.timeFormat){const e=t&&i&&"number"===typeof t?t*m.go:t;return o()(e).valueOf()}return t&&(0,b.qb)(t)?o()(t).valueOf():s()(t)}const I=e=>{if(!e)return"";let t=[],n=[];try{"string"===typeof e?t=JSON.parse(e):"object"===typeof e&&(t=e),n=t.map((e=>e.displayName))}catch(i){return""}return String(c()(n)).toLowerCase()},j=(e,t,n)=>{var i;if("datetime"===(null===t||void 0===t?void 0:t.lookupColumnType)||"formula"===(null===t||void 0===t?void 0:t.lookupColumnType)&&"datetime"===(null===t||void 0===t||null===(i=t.lookupColumnTypeOptions)||void 0===i?void 0:i.expectedType)){return null===(Array.isArray(e)?1===e.length?e[0]:null:e)?NaN:x({date:e,typeOptions:null===t||void 0===t?void 0:t.lookupColumnTypeOptions,isGpuDatetime:n})}return"related"===(null===t||void 0===t?void 0:t.lookupColumnType)?I(e):String(M(e)).toLowerCase()};function M(e){return Array.isArray(e)?c()(e).join(","):e}const k=/^P(-)?(\d+Y)?(\d+Q)?(\d+M)?(\d+W)?(\d+D)?(=)?$/;function T(e){return Array.isArray(e)&&e.length>0&&"key"in e[0]}function E(e,t,n,i){if(null==e)switch(n){case m.Rp.isNot:case m.Rp.notEqual:case m.Rp.notContains:case m.Rp.isNull:return!0;default:return!1}switch(n){case m.Rp.equals:return e===i||""===i;case m.Rp.notEqual:return e!==i;case m.Rp.is:if(t.datetime&&(o=i,Array.isArray(o)&&o.length>0&&"number"===typeof o[0])){const t=+e,[n,o]=i;return n<=t&&t<=o}return e===i;case m.Rp.isNot:return e!==i;case m.Rp.startsWith:return 0===String(e).indexOf(i);case m.Rp.endsWith:return String(e).lastIndexOf(String(i))===String(e).length-String(i).length;case m.Rp.isBefore:case m.Rp.lessThan:return s()(e)<s()(i);case m.Rp.lessThanOrEqual:return s()(e)<=s()(i);case m.Rp.isAfter:case m.Rp.greaterThan:return s()(e)>s()(i);case m.Rp.greaterThanOrEqual:return s()(e)>=s()(i);case m.Rp.contains:return t.choice||t.user||t.lookupUser||t.lookupChoice?String(i).split(",").some((t=>String(e).split(",").includes(t))):String(e).indexOf(String(i))>=0;case m.Rp.containsAll:return String(e).indexOf(String(i))>=0;case m.Rp.notContains:return t.choice||t.lookupChoice||t.user?!String(i).split(",").some((t=>String(e).split(",").includes(t))):-1===String(e).indexOf(String(i));case m.Rp.isNull:return t.number?isNaN(s()(e))||"undefined"===typeof e:!e;case m.Rp.isNotNull:return t.number?!isNaN(s()(e))&&"undefined"!==typeof e:!!e;case m.Rp.inArea:return(0,f.aP)(String(e),String(i));case m.Rp.inRange:{if(!T(i))return!!e;const n=t.choice||t.lookupChoice?Z(e):e;return i.every((e=>s()(n)>=e.values[0]&&s()(n)<=e.values[1]))}case m.Rp.notInRange:{if(!T(i))return!!e;const n=t.choice||t.lookupChoice?Z(e):e;return i.every((e=>s()(n)<e.values[0]||s()(n)>e.values[1]))}default:return!0}var o}function P(e,t,n){const i=e.value;if(void 0===i)return i;const a=null===n||void 0===n?void 0:n.now,l=null===n||void 0===n?void 0:n.useGPU,r=null===n||void 0===n?void 0:n.timezone,s=e.field.typeOptions,d=null===n||void 0===n?void 0:n.mondayFirst,c=e.op.key;if(t.datetime&&c===m.Rp.is){const e=function(e){let{s:t,now:n=o()(),mondayFirst:i=!1,timezone:a}=e;if("string"!==typeof t)return null;if("P"!==t[0])return null;if(t.length<3)return null;const l=t.match(k);if(!l)return null;const r="-"===l[1]?-1:1,s="="===l[l.length-1],[d,c,u,p,h]=l.slice(2).map((e=>e?parseInt(e.slice(0,-1)):null)),v=(0,C.iR)(n,a),g=v.startOf("day");if(null!==d){const e=v.add(r*d,"year");return s?[e,g]:[e.startOf("year"),e.endOf("year")]}if(null!==c){const e=v.add(r*c,"quarter");return s?[e,g]:[e.startOf("quarter"),e.endOf("quarter")]}if(null!==u){const e=v.add(r*u,"month");return s?[e,g]:[e.startOf("month"),e.endOf("month")]}if(null!==p){const e=v.add(r*p,"week");return i?s?[e,g]:[e.startOf("week").add(1,"day"),e.endOf("week").add(1,"day")]:s?[e,g]:[e.startOf("week"),s?v:e.endOf("week")]}return null!==h?r>0?s?[v.startOf("day"),v.add(h,"day").endOf("day")]:[v.add(1,"day").startOf("day"),v.add(h,"day").endOf("day")]:s?[v.subtract(h,"day").startOf("day"),v.startOf("day")]:[v.subtract(h,"day").startOf("day"),v.subtract(1,"day").endOf("day")]:null}({s:i,now:a,mondayFirst:d,timezone:r});if(e)return e.map((e=>x({date:e.toDate(),typeOptions:s,isGpuDatetime:l})))}if(c===m.Rp.inRange||c===m.Rp.notInRange){if(!i)return;return R(String(i))}return t.number?+i:t.datetime?x({date:i,typeOptions:s}):t.related?I(i):t.lookup?j(i,s):String(M(i)).toLowerCase()}class O{constructor(e,t){this.filter=null!==e&&void 0!==e?e:void 0,this.useGPU=(null===t||void 0===t?void 0:t.isGpuDatetime)||!1,this.mondayFirst=(null===t||void 0===t?void 0:t.mondayFirst)||!1,this.timezone=null===t||void 0===t?void 0:t.timezone,this.now=null===t||void 0===t?void 0:t.now,this.isLngLat=null===t||void 0===t?void 0:t.isLngLat,null!==t&&void 0!==t&&t.skipCache||(this.weakmap=new WeakMap)}format(e,t){const{is:n,formatCell:i,formattedValue:o}=this.cached(e);return{is:n,formattedCell:i(t),formattedValue:o}}cached(e){var t,n;if(this.weakmap){const t=this.weakmap.get(e);if(t)return t}const i=e.op.key,o=e.field,a="value"===e.comparing,r=o.typeOptions,s=(0,y.Qf)(o),d=(0,y.Jz)(o),c=(0,y.BC)(o),u={user:(0,y.v6)(o),number:(0,y.kE)(o),datetime:(0,y.dV)(o),choice:(0,y.Zw)(o),related:(0,y.oM)(o),lookup:s||d,lookupUser:s&&["member","creator","updater"].includes(null!==(t=null===r||void 0===r?void 0:r.lookupColumnType)&&void 0!==t?t:""),lookupChoice:s&&["multiChoice","singleChoice"].includes(null!==(n=null===r||void 0===r?void 0:r.lookupColumnType)&&void 0!==n?n:"")||c},p=P(e,u,{useGPU:this.useGPU,now:this.now,timezone:this.timezone,mondayFirst:this.mondayFirst}),h=i===m.Rp.equals&&"boolean"===o.type,v={is:u,formattedValue:p,formatCell:e=>{if(null==e)return h?"false":e;const t=u.user?String(null===e||void 0===e?void 0:e.id):u.number?+e:u.datetime?x({date:e,typeOptions:r,isGpuDatetime:this.useGPU}):u.related?I(e):u.lookup?j(e,r,this.useGPU):String(M(e)).toLowerCase();if(a&&(u.choice||u.lookupChoice)){var n;const t=(null===r||void 0===r?void 0:r.choices)||(null===r||void 0===r||null===(n=r.lookupColumnTypeOptions)||void 0===n?void 0:n.choices)||[];return String(l()(e).map((e=>{var n;return null===(n=t.find((t=>t.id===e)))||void 0===n?void 0:n.name}))).toLowerCase()}return t}};return this.weakmap&&this.weakmap.set(e,v),v}test(e,t,n){const i=t||this.filter;return!i||g.K.test(i,(t=>{if(!t.field||!t.op)return!0;let i=e[t.field.id];if(this.isLngLat&&n){const o=e[n];o&&(i="POINT(".concat(i," ").concat(o,")"),Object.assign(t.field,{type:"coordinate"}))}const{is:o,formattedValue:a,formattedCell:l}=this.format(t,i);return E(l,o,t.op.key,a)}))}}function S(e,t,n){return new O(t,{skipCache:!0,...n}).test(e)}const _=(0,h.kP)(v.Q,12);function N(e){var t;const n=null!==(t=e.id)&&void 0!==t?t:_();return"and"in e?{and:(e.and||[]).map(N),id:n}:"or"in e?{or:(e.or||[]).map(N),id:n}:{...e,id:n}}function D(e,t){if(!e)return null;if(g.K.isEmpty(e))return null;const n=new Map(t.map((e=>[e.id,e])));const i=function e(t){if("and"in t)return{id:t.id,and:(t.and||[]).map(e).filter((e=>null!==e))};if("or"in t)return{id:t.id,or:(t.or||[]).map(e).filter((e=>null!==e))};if(!("op"in t))return null;const i=m.fP[t.op];if(!i)return null;let o=n.get(t.column);return o&&(o={...o,type:(0,y.UH)(o),typeOptions:(0,y.po)(o)}),{id:t.id,op:{...i},field:o,value:t.value}}(e);return i?N(i):null}function L(e,t){return!(!e||!t)&&("and"in e?(e.and||[]).some((e=>L(e,t))):"or"in e?(e.or||[]).some((e=>L(e,t))):e.column===t)}function A(e,t,n){return t?S(e,t,{isGpuDatetime:n})?1:-1:1}function R(e){return e?p()(e.split(","),3).reduce(((e,t)=>{const n={key:t[0],values:[s()(t[1]),s()(t[2])]};return e.push(n),e}),[]):[]}function Z(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return Math.abs(t)}function F(e,t,n){var i;const o=null===t||void 0===t||null===(i=t.find((e=>e.id===n)))||void 0===i?void 0:i.columns;if(!o)return e||[];n&&w.Jd;const a=o.map((e=>e.id));return(e||[]).filter((e=>a.includes(e.id))).sort(((e,t)=>a.indexOf(e.id)-a.indexOf(t.id)))}function z(e,t){let{workspaceId:n,layerNodeId:i}=e;return!0===(null===t||void 0===t?void 0:t.allowAnonymous)?i:n&&i?"".concat(n,"_").concat(i):i}function B(e){if(!e)return null;if(e.filter)return g.K.isEmpty(e.filter)?null:e.filter;if(!e.filters)return null;const t=e.filters.map((e=>({column:e.columnID,op:e.relation,value:e.value})));return"or"===e.filterCondition?{or:t}:{and:t}}function V(e){if(!e)return null;const t={filter:e};let n=[];return"or"in e&&e.or.length&&(t.filterCondition="or",n=e.or),"and"in e&&e.and.length&&(t.filterCondition="and",n=e.and),"op"in e&&(t.filterCondition="and",n=[e]),n.length&&(t.filters=n.map((e=>"column"in e?{columnID:e.column,relation:e.op,value:e.value}:null)).filter(Boolean)),t}},49210:(e,t,n)=>{"use strict";n.d(t,{Cl:()=>C,E_:()=>v,IG:()=>p,N5:()=>h,SH:()=>u,U:()=>f,f7:()=>x,kK:()=>I,lB:()=>w,o0:()=>m,p6:()=>y,qT:()=>b,qb:()=>g});var i=n(43179),o=n.n(i),a=n(99540),l=n.n(a),r=n(56356),s=n.n(r),d=n(57316),c=(n(32820),n(15328),n(98403));function u(e){if(0!==e&&e>-.1&&e<1){let t,n=e;for(t=0;t<10&&n>-.1&&n<1;t++)n*=10;return parseFloat(e.toFixed(t+2))}return parseFloat(l()(e).toFixed(3))}function p(e){return function(e){const t=[{value:1e9,symbol:"b"},{value:1e6,symbol:"m"},{value:1e3,symbol:"k"}];if(e<1e3)return e.toString();for(const n of t)if(e>=n.value){const t=e/n.value,i=Math.floor(t).toString().length,o=Math.max(0,4-i);return t.toFixed(o).replace(/\.?0+$/,"")+n.symbol}return e.toString()}(u(e))}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=Math.pow(10,t);return(Math.round(100*e*n)/n).toFixed(t)+"%"}function v(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)}const g=(()=>{const e={};return function(t){if(t in e)return e[t];const n="Invalid Date"!==new Date(t).toString();return e[t]=n,n}})(),f=(()=>{const e=Object.keys(d.zT)[0],t=Object.keys(d.zT)[2],n={};return function(i,a,l){var r,u;if(!g(i))return i?String(i):"";const p=null!==(r=null===a||void 0===a?void 0:a.dateFormat)&&void 0!==r?r:e,h=null!==(u=null===a||void 0===a?void 0:a.timeFormat)&&void 0!==u?u:t,v="12-hour-clock"===h?" A":"",f=null!==a&&void 0!==a&&a.showTimezone?" ([GMT] Z)":"";let m="".concat(d.T_[h]||"").concat(v).concat(f);const y=d.zT[p];y&&(m=y+" "+m);const w="".concat(i,"/").concat(m,"/").concat(l||"");if(w in n)return s()(n[w]);const b=o()(i);return n[w]=(0,c.iR)(b,l).format(m),s()(n[w])}})();function m(e){return g(e)?o()(e).format("YYYY/MM/DD HH:mm:ss"):e}function y(e,t){return g(e)?o()(e).subtract(null!==t&&void 0!==t?t:0,"day").format("YYYY/MM/DD"):e}function w(e){return(l()(e)/100).toFixed(2)}function b(e){const t=l()(e)/100;return Number.isInteger(t)?t.toFixed(0):t.toFixed(2)}function C(e){const t=Math.floor(e/60%60),n=Math.floor(e%60);return"".concat(t,":").concat(n<10?"0"+n:n)}function x(e){try{return new URL(e),e}catch{return"https://".concat(e)}}function I(e){const t=Number(e);if(!t)return"0B";const n=["B","KB","MB","GB","TB"],i=Math.min(Math.floor(Math.log(t)/Math.log(1024)),n.length-1);return 0===i?"".concat(t).concat(n[i]):"".concat((t/1024**i).toFixed(1)," ").concat(n[i])}},90875:(e,t,n)=>{"use strict";n.d(t,{t7:()=>l,u9:()=>a,vG:()=>r});var i=n(13226),o=n.n(i);function a(e,t,n){const i=(null!==t&&void 0!==t?t:64)*(n?1:window.devicePixelRatio);return e?e+"?x-oss-process=image/resize,m_fill,w_".concat(Math.floor(i),",h_").concat(Math.floor(i)):""}function l(e){var t;return e=null!==(t=e)&&void 0!==t?t:"",o()(o()(e,"-private","-public"),"files/","files/thumbnail-")}function r(e){const[t,n,i]=[656,1582,12],o=e.includes("autonavi"),a=e.includes("mapbox");if(o){const[t,n,i]=[106,48,7];return e.replace("{x}",String(t)).replace("{y}",String(n)).replace("{z}",String(i))}if(a)return e.replace("{x}",String(t)).replace("{y}",String(n)).replace("{z}",String(i));{const o=e.split("?")[0].replace("{x}",String(t)).replace("{y}",String(n)).replace("{z}",String(i));return!o||o.endsWith(".png")||o.endsWith(".jpg")?o:"".concat(o)}}},33625:(e,t,n)=>{"use strict";n.d(t,{DE:()=>r,U2:()=>d,_A:()=>s});var i=n(33760);const o=i.uW.WIDTH,a=i.uW.HEIGHT,l=30;function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:150,y:125},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const r=e.x-(o+l),s=e.y-(a+l);if(t&&n){const e=document.getElementById(t);if(e){const t=e.getBoundingClientRect();return{left:r+t.x<t.x?t.x:r+t.x,top:s<0?0:s}}}return{left:r<((null===i||void 0===i?void 0:i.x)||0)?(null===i||void 0===i?void 0:i.x)||0:r,top:s<((null===i||void 0===i?void 0:i.y)||0)?(null===i||void 0===i?void 0:i.y)||0:s}}function s(e){const t=window.getComputedStyle(e),n=new DOMMatrixReadOnly(t.transform);return{top:n.m42+parseInt(t.top),left:n.m41+parseInt(t.left)}}function d(e,t){const n=e[0]-t[0],i=e[1]-t[1];return{width:Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),degree:-(180*Math.atan(n/i)/Math.PI+90),left:t[0]+(e[0]-t[0])/2,top:t[1]+(e[1]-t[1])/2}}},15328:(e,t,n)=>{"use strict";n.d(t,{Kd:()=>g,Sk:()=>y,cS:()=>m,gs:()=>u,nI:()=>f,vX:()=>w,wv:()=>p});var i=n(64201),o=n(31253),a=n(35991),l=n(89840),r=n(95657),s=n(23502),d=n.n(s);const c=(0,i.Sn)();let u=null;const p=(e,t)=>{if(!u)return"__NOT_TRANSLATED__";const{id:n,defaultMessage:i}=e,o=(0,u.$t)({id:n,defaultMessage:i||[]},t);return null!==o&&void 0!==o?o:"__NOT_TRANSLATED__"};async function h(e){switch(e){case"en-US":return n.e(695).then(n.t.bind(n,82007,19));case"ja-JP":return n.e(615).then(n.t.bind(n,74422,19));default:return n.e(113).then(n.t.bind(n,53267,19))}}async function v(e){switch(e){case"en-US":return n.e(101).then(n.t.bind(n,32433,19));case"ja-JP":return n.e(628).then(n.t.bind(n,37274,19));default:return n.e(658).then(n.t.bind(n,18607,19))}}async function g(e){const[t,n]=await Promise.all([v(e),h(e)]);return u=(0,o.d)({locale:e,messages:{...t.default,...d()(n.default,(e=>"__NOT_TRANSLATED__"===e))},onError:()=>{}},c),{intl:u,antdLocale:"zh-CN"===e?a.Z:"ja-JP"===e?r.Z:l.Z}}function f(){return u?u.locale:"en-US"}function m(e,t,n){if(n){try{return e.$t({id:"".concat(t,".").concat(n),defaultMessage:[]})}catch{}return n}}function y(e,t){return m(e,"annotation.type",t)}function w(e,t){return m(e,"payment.status",t)}},17481:(e,t,n)=>{"use strict";n.d(t,{GC:()=>y,sz:()=>w,tP:()=>b,x2:()=>C});var i=n(88716),o=n.n(i),a=n(19735),l=n(96271),r=n(91671),s=n(81659),d=n.n(s),c=n(18878),u=n.n(c),p=n(99540),h=n.n(p),v=n(82959),g=n.n(v),f=n(49210),m=n(69151);function y(e,t,n,i){return{id:e,tableNodeID:t.tableNodeID,viewID:t.viewID,type:"h3Tile"===(null===t||void 0===t?void 0:t.layerType)?"h3":(null!==i&&void 0!==i?i:null===t||void 0===t?void 0:t.vectorTile)?"vt":"normal",name:n}}function w(e,t){const n={fillOpacity:.9};if(e){var i;const r="singleChoice"===e.type?(0,a.G)(null===(i=e.typeOptions)||void 0===i?void 0:i.choices):(0,l.BK)().colors;return o()(r)?{}:{fillFieldID:e.id,fillConfig:{fillMethod:(0,m.sI)(e)?"quantile":"ordinal",colors:r,reverse:!1,...n,...t}}}return{fillConfig:{...n,...t}}}function b(e){let{columns:t,cells:n,labelFieldIDs:i=[],items:o,timezone:a,members:l}=e;const s=[],c=[];return null===i||void 0===i||i.forEach(((e,i)=>{var p,v,g,y,w,b,C,x,I;const j=t instanceof Map?t.get(e):t.find((t=>t.id===e)),M=null===o||void 0===o||null===(p=o[i])||void 0===p?void 0:p.hiddenLabel,k=null===o||void 0===o||null===(v=o[i])||void 0===v?void 0:v.hiddenTooltip;if(!j)return;const T=d()(r.P,"number"===(null===j||void 0===j?void 0:j.type)||"lookup"===(null===j||void 0===j?void 0:j.type)?null===j||void 0===j||null===(g=j.typeOptions)||void 0===g?void 0:g.precision:null===j||void 0===j||null===(y=j.typeOptions)||void 0===y?void 0:y.numberPrecision,"number"===(null===j||void 0===j?void 0:j.type)||"lookup"===(null===j||void 0===j?void 0:j.type)?null===j||void 0===j||null===(w=j.typeOptions)||void 0===w?void 0:w.format:null===j||void 0===j||null===(b=j.typeOptions)||void 0===b?void 0:b.numberFormat,"currency"===(null===j||void 0===j||null===(C=j.typeOptions)||void 0===C?void 0:C.format)?null===j||void 0===j||null===(x=j.typeOptions)||void 0===x?void 0:x.numberPrefix:void 0);let E=null===n||void 0===n?void 0:n[j.id];const P=j.name;switch("formula"===j.type?null===(I=j.typeOptions)||void 0===I?void 0:I.expectedType:j.type){case"singleChoice":case"multiChoice":E=(0,m.c8)(E,j);break;case"datetime":case"createTime":case"updateTime":E=null==E?"":(0,f.U)(E,j.typeOptions,a);break;case"lookup":(0,m.oh)(j)||(E=(0,m.c8)(E,j,l,a));break;case"member":case"creator":case"updater":E=(0,m.c8)(E,j,l)}var O,S;(E=(0,m.kE)(j)&&u()(E)?T(h()(E)):E,k)||c.push("".concat(P,": ").concat(null!==(O=E)&&void 0!==O?O:""));M||s.push(null!==(S=E)&&void 0!==S?S:"")})),{label:g()(s).length>0?s.join("\n"):"",tooltip:g()(c).length>0?c.join("\n"):""}}function C(e,t){const{regionDimensionFieldID:n,regionIndexStatsFieldID:i,specifyByFieldID:o}=t,{hideEmpty:a,dimension:l,regionId:r,aggregateBy:s,indexStatsMethod:d}=t.regionConfig;return JSON.stringify({layerNodeID:e,regionId:null!==r&&void 0!==r?r:"",regionDimensionFieldID:null!==n&&void 0!==n?n:"",regionIndexStatsFieldID:null!==i&&void 0!==i?i:"",specifyByFieldID:null!==o&&void 0!==o?o:"",hideEmpty:null!==a&&void 0!==a?a:"",dimension:null!==l&&void 0!==l?l:"",aggregateBy:null!==s&&void 0!==s?s:"",indexStatsMethod:null!==d&&void 0!==d?d:""})}},70093:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});const i=(()=>{const e="MT_PROJECTS";function t(){try{const t=localStorage.getItem(e),n=t?JSON.parse(t):{};if(n&&"object"===typeof n)return n}catch{}return null}function n(n,i,o){const a=t();localStorage.setItem(e,JSON.stringify(a?{...a,[n]:{...a[n],[i]:o}}:{[n]:{[i]:o}}))}function i(e,n){const i=t();return i&&i[e]?i[e][n]:null}return{get:i,set:n,withKey:function(e){return{get:t=>i(t,e),set:(t,i)=>n(t,e,i)}}}})()},69361:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});const i=e=>new Promise((t=>setTimeout(t,e)))},66368:(e,t,n)=>{"use strict";n.d(t,{R1:()=>l,gA:()=>s,lO:()=>a,wf:()=>r});let i=null,o=!1;function a(){return null!==i?i:"feishuDashboard"}function l(){return o}function r(e){i=e}function s(e){o=e}},98403:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>u,LC:()=>p,iR:()=>d,vd:()=>c});var i=n(43179),o=n.n(i),a=n(7336),l=n.n(a),r=n(83177),s=n.n(r);function d(e,t){return t?e.tz(t):e}function c(){return o().tz.guess()}function u(e,t){if(!e)return null;if(!t)return o()(e);return c()===t?o()(e):o()(o()(e).tz(t).format("YYYY-MM-DD HH:mm:ss"))}function p(e,t){return e?t?o().tz(e.format("YYYY-MM-DD HH:mm:ss"),t):e:null}o().extend(l()),o().extend(s())},49015:()=>{},8751:()=>{},83374:()=>{},3417:()=>{},52403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={main:"layout_main__X+Vyw",preview:"layout_preview__DkETk",configPanel:"layout_configPanel__rZZ+N",config:"layout_config__mZC8b",footer:"layout_footer__0G+wu",adSection:"layout_adSection__e+1ut",helpContainer:"layout_helpContainer__zCrAZ",helpBtn:"layout_helpBtn__yuoZI",submitSection:"layout_submitSection__VwoHY",submitBtn:"layout_submitBtn__lAM3B"}},27954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={dialog:"dialog_dialog__W8rCF",confirmDialog:"dialog_confirmDialog__jesD3",plain:"dialog_plain__8jp7f",body:"dialog_body__L4ssY",content:"dialog_content__G08Mq",footer:"dialog_footer__8ZsR4",buttonGroup:"dialog_buttonGroup__rI+vJ",centered:"dialog_centered__gEtB9",footerAddon:"dialog_footerAddon__z1S9E"}},54800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={container:"quickView_container__zDI6U",actions:"quickView_actions__5ZKfT",gridContainer:"quickView_gridContainer__IOo1p",gridName:"quickView_gridName__UKcDk",noData:"quickView_noData__75aBy"}},62945:()=>{},80758:()=>{},65660:()=>{},21440:()=>{}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};n.a=(n,a,l)=>{var r;l&&((r=[]).d=-1);var s,d,c,u=new Set,p=n.exports,h=new Promise(((e,t)=>{c=t,d=e}));h[t]=p,h[e]=e=>(r&&e(r),u.forEach(e),h.catch((e=>{}))),n.exports=h,a((n=>{var a;s=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var a=[];a.d=0,n.then((e=>{l[t]=e,o(a)}),(e=>{l[i]=e,o(a)}));var l={};return l[e]=e=>e(a),l}}var r={};return r[e]=e=>{},r[t]=n,r})))(n);var l=()=>s.map((e=>{if(e[i])throw e[i];return e[t]})),d=new Promise((t=>{(a=()=>t(l)).r=0;var n=e=>e!==r&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));s.map((t=>t[e](n)))}));return a.r?d:l()}),(e=>(e?c(h[i]=e):d(p),o(r)))),r&&r.d<0&&(r.d=0)}})(),(()=>{var e=[];n.O=(t,i,o,a)=>{if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],a=e[c][2];for(var r=!0,s=0;s<i.length;s++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](i[s])))?i.splice(s--,1):(r=!1,a<l&&(l=a));if(r){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"===typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&i;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>l[e]=()=>i[e]));return l.default=()=>i,n.d(a,l),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+({101:"lang-en-m",113:"lang-zh-CN",319:"spatial-analysis-worker",327:"map-lang-zh-CN",401:"map-lang-en",524:"region-layerdata-processor-worker",615:"lang-ja-JP",628:"lang-ja-JP-m",658:"lang-zh-CN-m",695:"lang-en",967:"map-lang-ja-JP",995:"layerdata-processor-worker"}[e]||e)+"."+{32:"bcdfbadd",101:"b5575228",113:"95225bb4",319:"e3fe9a09",327:"31897832",401:"223e0312",408:"75828f28",490:"b4565620",524:"8fe93b77",539:"3c479610",615:"a7de3377",628:"020f714d",658:"80568ddc",695:"048feda4",760:"2ee82a6a",847:"c6b40ce4",919:"0fcb6fa8",967:"52579e5c",995:"83a21ba2"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{408:"71bc0540",760:"9d97be1a",847:"0fd99dc2"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="maptable-frontend:";n.l=(i,o,a,l)=>{if(e[i])e[i].push(o);else{var r,s;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+a){r=u;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+a),r.src=i),e[i]=[o];var p=(t,n)=>{r.onerror=r.onload=null,clearTimeout(h);var o=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),s&&document.head.appendChild(r)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=179,n.p="./",(()=>{var e=e=>new Promise(((t,i)=>{var o=n.miniCssF(e),a=n.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var o=(l=n[i]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(o===e||o===t))return l}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){var l;if((o=(l=a[i]).getAttribute("data-href"))===e||o===t)return l}})(o,a))return t();((e,t,n,i)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=a=>{if(o.onerror=o.onload=null,"load"===a.type)n();else{var l=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=l,s.request=r,o.parentNode.removeChild(o),i(s)}},o.href=t,document.head.appendChild(o)})(e,a,t,i)})),t={179:0,298:0};n.f.miniCss=(n,i)=>{t[n]?i.push(t[n]):0!==t[n]&&{408:1,760:1,847:1}[n]&&i.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}})(),(()=>{n.b=document.baseURI||self.location.href;var e={179:0,298:0};n.f.j=(t,i)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var a=new Promise(((n,i)=>o=e[t]=[n,i]));i.push(o[2]=a);var l=n.p+n.u(t),r=new Error;n.l(l,(i=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",r.name="ChunkLoadError",r.type=a,r.request=l,o[1](r)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,i)=>{var o,a,l=i[0],r=i[1],s=i[2],d=0;if(l.some((t=>0!==e[t]))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(s)var c=s(n)}for(t&&t(i);d<l.length;d++)a=l[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},i=self.webpackChunkmaptable_frontend=self.webpackChunkmaptable_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),n.nc=void 0;var i=n.O(void 0,[24,638,790,190,21,416,997],(()=>n(64407)));i=n.O(i)})();